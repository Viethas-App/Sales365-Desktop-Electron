{"version":3,"file":"default-src_app_cafe_components_bill-detail_sales-payment-card_sales-payment-card_component_t-cd1f54.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC8C4CK,IAAAA,4DAAAA;AAA2FA,IAAAA,oDAAAA;AAC3FA,IAAAA,0DAAAA;;;;;;AAD2FA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAjBvGA,IAAAA,qEAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACAA,IAAAA,oDAAAA;AACDA,IAAAA,0DAAAA;AACHA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAAqBA,IAAAA,oDAAAA;AAAaA,IAAAA,0DAAAA;AAClCA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAEJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,mEAAAA;;;;;;AAjBYA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEjBA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGGA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAKkEA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AA4B7FA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AAEFA,IAAAA,0DAAAA;;;;;AAFEA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAkBJA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AACpDA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;AAETA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA0CA,IAAAA,0DAAAA;AAC/CA,IAAAA,4DAAAA;AACEA,IAAAA,oDAAAA;AAAmEA,IAAAA,0DAAAA;AACvEA,IAAAA,0DAAAA;;;;;AAJQA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEHA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAqBNA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgBA,IAAAA,0DAAAA;AACzBA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;;;;;;;;;AAnIrBA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAgDA,IAAAA,0DAAAA;AACvDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAAQA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA;AACJA,IAAAA,uDAAAA;AAEZA,IAAAA,oDAAAA;;AACFA,IAAAA,0DAAAA;AACMA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAkBA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAmCA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAmCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAmCA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AAC7EA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACrEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACpEA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAsBJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AACjCA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;AAAqBA,IAAAA,0DAAAA;AAC7BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6BA,IAAAA,0DAAAA;AACpCA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAC/BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AAENA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAsCA,IAAAA,0DAAAA;AACzCA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAqCA,IAAAA,0DAAAA;AACxCA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAChCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAwCA,IAAAA,0DAAAA;AACjDA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AACdA,IAAAA,0DAAAA;AACQA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsDA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgDA,IAAAA,0DAAAA;AACzDA,IAAAA,0DAAAA;AAEAA,IAAAA,wDAAAA;AAIAA,IAAAA,wDAAAA;AAMEA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AAEtDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAsDA,IAAAA,0DAAAA;AAE/DA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAA6CA,IAAAA,oDAAAA;AACvBA,IAAAA,0DAAAA;AAC1BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAgCA,IAAAA,0DAAAA;AACtCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AACtDA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;;AArI8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAE3BA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAOXA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;AAM0IA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,eAAAA,yDAAAA;AAAxHA,IAAAA,wDAAAA,aAAAA,6DAAAA,+BAA+B,QAA/B,EAA+BC,qBAA/B;AAGuBD,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACAA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAIVA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AA2B1BA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGVA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGFA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAKNA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAMHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAEOA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AAEAA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGgDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAO/CA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACuCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAIvCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEiDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;AD3HxE,MAAOE,yBAAP,CAAgC;AAapCC,cACUC,MADV,EAESC,WAFT,EAGSC,MAHT,EAISC,WAJT,EAKUC,eALV,EAMUC,WANV,EAOUC,KAPV,EAO+B;AANrB;AACD;AACA;AACA;AACC;AACA;AACA;AAdV,oBAAW,CAAX;AAKA,2CAA2C,KAAKL,WAAL,CAAiBM,4BAAjB,CAA8C,mBAA9C,EAAmEC,+BAA9G;AA+EA,+BAA+B,KAA/B;AAlEC;;AACDC,UAAQ;AACN,SAAKC,cAAL,CAAoB,KAAKC,OAAzB;AACD;;AAEDC,MAAI,CAACC,UAA4B,IAA7B,EAAmCC,gBAA0C,IAA7E,EAAiF;AACnF,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,cAAL,GAAsBD,aAAtB;;AACA,QAAID,OAAO,IAAIC,aAAf,EAA8B;AAC5B,WAAKE,WAAL,GAAmB;AACjBC,gBAAQ,EAAE,KAAKf,MAAL,CAAYgB,gBAAZ,CAA6B,KAAKL,OAAL,CAAaM,WAA1C,CADO;AAEjBC,eAAO,EAAE,KAAKnB,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAKR,OAAL,CAAaS,WAA/C,CAFQ;AAGjBC,mBAAW,EAAE,KAAKC,cAAL,CAAoB,KAAKX,OAAL,CAAaY,YAAjC;AAHI,OAAnB;AAKD,KAND,MAMO,KAAKT,WAAL,GAAmB;AAAEC,cAAQ,EAAE,EAAZ;AAAgBG,aAAO,EAAE,EAAzB;AAA6BG,iBAAW,EAAE;AAA1C,KAAnB;;AACP,SAAKG,WAAL;AACD;;AACDA,aAAW;AACT,SAAKC,QAAL,GAAgB,KAAKZ,cAAL,CAAoBa,MAApB,CAA2B,CAACC,IAAD,EAAeC,IAAf,KAAwBD,IAAI,GAAG,IAAIC,IAAI,CAACC,KAAnE,EAA0E,CAA1E,CAAhB;AAED;;AAEDrB,gBAAc,CAACsB,EAAD,EAAG;AAAA;;AACf,SAAK3B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChEC,aAAO,CAACC,GAAR,CAAY,CACV,KAAKnC,WAAL,CAAiBoC,OAAjB,CAAyBL,EAAzB,CADU,EAEV,KAAK/B,WAAL,CAAiBqC,yBAAjB,CAA2CN,EAA3C,CAFU,CAAZ,EAGGE,IAHH,CAGQ,CAAC,CAACrB,OAAD,EAAUC,aAAV,CAAD,KAAkC;AACxCA,qBAAa,CAACyB,OAAd;AAAA,gJAAsB,WAAOC,OAAP,EAAgBC,KAAhB,EAAyB;AAC7C,gBAAID,OAAO,CAACE,oBAAZ,EAAkC;AAChC,kBAAIC,WAAW,SAAS,KAAI,CAAC1C,WAAL,CAAiB2C,gCAAjB,CAAkDJ,OAAO,CAACE,oBAA1D,CAAxB;AACAF,qBAAO,CAACK,IAAR,GAAeF,WAAW,CAAC,mBAAD,CAA1B;AACAH,qBAAO,CAACM,IAAR,GAAeH,WAAW,CAAC,MAAD,CAA1B;AACAH,qBAAO,CAACO,QAAR,GAAmBJ,WAAW,CAAC,UAAD,CAA9B;AACAH,qBAAO,CAACQ,YAAR,GAAuB,KAAI,CAACC,iBAAL,CAAuBN,WAAW,CAAC,UAAD,CAAlC,CAAvB;AACD;;AACD,gBAAIF,KAAK,IAAI3B,aAAa,CAACoC,MAAd,GAAuB,CAApC,EAAuC;AACrCpC,2BAAa,GAAG,KAAI,CAACX,WAAL,CAAiBgD,mBAAjB,CAAqCrC,aAArC,EAAoD,MAApD,CAAhB;;AACA,mBAAI,CAACF,IAAL,CAAUC,OAAV,EAAmBC,aAAnB;;AACA,mBAAI,CAACT,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B;AACD;AACF,WAbD;;AAAA;AAAA;AAAA;AAAA;AAgBD,OApBD;AAqBD,KAtBD;AAwBD;;AAGDH,mBAAiB,CAACI,IAAD,EAAK;AACpB,QAAIR,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIL,OAAT,IAAoBa,IAApB,EAA0B;AACxB,UAAIC,OAAO,GAAG,KAAKrD,WAAL,CAAiBsD,qBAAjB,CAAuCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAA/F,CAAd;AACAjB,aAAO,CAACK,IAAR,GAAcS,OAAO,CAACT,IAAtB;AACAL,aAAO,CAACkB,IAAR,GAAcJ,OAAO,CAACI,IAAtB;AACAb,UAAI,IAAI,OAASL,OAAO,CAACmB,QAAjB,GAA2B,IAA3B,GAAkCL,OAAO,CAACT,IAA1C,GAAiD,IAAjD,GAAwD,KAAK5C,WAAL,CAAiB2D,eAAjB,CAAiCN,OAAO,CAACO,KAAzC,EAA+CrB,OAAO,CAACsB,KAAvD,EAA+DJ,IAAvH,GAA8H,MAAtI;AACD;;AACD,WAAOb,IAAP;AACD;;AAGDkB,QAAM;AACH,SAAK1D,WAAL,CAAiB2D,SAAjB;AACF;;AAGDC,kBAAgB;AACd,QAAI,KAAKC,WAAL,CAAiB5C,WAAjB,IAAgC,WAApC,EAAiD;AAC/C,WAAK6C,QAAL,GAAgB,KAAKlE,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAK6C,WAAL,CAAiB5C,WAAnD,CAAhB;AACA,WAAK8C,mBAAL,GAA2B,IAA3B;AACD;AACF;;AACDC,mBAAiB,CAACC,CAAD,EAAE;AACjB,SAAKF,mBAAL,GAA2B,KAA3B;AACD;;AAEM5C,gBAAc,CAAC+C,IAAD,EAAgB;AACnC,YAAQA,IAAR;AACE,WAAK,CAAL;AAAQ,eAAO,KAAKnE,eAAL,CAAqBoE,SAArB,CAA+B,MAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,OAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKvE,WAAL,CAAiBwE,cAAjB,CAAgC,KAAK5D,OAAL,CAAa6D,SAA7C,EAAwD7B,IAA/D;AAHV;AAKD;;AACD8B,gBAAc,CAACC,OAAD,EAAkBC,UAAlB,EAAoC;AAChD,QAAIvB,OAAO,GAAG,KAAKrD,WAAL,CAAiB6E,eAAjB,CAAiCF,OAAjC,CAAd;AACA,QAAIG,OAAJ;AACA,QAAIF,UAAJ,EAAgBE,OAAO,GAAGzB,OAAO,CAAC0B,IAAR,CAAaC,IAAb,CAAkBC,IAAI,IAAIA,IAAI,CAACC,GAAL,IAAYN,UAAtC,CAAV;AAChB,WAAO;AAAEhC,UAAI,EAAE,GAAGS,OAAO,GAAGA,OAAO,CAACT,IAAX,GAAkB,EAAE,IAAIkC,OAAO,GAAG,MAAMA,OAAO,CAAClC,IAAd,GAAqB,GAAxB,GAA8B,EAAE;AAAjF,KAAP;AACD;AAGD;;;;;;;;AAMAuC,eAAa,CAACrC,QAAD,EAAgB;AAC3B,QAAIF,IAAI,GAAG,EAAX;AACAE,YAAQ,CAACR,OAAT,CAAiBC,OAAO,IAAG;AACzB,UAAIc,OAAO,GAAG,KAAKrD,WAAL,CAAiBsD,qBAAjB,CAAuCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAA/F,CAAd;AACAjB,aAAO,CAACK,IAAR,GAAcS,OAAO,CAACT,IAAtB;AACAL,aAAO,CAACkB,IAAR,GAAcJ,OAAO,CAACI,IAAtB;AACAb,UAAI,IAAI,OAAOL,OAAO,CAACmB,QAAf,GAA0B,IAA1B,GAAiCL,OAAO,CAACT,IAAzC,GAAgD,IAAhD,GAAuD,KAAK5C,WAAL,CAAiB2D,eAAjB,CAAiCN,OAAO,CAACO,KAAzC,EAAgDrB,OAAO,CAACsB,KAAxD,EAA+DJ,IAAtH,GAA6H,MAArI;AACD,KALD;AAMA,WAAOb,IAAP;AACD;;AAEDwC,eAAa;AACX,QAAI,KAAKnF,MAAL,CAAYoF,iBAAZ,CAA8B,yBAA9B,CAAJ,EAA8D;AAC5D,WAAKjF,WAAL,CAAiBkF,YAAjB,CAA8B,KAAKnF,eAAL,CAAqBoE,SAArB,CAA+B,SAA/B,CAA9B,EAAyE,EAAzE,EAA6E,GAAG,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,0CAA/B,CAA0E,GAA1J,EAA+J,IAA/J,EAAqK,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,QAA/B,CAArK,EACGtC,IADH,CACQ,MAAK;AACT,aAAK7B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChE,eAAKjC,WAAL,CAAiBuF,qBAAjB,CAAuC,KAAK3E,OAAL,CAAasE,GAApD,EAAyDjD,IAAzD,CAA+DuD,IAAD,IAAS;AACrE,gBAAIA,IAAJ,EAAU;AACR,mBAAKpF,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACxC,qBAAK6B,MAAL;AACA,qBAAK1D,WAAL,CAAiBqF,mBAAjB,CAAqC,SAArC,EACE,GAAG,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,eAA/B,CAA+C,IAAI,KAAK3D,OAAL,CAAa8E,SAAS,IAAI,KAAKvF,eAAL,CAAqBoE,SAArB,CAA+B,iCAA/B,CAAiE,EADnJ,EACuJ,eADvJ;AAED,eAJD;AAKD,aAND,MAMO;AACL,mBAAKnE,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACxC,qBAAK7B,WAAL,CAAiBqF,mBAAjB,CAAqC,OAArC,EACE,GAAG,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,4FAA/B,CAA4H,EADjI;AAED,eAHD;AAID;AAEF,WAdD;AAeD,SAhBD;AAiBD,OAnBH,EAmBK,MAAK,CAAI,CAnBd;AAoBD,KArBD,MAqBO,KAAKnE,WAAL,CAAiBuF,SAAjB,CAA2B,IAA3B,EAAiC,KAAKxF,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAjC,EAAgG,aAAhG;AACR;;AACMqB,eAAa,CAACzE,OAAD,EAAQ;AAC1B,WAAO,CAACA,OAAO,CAAC0E,OAAR,GAAkB1E,OAAO,CAAC0E,OAA1B,GAAoC,EAArC,KACJ1E,OAAO,CAAC2E,QAAR,GAAmB,OAAO3E,OAAO,CAAC2E,QAAlC,GAA6C,EADzC,KAEJ3E,OAAO,CAAC4E,QAAR,GAAmB,OAAO5E,OAAO,CAAC4E,QAAlC,GAA6C,EAFzC,KAGJ5E,OAAO,CAAC6E,OAAR,GAAkB,OAAO7E,OAAO,CAAC6E,OAAjC,GAA2C,EAHvC,CAAP;AAID;;AAEDC,cAAY;AACV,QAAIC,KAAK,GAAG,KAAKlG,WAAL,CAAiBmG,iBAAjB,CAAmC,iCAAnC,CAAZ;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4BhC,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASgB,KAAK,CAACI,kBAAhD,CAAlB,EAAuFC,MAApG,EAA4G;AAC1G,UAAIC,OAAO,GAAIN,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4BhC,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASgB,KAAK,CAACI,kBAAhD,CAAlB,CAAf;;AACA,UAAIE,OAAJ,EAAa;AACX,YAAIlC,IAAI,GAAGkC,OAAO,CAACtB,GAAnB;AACA,aAAK9E,WAAL,CAAiBqG,SAAjB,CAA2B,KAAKC,eAAL,CAAqBpC,IAArB,CAA3B,EAAuD;AAAEkC,iBAAO,EAAEA,OAAX;AAAoB1F,wBAAc,EAAG,KAAKA,cAA1C;AAA0DF,iBAAO,EAAE,KAAKA;AAAxE,SAAvD,EAA0I,KAA1I,EAAiJ,KAAjJ,EAAwJ,eAAe0D,IAAI,EAA3K,EAA+KrC,IAA/K,CAAqL5B,KAAD,IAAU,CAE7L,CAFD;AAGD;AACF,KARD,MAQK;AACH,WAAKA,KAAL,CAAWsG,OAAX,CAAmB;AACjBC,eAAO,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBsC,iBAAS,EAAE,QAAQ,KAAK1G,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBuC,kBAAU,EAAE,aAHK;AAIjBC,oBAAY,EAAE,IAJG;AAKjBC,cAAM,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,IAAZ;AALG,OAAnB;AAOD;AAEF;AAGD;;;;;;;AAKQR,iBAAe,CAACpC,IAAD,EAA0G;AAC/H,YAAQA,IAAR;AACE,WAAK,mBAAL;AAA0B,eAAO/E,gLAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,gLAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,gLAAP;;AAC1B,WAAK,eAAL;AAAsB,eAAOC,+JAAP;;AACtB,WAAK,eAAL;AAAsB,eAAOJ,+JAAP;;AACtB;AAAS,eAAOA,+JAAP;AANX;AAQD;;AAzMmC;;;mBAAzBO,2BAAyBF,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,uDAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,mFAAAA,GAAAA,+DAAAA,CAAAA,0FAAAA,GAAAA,+DAAAA,CAAAA,gEAAAA;AAAA;;;QAAzBE;AAAyBsH;AAAAC;AAAA1G;AAAA;AAAA2G;AAAAC;AAAAC;AAAAC;AAAA;AClBtC7H,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAAuCA,MAAAA,wDAAAA;AAAA,eAAS8H,YAAT;AAAiB,OAAjB;AACnC9H,MAAAA,uDAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAwIJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;;;;AAzI4BA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC8C4CA,IAAAA,4DAAAA;AAA2FA,IAAAA,oDAAAA;AAC3FA,IAAAA,0DAAAA;;;;;;AAD2FA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAjBvGA,IAAAA,qEAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACAA,IAAAA,oDAAAA;AACDA,IAAAA,0DAAAA;AACHA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAAqBA,IAAAA,oDAAAA;AAAaA,IAAAA,0DAAAA;AAClCA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAEJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,mEAAAA;;;;;;AAjBYA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEjBA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGGA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAKkEA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AA4B7FA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AAEFA,IAAAA,0DAAAA;;;;;AAFEA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAkBJA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AACpDA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;AAETA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA0CA,IAAAA,0DAAAA;AAC/CA,IAAAA,4DAAAA;AACEA,IAAAA,oDAAAA;AAAmEA,IAAAA,0DAAAA;AACvEA,IAAAA,0DAAAA;;;;;AAJQA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEHA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAqBNA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgBA,IAAAA,0DAAAA;AACzBA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;;;;;;;;;AAnIrBA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAAQA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA;AACJA,IAAAA,uDAAAA;AAEZA,IAAAA,oDAAAA;;AACFA,IAAAA,0DAAAA;AACMA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAkBA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACvDA,IAAAA,4DAAAA;AAAmCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACxEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACrEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACpEA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAsBJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AACjCA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;AAAqBA,IAAAA,0DAAAA;AAC7BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6BA,IAAAA,0DAAAA;AACpCA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAC/BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AAENA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAsCA,IAAAA,0DAAAA;AACzCA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAqCA,IAAAA,0DAAAA;AACxCA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAChCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAwCA,IAAAA,0DAAAA;AACjDA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AACdA,IAAAA,0DAAAA;AACQA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsDA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgDA,IAAAA,0DAAAA;AACzDA,IAAAA,0DAAAA;AAEAA,IAAAA,wDAAAA;AAIAA,IAAAA,wDAAAA;AAMEA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AAEtDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAsDA,IAAAA,0DAAAA;AAE/DA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAA6CA,IAAAA,oDAAAA;AACvBA,IAAAA,0DAAAA;AAC1BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAgCA,IAAAA,0DAAAA;AACtCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AACtDA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;;AArI8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAE3BA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAOXA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;AAM0IA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,eAAAA,yDAAAA;AAAxHA,IAAAA,wDAAAA,aAAAA,6DAAAA,+BAA+B,QAA/B,EAA+BC,qBAA/B;AAGuBD,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACAA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAIVA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AA2B1BA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGVA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGFA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAKNA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAMHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAEOA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AAEAA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGgDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAO/CA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACuCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAIvCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEiDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;AD5HxE,MAAOoI,qBAAP,CAA4B;AAWhCjI,cACUC,MADV,EAESC,WAFT,EAGSC,MAHT,EAISC,WAJT,EAKUC,eALV,EAMUC,WANV,EAOUC,KAPV,EAQU2H,KARV,EASSC,OATT,EASyB;AARf;AACD;AACA;AACA;AACC;AACA;AACA;AACA;AACD;AAdT,oBAAW,CAAX;AAGO,+BAA+B,KAA/B;AAaN;;AAGDtH,MAAI,CAACC,UAA4B,IAA7B,EAAmCC,gBAA0C,IAA7E,EAAiF;AACnF,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,cAAL,GAAsBD,aAAtB;;AACA,QAAID,OAAO,IAAIC,aAAf,EAA8B;AAC5B,WAAKE,WAAL,GAAmB;AACjBC,gBAAQ,EAAE,KAAKf,MAAL,CAAYgB,gBAAZ,CAA6B,KAAKL,OAAL,CAAaM,WAA1C,CADO;AAEjBC,eAAO,EAAE,KAAKnB,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAKR,OAAL,CAAaS,WAA/C,CAFQ;AAGjBC,mBAAW,EAAE,KAAKC,cAAL,CAAoB,KAAKX,OAAL,CAAaY,YAAjC;AAHI,OAAnB;AAKD,KAND,MAMO,KAAKT,WAAL,GAAmB;AAAEC,cAAQ,EAAE,EAAZ;AAAgBG,aAAO,EAAE,EAAzB;AAA6BG,iBAAW,EAAE;AAA1C,KAAnB;;AACP,SAAKG,WAAL;AACD;;AACDA,aAAW;AACT,SAAKC,QAAL,GAAgB,KAAKZ,cAAL,CAAoBa,MAApB,CAA2B,CAACC,IAAD,EAAeC,IAAf,KAAwBD,IAAI,GAAG,IAAIC,IAAI,CAACC,KAAnE,EAA0E,CAA1E,CAAhB;AAED;;AACDoG,oBAAkB;AAChB,QAAIC,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,KACJD,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CADI,IAEJD,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAFI,IAGJD,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAHA,EAGiD;AAC/C,WAAKC,WAAL,GACEF,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,EAAsDE,YAAtD,GACAH,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CE,YAD3C,GAEAH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCE,YAFtC,GAGAH,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,EAAgDE,YAHhD,GAG+D,EAH/D,GAGoE,IAJtE;AAKD;;AAED,SAAKN,KAAL,CAAWO,aAAX;AACD;;AAEDC,oBAAkB;AAChB,SAAK/H,cAAL,CAAoB,KAAKC,OAAzB;AACD;;AACOD,gBAAc,CAACsB,EAAD,EAAG;AACvB,SAAK3B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChEC,aAAO,CAACC,GAAR,CAAY,CACV,KAAKnC,WAAL,CAAiBoC,OAAjB,CAAyBL,EAAzB,CADU,EAEV,KAAK/B,WAAL,CAAiBqC,yBAAjB,CAA2CN,EAA3C,CAFU,CAAZ,EAGGE,IAHH,CAGQ,CAAC,CAACrB,OAAD,EAAUC,aAAV,CAAD,KAAkC;AACxCoG,eAAO,CAACC,GAAR,CAAYtG,OAAZ,EAAqBC,aAArB;AAEA,YAAI4H,kBAAkB,GAA6B,EAAnD;;AACA,YAAI5H,aAAa,CAACoC,MAAd,IAAwBpC,aAAa,CAAC,CAAD,CAAb,CAAiB6H,UAA7C,EAAyD;AACvD,cAAIC,OAAO,GAAG,IAAIC,KAAJ,EAAd;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhI,aAAa,CAACoC,MAAlC,EAA0C4F,CAAC,EAA3C,EAA+C;AAC7CF,mBAAO,CAACE,CAAD,CAAP,GAAa,KAAK7I,WAAL,CAAiB8I,UAAjB,CAA4BjI,aAAa,CAACgI,CAAD,CAAb,CAAiBH,UAA7C,CAAb;AACD;;AACD,eAAKT,OAAL,CAAac,eAAb,CAA6BJ,OAA7B,EAAsC1G,IAAtC,CAA4C+G,KAAD,IAAU;AACnDP,8BAAkB,GAAGO,KAAK,CAACC,GAAN,CAAU,CAAChE,IAAD,EAAMzC,KAAN,KAAe;AAAG,qDAAWyC,IAAX,GAAmBpE,aAAa,CAAC2B,KAAD,CAAhC;AAAyC,aAArE,CAArB;AACA,iBAAK7B,IAAL,CAAUC,OAAV,EAAmB6H,kBAAnB;AACD,WAHD,EAGES,KAAK,IAAG;AACRjC,mBAAO,CAACC,GAAR,CAAYgC,KAAZ;AACD,WALD;AAMD;;AACD,aAAK9I,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B;AACD,OApBD;AAqBD,KAtBD;AAyBD,GArF+B,CAuFhC;;;AACAgC,eAAa,CAACrC,QAAD,EAAgB;AAC3B,QAAIF,IAAI,GAAG,EAAX;AACAE,YAAQ,CAACR,OAAT,CAAiBC,OAAO,IAAG;AACzB,UAAIc,OAAO,GAAG,KAAKrD,WAAL,CAAiBsD,qBAAjB,CAAuCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAA/F,CAAd;AACAZ,UAAI,IAAI,OAAKL,OAAO,CAACmB,QAAb,GAAuB,IAAvB,GAAgCL,OAAO,CAACT,IAAxC,GAA+C,IAA/C,GAAsD,KAAK5C,WAAL,CAAiB2D,eAAjB,CAAiCN,OAAO,CAACO,KAAzC,EAA+CrB,OAAO,CAACsB,KAAvD,EAA+DJ,IAArH,GAA4H,MAApI;AACD,KAHD;AAIA,WAAOb,IAAP;AACD;;AAEDkB,QAAM;AACJ,SAAK1D,WAAL,CAAiB2D,SAAjB;AAED;;AAGDqB,eAAa;AACX,QAAI,KAAKnF,MAAL,CAAYoF,iBAAZ,CAA8B,yBAA9B,CAAJ,EAA8D;AAC5D,WAAKjF,WAAL,CAAiBkF,YAAjB,CAA8B,KAAKnF,eAAL,CAAqBoE,SAArB,CAA+B,SAA/B,CAA9B,EAAyE,EAAzE,EAA6E,GAAG,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qCAA/B,CAAqE,GAArJ,EAA0J,IAA1J,EAAgK,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,QAA/B,CAAhK,EACGtC,IADH,CACQ,MAAK;AACT,aAAK7B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChE,eAAKjC,WAAL,CAAiBuF,qBAAjB,CAAuC,KAAK3E,OAAL,CAAasE,GAApD,EAAyDjD,IAAzD,CAA+DuD,IAAD,IAAS;AAC/E,gBAAGA,IAAH,EAAQ;AACP,mBAAKpF,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACzC,qBAAK7B,WAAL,CAAiBqF,mBAAjB,CAAqC,SAArC,EACE,GAAG,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,eAA/B,CAA+C,IAAI,KAAK3D,OAAL,CAAa8E,SAAS,IAAI,KAAKvF,eAAL,CAAqBoE,SAArB,CAA+B,iCAA/B,CAAiE,EADnJ;AAEA,qBAAKxE,MAAL,CAAYoJ,QAAZ,CAAqB,CAAC,qBAAD,CAArB;AACA,eAJD;AAKA,aAND,MAMK;AACJ,mBAAK/I,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACzC,qBAAK7B,WAAL,CAAiBqF,mBAAjB,CAAqC,OAArC,EACE,GAAG,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,kFAA/B,CAAkH,EADvH;AAEA,eAHD;AAIA;AAEQ,WAdD;AAeD,SAhBD;AAiBD,OAnBH,EAmBK,MAAK,CAAI,CAnBd;AAoBD,KArBD,MAsBK,KAAKnE,WAAL,CAAiBqF,mBAAjB,CAAqC,OAArC,EAA8C,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAA9C;AACN;;AAEDP,kBAAgB;AACd,QAAI,KAAKC,WAAL,CAAiB5C,WAAjB,IAAgC,WAApC,EAAiD;AAC/C,WAAK6C,QAAL,GAAgB,KAAKlE,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAK6C,WAAL,CAAiB5C,WAAnD,CAAhB;AACA,WAAK8C,mBAAL,GAA2B,IAA3B;AACD;AACF;;AAEDC,mBAAiB,CAACC,CAAD,EAAE;AACjB,SAAKF,mBAAL,GAA2B,KAA3B;AAED;;AAEM5C,gBAAc,CAAC+C,IAAD,EAAgB;AACnC,YAAQA,IAAR;AACE,WAAK,CAAL;AAAQ,eAAO,KAAKnE,eAAL,CAAqBoE,SAArB,CAA+B,MAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,OAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKvE,WAAL,CAAiBwE,cAAjB,CAAgC,KAAK5D,OAAL,CAAa6D,SAA7C,EAAwD7B,IAA/D;AAHV;AAKD;AAID;;;AACAwG,aAAW,CAACC,GAAD,EAAW;AACpB,QAAIC,OAAO,GAAW,EAAtB;AACAD,OAAG,CAAC/G,OAAJ,CAAY2C,IAAI,IAAG;AACjB,UAAIqE,OAAO,CAACrG,MAAZ,EACEqG,OAAO,IAAI,KAAKrE,IAAI,CAACvB,QAAQ,IAAIuB,IAAI,CAACrC,IAAI,EAA1C,CADF,KAEK0G,OAAO,IAAI,GAAGrE,IAAI,CAACvB,QAAQ,IAAIuB,IAAI,CAACrC,IAAI,EAAxC;AACN,KAJD;AAKA,WAAO0G,OAAP;AACD;;AAEM1D,eAAa,CAACzE,OAAD,EAAQ;AAC1B,WAAO,CAACA,OAAO,CAAC0E,OAAR,GAAkB1E,OAAO,CAAC0E,OAA1B,GAAoC,EAArC,KACJ1E,OAAO,CAAC2E,QAAR,GAAmB,OAAO3E,OAAO,CAAC2E,QAAlC,GAA6C,EADzC,KAEJ3E,OAAO,CAAC4E,QAAR,GAAmB,OAAO5E,OAAO,CAAC4E,QAAlC,GAA6C,EAFzC,KAGJ5E,OAAO,CAAC6E,OAAR,GAAkB,OAAO7E,OAAO,CAAC6E,OAAjC,GAA2C,EAHvC,CAAP;AAID;;AAEDC,cAAY;AACV,QAAIC,KAAK,GAAG,KAAKlG,WAAL,CAAiBmG,iBAAjB,CAAmC,4BAAnC,CAAZ;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4BhC,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASgB,KAAK,CAACI,kBAAhD,CAAlB,EAAuFC,MAApG,EAA4G;AAC1G,UAAIC,OAAO,GAAIN,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4BhC,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASgB,KAAK,CAACI,kBAAhD,CAAlB,CAAf;;AACA,UAAIE,OAAJ,EAAa;AACX,YAAIlC,IAAI,GAAGkC,OAAO,CAACtB,GAAnB;AACA,aAAK9E,WAAL,CAAiBqG,SAAjB,CAA2B,KAAKC,eAAL,CAAqBpC,IAArB,CAA3B,EAAuD;AAAEkC,iBAAO,EAAEA,OAAX;AAAqB5F,iBAAO,EAAE,KAAKA,OAAnC;AAA6CE,wBAAc,EAAG,KAAKA;AAAnE,SAAvD,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,eAAewD,IAAI,EAA5K,EAAgLrC,IAAhL,CAAsL5B,KAAD,IAAU,CAE9L,CAFD;AAGD,OALD,MAMI;AACF,aAAKA,KAAL,CAAWsG,OAAX,CAAmB;AACjBC,iBAAO,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBsC,mBAAS,EAAE,QAAQ,KAAK1G,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBuC,oBAAU,EAAE,aAHK;AAIjBC,sBAAY,EAAE,IAJG;AAKjBC,gBAAM,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,IAAZ;AALG,SAAnB;AAOD;AACF,KAjBD,MAkBI;AACF,WAAK7G,KAAL,CAAWsG,OAAX,CAAmB;AACjBC,eAAO,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBsC,iBAAS,EAAE,QAAQ,KAAK1G,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBuC,kBAAU,EAAE,aAHK;AAIjBC,oBAAY,EAAE,IAJG;AAKjBC,cAAM,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,IAAZ;AALG,OAAnB;AAOD;AACF;AAGD;;;;;;;AAKQR,iBAAe,CAACpC,IAAD,EAA0G;AAC/H,YAAQA,IAAR;AACE,WAAK,mBAAL;AAA0B,eAAOoD,6JAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,6JAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,6JAAP;;AAC1B,WAAK,eAAL;AAAsB,eAAOC,4IAAP;;AACtB,WAAK,eAAL;AAAsB,eAAOC,4IAAP;;AACtB;AAAS,eAAOA,4IAAP;AANX;AAQD;;AAvN+B;;;mBAArBC,uBAAqBpI,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,sDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,mFAAAA,GAAAA,+DAAAA,CAAAA,0FAAAA,GAAAA,+DAAAA,CAAAA,gEAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,uDAAAA;AAAA;;;QAArBoI;AAAqBZ;AAAAC;AAAA1G;AAAA;AAAA2G;AAAAC;AAAAC;AAAAC;AAAA;ACjBlC7H,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAAuCA,MAAAA,wDAAAA;AAAA,eAAS8H,YAAT;AAAiB,OAAjB;AACnC9H,MAAAA,uDAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAwIJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;;;;AAzI4BA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVwF;AACA;AACA;AACjB;AACA;AAIa;;;;;;;;;;;;;;;;IC2C9E,wEAAgC;IAC5B,sEAAK;IAAA,uDAA+C;IAAA,4DAAM;IAAC,gEAAI;IACnE,qEAAe;;;;IADN,0DAA+C;IAA/C,4HAA+C;;;IAMhD,wEAAiC;IAC7B,0EAC0C;IAAA,uDAAiD;IAAA,4DAAM;IACrG,qEAAe;;;;IAD+B,0DAAiD;IAAjD,8HAAiD;;;IALnG,2EAAyD;IACrD,uDAEA;IAAA,iMAGe;IAAA,6DACnB;IAAA,4DAAO;;;;IANH,0DAEA;IAFA,8KAEA;IAAe,0DAAgB;IAAhB,gFAAgB;;;IAJvC,wEAAkC;IAC9B,0KAOO;IACX,qEAAe;;;IAR8B,0DAAc;IAAd,oFAAc;;;IAgB3D,0EAAwE;IACpE,uDAEJ;IAAA,4DAAM;;;;IAFF,0DAEJ;IAFI,mLAEJ;;;IAEJ,oEAAwD;;;IAiBxD,yEAAoD;IAAA,uDAA6G;;IAAA,4DAAK;;;IAAlH,0DAA6G;IAA7G,4PAA6G;;;IAbrK,yEAAkE;IAC9D,qEAAI;IACA,2EAAiD;IAAA,uDAAe;IAAA,4DAAO;IAC3E,4DAAK;IACL,yEAAqB;IAAA,uDAAmC;;IAAA,4DAAK;IAC7D,yEAAoB;IAChB,uDACA;IAAA,0EAAgC;IAC5B,wDAGJ;IAAA,4DAAM;IACV,4DAAK;IACL,+JAAsK;IACtK,0EAAoB;IAAA,qEAAG;IAAA,wDACA;IAAA,4DAAI;IAC3B,4DAAK;IACT,4DAAK;;;;IAfoD,0DAAe;IAAf,gFAAe;IAE/C,0DAAmC;IAAnC,8JAAmC;IAEpD,0DACA;IADA,gIACA;IACI,0DAGJ;IAHI,yLAGJ;IAEmB,0DAA2B;IAA3B,+FAA2B;IAC3B,0DACA;IADA,2IACA;;;IAhD/B,wEAAiD;IAC7C,yEAA8B;IAC1B,qEAAI;IACA,uDAAc;IAAA,gEAAI;IAClB,2KAEe;IACf,2KASe;IACnB,4DAAK;IACL,yEAAqB;IACjB,uDACJ;IAAA,4DAAK;IACL,yEAAqB;IAAA,wDAAiB;IAAA,4DAAK;IAC3C,0EAAoB;IAChB,wDACA;IAAA,2JAGM;IACV,4DAAK;IACL,yJAAwD;IACxD,0EAAoB;IAAA,qEAAG;IAAA,wDACF;IAAA,4DAAI;IAAA,4DAAK;IAClC,4DAAK;IACL,0JAiBK;IACT,qEAAe;;;;IAhDH,0DAAc;IAAd,yFAAc;IACC,0DAAe;IAAf,+EAAe;IAGf,0DAAiB;IAAjB,iFAAiB;IAYhC,0DACJ;IADI,2HACJ;IACqB,0DAAiB;IAAjB,kFAAiB;IAElC,0DACA;IADA,8HACA;IAAiC,0DAAqC;IAArC,yGAAqC;IAKpD,0DAA2B;IAA3B,+FAA2B;IAC1B,0DACF;IADE,uIACF;IAEuB,0DAAgB;IAAhB,sFAAgB;;;IAsBxD,wEAAgC;IAC5B,uDAAgD;IAAA,gEAAI;IACxD,qEAAe;;;;IADX,0DAAgD;IAAhD,uIAAgD;;;IAM5C,wEAAiC;IAC7B,0EACyC;IAAA,uDAAiD;IAAA,4DAAM;IACpG,qEAAe;;;;IAD8B,0DAAiD;IAAjD,8HAAiD;;;IALlG,2EACsC;IAAA,uDAElC;IAAA,iMAGe;IAAA,6DACnB;IAAA,4DAAO;;;;IAN+B,0DAElC;IAFkC,6KAElC;IAAe,0DAAgB;IAAhB,gFAAgB;;;IAJvC,wEAAkC;IAC9B,0KAOO;IACX,qEAAe;;;IAPW,0DAAc;IAAd,oFAAc;;;IAexC,0EAAwE;IACpE,uDAEJ;IAAA,4DAAM;;;;IAFF,0DAEJ;IAFI,mLAEJ;;;IAEJ,oEAAwD;;;IAiBxD,yEAAoD;IAAA,uDAA6G;;IAAA,4DAAK;;;IAAlH,0DAA6G;IAA7G,4PAA6G;;;IAbrK,yEAAkE;IAC9D,qEAAI;IACA,2EAAiD;IAAA,uDAAe;IAAA,4DAAO;IAC3E,4DAAK;IACL,yEAAqB;IAAA,uDAAmC;;IAAA,4DAAK;IAC7D,yEAAoB;IAChB,uDACA;IAAA,0EAAgC;IAC5B,wDAGJ;IAAA,4DAAM;IACV,4DAAK;IACL,+JAAsK;IACtK,0EAAoB;IAAA,qEAAG;IAAA,wDACA;IAAA,4DAAI;IAC3B,4DAAK;IACT,4DAAK;;;;IAfoD,0DAAe;IAAf,gFAAe;IAE/C,0DAAmC;IAAnC,8JAAmC;IAEpD,0DACA;IADA,gIACA;IACI,0DAGJ;IAHI,yLAGJ;IAEmB,0DAA2B;IAA3B,+FAA2B;IAC3B,0DACA;IADA,2IACA;;;IA/C/B,wEAAsD;IAClD,qEAAM;IACF,qEAAI;IAAA,uDAAc;IAAA,oEAAG;IAAA,uDAAwB;;IAAA,4DAAI;IAAA,gEAAI;IACjD,2KAEe;IACf,2KASe;IACnB,4DAAK;IACL,0EAAqB;IACjB,wDACJ;IAAA,4DAAK;IACL,0EAAqB;IAAA,wDAAiB;IAAA,4DAAK;IAC3C,0EAAoB;IAChB,wDACA;IAAA,2JAGM;IACV,4DAAK;IACL,yJAAwD;IACxD,0EAAoB;IAAA,qEAAG;IAAA,wDACF;IAAA,4DAAI;IAAA,4DAAK;IAClC,4DAAK;IACL,0JAiBK;IACT,qEAAe;;;;IAhDH,0DAAc;IAAd,wFAAc;IAAG,0DAAwB;IAAxB,oJAAwB;IAC1B,0DAAe;IAAf,+EAAe;IAGf,0DAAiB;IAAjB,iFAAiB;IAYhC,0DACJ;IADI,2HACJ;IACqB,0DAAiB;IAAjB,kFAAiB;IAElC,0DACA;IADA,8HACA;IAAiC,0DAAqC;IAArC,yGAAqC;IAKpD,0DAA2B;IAA3B,+FAA2B;IAC1B,0DACF;IADE,uIACF;IAEuB,0DAAgB;IAAhB,sFAAgB;;;IAxFxE,wEAAwC;IACpC,yEAA6B;IACzB,yEAAgB;IAAA,oEAAG;IAAA,uDAAa;IAAA,4DAAI;IAAA,4DAAK;IAC7C,4DAAK;IACL,8JAmDe;IACf,8JAkDe;IAGnB,qEAAe;;;IA3GY,0DAAa;IAAb,8EAAa;IAEL,0DAAgB;IAAhB,sFAAgB;IAoDhB,0DAAqB;IAArB,2FAAqB;;;IAyDhD,wEAAyC;IACrC,gEAAI;IAAA,uEAAM;IAAA,uDAAsD;IAAA,4DAAO;IAC3E,qEAAe;;;;IADD,0DAAsD;IAAtD,sJAAsD;;;IAQxD,wEAAiC;IAC7B,0EAC0C;IAAA,uDAAiD;IAAA,4DAAM;IACrG,qEAAe;;;;IAD+B,0DAAiD;IAAjD,8HAAiD;;;IALnG,2EAAyD;IACrD,uDAEA;IAAA,uLAGe;IAAA,6DACnB;IAAA,4DAAO;;;;IANH,0DAEA;IAFA,8KAEA;IAAe,0DAAgB;IAAhB,gFAAgB;;;IAJvC,wEAAkC;IAC9B,gKAOO;IACX,qEAAe;;;IAR8B,0DAAc;IAAd,oFAAc;;;IAF/D,wEAAsC;IAClC,iKASe;IACnB,qEAAe;;;IAVI,0DAAiB;IAAjB,iFAAiB;;;IAWpC,wEAA+E;IAC3E,2EAAuB;IACnB,uDAA8C;IAAA,4DAAO;IAAA,gEAAI;IACjE,qEAAe;;;IADP,0DAA8C;IAA9C,+HAA8C;;;IAa1D,yEAAoD;IAAA,uDAAqG;;IAAA,4DAAK;;;IAA1G,0DAAqG;IAArG,oPAAqG;;;;IAlC7J,yEAAwD;IACpD,qEAAI;IACA,uDACA;IAAA,kJAEe;IACf,gEAAI;IACJ,kJAWe;IACf,kJAGe;IACnB,4DAAK;IACL,qEAAI;IAAC,uDAAoC;IAAA,4DAAK;IAC9C,yEAAqB;IAAA,wDAAiC;;IAAA,4DAAK;IAC3D,0EAAoB;IAChB,wDACA;IAAA,2EAAgC;IAC5B,wDAGJ;IAAA,4DAAM;IACV,4DAAK;IACL,gIAA8J;IAC9J,0EAAoB;IAAA,qEAAG;IAAA,wDACF;IAAA,4DAAI;IACzB,4DAAK;IACT,4DAAK;;;;IApCG,0DACA;IADA,yFACA;IAAe,0DAAwB;IAAxB,wFAAwB;IAIxB,0DAAqB;IAArB,qFAAqB;IAYD,0DAA0C;IAA1C,uLAA0C;IAK5E,0DAAoC;IAApC,4HAAoC;IACpB,0DAAiC;IAAjC,8JAAiC;IAElD,0DACA;IADA,8HACA;IACI,0DAGJ;IAHI,mLAGJ;IAEmB,0DAA2B;IAA3B,+FAA2B;IAC3B,0DACF;IADE,uIACF;;;IAkBrB,yEAAoD;IAAA,uDAAqG;;IAAA,4DAAK;;;IAA1G,0DAAqG;IAArG,oPAAqG;;;IAf7J,yEAAgE;IAC5D,qEAAI;IACA,2EAAiD;IAAA,uDAAa;IAAA,4DAAO;IAEzE,4DAAK;IACL,qEAAI;IAAC,uDAA2B;IAAA,4DAAK;IACrC,yEAAqB;IAAA,uDAAiC;;IAAA,4DAAK;IAC3D,yEAAoB;IAChB,wDACA;IAAA,2EAAgC;IAC5B,wDAGJ;IAAA,4DAAM;IACV,4DAAK;IACL,gIAA8J;IAC9J,0EAAoB;IAAA,qEAAG;IAAA,wDACF;IAAA,4DAAI;IACzB,4DAAK;IACT,4DAAK;;;;IAjBoD,0DAAa;IAAb,8EAAa;IAG7D,0DAA2B;IAA3B,+GAA2B;IACX,0DAAiC;IAAjC,4JAAiC;IAElD,0DACA;IADA,8HACA;IACI,0DAGJ;IAHI,mLAGJ;IAEmB,0DAA2B;IAA3B,+FAA2B;IAC3B,0DACF;IADE,uIACF;;;IAvK3B,wEAA0D;IACxD,6IA6Ge;IACf,2HAsCK;IACL,2HAmBK;IAGT,qEAAe;;;IA3KI,0DAAuB;IAAvB,uFAAuB;IA8GR,0DAAwB;IAAxB,wFAAwB;IAuCR,0DAAgB;IAAhB,sFAAgB;;;IAiDtE,0EAAuE;IACrE,uDACF;;IAAA,4DAAM;;;IADJ,0DACF;IADE,4KACF;;;IACA,0EAAuE;IACrE,uDACF;;IAAA,4DAAM;;;IADJ,0DACF;IADE,qNACF;;;IACA,0EAAuE;IACrE,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,4HACF;;;IACA,0EAAkG;IAChG,uDAEF;IAAA,4DAAM;;;IAFJ,0DAEF;IAFE,6OAEF;;;IAgBA,0EAC+F;IAC7F,sEAAK;IAAA,uDAA0B;;IAAA,4DAAM;IACrC,sEAAK;IAAA,uDAAyD;IAAA,4DAAM;IACtE,4DAAM;;;IAFC,0DAA0B;IAA1B,4IAA0B;IAC1B,0DAAyD;IAAzD,oIAAyD;;;IAEhE,0EAC+F;IAC7F,sEAAK;IAAA,uDAA+B;;IAAA,4DAAM;IAC1C,sEAAK;IAAA,uDAA0D;IAAA,4DAAM;IACvE,4DAAM;;;IAFC,0DAA+B;IAA/B,iJAA+B;IAC/B,0DAA0D;IAA1D,qIAA0D;;;IAEjE,0EAC+F;IAC7F,sEAAK;IAAA,uDAAgC;;IAAA,4DAAM;IAC3C,sEAAK;IAAA,uDAA2D;IAAA,4DAAM;IACxE,4DAAM;;;IAFC,0DAAgC;IAAhC,kJAAgC;IAChC,0DAA2D;IAA3D,sIAA2D;;;IAIlE,0EAAmG;IACjG,uEAAM;IAAA,uDAAqB;;IAAA,4DAAO;IAClC,sEAAK;IAAA,uDAAgD;IAAA,4DAAM;IAC7D,4DAAM;;;IAFE,0DAAqB;IAArB,uIAAqB;IACtB,0DAAgD;IAAhD,2HAAgD;;;IAEvD,0EAAmG;IACjG,uEAAM;IAAA,uDAAqB;;IAAA,4DAAO;IAClC,sEAAK;IAAA,uDAA+C;IAAA,4DAAM;IAC1D,sEAAK;IACH,uDAAqD;IAAA,4DAAM;IAC/D,4DAAM;;;IAJE,0DAAqB;IAArB,uIAAqB;IACtB,0DAA+C;IAA/C,8HAA+C;IAElD,0DAAqD;IAArD,4IAAqD;;;IAWzD,0EAAqG;IACnG,uEAAM;IAAA,uDAAsB;;IAAA,4DAAO;IACnC,0EAA6C;IAC3C,uDAAoF;IAAA,4DAAM;IAC9F,4DAAM;;;IAHE,0DAAsB;IAAtB,wIAAsB;IAE1B,0DAAoF;IAApF,mLAAoF;;;IAMxF,0EAAqG;IACnG,uEAAM;IAAA,uDAAsB;;IAAA,4DAAO;IACnC,sEAAK;IAAA,uDAAqB;IAAA,4DAAM;IAClC,4DAAM;;;IAFE,0DAAsB;IAAtB,wIAAsB;IACvB,0DAAqB;IAArB,0FAAqB;;;;AD7S/B,MAAM,cAAc;IAQzB,YACU,WAAwB,EACxB,eAAgC,EACjC,MAAc,EACb,WAAwB,EACzB,WAAwB,EACvB,KAAwB,EACxB,UAA2B;QAN3B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QACjC,WAAM,GAAN,MAAM,CAAQ;QACb,gBAAW,GAAX,WAAW,CAAa;QACzB,gBAAW,GAAX,WAAW,CAAa;QACvB,UAAK,GAAL,KAAK,CAAmB;QACxB,eAAU,GAAV,UAAU,CAAiB;QAbrC,oCAA+B,GAAY,IAAI,CAAC,WAAW,CAAC,4BAA4B,CAAC,mBAAmB,CAAC,CAAC,+BAA+B;QAK7I,qBAAgB,GAAW,CAAC,CAAC;QAU3B,IAAI,CAAC,IAAI,EAAE;IACb,CAAC;IAGD,QAAQ;IACR,CAAC;IACD,eAAe;QACb,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;IAEnC,CAAC;IAED,IAAI,CAAG,UAA2B,IAAI,EAAE,gBAA0C,IAAI;QAClF,IAAI,CAAC,OAAO,GAAG,IAAI,oFAAe,CAAC,OAAO,EAAE,aAAa,CAAC;QAE5D,IAAI,OAAO,IAAI,aAAa,EAAE;YAC5B,IAAI,CAAC,WAAW,GAAG;gBACjB,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;gBACpE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBACvE,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;aAChE;YAED,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,GAAG,GAAG;SAExF;;YAAM,IAAI,CAAC,WAAW,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE;IAC1E,CAAC;IAEO,cAAc,CAAC,EAAE;QACvB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAChE,OAAO,CAAC,GAAG,CAAC;gBACV,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC5B,IAAI,CAAC,WAAW,CAAC,yBAAyB,CAAC,EAAE,CAAC;aAC/C,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,aAAa,CAAM,EAAE,EAAE;gBACxC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAC,aAAa,CAAC,CAAC;gBAE3C,IAAI,CAAC,aAAa,CAAC,MAAM;oBACvB,IAAI,CAAC,IAAI,CAAG,OAAO,EAAE,EAAE,CAAC;qBACrB;oBACH,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,aAAa,EAAE,MAAM,CAAC;oBACvE,IAAI,CAAC,IAAI,CAAE,OAAO,EAAE,aAAa,CAAC;iBACnC;gBACD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;YACjC,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,KAAY,EAAE,KAAK;QACzB,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,IAAI;IAC3D,CAAC;IAED,YAAY,CAAC,IAAI,EAAE,GAAG;QAEpB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC;QAC5C,OAAO,GAAG,CAAC,UAAU,GAAG,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,KAAK,GAAI,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC;IAC7H,CAAC;IAEM,cAAc,CAAC,IAAe;QACnC,QAAQ,IAAI,EAAE;YACZ,KAAK,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YACrD,KAAK,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC;YACtD,KAAK,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,IAAI;SAChF;IACH,CAAC;IACM,aAAa,CAAC,OAAO;QAC1B,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;YAC7C,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;YACjD,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;YACjD,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;IACnD,CAAC;IAGD,UAAU;QACR,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;YACtC,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,gCAAgC,CAAC;YAC/K,IAAI,OAAO;gBAAE,OAAO,CAAC,OAAO,CAAC;;gBACxB,OAAO,CAAC,IAAI,CAAC;QACpB,CAAC,CAAC;IACJ,CAAC;IAED,YAAY;QACV,IAAI,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;YACtC,IAAI,OAAO;gBACT,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE,EAAE,OAAO,oBAAO,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,OAAO,CAAC,kBAAkB,EAAE,CAAC;QACpR,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE;YACT,IAAI,SAAS,GAAS,OAAO;YAC7B,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,IAAI,CAAC;QAE5J,CAAC,CAAC;IACJ,CAAC;IAEO,eAAe,CAAC,IAAyG;QAE/H,QAAQ,IAAI,EAAE;YACZ,KAAK,mBAAmB,CAAC,CAAC,OAAO,CAAG,8HAAqB,CAAC;YAC1D,KAAK,mBAAmB,CAAC,CAAC,OAAO,CAAG,8HAAqB,CAAC;YAC1D,KAAK,mBAAmB,CAAC,CAAC,OAAO,CAAE,8HAAqB,CAAC;YACzD,KAAK,eAAe,CAAC,CAAC,OAAO,CAAG,6GAAgB,CAAC;YACjD,KAAK,eAAe,CAAC,CAAC,OAAO,CAAE,6GAAgB,CAAC;YAChD,OAAO,CAAC,CAAC,OAAO,CAAE,6GAAgB,CAAC;SACpC;IACH,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE;IAC9B,CAAC;IACD,kBAAkB;QAChB,IAAI,QAAQ,CAAC,aAAa,CAAC,8BAA8B,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,qCAAqC,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,uBAAuB,CAAC,EAAE;YAC5N,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,8BAA8B,CAAC,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,YAAY;kBAC5I,QAAQ,CAAC,aAAa,CAAC,qCAAqC,CAAC,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC,YAAY,GAAG,EAAE,GAAG,IAAI,CAAC;SAC3J;QACD,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;;4EA9HU,cAAc;4GAAd,cAAc;QCjB3B,iFAA4B;QAC1B,gFAA6C;QAC3C,iFAAwB;QACtB,iFAA0B;QACxB,gFAAuE;QAAhC,0IAAS,YAAQ,IAAC;QACvD,yEAA0E;QAC5E,4DAAa;QACf,4DAAc;QAChB,4DAAc;QAChB,4DAAa;QAEb,+EAA4C;QAC1C,yEAAmB;QACjB,yEAAwB;QACtB,yEAAyF;QACvF,2EAAsC;QACpC,qEAAG;QAAA,wDAA+B;;QAAA,4DAAI;QACxC,4DAAM;QACN,2EAAyD;QACvD,uEAAK;QACH,8EACmB;QADX,uIAAS,kBAAc,IAAC;QAE9B,2EAAyF;QACzF,wDACF;;QAAA,4DAAS;QACX,4DAAM;QAER,4DAAM;QACR,4DAAM;QACN,2EAAoD;QAClD,2EAAgC;QAC9B,oFAEyC;;QACvC,yEAAO;QACL,sEAAI;QACF,0EAAkB;QAAA,qEAAG;QAAA,wDAA8B;;QAAA,4DAAI;QAAA,4DAAK;QAC5D,0EAAmC;QAAA,qEAAG;QAAA,wDAAsB;;QAAA,4DAAI;QAAA,4DAAK;QACrE,0EAAmC;QAAA,qEAAG;QAAA,wDAA0B;;QAAA,4DAAI;QAAA,4DAAK;QACzE,0EAAkC;QAAA,qEAAG;QAAA,wDAA4B;;QAAA,4DAAI;QAAA,4DAAK;QAC1E,0EAAkC;QAAA,qEAAG;QAAA,wDAAuB;;QAAA,4DAAI;QAAA,4DAAK;QACvE,4DAAK;QACP,4DAAQ;QACR,yEAAO;QACL,+HA4Ka;QACf,4DAAQ;QACV,4DAAW;QACb,4DAAM;QACR,4DAAM;QACR,4DAAM;QACN,2EAA2C;QACzC,2EAAoD;QAClD,uEAAK;QACH,qEAAG;QAAA,wDAA8B;;QAAA,4DAAI;QACrC,uEAAK;QAAC,wDAAyB;QAAA,4DAAM;QACvC,4DAAM;QACN,uEAAK;QACH,qEAAG;QAAA,wDAA0B;;QAAA,4DAAI;QACjC,uEAAK;QAAA,wDAA6B;QAAA,4DAAM;QAC1C,4DAAM;QACN,uEAAK;QACH,qEAAG;QAAA,wDAA4B;;QAAA,4DAAI;QACnC,uEAAK;QAAA,wDAAgD;;QAAA,4DAAM;QAC7D,4DAAM;QACN,uEAAK;QACH,qEAAG;QAAA,wDAA0B;;QAAA,4DAAI;QACjC,uEAAK;QAAA,wDAA0E;;QAAA,4DAAM;QACvF,4DAAM;QACR,4DAAM;QACN,2EAAuD;QACrD,qEAAG;QAAA,wDAAsC;;QAAA,4DAAI;QAC7C,6GAEM;QACN,6GAEM;QACN,6GAEM;QACN,6GAGM;QACR,4DAAM;QACN,2EAAsD;QACpD,qEAAG;QAAA,wDAAqC;;QAAA,4DAAI;QAC5C,2EAAwB;QACtB,wEAAM;QAAA,wDAA0B;;QAAA,4DAAO;QACvC,uEAAK;QAAA,wDAAqD;QAAA,4DAAM;QAClE,4DAAM;QAGN,2EAC+F;QAC7F,wEAAM;QAAA,wDAA+B;;QAAA,4DAAO;QAC5C,wEAAM;QAAA,yDAAsC;;QAAA,4DAAO;QACnD,wEAAK;QAAA,yDAAqD;QAAA,4DAAM;QAClE,4DAAM;QACN,+GAIM;QACN,+GAIM;QACN,+GAIM;QAGN,+GAGM;QACN,+GAKM;QACN,4EAA0D;QACxD,yEAAM;QAAA,yDAAuB;;QAAA,4DAAO;QACpC,wEAAK;QAAA,yDAAsD;QAAA,4DAAM;QAEnE,4DAAM;QACN,4EAAwD;QACtD,yEAAM;QAAA,yDAAqB;;QAAA,4DAAO;QAClC,wEAAK;QAAA,yDAA2D;QAAA,4DAAM;QACxE,4DAAM;QACN,+GAIM;QACN,4EAAiE;QAC/D,yEAAM;QAAA,yDAAgC;;QAAA,4DAAO;QAC7C,wEAAK;QAAA,yDAAiD;QAAA,4DAAM;QAC9D,4DAAM;QACN,+GAGM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAM;QACR,4DAAY;QACd,4DAAc;;;QAtTmE,0DAAe;QAAf,wEAAe;QAEjF,0DAA+B;QAA/B,mJAA+B;QAO9B,0DACF;QADE,sJACF;QASA,0DAAsC;QAAtC,+JAAsC;QAF9B,0EAAiB;QAKA,0DAA8B;QAA9B,kJAA8B;QACb,0DAAsB;QAAtB,0IAAsB;QACtB,0DAA0B;QAA1B,8IAA0B;QAC3B,0DAA4B;QAA5B,gJAA4B;QAC5B,0DAAuB;QAAvB,2IAAuB;QAI/B,0DAAyB;QAAzB,6EAAyB;QAqLzD,0DAA8B;QAA9B,kJAA8B;QAC3B,0DAAyB;QAAzB,oGAAyB;QAG5B,0DAA0B;QAA1B,8IAA0B;QACxB,0DAA6B;QAA7B,8FAA6B;QAG/B,0DAA4B;QAA5B,gJAA4B;QAC1B,0DAAgD;QAAhD,6KAAgD;QAGlD,0DAA0B;QAA1B,8IAA0B;QACxB,0DAA0E;QAA1E,sMAA0E;QAI9E,0DAAsC;QAAtC,0JAAsC;QACnC,0DAA4C;QAA5C,4GAA4C;QAG5C,0DAA4C;QAA5C,4GAA4C;QAG5C,0DAA4C;QAA5C,4GAA4C;QAG5C,0DAAuE;QAAvE,2IAAuE;QAM1E,0DAAqC;QAArC,yJAAqC;QAEhC,0DAA0B;QAA1B,8IAA0B;QAC3B,0DAAqD;QAArD,0HAAqD;QAMpD,0DAA+B;QAA/B,oJAA+B;QAC/B,0DAAsC;QAAtC,4KAAsC;QACvC,0DAAqD;QAArD,0HAAqD;QAEtD,0DAA+B;QAA/B,+FAA+B;QAK/B,0DAAgC;QAAhC,gGAAgC;QAKhC,0DAAiC;QAAjC,iGAAiC;QAOkB,0DAAwC;QAAxC,wGAAwC;QAIxC,0DAAwC;QAAxC,wGAAwC;QAOzF,0DAAuB;QAAvB,4IAAuB;QACxB,0DAAsD;QAAtD,2HAAsD;QAIrD,0DAAqB;QAArB,0IAAqB;QACtB,0DAA2D;QAA3D,gIAA2D;QAER,0DAAyC;QAAzC,yGAAyC;QAM3F,0DAAgC;QAAhC,qJAAgC;QACjC,0DAAiD;QAAjD,iHAAiD;QAEE,0DAAyC;QAAzC,yGAAyC","sources":["./src/app/cafe/components/bill-detail/sales-payment-card/sales-payment-card.component.ts","./src/app/cafe/components/bill-detail/sales-payment-card/sales-payment-card.component.html","./src/app/cafe/components/bill-detail/sales-voucher/sales-voucher.component.ts","./src/app/cafe/components/bill-detail/sales-voucher/sales-voucher.component.html","./src/app/cafe/components/bill-detail/sales/sales.component.ts","./src/app/cafe/components/bill-detail/sales/sales.component.html"],"sourcesContent":["import { Component, OnInit ,Input} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { SalesPaymentCardA4Component } from 'src/app/cafe/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/cafe/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/cafe/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/cafe/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/cafe/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { VhBillType50DetailEdit, VhBillType50Edit } from '../../bill-type/bill-type-50/bill-type50-interface';\r\n\r\n@Component({\r\n  selector: 'app-sales-payment-card',\r\n  templateUrl: './sales-payment-card.component.html',\r\n  styleUrls: ['./sales-payment-card.component.scss']\r\n})\r\nexport class SalesPaymentCardComponent implements OnInit {\r\n  @Input() id_bill: any;\r\n  public invoiceInfo: any;\r\n  public \r\n  invoice_detail: VhBillType50DetailEdit[]\r\n  public invoice: VhBillType50Edit\r\n  subTotal = 0\r\n  public itemInvoice: any;\r\n  public radioValue: number;\r\n  public customer: any;\r\n  public tableHeight: any;\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n  ) {\r\n  \r\n     \r\n  }\r\n  ngOnInit(): void {\r\n    this.getDataInvoice(this.id_bill)\r\n  }\r\n\r\n  init(invoice: VhBillType50Edit = null, invoiceDetail: VhBillType50DetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n\r\n  }\r\n\r\n  getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        invoiceDetail.forEach(async (element, index) => {\r\n          if (element.id_payment_card_code) {\r\n            let paymentcard = await this.vhQueryCafe.getPaymentCard_Code_Name_Release(element.id_payment_card_code)\r\n            element.name = paymentcard['name_payment_card']\r\n            element.code = paymentcard['code']\r\n            element.products = paymentcard['products']\r\n            element.product_name = this.renderproductname(paymentcard['products']) \r\n          }\r\n          if (index == invoiceDetail.length - 1) {\r\n            invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n            this.init(invoice, invoiceDetail)\r\n            this.vhComponent.hideLoading(0);\r\n          }\r\n        });\r\n\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  renderproductname(data) {\r\n    let name = ''\r\n    for (let element of data) {\r\n      let product = this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      element.name =product.name;\r\n      element.unit =product.unit;\r\n      name += '- '+    element.quantity +'x ' + product.name + ' (' + this.vhQueryCafe.getUnit_byRatio(product.units,element.ratio ).unit  +') \\n';\r\n    } \r\n    return name\r\n  }\r\n\r\n\r\n  goBack() {\r\n     this.vhComponent.hideModal()\r\n  }\r\n\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    if (this.itemInvoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQueryCafe.getlocalCustomer(this.itemInvoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n  closeInfoCustomer(e) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n  getNameProduct(id_prod: string, id_subProd: string) {\r\n    let product = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = product.subs.find(item => item._id == id_subProd)\r\n    return { name: `${product ? product.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}` }\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về chuổi tên danh sách sản phẩm trong voucher\r\n   * @param products \r\n   * @returns string\r\n   * @example let name = this.getStringName([])\r\n   */\r\n  getStringName(products: any[]) {\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      element.name =product.name;\r\n      element.unit =product.unit;\r\n      name += '- ' + element.quantity + 'x ' + product.name + ' (' + this.vhQueryCafe.getUnit_byRatio(product.units, element.ratio).unit + ') \\n';\r\n    });\r\n    return name\r\n  }\r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the sales invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQueryCafe.deleteBill_Billdetail(this.invoice._id).then((bool) => {\r\n              if (bool) {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack()\r\n                  this.vhComponent.alertMessageDesktop(\"success\",\r\n                    `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.vhComponent.alertMessageDesktop(\"error\",\r\n                    `${this.languageService.translate(\"Vì có payment_card đã được đổi lấy hàng hóa nên hóa đơn bán payment_card này không thể xóa\")}`)\r\n                })\r\n              }\r\n\r\n            })\r\n          })\r\n        }, () => { })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n  printInvoice() {\r\n    let print = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer =  print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)] \r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer ,invoice_detail : this.invoice_detail, invoice: this.invoice }, false, false, `modal-print-${type}`).then((modal) => {\r\n    \r\n        })\r\n      }\r\n    }else{\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => console.log('OK'),\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n\r\n}\r\n","<ion-content scrollX=\"true\">\r\n    <ion-header mode=\"ios\" class=\"ion-no-border\">\r\n        <ion-toolbar mode=\"ios\">\r\n            <ion-buttons slot=\"start\">\r\n                <ion-button mode=\"md\" color=\"vh-black\" (click)=\"goBack()\" fill=\"clear\">\r\n                    <ion-icon slot=\"icon-only\" color=\"vh-red\" name=\"close-outline\"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <nz-layout id=\"sales-return-invoice-detail\">\r\n        <div class=\"sales\" *ngIf=\"invoice\">\r\n            <div class=\"sales-cart\">\r\n                <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\" class=\"title\">\r\n                        <b>{{'Order for selling prepaid card' | translate}}</b>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                        \r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                            <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n                <!-- <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon> -->\r\n                {{'Print' | translate}}\r\n              </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                    <div class=\"invoiceDetail-item\">\r\n                        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowPagination=\"false\" nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"30%\"><b>{{'Prepaid card name' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='center'><b>{{'Prepaid card code' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                    <tr>\r\n                                        <td>\r\n                                            <b>\r\n                                            {{item['name']}}\r\n                                           </b>\r\n                                        </td>\r\n                                        <td nzAlign='center'>{{item.code}}</td>\r\n                                        <td nzAlign='right'>\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                        </td>\r\n                                        <td nzAlign='right'>\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit( item.price)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                            <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\" *ngIf=\"item.products\"> {{getStringName(item.products)}}\r\n                                            </pre>\r\n                                        </td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills\" [ngClass]=\"'not-continue-sell'\">\r\n                <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                    <div>\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <div> {{invoice.bill_code}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <div>{{invoiceInfo.employee.name}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                      </div>\r\n                   \r\n                </div>\r\n                <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{renderAddress(invoiceInfo.partner)}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                      </div>\r\n                </div>\r\n                <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span>{{'SubTotal' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Discount value' | translate}}\r\n                </span>\r\n                        <span>{{(invoice.discount/subTotal)*100 | number :'1.0-2'}}%</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                        <span>{{'Fee' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                        <span>{{'Tax' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n                        <div>\r\n                          {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n                      </div>\r\n                      <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Total' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Pay' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Rest' | translate}}</span>\r\n                        <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total * (1+invoice.tax / 100) -\r\n                            invoice.payment)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Payment method' | translate}}</span>\r\n                        <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                        <span>{{'Note' | translate}}</span>\r\n                        <div>{{invoice.note}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nz-layout>\r\n</ion-content>\r\n ","import { ChangeDetectorRef, Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component'; \r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { SalesVoucherK57Col3Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k57-col3/sales-voucher-k57-col3.component';\r\nimport { SalesVoucherK80Col3Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k80-col3/sales-voucher-k80-col3.component';\r\nimport { SalesVoucherK80Col4Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k80-col4/sales-voucher-k80-col4.component';\r\nimport { SalesVoucherA5Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-a5/sales-voucher-a5.component';\r\nimport { SalesVoucherA4Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-a4/sales-voucher-a4.component';\r\nimport { VhBillType40DetailEdit, VhBillType40Edit } from '../../bill-type/bill-type-40/bill-type40-interface';\r\n@Component({\r\n  selector: 'app-sales-voucher',\r\n  templateUrl: './sales-voucher.component.html',\r\n  styleUrls: ['./sales-voucher.component.scss']\r\n})\r\nexport class SalesVoucherComponent   {\r\n  @Input() id_bill: any;\r\n  public invoiceInfo: any;\r\n  \r\n  invoice_detail: VhBillType40DetailEdit[]\r\n  public invoice: VhBillType40Edit\r\n  subTotal = 0\r\n  public itemInvoice: any;\r\n  public customer: any;\r\n  public visibleInfoCustomer: boolean = false;\r\n  public tableHeight;\r\n  constructor(\r\n    private router: Router,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhQuery: VhQuery\r\n  ) { \r\n  }\r\n\r\n\r\n  init(invoice: VhBillType40Edit = null, invoiceDetail: VhBillType40DetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-invoice-detail-today\")  &&\r\n    document.querySelector(\".ant-table-thead\") &&\r\n    document.querySelector(\".sales-cart\") &&\r\n    document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight =\r\n        document.querySelector(\"#sales-invoice-detail-today\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".sales-cart\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.getDataInvoice(this.id_bill)\r\n  }\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        console.log(invoice, invoiceDetail);\r\n\r\n        let invoiceDetailFresh: VhBillType40DetailEdit[] = []\r\n        if (invoiceDetail.length && invoiceDetail[0].id_voucher) {\r\n          let promise = new Array();\r\n          for (let i = 0; i < invoiceDetail.length; i++) {\r\n            promise[i] = this.vhQueryCafe.getVoucher(invoiceDetail[i].id_voucher)\r\n          }\r\n          this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n            invoiceDetailFresh = array.map((item,index) => { return {...item,...invoiceDetail[index]}})\r\n            this.init(invoice, invoiceDetailFresh)\r\n          },error => {\r\n            console.log(error);\r\n          })\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // chuổi danh sách sản phẩm\r\n  getStringName(products:any []){\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      name += '- '+element.quantity+ 'x ' +   product.name + ' (' + this.vhQueryCafe.getUnit_byRatio(product.units,element.ratio ).unit  +') \\n';\r\n    });\r\n    return name\r\n  }\r\n\r\n  goBack(){\r\n    this.vhComponent.hideModal()\r\n\r\n  }\r\n\r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel this invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQueryCafe.deleteBill_Billdetail(this.invoice._id).then((bool) => {\r\n\t\t\t\tif(bool){\r\n\t\t\t\t\tthis.vhComponent.hideLoading(0).then(() => {\r\n\t\t\t\t\t\tthis.vhComponent.alertMessageDesktop(\"success\",\r\n\t\t\t\t\t\t  `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}` )\r\n\t\t\t\t\t\tthis.router.navigate(['/cafe/sales-voucher'])\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.vhComponent.hideLoading(0).then(() => {\r\n\t\t\t\t\t\tthis.vhComponent.alertMessageDesktop(\"error\",\r\n\t\t\t\t\t\t  `${this.languageService.translate(\"Vì có voucher đã được đổi lấy hàng hóa nên hóa đơn bán voucher này không thể xóa\")}`)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n            })\r\n          })\r\n        }, () => { })\r\n    }\r\n    else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('You do not have this rights'))\r\n  }\r\n\r\n  openInfoCustomer() {\r\n    if (this.itemInvoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQueryCafe.getlocalCustomer(this.itemInvoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n\r\n  closeInfoCustomer(e){\r\n    this.visibleInfoCustomer = false;\r\n\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n  printInvoice() {\r\n    let print = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer =  print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer , invoice: this.invoice , invoice_detail : this.invoice_detail}, false, false, `modal-print-${type}`).then((modal) => {\r\n         \r\n        })\r\n      }\r\n      else{\r\n        this.modal.confirm({\r\n          nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n          nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n          nzIconType: \"info-circle\",\r\n          nzCancelText: null,\r\n          nzOnOk: () => console.log('OK'),\r\n        });\r\n      }\r\n    }\r\n    else{\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => console.log('OK'),\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesVoucherK57Col3Component\r\n      case 'print_size_k80_3c': return SalesVoucherK80Col3Component\r\n      case 'print_size_k80_4c': return SalesVoucherK80Col4Component\r\n      case 'print_size_a5': return SalesVoucherA5Component\r\n      case 'print_size_a4': return SalesVoucherA4Component\r\n      default: return SalesVoucherA4Component\r\n    }\r\n  }\r\n\r\n}\r\n","<ion-content scrollX=\"true\">\r\n    <ion-header mode=\"ios\" class=\"ion-no-border\">\r\n        <ion-toolbar mode=\"ios\">\r\n            <ion-buttons slot=\"start\">\r\n                <ion-button mode=\"md\" color=\"vh-black\" (click)=\"goBack()\" fill=\"clear\">\r\n                    <ion-icon slot=\"icon-only\" color=\"vh-red\" name=\"close-outline\"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <nz-layout id=\"sales-return-invoice-detail\">\r\n        <div class=\"sales\" *ngIf=\"invoice\">\r\n            <div class=\"sales-cart\">\r\n                <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\" class=\"title\">\r\n                        <b>{{'Order for selling voucher' | translate}}</b>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                        \r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                            <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n                <!-- <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon> -->\r\n                {{'Print' | translate}}\r\n              </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                    <div class=\"invoiceDetail-item\">\r\n                        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowPagination=\"false\" nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"30%\"><b>{{'Voucher name' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='center'><b>{{'Voucher code' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                    <tr>\r\n                                        <td>\r\n                                            <b>\r\n                                            {{item['name']}}\r\n                                           </b>\r\n                                        </td>\r\n                                        <td nzAlign='center'>{{item.code}}</td>\r\n                                        <td nzAlign='right'>\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                        </td>\r\n                                        <td nzAlign='right'>\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit( item.price)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                            <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\" *ngIf=\"item.products\"> {{getStringName(item.products)}}\r\n                                            </pre>\r\n                                        </td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills\" [ngClass]=\"'not-continue-sell'\">\r\n                <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                    <div>\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <div> {{invoice.bill_code}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <div>{{invoiceInfo.employee.name}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                      </div>\r\n                   \r\n                </div>\r\n                <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{renderAddress(invoiceInfo.partner)}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                      </div>\r\n                </div>\r\n                <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span>{{'SubTotal' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Discount value' | translate}}\r\n                </span>\r\n                        <span>{{(invoice.discount/subTotal)*100 | number :'1.0-2'}}%</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                        <span>{{'Fee' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                        <span>{{'Tax' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n                        <div>\r\n                          {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n                      </div>\r\n                      <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Total' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Pay' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Rest' | translate}}</span>\r\n                        <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total * (1+invoice.tax / 100) -\r\n                            invoice.payment)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Payment method' | translate}}</span>\r\n                        <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                        <span>{{'Note' | translate}}</span>\r\n                        <div>{{invoice.note}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nz-layout>\r\n</ion-content>\r\n ","import { ChangeDetectorRef, Component, Input } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhOrderInvoice, VhOrderInvoiceDetail, VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\n\r\n@Component({\r\n  selector: 'app-sales',\r\n  templateUrl: './sales.component.html',\r\n  styleUrls: ['./sales.component.scss']\r\n})\r\nexport class SalesComponent  {\r\n\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices\r\n  @Input() id_bill: any;\r\n  percent_discount: number = 0;\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.init()\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  ngAfterViewInit(): void {\r\n    this.getDataInvoice(this.id_bill)\r\n\r\n  }\r\n\r\n  init(  invoice:  VhOrderInvoice = null, invoiceDetail:   VhOrderInvoiceDetail[] = null) {\r\n      this.invoice = new VhOrderInvoices(invoice, invoiceDetail)\r\n\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n\r\n      this.percent_discount = (this.invoice.getDiscount() / this.invoice.getSubTotal()) * 100\r\n\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        console.log('invoiceDetail',invoiceDetail);\r\n\r\n        if (!invoiceDetail.length)\r\n          this.init(  invoice, [])\r\n        else {\r\n          invoiceDetail = this.vhAlgorithm.sortStringbyASC(invoiceDetail, 'name')\r\n          this.init( invoice, invoiceDetail)\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units,ratio).unit\r\n  }\r\n\r\n  getLotNumber(lots, _id){\r\n\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' +  this.fncService.formatDate(lot.date_exp)\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.invoice.getBillType() == 1 ? this.vhQueryCafe.getLocalPrintPage('page_desktop_sales') : this.vhQueryCafe.getLocalPrintPage('page_desktop_customer_returned')\r\n      if (printer) resolve(printer)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer.print_size_default), { printer: { ...printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] }, invoice: this.invoice }, false, false, `modal-print-${printer.print_size_default}`)\r\n    }, (err) => {\r\n      let page_name: any =  \"Sales\"\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return (  SalesK57Col3Component)\r\n      case 'print_size_k80_3c': return (  SalesK80Col3Component)\r\n      case 'print_size_k80_4c': return ( SalesK80Col4Component)\r\n      case 'print_size_a5': return (  SalesA5Component)\r\n      case 'print_size_a4': return ( SalesA4Component)\r\n      default: return ( SalesA4Component)\r\n    }\r\n  }\r\n  goBack() {\r\n    this.vhComponent.hideModal()\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-return-invoice-detail\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-return-invoice-detail-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#sales-return-invoice-detail\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-return-invoice-detail-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<ion-content scrollX=\"true\">\r\n  <ion-header mode=\"ios\" class=\"ion-no-border\">\r\n    <ion-toolbar mode=\"ios\">\r\n      <ion-buttons slot=\"start\">\r\n        <ion-button mode=\"md\" color=\"vh-black\" (click)=\"goBack()\" fill=\"clear\">\r\n          <ion-icon slot=\"icon-only\" color=\"vh-red\" name=\"close-outline\"></ion-icon>\r\n        </ion-button>\r\n      </ion-buttons>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n\r\n  <nz-layout id=\"sales-return-invoice-detail\">\r\n    <div class=\"sales\">\r\n      <div class=\"sales-cart\">\r\n        <div class=\"sales-cart-header sales-return-invoice-detail-header\" nz-row [nzGutter]=\"16\">\r\n          <div nz-col nzSpan=\"12\" class=\"title\">\r\n            <b>{{'Sales invoice' | translate}}</b>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\" class=\"sales-cart-header-button\">\r\n            <div>\r\n              <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                nzType=\"default\">\r\n                <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                {{'Print' | translate}}\r\n              </button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n          <div class=\"invoiceDetail-item\">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: tableHeight }\"\r\n              [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable nzShowSizeChanger\r\n              nzNoResult=\"{{'No data' | translate}}\">\r\n              <thead>\r\n                <tr>\r\n                  <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                  <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                  <ng-container *ngIf=\"item.id_promotion\">\r\n                      <tr style=\"cursor: pointer;\">\r\n                          <td colspan=\"5\"><b>{{item.name}}</b></td>\r\n                      </tr>\r\n                      <ng-container *ngFor=\"let data of item.products\">\r\n                          <tr style=\"cursor: pointer;\" >\r\n                              <td>\r\n                                  {{data.name}} <br>\r\n                                  <ng-container *ngIf=\"data.lots\">\r\n                                      <div>{{getLotNumber(data.lots, data.id_lotproduct)}}</div> <br>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"data.combos\">\r\n                                      <span class=\"sub-name\" *ngFor=\"let combo of data.combos\">\r\n                                          {{combo.quantity}}x {{combo.name}}\r\n                                          ({{getUnit(combo.units,combo.ratio)}})\r\n                                          <ng-container *ngIf=\"combo.lots\">\r\n                                              <div\r\n                                                  style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                          </ng-container>,\r\n                                      </span>\r\n                                  </ng-container>\r\n                              </td>\r\n                              <td nzAlign='center'>\r\n                                  {{getUnit(data.units, data.ratio)}}\r\n                              </td>\r\n                              <td nzAlign='center'>{{data.quantity}}</td>\r\n                              <td nzAlign='right'>\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                                  <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                                      {{data.price_origin > data.price ?\r\n                                      vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                  </del>\r\n                              </td>\r\n                              <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                              <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                      data.price)}}</b></td>\r\n                          </tr>\r\n                          <tr style=\"cursor: pointer;\" *ngFor=\"let toping of data.toppings\">\r\n                              <td>\r\n                                  <span class=\"sub-name\" style=\"padding-left:8px;\">{{toping.name}}</span>\r\n                              </td>\r\n                              <td nzAlign='center'>{{toping.quantity| number:'1.0-2'}}</td>\r\n                              <td nzAlign='right'>\r\n                                  {{vhAlgorithm.vhcurrencyunit(toping.price)}}\r\n                                  <del style=\"font-size: 0.7rem;\">\r\n                                      {{toping.price_origin > toping.price ?\r\n                                      vhAlgorithm.vhcurrencyunit(toping.price_origin)\r\n                                      : ''}}\r\n                                  </del>\r\n                              </td>\r\n                              <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(toping.price_origin > toping.price ? ((1 - toping.price/toping.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                              <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(toping.quantity *\r\n                                      toping.price)}}</b>\r\n                              </td>\r\n                          </tr>\r\n                      </ng-container>\r\n                      <ng-container *ngFor=\"let data of item.products_gift\">\r\n                          <tr  >\r\n                              <td>{{data.name}} <i>({{'Gift' | translate}})</i><br>\r\n                                  <ng-container *ngIf=\"data.lots\">\r\n                                      {{getLotNumber(data.lots, data.id_lotproduct)}} <br>\r\n                                  </ng-container>\r\n                                  <ng-container *ngIf=\"data.combos\">\r\n                                      <span class=\"sub-name\"\r\n                                          *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}}\r\n                                          ({{getUnit(combo.units,combo.ratio)}})\r\n                                          <ng-container *ngIf=\"combo.lots\">\r\n                                              <div\r\n                                                  style=\"font-size:0.7rem !important;\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                          </ng-container>,\r\n                                      </span>\r\n                                  </ng-container>\r\n                              </td>\r\n                              <td nzAlign='center'>\r\n                                  {{getUnit(data.units, data.ratio)}}\r\n                              </td>\r\n                              <td nzAlign='center'>{{data.quantity}}</td>\r\n                              <td nzAlign='right'>\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                                  <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                                      {{data.price_origin > data.price ?\r\n                                      vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                  </del>\r\n                              </td>\r\n                              <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                              <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                      data.price)}}</b></td>\r\n                          </tr>\r\n                          <tr style=\"cursor: pointer;\" *ngFor=\"let toping of data.toppings\">\r\n                              <td>\r\n                                  <span class=\"sub-name\" style=\"padding-left:8px;\">{{toping.name}}</span>\r\n                              </td>\r\n                              <td nzAlign='center'>{{toping.quantity| number:'1.0-2'}}</td>\r\n                              <td nzAlign='right'>\r\n                                  {{vhAlgorithm.vhcurrencyunit(toping.price)}}\r\n                                  <del style=\"font-size: 0.7rem;\">\r\n                                      {{toping.price_origin > toping.price ?\r\n                                      vhAlgorithm.vhcurrencyunit(toping.price_origin)\r\n                                      : ''}}\r\n                                  </del>\r\n                              </td>\r\n                              <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(toping.price_origin > toping.price ? ((1 - toping.price/toping.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                              <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(toping.quantity *\r\n                                      toping.price)}}</b>\r\n                              </td>\r\n                          </tr>\r\n                      </ng-container>\r\n                     \r\n                      \r\n                  </ng-container>\r\n                  <tr style=\"cursor: pointer;\" *ngIf=\"!item.id_promotion\">\r\n                      <td>\r\n                          {{item.name}}\r\n                          <ng-container *ngIf=\"item.id_lotproduct\">\r\n                              <br><span>Số lô: {{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n                          </ng-container>\r\n                          <br>\r\n                          <ng-container *ngIf=\"item.ptype == 5\">\r\n                              <ng-container *ngIf=\"item.combos\">\r\n                                  <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n                                      {{combo.quantity}}x {{combo.name}}\r\n                                      ({{getUnit(combo.units,combo.ratio)}})\r\n                                      <ng-container *ngIf=\"combo.lots\">\r\n                                          <div\r\n                                              style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                      </ng-container>,\r\n                                  </span>\r\n                              </ng-container>\r\n                          </ng-container>\r\n                          <ng-container *ngFor=\"let property of item.properties ? item.properties : [];\">\r\n                              <span class=\"sub-name\">\r\n                                  {{property.name}} - {{property.selectedValue}}</span><br>\r\n                          </ng-container>\r\n                      </td>\r\n                      <td> ({{getUnit(item.units,item.ratio)}})</td>\r\n                      <td nzAlign='center'>{{item.quantity| number:'1.0-2'}}</td>\r\n                      <td nzAlign='right'>\r\n                          {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                          <del style=\"font-size: 0.7rem;\">\r\n                              {{item.price_origin > item.price ?\r\n                              vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                              : ''}}\r\n                          </del>\r\n                      </td>\r\n                      <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(item.price_origin > item.price ? ((1 - item.price/item.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                      <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity *\r\n                              item.price)}}</b>\r\n                      </td>\r\n                  </tr>\r\n                  <tr style=\"cursor: pointer;\" *ngFor=\"let data of item.toppings\">\r\n                      <td>\r\n                          <span class=\"sub-name\" style=\"padding-left:8px;\">{{data.name}}</span>\r\n                          \r\n                      </td>\r\n                      <td> ({{getUnit(data.units,1)}})</td>\r\n                      <td nzAlign='center'>{{data.quantity| number:'1.0-2'}}</td>\r\n                      <td nzAlign='right'>\r\n                          {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                          <del style=\"font-size: 0.7rem;\">\r\n                              {{data.price_origin > data.price ?\r\n                              vhAlgorithm.vhcurrencyunit(data.price_origin)\r\n                              : ''}}\r\n                          </del>\r\n                      </td>\r\n                      <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(data.price_origin > data.price ? ((1 - data.price/data.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                      <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                              data.price)}}</b>\r\n                      </td>\r\n                  </tr>\r\n                  \r\n\r\n              </ng-container>\r\n              </tbody>\r\n            </nz-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills not-continue-sell\">\r\n        <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n          <div>\r\n            <b>{{'Invoice code' | translate}}</b>\r\n            <div> {{invoice.getBillCode()}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Salesman' | translate}}</b>\r\n            <div>{{invoiceInfo.employee.name}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Sales date' | translate}}</b>\r\n            <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Delivery' | translate}}</b>\r\n            <div>{{invoiceInfo['delivery'] ? invoiceInfo['delivery'] : \"None\" | translate}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n          <b>{{'Customer information' | translate}}</b>\r\n          <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{invoiceInfo.partner.name | translate}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{renderAddress(invoiceInfo.partner)}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.getRetailName()\" nz-col nzSpan=\"24\">\r\n            {{invoice.getRetailName()}} - {{invoice.getRetailPhone()}} {{invoice.getRetailAddress() ? '-':\r\n            ''}} {{invoice.getRetailAddress()}}\r\n          </div>\r\n        </div>\r\n        <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n          <b>{{'Payment information' | translate}}</b>\r\n          <div nz-col nzSpan=\"24\">\r\n            <span>{{'SubTotal' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n          </div>\r\n\r\n\r\n          <div class=\"sales-bills-content-discount\"\r\n            style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n            <span>{{'Discount value'| translate}}</span>\r\n            <span>{{percent_discount | number:'1.0-2'}}%</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n          </div>\r\n          <div *ngIf=\"invoice.getDiscountBill()\" class=\"sales-bills-content-discount\"\r\n            style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n            <div>{{'Discount' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountBill())}}</div>\r\n          </div>\r\n          <div *ngIf=\"invoice.getDiscountPoint()\" class=\"sales-bills-content-discount\"\r\n            style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n            <div>{{'Point payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountPoint())}}</div>\r\n          </div>\r\n          <div *ngIf=\"invoice.getDiscountCoupon()\" class=\"sales-bills-content-discount\"\r\n            style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n            <div>{{'Coupon payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountCoupon())}}</div>\r\n          </div>\r\n\r\n\r\n          <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n            <span>{{'Fee' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n            <span>{{'Tax' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n            <div>\r\n              {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n            <span>{{'Total' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n          </div>\r\n          <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n            <span>{{'Pay' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n            <span>{{'Rest' | translate}}</span>\r\n            <div style=\"color: var(--ion-color-vh-red);\">\r\n              {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n            <span>{{'Payment method' | translate}}</span>\r\n            <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n            <span>{{'Note' | translate}}</span>\r\n            <div>{{invoice.getNote()}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nz-layout>\r\n</ion-content>\r\n"],"names":["SalesPaymentCardA4Component","SalesPaymentCardK57Col3Component","SalesPaymentCardK80Col3Component","SalesPaymentCardK80Col4Component","SalesPaymentCardA5Component","i0","ctx_r0","SalesPaymentCardComponent","constructor","router","vhQueryCafe","vhAuth","vhAlgorithm","languageService","vhComponent","modal","getLocalAppSettingNameBranch","display_promotion_selling_price","ngOnInit","getDataInvoice","id_bill","init","invoice","invoiceDetail","invoice_detail","invoiceInfo","employee","getlocalEmployee","id_employee","partner","getlocalCustomer","id_customer","paymentName","setPaymentName","payment_type","setSubTotal","subTotal","reduce","prev","next","price","id","showLoading","then","Promise","all","getBill","getBill_details_byId_bill","forEach","element","index","id_payment_card_code","paymentcard","getPaymentCard_Code_Name_Release","name","code","products","product_name","renderproductname","length","sortVietnamesebyASC","hideLoading","data","product","getlocalDetailProduct","id_subproduct","id_product","unit","quantity","getUnit_byRatio","units","ratio","goBack","hideModal","openInfoCustomer","itemInvoice","customer","visibleInfoCustomer","closeInfoCustomer","e","type","translate","getlocalWallet","id_wallet","getNameProduct","id_prod","id_subProd","getlocalProduct","subFood","subs","find","item","_id","getStringName","deleteInvoice","checkMyPermission","alertConfirm","deleteBill_Billdetail","bool","alertMessageDesktop","bill_code","showToast","renderAddress","address","district","province","country","printInvoice","print","getLocalPrintPage","print_sizes","findIndex","print_size_default","enable","printer","showModal","renderPrintPage","confirm","nzTitle","nzContent","nzIconType","nzCancelText","nzOnOk","console","log","selectors","inputs","decls","vars","consts","template","ctx","SalesVoucherK57Col3Component","SalesVoucherK80Col3Component","SalesVoucherK80Col4Component","SalesVoucherA5Component","SalesVoucherA4Component","SalesVoucherComponent","cdRef","vhQuery","ngAfterViewChecked","document","querySelector","tableHeight","clientHeight","detectChanges","ngAfterContentInit","invoiceDetailFresh","id_voucher","promise","Array","i","getVoucher","asyncPromiseAll","array","map","error","navigate","getSubCombo","arr","subName"],"sourceRoot":"webpack:///"}