{"version":3,"file":"default-src_app_sales_components_bill-detail_sales-payment-card_sales-payment-card_component_-13f1ad.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC8C4CK,IAAAA,4DAAAA;AAA2FA,IAAAA,oDAAAA;AAC3FA,IAAAA,0DAAAA;;;;;;AAD2FA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAjBvGA,IAAAA,qEAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACAA,IAAAA,oDAAAA;AACDA,IAAAA,0DAAAA;AACHA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAAqBA,IAAAA,oDAAAA;AAAaA,IAAAA,0DAAAA;AAClCA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAEJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,mEAAAA;;;;;;AAjBYA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEjBA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGGA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAKkEA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AA4B7FA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AAEFA,IAAAA,0DAAAA;;;;;AAFEA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAkBJA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AACpDA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;AAETA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA0CA,IAAAA,0DAAAA;AAC/CA,IAAAA,4DAAAA;AACEA,IAAAA,oDAAAA;AAAmEA,IAAAA,0DAAAA;AACvEA,IAAAA,0DAAAA;;;;;AAJQA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEHA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAqBNA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgBA,IAAAA,0DAAAA;AACzBA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;;;;;;;;;AAnIrBA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAgDA,IAAAA,0DAAAA;AACvDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAAQA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA;AACJA,IAAAA,uDAAAA;AAEZA,IAAAA,oDAAAA;;AACFA,IAAAA,0DAAAA;AACMA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAkBA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAmCA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAmCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAmCA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AAC7EA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACrEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACpEA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAsBJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AACjCA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;AAAqBA,IAAAA,0DAAAA;AAC7BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6BA,IAAAA,0DAAAA;AACpCA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAC/BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AAENA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAsCA,IAAAA,0DAAAA;AACzCA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAqCA,IAAAA,0DAAAA;AACxCA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAChCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAwCA,IAAAA,0DAAAA;AACjDA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AACdA,IAAAA,0DAAAA;AACQA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsDA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgDA,IAAAA,0DAAAA;AACzDA,IAAAA,0DAAAA;AAEAA,IAAAA,wDAAAA;AAIAA,IAAAA,wDAAAA;AAMEA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AAEtDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAsDA,IAAAA,0DAAAA;AAE/DA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAA6CA,IAAAA,oDAAAA;AACvBA,IAAAA,0DAAAA;AAC1BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAgCA,IAAAA,0DAAAA;AACtCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AACtDA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;;AArI8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAE3BA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAOXA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;AAM0IA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,eAAAA,yDAAAA;AAAxHA,IAAAA,wDAAAA,aAAAA,6DAAAA,+BAA+B,QAA/B,EAA+BC,qBAA/B;AAGuBD,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACAA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAIVA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AA2B1BA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGVA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGFA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAKNA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAMHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAEOA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AAEAA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGgDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAO/CA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACuCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAIvCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEiDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;AD3HxE,MAAOE,yBAAP,CAAgC;AAapCC,cACUC,MADV,EAESC,YAFT,EAGSC,MAHT,EAISC,WAJT,EAKUC,eALV,EAMUC,WANV,EAOUC,KAPV,EAO+B;AANrB;AACD;AACA;AACA;AACC;AACA;AACA;AAdV,oBAAW,CAAX;AAKA,2CAA2C,KAAKL,YAAL,CAAkBM,4BAAlB,CAA+C,mBAA/C,EAAoEC,+BAA/G;AA+EA,+BAA+B,KAA/B;AAlEC;;AACDC,UAAQ;AACN,SAAKC,cAAL,CAAoB,KAAKC,OAAzB;AACD;;AAEDC,MAAI,CAACC,UAA4B,IAA7B,EAAmCC,gBAA0C,IAA7E,EAAiF;AACnF,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,cAAL,GAAsBD,aAAtB;;AACA,QAAID,OAAO,IAAIC,aAAf,EAA8B;AAC5B,WAAKE,WAAL,GAAmB;AACjBC,gBAAQ,EAAE,KAAKf,MAAL,CAAYgB,gBAAZ,CAA6B,KAAKL,OAAL,CAAaM,WAA1C,CADO;AAEjBC,eAAO,EAAE,KAAKnB,YAAL,CAAkBoB,gBAAlB,CAAmC,KAAKR,OAAL,CAAaS,WAAhD,CAFQ;AAGjBC,mBAAW,EAAE,KAAKC,cAAL,CAAoB,KAAKX,OAAL,CAAaY,YAAjC;AAHI,OAAnB;AAKD,KAND,MAMO,KAAKT,WAAL,GAAmB;AAAEC,cAAQ,EAAE,EAAZ;AAAgBG,aAAO,EAAE,EAAzB;AAA6BG,iBAAW,EAAE;AAA1C,KAAnB;;AACP,SAAKG,WAAL;AACD;;AACDA,aAAW;AACT,SAAKC,QAAL,GAAgB,KAAKZ,cAAL,CAAoBa,MAApB,CAA2B,CAACC,IAAD,EAAeC,IAAf,KAAwBD,IAAI,GAAG,IAAIC,IAAI,CAACC,KAAnE,EAA0E,CAA1E,CAAhB;AAED;;AAEDrB,gBAAc,CAACsB,EAAD,EAAG;AAAA;;AACf,SAAK3B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChEC,aAAO,CAACC,GAAR,CAAY,CACV,KAAKnC,YAAL,CAAkBoC,OAAlB,CAA0BL,EAA1B,CADU,EAEV,KAAK/B,YAAL,CAAkBqC,yBAAlB,CAA4CN,EAA5C,CAFU,CAAZ,EAGGE,IAHH,CAGQ,CAAC,CAACrB,OAAD,EAAUC,aAAV,CAAD,KAAkC;AACxCA,qBAAa,CAACyB,OAAd;AAAA,gJAAsB,WAAOC,OAAP,EAAgBC,KAAhB,EAAyB;AAC7C,gBAAID,OAAO,CAACE,oBAAZ,EAAkC;AAChC,kBAAIC,WAAW,SAAS,KAAI,CAAC1C,YAAL,CAAkB2C,gCAAlB,CAAmDJ,OAAO,CAACE,oBAA3D,CAAxB;AACAF,qBAAO,CAACK,IAAR,GAAeF,WAAW,CAAC,mBAAD,CAA1B;AACAH,qBAAO,CAACM,IAAR,GAAeH,WAAW,CAAC,MAAD,CAA1B;AACAH,qBAAO,CAACO,QAAR,GAAmBJ,WAAW,CAAC,UAAD,CAA9B;AACAH,qBAAO,CAACQ,YAAR,GAAuB,KAAI,CAACC,iBAAL,CAAuBN,WAAW,CAAC,UAAD,CAAlC,CAAvB;AACD;;AACD,gBAAIF,KAAK,IAAI3B,aAAa,CAACoC,MAAd,GAAuB,CAApC,EAAuC;AACrCpC,2BAAa,GAAG,KAAI,CAACX,WAAL,CAAiBgD,mBAAjB,CAAqCrC,aAArC,EAAoD,MAApD,CAAhB;;AACA,mBAAI,CAACF,IAAL,CAAUC,OAAV,EAAmBC,aAAnB;;AACA,mBAAI,CAACT,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B;AACD;AACF,WAbD;;AAAA;AAAA;AAAA;AAAA;AAgBD,OApBD;AAqBD,KAtBD;AAwBD;;AAGDH,mBAAiB,CAACI,IAAD,EAAK;AACpB,QAAIR,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIL,OAAT,IAAoBa,IAApB,EAA0B;AACxB,UAAIC,OAAO,GAAG,KAAKrD,YAAL,CAAkBsD,qBAAlB,CAAwCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAAhG,CAAd;AACAjB,aAAO,CAACK,IAAR,GAAcS,OAAO,CAACT,IAAtB;AACAL,aAAO,CAACkB,IAAR,GAAcJ,OAAO,CAACI,IAAtB;AACAb,UAAI,IAAI,OAASL,OAAO,CAACmB,QAAjB,GAA2B,IAA3B,GAAkCL,OAAO,CAACT,IAA1C,GAAiD,IAAjD,GAAwD,KAAK5C,YAAL,CAAkB2D,eAAlB,CAAkCN,OAAO,CAACO,KAA1C,EAAgDrB,OAAO,CAACsB,KAAxD,EAAgEJ,IAAxH,GAA+H,MAAvI;AACD;;AACD,WAAOb,IAAP;AACD;;AAGDkB,QAAM;AACH,SAAK1D,WAAL,CAAiB2D,SAAjB;AACF;;AAGDC,kBAAgB;AACd,QAAI,KAAKC,WAAL,CAAiB5C,WAAjB,IAAgC,WAApC,EAAiD;AAC/C,WAAK6C,QAAL,GAAgB,KAAKlE,YAAL,CAAkBoB,gBAAlB,CAAmC,KAAK6C,WAAL,CAAiB5C,WAApD,CAAhB;AACA,WAAK8C,mBAAL,GAA2B,IAA3B;AACD;AACF;;AACDC,mBAAiB,CAACC,CAAD,EAAE;AACjB,SAAKF,mBAAL,GAA2B,KAA3B;AACD;;AAEM5C,gBAAc,CAAC+C,IAAD,EAAgB;AACnC,YAAQA,IAAR;AACE,WAAK,CAAL;AAAQ,eAAO,KAAKnE,eAAL,CAAqBoE,SAArB,CAA+B,MAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,OAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKvE,YAAL,CAAkBwE,cAAlB,CAAiC,KAAK5D,OAAL,CAAa6D,SAA9C,EAAyD7B,IAAhE;AAHV;AAKD;;AACD8B,gBAAc,CAACC,OAAD,EAAkBC,UAAlB,EAAoC;AAChD,QAAIvB,OAAO,GAAG,KAAKrD,YAAL,CAAkB6E,eAAlB,CAAkCF,OAAlC,CAAd;AACA,QAAIG,OAAJ;AACA,QAAIF,UAAJ,EAAgBE,OAAO,GAAGzB,OAAO,CAAC0B,IAAR,CAAaC,IAAb,CAAkBC,IAAI,IAAIA,IAAI,CAACC,GAAL,IAAYN,UAAtC,CAAV;AAChB,WAAO;AAAEhC,UAAI,EAAE,GAAGS,OAAO,GAAGA,OAAO,CAACT,IAAX,GAAkB,EAAE,IAAIkC,OAAO,GAAG,MAAMA,OAAO,CAAClC,IAAd,GAAqB,GAAxB,GAA8B,EAAE;AAAjF,KAAP;AACD;;AAIDuC,eAAa;AACX,QAAI,KAAKlF,MAAL,CAAYmF,iBAAZ,CAA8B,yBAA9B,CAAJ,EAA8D;AAC5D,WAAKhF,WAAL,CAAiBiF,YAAjB,CAA8B,KAAKlF,eAAL,CAAqBoE,SAArB,CAA+B,SAA/B,CAA9B,EAAyE,EAAzE,EAA6E,GAAG,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,0CAA/B,CAA0E,GAA1J,EAA+J,IAA/J,EAAqK,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,QAA/B,CAArK,EACGtC,IADH,CACQ,MAAK;AACT,aAAK7B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChE,eAAKjC,YAAL,CAAkBsF,qBAAlB,CAAwC,KAAK1E,OAAL,CAAasE,GAArD,EAA0DjD,IAA1D,CAAgEsD,IAAD,IAAS;AACtE,gBAAIA,IAAJ,EAAU;AACR,mBAAKnF,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACxC,qBAAK6B,MAAL;AACA,qBAAK1D,WAAL,CAAiBoF,mBAAjB,CAAqC,SAArC,EACE,GAAG,KAAKrF,eAAL,CAAqBoE,SAArB,CAA+B,eAA/B,CAA+C,IAAI,KAAK3D,OAAL,CAAa6E,SAAS,IAAI,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,iCAA/B,CAAiE,EADnJ,EACuJ,eADvJ;AAED,eAJD;AAKD,aAND,MAMO;AACL,mBAAKnE,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACxC,qBAAK7B,WAAL,CAAiBoF,mBAAjB,CAAqC,OAArC,EACE,GAAG,KAAKrF,eAAL,CAAqBoE,SAArB,CAA+B,4FAA/B,CAA4H,EADjI;AAED,eAHD;AAID;AAEF,WAdD;AAeD,SAhBD;AAiBD,OAnBH,EAmBK,MAAK,CAAI,CAnBd;AAoBD,KArBD,MAqBO,KAAKnE,WAAL,CAAiBsF,SAAjB,CAA2B,IAA3B,EAAiC,KAAKvF,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAjC,EAAgG,aAAhG;AACR;;AACMoB,eAAa,CAACxE,OAAD,EAAQ;AAC1B,WAAO,CAACA,OAAO,CAACyE,OAAR,GAAkBzE,OAAO,CAACyE,OAA1B,GAAoC,EAArC,KACJzE,OAAO,CAAC0E,QAAR,GAAmB,OAAO1E,OAAO,CAAC0E,QAAlC,GAA6C,EADzC,KAEJ1E,OAAO,CAAC2E,QAAR,GAAmB,OAAO3E,OAAO,CAAC2E,QAAlC,GAA6C,EAFzC,KAGJ3E,OAAO,CAAC4E,OAAR,GAAkB,OAAO5E,OAAO,CAAC4E,OAAjC,GAA2C,EAHvC,CAAP;AAID;;AAEDC,cAAY;AACV,QAAIC,KAAK,GAAG,KAAKjG,YAAL,CAAkBkG,iBAAlB,CAAoC,iCAApC,CAAZ;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4B/B,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASe,KAAK,CAACI,kBAAhD,CAAlB,EAAuFC,MAApG,EAA4G;AAC1G,UAAIC,OAAO,GAAIN,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4B/B,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASe,KAAK,CAACI,kBAAhD,CAAlB,CAAf;;AACA,UAAIE,OAAJ,EAAa;AACX,YAAIjC,IAAI,GAAGiC,OAAO,CAACrB,GAAnB;AACA,aAAK9E,WAAL,CAAiBoG,SAAjB,CAA2B,KAAKC,eAAL,CAAqBnC,IAArB,CAA3B,EAAuD;AAAEiC,iBAAO,EAAEA,OAAX;AAAoBzF,wBAAc,EAAG,KAAKA,cAA1C;AAA0DF,iBAAO,EAAE,KAAKA;AAAxE,SAAvD,EAA0I,KAA1I,EAAiJ,KAAjJ,EAAwJ,eAAe0D,IAAI,EAA3K,EAA+KrC,IAA/K,CAAqL5B,KAAD,IAAU,CAE7L,CAFD;AAGD;AACF,KARD,MAQK;AACH,WAAKA,KAAL,CAAWqG,OAAX,CAAmB;AACjBC,eAAO,EAAE,QAAQ,KAAKxG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBqC,iBAAS,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBsC,kBAAU,EAAE,aAHK;AAIjBC,oBAAY,EAAE,IAJG;AAKjBC,cAAM,EAAE,MAAK,CAAG;AALC,OAAnB;AAOD;AAEF;AAGD;;;;;;;;AAMAC,eAAa,CAAClE,QAAD,EAAgB;AAC3B,QAAIF,IAAI,GAAG,EAAX;AACAE,YAAQ,CAACR,OAAT,CAAiBC,OAAO,IAAG;AACzB,UAAIc,OAAO,GAAG,KAAKrD,YAAL,CAAkBsD,qBAAlB,CAAwCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAAhG,CAAd;AACAjB,aAAO,CAACK,IAAR,GAAcS,OAAO,CAACT,IAAtB;AACAL,aAAO,CAACkB,IAAR,GAAcJ,OAAO,CAACI,IAAtB;AACAb,UAAI,IAAI,OAAOL,OAAO,CAACmB,QAAf,GAA0B,IAA1B,GAAiCL,OAAO,CAACT,IAAzC,GAAgD,IAAhD,GAAuD,KAAK5C,YAAL,CAAkB2D,eAAlB,CAAkCN,OAAO,CAACO,KAA1C,EAAiDrB,OAAO,CAACsB,KAAzD,EAAgEJ,IAAvH,GAA8H,MAAtI;AACD,KALD;AAMA,WAAOb,IAAP;AACD;AAED;;;;;;;AAKQ6D,iBAAe,CAACnC,IAAD,EAA0G;AAC/H,YAAQA,IAAR;AACE,WAAK,mBAAL;AAA0B,eAAO/E,iLAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,iLAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,iLAAP;;AAC1B,WAAK,eAAL;AAAsB,eAAOC,gKAAP;;AACtB,WAAK,eAAL;AAAsB,eAAOJ,gKAAP;;AACtB;AAAS,eAAOA,gKAAP;AANX;AAQD;;AA1MmC;;;mBAAzBO,2BAAyBF,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,6DAAAA,GAAAA,+DAAAA,CAAAA,uDAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,oFAAAA,GAAAA,+DAAAA,CAAAA,2FAAAA,GAAAA,+DAAAA,CAAAA,gEAAAA;AAAA;;;QAAzBE;AAAyBoH;AAAAC;AAAAxG;AAAA;AAAAyG;AAAAC;AAAAC;AAAAC;AAAA;AClBtC3H,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAAuCA,MAAAA,wDAAAA;AAAA,eAAS4H,YAAT;AAAiB,OAAjB;AACnC5H,MAAAA,uDAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAwIJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;;;;AAzI4BA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC8C4CA,IAAAA,4DAAAA;AAA2FA,IAAAA,oDAAAA;AAC3FA,IAAAA,0DAAAA;;;;;;AAD2FA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAjBvGA,IAAAA,qEAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACAA,IAAAA,oDAAAA;AACDA,IAAAA,0DAAAA;AACHA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAAqBA,IAAAA,oDAAAA;AAAaA,IAAAA,0DAAAA;AAClCA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAEJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,mEAAAA;;;;;;AAjBYA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEjBA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGGA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAKkEA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AA4B7FA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;AADIA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAEJA,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AAEFA,IAAAA,0DAAAA;;;;;AAFEA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAkBJA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA2CA,IAAAA,0DAAAA;AACpDA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;AAETA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA0CA,IAAAA,0DAAAA;AAC/CA,IAAAA,4DAAAA;AACEA,IAAAA,oDAAAA;AAAmEA,IAAAA,0DAAAA;AACvEA,IAAAA,0DAAAA;;;;;AAJQA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEHA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;AAqBNA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgBA,IAAAA,0DAAAA;AACzBA,IAAAA,0DAAAA;;;;;AAFUA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;;;;;;;;;;;;;;AAnIrBA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAAQA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA;AACJA,IAAAA,uDAAAA;AAEZA,IAAAA,oDAAAA;;AACFA,IAAAA,0DAAAA;AACMA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAkBA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACvDA,IAAAA,4DAAAA;AAAmCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACxEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACrEA,IAAAA,4DAAAA;AAAkCA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAAIA,IAAAA,0DAAAA;AACpEA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAsBJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA8BA,IAAAA,0DAAAA;AACjCA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;AAAqBA,IAAAA,0DAAAA;AAC7BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6BA,IAAAA,0DAAAA;AACpCA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAA4BA,IAAAA,0DAAAA;AAC/BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;;AAA2CA,IAAAA,0DAAAA;AAClDA,IAAAA,0DAAAA;AAENA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAsCA,IAAAA,0DAAAA;AACzCA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAGAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAGA,IAAAA,oDAAAA;;AAAqCA,IAAAA,0DAAAA;AACxCA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAA0BA,IAAAA,0DAAAA;AAChCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAwCA,IAAAA,0DAAAA;AACjDA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AACdA,IAAAA,0DAAAA;AACQA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsDA,IAAAA,0DAAAA;AAC5DA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAgDA,IAAAA,0DAAAA;AACzDA,IAAAA,0DAAAA;AAEAA,IAAAA,wDAAAA;AAIAA,IAAAA,wDAAAA;AAMEA,IAAAA,4DAAAA;AACEA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAuBA,IAAAA,0DAAAA;AAC7BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AAEtDA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAqBA,IAAAA,0DAAAA;AAC3BA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAAsDA,IAAAA,0DAAAA;AAE/DA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAsBA,IAAAA,0DAAAA;AAC5BA,IAAAA,4DAAAA;AAA6CA,IAAAA,oDAAAA;AACvBA,IAAAA,0DAAAA;AAC1BA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAMA,IAAAA,oDAAAA;;AAAgCA,IAAAA,0DAAAA;AACtCA,IAAAA,4DAAAA;AAAKA,IAAAA,oDAAAA;AAA6CA,IAAAA,0DAAAA;AACtDA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;;AArI8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAE3BA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAOXA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,MAAAA,yDAAAA;AAM0IA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,eAAAA,yDAAAA;AAAxHA,IAAAA,wDAAAA,aAAAA,6DAAAA,+BAA+B,QAA/B,EAA+BC,qBAA/B;AAGuBD,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACiBA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACAA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAIVA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AA2B1BA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGVA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAGHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGFA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACEA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAKNA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACGA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAGAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAMHA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AAEOA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AAEAA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA,KAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAGgDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAO/CA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAICA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACuCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAIvCA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA,CAAAA,yDAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,+DAAAA;AAEiDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;AD5HxE,MAAOkI,qBAAP,CAA4B;AAWhC/H,cACUC,MADV,EAESC,YAFT,EAGSC,MAHT,EAISC,WAJT,EAKUC,eALV,EAMUC,WANV,EAOUC,KAPV,EAQUyH,KARV,EASSC,OATT,EASyB;AARf;AACD;AACA;AACA;AACC;AACA;AACA;AACA;AACD;AAdT,oBAAW,CAAX;AAGO,+BAA+B,KAA/B;AAaN;;AAGDpH,MAAI,CAACC,UAA4B,IAA7B,EAAmCC,gBAA0C,IAA7E,EAAiF;AACnF,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKE,cAAL,GAAsBD,aAAtB;;AACA,QAAID,OAAO,IAAIC,aAAf,EAA8B;AAC5B,WAAKE,WAAL,GAAmB;AACjBC,gBAAQ,EAAE,KAAKf,MAAL,CAAYgB,gBAAZ,CAA6B,KAAKL,OAAL,CAAaM,WAA1C,CADO;AAEjBC,eAAO,EAAE,KAAKnB,YAAL,CAAkBoB,gBAAlB,CAAmC,KAAKR,OAAL,CAAaS,WAAhD,CAFQ;AAGjBC,mBAAW,EAAE,KAAKC,cAAL,CAAoB,KAAKX,OAAL,CAAaY,YAAjC;AAHI,OAAnB;AAKD,KAND,MAMO,KAAKT,WAAL,GAAmB;AAAEC,cAAQ,EAAE,EAAZ;AAAgBG,aAAO,EAAE,EAAzB;AAA6BG,iBAAW,EAAE;AAA1C,KAAnB;;AACP,SAAKG,WAAL;AACD;;AACDA,aAAW;AACT,SAAKC,QAAL,GAAgB,KAAKZ,cAAL,CAAoBa,MAApB,CAA2B,CAACC,IAAD,EAAeC,IAAf,KAAwBD,IAAI,GAAG,IAAIC,IAAI,CAACC,KAAnE,EAA0E,CAA1E,CAAhB;AAED;;AACDkG,oBAAkB;AAChB,QAAIC,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,KACJD,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CADI,IAEJD,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAFI,IAGJD,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAHA,EAGiD;AAC/C,WAAKC,WAAL,GACEF,QAAQ,CAACC,aAAT,CAAuB,6BAAvB,EAAsDE,YAAtD,GACAH,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CE,YAD3C,GAEAH,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCE,YAFtC,GAGAH,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,EAAgDE,YAHhD,GAG+D,EAH/D,GAGoE,IAJtE;AAKD;;AAED,SAAKN,KAAL,CAAWO,aAAX;AACD;;AAEDC,oBAAkB;AAChB,SAAK7H,cAAL,CAAoB,KAAKC,OAAzB;AACD;;AACOD,gBAAc,CAACsB,EAAD,EAAG;AACvB,SAAK3B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChEC,aAAO,CAACC,GAAR,CAAY,CACV,KAAKnC,YAAL,CAAkBoC,OAAlB,CAA0BL,EAA1B,CADU,EAEV,KAAK/B,YAAL,CAAkBqC,yBAAlB,CAA4CN,EAA5C,CAFU,CAAZ,EAGGE,IAHH,CAGQ,CAAC,CAACrB,OAAD,EAAUC,aAAV,CAAD,KAAkC;AAGxC,YAAI0H,kBAAkB,GAA6B,EAAnD;;AACA,YAAI1H,aAAa,CAACoC,MAAd,IAAwBpC,aAAa,CAAC,CAAD,CAAb,CAAiB2H,UAA7C,EAAyD;AACvD,cAAIC,OAAO,GAAG,IAAIC,KAAJ,EAAd;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9H,aAAa,CAACoC,MAAlC,EAA0C0F,CAAC,EAA3C,EAA+C;AAC7CF,mBAAO,CAACE,CAAD,CAAP,GAAa,KAAK3I,YAAL,CAAkB4I,UAAlB,CAA6B/H,aAAa,CAAC8H,CAAD,CAAb,CAAiBH,UAA9C,CAAb;AACD;;AACD,eAAKT,OAAL,CAAac,eAAb,CAA6BJ,OAA7B,EAAsCxG,IAAtC,CAA4C6G,KAAD,IAAU;AACnDP,8BAAkB,GAAGO,KAAK,CAACC,GAAN,CAAU,CAAC9D,IAAD,EAAMzC,KAAN,KAAe;AAAG,qDAAWyC,IAAX,GAAmBpE,aAAa,CAAC2B,KAAD,CAAhC;AAAyC,aAArE,CAArB;AACA,iBAAK7B,IAAL,CAAUC,OAAV,EAAmB2H,kBAAnB;AACD,WAHD,EAGES,KAAK,IAAG,CAET,CALD;AAMD;;AACD,aAAK5I,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B;AACD,OApBD;AAqBD,KAtBD;AAyBD,GArF+B,CAuFhC;;;AACA6D,eAAa,CAAClE,QAAD,EAAgB;AAC3B,QAAIF,IAAI,GAAG,EAAX;AACAE,YAAQ,CAACR,OAAT,CAAiBC,OAAO,IAAG;AACzB,UAAIc,OAAO,GAAG,KAAKrD,YAAL,CAAkBsD,qBAAlB,CAAwCf,OAAO,CAACgB,aAAR,GAAwBhB,OAAO,CAACgB,aAAhC,GAAgDhB,OAAO,CAACiB,UAAhG,CAAd;AACAZ,UAAI,IAAI,OAAKL,OAAO,CAACmB,QAAb,GAAuB,IAAvB,GAAgCL,OAAO,CAACT,IAAxC,GAA+C,IAA/C,GAAsD,KAAK5C,YAAL,CAAkB2D,eAAlB,CAAkCN,OAAO,CAACO,KAA1C,EAAgDrB,OAAO,CAACsB,KAAxD,EAAgEJ,IAAtH,GAA6H,MAArI;AACD,KAHD;AAIA,WAAOb,IAAP;AACD;;AAEDkB,QAAM;AACJ,SAAK1D,WAAL,CAAiB2D,SAAjB;AAED;;AAGDoB,eAAa;AACX,QAAI,KAAKlF,MAAL,CAAYmF,iBAAZ,CAA8B,yBAA9B,CAAJ,EAA8D;AAC5D,WAAKhF,WAAL,CAAiBiF,YAAjB,CAA8B,KAAKlF,eAAL,CAAqBoE,SAArB,CAA+B,SAA/B,CAA9B,EAAyE,EAAzE,EAA6E,GAAG,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qCAA/B,CAAqE,GAArJ,EAA0J,IAA1J,EAAgK,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,QAA/B,CAAhK,EACGtC,IADH,CACQ,MAAK;AACT,aAAK7B,WAAL,CAAiB4B,WAAjB,CAA6B,EAA7B,EAAiC,qBAAjC,EAAwDC,IAAxD,CAA6D,MAAK;AAChE,eAAKjC,YAAL,CAAkBsF,qBAAlB,CAAwC,KAAK1E,OAAL,CAAasE,GAArD,EAA0DjD,IAA1D,CAAgEsD,IAAD,IAAS;AAChF,gBAAGA,IAAH,EAAQ;AACP,mBAAKnF,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACzC,qBAAK7B,WAAL,CAAiBoF,mBAAjB,CAAqC,SAArC,EACE,GAAG,KAAKrF,eAAL,CAAqBoE,SAArB,CAA+B,eAA/B,CAA+C,IAAI,KAAK3D,OAAL,CAAa6E,SAAS,IAAI,KAAKtF,eAAL,CAAqBoE,SAArB,CAA+B,iCAA/B,CAAiE,EADnJ;AAEA,qBAAKxE,MAAL,CAAYkJ,QAAZ,CAAqB,CAAC,sBAAD,CAArB;AACA,eAJD;AAKA,aAND,MAMK;AACJ,mBAAK7I,WAAL,CAAiB+C,WAAjB,CAA6B,CAA7B,EAAgClB,IAAhC,CAAqC,MAAK;AACzC,qBAAK7B,WAAL,CAAiBoF,mBAAjB,CAAqC,OAArC,EACE,GAAG,KAAKrF,eAAL,CAAqBoE,SAArB,CAA+B,kFAA/B,CAAkH,EADvH;AAEA,eAHD;AAIA;AAEQ,WAdD;AAeD,SAhBD;AAiBD,OAnBH,EAmBK,MAAK,CAAI,CAnBd;AAoBD,KArBD,MAsBK,KAAKnE,WAAL,CAAiBoF,mBAAjB,CAAqC,OAArC,EAA8C,KAAKrF,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAA9C;AACN;;AAEDP,kBAAgB;AACd,QAAI,KAAKC,WAAL,CAAiB5C,WAAjB,IAAgC,WAApC,EAAiD;AAC/C,WAAK6C,QAAL,GAAgB,KAAKlE,YAAL,CAAkBoB,gBAAlB,CAAmC,KAAK6C,WAAL,CAAiB5C,WAApD,CAAhB;AACA,WAAK8C,mBAAL,GAA2B,IAA3B;AACD;AACF;;AAEDC,mBAAiB,CAACC,CAAD,EAAE;AACjB,SAAKF,mBAAL,GAA2B,KAA3B;AAED;;AAEM5C,gBAAc,CAAC+C,IAAD,EAAgB;AACnC,YAAQA,IAAR;AACE,WAAK,CAAL;AAAQ,eAAO,KAAKnE,eAAL,CAAqBoE,SAArB,CAA+B,MAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,OAA/B,CAAP;;AACR,WAAK,CAAL;AAAQ,eAAO,KAAKvE,YAAL,CAAkBwE,cAAlB,CAAiC,KAAK5D,OAAL,CAAa6D,SAA9C,EAAyD7B,IAAhE;AAHV;AAKD;AAID;;;AACAsG,aAAW,CAACC,GAAD,EAAW;AACpB,QAAIC,OAAO,GAAW,EAAtB;AACAD,OAAG,CAAC7G,OAAJ,CAAY2C,IAAI,IAAG;AACjB,UAAImE,OAAO,CAACnG,MAAZ,EACEmG,OAAO,IAAI,KAAKnE,IAAI,CAACvB,QAAQ,IAAIuB,IAAI,CAACrC,IAAI,EAA1C,CADF,KAEKwG,OAAO,IAAI,GAAGnE,IAAI,CAACvB,QAAQ,IAAIuB,IAAI,CAACrC,IAAI,EAAxC;AACN,KAJD;AAKA,WAAOwG,OAAP;AACD;;AAEMzD,eAAa,CAACxE,OAAD,EAAQ;AAC1B,WAAO,CAACA,OAAO,CAACyE,OAAR,GAAkBzE,OAAO,CAACyE,OAA1B,GAAoC,EAArC,KACJzE,OAAO,CAAC0E,QAAR,GAAmB,OAAO1E,OAAO,CAAC0E,QAAlC,GAA6C,EADzC,KAEJ1E,OAAO,CAAC2E,QAAR,GAAmB,OAAO3E,OAAO,CAAC2E,QAAlC,GAA6C,EAFzC,KAGJ3E,OAAO,CAAC4E,OAAR,GAAkB,OAAO5E,OAAO,CAAC4E,OAAjC,GAA2C,EAHvC,CAAP;AAID;;AAEDC,cAAY;AACV,QAAIC,KAAK,GAAG,KAAKjG,YAAL,CAAkBkG,iBAAlB,CAAoC,4BAApC,CAAZ;;AACA,QAAID,KAAK,IAAIA,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4B/B,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASe,KAAK,CAACI,kBAAhD,CAAlB,EAAuFC,MAApG,EAA4G;AAC1G,UAAIC,OAAO,GAAIN,KAAK,CAACE,WAAN,CAAkBF,KAAK,CAACE,WAAN,CAAkBC,SAAlB,CAA4B/B,CAAC,IAAIA,CAAC,CAACa,GAAF,IAASe,KAAK,CAACI,kBAAhD,CAAlB,CAAf;;AACA,UAAIE,OAAJ,EAAa;AACX,YAAIjC,IAAI,GAAGiC,OAAO,CAACrB,GAAnB;AACA,aAAK9E,WAAL,CAAiBoG,SAAjB,CAA2B,KAAKC,eAAL,CAAqBnC,IAArB,CAA3B,EAAuD;AAAEiC,iBAAO,EAAEA,OAAX;AAAqB3F,iBAAO,EAAE,KAAKA,OAAnC;AAA6CE,wBAAc,EAAG,KAAKA;AAAnE,SAAvD,EAA2I,KAA3I,EAAkJ,KAAlJ,EAAyJ,eAAewD,IAAI,EAA5K,EAAgLrC,IAAhL,CAAsL5B,KAAD,IAAU,CAE9L,CAFD;AAGD,OALD,MAMI;AACF,aAAKA,KAAL,CAAWqG,OAAX,CAAmB;AACjBC,iBAAO,EAAE,QAAQ,KAAKxG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBqC,mBAAS,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBsC,oBAAU,EAAE,aAHK;AAIjBC,sBAAY,EAAE,IAJG;AAKjBC,gBAAM,EAAE,MAAK,CAAG;AALC,SAAnB;AAOD;AACF,KAjBD,MAkBI;AACF,WAAK1G,KAAL,CAAWqG,OAAX,CAAmB;AACjBC,eAAO,EAAE,QAAQ,KAAKxG,eAAL,CAAqBoE,SAArB,CAA+B,UAA/B,CAAR,GAAqD,MAD7C;AAEjBqC,iBAAS,EAAE,QAAQ,KAAKzG,eAAL,CAAqBoE,SAArB,CAA+B,6BAA/B,CAAR,GAAwE,GAAxE,GAA8E,KAA9E,GAAsF,GAAtF,GAA4F,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,qBAA/B,CAA5F,GAAoJ,GAApJ,GAA0J,MAA1J,GAAmK,GAAnK,GAAyK,MAAzK,GAAkL,KAAlL,GAA0L,GAA1L,GAAgM,KAAKpE,eAAL,CAAqBoE,SAArB,CAA+B,YAA/B,CAAhM,GAA+O,GAA/O,GAAqP,MAArP,GAA8P,MAFxP;AAGjBsC,kBAAU,EAAE,aAHK;AAIjBC,oBAAY,EAAE,IAJG;AAKjBC,cAAM,EAAE,MAAK,CAAG;AALC,OAAnB;AAOD;AACF;AAGD;;;;;;;AAKQN,iBAAe,CAACnC,IAAD,EAA0G;AAC/H,YAAQA,IAAR;AACE,WAAK,mBAAL;AAA0B,eAAOkD,8JAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,8JAAP;;AAC1B,WAAK,mBAAL;AAA0B,eAAOC,8JAAP;;AAC1B,WAAK,eAAL;AAAsB,eAAOC,6IAAP;;AACtB,WAAK,eAAL;AAAsB,eAAOC,6IAAP;;AACtB;AAAS,eAAOA,6IAAP;AANX;AAQD;;AAvN+B;;;mBAArBC,uBAAqBlI,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,sDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,oFAAAA,GAAAA,+DAAAA,CAAAA,2FAAAA,GAAAA,+DAAAA,CAAAA,gEAAAA,GAAAA,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,uDAAAA;AAAA;;;QAArBkI;AAAqBZ;AAAAC;AAAAxG;AAAA;AAAAyG;AAAAC;AAAAC;AAAAC;AAAA;ACjBlC3H,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAAuCA,MAAAA,wDAAAA;AAAA,eAAS4H,YAAT;AAAiB,OAAjB;AACnC5H,MAAAA,uDAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAwIJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;;;;AAzI4BA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA","sources":["./src/app/sales/components/bill-detail/sales-payment-card/sales-payment-card.component.ts","./src/app/sales/components/bill-detail/sales-payment-card/sales-payment-card.component.html","./src/app/sales/components/bill-detail/sales-voucher/sales-voucher.component.ts","./src/app/sales/components/bill-detail/sales-voucher/sales-voucher.component.html"],"sourcesContent":["import { Component, OnInit ,Input} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { SalesPaymentCardA4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { VhBillType50DetailEdit, VhBillType50Edit } from '../../bill-type/bill-type-50/bill-type50-interface';\r\n\r\n@Component({\r\n  selector: 'app-sales-payment-card',\r\n  templateUrl: './sales-payment-card.component.html',\r\n  styleUrls: ['./sales-payment-card.component.scss']\r\n})\r\nexport class SalesPaymentCardComponent implements OnInit {\r\n  @Input() id_bill: any;\r\n  public invoiceInfo: any;\r\n  public \r\n  invoice_detail: VhBillType50DetailEdit[]\r\n  public invoice: VhBillType50Edit\r\n  subTotal = 0\r\n  public itemInvoice: any;\r\n  public radioValue: number;\r\n  public customer: any;\r\n  public tableHeight: any;\r\n  display_promotion_selling_price: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n  ) {\r\n  \r\n     \r\n  }\r\n  ngOnInit(): void {\r\n    this.getDataInvoice(this.id_bill)\r\n  }\r\n\r\n  init(invoice: VhBillType50Edit = null, invoiceDetail: VhBillType50DetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n\r\n  }\r\n\r\n  getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        invoiceDetail.forEach(async (element, index) => {\r\n          if (element.id_payment_card_code) {\r\n            let paymentcard = await this.vhQuerySales.getPaymentCard_Code_Name_Release(element.id_payment_card_code)\r\n            element.name = paymentcard['name_payment_card']\r\n            element.code = paymentcard['code']\r\n            element.products = paymentcard['products']\r\n            element.product_name = this.renderproductname(paymentcard['products']) \r\n          }\r\n          if (index == invoiceDetail.length - 1) {\r\n            invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n            this.init(invoice, invoiceDetail)\r\n            this.vhComponent.hideLoading(0);\r\n          }\r\n        });\r\n\r\n\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n\r\n  renderproductname(data) {\r\n    let name = ''\r\n    for (let element of data) {\r\n      let product = this.vhQuerySales.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      element.name =product.name;\r\n      element.unit =product.unit;\r\n      name += '- '+    element.quantity +'x ' + product.name + ' (' + this.vhQuerySales.getUnit_byRatio(product.units,element.ratio ).unit  +') \\n';\r\n    } \r\n    return name\r\n  }\r\n\r\n\r\n  goBack() {\r\n     this.vhComponent.hideModal()\r\n  }\r\n\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    if (this.itemInvoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQuerySales.getlocalCustomer(this.itemInvoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n  closeInfoCustomer(e) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n  getNameProduct(id_prod: string, id_subProd: string) {\r\n    let product = this.vhQuerySales.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = product.subs.find(item => item._id == id_subProd)\r\n    return { name: `${product ? product.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}` }\r\n  }\r\n\r\n\r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the sales invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.deleteBill_Billdetail(this.invoice._id).then((bool) => {\r\n              if (bool) {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack()\r\n                  this.vhComponent.alertMessageDesktop(\"success\",\r\n                    `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.vhComponent.alertMessageDesktop(\"error\",\r\n                    `${this.languageService.translate(\"Vì có payment_card đã được đổi lấy hàng hóa nên hóa đơn bán payment_card này không thể xóa\")}`)\r\n                })\r\n              }\r\n\r\n            })\r\n          })\r\n        }, () => { })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n  printInvoice() {\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer =  print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)] \r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer ,invoice_detail : this.invoice_detail, invoice: this.invoice }, false, false, `modal-print-${type}`).then((modal) => {\r\n    \r\n        })\r\n      }\r\n    }else{\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => {}\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  \r\n  /**\r\n   * trả về chuổi tên danh sách sản phẩm trong voucher\r\n   * @param products \r\n   * @returns string\r\n   * @example let name = this.getStringName([])\r\n   */\r\n  getStringName(products: any[]) {\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQuerySales.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      element.name =product.name;\r\n      element.unit =product.unit;\r\n      name += '- ' + element.quantity + 'x ' + product.name + ' (' + this.vhQuerySales.getUnit_byRatio(product.units, element.ratio).unit + ') \\n';\r\n    });\r\n    return name\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n\r\n}\r\n","<ion-content scrollX=\"true\">\r\n    <ion-header mode=\"ios\" class=\"ion-no-border\">\r\n        <ion-toolbar mode=\"ios\">\r\n            <ion-buttons slot=\"start\">\r\n                <ion-button mode=\"md\" color=\"vh-black\" (click)=\"goBack()\" fill=\"clear\">\r\n                    <ion-icon slot=\"icon-only\" color=\"vh-red\" name=\"close-outline\"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <nz-layout id=\"sales-return-invoice-detail\">\r\n        <div class=\"sales\" *ngIf=\"invoice\">\r\n            <div class=\"sales-cart\">\r\n                <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\" class=\"title\">\r\n                        <b>{{'Order for selling prepaid card' | translate}}</b>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                         \r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                            <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n                <!-- <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon> -->\r\n                {{'Print' | translate}}\r\n              </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                    <div class=\"invoiceDetail-item\">\r\n                        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowPagination=\"false\" nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"30%\"><b>{{'Prepaid card name' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='center'><b>{{'Prepaid card code' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                    <tr>\r\n                                        <td>\r\n                                            <b>\r\n                                            {{item['name']}}\r\n                                           </b>\r\n                                        </td>\r\n                                        <td nzAlign='center'>{{item.code}}</td>\r\n                                        <td nzAlign='right'>\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                        </td>\r\n                                        <td nzAlign='right'>\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit( item.price)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                            <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\" *ngIf=\"item.products\"> {{getStringName(item.products)}}\r\n                                            </pre>\r\n                                        </td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills\" [ngClass]=\"'not-continue-sell'\">\r\n                <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                    <div>\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <div> {{invoice.bill_code}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <div>{{invoiceInfo.employee.name}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                      </div>\r\n                   \r\n                </div>\r\n                <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{renderAddress(invoiceInfo.partner)}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                      </div>\r\n                </div>\r\n                <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span>{{'SubTotal' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Discount value' | translate}}\r\n                </span>\r\n                        <span>{{(invoice.discount/subTotal)*100 | number :'1.0-2'}}%</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                        <span>{{'Fee' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                        <span>{{'Tax' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n                        <div>\r\n                          {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n                      </div>\r\n                      <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Total' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Pay' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Rest' | translate}}</span>\r\n                        <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total * (1+invoice.tax / 100) -\r\n                            invoice.payment)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Payment method' | translate}}</span>\r\n                        <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                        <span>{{'Note' | translate}}</span>\r\n                        <div>{{invoice.note}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nz-layout>\r\n</ion-content>\r\n ","import { ChangeDetectorRef, Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component'; \r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { SalesVoucherK57Col3Component } from 'src/app/sales/components/print/sales-voucher/sales-voucher-k57-col3/sales-voucher-k57-col3.component';\r\nimport { SalesVoucherK80Col3Component } from 'src/app/sales/components/print/sales-voucher/sales-voucher-k80-col3/sales-voucher-k80-col3.component';\r\nimport { SalesVoucherK80Col4Component } from 'src/app/sales/components/print/sales-voucher/sales-voucher-k80-col4/sales-voucher-k80-col4.component';\r\nimport { SalesVoucherA5Component } from 'src/app/sales/components/print/sales-voucher/sales-voucher-a5/sales-voucher-a5.component';\r\nimport { SalesVoucherA4Component } from 'src/app/sales/components/print/sales-voucher/sales-voucher-a4/sales-voucher-a4.component';\r\nimport { VhBillType40DetailEdit, VhBillType40Edit } from '../../bill-type/bill-type-40/bill-type40-interface';\r\n@Component({\r\n  selector: 'app-sales-voucher',\r\n  templateUrl: './sales-voucher.component.html',\r\n  styleUrls: ['./sales-voucher.component.scss']\r\n})\r\nexport class SalesVoucherComponent   {\r\n  @Input() id_bill: any;\r\n  public invoiceInfo: any;\r\n  \r\n  invoice_detail: VhBillType40DetailEdit[]\r\n  public invoice: VhBillType40Edit\r\n  subTotal = 0\r\n  public itemInvoice: any;\r\n  public customer: any;\r\n  public visibleInfoCustomer: boolean = false;\r\n  public tableHeight;\r\n  constructor(\r\n    private router: Router,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhQuery: VhQuery\r\n  ) { \r\n  }\r\n\r\n\r\n  init(invoice: VhBillType40Edit = null, invoiceDetail: VhBillType40DetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-invoice-detail-today\")  &&\r\n    document.querySelector(\".ant-table-thead\") &&\r\n    document.querySelector(\".sales-cart\") &&\r\n    document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight =\r\n        document.querySelector(\"#sales-invoice-detail-today\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".sales-cart\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.getDataInvoice(this.id_bill)\r\n  }\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        \r\n\r\n        let invoiceDetailFresh: VhBillType40DetailEdit[] = []\r\n        if (invoiceDetail.length && invoiceDetail[0].id_voucher) {\r\n          let promise = new Array();\r\n          for (let i = 0; i < invoiceDetail.length; i++) {\r\n            promise[i] = this.vhQuerySales.getVoucher(invoiceDetail[i].id_voucher)\r\n          }\r\n          this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n            invoiceDetailFresh = array.map((item,index) => { return {...item,...invoiceDetail[index]}})\r\n            this.init(invoice, invoiceDetailFresh)\r\n          },error => {\r\n            \r\n          })\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n\r\n  }\r\n\r\n  // chuổi danh sách sản phẩm\r\n  getStringName(products:any []){\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQuerySales.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      name += '- '+element.quantity+ 'x ' +   product.name + ' (' + this.vhQuerySales.getUnit_byRatio(product.units,element.ratio ).unit  +') \\n';\r\n    });\r\n    return name\r\n  }\r\n\r\n  goBack(){\r\n    this.vhComponent.hideModal()\r\n\r\n  }\r\n\r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel this invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.deleteBill_Billdetail(this.invoice._id).then((bool) => {\r\n\t\t\t\tif(bool){\r\n\t\t\t\t\tthis.vhComponent.hideLoading(0).then(() => {\r\n\t\t\t\t\t\tthis.vhComponent.alertMessageDesktop(\"success\",\r\n\t\t\t\t\t\t  `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}` )\r\n\t\t\t\t\t\tthis.router.navigate(['/sales/sales-voucher'])\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.vhComponent.hideLoading(0).then(() => {\r\n\t\t\t\t\t\tthis.vhComponent.alertMessageDesktop(\"error\",\r\n\t\t\t\t\t\t  `${this.languageService.translate(\"Vì có voucher đã được đổi lấy hàng hóa nên hóa đơn bán voucher này không thể xóa\")}`)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n            })\r\n          })\r\n        }, () => { })\r\n    }\r\n    else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('You do not have this rights'))\r\n  }\r\n\r\n  openInfoCustomer() {\r\n    if (this.itemInvoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQuerySales.getlocalCustomer(this.itemInvoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n\r\n  closeInfoCustomer(e){\r\n    this.visibleInfoCustomer = false;\r\n\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n  printInvoice() {\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer =  print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer , invoice: this.invoice , invoice_detail : this.invoice_detail}, false, false, `modal-print-${type}`).then((modal) => {\r\n         \r\n        })\r\n      }\r\n      else{\r\n        this.modal.confirm({\r\n          nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n          nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n          nzIconType: \"info-circle\",\r\n          nzCancelText: null,\r\n          nzOnOk: () => {}\r\n        });\r\n      }\r\n    }\r\n    else{\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => {}\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesVoucherK57Col3Component\r\n      case 'print_size_k80_3c': return SalesVoucherK80Col3Component\r\n      case 'print_size_k80_4c': return SalesVoucherK80Col4Component\r\n      case 'print_size_a5': return SalesVoucherA5Component\r\n      case 'print_size_a4': return SalesVoucherA4Component\r\n      default: return SalesVoucherA4Component\r\n    }\r\n  }\r\n\r\n}\r\n","<ion-content scrollX=\"true\">\r\n    <ion-header mode=\"ios\" class=\"ion-no-border\">\r\n        <ion-toolbar mode=\"ios\">\r\n            <ion-buttons slot=\"start\">\r\n                <ion-button mode=\"md\" color=\"vh-black\" (click)=\"goBack()\" fill=\"clear\">\r\n                    <ion-icon slot=\"icon-only\" color=\"vh-red\" name=\"close-outline\"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-header>\r\n\r\n    <nz-layout id=\"sales-return-invoice-detail\">\r\n        <div class=\"sales\" *ngIf=\"invoice\">\r\n            <div class=\"sales-cart\">\r\n                <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\" class=\"title\">\r\n                        <b>{{'Order for selling voucher' | translate}}</b>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                        \r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                            <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n                <!-- <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon> -->\r\n                {{'Print' | translate}}\r\n              </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                    <div class=\"invoiceDetail-item\">\r\n                        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowPagination=\"false\" nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"30%\"><b>{{'Voucher name' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='center'><b>{{'Voucher code' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                    <tr>\r\n                                        <td>\r\n                                            <b>\r\n                                            {{item['name']}}\r\n                                           </b>\r\n                                        </td>\r\n                                        <td nzAlign='center'>{{item.code}}</td>\r\n                                        <td nzAlign='right'>\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                        </td>\r\n                                        <td nzAlign='right'>\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit( item.price)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                            <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\" *ngIf=\"item.products\"> {{getStringName(item.products)}}\r\n                                            </pre>\r\n                                        </td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills\" [ngClass]=\"'not-continue-sell'\">\r\n                <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                    <div>\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <div> {{invoice.bill_code}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <div>{{invoiceInfo.employee.name}}</div>\r\n                      </div>\r\n                      <div>\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                      </div>\r\n                   \r\n                </div>\r\n                <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                        {{renderAddress(invoiceInfo.partner)}}\r\n                    </div>\r\n                    <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                      </div>\r\n                </div>\r\n                <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span>{{'SubTotal' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Discount value' | translate}}\r\n                </span>\r\n                        <span>{{(invoice.discount/subTotal)*100 | number :'1.0-2'}}%</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                    </div>\r\n    \r\n                    <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                        <span>{{'Fee' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                        <span>{{'Tax' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n                        <div>\r\n                          {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n                      </div>\r\n                      <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Total' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Pay' | translate}}</span>\r\n                        <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n            \r\n                    </div>\r\n                    <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Rest' | translate}}</span>\r\n                        <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total * (1+invoice.tax / 100) -\r\n                            invoice.payment)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                        <span>{{'Payment method' | translate}}</span>\r\n                        <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                    </div>\r\n                    <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                        <span>{{'Note' | translate}}</span>\r\n                        <div>{{invoice.note}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nz-layout>\r\n</ion-content>\r\n "],"names":["SalesPaymentCardA4Component","SalesPaymentCardK57Col3Component","SalesPaymentCardK80Col3Component","SalesPaymentCardK80Col4Component","SalesPaymentCardA5Component","i0","ctx_r0","SalesPaymentCardComponent","constructor","router","vhQuerySales","vhAuth","vhAlgorithm","languageService","vhComponent","modal","getLocalAppSettingNameBranch","display_promotion_selling_price","ngOnInit","getDataInvoice","id_bill","init","invoice","invoiceDetail","invoice_detail","invoiceInfo","employee","getlocalEmployee","id_employee","partner","getlocalCustomer","id_customer","paymentName","setPaymentName","payment_type","setSubTotal","subTotal","reduce","prev","next","price","id","showLoading","then","Promise","all","getBill","getBill_details_byId_bill","forEach","element","index","id_payment_card_code","paymentcard","getPaymentCard_Code_Name_Release","name","code","products","product_name","renderproductname","length","sortVietnamesebyASC","hideLoading","data","product","getlocalDetailProduct","id_subproduct","id_product","unit","quantity","getUnit_byRatio","units","ratio","goBack","hideModal","openInfoCustomer","itemInvoice","customer","visibleInfoCustomer","closeInfoCustomer","e","type","translate","getlocalWallet","id_wallet","getNameProduct","id_prod","id_subProd","getlocalProduct","subFood","subs","find","item","_id","deleteInvoice","checkMyPermission","alertConfirm","deleteBill_Billdetail","bool","alertMessageDesktop","bill_code","showToast","renderAddress","address","district","province","country","printInvoice","print","getLocalPrintPage","print_sizes","findIndex","print_size_default","enable","printer","showModal","renderPrintPage","confirm","nzTitle","nzContent","nzIconType","nzCancelText","nzOnOk","getStringName","selectors","inputs","decls","vars","consts","template","ctx","SalesVoucherK57Col3Component","SalesVoucherK80Col3Component","SalesVoucherK80Col4Component","SalesVoucherA5Component","SalesVoucherA4Component","SalesVoucherComponent","cdRef","vhQuery","ngAfterViewChecked","document","querySelector","tableHeight","clientHeight","detectChanges","ngAfterContentInit","invoiceDetailFresh","id_voucher","promise","Array","i","getVoucher","asyncPromiseAll","array","map","error","navigate","getSubCombo","arr","subName"],"sourceRoot":"webpack:///"}