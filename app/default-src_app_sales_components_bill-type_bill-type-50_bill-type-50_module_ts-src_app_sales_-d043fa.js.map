{"version":3,"file":"default-src_app_sales_components_bill-type_bill-type-50_bill-type-50_module_ts-src_app_sales_-d043fa.js","mappings":"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","sources":["./src/app/sales/components/bill-type/bill-type-50/add/add.component.ts","./src/app/sales/components/bill-type/bill-type-50/add/add.component.html","./src/app/sales/components/bill-type/bill-type-50/bill-type-50.module.ts","./src/app/sales/components/bill-type/bill-type-50/detail/detail.component.ts","./src/app/sales/components/bill-type/bill-type-50/detail/detail.component.html","./src/app/sales/components/bill-type/bill-type-50/edit/edit.component.ts","./src/app/sales/components/bill-type/bill-type-50/edit/edit.component.html","./src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service.ts","./src/app/sales/menu/manage/delivery/services/ghnService/ghn.service.ts","./src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service.ts","./src/app/sales/menu/manage/delivery/services/vnpostPost/vnpost-service.service.ts","./src/app/sales/sales-payment-card/component/account-information/account-information.component.ts","./src/app/sales/sales-payment-card/component/account-information/account-information.component.html","./src/app/sales/sales-payment-card/component/component.module.ts","./src/app/sales/sales-payment-card/component/config-print/config-print.component.ts","./src/app/sales/sales-payment-card/component/config-print/config-print.component.html","./src/app/sales/sales-payment-card/component/config-sales/config-sales.component.ts","./src/app/sales/sales-payment-card/component/config-sales/config-sales.component.html","./src/app/sales/sales-payment-card/component/search-voucher/search-voucher.component.ts","./src/app/sales/sales-payment-card/component/search-voucher/search-voucher.component.html"],"sourcesContent":["\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Component, OnInit, HostListener, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { SalesPaymentCardA4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\n\r\nimport { VhBillType50Add, VhBillType50DetailAdd } from '../bill-type50-interface';\r\n\r\n@Component({\r\n  selector: 'bill-type50-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n\r\n  public root: any; // bin nhn state truyn qua\r\n  public invoice: VhBillType50Add = {\r\n    payment_type: 1,\r\n    date: new Date(),\r\n    id_customer: 'id_retail',\r\n    id_branch: '',\r\n    id_employee: '',\r\n    id_wallet: 'id_cash',\r\n    total: 0,\r\n    payment: 0,\r\n    tax: 0,\r\n    discount: 0,\r\n    fee: 0,\r\n    bill_type: 50,\r\n    note: '',\r\n    cash: 0,\r\n    bill_code: ''\r\n  }\r\n\r\n  public listTax: any[] = this.vhQuerySales.getlocalTaxs().filter(tax => tax.status);\r\n  invoice_detail: VhBillType50DetailAdd[] = []\r\n  subTotal = 0;\r\n  taxValue = 0\r\n  public employee: any = {};\r\n  public pickerTime = new Date();\r\n  public customer: any;\r\n  public checkPrinter: boolean = false;\r\n  public closerBrower: any;\r\n  public id_product_delete: string = '';\r\n  public percent_discount_bill: number = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth,\r\n    private nzModalService: NzModalService,\r\n    private fncService: FunctionService,\r\n    private cdf: ChangeDetectorRef,\r\n    private vhQuery: VhQuery\r\n  ) {\r\n    this.root = this.router.getCurrentNavigation().extras.state;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // set nhn vin mc nh \r\n    this.invoice.id_employee = (this.vhAuth.getUser()._id)\r\n    this.employee = this.vhAuth.getlocalEmployee(this.invoice.id_employee);\r\n    this.invoice.id_branch = (this.vhQuerySales.getDefaultBranch()._id)\r\n\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n\r\n  }\r\n  event: any // bin lng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    // window.removeEventListener('beforeunload', this.closerBrower, false)\r\n  }\r\n  /**\r\n   * lng nghe sk nhn f1 f2 f3 f4 trn bn phm\r\n   * @example \r\n   */\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n      else if (this.invoice_detail.length > 0) {\r\n        switch (keycode) {\r\n\r\n          case 113: {\r\n            if (this.checkPrinter) this.payInvoice(50, true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  ngAfterViewInit() {\r\n    let tax = this.listTax.find(item => item.default);\r\n    if (tax) {\r\n      this.id_tax = tax._id\r\n      this.invoice.tax = (tax['value']);\r\n    }\r\n    let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.discount_price = document.querySelector(\".discount-price\") ? this.vhAlgorithm.vhnumeral(\".discount-price\") : 0;\r\n      this.invoice_fee = document.querySelector(\".invoice-fee\") ? this.vhAlgorithm.vhnumeral(\".invoice-fee\") : 0\r\n    })\r\n\r\n    // ------bt s kin nhn phm nng-----\r\n    this.eventKeypress();\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.cdf.detectChanges()\r\n  }\r\n\r\n\r\n  // edit gi th\r\n  editCardPrice(nameClass, position) {\r\n    let price = this.vhAlgorithm.vhnumeral(\"#\" + nameClass);\r\n    this.invoice_detail[position].price = parseFloat(price.getRawValue() ? price.getRawValue() : 0)\r\n    this.setSubTotal();\r\n  }\r\n\r\n\r\n  /**\r\n   * bt sk nhn nt xa th\r\n   * @param detail \r\n   * @param index \r\n   */\r\n  deleteGoods(detail: VhBillType50DetailAdd, index?) {\r\n    if (detail) {\r\n      this.id_product_delete = detail.id_payment_card_code\r\n      this.removeInvoiceDetail(detail.id_payment_card_code)\r\n\r\n    }\r\n  }\r\n\r\n  // -------change tax------\r\n  id_tax: string;\r\n  /**\r\n   * bt sk thay i thu ca bill\r\n   * @param event \r\n   */\r\n  changeTax(event) {\r\n    let tax = this.listTax.find(item => item._id == event);\r\n    this.invoice.tax = (tax.value);\r\n    this.setTaxValue();\r\n  }\r\n\r\n  searchProductList: boolean = false;\r\n  /**\r\n   * m component chn sp\r\n   * @example this.openSearchProductList()\r\n   */\r\n  openSearchProductList() {\r\n    this.searchProductList = true;\r\n  }\r\n\r\n  // to danh sch voucher bn\r\n  closeSearchProductList(data) {\r\n    if (typeof data === 'boolean') {\r\n      this.searchProductList = false;\r\n    } else {\r\n      if (data) {\r\n        if (!this.invoice_detail.includes(data)) {\r\n          this.addInvoiceDetail(data)\r\n          this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Thm voucher thnh cng\"))\r\n        } else {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"M voucher  c chn !\"))\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/sales-payment-card']);\r\n  }\r\n\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhBillType50DetailAdd;\r\n  /**\r\n  * m modal thay i gi bn sn phm trong bill\r\n  * @param detail \r\n  * @example this.openEditUnitPrice(bilL_detail_selected)\r\n  */\r\n  openEditUnitPrice(detail: VhBillType50DetailAdd) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  /**\r\n   * bt sk nhn nt Ok modal gim gi sp\r\n   * @example this.handleEditUnit()\r\n   */\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.setSubTotal();\r\n\r\n      this.isVisibleEditUnitPrice = false;\r\n    } else { this.vhComponent.showToast(5000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  /**\r\n   * tt modal gim gi sp\r\n   * @example this.handleCancelEditUnit()\r\n   */\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n  // -------set employee-------\r\n  /**\r\n   * bt sk thay i nv bn hng\r\n   * @param event id_employee selected\r\n   */\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.id_employee = (event);\r\n    }\r\n  }\r\n  // ----set customer-----\r\n  radioValue: 1 | 2 = 1;\r\n  /**\r\n  * bt sk thay i khch hng\r\n  * @param event id_customer selected\r\n  */\r\n  closeAndReceiveCustomer(event) {\r\n    if (event) {\r\n      this.invoice.id_customer = (event);\r\n      if (!this.vhQuerySales.getlocalCustomer(event).debt_enable) this.invoice.payment = (this.getTotalATax());\r\n    }\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n  }\r\n  /**\r\n   * bt sk thay i loi khch hng (member or retail)\r\n   * @param event \r\n   * @example this.changeCustomerType(1)\r\n   */\r\n  changeCustomerType(event) {\r\n    if (this.radioValue == 1) {\r\n      this.invoice.id_customer = (\"id_retail\");\r\n      this.invoice.payment = (this.getTotalATax());\r\n    } if (event == 2) {\r\n      this.clearRetailCustomer()\r\n      this.radioValue = 2\r\n    }\r\n  }\r\n\r\n  /**\r\n   * clear d liu khch l trong bill trng hp thay i thnh khch thnh vin\r\n   * @example this.clearRetailCustomer()\r\n   */\r\n  clearRetailCustomer() {\r\n    this.invoice.retail_address = ('')\r\n    this.invoice.retail_name = ('')\r\n    this.invoice.retail_phone = ('')\r\n  }\r\n\r\n  /**\r\n   * bt sk thay i phng thc thanh ton\r\n   * @param event \r\n   * @example this.closeAndGetValuePayment(event)\r\n   */\r\n  closeAndGetValuePayment(event) {\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0]);\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n    }\r\n  }\r\n  /**\r\n   * cp nht payment_type cho bill\r\n   * @param type \r\n   * @param id_wallet \r\n   * @example  this.setPaymentType(1)\r\n   */\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.payment_type = (type)\r\n    switch (type) {\r\n      case 1: {\r\n        this.invoice.id_wallet = ('id_cash');\r\n        this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.invoice.total + this.taxValue);\r\n\r\n        break;\r\n      }\r\n      case 2: {\r\n        this.invoice.payment = (0); this.invoice.id_wallet = (null);\r\n        this.invoice.cash = (0);\r\n\r\n        break;\r\n      }\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.id_wallet = (id_wallet)\r\n          this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.invoice.total + this.taxValue);\r\n\r\n          break;\r\n        }\r\n      }\r\n    };\r\n  }\r\n  /**\r\n  * bt sk thay i date ca ha n , gn li gi tr date mi cho n\r\n  * @example this.setPickerTime('2023-06-12T08:02:27.697Z')\r\n  */\r\n  setPickerTime(event) {\r\n    if (new Date(event).getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 5000)\r\n      this.pickerTime = new Date(this.invoice.date)\r\n      this.invoice.date = (new Date(this.pickerTime));\r\n    }\r\n    else this.vhQuerySales.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n      if (validitydate == null) {\r\n        this.invoice.date = (event);\r\n      }\r\n      else {\r\n        this.pickerTime = new Date(validitydate)\r\n        this.invoice.date = (new Date(this.pickerTime));\r\n        this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 5000)\r\n      }\r\n    })\r\n  }\r\n\r\n  discount_price: any;\r\n  /**\r\n   * bt sk thay i gim gi ca ha n , gn li gi tr gim gi mi cho n\r\n   * @example this.editDiscount()\r\n   */\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0 && this.discount_price.getRawValue() <= this.subTotal) {\r\n      this.invoice.discount = (parseFloat(this.discount_price.getRawValue()));\r\n      this.percent_discount_bill = this.subTotal ? (this.invoice.discount / this.subTotal) * 100 : 0\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.discount;\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  // -------change tax------\r\n\r\n  invoice_fee: any;\r\n  /**\r\n   * bt sk thay i ph ca ha n , gn li gi tr ph mi cho n\r\n   * @example this.editFee()\r\n   */\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.fee = (parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.fee;\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  // -------modal edit pay---------\r\n  edit_pay: boolean = false;\r\n  edit_paytotal: any;\r\n  /**\r\n  * m modal chnh sa thanh ton ca bill\r\n  * @example this.showModalEditTotalPay()\r\n  */\r\n  showModalEditTotalPay() {\r\n    if (this.invoice.payment_type != 2 && this.vhQuerySales.getlocalCustomer(this.invoice.id_customer).debt_enable) {\r\n      this.vhAlgorithm.waitingStack().then(() => {\r\n        this.edit_paytotal = this.vhAlgorithm.vhnumeral(\".edit-pay\");\r\n      })\r\n      this.edit_pay = true;\r\n    }\r\n    else if (!this.vhQuerySales.getlocalCustomer(this.invoice.id_customer).debt_enable) {\r\n      this.vhComponent.showToast(5000,\r\n        this.languageService.translate(\"This customer is not allowed to debt\"), \"alert-toast\"\r\n      )\r\n    }\r\n  }\r\n  /**\r\n   * bt sk nhn nt ok modal chnh sa thanh ton ca bill\r\n   * @example this.handleEditPay()\r\n   */\r\n  handleEditPay() {\r\n    if (this.edit_paytotal.getRawValue() >= 0 && this.edit_paytotal.getRawValue() <= this.getTotalATax()) {\r\n      this.invoice.payment = (parseFloat(this.edit_paytotal.getRawValue()))\r\n    }\r\n    this.edit_pay = false;\r\n  }\r\n  /**\r\n   * bt sk nhn nt hy modal chnh sa thanh ton ca bill\r\n   * @example this.handleCancelEditPay()\r\n   */\r\n  handleCancelEditPay() {\r\n    this.edit_pay = false;\r\n  }\r\n  /**\r\n   * bt sk thay i tin khch a\r\n   * @param cash \r\n   */\r\n  updateCash(cash: any) {\r\n    this.invoice.cash = parseFloat(cash.replaceAll(',', ''))\r\n  }\r\n\r\n  /**\r\n   * bt sk thay i gim gi bill theo %\r\n   * @param value % gim\r\n   * @example this.editPercentDiscount(10) \r\n   */\r\n  editPercentDiscount(value) {\r\n    if (parseFloat(value) > 100)\r\n      document.getElementById(\"percent-discount-price\")['value'] = 0\r\n    else this.percent_discount_bill = value;\r\n    this.invoice.discount = this.subTotal * (this.percent_discount_bill / 100)\r\n    this.setTotal()\r\n  }\r\n\r\n  save_enable = true;\r\n  /**\r\n     * x l sk nhn nt thanh ton hoc lu tm\r\n     * @param bill_type \r\n     * @param print bin c  check in hay ko\r\n     * @example this.payInvoice(1)\r\n     */\r\n  payInvoice(bill_type: 50, print?) {\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (print) {\r\n        if (this.checkPrinter) {\r\n          if (this.save_enable) {\r\n            this.save_enable = false;\r\n            this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n              this.createOrUpdate(bill_type).then(bill => {\r\n                this.save_enable = true;\r\n                if (bill.bill_code) this.invoice.bill_code = (bill.bill_code)\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.vhComponent.showToast(5000,\r\n                    `${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                  )\r\n                  this.handlePrint()\r\n                })\r\n              })\r\n            })\r\n          }\r\n        }\r\n        else {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n            nzIconType: \"info-circle\",\r\n            nzCancelText: null,\r\n            nzOnOk: () => { }\r\n          })\r\n        }\r\n      }\r\n      else {\r\n        if (this.save_enable) {\r\n          this.save_enable = false;\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.createOrUpdate(bill_type).then(bill => {\r\n              this.save_enable = true;\r\n\r\n              if (bill.bill_code) this.invoice.bill_code = (bill.bill_code)\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.vhComponent.showToast(5000,\r\n                  `${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                )\r\n                this.goBack()\r\n              })\r\n            })\r\n          })\r\n        }\r\n      }\r\n\r\n    }\r\n    else this.vhComponent.showToast(5000, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n  /**\r\n   * to bill ln DB\r\n   * @param bill_type \r\n   * @returns \r\n   */\r\n  createOrUpdate(bill_type: 50) {\r\n    let invoice = { ...this.invoice }\r\n    return this.vhQuerySales.createBill_Billdetail(invoice, this.getCreateUpdateInvoiceDetail())\r\n\r\n  }\r\n  /**\r\n  * ly thng tin d liu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getlocalPrinters().find(item => item.desktop)\r\n      if (printer && printer.prepaid_card.enable) resolve(printer.prepaid_card)\r\n      else resolve(false)\r\n      if (!printer) rejects(false)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * tr v component ca trang in tng ng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * kim tra d liu thng tin my in v m component in\r\n   * @example this.handlePrint()\r\n   */\r\n  handlePrint() {\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer = print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer, invoice: this.invoice, invoice_detail: this.invoice_detail }, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.goBack())\r\n        })\r\n      }\r\n    }\r\n  }\r\n  note: string;\r\n  /**\r\n  * bt sk thay i note ca bill\r\n  * @example this.edit_note()\r\n  */\r\n  edit_note() {\r\n    if (this.note) {\r\n      this.invoice.note = (this.note)\r\n    }\r\n  }\r\n\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoCustomer: boolean = false;\r\n  /**\r\n  * m modal xem thng tin khch hng\r\n  * @example this.openInfoCustomer()\r\n  */\r\n  openInfoCustomer() {\r\n    if (this.invoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n  /**\r\n   * ng modal xem thng tin khch hng\r\n   * @example this.openInfoCustomer()\r\n   */\r\n  closeInfoCustomer(event) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  // ------thot trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n\r\n  /**add customer */\r\n  showDrawerAddCusomer: boolean = false;\r\n  showDrawerAddRetail: boolean = false;\r\n  /**\r\n   * m modal thm khch hng thnh vin mi hoc thm thng tin khch l\r\n   * @example this.openDrawerAddCustomerOrRetail()\r\n   */\r\n  openDrawerAddCustomerOrRetail() {\r\n    if (this.radioValue == 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCusomer = true\r\n  }\r\n  /**\r\n   * bt sk tt drawer thm khch hng\r\n   * @param result output kt qu tr v\r\n   * @example this.closeAddCustomer('NDWOIUHDIUWQHSIOQUH')\r\n   */\r\n  closeAddCustomer(result) {\r\n    if (this.radioValue == 1) {\r\n      if (result) {\r\n        this.invoice.retail_name = (result.retail_name)\r\n        this.invoice.retail_phone = (result.retail_phone)\r\n        this.invoice.retail_address = (result.retail_address)\r\n      }\r\n      this.showDrawerAddRetail = false\r\n    }\r\n    else this.showDrawerAddCusomer = false\r\n  }\r\n\r\n  barcode: string = ''\r\n  barcode_array = [];\r\n  @HostListener(\"window: keypress\", [\"$event\"])\r\n  /**\r\n   * S kin nhn barcode\r\n   */\r\n  getKeyUp(_event: KeyboardEvent) {\r\n    if (this.router.url === \"/sales/sales-payment-card/create\") {\r\n      // if (!this.showSearchBar && !this.showPayInfo) {\r\n      if (_event.key == \"Enter\") {\r\n        this.barcode_array.forEach((i, index) => {\r\n          if (i == \"Shift\") {\r\n            this.barcode_array[index + 1] = this.barcode_array[\r\n              index + 1\r\n            ].toUpperCase();\r\n            this.barcode_array.splice(index, 1);\r\n          }\r\n        });\r\n        // this.scanBarcode(this.barcode_array.join(\"\"));\r\n        this.barcode = this.barcode_array.join(\"\");\r\n        setTimeout(() => {\r\n          this.barcode_array = [];\r\n        }, 100);\r\n\r\n      } else {\r\n        this.barcode_array.push(_event.key);\r\n      }\r\n      // }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * tnh li cng tin ca bill khi c s thay i (thm xa sa bill_detail, i gi bn, khuyn mi, ph ,thu ,...)\r\n   * @example this.setSubTotal()\r\n   */\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n    this.setTotal();\r\n  }\r\n\r\n  /**\r\n   * tnh li tng tin ca bill  lu trng total\r\n   * @example this.setTotal();\r\n   */\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount + this.invoice.fee\r\n    this.setTaxValue()\r\n  }\r\n\r\n  /**\r\n   * tnh gi tr thu ra tin\r\n   * @example this.setTaxValue()\r\n   */\r\n  setTaxValue() {\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n    this.setPayment()\r\n  }\r\n\r\n  /**\r\n   * tnh li thanh ton  lu trng payment ca bill\r\n   * @param value : gi tr thanh ton t nhp nu c (trng hp n li 1 phn)\r\n   * @example this.setPayment()\r\n   */\r\n  setPayment(value?: number) {\r\n\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0\r\n    } else {\r\n      if (value != null)\r\n        this.invoice.payment = value\r\n      else\r\n        this.invoice.payment = this.invoice.total + this.taxValue\r\n    }\r\n    this.setCash(this.invoice.cash);\r\n  }\r\n  /**\r\n   * cp nht li tin khch a  lu trng cash trong bill\r\n   * @param value \r\n   * @example this.setCash(100000)\r\n   */\r\n  setCash(value) {\r\n    if (this.invoice.payment_type == 2) this.invoice.cash = 0\r\n    else {\r\n      if (value) this.invoice.cash = parseFloat(value);\r\n      else this.invoice.cash = 0\r\n    }\r\n  }\r\n  /**\r\n   * tr v tng tin \r\n   * @returns number\r\n   * @example let total = this.getTotalATax()\r\n   */\r\n  getTotalATax(): number {\r\n    return this.invoice.total + this.taxValue\r\n  }\r\n  /**\r\n   * thm sn phm c chn t drawer search-product\r\n   * @param value \r\n   * @example this.addInvoiceDetail(product_selected)\r\n   */\r\n  addInvoiceDetail(value: any) {\r\n    let detail: any = {\r\n      id_payment_card_code: value.id_payment_card_code,\r\n      name: value.name,\r\n      id_payment_card: value.id_payment_card,\r\n      code: value.code,\r\n      id_bill: value.id_bill,\r\n      pctype: 1,\r\n      price: value.price,\r\n      products: value.products,\r\n      name_voucher_release: value.name_voucher_release\r\n    }\r\n    this.invoice_detail.push(detail)\r\n    this.setSubTotal()\r\n  }\r\n  /**\r\n   * xa 1 bill_detail trong local\r\n   * @param id id_bill_detail selected\r\n   * @param notSetSub \r\n   */\r\n  removeInvoiceDetail(id: string, notSetSub?: boolean) {\r\n    let index = this.invoice_detail.findIndex(detail => detail.id_payment_card_code == id)\r\n    if (index != -1) {\r\n      this.invoice_detail.splice(index, 1);\r\n    }\r\n    this.setSubTotal()\r\n  }\r\n  /**\r\n   * tr v d liu thng tin bill_detail clean  lu DB\r\n   * @returns array[object]\r\n   *  @example let bill_details = this.getCreateUpdateInvoiceDetail()\r\n   */\r\n  getCreateUpdateInvoiceDetail(): VhBillType50DetailAdd[] {\r\n    return this.invoice_detail.map(item => {\r\n      let detail: VhBillType50DetailAdd = {\r\n        id_payment_card_code: item.id_payment_card_code,\r\n        id_payment_card: item.id_payment_card,\r\n        code: item.code,\r\n        pctype: 1,\r\n        ratio: 1,\r\n        quantity: 1,\r\n        price: item.price,\r\n        products: item.products.map(pro => {\r\n          let data = {\r\n            id_product: pro.id_product,\r\n            ptype: pro.ptype,\r\n            ratio: pro.ratio,\r\n            quantity: pro.quantity,\r\n            price: 0,\r\n          }\r\n          if (pro.id_subproduct) data['id_subproduct'] = pro.id_subproduct\r\n          if (pro.combos) {\r\n            data['combos'] = pro.combos.map(combo => {\r\n              let product = {\r\n                id_product: combo.id_product,\r\n                price: combo.price,\r\n                quantity: combo.quantity,\r\n                ptype: combo.ptype,\r\n                ratio: combo.ratio ? combo.ratio : 1,\r\n              }\r\n              if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n              if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n              return product;\r\n            })\r\n          }\r\n          return data\r\n        }),\r\n      }\r\n\r\n      return detail\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}} |  <b> {{'Create payment card invoice' | translate}}</b>\r\n</div>\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Select prepaid card' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n\r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"openSearchProductList()\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search prepaid card (F4)' | translate}}</button>\r\n                    </div>\r\n                    <!-- <div>\r\n                        <button [disabled]=\"invoice.getBillType() == 1 || !invoice_detail.length\" (click)=\"payInvoice(5)\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n                          <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                          {{'Temporary' | translate}} (F3)</button>\r\n                    </div> -->\r\n                </div>\r\n                <div *ngIf=\"!invoice_detail.length\" class=\"no-data\">\r\n                    <p>{{'Please select a product' | translate}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <table style=\"width: 100%\" *ngIf=\"invoice_detail.length\">\r\n                        <thead>\r\n                            <th style=\"width: 5%\"></th>\r\n                            <th style=\"width: 35%\"><b>{{'Prepaid card name' | translate}}</b></th>\r\n                            <th style=\"width: 15%\"><b>{{'Prepaid card code' | translate}}</b></th>\r\n                            <th style=\"width: 15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                            <th style=\"width: 30%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let item of invoice_detail; index as i\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <div nz-popconfirm\r\n                                            nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{item.code}}\"\r\n                                            (nzOnConfirm)=\"deleteGoods(item,i)\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                            nz-col nzSpan=\"1\">\r\n                                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <b>{{item.name_voucher_release}} ({{item.name}})</b> <br>\r\n\r\n                                    </td>\r\n                                    <td>{{item.code}}</td>\r\n                                    <td nzAlign='right'>\r\n                                        <input (keyup)=\"editCardPrice('voucher-price'+i,i)\"\r\n                                            [value]=\"vhAlgorithm.vhcurrencyunit(item.price)\" class=\"border_bottom\"\r\n                                            style=\"text-align: right !important\" type=\"text\" maxlength=\"15\"\r\n                                            [id]=\"'voucher-price'+i\" nz-input />\r\n                                    </td>\r\n                                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                        <ng-container *ngIf=\"item.products\">\r\n                                            <span *ngFor=\"let product of item.products\">\r\n                                                {{ product.name}} {{ '('+product.unit +')'}} x {{product.quantity}} <br>\r\n                                            </span>\r\n                                        </ng-container>\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </ng-container>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.id_employee\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <div class=\"sales-bills-customer-title\">\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <span (click)=\"openDrawerAddCustomerOrRetail()\" nz-icon\r\n                        [nzType]=\"invoice.retail_name ? 'eye':'plus'\" nzTheme=\"outline\"></span>\r\n\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex; justify-content: space-between;\">\r\n                    <nz-radio-group [(ngModel)]=\"radioValue\" (ngModelChange)=\"changeCustomerType($event)\"\r\n                        nzName=\"radiogroup\">\r\n                        <label nz-radio [nzValue]=1>{{'Retail customer' | translate}}</label>\r\n                        <label nz-radio [nzValue]=2>{{'Member' | translate}}</label>\r\n                    </nz-radio-group>\r\n\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <ng-container *ngIf=\"radioValue == 1 && invoice.retail_name\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"radioValue == 2\">\r\n                        <app-customer [id_customer]=\"invoice.id_customer\"\r\n                            (closeAndReceiveCustomer)=\"closeAndReceiveCustomer($event)\"></app-customer>\r\n                        <i (click)=\"openInfoCustomer()\"\r\n                            [ngClass]=\"invoice.id_customer !='id_retail' ? 'active' : 'deactive'\"\r\n                            style=\"cursor: pointer;\" nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n                    </ng-container>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;\">\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n\r\n                <ng-container>\r\n                    <div class=\"sales-bills-content-discount\"\r\n                        style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n                        <div style=\"width: auto;\">{{'Discount value' | translate}}</div>\r\n                        <div>\r\n                            <input id=\"percent-discount-price\" style=\"width: 50px;\" #percentDiscount type=\"number\"\r\n                                max=\"100\" min=\"0\" step=\"1\" (blur)=\"editPercentDiscount(percentDiscount.value)\"\r\n                                [ngModel]=\"percent_discount_bill | number:'1.0-2'\" class=\"border_bottom \" maxlength=\"3\"\r\n                                nz-input />%\r\n                        </div>\r\n                        <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.discount)\"\r\n                            class=\"border_bottom discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\"\r\n                            nz-input />\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.fee)\"\r\n                        class=\"border_bottom invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>\r\n                        <nz-select *ngIf=\"listTax.length\" [(ngModel)]=\"id_tax\" (ngModelChange)=\"changeTax($event)\"\r\n                            nzBorderless>\r\n                            <nz-option *ngFor=\"let item of listTax\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"7\" style=\"text-align: end;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(taxValue)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(getTotalATax())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div>\r\n                        <b>{{'Pay' | translate}}</b>\r\n                    </div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit(invoice.payment)}}<img (click)=\"showModalEditTotalPay()\"\r\n                            *ngIf=\"invoice.payment_type != 2\" style=\"width: 16px;margin-left:10px\"\r\n                            src=\"assets/icon/Iconfeather-edit.svg\" /></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit_symbol(getTotalATax() - invoice.payment)}}\r\n                    </div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <app-tax [payment_type]=\"invoice.payment_type\" [id_wallet]=\"invoice.id_wallet\"\r\n                        [id_customer]=\"invoice.id_customer\" (closeAndGetValuePayment)=\"closeAndGetValuePayment($event)\">\r\n                    </app-tax>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\"\r\n                    style=\"margin-top: 10px;\">\r\n                    <div>{{'cash' | translate}}</div>\r\n                    <input style=\"text-align: end;width: 35%;\" type=\"text\" #cash maxlength=\"15\" nz-input\r\n                        [disabled]=\"invoice.payment_type == 2\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.cash)\"\r\n                        class=\"customerPay border_bottom\" (keyup)=\"updateCash(cash.value)\" />\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div>{{'Change' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash -\r\n                        invoice.payment : 0)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"note\" (blur)=\"edit_note()\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!invoice_detail.length\" (click)=\"payInvoice(50,true)\" nz-button\r\n                    class=\"order-and-print\">\r\n                    {{\"Pay & Print\"|translate}} (F2)\r\n                </button>\r\n                <button style=\"margin: auto;\" [disabled]=\"!invoice_detail.length\" (click)=\"payInvoice(50,false)\"\r\n                    nz-button class=\"order\">\r\n                    {{\"Pay\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- -----nz-drawer list-product-------- -->\r\n<!-- Search product -->\r\n\r\n<app-search-voucher [searchProductList]=\"searchProductList\" [barcode]=\"barcode\" (clearBarcode)=\"barcode = ''\"\r\n    (closeSearchProductList)=\"closeSearchProductList($event)\" [id_product_delete]=\"id_product_delete\">\r\n</app-search-voucher>\r\n\r\n<!--Modal edit pay-->\r\n<nz-modal [(nzVisible)]=\"edit_pay\" [nzFooter]=\"modalFooterEditPay\" nzTitle=\"{{'Edit' | translate}}\"\r\n    (nzOnCancel)=\"handleCancelEditPay()\" (nzOnOk)=\"handleEditPay()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Pay' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input [value]=\"vhAlgorithm.vhcurrencyunit(invoice.payment)\" class=\"edit-pay\" type=\"text\" maxlength=\"15\"\r\n                    nz-input />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditPay>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditPay()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditPay()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- --------------visible drawer info customer----------- -->\r\n<app-customer-profile *ngIf=\"visibleInfoCustomer\" [visibleInfoCustomer]=\"visibleInfoCustomer\" [customer]=\"customer\"\r\n    (closeInfoCustomer)=\"closeInfoCustomer($event)\"></app-customer-profile>\r\n\r\n<!-- --------------------add customer---------------------- -->\r\n<app-add-customer *ngIf=\"showDrawerAddCusomer\" [showDrawerAddCusomer]=\"showDrawerAddCusomer\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\"></app-add-customer>\r\n\r\n<!-- --------------------add retail---------------------- -->\r\n<app-retail-info *ngIf=\"showDrawerAddRetail\" [showDrawerAddRetail]=\"showDrawerAddRetail\"\r\n    [retail_name]=\"invoice.retail_name\" [retail_phone]=\"invoice.retail_phone\" [retail_address]=\"invoice.retail_address\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\"></app-retail-info>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddComponent } from './add/add.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { ComponentsModule } from 'src/app/sales/sale-desktop/components/components.module';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { ComponentModule } from 'src/app/sales/sales-payment-card/component/component.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddComponent,\r\n    DetailComponent,\r\n    EditComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentModule,\r\n    ComponentsModule,\r\n    TranslateModule,\r\n    FormsModule, \r\n    NgZorroAntModule\r\n  ],\r\n  exports:[\r\n    AddComponent,\r\n    DetailComponent,\r\n    EditComponent\r\n  ]\r\n})\r\nexport class BillType50Module { }\r\n","\r\nimport { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { SalesPaymentCardA4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { VhBillType50DetailEdit, VhBillType50Edit } from '../bill-type50-interface';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\n\r\n@Component({\r\n  selector: 'bill-type50-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n  @Input() url = ''\r\n  public invoiceInfo: any;\r\n  invoice_detail: VhBillType50DetailEdit[]\r\n  public invoice: VhBillType50Edit\r\n  public itemInvoice: any;\r\n  public customer: any;\r\n  public visibleInfoCustomer: boolean = false;\r\n  public tableHeight;\r\n  subTotal = 0;\r\n  dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  constructor(\r\n    private router: Router,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhQuery: VhQuery,\r\n    private fncService:FunctionService\r\n  ) {\r\n    // \r\n\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.invoice._id)\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * gn bill v bill-detail get c vo bin v get cc thng tin ca nv, khch hng, phng thc thanh ton\r\n   * @example this.init(bill, bill-deails)\r\n   */\r\n  init(invoice: VhBillType50Edit = null, invoiceDetail: VhBillType50DetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  /**\r\n   * tnh cng tin ha n\r\n   * @example this.setSubTotal()\r\n   */\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-invoice-detail-today\") &&\r\n      document.querySelector(\".ant-table-thead\") &&\r\n      document.querySelector(\".sales-cart\") &&\r\n      document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight =\r\n        document.querySelector(\"#sales-invoice-detail-today\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".sales-cart\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * get d liu bill t DB\r\n   * @param id : nhn t state truyn qua\r\n   * @example this.getDataInvoice('DHIWHNXDIWODUHIWDHOWID')\r\n   */\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        \r\n\r\n        let invoiceDetailFresh: VhBillType50DetailEdit[] = []\r\n        if (invoiceDetail.length && invoiceDetail[0].id_payment_card) {\r\n          let promise = new Array();\r\n          for (let i = 0; i < invoiceDetail.length; i++) {\r\n            promise[i] = this.vhQuerySales.getPaymentCard(invoiceDetail[i].id_payment_card)\r\n          }\r\n          this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n            invoiceDetailFresh = array.map((item, index) => { return { ...item, ...invoiceDetail[index] } })\r\n            this.init(invoice, invoiceDetailFresh)\r\n          }, error => {\r\n            \r\n          })\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n\r\n  }\r\n\r\n  \r\n  /**\r\n   * tr v chui tn danh sch sn phm trong voucher\r\n   * @param products \r\n   * @returns string\r\n   * @example let name = this.getStringName([])\r\n   */\r\n  getStringName(products: any[]) {\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQuerySales.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      element.name =product.name;\r\n      element.unit =product.unit;\r\n      name += '- ' + element.quantity + 'x ' + product.name + ' (' + this.vhQuerySales.getUnit_byRatio(product.units, element.ratio).unit + ') \\n';\r\n    });\r\n    return name\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([this.url],{state : this.dataRestore});\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * xa ha n ln DB\r\n   * @example this.deleteInvoice()\r\n   */\r\n  deleteInvoice() {\r\n    this.vhQuerySales.getValidityDate(this.invoice.date).then((validitydate: any) => {\r\n      if (validitydate == null) {\r\n        if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n          this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel this invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n            .then(() => {\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.vhQuerySales.deleteBill_Billdetail(this.invoice._id).then((bool) => {\r\n                  if (bool) {\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.alertMessageDesktop(\"success\",\r\n                        `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}`)\r\n                      this.router.navigate([this.url])\r\n                    })\r\n                  } else {\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.alertMessageDesktop(\"error\",\r\n                        `${this.languageService.translate(\"V c voucher  c i ly hng ha nn ha n bn voucher ny khng th xa\")}`)\r\n                    })\r\n                  }\r\n    \r\n                })\r\n              })\r\n            }, () => { })\r\n        }\r\n        else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('You do not have this rights'))\r\n      }\r\n      else {\r\n        this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 5000)\r\n      }\r\n    })\r\n  \r\n  }\r\n \r\n\r\n  /**\r\n   * tr v tn phng thc thanh ton\r\n   * @param type \r\n   * @returns string\r\n   * @example this.setPaymentName(1)\r\n   */\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n \r\n\r\n  /**\r\n   * tr v chui thng tin a ch ca customer\r\n   * @param partner \r\n   * @returns string\r\n   * @example let addr = this.renderAddress(customer_info)\r\n   */\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n\r\n  /**\r\n   * kim tra thng tin d liu trang in v m component in\r\n   * @example this.printInvoice()\r\n   */\r\n  printInvoice() {\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer = print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer, invoice: this.invoice , invoice_detail : this.invoice_detail }, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.goBack())\r\n        })\r\n      }\r\n      else {\r\n        this.modal.confirm({\r\n          nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n          nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n          nzIconType: \"info-circle\",\r\n          nzCancelText: null,\r\n          nzOnOk: () => {}\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * tr v component ca trang in tng ng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"sales-invoice-detail-today\" *ngIf=\"invoice\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Order for selling prepaid card' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button style=\"margin-right: 8px;\"\r\n                    nzType=\"default\">\r\n                    <span nz-icon nzType=\"delete\" nzTheme=\"outline\"></span>\r\n                    <!-- <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon> -->\r\n                    {{'Delete' | translate}}\r\n                </button>\r\n                    <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                        <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n            <!-- <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon> -->\r\n            {{'Print' | translate}}\r\n          </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowPagination=\"false\" nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"30%\"><b>{{'Prepaid card name' | translate}}</b></th>\r\n                                <th nzWidth=\"20%\" nzAlign='center'><b>{{'Prepaid card code' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <b>\r\n                                        {{item['name']}}\r\n                                       </b>\r\n                                    </td>\r\n                                    <td nzAlign='center'>{{item.code}}</td>\r\n                                    <td nzAlign='right'>\r\n                                        {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    </td>\r\n                                    <td nzAlign='right'>\r\n                                        <b>{{vhAlgorithm.vhcurrencyunit( item.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                        <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\" *ngIf=\"item.products\"> {{getStringName(item.products)}}\r\n                                        </pre>\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills\" [ngClass]=\"'not-continue-sell'\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.bill_code}}</div>\r\n                  </div>\r\n                  <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                  </div>\r\n                  <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                  </div>\r\n               \r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n                    {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                    ''}} {{invoice.retail_address}}\r\n                  </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount value' | translate}}\r\n            </span>\r\n                    <span>{{(invoice.discount/subTotal)*100 | number :'1.0-2'}}%</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                </div>\r\n\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n                    <div>\r\n                      {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n                  </div>\r\n                  <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n        \r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n        \r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total * (1+invoice.tax / 100) -\r\n                        invoice.payment)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.note}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Component, OnInit, HostListener, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { SalesPaymentCardA4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\nimport { VhBillType50DetailAdd, VhBillType50DetailEdit, VhBillType50Edit } from '../bill-type50-interface';\r\n\r\n\r\n@Component({\r\n  selector: 'bill-type52-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n\r\n  public root: any; // bin nhn state truyn qua\r\n  invoice: VhBillType50Edit = this.router.getCurrentNavigation().extras.state.invoice\r\n  invoice_detail: VhBillType50DetailEdit[] = this.router.getCurrentNavigation().extras.state.invoiceDetail\r\n  invoiceToday: any = this.router.getCurrentNavigation().extras.state.invoiceToday\r\n  public listTax: any[] = this.vhQuerySales.getlocalTaxs().filter(tax => tax.status);\r\n   \r\n  subTotal = 0;\r\n  taxValue = 0\r\n  public employee: any = {};\r\n  public pickerTime = new Date();\r\n  public customer: any;\r\n  public checkPrinter: boolean = false;\r\n  public closerBrower: any;\r\n  public id_product_delete: string = '';\r\n  public percent_discount_bill: number = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth,\r\n    private nzModalService: NzModalService,\r\n    private fncService: FunctionService,\r\n    private cdf: ChangeDetectorRef,\r\n    private vhQuery: VhQuery\r\n  ) {\r\n    this.root = this.router.getCurrentNavigation().extras.state;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // set nhn vin mc nh \r\n    this.invoice.id_employee = (this.vhAuth.getUser()._id)\r\n    this.employee = this.vhAuth.getlocalEmployee(this.invoice.id_employee);\r\n    this.invoice.id_branch = (this.vhQuerySales.getDefaultBranch()._id)\r\n\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n  }\r\n  event: any // bin lng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    // window.removeEventListener('beforeunload', this.closerBrower, false)\r\n  }\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n      else if (this.invoice_detail.length > 0) {\r\n        switch (keycode) {\r\n\r\n          case 113: {\r\n            if (this.checkPrinter) this.payInvoice(50, true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  ngAfterViewInit() {\r\n    let tax = this.listTax.find(item => item.default);\r\n    if (tax) {\r\n      this.id_tax = tax._id\r\n      this.invoice.tax = (tax['value']);\r\n    }\r\n    let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.discount_price = document.querySelector(\".discount-price\") ? this.vhAlgorithm.vhnumeral(\".discount-price\") : 0;\r\n      this.invoice_fee = document.querySelector(\".invoice-fee\") ? this.vhAlgorithm.vhnumeral(\".invoice-fee\") : 0\r\n    })\r\n\r\n    // ------bt s kin nhn phm nng-----\r\n    this.eventKeypress();\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.cdf.detectChanges()\r\n  }\r\n\r\n\r\n  // edit gi voucher\r\n  editVoucherPrice(nameClass, position) {\r\n    let price = this.vhAlgorithm.vhnumeral(\"#\" + nameClass);\r\n    this.invoice_detail[position].price = parseFloat(price.getRawValue() ? price.getRawValue() : 0)\r\n    this.setSubTotal();\r\n  }\r\n\r\n\r\n  deleteGoods(detail: VhBillType50DetailAdd, index?) {\r\n    if (detail) {\r\n      this.id_product_delete = detail.id_payment_card_code\r\n      this.removeInvoiceDetail(detail.id_payment_card_code)\r\n\r\n    }\r\n  }\r\n\r\n  // -------change tax------\r\n  id_tax: string;\r\n  changeTax(event) {\r\n    let tax = this.listTax.find(item => item._id == event);\r\n    this.invoice.tax = (tax.value);\r\n    this.setTaxValue();\r\n  }\r\n\r\n  searchProductList: boolean = false;\r\n  openSearchProductList() {\r\n    this.searchProductList = true;\r\n  }\r\n\r\n  // to danh sch voucher bn\r\n  closeSearchProductList(data) {\r\n    if (typeof data === 'boolean') {\r\n      this.searchProductList = false;\r\n    } else {\r\n      if (data) {\r\n        if (!this.invoice_detail.includes(data)) {\r\n          this.addInvoiceDetail(data)\r\n          this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Thm voucher thnh cng\"))\r\n        } else {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"M voucher  c chn !\"))\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/bill-web-app/sales-order-payment-card'], { state: { invoiceToday: this.invoiceToday } });\r\n  }\r\n\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhBillType50DetailAdd;\r\n  openEditUnitPrice(detail: VhBillType50DetailAdd) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.setSubTotal();\r\n\r\n      this.isVisibleEditUnitPrice = false;\r\n    } else { this.vhComponent.showToast(5000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n  // -------set employee-------\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.id_employee = (event);\r\n    }\r\n  }\r\n  // ----set customer-----\r\n  radioValue: 1 | 2 = 1;\r\n  closeAndReceiveCustomer(event) {\r\n    if (event) {\r\n      this.invoice.id_customer = (event);\r\n      if (!this.vhQuerySales.getlocalCustomer(event).debt_enable) this.invoice.payment = (this.getTotalATax());\r\n    }\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n  }\r\n  changeCustomerType(event) {\r\n    if (this.radioValue == 1) {\r\n      this.invoice.id_customer = (\"id_retail\");\r\n      this.invoice.payment = (this.getTotalATax());\r\n    } if (event == 2) {\r\n      this.clearRetailCustomer()\r\n      this.radioValue = 2\r\n    }\r\n  }\r\n\r\n  clearRetailCustomer() {\r\n    this.invoice.retail_address = ('')\r\n    this.invoice.retail_name = ('')\r\n    this.invoice.retail_phone = ('')\r\n  }\r\n\r\n  closeAndGetValuePayment(event) {\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0]);\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n    }\r\n  }\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.payment_type = (type)\r\n    switch (type) {\r\n      case 1: {\r\n        this.invoice.id_wallet = ('id_cash');\r\n        this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.invoice.total + this.taxValue);\r\n\r\n        break;\r\n      }\r\n      case 2: {\r\n        this.invoice.payment = (0); this.invoice.id_wallet = (null);\r\n        this.invoice.cash = (0);\r\n\r\n        break;\r\n      }\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.id_wallet = (id_wallet)\r\n          this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.invoice.total + this.taxValue);\r\n\r\n          break;\r\n        }\r\n      }\r\n    };\r\n  }\r\n  setPickerTime(event) {\r\n    if (new Date(event).getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 5000)\r\n      this.pickerTime = new Date(this.invoice.date)\r\n      this.invoice.date = (new Date(this.pickerTime));\r\n    }\r\n    else this.vhQuerySales.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n      if (validitydate == null) {\r\n        this.invoice.date = (event);\r\n      }\r\n      else {\r\n        this.pickerTime = new Date(validitydate)\r\n        this.invoice.date = (new Date(this.pickerTime));\r\n        this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 5000)\r\n      }\r\n    })\r\n  }\r\n\r\n  discount_price: any;\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0 && this.discount_price.getRawValue() <= this.subTotal) {\r\n      this.invoice.discount = (parseFloat(this.discount_price.getRawValue()));\r\n      this.percent_discount_bill = this.subTotal ? (this.invoice.discount / this.subTotal) * 100 : 0\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.discount;\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  // -------change tax------\r\n\r\n  invoice_fee: any;\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.fee = (parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.fee;\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  // -------modal edit pay---------\r\n  edit_pay: boolean = false;\r\n  edit_paytotal: any;\r\n  showModalEditTotalPay() {\r\n    if (this.invoice.payment_type != 2 && this.vhQuerySales.getlocalCustomer(this.invoice.id_customer).debt_enable) {\r\n      this.vhAlgorithm.waitingStack().then(() => {\r\n        this.edit_paytotal = this.vhAlgorithm.vhnumeral(\".edit-pay\");\r\n      })\r\n      this.edit_pay = true;\r\n    }\r\n    else if (!this.vhQuerySales.getlocalCustomer(this.invoice.id_customer).debt_enable) {\r\n      this.vhComponent.showToast(5000,\r\n        this.languageService.translate(\"This customer is not allowed to debt\"), \"alert-toast\"\r\n      )\r\n    }\r\n  }\r\n  handleEditPay() {\r\n    if (this.edit_paytotal.getRawValue() >= 0 && this.edit_paytotal.getRawValue() <= this.getTotalATax()) {\r\n      this.invoice.payment = (parseFloat(this.edit_paytotal.getRawValue()))\r\n    }\r\n    this.edit_pay = false;\r\n  }\r\n  handleCancelEditPay() {\r\n    this.edit_pay = false;\r\n  }\r\n  updateCash(cash: any) {\r\n    this.invoice.cash = parseFloat(cash.replaceAll(',', ''))\r\n  }\r\n\r\n  editPercentDiscount(value) {\r\n    if (parseFloat(value) > 100)\r\n      document.getElementById(\"percent-discount-price\")['value'] = 0\r\n    else this.percent_discount_bill = value;\r\n    this.invoice.discount = this.subTotal * (this.percent_discount_bill / 100)\r\n    this.setTotal()\r\n  }\r\n  payInvoice(bill_type: 50, print?) { \r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (print) {\r\n        if (this.checkPrinter) {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.createOrUpdate()\r\n           \r\n          })\r\n        }\r\n        else {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n            nzIconType: \"info-circle\",\r\n            nzCancelText: null,\r\n            nzOnOk: () => { }\r\n          })\r\n        }\r\n      }\r\n      else {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.createOrUpdate() \r\n        })\r\n      }\r\n    }\r\n    else this.vhComponent.showToast(5000, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n\r\n  createOrUpdate() { \r\n    let invoice = { ...this.invoice } \r\n    this.vhQuerySales.updateBill_Billdetail(this.invoice._id, invoice, this.getCreateUpdateInvoiceDetail())\r\n      .then(() => {\r\n        \r\n        this.vhQuerySales.saveBill_Billdetail(this.invoice._id, 50)\r\n          .then(() => {\r\n            \r\n            this.invoiceToday = this.invoiceToday.filter(item => item._id != this.invoice._id)\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              this.vhComponent.showToast(5000,\r\n                `${this.languageService.translate(\"Ha n bn voucher\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n              )\r\n              this.goBack()\r\n            })\r\n          })\r\n      })\r\n    // })\r\n  }\r\n  /**\r\n  * ly thng tin d liu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getlocalPrinters().find(item => item.desktop)\r\n      if (printer && printer.prepaid_card.enable) resolve(printer.prepaid_card)\r\n      else resolve(false)\r\n      if (!printer) rejects(false)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * tr v component ca trang in tng ng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n\r\n\r\n  handlePrint() {\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_sales_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer =  print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)] \r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer , invoice: this.invoice, invoice_detail : this.invoice_detail  }, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.goBack())\r\n        })\r\n      } \r\n    }\r\n  }\r\n  note: string;\r\n  edit_note() {\r\n    if (this.note) {\r\n      this.invoice.note = (this.note)\r\n    }\r\n  }\r\n\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    if (this.invoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n  closeInfoCustomer(event) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  // ------thot trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n\r\n  /**add customer */\r\n  showDrawerAddCusomer: boolean = false;\r\n  showDrawerAddRetail: boolean = false\r\n  openDrawerAddCustomerOrRetail() {\r\n    if (this.radioValue == 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCusomer = true\r\n  }\r\n  closeAddCustomer(result) {\r\n    if (this.radioValue == 1) {\r\n      if (result) {\r\n        this.invoice.retail_name = (result.retail_name)\r\n        this.invoice.retail_phone = (result.retail_phone)\r\n        this.invoice.retail_address = (result.retail_address)\r\n      }\r\n      this.showDrawerAddRetail = false\r\n    }\r\n    else this.showDrawerAddCusomer = false\r\n  }\r\n \r\n\r\n  setSubTotal() {\r\n    this.subTotal = this.invoice_detail.reduce((prev: number, next) => prev + 1 * next.price, 0)\r\n    this.setTotal();\r\n  }\r\n\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount + this.invoice.fee\r\n    this.setTaxValue()\r\n  }\r\n\r\n  setTaxValue() {\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n    this.setPayment()\r\n  }\r\n\r\n  setPayment(value?: number) {\r\n\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0\r\n    } else {\r\n      if (value != null)\r\n        this.invoice.payment = value\r\n      else\r\n        this.invoice.payment = this.invoice.total + this.taxValue\r\n    }\r\n    this.setCash(this.invoice.cash);\r\n  }\r\n  setCash(value) {\r\n    if (this.invoice.payment_type == 2) this.invoice.cash = 0\r\n    else {\r\n      if (value) this.invoice.cash = parseFloat(value);\r\n      else this.invoice.cash = 0\r\n    }\r\n  }\r\n  getTotalATax(): number {\r\n    return this.invoice.total + this.taxValue\r\n  }\r\n  addInvoiceDetail(value: any) {\r\n    let detail: any = {\r\n      id_payment_card_code: value.id_payment_card_code,\r\n      name: value.name,\r\n      id_payment_card: value.id_payment_card,\r\n      code: value.code,\r\n      id_bill: value.id_bill,\r\n      pctype: 1,\r\n      price: value.price,\r\n      products: value.products,\r\n      name_voucher_release: value.name_voucher_release\r\n    }\r\n    this.invoice_detail.push(detail)\r\n    this.setSubTotal()\r\n  }\r\n  removeInvoiceDetail(id: string, notSetSub?: boolean) {\r\n    let index = this.invoice_detail.findIndex(detail => detail.id_payment_card_code == id)\r\n    if (index != -1) {\r\n      this.invoice_detail.splice(index, 1);\r\n    }\r\n    this.setSubTotal()\r\n  }\r\n  getCreateUpdateInvoiceDetail(): VhBillType50DetailAdd[] {\r\n    return this.invoice_detail.map(item => {\r\n      let detail: VhBillType50DetailAdd = {\r\n        id_payment_card_code: item.id_payment_card_code,\r\n        id_payment_card: item.id_payment_card,\r\n        code: item.code,\r\n        pctype: 1,\r\n        ratio: 1,\r\n        quantity: 1,\r\n        price: item.price,\r\n        products: item.products.map(pro => {\r\n          let data = {\r\n            id_product: pro.id_product,\r\n            ptype: pro.ptype,\r\n            ratio: pro.ratio,\r\n            quantity: pro.quantity,\r\n            price: 0,\r\n          }\r\n          if (pro.id_subproduct) data['id_subproduct'] = pro.id_subproduct\r\n          if (pro.combos) {\r\n            data['combos'] = pro.combos.map(combo => {\r\n              let product = {\r\n                id_product: combo.id_product,\r\n                price: combo.price,\r\n                quantity: combo.quantity,\r\n                ptype: combo.ptype,\r\n                ratio: combo.ratio ? combo.ratio : 1,\r\n              }\r\n              if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n              if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n              return product;\r\n            })\r\n          }\r\n          return data\r\n        }),\r\n      }\r\n\r\n      return detail\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}} |  <b> {{'Edit payment card invoice' | translate}}</b>\r\n</div>\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Select prepaid card' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n\r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"openSearchProductList()\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search prepaid card (F4)' | translate}}</button>\r\n                    </div>\r\n                    <!-- <div>\r\n                        <button [disabled]=\"invoice.getBillType() == 1 || !invoice_detail.length\" (click)=\"payInvoice(5)\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n                          <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                          {{'Temporary' | translate}} (F3)</button>\r\n                    </div> -->\r\n                </div>\r\n                <div *ngIf=\"!invoice_detail.length\" class=\"no-data\">\r\n                    <p>{{'Please select a product' | translate}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <table style=\"width: 100%\" *ngIf=\"invoice_detail.length\">\r\n                        <thead>\r\n                            <th style=\"width: 5%\"></th>\r\n                            <th style=\"width: 35%\"><b>{{'Prepaid card name' | translate}}</b></th>\r\n                            <th style=\"width: 15%\"><b>{{'Prepaid card code' | translate}}</b></th>\r\n                            <th style=\"width: 15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                            <th style=\"width: 30%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let item of invoice_detail; index as i\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <div nz-popconfirm\r\n                                            nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{item.code}}\"\r\n                                            (nzOnConfirm)=\"deleteGoods(item,i)\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                            nz-col nzSpan=\"1\">\r\n                                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <b>{{item.name_voucher_release}} ({{item.name}})</b> <br>\r\n\r\n                                    </td>\r\n                                    <td>{{item.code}}</td>\r\n                                    <td nzAlign='right'>\r\n                                        <input (keyup)=\"editVoucherPrice('voucher-price'+i,i)\"\r\n                                            [value]=\"vhAlgorithm.vhcurrencyunit(item.price)\" class=\"border_bottom\"\r\n                                            style=\"text-align: right !important\" type=\"text\" maxlength=\"15\"\r\n                                            [id]=\"'voucher-price'+i\" nz-input />\r\n                                    </td>\r\n                                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                        <ng-container *ngIf=\"item.products\">\r\n                                            <span *ngFor=\"let product of item.products\">\r\n                                                {{ product.name}} {{ '('+product.unit +')'}} x {{product.quantity}} <br>\r\n                                            </span>\r\n                                        </ng-container>\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </ng-container>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.id_employee\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <div class=\"sales-bills-customer-title\">\r\n                    <b>{{'Customer information' | translate}}</b>\r\n                    <span (click)=\"openDrawerAddCustomerOrRetail()\" nz-icon\r\n                        [nzType]=\"invoice.retail_name ? 'eye':'plus'\" nzTheme=\"outline\"></span>\r\n\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex; justify-content: space-between;\">\r\n                    <nz-radio-group [(ngModel)]=\"radioValue\" (ngModelChange)=\"changeCustomerType($event)\"\r\n                        nzName=\"radiogroup\">\r\n                        <label nz-radio [nzValue]=1>{{'Retail customer' | translate}}</label>\r\n                        <label nz-radio [nzValue]=2>{{'Member' | translate}}</label>\r\n                    </nz-radio-group>\r\n\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <ng-container *ngIf=\"radioValue == 1 && invoice.retail_name\">\r\n                        {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                        ''}} {{invoice.retail_address}}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"radioValue == 2\">\r\n                        <app-customer [id_customer]=\"invoice.id_customer\"\r\n                            (closeAndReceiveCustomer)=\"closeAndReceiveCustomer($event)\"></app-customer>\r\n                        <i (click)=\"openInfoCustomer()\"\r\n                            [ngClass]=\"invoice.id_customer !='id_retail' ? 'active' : 'deactive'\"\r\n                            style=\"cursor: pointer;\" nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n                    </ng-container>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;\">\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n\r\n                <ng-container>\r\n                    <div class=\"sales-bills-content-discount\"\r\n                        style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n                        <div style=\"width: auto;\">{{'Discount value' | translate}}</div>\r\n                        <div>\r\n                            <input id=\"percent-discount-price\" style=\"width: 50px;\" #percentDiscount type=\"number\"\r\n                                max=\"100\" min=\"0\" step=\"1\" (blur)=\"editPercentDiscount(percentDiscount.value)\"\r\n                                [ngModel]=\"percent_discount_bill | number:'1.0-2'\" class=\"border_bottom \" maxlength=\"3\"\r\n                                nz-input />%\r\n                        </div>\r\n                        <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.discount)\"\r\n                            class=\"border_bottom discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\"\r\n                            nz-input />\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.fee)\"\r\n                        class=\"border_bottom invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>\r\n                        <nz-select *ngIf=\"listTax.length\" [(ngModel)]=\"id_tax\" (ngModelChange)=\"changeTax($event)\"\r\n                            nzBorderless>\r\n                            <nz-option *ngFor=\"let item of listTax\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"7\" style=\"text-align: end;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(taxValue)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(getTotalATax())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div>\r\n                        <b>{{'Pay' | translate}}</b>\r\n                    </div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit(invoice.payment)}}<img (click)=\"showModalEditTotalPay()\"\r\n                            *ngIf=\"invoice.payment_type != 2\" style=\"width: 16px;margin-left:10px\"\r\n                            src=\"assets/icon/Iconfeather-edit.svg\" /></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit_symbol(getTotalATax() - invoice.payment)}}\r\n                    </div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <app-tax [payment_type]=\"invoice.payment_type\" [id_wallet]=\"invoice.id_wallet\"\r\n                        [id_customer]=\"invoice.id_customer\" (closeAndGetValuePayment)=\"closeAndGetValuePayment($event)\">\r\n                    </app-tax>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\"\r\n                    style=\"margin-top: 10px;\">\r\n                    <div>{{'cash' | translate}}</div>\r\n                    <input style=\"text-align: end;width: 35%;\" type=\"text\" #cash maxlength=\"15\" nz-input\r\n                        [disabled]=\"invoice.payment_type == 2\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.cash)\"\r\n                        class=\"customerPay border_bottom\" (keyup)=\"updateCash(cash.value)\" />\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div>{{'Change' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash -\r\n                        invoice.payment : 0)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"note\" (blur)=\"edit_note()\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!invoice_detail.length\" (click)=\"payInvoice(50,true)\" nz-button\r\n                    class=\"order-and-print\">\r\n                    {{\"Pay & Print\"|translate}} (F2)\r\n                </button>\r\n                <button style=\"margin: auto;\" [disabled]=\"!invoice_detail.length\" (click)=\"payInvoice(50,false)\"\r\n                    nz-button class=\"order\">\r\n                    {{\"Pay\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- -----nz-drawer list-product-------- -->\r\n<!-- Search product -->\r\n\r\n<app-search-voucher [searchProductList]=\"searchProductList\"  \r\n    (closeSearchProductList)=\"closeSearchProductList($event)\" [id_product_delete]=\"id_product_delete\">\r\n</app-search-voucher>\r\n\r\n<!--Modal edit pay-->\r\n<nz-modal [(nzVisible)]=\"edit_pay\" [nzFooter]=\"modalFooterEditPay\" nzTitle=\"{{'Edit' | translate}}\"\r\n    (nzOnCancel)=\"handleCancelEditPay()\" (nzOnOk)=\"handleEditPay()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Pay' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input [value]=\"vhAlgorithm.vhcurrencyunit(invoice.payment)\" class=\"edit-pay\" type=\"text\" maxlength=\"15\"\r\n                    nz-input />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditPay>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditPay()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditPay()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- --------------visible drawer info customer----------- -->\r\n<app-customer-profile *ngIf=\"visibleInfoCustomer\" [visibleInfoCustomer]=\"visibleInfoCustomer\" [customer]=\"customer\"\r\n    (closeInfoCustomer)=\"closeInfoCustomer($event)\"></app-customer-profile>\r\n\r\n<!-- --------------------add customer---------------------- -->\r\n<app-add-customer *ngIf=\"showDrawerAddCusomer\" [showDrawerAddCusomer]=\"showDrawerAddCusomer\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\"></app-add-customer>\r\n\r\n<!-- --------------------add retail---------------------- -->\r\n<app-retail-info *ngIf=\"showDrawerAddRetail\" [showDrawerAddRetail]=\"showDrawerAddRetail\"\r\n    [retail_name]=\"invoice.retail_name\" [retail_phone]=\"invoice.retail_phone\" [retail_address]=\"invoice.retail_address\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\"></app-retail-info>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AhamoveService {\r\n  private URL: string = this.vhQuerySales.getShippingAhamoveURL()\r\n  // api_key = '183a9baa5176ebbaa9c10fe67fc02161d63f6849'; //dev\r\n  api_key = 'fc0ee646897ef09f19fd61075337728c61bc9480'; //production\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n  getTokenAhaMove(phone) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": 'https://api.ahamove.com/v1/partner/register_account',\r\n        \"mobile\": phone,\r\n        \"api_key\": this.api_key,\r\n        \"name\": \"Viethas\",\r\n        \"address\": \"Khch hng\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getAllServiceAhaMove(city_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/service_types?city_id=${city_id}`,\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  calculateFeeAhamove(data) {\r\n    \r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v2/order/estimated_fee\",\r\n      }\r\n    }\r\n    const body = {\r\n      \"token\": data.token,\r\n      \"order_time\": 0,\r\n      \"path\": data.path,\r\n      \"services\": data.services,\r\n      \"payment_method\": \"CASH\"\r\n    }\r\n    return this.http.post(this.URL, body, options).toPromise();\r\n  }\r\n  createOrderAhamove(data) {\r\n\r\n    let x = `[{\"address\":\"${data.pick_address}\",\"name\":\"${data.pick_name}\",\"mobile\":\"${data.pick_tel}\"},{\"address\":\"${data.address}\",\"name\":\"${data.name}\",\"mobile\":\"${data.phone}\",\"cod\":${data.cod},\"remarks\":\"${data.note}\"}]`;\r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v1/order/create\",\r\n        \"token\": data.token,\r\n        \"order_time\": data.order_time,\r\n        \"service_id\": data.service_id,\r\n        \"payment_method\": \"CASH\",\r\n        \"path\": x\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getDetailBillAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/detail`,\r\n        \"token\": token,\r\n        \"order_id\": order_id\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  cancelOrderAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/cancel`,\r\n        \"token\": token,\r\n        \"order_id\": order_id,\r\n        \"comment\": \"No comment\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhnService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  /**\r\n  * kim tra token ca giao hng nhanh c hp l hay khng\r\n  * @example : this.transportService.connectTokenGhn(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  connectTokenGhn(token) {\r\n    let urlGhn = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/all';\r\n    const options = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(urlGhn, options).toPromise();\r\n  }\r\n  /**\r\n  * get cc tnh trong nc Vit Nam\r\n  * @param token\r\n  * @example this.transportService.getProvinceGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getProvinceGhn(token) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/province';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get cc huyn trong tnh ca Vit Nam\r\n  * @param token ,province_id\r\n  * @example this.transportService.getDistrictGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getDistrictGhn(token, province_id?) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/district';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n\r\n      }),\r\n      params: {\r\n        \"province_id\": province_id ? province_id : 0\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get cc x trong huyn ca Vit Nam\r\n  * @param token ,district_id\r\n  * @example this.transportService.getWardGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getWardGhn(token, district_id) {\r\n    let url = `https://online-gateway.ghn.vn/shiip/public-api/master-data/ward?${district_id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"district_id\": district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tnh ph vn chuyn\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return\r\n  **/\r\n  calculate_delivery_fee(token, data) {\r\n    let url = \"https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n      params: {\r\n        \"service_id\": data.service_id,\r\n        \"to_ward_code\": data.to_ward_code,\r\n        \"from_district_id\": data.from_district_id,\r\n        \"height\": data.height,\r\n        \"length\": data.length,\r\n        \"weight\": data.weight,\r\n        \"width\": data.width,\r\n        \"insurance_value\": data.insurance_value,\r\n        \"to_district_id\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * chn service : i b, bay...\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return result { data : [service_id,short_name,service_type_id]}\r\n  **/\r\n  getServiceDelivery(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"shop_id\": data.shop_id,\r\n        \"from_district\": data.from_district_id,\r\n        \"to_district\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * to n giao hng\r\n  * @param data\r\n  * @example this.transportService.createOrderGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  createOrderGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/create';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Token\": data.token,\r\n        \"Content-Type\": \"application/json\",\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"to_name\": data.to_name,\r\n      \"to_phone\": data.to_phone,\r\n      \"to_address\": data.to_address,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"weight\": data.weight,\r\n      \"height\": data.height,\r\n      \"length\": data.length,\r\n      \"width\": data.width,\r\n      \"payment_type_id\": data.payment_type_id,\r\n      \"required_note\": data.required_note,\r\n      \"items\": data.items,\r\n      \"service_id\": data.service_id,\r\n      \"cod_amount\": data.cod_amount,\r\n      \"insurance_value\": data.insurance_value,\r\n      \"note\": data.note ? data.note : ''\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tnh (on) ngy vn chuyn hng hon thnh\r\n  * @param data;\r\n  * @example : this.transportService.calculateTheExpectedDeliveryTime().then(res =>{})\r\n  * @return :\r\n  **/\r\n  calculateTheExpectedDeliveryTime(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"from_district_id\": data.from_district_id,\r\n      \"from_ward_code\": data.from_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"service_id\": data.service_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getInfoOrder(token, order_code) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_code\": order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  cancelOrder(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/switch-status/cancel';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": data.token,\r\n        \"ShopId\": data.shop_id.toString(),\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_codes\": data.order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getOtpGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateOTP';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\", //gn cng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  addStaffToStore(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateCreateWithShop';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\",  //gn cng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone,\r\n      \"otp\": data.otp,\r\n      \"shop_id\": data.shop_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhtkService {\r\n  private URL: string = this.vhQuerySales.getShippingGHTKURL()\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n\r\n  /**\r\n  * kim tra token ca giao hng tit kim c hp l hay khng v ly thng tin kho\r\n  * @example : this.transportService.connectTokenGhtk(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  getWareHouseGhtk(token) {\r\n    // let options:any = {\r\n    //   method: 'GET',\r\n    //   url: 'http://115.78.100.57:8013/miscellaneous/ghtk',                       \r\n    //   params: {\r\n    //     token:token,\r\n    //     url: 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n    //   }            \r\n    // };          \r\n    // return axios.request(options);\r\n    \r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tnh ton ph vn chuyn\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  calculateFeeGhtk(data, transport) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": data.token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/fee\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"pick_address_id\": data.shop_id,\r\n      \"province\": data.province,\r\n      \"district\": data.district,\r\n      \"weight\": data.weight * 1000,\r\n      \"value\": data.insurance_value,\r\n      \"transport\": transport\r\n    }\r\n    \r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tnh ton ph vn chuyn\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  createOrderGhtk(token, products, order) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/order/?ver=1.6.3\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"products\": products,\r\n      \"order\": order\r\n    }\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  getStatusBill(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/v2/${order_code}`\r\n      }\r\n    }\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  cancelOrder(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/cancel/${order_code}`\r\n      }\r\n    }\r\n    let params = {}\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VnpostService {\r\n  private URL_TEST = 'https://donhang-uat.vnpost.vn/api/api'\r\n  private URL_PRODUCT = 'https://donhang.vnpost.vn/api/api'\r\n  private URL_SERVER = 'https://us-central1-servers-1b3fe.cloudfunctions.net/app/shippingclouds/vietnampost'\r\n  private TenDangNhap: string = '0909925354'\r\n  private MatKhau: string = '123456'\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n\r\n  }\r\n  getTokenVnpost() {\r\n    let url = `${this.URL_PRODUCT}/MobileAuthentication/GetAccessToken`;\r\n    let json: any = {\r\n      TenDangNhap: this.TenDangNhap,\r\n      MatKhau: this.MatKhau\r\n    }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': 'none' }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Kim tra xem liu khach hang a co ma CRM va a uy quyn cho Viethas y n hay cha\r\n   * @param token\r\n   * @param customer_code \r\n   * @returns \r\n   */\r\n  checkCustomerCode(token, customer_code) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CheckCustomerCode`;\r\n    let json: any = { CustomerCode: customer_code }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Ly danh sach tinh / thanh ph theo Vnpost\r\n   * @returns \r\n   */\r\n  getProvinceVnpost() {\r\n    let url = `${this.URL_PRODUCT}/TinhThanh/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Ly danh sach qun/huyn theo Vnpost\r\n   * @returns \r\n   */\r\n  getDistrictVnpost() {\r\n    let url = `${this.URL_PRODUCT}/QuanHuyen/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Ly danh sach phng/xa theo Vnpost\r\n   * @returns \r\n   */\r\n  getWardVnpost() {\r\n    let url = `${this.URL_PRODUCT}/PhuongXa/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Ham nay ly danh sach tn cac phng thc vn chuyn\r\n   */\r\n  getServiceNameVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/TinhCuocTatCaDichVu`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n\r\n  /**\r\n   * Tao order vnpost\r\n   */\r\n  createOrderVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CreateOrder`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tao order vnpost\r\n   */\r\n  getDetailOrderById(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/Order/GetOrder/${Id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, null, opptions).toPromise()\r\n  }\r\n  /**\r\n   * Delelte order vnpost\r\n   */\r\n  deleteOrderVnpostByID(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CancelOrder`;\r\n    let json = { OrderId: Id }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise()\r\n  }\r\n\r\n  // --------------------------------CAC HAM X LY D LIU-------------------------------------------\r\n  /**\r\n   * Ham nay  custom d liu cho ham getServiceNameVnpost\r\n   */\r\n  renderFormatService(infoSend, infoRecei, infoProd, infoDeli, CustomerCode) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      Weight: infoProd.WeightEvaluation, Width: infoProd.WidthEvaluation,\r\n      Length: infoProd.LengthEvaluation, Height: infoProd.HeightEvaluation,\r\n      CodAmount: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmount: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false,\r\n      CustomerCode: CustomerCode\r\n    }\r\n  }\r\n  /**\r\n   * Ham nay  custom d liu cho ham createOrderVnpost\r\n   */\r\n  renderFormatCreateOrder(infoSend, infoRecei, infoProd, infoDeli, CustomerCode, bill_code) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      SenderTel: infoSend.SenderTel, SenderFullname: infoSend.SenderFullname, SenderAddress: infoSend.SenderAddress,\r\n      SenderWardId: infoSend.SenderWardId, ReceiverTel: infoRecei.ReceiverTel, ReceiverFullname: infoRecei.ReceiverFullname,\r\n      ReceiverAddress: infoRecei.ReceiverAddress, ReceiverWardId: infoRecei.ReceiverWardId,\r\n      ReceiverAddressType: infoDeli.ReceiverAddressType == 0 ? null : infoDeli.ReceiverAddressType, ServiceName: infoDeli.ServiceName, OrderCode: bill_code,\r\n      CustomerNote: infoDeli.CustomerNote, PickupType: 1,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      WeightEvaluation: infoProd.WeightEvaluation, WidthEvaluation: infoProd.WidthEvaluation,\r\n      LengthEvaluation: infoProd.LengthEvaluation, HeightEvaluation: infoProd.HeightEvaluation,\r\n      CodAmountEvaluation: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmountEvaluation: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      PickupPoscode: \"\", CustomerCode: CustomerCode,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false\r\n\r\n    }\r\n  }\r\n  renderFormatPrintOrder(delivery) {\r\n    \r\n    return {\r\n      created: delivery.CreateTime, customer_fullname: delivery.ReceiverFullname,\r\n      customer_tel: delivery.ReceiverTel, address: delivery.ReceiverFullAddress,\r\n      ship_money: delivery.TotalFreightIncludeVatEvaluation, insurance: 0,\r\n      is_freeship: delivery.IsReceiverPayFreight ? 0 : 1, CodAmountEvaluation: delivery.CodAmountEvaluation\r\n    }\r\n  }\r\n  // --------------------------------CAC HAM X LY D LIU-------------------------------------------\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhAlgorithm, VhAuth, VhImage } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n\r\n@Component({\r\n  selector: 'app-account-information',\r\n  templateUrl: './account-information.component.html',\r\n  styleUrls: ['./account-information.component.scss']\r\n})\r\nexport class AccountInformationComponent {\r\n  @Input() modalAccountInfo: boolean = false\r\n  @Output() closeAccount = new EventEmitter<any>();\r\n  /** form lu cc trng ca nv ng nhp */\r\n  detailEmployee: FormGroup;\r\n  employee: any;\r\n\r\n\r\n\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.countryCode = this.employee.countryCode ?? this.fncService.defaultCountryCode;\r\n    this.callingCode = this.fncService.getCallingCodeFromCountryCode(this.countryCode) ?? this.fncService.defaultCallingCode;\r\n    this.formattedPhone = this.fncService.getFormattedPhoneNumber(this.employee.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailEmployee = new FormGroup({\r\n      img: new FormControl(this.employee.img),\r\n      name: new FormControl(this.employee.name, Validators.compose([Validators.required, Validators.compose([Validators.minLength(6)])])),\r\n      email: new FormControl(this.employee.email, Validators.email),\r\n      password: new FormControl(this.employee.password, Validators.compose([Validators.minLength(5), Validators.required])),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.fncService.phoneValidator(() => this.countryCode)]),\r\n      gender: new FormControl(this.employee.gender),\r\n      address: new FormControl(this.employee.address),\r\n      dateofbirth: new FormControl(this.employee.dateofbirth),\r\n      datework: new FormControl(this.employee.datework),\r\n      contract: new FormControl(this.employee.contract),\r\n    });\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** \r\n   * Ly hnh nh t Desktop\r\n   * @example this.onUpload($event)\r\n   */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"employees\", this.detailEmployee.value[\"img\"] || '').then(\r\n      photoURL => {\r\n        this.detailEmployee.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateEmployee(this.detailEmployee);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeAccount.emit(false)\r\n  }\r\n\r\n  /**\r\n   * Cp nht thng tin thay i ca nv vo database\r\n   * @param formValue : gi tr ca bin this.detailEmployee\r\n   * @example this.updateEmployee(this.detailEmployee.value)\r\n  */\r\n  updateEmployee(formValue) {\r\n    if (formValue.valid) {\r\n      let value = { ...formValue.value };\r\n      if(value.phone) {\r\n        value.countryCode = this.countryCode;\r\n        value.phone = this.fncService.getNationalPhoneNumber(value.phone, this.countryCode);\r\n        value.phoneNumber = this.fncService.getInternationalPhoneNumber(value.phone, this.countryCode);\r\n      }\r\n      this.vhAuth.updateEmployee(this.employee._id, value).catch(err => { console.error(err) })\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** M quc gia */\r\n  countryCode: string = this.fncService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.fncService.defaultCallingCode;\r\n  /** S in thoi  format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n}\r\n","<nz-modal nzWidth=\"60vw\" [(nzVisible)]=\"modalAccountInfo\" nzTitle=\"{{'Account information' | translate}}\"\r\n    [nzFooter]=\"null\" (nzOnOk)=\"closeModal()\" (nzOnCancel)=\"closeModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            <form id=\"layout-employee-form\" class=\"ant-table-body\" nz-form [formGroup]=\"detailEmployee\">\r\n                <div nz-row [nzGutter]=\"24\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                (change)=\"onUpload($event)\" />\r\n                            <img [ngStyle]=\"{width: detailEmployee.value.img ? '100%' : '60px'}\"\r\n                                onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                [src]=\"detailEmployee.value.img\" />\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Employee name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter employee name' | translate}}\" minlength=\"5\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Employee name is required'\r\n                                            | translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Email' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"email\" formControlName=\"email\" nz-input\r\n                                        placeholder=\"{{'Enter email' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Password' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly formControlName=\"password\" type=\"password\" nz-input\r\n                                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <div class=\"calling-code\">\r\n                                      <span>+{{callingCode}}</span>\r\n                                      <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                    </div>\r\n                                    <input formControlName=\"phone\" readonly\r\n                                      [placeholder]=\"'Enter phone number' | translate\" type=\"tel\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                        <nz-date-picker (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"dateofbirth\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Address'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter address' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"employee.owner =='boss'\">\r\n                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                        <nz-select style=\"border: none !important;\" nzShowSearch\r\n                            (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                            nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\">\r\n                            <nz-option nzLabel=\"{{'Female' | translate}}\" nzValue=\"Female\"></nz-option>\r\n                            <nz-option nzLabel=\"{{'Male' | translate}}\" nzValue=\"Male\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Starting date'|translate}}</b></div>\r\n                                <nz-date-picker style=\"width: 95%;\" (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                                    formControlName=\"datework\">\r\n                                </nz-date-picker>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Contract' | translate}}</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control>\r\n                                        <nz-input-group>\r\n                                            <input style=\"width: 95%;\" (blur)=\"updateEmployee(detailEmployee)\"\r\n                                                formControlName=\"contract\" nz-input\r\n                                                placeholder=\"{{'Enter contract' | translate}}\" />\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SearchVoucherComponent } from './search-voucher/search-voucher.component';\r\nimport { AccountInformationComponent } from './account-information/account-information.component';\r\nimport { ConfigPrintComponent } from './config-print/config-print.component';\r\nimport { ConfigSalesComponent } from './config-sales/config-sales.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [SearchVoucherComponent,AccountInformationComponent,ConfigPrintComponent,ConfigSalesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    ScrollingModule\r\n  ],\r\n  exports: [\r\n    SearchVoucherComponent,\r\n    AccountInformationComponent,ConfigPrintComponent,ConfigSalesComponent\r\n  ]\r\n})\r\nexport class ComponentModule { }\r\n","import { SalesPaymentCardA4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a4/sales-payment-card-a4.component';\r\nimport { SalesPaymentCardK57Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k57-col3/sales-payment-card-k57-col3.component';\r\nimport { SalesPaymentCardK80Col3Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col3/sales-payment-card-k80-col3.component';\r\nimport { SalesPaymentCardK80Col4Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-k80-col4/sales-payment-card-k80-col4.component';\r\nimport { SalesPaymentCardA5Component } from 'src/app/sales/components/print/sales-payment-card/sales-payment-card-a5/sales-payment-card-a5.component';\r\nimport { LanguageService } from './../../../services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core'; \r\nimport { Platform } from '@ionic/angular';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice'; \r\nimport { VhSalePaymentCardInvoices } from 'src/app/sales/interface/vh-sale-payment-card-invoice';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n \r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQuerySales.getLocalPrintPage(\"page_desktop_sales_payment_card\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() { \r\n  }\r\n  \r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  \r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  \r\n  addPrinter() { \r\n    this.vhComponent.showLoading('').then(() => { \r\n      this.vhQuerySales.addPrintPage('page_desktop_sales_payment_card',{...this.sales_payment_card} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0] \r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n \r\n  sales_payment_card = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_sales_payment_card',\r\n    print_sizes: [\r\n      {\r\n        _id: 'print_size_a4',\r\n        name: 'A4',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n\r\n      },\r\n      {\r\n        _id: 'print_size_a5',\r\n        name: 'A5',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n\r\n      },\r\n      {\r\n        _id: 'print_size_k80_4c',\r\n        name: 'k80 - 4 ct',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k80_3c',\r\n        name: 'k80 - 3 ct',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k57_3c',\r\n        name: 'k57 - 3 ct',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQuerySales.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    let invoice = new VhSalePaymentCardInvoices(this.tempBillSalesCard, this.bill_details_SalesCard, this.vhQuerySales);\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(this.item._id), { printer: this.item, invoice: invoice }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n  \r\n  private renderPrintSalesPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesPaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return SalesPaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return SalesPaymentCardK80Col4Component\r\n      case 'print_size_a5': return SalesPaymentCardA5Component\r\n      case 'print_size_a4': return SalesPaymentCardA4Component\r\n      default: return SalesPaymentCardA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- d liu mu --------- */\r\n  // bn payment card\r\n  tempBillSalesCard: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 50,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"y l ho n in th...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n  }\r\n\r\n  bill_details_SalesCard = [\r\n    {\r\n      name: \"Th tr trc\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      price: 191000,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"My POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          quantity: 1,\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n  ]\r\n\r\n}\r\n","<!-- ---------------------modal cu hnh my in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Configure prepaid card sales print page' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    \r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-config-sales',\r\n  templateUrl: './config-sales.component.html',\r\n  styleUrls: ['./config-sales.component.scss']\r\n})\r\nexport class ConfigSalesComponent implements OnInit {\r\n  best_selling: any = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n  show_confirm_pay : any = this.vhAuth.localStorageGET(\"show_confirm_pay\");\r\n  // show_product_mutil_line  : any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_product_mutil_line_sales;\r\n  public tax: any = this.vhAuth.localStorageGET(\"show_tax\");\r\n  public fee: any = this.vhAuth.localStorageGET(\"show_fee\");\r\n  public discount: any = this.vhAuth.localStorageGET(\"show_discount\");\r\n  public note: any = this.vhAuth.localStorageGET(\"show_note\");\r\n  public cash: any = this.vhAuth.localStorageGET(\"show_cash\");\r\n  rest: any = this.vhAuth.localStorageGET(\"show_rest\");\r\n  @Input() showConfigSales = false;\r\n  @Output() hide = new EventEmitter<boolean>();\r\n \r\n  constructor(\r\n    private vhAuth:VhAuth,\r\n    private vhQuerySales:VhQuerySales\r\n  ) {  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if(typeof(this.tax) == 'undefined'){\r\n      this.vhAuth.localStorageSET(\"show_best_selling\", true)\r\n      this.vhAuth.localStorageSET(\"show_tax\", true)\r\n      this.vhAuth.localStorageSET(\"show_fee\", true)\r\n      this.vhAuth.localStorageSET(\"show_discount\", true)\r\n      this.vhAuth.localStorageSET(\"show_note\", true);\r\n      this.vhAuth.localStorageSET(\"show_cash\", true);\r\n      this.vhAuth.localStorageSET(\"show_rest\", true);\r\n    }\r\n  }\r\n\r\n  updateSetting(title: string, event) { \r\n    this.vhAuth.localStorageSET(title,event)\r\n  }\r\n\r\n  \r\n}\r\n","<!-- ---------------------modal cu hnh my in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigSales\" (nzOnCancel)=\"hide.emit(true)\" [nzTitle]=\"'Display settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list>\r\n             \r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show payment confirmation' | translate}}</span>\r\n                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_confirm_pay\" (ngModelChange)=\"updateSetting('show_confirm_pay',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item> \r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show discount' | translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"discount\"\r\n                    (ngModelChange)=\"updateSetting('show_discount',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show fee'| translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"fee\"\r\n                    (ngModelChange)=\"updateSetting('show_fee',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show tax'| translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"tax\"\r\n                    (ngModelChange)=\"updateSetting('show_tax',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            \r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show rest'| translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"rest\"\r\n                    (ngModelChange)=\"updateSetting('show_rest',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show note'| translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"note\"\r\n                    (ngModelChange)=\"updateSetting('show_note',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show change'| translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"cash\"\r\n                    (ngModelChange)=\"updateSetting('show_cash',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { VhAlgorithm, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Subscription } from 'rxjs';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-search-voucher',\r\n  templateUrl: './search-voucher.component.html',\r\n  styleUrls: ['./search-voucher.component.scss']\r\n})\r\nexport class SearchVoucherComponent implements OnInit {\r\n  @ViewChild(\"inputSearchSales\") myInputField: ElementRef;\r\n  @Input(\"searchProductList\") searchProductList: boolean = true;\r\n  @Input() barcode: any;\r\n  @Input() id_product_delete: string;\r\n  @Output(\"closeSearchProductList\") closeSearchProductList = new EventEmitter<any>();\r\n  @Output() clearBarcode = new EventEmitter()\r\n  @Input() default_price_type: any;\r\n  observableAllProducts: Subscription\r\n  indexTab: any = 0;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id\r\n  public tabs: any = []\r\n  ListVoucher: any[];\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhQuery: VhQuery,\r\n\r\n  ) { }\r\n  public goodList: any[] = [];\r\n  public searchList: any[] = [];\r\n  public typeGoods = 0;\r\n  search: string = '';\r\n  ngOnInit(): void {\r\n    this.getReleaseVoucher();\r\n  }\r\n  getReleaseVoucher() {\r\n     // ly danh sch voucher  pht hnh\r\n     this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getPaymentCardCodes_byFields( { status:{ $eq: 1 }},{},{},0),\r\n        // this.vhQuerySales.getPaymentCards()\r\n      ]).then(([payment_card_codes,]:any)=>{\r\n            let promise = new Array();\r\n            for (let i = 0; i < payment_card_codes.length; i++){\r\n              this.vhQuerySales.getPaymentCard_Code_Name_Release(payment_card_codes[i]._id)\r\n              .then((payment_card_release_details:any)=>{\r\n                \r\n                \r\n                // let itemPayment_cards = payment_cards.find(item => item._id == payment_card_release_details.id_payment_card )\r\n                if(payment_card_release_details){\r\n                  payment_card_codes[i]['name']= payment_card_release_details.name_payment_card;\r\n                  payment_card_codes[i]['name_payment_card_release']= payment_card_release_details.name_payment_card_release;\r\n                  payment_card_codes[i]['products']= payment_card_release_details.products.map(e =>{\r\n                    let product = this.vhQuerySales.getlocalDetailProduct(e.id_subproduct ? e.id_subproduct : e.id_product)\r\n                    return {...e , name : product.name, unit : this.vhQuerySales.getUnit_byRatio(product.units, e.ratio).unit}\r\n                  });\r\n                  payment_card_codes[i]['price']= payment_card_release_details.units[0].price;\r\n                  payment_card_codes[i]['type'] = payment_card_release_details.type;\r\n                  payment_card_codes[i]['id_payment_card'] = payment_card_release_details.id_payment_card;\r\n                  this.ListVoucher = payment_card_codes;\r\n                  this.searchList = this.ListVoucher;\r\n                }\r\n              })\r\n            }\r\n            this.vhQuery.asyncPromiseAll(promise)\r\n            .then((array)=>{\r\n              this.vhComponent.hideLoading(0)\r\n            },error=>{\r\n              \r\n              this.vhComponent.hideLoading(0)\r\n            })\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  ngOnChanges({ barcode, id_product_delete }: SimpleChanges): void {\r\n\r\n\r\n    if (id_product_delete && id_product_delete.currentValue) {\r\n      this.searchList.find(item => item._id == id_product_delete.currentValue).choose = false\r\n    }\r\n    if (barcode)\r\n      if (barcode.currentValue) {\r\n        if (barcode.currentValue.toString().length > 5) {\r\n          let product = this.searchList.filter(item => item.barcode == barcode.currentValue);\r\n          if (product[0]) { this.chooseProduct(product[0]); this.clearBarcode.emit(true) }\r\n          else {\r\n            this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Not found\"))\r\n            this.clearBarcode.emit(true)\r\n          }\r\n        }\r\n      }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.observableAllProducts) this.observableAllProducts.unsubscribe();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.myInputField.nativeElement.focus();\r\n  }\r\n  acticeFocus() {\r\n    this.myInputField.nativeElement.focus();\r\n  }\r\n  goBack() {\r\n    this.closeSearchProductList.emit(false);\r\n  }\r\n\r\n  tempVal: string = ''\r\n  searchProduct(value: string) {\r\n    this.tempVal = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(this.tempVal, this.ListVoucher, ['code'])\r\n    else this.searchList = this.ListVoucher\r\n  }\r\n\r\n  chooseProduct(item) {\r\n    item.choose = true;\r\n    let dataConfig = {\r\n      _id: item._id,\r\n      name: item.name,\r\n      id_payment_card: item.id_payment_card,\r\n      id_payment_card_code: item._id,\r\n      name_payment_card_release : item.name_payment_card_release,\r\n      code: item.code,\r\n      quantity: 1,\r\n      pctype: 1,\r\n      price: item.price,\r\n      products: item.products,\r\n    }\r\n\r\n    this.closeSearchProductList.emit(dataConfig)\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzTitle]=\"\" [nzVisible]=\"searchProductList\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent id=\"search-combos-popup\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\"><input (blur)=\"acticeFocus()\" #inputSearchSales class=\"nz-hover-border\" placeholder=\"{{ 'Search card by code' | translate}}\" [(ngModel)]=\"search\" (ngModelChange)=\"searchProduct($event)\" [ngModelOptions]=\"{standalone: true}\" nz-input />\r\n            </div>\r\n        </div>\r\n        <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <nz-tabset [nzSelectedIndex]=\"indexTab\">\r\n                    <!-- <nz-tab *ngFor=\"let tab of tabs\" nzTitle=\"{{tab.name | translate}}\"></nz-tab> -->\r\n                    <nz-tab nzTitle=\"{{'List of issued cards' | translate}} \"></nz-tab>\r\n                </nz-tabset>\r\n                <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n                    <nz-list>\r\n                        <nz-list-item (click)=\"chooseProduct(item)\" *cdkVirtualFor=\"let item of searchList\" [ngStyle]=\"{'display': item.choose ? 'none' : 'flex'}\" class=\"item\" style=\"cursor: pointer;\">\r\n                            <nz-list-item-meta>\r\n                                <nz-list-item-meta-title>\r\n                                    <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                                       {{item.name}}\r\n                                    </span> <br>\r\n                                    <div>{{'Card price' | translate}}:\r\n                                        <span style=\" color: var(--ion-color-vh-green)\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                    </div>\r\n                                    <div>\r\n                                        {{'Card code' | translate}}:\r\n                                        <span style=\" color: var(--ion-color-vh-orange)\">{{item.code}}</span>\r\n                                    </div>\r\n                                </nz-list-item-meta-title>\r\n                                <!-- <nz-list-item-meta-description *ngIf=\"item.combos\">\r\n                                    <span style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                      {{item.subComboName}}\r\n                                    </span>\r\n                                </nz-list-item-meta-description> -->\r\n                            </nz-list-item-meta>\r\n                        </nz-list-item>\r\n                        <nz-list-empty *ngIf=\"searchList.length === 0\"></nz-list-empty>\r\n                    </nz-list>\r\n                </cdk-virtual-scroll-viewport>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-drawer>"],"names":["SalesPaymentCardA4Component","SalesPaymentCardK57Col3Component","SalesPaymentCardK80Col3Component","SalesPaymentCardK80Col4Component","SalesPaymentCardA5Component","i0","ctx_r0","DetailComponent","constructor","router","vhQuerySales","vhAuth","vhAlgorithm","languageService","vhComponent","modal","cdRef","vhQuery","fncService","getCurrentNavigation","extras","state","dataRestore","getDataInvoice","invoice","_id","init","invoiceDetail","invoice_detail","invoiceInfo","employee","getlocalEmployee","id_employee","partner","getlocalCustomer","id_customer","paymentName","setPaymentName","payment_type","setSubTotal","subTotal","reduce","prev","next","price","ngAfterViewChecked","document","querySelector","tableHeight","clientHeight","detectChanges","id","showLoading","then","Promise","all","getBill","getBill_details_byId_bill","invoiceDetailFresh","length","id_payment_card","promise","Array","i","getPaymentCard","asyncPromiseAll","array","map","item","index","error","hideLoading","getStringName","products","name","forEach","element","product","getlocalDetailProduct","id_subproduct","id_product","unit","quantity","getUnit_byRatio","units","ratio","goBack","navigate","url","deleteInvoice","getValidityDate","date","validitydate","checkMyPermission","alertConfirm","translate","deleteBill_Billdetail","bool","alertMessageDesktop","bill_code","formatDate","type","getlocalWallet","id_wallet","renderAddress","address","district","province","country","printInvoice","print","getLocalPrintPage","print_sizes","findIndex","e","print_size_default","enable","printer","showModal","renderPrintPage","onWillDismiss","confirm","nzTitle","nzContent","nzIconType","nzCancelText","nzOnOk","selectors","inputs","decls","vars","consts","template","ctx","EventEmitter","SearchVoucherComponent","getDefaultBranch","ngOnInit","getReleaseVoucher","getPaymentCardCodes_byFields","status","$eq","payment_card_codes","getPaymentCard_Code_Name_Release","payment_card_release_details","name_payment_card","name_payment_card_release","ListVoucher","searchList","ngOnChanges","barcode","id_product_delete","currentValue","find","choose","toString","filter","chooseProduct","clearBarcode","emit","ngOnDestroy","observableAllProducts","unsubscribe","ngAfterViewInit","myInputField","nativeElement","focus","acticeFocus","closeSearchProductList","searchProduct","value","tempVal","changeAlias","toLowerCase","dataConfig","id_payment_card_code","code","pctype","viewQuery"],"sourceRoot":"webpack:///"}