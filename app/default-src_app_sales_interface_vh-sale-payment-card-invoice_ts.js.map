{"version":3,"file":"default-src_app_sales_interface_vh-sale-payment-card-invoice_ts.js","mappings":"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","sources":["./src/app/sales/interface/vh-sale-payment-card-invoice.ts"],"sourcesContent":["import { VhQuerySales } from 'ionic-vhframeworks';\r\n\r\nexport interface VhSalePaymentCardInvoice {\r\n  _id?: string;\r\n  bill_type: 50 | 51;\r\n  id_employee: string;\r\n  id_customer: 'id_retail' | string;\r\n  id_branch: string;\r\n  id_wallet: 'id_cash' | string;\r\n  tax?: number;\r\n  note: string;\r\n  date: string;\r\n  total?: number;\r\n  fee?: number;\r\n  payment?: number;\r\n  bill_code: string;\r\n  payment_type?: 1 | 2 | 3;\r\n  discount?: number;\r\n  cash?: number;\r\n  retail_name?: string;\r\n  retail_phone?: string;\r\n  retail_address?: string;\r\n  discount_bill?: number;\r\n}\r\n\r\n// Bán Payment Card\r\nexport interface VhSalePaymentCardInvoiceDetails {\r\n  _id?: string;\r\n  id_bill?: string;\r\n  id_payment_card: string;\r\n  id_payment_card_code: string;\r\n  quantity: number;\r\n  price: number;\r\n  pctype: number;\r\n  name?: string;\r\n  products?: any[];\r\n  products_name?: string;\r\n  code: string;\r\n  name_payment_card_release?: string;\r\n  ratio: number;\r\n}\r\nexport class VhSalePaymentCardInvoices {\r\n  private date: Date = new Date();\r\n  private subTotal?: number = 0;\r\n  private percent_discount_bill?: number = 0;\r\n  private taxValue?: number = 0;\r\n  private invoice: VhSalePaymentCardInvoice = {\r\n    payment_type: 1,\r\n    date: this.date.toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_branch: null,\r\n    id_employee: null,\r\n    id_wallet: 'id_cash',\r\n    total: 0,\r\n    payment: 0,\r\n    tax: 0,\r\n    discount: 0,\r\n    fee: 0,\r\n    bill_type: 50,\r\n    note: '',\r\n    bill_code: '',\r\n    _id: null,\r\n    cash: 0,\r\n  };\r\n  protected invoiceDetail?: VhSalePaymentCardInvoiceDetails[] = [];\r\n  private vhQuerySales: VhQuerySales;\r\n  constructor(\r\n    invoice: any = null,\r\n    invoiceDetail: any[] = [],\r\n    vhQuerySales: VhQuerySales\r\n  ) {\r\n    this.vhQuerySales = vhQuerySales;\r\n    if (invoice) {\r\n      this.invoice.bill_code = invoice['bill_code']\r\n        ? invoice['bill_code']\r\n        : null;\r\n      this.invoice.payment_type = invoice['payment_type']\r\n        ? invoice['payment_type']\r\n        : 1;\r\n      this.invoice.id_customer = invoice['id_customer']\r\n        ? invoice['id_customer']\r\n        : 'id_retail';\r\n      this.invoice.id_branch = invoice['id_branch']\r\n        ? invoice['id_branch']\r\n        : null;\r\n      this.invoice.id_employee = invoice['id_employee']\r\n        ? invoice['id_employee']\r\n        : null;\r\n      this.invoice.id_wallet = invoice['id_wallet']\r\n        ? invoice['id_wallet']\r\n        : 'id_cash';\r\n      this.invoice.total = invoice['total'] ? invoice['total'] : 0;\r\n      this.invoice.payment = invoice['payment'] ? invoice['payment'] : 0;\r\n      this.invoice.tax = invoice['tax'] ? invoice['tax'] : 0;\r\n      this.invoice.discount = invoice['discount'] ? invoice['discount'] : 0;\r\n      this.invoice.cash = invoice['cash'] ? invoice['cash'] : 0;\r\n      this.invoice.discount_bill = invoice['discount_bill']\r\n        ? invoice['discount_bill']\r\n        : 0;\r\n\r\n      this.invoice.fee = invoice['fee'] ? invoice['fee'] : 0;\r\n      this.invoice.bill_type = invoice['bill_type']\r\n        ? invoice['bill_type']\r\n        : null;\r\n\r\n      this.invoice.date = invoice['date']\r\n        ? invoice['date']\r\n        : this.date.toISOString();\r\n      this.invoice.note = invoice['note'] ? invoice['note'] : '';\r\n      this.invoice._id = invoice['_id'] ? invoice['_id'] : null;\r\n      this.invoiceDetail = invoice['invoiceDetail']\r\n        ? invoice['invoiceDetail']\r\n        : [];\r\n\r\n      this.taxValue = this.invoice.total * (this.invoice.tax / 100);\r\n      if (invoice['id_customer'] == 'id_retail') {\r\n        this.invoice.retail_name = invoice['retail_name'] || '';\r\n        this.invoice.retail_phone = invoice['retail_phone'] || '';\r\n        this.invoice.retail_address = invoice['retail_address'] || '';\r\n      }\r\n    }\r\n\r\n    if (invoiceDetail) {\r\n      this.invoiceDetail = invoiceDetail;\r\n      this.subTotal = this.invoiceDetail.reduce(\r\n        (prev: number, next) => prev + next.price,\r\n        0\r\n      );\r\n      this.percent_discount_bill = this.subTotal\r\n        ? (this.invoice.discount / this.subTotal) * 100\r\n        : 0;\r\n    } else this.percent_discount_bill = 0;\r\n  }\r\n  /******************************Xu ly invoice *******************************/\r\n  public getID(): string {\r\n    return this.invoice._id;\r\n  }\r\n  public getBillType() {\r\n    return this.invoice.bill_type;\r\n  }\r\n  public setBillType(value) {\r\n    this.invoice.bill_type = value;\r\n  }\r\n  public getDate(): string {\r\n    return this.invoice.date;\r\n  }\r\n  public setDate(value: Date | string) {\r\n    this.invoice.date = typeof value == 'string' ? value : value.toISOString();\r\n  }\r\n  public getBillCode(): string {\r\n    return this.invoice.bill_code;\r\n  }\r\n  public setBillCode(value: string) {\r\n    this.invoice.bill_code = value;\r\n  }\r\n  public getRetailName() {\r\n    return this.invoice.retail_name;\r\n  }\r\n  public setRetailName(retail_name: string) {\r\n    this.invoice.retail_name = retail_name;\r\n  }\r\n  public getRetailPhone() {\r\n    return this.invoice.retail_phone;\r\n  }\r\n  public setRetailPhone(retail_phone: string) {\r\n    this.invoice.retail_phone = retail_phone;\r\n  }\r\n  public getRetailAddress() {\r\n    return this.invoice.retail_address;\r\n  }\r\n  public setRetailAddress(retail_address: string) {\r\n    this.invoice.retail_address = retail_address;\r\n  }\r\n\r\n  public getPaymentType() {\r\n    return this.invoice.payment_type;\r\n  }\r\n  public setPaymentType(value) {\r\n    this.invoice.payment_type = value;\r\n  }\r\n  public getIdPartner(): string {\r\n    return this.invoice.id_customer;\r\n  }\r\n  public setIdPartner(value: string) {\r\n    this.invoice.id_customer = value;\r\n    // this.getDiscountInvoice();\r\n  }\r\n  public getIdEmployee(): string {\r\n    return this.invoice.id_employee;\r\n  }\r\n  public setIdEmployee(value: string) {\r\n    this.invoice.id_employee = value;\r\n  }\r\n  public getIdBranch(): string {\r\n    return this.invoice.id_branch;\r\n  }\r\n  public setIdBranch(value: string) {\r\n    this.invoice.id_branch = value;\r\n  }\r\n  public getIdWallet(): string {\r\n    return this.invoice.id_wallet;\r\n  }\r\n  public setIdWallet(value: string) {\r\n    this.invoice.id_wallet = value;\r\n  }\r\n\r\n  public getNote(): string {\r\n    return this.invoice.note;\r\n  }\r\n  public setNote(value: string) {\r\n    this.invoice.note = value;\r\n  }\r\n  public getTax(): number {\r\n    return this.invoice.tax;\r\n  }\r\n  public setTax(value: number) {\r\n    this.invoice.tax = value;\r\n    this.setTaxValue();\r\n  }\r\n  public getTaxValue(): number {\r\n    return this.taxValue;\r\n  }\r\n  public setTaxValue() {\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100);\r\n    this.setPayment();\r\n  }\r\n  public getDiscount(): number {\r\n    return this.invoice.discount;\r\n  }\r\n  public setDiscount(value: number) {\r\n    this.invoice.discount = value;\r\n    this.setTotal();\r\n  }\r\n\r\n  public getFee(): number {\r\n    return this.invoice.fee;\r\n  }\r\n  public setFee(value: number) {\r\n\r\n    this.invoice.fee = value;\r\n    this.setTotal();\r\n\r\n  }\r\n  public getSubTotal(): number {\r\n    return this.subTotal;\r\n  }\r\n  public setSubTotal() {\r\n    this.subTotal = this.invoiceDetail.reduce(\r\n      (prev: number, next) => prev + next.quantity * next.price,\r\n      0\r\n    );\r\n    this.setTotal();\r\n  }\r\n  public getTotal(): number {\r\n    return this.invoice.total;\r\n  }\r\n  public setTotal() {\r\n    this.invoice.total =\r\n      this.getSubTotal() - this.getDiscount() + this.getFee();\r\n    this.setTaxValue();\r\n  }\r\n  public getTotalATax(): number {\r\n    return this.getTotal() + this.getTaxValue();\r\n  }\r\n  public getPayment(): number {\r\n    return this.invoice.payment;\r\n  }\r\n  public setPayment(value?: number) {\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0;\r\n    } else {\r\n      if (value != null) this.invoice.payment = value;\r\n      else this.invoice.payment = this.getTotal() + this.getTaxValue();\r\n    }\r\n  }\r\n\r\n  public getCash() {\r\n    return this.invoice.cash;\r\n  }\r\n  public getExcessCash() {\r\n    return this.invoice.cash - this.getPayment() > 0\r\n      ? this.invoice.cash - this.getPayment()\r\n      : 0;\r\n  }\r\n  public setCash(value) {\r\n    if (this.invoice.payment_type == 2) this.invoice.cash = 0;\r\n    else {\r\n      if (value) this.invoice.cash = parseFloat(value);\r\n      else this.invoice.cash = 0;\r\n    }\r\n  }\r\n\r\n  public getDiscountBill(): number {\r\n    return this.invoice.discount_bill;\r\n  }\r\n  /**\r\n   * get chiết khấu hóa đơn\r\n   * @returns null : ko có cong thuc | value : co công thức\r\n   */\r\n  public getDiscountInvoice() {\r\n    let discount = this.vhQuerySales.getDiscount_bill_byCustomer(\r\n      this.subTotal,\r\n      this.invoice.id_customer\r\n    );\r\n    if (discount != null) {\r\n      this.setDiscount(discount.discount);\r\n      return discount.discount;\r\n    } else return null;\r\n  }\r\n\r\n  /**\r\n   * lấy % dc giảm của khách hàng có chiết khấu\r\n   * @returns number\r\n   */\r\n  getPercentDiscountBillHasDiscountInvoice() {\r\n    return parseFloat(\r\n      parseFloat(\r\n        ((this.invoice.discount / this.subTotal) * 100).toString()\r\n      ).toFixed(2)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * set lại giá trị percent_discount_bill khi nhập từ input giảm giá trường hợp giảm theo %\r\n   * @param value\r\n   */\r\n  setPercentDiscountBill(value) {\r\n    this.percent_discount_bill =\r\n      parseFloat(value) <= 100 && parseFloat(value) ? parseFloat(value) : 0;\r\n    this.setDiscount(this.getSubTotal() * (this.percent_discount_bill / 100));\r\n  }\r\n\r\n  getPercentDiscountBill() {\r\n    return this.percent_discount_bill;\r\n  }\r\n\r\n  /**\r\n   * set lại giá trị giảm giá cho khách ko có công thức chiết khấu trường hợp giảm giá tiền\r\n   * @param value\r\n   */\r\n  setDiscountForCustomerNotDiscountInvoice(value) {\r\n    if (value < this.subTotal) {\r\n      this.setDiscount(value);\r\n      this.percent_discount_bill = parseFloat(\r\n        parseFloat(((value / this.getSubTotal()) * 100).toString()).toFixed(2)\r\n      );\r\n    } else {\r\n      this.setDiscount(0);\r\n      this.percent_discount_bill = 0;\r\n    }\r\n  }\r\n\r\n  /******************************Xu ly invoice detail *******************************/\r\n  /** Thêm sản phẩm vô bill detail */\r\n  public addInvoiceDetail(value: any) {\r\n    let index = this.invoiceDetail.findIndex(\r\n      (detail) => detail['id_product'] == value['_id']\r\n    );\r\n    if (index != -1) {\r\n      if (this.invoiceDetail[index]['quantity'] < 9999999999)\r\n        this.invoiceDetail[index]['quantity'] += 1;\r\n    } else {\r\n      let detail: any = {\r\n        name: value.name,\r\n        id_payment_card: value.id_payment_card,\r\n        id_payment_card_code: value.id_payment_card_code,\r\n        id_bill: value.id_bill,\r\n        quantity: 1,\r\n        pctype: 1,\r\n        price: value.price,\r\n        products: value.products,\r\n        product_name: value.product_name,\r\n        code: value.code,\r\n        name_payment_card_release: value.name_payment_card_release\r\n      };\r\n      this.invoiceDetail.unshift(detail);\r\n    }\r\n    this.setSubTotal();\r\n  }\r\n\r\n  /** Thêm sản phẩm vô bill detail */\r\n  public addInvoiceDetailMutilLine(value: any) {\r\n    let detail: any = {\r\n      name: value.name,\r\n      id_payment_card: value.id_payment_card,\r\n      id_payment_card_code: value.id_payment_card_code,\r\n      id_bill: value.id_bill,\r\n      quantity: 1,\r\n      pctype: 1,\r\n      price: value.price,\r\n      products: value.products,\r\n      product_name: value.product_name,\r\n      code: value.code,\r\n      name_payment_card_release: value.name_payment_card_release\r\n    };\r\n    this.invoiceDetail.unshift(detail);\r\n    this.setSubTotal();\r\n  }\r\n\r\n  /** xóa sản phẩm */\r\n  public removeInvoiceDetail(id: string, notSetSub?: boolean) {\r\n    let index = this.invoiceDetail.findIndex(\r\n      (detail) => detail['_id'] == id\r\n    );\r\n    if (index != -1) {\r\n      this.invoiceDetail.splice(index, 1);\r\n      if (!notSetSub) this.setSubTotal();\r\n    }\r\n  }\r\n  /** Lấy toàn bộ bill detail */\r\n  public getInvoiceDetail() {\r\n    return this.invoiceDetail;\r\n  }\r\n\r\n  compareSubTotal() {\r\n    let sub = this.invoiceDetail.reduce(\r\n      (prev: number, next) => prev + next.quantity * next.price,\r\n      0\r\n    );\r\n    if (sub == this.subTotal) return true;\r\n    else return false;\r\n  }\r\n  /******************************create - update - delete invoice / detail *******************************/\r\n  /** Lấy toàn bộ bill dùng để lưu database */\r\n  public getCreateUpdateInvoice(bill_type) {\r\n    if (bill_type) this.setBillType(bill_type);\r\n    return this.invoice;\r\n  }\r\n  /** Lấy toàn bộ bill detail dùng để lưu database */\r\n  public getCreateUpdateInvoiceDetail(): VhSalePaymentCardInvoiceDetails[] {\r\n    return this.invoiceDetail.map((item) => {\r\n      let detail: VhSalePaymentCardInvoiceDetails = {\r\n        id_payment_card: item.id_payment_card,\r\n        id_payment_card_code: item.id_payment_card_code,\r\n        quantity: 1,\r\n        pctype: 1,\r\n        ratio: 1,\r\n        price: item.price,\r\n        products: item.products.map(pro => {\r\n          let data = {\r\n            id_product: pro.id_product,\r\n            ptype: pro.ptype,\r\n            ratio: pro.ratio,\r\n            quantity: pro.quantity,\r\n            price: 0,\r\n          }\r\n          if (pro.id_subproduct) data['id_subproduct'] = pro.id_subproduct\r\n          if (pro.combos) {\r\n            data['combos'] = pro.combos.map(combo => {\r\n              let product = {\r\n                id_product: combo.id_product,\r\n                price: combo.price,\r\n                quantity: combo.quantity,\r\n                ptype: combo.ptype,\r\n                ratio: combo.ratio ? combo.ratio : 1,\r\n              }\r\n              if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n              if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n              return product;\r\n            })\r\n          }\r\n          return data\r\n        }),\r\n        code: item.code,\r\n      };\r\n\r\n      return detail;\r\n    });\r\n  }\r\n  /**Làm sạch bill detail */\r\n  public getCreateItemCleanDetail(\r\n    cleanedDetail: VhSalePaymentCardInvoiceDetails\r\n  ) {\r\n    let detail: any = {\r\n      products: cleanedDetail.products,\r\n      id_bill: this.invoice._id,\r\n      quantity: cleanedDetail.quantity,\r\n      pctype: cleanedDetail.pctype,\r\n      price: cleanedDetail.price,\r\n      id_payment_card: cleanedDetail.id_payment_card,\r\n      id_payment_card_code: cleanedDetail.id_payment_card_code,\r\n    };\r\n    return detail;\r\n  }\r\n}\r\n\r\n//  Đổi payment card\r\nexport interface VhSaleExchangePaymentCardInvoiceDetails {\r\n  code?: string;\r\n  id_bill: string;\r\n  id_payment_card: string;\r\n  id_payment_card_code: string;\r\n  ptype: any;\r\n  products: any[];\r\n  name?: string;\r\n  quantity?: number;\r\n  pctype: number;\r\n}\r\nexport class VhSaleInvoicesExchangePaymentCard {\r\n  private date: Date = new Date();\r\n  private subTotal?: number = 0;\r\n  private percent_discount_bill?: number = 0;\r\n  private taxValue?: number = 0;\r\n  private invoice: VhSalePaymentCardInvoice = {\r\n    date: this.date.toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_branch: null,\r\n    id_employee: null,\r\n    id_wallet: 'id_cash',\r\n    bill_type: 51,\r\n    note: '',\r\n    _id: null,\r\n    bill_code: '',\r\n  };\r\n  protected invoiceDetail?: VhSaleExchangePaymentCardInvoiceDetails[] = [];\r\n  public vhQuerySales: VhQuerySales;\r\n  constructor(\r\n    invoice: any = null,\r\n    invoiceDetail: any[] = [],\r\n    vhQuerySales: VhQuerySales\r\n  ) {\r\n    this.vhQuerySales = vhQuerySales;\r\n    if (invoice) {\r\n      this.invoice.bill_code = invoice['bill_code']\r\n        ? invoice['bill_code']\r\n        : null;\r\n      this.invoice.id_customer = invoice['id_customer']\r\n        ? invoice['id_customer']\r\n        : 'id_retail';\r\n      this.invoice.id_branch = invoice['id_branch']\r\n        ? invoice['id_branch']\r\n        : null;\r\n      this.invoice.id_employee = invoice['id_employee']\r\n        ? invoice['id_employee']\r\n        : null;\r\n      this.invoice.id_wallet = invoice['id_wallet']\r\n        ? invoice['id_wallet']\r\n        : 'id_cash';\r\n      this.invoice.bill_type = invoice['bill_type']\r\n        ? invoice['bill_type']\r\n        : null;\r\n      this.invoice.date = invoice['date']\r\n        ? invoice['date']\r\n        : this.date.toISOString();\r\n      this.invoice.note = invoice['note'] ? invoice['note'] : '';\r\n      this.invoice._id = invoice['_id'] ? invoice['_id'] : null;\r\n      this.invoiceDetail = invoice['invoiceDetail']\r\n        ? invoice['invoiceDetail']\r\n        : [];\r\n      this.invoice.payment = invoice['payment'] ? invoice['payment'] : 0\r\n\r\n    }\r\n    if (invoiceDetail) {\r\n      this.invoiceDetail = invoiceDetail\r\n    }\r\n  }\r\n  /******************************Xu ly invoice *******************************/\r\n  public getID(): string {\r\n    return this.invoice._id;\r\n  }\r\n  public getBillType() {\r\n    return this.invoice.bill_type;\r\n  }\r\n  public setBillType(value) {\r\n    this.invoice.bill_type = value;\r\n  }\r\n  public getDate(): string {\r\n    return this.invoice.date;\r\n  }\r\n  public setDate(value: Date | string) {\r\n    this.invoice.date = typeof value == 'string' ? value : value.toISOString();\r\n  }\r\n  public getBillCode(): string {\r\n    return this.invoice.bill_code;\r\n  }\r\n  public setBillCode(value: string) {\r\n    this.invoice.bill_code = value;\r\n  }\r\n\r\n  public getIdPartner(): string {\r\n    return this.invoice.id_customer;\r\n  }\r\n  public setIdPartner(value: string) {\r\n    this.invoice.id_customer = value;\r\n    // this.getDiscountInvoice();\r\n  }\r\n  public getIdEmployee(): string {\r\n    return this.invoice.id_employee;\r\n  }\r\n  public setIdEmployee(value: string) {\r\n    this.invoice.id_employee = value;\r\n  }\r\n  public getIdBranch(): string {\r\n    return this.invoice.id_branch;\r\n  }\r\n  public setIdBranch(value: string) {\r\n    this.invoice.id_branch = value;\r\n  }\r\n  public getIdWallet(): string {\r\n    return this.invoice.id_wallet;\r\n  }\r\n  public setIdWallet(value: string) {\r\n    this.invoice.id_wallet = value;\r\n  }\r\n  public getNote(): string {\r\n    return this.invoice.note;\r\n  }\r\n  public setNote(value: string) {\r\n    this.invoice.note = value;\r\n  }\r\n  public getTaxValue(): number {\r\n    return this.taxValue;\r\n  }\r\n\r\n  public getSubTotal(): number {\r\n    return this.subTotal;\r\n  }\r\n\r\n  getPercentDiscountBill() {\r\n    return this.percent_discount_bill;\r\n  }\r\n  public getRetailName() {\r\n    return this.invoice.retail_name\r\n  }\r\n  public setRetailName(retail_name: string) {\r\n    this.invoice.retail_name = retail_name\r\n  }\r\n  public getRetailPhone() {\r\n    return this.invoice.retail_phone\r\n  }\r\n  public setRetailPhone(retail_phone: string) {\r\n    this.invoice.retail_phone = retail_phone\r\n  }\r\n  public getRetailAddress() {\r\n    return this.invoice.retail_address\r\n  }\r\n  public setRetailAddress(retail_address: string) {\r\n    this.invoice.retail_address = retail_address\r\n  }\r\n\r\n  public getDiscount(): number {\r\n    return this.invoice.discount\r\n  }\r\n  public setDiscount(value: number) {\r\n    this.invoice.discount = value\r\n  }\r\n  public getFee(): number {\r\n    return this.invoice.fee\r\n  }\r\n  public setFee(value: number) {\r\n    this.invoice.fee = value;\r\n\r\n  }\r\n\r\n\r\n\r\n  public getTax(): number {\r\n    return this.invoice.tax\r\n  }\r\n  public setTax(value: number) {\r\n    this.invoice.tax = value\r\n  }\r\n  public getTotalATax(): number {\r\n    return 0\r\n  }\r\n  public getPayment(): number {\r\n    return this.invoice.payment;\r\n  }\r\n  public setPayment(value?: number) {\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0;\r\n    } else {\r\n      if (value != null) this.invoice.payment = value;\r\n      else this.invoice.payment = this.getTaxValue();\r\n    }\r\n  }\r\n\r\n  public getPaymentType(): 1 | 2 | 3 {\r\n    return this.invoice.payment_type\r\n  }\r\n\r\n  /** Lấy toàn bộ bill detail */\r\n  public getInvoiceDetail() {\r\n    return this.invoiceDetail;\r\n  }\r\n\r\n  /******************************create - update - delete invoice / detail *******************************/\r\n  /** Lấy toàn bộ bill dùng để lưu database */\r\n  public getCreateUpdateInvoice(bill_type) {\r\n    if (bill_type) this.setBillType(bill_type);\r\n    return this.invoice;\r\n  }\r\n  /** Lấy toàn bộ bill detail dùng để lưu database */\r\n  public getCreateUpdateInvoiceDetail(): VhSaleExchangePaymentCardInvoiceDetails[] {\r\n    return this.invoiceDetail.map((item) => {\r\n      let detail: any = {\r\n        id_payment_card: item.id_payment_card,\r\n        id_payment_card_code: item.id_payment_card_code,\r\n        quantity: 1,\r\n        pctype: 1,\r\n        ratio: 1,\r\n        price: 0,\r\n        products: item.products.map(pro => {\r\n          let data = {\r\n            id_product: pro.id_product,\r\n            ptype: pro.ptype,\r\n            ratio: pro.ratio,\r\n            quantity: pro.quantity,\r\n            price: 0,\r\n            outquantity: pro.outquantity,\r\n            restquantity: pro.restquantity\r\n          }\r\n          if (pro.id_lotproduct) data['id_lotproduct'] = pro.id_lotproduct\r\n          if (pro.id_subproduct) data['id_subproduct'] = pro.id_subproduct\r\n          if (pro.combos) {\r\n            data['combos'] = pro.combos.map(combo => {\r\n              let product = {\r\n                id_product: combo.id_product,\r\n                price: 0,\r\n                quantity: combo.quantity,\r\n                ptype: combo.ptype,\r\n                ratio: combo.ratio ? combo.ratio : 1,\r\n              }\r\n              if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n              if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n              return product;\r\n            })\r\n          }\r\n          return data\r\n        }),\r\n        code: item.code,\r\n      };\r\n\r\n      return detail;\r\n    });\r\n  }\r\n  /**Làm sạch bill detail */\r\n  public getCreateItemCleanDetail(\r\n    cleanedDetail: VhSaleExchangePaymentCardInvoiceDetails\r\n  ) {\r\n    let detail: any = {\r\n      code: cleanedDetail.code,\r\n      id_payment_card: cleanedDetail.id_payment_card,\r\n      id_bill: this.invoice._id,\r\n      products: cleanedDetail.products,\r\n      ptype: cleanedDetail.ptype,\r\n      id_payment_card_code: cleanedDetail.id_payment_card_code,\r\n    };\r\n    return detail;\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}