{"version":3,"file":"default-src_app_sales_menu_manage_delivery_carrier-partner_components_vnpost-component_vnpost-93767d.js","mappings":"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","sources":["./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/add-address-vnpost/add-address-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/add-address-vnpost/add-address-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/choose-warehouse-vnpost/choose-warehouse-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/choose-warehouse-vnpost/choose-warehouse-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/connect-vnpost/connect-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/connect-vnpost/connect-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/detail-warehouse-vnpost/detail-warehouse-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/detail-warehouse-vnpost/detail-warehouse-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/edit-address-vnpost/edit-address-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/edit-address-vnpost/edit-address-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/list-address-vnpost/list-address-vnpost.component.ts","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/list-address-vnpost/list-address-vnpost.component.html","./src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/vnpost.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VnpostService } from '../../../../services/vnpostPost/vnpost-service.service';\r\nimport { ThemeService } from 'src/app/sales/services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-add-address-vnpost',\r\n  templateUrl: './add-address-vnpost.component.html',\r\n  styleUrls: ['./add-address-vnpost.component.scss']\r\n})\r\nexport class AddAddressVnpostComponent implements OnInit {\r\n  @Input(\"addAddressVnpost\") addAddressVnpost: boolean = false;\r\n  @Input(\"id_delivery\") id_delivery: any = {};\r\n  @Input('type') type: 5 | 6 = 5\r\n  @Input('customer') customer: any = {}\r\n  @Output() closeAddAddressVnpost = new EventEmitter<any>();\r\n  listProvinceVnpost: Array<any> = []\r\n  listProvinceVnpostShow: Array<any> = []\r\n  listDistrictVnpost: Array<any> = []\r\n  listDistrictVnpostShow: Array<any> = []\r\n  listWardVnpost: Array<any> = []\r\n  listWardVnpostShow: Array<any> = []\r\n  loading: boolean = false\r\n  dataAddress: any = { TenTinhThanh: '', TenQuanHuyen: '', TenPhuongXa: '' }\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vnPost: VnpostService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public themeService: ThemeService,\r\n  ) {\r\n    \r\n  }\r\n  addInformation: FormGroup;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.getAddress()\r\n  }\r\n  ngAfterViewChecked() {\r\n    this.cdRef.checkNoChanges()\r\n  }\r\n  initForm() {\r\n    if (this.type == 5) {\r\n      this.addInformation = new FormGroup({\r\n        SenderFullname: new FormControl('', [Validators.required, Validators.minLength(6), Validators.maxLength(255)]),\r\n        SenderTel: new FormControl('', [Validators.required, Validators.maxLength(50)]),\r\n        SenderAddress: new FormControl('', [Validators.required, Validators.maxLength(150)]),\r\n        SenderProvinceId: new FormControl('', Validators.required),\r\n        SenderDistrictId: new FormControl('', Validators.required),\r\n        SenderWardId: new FormControl('', Validators.required),\r\n      })\r\n    } else {\r\n      this.addInformation = new FormGroup({\r\n        ReceiverFullname: new FormControl({ value: this.customer.ReceiverFullname, disabled: true }),\r\n        ReceiverTel: new FormControl({ value: this.customer.ReceiverTel, disabled: true }),\r\n        ReceiverAddress: new FormControl('', [Validators.required, Validators.maxLength(150)]),\r\n        ReceiverProvinceId: new FormControl('', Validators.required),\r\n        ReceiverDistrictId: new FormControl('', Validators.required),\r\n        ReceiverWardId: new FormControl('', Validators.required),\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n  /**Lấy xã huyện tỉnh về show ra */\r\n  getAddress() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([\r\n        this.vnPost.getProvinceVnpost(),\r\n        this.vnPost.getDistrictVnpost(),\r\n        this.vnPost.getWardVnpost()\r\n      ]).then(([province, district, ward]: any) => {\r\n        this.listProvinceVnpost = province\r\n        this.listDistrictVnpost = district\r\n        this.listWardVnpost = ward\r\n      }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n  addInfoAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(this.type == 5 ? \"Do you want to create pickup information ?\" : \"Do you want to create address VietNamPost ?\"), \"\", \"Ok\", this.lang.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.loading = true\r\n        this.vhQuerySales.addAddress(this.preparePickupAddress(this.id_delivery)).then((res: any) => {\r\n          if (res) {\r\n            this.vhComponent.showToast(2000, this.lang.translate(this.type == 5 ? \"Create pickup information successfully\" : \"This address has been created successfully\"), \"success-toast\");\r\n            this.closeAddAddressVnpost.emit(true);\r\n          }\r\n          this.loading = false\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  //dữ liệu lưu db address\r\n  preparePickupAddress(id) {\r\n    let json = this.addInformation.value\r\n    if (this.type == 5) {\r\n      return {\r\n        SenderFullname: json.SenderFullname, SenderTel: json.SenderTel,\r\n        SenderAddress: json.SenderAddress, SenderProvinceId: json.SenderProvinceId,\r\n        SenderDistrictId: json.SenderDistrictId, SenderWardId: json.SenderWardId,\r\n        TenTinhThanh: this.dataAddress.TenTinhThanh, TenQuanHuyen: this.dataAddress.TenQuanHuyen,\r\n        TenPhuongXa: this.dataAddress.TenPhuongXa, id_delivery: id, type: 5,//type 5 là địa chỉ lấy hàng Vnpost\r\n        date: new Date().toISOString()\r\n      }\r\n    } else {\r\n      return {\r\n        ReceiverFullname: this.customer.ReceiverFullname, ReceiverTel: this.customer.ReceiverTel,\r\n        ReceiverAddress: json.ReceiverAddress, ReceiverProvinceId: json.ReceiverProvinceId,\r\n        ReceiverDistrictId: json.ReceiverDistrictId, ReceiverWardId: json.ReceiverWardId,\r\n        TenTinhThanh: this.dataAddress.TenTinhThanh, TenQuanHuyen: this.dataAddress.TenQuanHuyen,\r\n        TenPhuongXa: this.dataAddress.TenPhuongXa, id_delivery: id, type: 6,//type 5 là địa chỉ lấy hàng Vnpost\r\n        date: new Date().toISOString(), id_customer: this.customer._id\r\n      }\r\n    }\r\n\r\n  }\r\n  handleCancel() {\r\n    this.closeAddAddressVnpost.emit(false)\r\n  }\r\n  /**Lấy tỉnh thành phố */\r\n  getProvinceVnpost() {\r\n    this.listProvinceVnpostShow = this.listProvinceVnpost\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceVnpost(event) {\r\n    if (event) {\r\n      this.listDistrictVnpostShow = []\r\n      this.listWardVnpostShow = []\r\n      this.type == 5 ? this.addInformation.controls.SenderDistrictId.setValue('') : this.addInformation.controls.ReceiverDistrictId.setValue('')\r\n      this.type == 5 ? this.addInformation.controls.SenderWardId.setValue('') : this.addInformation.controls.ReceiverWardId.setValue('')\r\n      let province = this.listProvinceVnpost.find(item => item.MaTinhThanh == event)\r\n      this.dataAddress['TenTinhThanh'] = province.TenTinhThanh\r\n    }\r\n  }\r\n  /**Lấy quận, huyện */\r\n  getDistrictVnpost() {\r\n    this.listDistrictVnpostShow = this.listDistrictVnpost.filter(item => item.MaTinhThanh == (this.type == 5 ? this.addInformation.value.SenderProvinceId : this.addInformation.value.ReceiverProvinceId))\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi huyện => reset xã\r\n  * @param event \r\n  */\r\n  changeDistrictVnpost(event) {\r\n    if (event) {\r\n      this.listWardVnpostShow = []\r\n      this.type == 5 ? this.addInformation.controls.SenderWardId.setValue('') : this.addInformation.controls.ReceiverWardId.setValue('')\r\n      let district = this.listDistrictVnpostShow.find(item => item.MaQuanHuyen == event)\r\n      this.dataAddress['TenQuanHuyen'] = district.TenQuanHuyen\r\n    }\r\n  }\r\n\r\n  /**Lấy phường, xã */\r\n  getWardVnpost() {\r\n    this.listWardVnpostShow = this.listWardVnpost.filter(item => item.MaQuanHuyen == (this.type == 5 ? this.addInformation.value.SenderDistrictId : this.addInformation.value.ReceiverDistrictId))\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi phường, xã\r\n  * @param event \r\n  */\r\n  changeWardVnpost(event) {\r\n    if (event) {\r\n      let ward = this.listWardVnpostShow.find(item => item.MaPhuongXa == event)\r\n      this.dataAddress['TenPhuongXa'] = ward.TenPhuongXa\r\n    }\r\n  }\r\n  goBack() {\r\n    this.closeAddAddressVnpost.emit(false)\r\n  }\r\n}\r\n","<nz-modal [(nzVisible)]=\"addAddressVnpost\" [nzFooter]=\"modalFooterConnectVnpost\" [nzWidth]=\"600\" [nzTitle]=\"modalTitle\"\r\n    (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"addInfoAddress()\">\r\n    <ng-template #modalTitle>{{'Create Address'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalDelivery\">\r\n            <div class=\"image-delivery\">\r\n                <img [src]=\"'assets/img/logo_' + themeService.getThemeValue() + '.png'\" />\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/connect.svg\">\r\n                </ion-icon>\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/4.svg\">\r\n                </ion-icon>\r\n            </div>\r\n            <p *ngIf=\"type == 5\" class=\"ion-text-center\">{{\"You need to enter picking information to create Vnpost orders, shipper will pick up the goods according to the information below\" | translate}}</p>\r\n            <div class=\"addInformation\">\r\n                <form *ngIf=\"type ==5\" [formGroup]=\"addInformation\">\r\n                    <div nz-row [nzGutter]=\"16\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Name'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderFullname\" nz-input\r\n                                            placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                        <ng-template #combineTplName let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6\r\n                                                characters' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Phone number'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderTel\" nz-input\r\n                                            placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                        <ng-template #combineTplPhone let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is\r\n                                                required'\r\n                                                |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Address'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderAddress\" nz-input\r\n                                            placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                        <ng-template #combineTplAddress let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Province'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        formControlName=\"SenderProvinceId\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaTinhThanh\" [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'District'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderProvinceId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictVnpost()\"\r\n                                        formControlName=\"SenderDistrictId\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaQuanHuyen\" [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Ward'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderDistrictId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getWardVnpost()\" formControlName=\"SenderWardId\"\r\n                                        (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaPhuongXa\" [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <form *ngIf=\"type ==6\" [formGroup]=\"addInformation\">\r\n                    <div nz-row [nzGutter]=\"16\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Name'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverFullname\" nz-input\r\n                                            placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                        <ng-template #combineTplName let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6\r\n                                                characters' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Phone number'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverTel\" nz-input\r\n                                            placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                        <ng-template #combineTplPhone let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is\r\n                                                required'\r\n                                                |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Address'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverAddress\" nz-input\r\n                                            placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                        <ng-template #combineTplAddress let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Province'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        formControlName=\"ReceiverProvinceId\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaTinhThanh\" [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'District'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.ReceiverProvinceId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictVnpost()\"\r\n                                        formControlName=\"ReceiverDistrictId\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaQuanHuyen\" [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Ward'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.ReceiverDistrictId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getWardVnpost()\"\r\n                                        formControlName=\"ReceiverWardId\" (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaPhuongXa\" [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterConnectVnpost>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"goBack()\">{{\"Cancel\"|translate}}</button>\r\n        <button [disabled]=\"this.addInformation.invalid\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"addInfoAddress()\">{{\"Add\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VnpostService } from '../../../../services/vnpostPost/vnpost-service.service';\r\nimport { ThemeService } from 'src/app/sales/services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-choose-warehouse-vnpost',\r\n  templateUrl: './choose-warehouse-vnpost.component.html',\r\n  styleUrls: ['./choose-warehouse-vnpost.component.scss']\r\n})\r\nexport class ChooseWarehouseVnpostComponent implements OnInit {\r\n  @Input(\"chooseWarehouseVnpost\") showVnpost: boolean = false;\r\n  @Input(\"dataWarehouseChooseVnpost\") dataVnpost: any = {};\r\n  @Output() cancelModalChooseWarehouse = new EventEmitter<any>();\r\n  listProvinceVnpost: Array<any> = []\r\n  listProvinceVnpostShow: Array<any> = []\r\n  listDistrictVnpost: Array<any> = []\r\n  listDistrictVnpostShow: Array<any> = []\r\n  listWardVnpost: Array<any> = []\r\n  listWardVnpostShow: Array<any> = []\r\n  isLoading: boolean = false\r\n  loading: boolean = false\r\n  dataAddress: any = { TenTinhThanh: '', TenQuanHuyen: '', TenPhuongXa: '' }\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vnPost: VnpostService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public themeService: ThemeService,\r\n  ) {\r\n\r\n  }\r\n  addInformation: FormGroup;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.getAddress()\r\n  }\r\n  ngAfterViewChecked() {\r\n    this.cdRef.checkNoChanges()\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      SenderFullname: new FormControl('', [Validators.required, Validators.minLength(6), Validators.maxLength(255)]),\r\n      SenderTel: new FormControl('', [Validators.required, Validators.maxLength(50)]),\r\n      SenderAddress: new FormControl('', [Validators.required, Validators.maxLength(150)]),\r\n      SenderProvinceId: new FormControl('', Validators.required),\r\n      SenderDistrictId: new FormControl('', Validators.required),\r\n      SenderWardId: new FormControl('', Validators.required),\r\n    })\r\n\r\n  }\r\n  /**Lấy xã huyện tỉnh về show ra */\r\n  getAddress() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([\r\n        this.vnPost.getProvinceVnpost(),\r\n        this.vnPost.getDistrictVnpost(),\r\n        this.vnPost.getWardVnpost()\r\n      ]).then(([province, district, ward]: any) => {\r\n        this.listProvinceVnpost = province\r\n        this.listDistrictVnpost = district\r\n        this.listWardVnpost = ward\r\n      }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n  connectVnpost() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Do you want to connect warehouse ?\"), \"\", \"Ok\", this.lang.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.loading = true\r\n        this.vhQuerySales.addDelivery(this.prepareDelivery()).then((res: any) => {\r\n          this.vhQuerySales.addAddress(this.preparePickupAddress(res._id)).then((result: any) => {\r\n            if (result) {\r\n              this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Connect successfully\"));\r\n              this.cancelModalChooseWarehouse.emit(true)\r\n            }\r\n            this.loading = false\r\n          }).catch(err => { this.loading = false; this.lang.translate(err) })\r\n        }).catch(err => { this.loading = false; this.lang.translate(err) })\r\n      }).catch(() => { })\r\n  }\r\n  //dữ liệu lưu db address\r\n  preparePickupAddress(id) {\r\n    let json = this.addInformation.value\r\n    return {\r\n      SenderFullname: json.SenderFullname, SenderTel: json.SenderTel,\r\n      SenderAddress: json.SenderAddress, SenderProvinceId: json.SenderProvinceId,\r\n      SenderDistrictId: json.SenderDistrictId, SenderWardId: json.SenderWardId,\r\n      TenTinhThanh: this.dataAddress.TenTinhThanh, TenQuanHuyen: this.dataAddress.TenQuanHuyen,\r\n      TenPhuongXa: this.dataAddress.TenPhuongXa, id_delivery: id, type: 5,//type 5 là địa chỉ lấy hàng Vnpost\r\n      date: new Date().toISOString()\r\n    }\r\n  }\r\n  //đóng gói dữ liệu lưu database \r\n  prepareDelivery() {\r\n    return {\r\n      type: 4, active: true, name: \"VietNam Post\",\r\n      Token: this.dataVnpost.Token, CustomerCode: this.dataVnpost.CustomerCode\r\n    };\r\n  }\r\n  handleCancel() {\r\n    this.cancelModalChooseWarehouse.emit(false)\r\n  }\r\n  /**Lấy tỉnh thành phố */\r\n  getProvinceVnpost() {\r\n    this.listProvinceVnpostShow = this.listProvinceVnpost\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceVnpost(event) {\r\n    if (event) {\r\n      this.listDistrictVnpostShow = []\r\n      this.listWardVnpostShow = []\r\n      this.addInformation.controls.SenderDistrictId.setValue('')\r\n      this.addInformation.controls.SenderWardId.setValue('')\r\n      let province = this.listProvinceVnpost.find(item => item.MaTinhThanh == event)\r\n      this.dataAddress['TenTinhThanh'] = province.TenTinhThanh\r\n    }\r\n  }\r\n  /**Lấy quận, huyện */\r\n  getDistrictVnpost() {\r\n    this.listDistrictVnpostShow = this.listDistrictVnpost.filter(item => item.MaTinhThanh == this.addInformation.value.SenderProvinceId)\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi huyện => reset xã\r\n  * @param event \r\n  */\r\n  changeDistrictVnpost(event) {\r\n    if (event) {\r\n      this.listWardVnpostShow = []\r\n      this.addInformation.controls.SenderWardId.setValue('')\r\n      let district = this.listDistrictVnpostShow.find(item => item.MaQuanHuyen == event)\r\n      this.dataAddress['TenQuanHuyen'] = district.TenQuanHuyen\r\n    }\r\n  }\r\n\r\n  /**Lấy phường, xã */\r\n  getWardVnpost() {\r\n    this.listWardVnpostShow = this.listWardVnpost.filter(item => item.MaQuanHuyen == this.addInformation.value.SenderDistrictId)\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi phường, xã\r\n  * @param event \r\n  */\r\n  changeWardVnpost(event) {\r\n    if (event) {\r\n      let ward = this.listWardVnpostShow.find(item => item.MaPhuongXa == event)\r\n      this.dataAddress['TenPhuongXa'] = ward.TenPhuongXa\r\n    }\r\n  }\r\n}\r\n","<nz-modal [(nzVisible)]=\"showVnpost\" [nzFooter]=\"modalFooterConnectVnpost\" [nzWidth]=\"600\" [nzTitle]=\"modalTitle\"\r\n    (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"connectVnpost()\">\r\n    <ng-template #modalTitle>{{'Vnpost Connection'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalDelivery\">\r\n            <div class=\"image-delivery\">\r\n                <img [src]=\"'assets/img/logo_' + themeService.getThemeValue() + '.png'\" />\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/connect.svg\">\r\n                </ion-icon>\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/4.svg\">\r\n                </ion-icon>\r\n            </div>\r\n            <p class=\"ion-text-center\">{{\"You need to enter picking information to create Vnpost orders, shipper will pick up the goods according to the information below\" | translate}}</p>\r\n            <div class=\"addInformation\">\r\n                <form [formGroup]=\"addInformation\">\r\n                    <div nz-row [nzGutter]=\"16\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Name'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderFullname\" nz-input\r\n                                            placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                        <ng-template #combineTplName let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6\r\n                                                characters' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Phone number'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderTel\" nz-input\r\n                                            placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                        <ng-template #combineTplPhone let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is\r\n                                                required'\r\n                                                |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Address'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderAddress\" nz-input\r\n                                            placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                        <ng-template #combineTplAddress let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Province'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        formControlName=\"SenderProvinceId\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaTinhThanh\" [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'District'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderProvinceId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictVnpost()\"\r\n                                        formControlName=\"SenderDistrictId\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaQuanHuyen\" [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Ward'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderDistrictId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getWardVnpost()\" formControlName=\"SenderWardId\"\r\n                                        (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaPhuongXa\" [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterConnectVnpost>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancel()\">{{\"Cancel\"|translate}}</button>\r\n        <button [nzLoading]=\"loading\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"connectVnpost()\">{{\"Connect\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VnpostService } from '../../../../services/vnpostPost/vnpost-service.service';\r\nimport { ThemeService } from 'src/app/sales/services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-connect-vnpost',\r\n  templateUrl: './connect-vnpost.component.html',\r\n  styleUrls: ['./connect-vnpost.component.scss']\r\n})\r\nexport class ConnectVnpostComponent implements OnInit {\r\n\r\n  @Input(\"connectVnpost\") connectVnpost: boolean = false;\r\n  @Output() cancelConnectVnpost = new EventEmitter<any>();\r\n  CustomerCode: string = ''\r\n  loading: boolean = false\r\n  constructor(\r\n    private vnPost: VnpostService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    public themeService: ThemeService,\r\n  ) { }\r\n  ngOnInit() {\r\n  }\r\n\r\n  handleCancel() {\r\n    this.cancelConnectVnpost.emit(false);\r\n  }\r\n  /**\r\n   * Lấy token và thực hiện kiểm tra khách hàng có mã CRM chưa\r\n   */\r\n  checkCustomerCode() {\r\n    let delivery: Array<any> = this.vhQuerySales.getlocalDeliverys().filter(item => item.type == 4)\r\n    let data: any = delivery.find(item => item.CustomerCode == this.CustomerCode)\r\n    if (data) {\r\n      data.exist = true\r\n      this.cancelConnectVnpost.emit(data)\r\n    }\r\n    else {\r\n      this.loading = true\r\n      this.vnPost.getTokenVnpost().then((res: any) => {\r\n        if (res.ErrorMessage) this.vhComponent.alertMessageDesktop('error', res.ErrorMessage);\r\n        else {\r\n          this.vnPost.checkCustomerCode(res.Token, this.CustomerCode).then((result: any) => {\r\n            this.loading = false\r\n            if (result.StatusCode == '00') {\r\n              this.vhComponent.alertMessageDesktop('success', result.Message)\r\n              this.cancelConnectVnpost.emit({ 'Token': res.Token, CustomerCode: this.CustomerCode })\r\n            } else this.vhComponent.alertMessageDesktop('warning', result.Message)\r\n          }).catch(err => { this.vhComponent.alertMessageDesktop('error', err); this.loading = false })\r\n        }\r\n      }).catch(err => { console.error(err); this.loading = false })\r\n\r\n    }\r\n  }\r\n}\r\n","<nz-modal [nzBodyStyle]=\"{height : '500px'}\" [(nzVisible)]=\"connectVnpost\" [nzFooter]=\"modalFooterConnectVnpost\"\r\n    [nzWidth]=\"600\" [nzTitle]=\"modalTitle\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"checkCustomerCode()\">\r\n    <ng-template #modalTitle>{{'VNPost Connection'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalDelivery\">\r\n            <div class=\"image-delivery\">\r\n                <img [src]=\"'assets/img/logo_' + themeService.getThemeValue() + '.png'\" />\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/connect.svg\">\r\n                </ion-icon>\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/4.svg\">\r\n                </ion-icon>\r\n            </div>\r\n            <p class=\"text-center\"><b>{{'Viethas will automatically connect and push orders to Vnpost' | translate}}</b></p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 1: Log in to your VNPost account on web site\" | translate}}:\r\n                <a class=\"step-by-step-link\"  target=\"_blank\" href=\"https://donhang.vnpost.vn/\">https://donhang.vnpost.vn/</a>\r\n            </p>\r\n            <p class=\"step-by-step-note\">{{'If you already have a customer code but still do not have a VNPost account, please contact VNPost hotline for support: 1900 5454 81' | translate}}</p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 2: At the Account page, under User Configuration, select Partner Configuration and type in the name 'Viethas'\" |translate}}\r\n            </p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 3: Go to Account, select Personal information, copy the CRM Code (Customer ID).This code will be used to fill in the Customer Code on the Sales Viethas application page when connecting to VNPost\" | translate}}\r\n            </p>\r\n            <p class=\"step-by-step\"><b>{{\"Customer code\" | translate}}</b></p>\r\n            <input [(ngModel)]=\"CustomerCode\" class=\"nz-hover-border phone\"\r\n                placeholder=\"{{ 'Customer code' | translate}}\" nz-input />\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterConnectVnpost>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancel()\">{{\"Cancel\"|translate}}</button>\r\n        <button [nzLoading]=\"loading\" [disabled]=\"!CustomerCode\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"checkCustomerCode()\">OK</button>\r\n    </ng-template>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VnpostService } from '../../../../services/vnpostPost/vnpost-service.service';\r\nimport { ThemeService } from 'src/app/sales/services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-warehouse-vnpost',\r\n  templateUrl: './detail-warehouse-vnpost.component.html',\r\n  styleUrls: ['./detail-warehouse-vnpost.component.scss']\r\n})\r\nexport class DetailWarehouseVnpostComponent implements OnInit {\r\n\r\n  @Input(\"detailWarehouseVnpost\") detailWarehouseVnpost: boolean = false;\r\n  @Input(\"data_vnpost\") data_vnpost: any = {};\r\n  @Output() cancelConnectVnpost = new EventEmitter<any>();\r\n  loading: boolean = false\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    public themeService: ThemeService,\r\n  ) { }\r\n  info_pickup: any = { id_delivery: \"\" };\r\n  status_open: boolean = false\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n      this.status_open = true\r\n      let addresss: Array<any> = this.vhQuerySales.getlocalAddresss().filter(item => item.type == 5 && item.id_delivery == this.data_vnpost._id);\r\n      if (addresss.length)\r\n        this.info_pickup = addresss.sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0]\r\n    })\r\n  }\r\n  disconnetVnpost() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Do you want to disconnect ?\"), \"\", \"Ok\", this.lang.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.loading = true\r\n        this.vhQuerySales.updateDelivery(this.data_vnpost._id, { \"active\": false }).then((res) => {\r\n          this.cancelConnectVnpost.emit(true)\r\n          this.vhComponent.showToast(2000, this.lang.translate('Disconnect transport successfully !'), \"success-toast\");\r\n          this.loading = false\r\n        }).catch(err => { this.loading = false; console.error(err) })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  connectVnpost() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Do you want to connect warehouse ?\"), \"\", \"Ok\", this.lang.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.loading = true\r\n        this.vhQuerySales.updateDelivery(this.data_vnpost._id, { \"active\": true }).then((res) => {\r\n          if (res) {\r\n            this.vhComponent.showToast(2000, this.lang.translate(\"Connect successfully\"), \"success-toast\");\r\n            this.cancelConnectVnpost.emit(true)\r\n          }\r\n          this.loading = false\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  handleCancel() {\r\n    this.cancelConnectVnpost.emit(false);\r\n  }\r\n  handleOk() {\r\n\r\n  }\r\n  // ----------modal list address pickup---------\r\n  pickupAdresssVnpost: boolean = false;\r\n  dataPickupAddressVnpost: any;\r\n  gotoAddressPickup() {\r\n    this.pickupAdresssVnpost = true;\r\n    this.dataPickupAddressVnpost = this.data_vnpost._id;\r\n  }\r\n  cancelListVnpost(event) {\r\n    if (event && event._id) this.info_pickup = event;\r\n    else if (event && !event._id) this.info_pickup.id_delivery = '';\r\n    this.pickupAdresssVnpost = false;\r\n  }\r\n\r\n}\r\n","<nz-modal [nzBodyStyle]=\"{height : '500px'}\" [(nzVisible)]=\"detailWarehouseVnpost\" [nzFooter]=\"modalFooterConnectVnpost\"\r\n    [nzWidth]=\"600\" [nzTitle]=\"modalTitle\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <ng-template #modalTitle>{{'VNPost Connection'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalDelivery\">\r\n            <div class=\"image-delivery\">\r\n                <img [src]=\"'assets/img/logo_' + themeService.getThemeValue() + '.png'\" />\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/connect.svg\">\r\n                </ion-icon>\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/4.svg\">\r\n                </ion-icon>\r\n            </div>\r\n            <p class=\"text-center\"><b>{{'Viethas will automatically connect and push orders to Vnpost' | translate}}</b></p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 1: Log in to your VNPost account on website\" | translate}}:\r\n                <a class=\"step-by-step-link\" href=\"https://donhang.vnpost.vn/\">https://donhang.vnpost.vn/</a>\r\n            </p>\r\n            <p class=\"step-by-step-note\">{{'If you already have a customer code but still do not have a VNPost account, please contact VNPost hotline for support: 1900 5454 81' | translate}}</p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 2: At the Account page, under User Configuration, select Partner Configuration and type in the name 'Viethas'\" |translate}}\r\n            </p>\r\n            <p class=\"step-by-step\">\r\n                {{\"Step 3: Go to Account, select Personal information, copy the CRM Code (Customer ID).This code will be used to fill in the Customer Code on the Sales Viethas application page when connecting to VNPost\" | translate}}\r\n            </p>\r\n            <p class=\"step-by-step\"><b>{{\"Customer code\" | translate}}</b> : {{data_vnpost.CustomerCode}}</p>\r\n            <div class=\"current-address\" *ngIf=\"info_pickup.id_delivery && status_open==true\">\r\n                <div class=\"current-address-choose\">\r\n                    <div>{{info_pickup.SenderFullname}} - {{info_pickup.SenderTel}}</div>\r\n                    <div>\r\n                        {{info_pickup.SenderAddress}}, {{info_pickup.TenPhuongXa}},\r\n                        {{info_pickup.TenQuanHuyen}} , {{info_pickup.TenTinhThanh}}\r\n                    </div>\r\n                </div>\r\n                <ion-icon (click)=\"gotoAddressPickup()\" name=\"create-outline\"></ion-icon>\r\n            </div>\r\n            <div class=\"current-address\" *ngIf=\"!info_pickup.id_delivery && status_open == true\">\r\n                <div class=\"current-address-choose\">\r\n                    {{\"No data\" | translate}}\r\n                </div>\r\n                <ion-icon (click)=\"gotoAddressPickup()\" name=\"create-outline\"></ion-icon>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterConnectVnpost>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancel()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button [nzLoading]=\"loading\" *ngIf=\"data_vnpost.exist\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"connectVnpost()\">{{\"Connect\" | translate}}</button>\r\n        <button [nzLoading]=\"loading\" *ngIf=\"data_vnpost.active\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"disconnetVnpost()\">{{\"Disconnect\" | translate}}</button>\r\n    </ng-template>\r\n\r\n</nz-modal>\r\n\r\n<!-- -------drawer address pickup ---------- -->\r\n<app-list-address-vnpost *ngIf=\"pickupAdresssVnpost\" [id_delivery]=\"data_vnpost._id\"\r\n    [pickupAdresssVnpost]=\"pickupAdresssVnpost\" (cancelListVnpost)=\"cancelListVnpost($event)\">\r\n</app-list-address-vnpost>","import { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VnpostService } from '../../../../services/vnpostPost/vnpost-service.service';\r\nimport { ThemeService } from 'src/app/sales/services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-address-vnpost',\r\n  templateUrl: './edit-address-vnpost.component.html',\r\n  styleUrls: ['./edit-address-vnpost.component.scss']\r\n})\r\nexport class EditAddressVnpostComponent implements OnInit {\r\n\r\n  @Input(\"editAddressVnpost\") editAddressVnpost: boolean = false;\r\n  @Input(\"dataEditAddressVnpost\") data_vnpost: any = {};\r\n  @Input('type') type: 5 | 6 = 5\r\n  @Input('customer') customer: any = {}\r\n  @Output() closeEditAddressVnpost = new EventEmitter<any>();\r\n  listProvinceVnpost: Array<any> = []\r\n  listProvinceVnpostShow: Array<any> = []\r\n  listDistrictVnpost: Array<any> = []\r\n  listDistrictVnpostShow: Array<any> = []\r\n  listWardVnpost: Array<any> = []\r\n  listWardVnpostShow: Array<any> = []\r\n  loadingSave: boolean = false\r\n  dataAddress: any = { TenTinhThanh: '', TenQuanHuyen: '', TenPhuongXa: '' }\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vnPost: VnpostService,\r\n    private modalService: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public themeService: ThemeService,\r\n  ) {\r\n\r\n  }\r\n  addInformation: FormGroup;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.getAddress()\r\n  }\r\n  ngAfterViewChecked() {\r\n    this.cdRef.checkNoChanges()\r\n  }\r\n  initForm() {\r\n    if (this.type == 5) {\r\n      this.addInformation = new FormGroup({\r\n        SenderFullname: new FormControl(this.data_vnpost.SenderFullname, [Validators.required, Validators.minLength(6), Validators.maxLength(255)]),\r\n        SenderTel: new FormControl(this.data_vnpost.SenderTel, [Validators.required, Validators.maxLength(50)]),\r\n        SenderAddress: new FormControl(this.data_vnpost.SenderAddress, [Validators.required, Validators.maxLength(150)]),\r\n        SenderProvinceId: new FormControl(this.data_vnpost.SenderProvinceId, Validators.required),\r\n        SenderDistrictId: new FormControl(this.data_vnpost.SenderDistrictId, Validators.required),\r\n        SenderWardId: new FormControl(this.data_vnpost.SenderWardId, Validators.required),\r\n      })\r\n    } else {\r\n      this.addInformation = new FormGroup({\r\n        ReceiverFullname: new FormControl({ value: this.data_vnpost.ReceiverFullname, disabled: true }, [Validators.required, Validators.minLength(6), Validators.maxLength(255)]),\r\n        ReceiverTel: new FormControl({ value: this.data_vnpost.ReceiverFullname, disabled: true }, [Validators.required, Validators.maxLength(50)]),\r\n        ReceiverAddress: new FormControl(this.data_vnpost.ReceiverAddress, [Validators.required, Validators.maxLength(150)]),\r\n        ReceiverProvinceId: new FormControl(this.data_vnpost.ReceiverProvinceId, Validators.required),\r\n        ReceiverDistrictId: new FormControl(this.data_vnpost.ReceiverDistrictId, Validators.required),\r\n        ReceiverWardId: new FormControl(this.data_vnpost.ReceiverWardId, Validators.required),\r\n      })\r\n    }\r\n\r\n    this.dataAddress.TenTinhThanh = this.data_vnpost.TenTinhThanh\r\n    this.dataAddress.TenQuanHuyen = this.data_vnpost.TenQuanHuyen\r\n    this.dataAddress.TenPhuongXa = this.data_vnpost.TenPhuongXa\r\n  }\r\n  /**Lấy xã huyện tỉnh về show ra */\r\n  getAddress() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([\r\n        this.vnPost.getProvinceVnpost(),\r\n        this.vnPost.getDistrictVnpost(),\r\n        this.vnPost.getWardVnpost()\r\n      ]).then(([province, district, ward]: any) => {\r\n        this.listProvinceVnpost = province\r\n        this.listDistrictVnpost = district\r\n        this.listWardVnpost = ward\r\n        this.getProvinceVnpost()\r\n        this.getDistrictVnpost()\r\n        this.getWardVnpost()\r\n      }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  //dữ liệu lưu db address\r\n  preparePickupAddress(id) {\r\n    let json = this.addInformation.value\r\n    if (this.type == 5) {\r\n      return {\r\n        SenderFullname: json.SenderFullname, SenderTel: json.SenderTel,\r\n        SenderAddress: json.SenderAddress, SenderProvinceId: json.SenderProvinceId,\r\n        SenderDistrictId: json.SenderDistrictId, SenderWardId: json.SenderWardId,\r\n        TenTinhThanh: this.dataAddress.TenTinhThanh, TenQuanHuyen: this.dataAddress.TenQuanHuyen,\r\n        TenPhuongXa: this.dataAddress.TenPhuongXa, id_delivery: id, type: 5,//type 5 là địa chỉ lấy hàng Vnpost\r\n      }\r\n    } else {\r\n      return {\r\n        ReceiverFullname: json.ReceiverFullname, ReceiverTel: json.ReceiverTel,\r\n        ReceiverAddress: json.ReceiverAddress, ReceiverProvinceId: json.ReceiverProvinceId,\r\n        ReceiverDistrictId: json.ReceiverDistrictId, ReceiverWardId: json.ReceiverWardId,\r\n        TenTinhThanh: this.dataAddress.TenTinhThanh, TenQuanHuyen: this.dataAddress.TenQuanHuyen,\r\n        TenPhuongXa: this.dataAddress.TenPhuongXa, id_delivery: id, type: 6,//type 5 là địa chỉ lấy hàng Vnpost\r\n      }\r\n    }\r\n  }\r\n\r\n  /**Lấy tỉnh thành phố */\r\n  getProvinceVnpost() {\r\n    this.listProvinceVnpostShow = this.listProvinceVnpost\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceVnpost(event) {\r\n    if (event) {\r\n      this.listDistrictVnpostShow = []\r\n      this.listWardVnpostShow = []\r\n      this.type == 5 ? this.addInformation.controls.SenderDistrictId.setValue('') : this.addInformation.controls.ReceiverDistrictId.setValue('')\r\n      this.type == 5 ? this.addInformation.controls.SenderWardId.setValue('') : this.addInformation.controls.ReceiverWardId.setValue('')\r\n      let province = this.listProvinceVnpost.find(item => item.MaTinhThanh == event)\r\n      this.dataAddress['TenTinhThanh'] = province.TenTinhThanh\r\n    }\r\n  }\r\n  /**Lấy quận, huyện */\r\n  getDistrictVnpost() {\r\n    this.listDistrictVnpostShow = this.listDistrictVnpost.filter(item => item.MaTinhThanh == (this.type == 5 ? this.addInformation.value.SenderProvinceId : this.addInformation.value.ReceiverProvinceId))\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi huyện => reset xã\r\n  * @param event \r\n  */\r\n  changeDistrictVnpost(event) {\r\n    if (event) {\r\n      this.listWardVnpostShow = []\r\n      this.type == 5 ? this.addInformation.controls.SenderWardId.setValue('') : this.addInformation.controls.ReceiverWardId.setValue('')\r\n      let district = this.listDistrictVnpostShow.find(item => item.MaQuanHuyen == event)\r\n      this.dataAddress['TenQuanHuyen'] = district.TenQuanHuyen\r\n    }\r\n  }\r\n\r\n  /**Lấy phường, xã */\r\n  getWardVnpost() {\r\n    this.listWardVnpostShow = this.listWardVnpost.filter(item => item.MaQuanHuyen == (this.type == 5 ? this.addInformation.value.SenderDistrictId : this.addInformation.value.ReceiverDistrictId))\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi phường, xã\r\n  * @param event \r\n  */\r\n  changeWardVnpost(event) {\r\n    if (event) {\r\n      let ward = this.listWardVnpostShow.find(item => item.MaPhuongXa == event)\r\n      this.dataAddress['TenPhuongXa'] = ward.TenPhuongXa\r\n      this.updateInfoAddress()\r\n    }\r\n  }\r\n  goBack() {\r\n    this.closeEditAddressVnpost.emit(false)\r\n  }\r\n  /**Cập nhật địa chỉ kho hàng */\r\n  updateInfoAddress() {\r\n    if (!this.addInformation.invalid) {\r\n      this.loadingSave = true\r\n      this.vhQuerySales.updateAddress(this.data_vnpost._id, this.preparePickupAddress(this.data_vnpost.id_delivery)).then(() => {\r\n        this.closeEditAddressVnpost.emit(true);\r\n        this.loadingSave = false\r\n      }).catch(err => {\r\n        console.error(\"err\");\r\n      })\r\n    }\r\n  }\r\n  /**Xóa địa chỉ kho hàng */\r\n  deleteAddress() {\r\n    this.modalService.confirm({\r\n      nzTitle: this.lang.translate(this.type == 5 ? \"Do you want to delete pickup information ?\" : \"Do you want to delete address ?\"),\r\n      nzCancelText: this.lang.translate(\"Cancel\"),\r\n      nzOnOk: () => {\r\n        return new Promise<any>((resolve) => {\r\n          this.vhQuerySales.deleteAddress(this.data_vnpost._id).then((res) => {\r\n            this.vhComponent.showToast(2000, this.lang.translate(this.type == 5 ? \"Delete pickup information successfully\" : \"This address has been deleted successfully\"), \"success-toast\");\r\n            this.closeEditAddressVnpost.emit(true);\r\n            resolve(true)\r\n          }).catch(err => { console.error(err); resolve(false) })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n    })\r\n  }\r\n}\r\n","<nz-modal [(nzVisible)]=\"editAddressVnpost\" [nzFooter]=\"modalFooterConnectVnpost\" [nzWidth]=\"600\" [nzTitle]=\"modalTitle\"\r\n    (nzOnCancel)=\"goBack()\" (nzOnOk)=\"updateInfoAddress()\">\r\n    <ng-template #modalTitle>{{'Edit Address'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalDelivery\">\r\n            <div class=\"image-delivery\">\r\n                <img [src]=\"'assets/img/logo_' + themeService.getThemeValue() + '.png'\" />\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/connect.svg\">\r\n                </ion-icon>\r\n                <ion-icon color=\"vh-green\" src=\"./assets/icon/management/deliverys/4.svg\">\r\n                </ion-icon>\r\n            </div>\r\n            <p class=\"ion-text-center\">{{\"You need to enter picking information to create Vnpost orders, shipper will pick up the goods according to the information below\" | translate}}</p>\r\n            <div class=\"addInformation\">\r\n                <form *ngIf=\"type ==5\" [formGroup]=\"addInformation\">\r\n                    <div nz-row [nzGutter]=\"16\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Name'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderFullname\" nz-input\r\n                                            placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                        <ng-template #combineTplName let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6\r\n                                                characters' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Phone number'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderTel\" nz-input\r\n                                            placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                        <ng-template #combineTplPhone let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is\r\n                                                required'\r\n                                                |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Address'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"SenderAddress\" nz-input\r\n                                            placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                        <ng-template #combineTplAddress let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Province'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        formControlName=\"SenderProvinceId\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaTinhThanh\" [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'District'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderProvinceId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictVnpost()\"\r\n                                        formControlName=\"SenderDistrictId\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaQuanHuyen\" [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Ward'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.SenderDistrictId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getWardVnpost()\" formControlName=\"SenderWardId\"\r\n                                        (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaPhuongXa\" [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <form *ngIf=\"type ==6\" [formGroup]=\"addInformation\">\r\n                    <div nz-row [nzGutter]=\"16\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Name'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverFullname\" nz-input\r\n                                            placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                        <ng-template #combineTplName let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6\r\n                                                characters' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Phone number'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverTel\" nz-input\r\n                                            placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                        <ng-template #combineTplPhone let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is\r\n                                                required'\r\n                                                |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Address'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                    <nz-input-group>\r\n                                        <input formControlName=\"ReceiverAddress\" nz-input\r\n                                            placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                        <ng-template #combineTplAddress let-control>\r\n                                            <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                                translate}}\r\n                                            </ng-container>\r\n                                        </ng-template>\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Province'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        formControlName=\"ReceiverProvinceId\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaTinhThanh\" [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'District'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.ReceiverProvinceId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictVnpost()\"\r\n                                        formControlName=\"ReceiverDistrictId\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaQuanHuyen\" [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"12\">\r\n                            <div><b>{{'Ward'|translate}}*</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-select [nzDisabled]=\"!addInformation.value.ReceiverDistrictId\"\r\n                                        [nzShowSearch]=\"true\" (nzFocus)=\"getWardVnpost()\"\r\n                                        formControlName=\"ReceiverWardId\" (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpostShow\">\r\n                                            <nz-option [nzValue]=\"item.MaPhuongXa\" [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterConnectVnpost>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"goBack()\">{{\"Cancel\"|translate}}</button>\r\n        <button nz-button class=\"nz-hover-border-del\" (click)=\"deleteAddress()\">{{\"Delete\"\r\n            | translate}}</button>\r\n        <button [nzLoading]=\"loadingSave\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"updateInfoAddress()\">{{\"Update\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-list-address-vnpost',\r\n  templateUrl: './list-address-vnpost.component.html',\r\n  styleUrls: ['./list-address-vnpost.component.scss']\r\n})\r\nexport class ListAddressVnpostComponent implements OnInit {\r\n\r\n  @Input(\"pickupAdresssVnpost\") pickupAdresssVnpost: boolean = false;\r\n  @Input(\"id_delivery\") id_delivery;\r\n  @Input('type') type: 5 | 6 = 5\r\n  @Input('customer') customer: any = {}\r\n  @Output(\"cancelListVnpost\") cancelListVnpost = new EventEmitter<any>();\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorighm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private modalService: NzModalService\r\n  ) {\r\n\r\n  }\r\n  infoAddress: any = [];\r\n  status_open: boolean = false;\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.status_open = false\r\n    this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n      this.status_open = true;\r\n      let addresss: Array<any> = []\r\n      if (this.type == 5)\r\n        addresss = this.vhQuerySales.getlocalAddresss().filter(item => item.type == this.type && item.id_delivery == this.id_delivery)\r\n      else addresss = this.vhQuerySales.getlocalAddresss().filter(item => item.type == this.type && item.id_delivery == this.id_delivery && item.id_customer == this.customer._id)\r\n      if (addresss.length)\r\n        this.infoAddress = addresss.sort((prev, next): any => Date.parse(next.date) - Date.parse(prev.date))\r\n      else this.infoAddress = []\r\n      \r\n    })\r\n    \r\n  }\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n  goBack() {\r\n    if (this.infoAddress.length) this.cancelListVnpost.emit(false);\r\n    else this.cancelListVnpost.emit({ _id: '' });\r\n  }\r\n  chooseAddress(item) {\r\n    this.modalService.confirm({\r\n      nzTitle: this.lang.translate(this.type == 5 ? \"Do you want to use this pickup informartion ?\" : \"Do you want to use this address ?\"),\r\n      nzCancelText: this.lang.translate(\"Cancel\"),\r\n      nzOnOk: () => {\r\n        return new Promise<any>((resolve) => {\r\n          this.vhQuerySales.updateAddress(item._id, { date: new Date().toISOString() }).then((bool) => {\r\n            if (bool) this.cancelListVnpost.emit(item);\r\n            else this.cancelListVnpost.emit(false);\r\n            resolve(true)\r\n          })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n    })\r\n  }\r\n  // -----------------modal add address pickup Vnpost----------------\r\n  addAddressVnpost: boolean = false;\r\n  closeAddAddressVnpost(event) {\r\n    if (event) this.getData();\r\n    this.addAddressVnpost = false;\r\n  }\r\n  // -----------------modal edit address pickup Vnpost----------------\r\n  editAddressVnpost: boolean = false;\r\n  dataEditAddressVnpost: any;\r\n  editAddress(item) {\r\n    this.dataEditAddressVnpost = item\r\n    this.editAddressVnpost = true;\r\n  }\r\n  closeEditAddressVnpost(event) {\r\n    if (event)\r\n      this.getData();\r\n    this.editAddressVnpost = false;\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\" [nzFooter]=\"footerTpl\"\r\n    [nzVisible]=\"pickupAdresssVnpost\" nzTitle=\"{{'Address' | translate}}\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div class=\"no-data\" *ngIf=\"!infoAddress.length && status_open\">{{'No data'|translate}}\r\n        </div>\r\n        <div *ngIf=\"infoAddress.length && status_open\">\r\n            <div (click)=\"chooseAddress(item)\" *ngFor=\"let item of infoAddress;trackBy : trackByFn\"\r\n                class=\"current-address\">\r\n                <div class=\"current-address-choose\" *ngIf=\"type == 5;else type_6\">\r\n                    <div>{{item.SenderFullname}} - {{item.SenderTel}}</div>\r\n                    <div>\r\n                        {{item.SenderAddress}}, {{item.TenPhuongXa}},\r\n                        {{item.TenQuanHuyen}} , {{item.TenTinhThanh}}\r\n                    </div>\r\n                </div>\r\n                <ng-template #type_6>\r\n                    <div class=\"current-address-choose\">\r\n                        <div>{{item.ReceiverFullname}} - {{item.ReceiverTel}}</div>\r\n                        <div>\r\n                            {{item.ReceiverAddress}}, {{item.TenPhuongXa}},\r\n                            {{item.TenQuanHuyen}} , {{item.TenTinhThanh}}\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n\r\n                <ion-icon (click)=\"$event.stopPropagation();editAddress(item)\" name=\"create-outline\"></ion-icon>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #footerTpl>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black);margin:0 5px\"\r\n                nzType=\"default\" (click)=\"goBack()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white);margin:0 5px\"\r\n                class=\"nz-hover-border-green\" (click)=\"addAddressVnpost = true\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n\r\n<!-- ------------add address pickup Vnpost--------- -->\r\n<app-add-address-vnpost *ngIf=\"addAddressVnpost\" [id_delivery]=\"id_delivery\" [customer]=\"customer\" [type]=\"type\"\r\n    [addAddressVnpost]=\"addAddressVnpost\" (closeAddAddressVnpost)=\"closeAddAddressVnpost($event)\">\r\n</app-add-address-vnpost>\r\n<!-- ------------edit address pickup Vnpost--------- -->\r\n<app-edit-address-vnpost *ngIf=\"editAddressVnpost\" [customer]=\"customer\" [type]=\"type\"\r\n    [dataEditAddressVnpost]=\"dataEditAddressVnpost\" [editAddressVnpost]=\"editAddressVnpost\"\r\n    (closeEditAddressVnpost)=\"closeEditAddressVnpost($event)\">\r\n</app-edit-address-vnpost>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConnectVnpostComponent } from './connect-vnpost/connect-vnpost.component';\r\nimport { ChooseWarehouseVnpostComponent } from './choose-warehouse-vnpost/choose-warehouse-vnpost.component';\r\nimport { DetailWarehouseVnpostComponent } from './detail-warehouse-vnpost/detail-warehouse-vnpost.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { ListAddressVnpostComponent } from './list-address-vnpost/list-address-vnpost.component';\r\nimport { AddAddressVnpostComponent } from './add-address-vnpost/add-address-vnpost.component';\r\nimport { EditAddressVnpostComponent } from './edit-address-vnpost/edit-address-vnpost.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ConnectVnpostComponent,\r\n    ChooseWarehouseVnpostComponent,\r\n    DetailWarehouseVnpostComponent,\r\n    ListAddressVnpostComponent,\r\n    AddAddressVnpostComponent,\r\n    EditAddressVnpostComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n  ],\r\n  exports: [\r\n    ConnectVnpostComponent,\r\n    ChooseWarehouseVnpostComponent,\r\n    DetailWarehouseVnpostComponent,\r\n    ListAddressVnpostComponent,\r\n    AddAddressVnpostComponent,\r\n    EditAddressVnpostComponent\r\n  ]\r\n})\r\nexport class VnpostModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}