{"version":3,"file":"src_app_admin_customer-by-app_customer-by-app_module_ts.js","mappings":"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","sources":["./src/app/admin/customer-by-app/customer-by-app.component.ts","./src/app/admin/customer-by-app/customer-by-app.component.html","./src/app/admin/customer-by-app/customer-by-app.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n// import { FirebaseAuth, OrdinaryAlgorithm, QueryVhAPP } from 'private-angular-vhframeworks';\r\nimport { CustomerListCallComponent } from '../component/customer-list-call/customer-list-call.component';\r\nimport { NoteComponent } from '../component/note/note.component';\r\nimport { SearchCustomerComponent } from '../component/search-customer/search-customer.component';\r\nimport { VhQueryAdministrator } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-customer-by-app',\r\n  templateUrl: './customer-by-app.component.html',\r\n  styleUrls: ['./customer-by-app.component.scss'],\r\n})\r\nexport class CustomerByAppComponent implements OnInit {\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  /// panigatior ///\r\n  app: any = 'bvhsales';\r\n  pageIndex: number = 0;\r\n  pageSize: number = 20;\r\n  lowValue: number = 0;\r\n  highValue: number = 20;\r\n  pageSizeOption: any = [20, 50, 100, 200, 500];\r\n  data: any = [];\r\n  date = [new Date(), new Date()];\r\n  loading: boolean = false;\r\n  employee: any;\r\n  status: any = 'all';\r\n  list_status: any = [\r\n    {\r\n      value: 1,\r\n      name: 'Chưa liên lạc cho khách, khách mới đăng kí vào hệ thống',\r\n    },\r\n    { value: 2, name: 'Đã gọi cho khách, nhưng không liên lạc được' },\r\n    {\r\n      value: 3,\r\n      name: 'Đã gọi cho khách, liên lạc được, nhưng khách hẹn gọi lại sau',\r\n    },\r\n    {\r\n      value: 4,\r\n      name: 'Đã gọi cho khách, liên lạc được nhưng khách không có nhu cầu',\r\n    },\r\n    {\r\n      value: 5,\r\n      name: 'Đã gọi cho khách, liên lạc được, khách mới đăng kí, chưa nhập dữ liệu (chưa xài)',\r\n    },\r\n    {\r\n      value: 6,\r\n      name: 'Đã gọi cho khách, liên lạc được, khách đang xài thử demo, đang hỗ trợ',\r\n    },\r\n    { value: 7, name: 'Đã hỗ trợ cho khách trong quá trình xài thử, demo' },\r\n    { value: 8, name: 'Khách đã xài thử, demo (nhưng lại không xài nữa)' },\r\n    {\r\n      value: 9,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ hướng dẫn nghiệp vụ cho khách',\r\n    },\r\n    {\r\n      value: 10,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ, khách để nghị thêm tính năng cho phần mềm',\r\n    },\r\n    {\r\n      value: 11,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ, khách phản hồi lỗi phần mềm',\r\n    },\r\n    { value: 12, name: 'Khách đã xài chính thức, đã hỗ trợ khách (hoàn tất)' },\r\n    { value: 13, name: 'Khách đã xài chính thức (nhưng lại không xài nữa)' },\r\n    { value: 14, name: 'Khách đang dùng thử, gặp lỗi trong quá trình sử dụng' },\r\n    { value: 15, name: 'Khách đang dùng thử, có góp ý/đề xuất tính năng mới' },\r\n  ];\r\n  constructor(\r\n    private vhQueryAdministrator: VhQueryAdministrator,\r\n    public dialog: MatDialog,\r\n    // private firebaseAuth: FirebaseAuth,\r\n    // public ordinaryAlgorithm:OrdinaryAlgorithm,\r\n    private _snackBar: MatSnackBar,\r\n    private cdRef: ChangeDetectorRef\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // this.employee = this.firebaseAuth.getUser();\r\n  }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight - 100 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  getEndUsers_byTime_byCareStaff_byStatusStore() {\r\n    this.loading = true;\r\n    this.data = [];\r\n    this.vhQueryAdministrator.getShops_byTime(\r\n      new Date(this.date[0].setHours(0, 0, 0)),\r\n      new Date(this.date[1].setHours(23, 59, 59))\r\n    )\r\n      .then(\r\n        (data: any) => {\r\n          this.loading = false;\r\n          console.log(data);\r\n          if (data)\r\n            this.data = data.map((item, index) => {\r\n              return { ...item, no: (index += 1) };\r\n            });\r\n        },\r\n        (err) => {\r\n          console.log(err), (this.loading = false);\r\n        }\r\n      );\r\n  }\r\n\r\n  selectApp(event) {\r\n    this.app = event;\r\n  }\r\n  selectType(event) {\r\n    if (event != 'all') this.status = parseInt(event);\r\n    else this.status = event;\r\n  }\r\n\r\n  openNote(item) {\r\n    const dialogRef = this.dialog.open(NoteComponent, {\r\n      width: '80%',\r\n      maxWidth: '100%',\r\n      disableClose: true,\r\n      data: {\r\n        customer: item,\r\n        project: this.app,\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.check && result.check.status != this.status) {\r\n        if (this.status == 'all') {\r\n          // this.queryVhAPP.getEndUser_byEmail(result.customer.email, result.project).then((data: any) => {\r\n          //    let replace = data[0]\r\n          //    replace.no = result.customer.no\r\n          //    this.data.splice(this.data.findIndex((item) => item._id == result.customer._id),1, replace);\r\n          //  });\r\n        } else {\r\n          this.data.splice(this.data.findIndex((item) => item._id == result.customer._id), 1);\r\n          //  this.data = this.ordinaryAlgorithm.sortDatebyASC(this.data,'registrationdate').map((item, index) => {return { ...item, no: (index += 1) }});\r\n        }\r\n      }\r\n    });\r\n  }\r\n  openSearch() {\r\n    const dialogRef = this.dialog.open(SearchCustomerComponent, {\r\n      width: '85%',\r\n      maxWidth: '100%',\r\n      data: this.app,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (this.data && result.length != 0) {\r\n        let index = this.data.findIndex((item) => item._id == result[0]._id)\r\n        if (index != -1) {\r\n          // this.queryVhAPP.getEndUser_byEmail(result[0].email, this.app).then((data: any) => {\r\n          //   this.data.splice(index,1, data[0]);\r\n          //   this.data = this.ordinaryAlgorithm.sortDatebyASC(this.data,'registrationdate').map((item, index) => {return { ...item, no: (index += 1) }});\r\n          // })\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  openZalo(customer) {\r\n    window.open(`https://zalo.me/${customer}`);\r\n  }\r\n\r\n\r\n  public copyValue(value) {\r\n    navigator.clipboard.writeText(value);\r\n    this._snackBar.open('Copied', value, {\r\n      horizontalPosition: 'center',\r\n      verticalPosition: 'top',\r\n      duration: 2000\r\n    });\r\n  }\r\n\r\n  renderTitle(value) {\r\n    return this.list_status.filter(item => item.value == value)[0].name\r\n  }\r\n}\r\n","<div style=\"height: 100%;\" class=\"height-layout\">\r\n    <div style=\"height: 8%;display: flex; width: 100%; align-items: center;\" class=\"height-header\">  \r\n        <div\r\n            style=\"width: 20%; display: flex; align-items: flex-start; flex-direction: column;justify-content: center;\">\r\n\r\n            <label for=\"\" style=\"padding-right: 4px; margin: 0;\"><b>Danh sách tài khoản:</b></label>\r\n\r\n\r\n        </div>\r\n        <div style=\"display: flex; align-items: center; width: 40%;justify-content: center;\">\r\n            <!-- <div style=\"display: flex; align-items: flex-start; flex-direction: column; width: 45%;justify-content: center;\">\r\n                <label style=\"padding-right: 4px; margin: 0;\" for=\"time\"><b>Từ</b>:</label>\r\n                <input style=\"padding: 4px; width: 100%;\" (ngModelChange)=\"selectStartTime($event)\" [ngModel]=\"startTime | date:'yyyy-MM-dd'\" type=\"date\"\r\n                    class=\"input shadow-none\" id=\"time\" name=\"time\">\r\n             </div>\r\n            <div style=\"display: flex; align-items: flex-start; flex-direction: column; padding-left: 8px; width: 45%;justify-content: center;\">\r\n                <label style=\"padding-right: 4px; margin: 0;\" for=\"time\"><b>Đến</b>:</label>\r\n                <input style=\"padding: 4px; width: 100%;\" (ngModelChange)=\"selectEndTime($event)\" [ngModel]=\"endTime | date:'yyyy-MM-dd'\" type=\"date\"\r\n                    class=\"input shadow-none\" id=\"time\" name=\"time\">\r\n            </div> -->\r\n            <nz-range-picker nzFormat='dd/MM/yyyy' nzFormat=\"dd/MM/yyyy\" [(ngModel)]=\"date\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <div style=\"display: flex;width: 45%; flex-direction: column; align-items: flex-start;justify-content: center;\">\r\n\r\n            <label for=\"\" style=\"padding-right: 4px; margin: 0;\"><b>Trạng thái khách hàng:</b></label>\r\n            <select (ngModelChange)=\"selectType($event)\" [ngModel]=\"status\"\r\n                style=\"padding: 4px; border-radius: 4px; width: 92%;\" id=\"category\">\r\n                <option value=\"all\">\r\n                    Tất cả\r\n                </option>\r\n                <option *ngFor=\"let item of list_status\" [value]=\"item.value\">\r\n                    <b> {{item.value}}.</b> {{item.name}}\r\n                </option>\r\n\r\n            </select>\r\n\r\n        </div>\r\n        <div style=\"display: flex; justify-content: flex-end; width: 7%; align-items: center; padding-top: 20px;\">\r\n            <mat-icon (click)=\"openSearch()\" style=\"margin: auto; cursor: pointer;\">search</mat-icon>\r\n            <button nz-button (click)=\"getEndUsers_byTime_byCareStaff_byStatusStore()\" nzType=\"primary\">\r\n                Xem\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div style=\"height: 91%; margin-top: 1%;overflow-y: hidden;\">\r\n        <div class=\"body-tab\" style=\"height: 100%; \">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                [nzScroll]=\"{ y: heightScroll }\" [nzLoading]=\"loading\" [nzData]=\"data\" #dataCustomer nzShowPagination\r\n                nzShowSizeChanger [nzNoResult]=\"'Không có dữ liệu'\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth='5%'><b>#</b></th>\r\n                        <th style=\"cursor: pointer;\" nzWidth='15%'>\r\n                            <b>{{ 'Ngày đăng ký' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\" nzWidth='15%'>\r\n                            <b>{{'Tên' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'Email' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'Điện thoại' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'Công ty' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'Địa chỉ' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'Hỗ trợ' }}</b>\r\n\r\n                        </th>\r\n                        <th style=\"cursor: pointer;\">\r\n                            <b>{{ 'T.Thái' }}</b>\r\n\r\n                        </th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let customer of dataCustomer.data  ; let i = index\">\r\n                        <td style=\"word-break: break-word;width: 5%;\">{{customer.no}}</td>\r\n                        <td style=\"word-break: break-word;width: 15%;\">{{customer.registrationdate | date:'dd/MM/yyyy, HH:mm'}}</td>\r\n                        <td style=\"word-break: break-word;width: 15%;\">{{customer.name}}</td>\r\n                        <td matTooltip=\"Click to copy\" matTooltipPosition=\"above\"\r\n                            style=\"word-break: break-word; cursor: pointer;\"\r\n                            (click)=\"copyValue(customer.email)\">{{customer.email}}</td>\r\n                        <td style=\"word-break: break-word; cursor: pointer;\">\r\n                            <span (click)=\"copyValue(0+customer.phone)\" matTooltip=\"Click to copy\"\r\n                                matTooltipPosition=\"above\"> {{customer.countrycode}}{{customer.phone}}</span>\r\n                            <mat-icon matTooltip=\"Click to open Zalo\" matTooltipPosition=\"above\"\r\n                                (click)=\"openZalo(customer.countrycode +customer.phone )\"\r\n                                style=\"margin: auto; cursor: pointer; color: #00A859;\">whatsapp</mat-icon>\r\n                        </td>\r\n                        <td style=\"word-break: break-word;\">{{customer.company}}</td>\r\n                        <td style=\"word-break: break-word;\">{{customer.address}}</td>\r\n                        <td (click)=\"openNote(customer)\" style=\"word-break: break-word;\"> <mat-icon\r\n                                style=\"margin: auto; cursor: pointer;\">menu</mat-icon></td>\r\n                        <td [matTooltip]=\"renderTitle(customer.status_store ? customer.status_store : 1)\"\r\n                            matTooltipPosition=\"above\" style=\"word-break: break-word;\">\r\n                            <b>{{customer.status_store ? customer.status_store : 1}}</b>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n\r\n        </div>\r\n\r\n\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CustomerByAppComponent } from './customer-by-app.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MaterialModule } from 'src/app/dealer/material.module';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomerByAppComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [CustomerByAppComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n\r\n    NgZorroAntModule\r\n  ],\r\n  exports: [RouterModule,MaterialModule],\r\n})\r\nexport class CustomerByAppModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}