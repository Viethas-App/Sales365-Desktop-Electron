{"version":3,"file":"src_app_admin_salesman-assignment_salesman-assignment_module_ts.js","mappings":"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","sources":["./src/app/admin/salesman-assignment/salesman-assignment.component.ts","./src/app/admin/salesman-assignment/salesman-assignment.component.html","./src/app/admin/salesman-assignment/salesman-assignment.module.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\n// import { FirebaseAuth, QueryVhAPP, OrdinaryAlgorithm } from 'private-angular-vhframeworks';\r\n\r\nimport { NoteComponent } from '../component/note/note.component';\r\nimport { SearchCustomerComponent } from '../component/search-customer/search-customer.component';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-salesman-assignment',\r\n  templateUrl: './salesman-assignment.component.html',\r\n  styleUrls: ['./salesman-assignment.component.scss']\r\n})\r\nexport class SalesmanAssignmentComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  /// panigatior ///\r\n  app: any = 'bvhsales';\r\n  pageIndex: number = 0;\r\n  pageSize: number = 20;\r\n  lowValue: number = 0;\r\n  highValue: number = 20;\r\n  pageSizeOption: any = [20, 50, 100, 200, 500];\r\n  data: any = [];\r\n  startTime: any = new Date();\r\n  endTime: any = new Date();\r\n  list_partner: any = [{name:\"Không xác định\", _id:null}];\r\n  idPartner: any = 'all';\r\n  loading: boolean = false;\r\n  status: any = 'all';\r\n  list_status: any = [\r\n    {\r\n      value: 1,\r\n      name: 'Chưa liên lạc cho khách, khách mới đăng kí vào hệ thống',\r\n    },\r\n    { value: 2, name: 'Đã gọi cho khách, nhưng không liên lạc được' },\r\n    {\r\n      value: 3,\r\n      name: 'Đã gọi cho khách, liên lạc được, nhưng khách hẹn gọi lại sau',\r\n    },\r\n    {\r\n      value: 4,\r\n      name: 'Đã gọi cho khách, liên lạc được nhưng khách không có nhu cầu',\r\n    },\r\n    {\r\n      value: 5,\r\n      name: 'Đã gọi cho khách, liên lạc được, khách mới đăng kí, chưa nhập dữ liệu (chưa xài)',\r\n    },\r\n    {\r\n      value: 6,\r\n      name: 'Đã gọi cho khách, liên lạc được, khách đang xài thử demo, đang hỗ trợ',\r\n    },\r\n    { value: 7, name: 'Đã hỗ trợ cho khách trong quá trình xài thử, demo' },\r\n    { value: 8, name: 'Khách đã xài thử, demo (nhưng lại không xài nữa)' },\r\n    {\r\n      value: 9,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ hướng dẫn nghiệp vụ cho khách',\r\n    },\r\n    {\r\n      value: 10,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ, khách để nghị thêm tính năng cho phần mềm',\r\n    },\r\n    {\r\n      value: 11,\r\n      name: 'Khách đã xài chính thức, đang hỗ trợ, khách phản hồi lỗi phần mềm',\r\n    },\r\n    { value: 12, name: 'Khách đã xài chính thức, đã hỗ trợ khách (hoàn tất)' },\r\n    { value: 13, name: 'Khách đã xài chính thức (nhưng lại không xài nữa)' },\r\n  ];\r\n  constructor(\r\n    // private queryVhAPP: QueryVhAPP,\r\n    public dialog: MatDialog,\r\n    // public firebaseAuth: FirebaseAuth,\r\n    // public ordinaryAlgorithm: OrdinaryAlgorithm,\r\n    private _snackBar: MatSnackBar\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.startTime.setHours(0, 0, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 59);\r\n    this.getPartners();\r\n  }\r\n\r\n  getEndUsers_byTime_bySalesman_byStatusStore(loading) {\r\n    if (loading) this.loading = true;\r\n    this.data = [];\r\n    // this.queryVhAPP.getEndUsers_byTime_bySalesman_byStatusStore(\r\n    //     this.startTime,\r\n    //     this.endTime,\r\n    //     this.idPartner,\r\n    //     this.status,\r\n    //     this.app\r\n    //   ).then((data) => {\r\n    //       this.loading = false;\r\n    //       if (data) {\r\n    //         this.data = data.map((item, index) => {\r\n    //           if(!item.id_salesman) item.id_salesman = null\r\n    //           return { ...item, no: (index += 1) };\r\n    //         });\r\n    //       }\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err), (this.loading = false);\r\n    //     }\r\n      // );\r\n  }\r\n  getPartners() {\r\n    // this.firebaseAuth.getPartners()\r\n    // .then((data) => {\r\n    //     if (data) this.list_partner = this.list_partner.concat(data);\r\n    //   },\r\n    //   (err) => {\r\n    //     console.log(err);\r\n    //   }\r\n    // );\r\n  }\r\n  selectStartTime(event) {\r\n    this.startTime = new Date(event).setHours(0, 0, 0, 0);\r\n  }\r\n  selectEndTime(event) {\r\n    this.endTime = new Date(event).setHours(23, 59, 59, 59);\r\n  }\r\n  selectApp(event) {\r\n    this.app = event;\r\n  }\r\n  selectEmployee(event) {\r\n    this.idPartner = event;\r\n  }\r\n  selectType(event) {\r\n    if (event != 'all') this.status = parseInt(event);\r\n    else this.status = event;\r\n  }\r\n\r\n  openNote(item) {\r\n    const dialogRef = this.dialog.open(NoteComponent, {\r\n      width: '80%',\r\n      maxWidth: '100%',\r\n      disableClose: true,\r\n      data: {\r\n        customer: item,\r\n        project: this.app,\r\n      },\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result.check && result.check.status != this.status) {\r\n        if (this.status == 'all') {\r\n          // this.queryVhAPP.getEndUser_byEmail(result.customer.email, result.project).then((data: any) => {\r\n          //   let replace = data[0]\r\n          //   replace.no = result.customer.no\r\n          //   this.data.splice(this.data.findIndex((item) => item._id == result.customer._id), 1, replace);\r\n          // });\r\n        } else {\r\n          this.data.splice(this.data.findIndex((item) => item._id == result.customer._id), 1);\r\n          // this.data = this.ordinaryAlgorithm.sortDatebyASC(this.data, 'registrationdate').map((item, index) => { return { ...item, no: (index += 1) } });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  openSearch() {\r\n    const dialogRef = this.dialog.open(SearchCustomerComponent, {\r\n      width: '85%',\r\n      maxWidth: '100%',\r\n      data: this.app,\r\n      disableClose: true,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(result)\r\n      if (this.data && result) {\r\n        let index = this.data.findIndex((item) => item._id == result[0]._id)\r\n        if (index != -1) {\r\n          // this.queryVhAPP.getEndUser_byEmail(result[0].email, this.app).then((data: any) => {\r\n          //   this.data.splice(index, 1, data[0]);\r\n          //   this.data = this.ordinaryAlgorithm.sortDatebyASC(this.data, 'registrationdate').map((item, index) => { return { ...item, no: (index += 1) } });\r\n          // })\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  updateEndUser_Salesman(customer: any, id_salesman: any) {\r\n    if(id_salesman === \"null\") id_salesman = null \r\n    // this.queryVhAPP\r\n    //   .updateEndUser_Salesman(customer._id, id_salesman, this.app)\r\n    //   .then(\r\n    //     (result) => {\r\n    //       console.log(result);\r\n    //     },\r\n    //     (err) => console.log(err)\r\n    //   );\r\n  }\r\n  openZalo(customer) {\r\n    window.open(`https://zalo.me/${customer}`);\r\n  }\r\n  // slice panigator\r\n  getPaginatorData(event: PageEvent): PageEvent {\r\n    this.lowValue = event.pageIndex * event.pageSize;\r\n    this.highValue = this.lowValue + event.pageSize;\r\n    return event;\r\n  }\r\n\r\n  public copyValue(value) {\r\n    navigator.clipboard.writeText(value);\r\n    this._snackBar.open('Copied', value, {\r\n      horizontalPosition: 'center',\r\n      verticalPosition: 'top',\r\n      duration: 2000\r\n    });\r\n  }\r\n}\r\n","<div style=\"height: 100%;\">\r\n    <div style=\"height: 8%;display: flex; width: 100%; align-items: center;\">\r\n        <div style=\"display: flex; align-items: flex-start; width: 15%; flex-direction: column;justify-content: center;\">\r\n            <label style=\"padding-right: 4px; margin: 0;\" for=\"\"><b>Nhân viên:</b></label> \r\n            \r\n              <select (ngModelChange)=\"selectEmployee($event)\" [(ngModel)]=\"idPartner\" aria-placeholder=\"Chọn nhân viên\" style=\"padding: 4px; border-radius: 4px; width: 90%;\" id=\"category\">\r\n                  <option value=\"all\">\r\n                     Tất cả\r\n                  </option>\r\n                  <option [value]=\"item._id\" *ngFor=\"let item of list_partner\">\r\n                      {{ item.name }}\r\n                  </option>\r\n              </select>\r\n            \r\n        </div>\r\n        <div style=\"width: 15%; display: flex; align-items: flex-start; flex-direction: column;justify-content: center;\">\r\n          \r\n            <label for=\"\" style=\"padding-right: 4px; margin: 0;\"><b>Dự án:</b></label>\r\n            <select (ngModelChange)=\"selectApp($event)\" [ngModel]=\"app\" style=\"padding: 4px; border-radius: 4px; width: 90%;\" id=\"category\">\r\n                <option value=\"bvhsales\">\r\n                   Sales Viethas\r\n                </option>\r\n                <option value=\"bvhcafe\">\r\n                    Cafe Viethas\r\n                </option>\r\n            </select>\r\n           \r\n        </div> \r\n\r\n        <div style=\"display: flex;width: 35%; flex-direction: column; align-items: flex-start;justify-content: center;\">\r\n           \r\n                <label for=\"\" style=\"padding-right: 4px; margin: 0;\"><b>Trạng thái khách hàng:</b></label>\r\n                <select (ngModelChange)=\"selectType($event)\" [ngModel]=\"status\" style=\"padding: 4px; border-radius: 4px; width: 95%;\" id=\"category\">\r\n                    <option value=\"all\">\r\n                        Tất cả\r\n                     </option>\r\n                    <option *ngFor=\"let item of list_status\" [value]=\"item.value\">\r\n                     <b> {{item.value}}.</b> {{item.name}}\r\n                    </option>\r\n                    \r\n                </select>\r\n            \r\n        </div>\r\n        <div style=\"display: flex; align-items: center; width: 40%;justify-content: center;\">\r\n            <div style=\"display: flex; align-items: flex-start; flex-direction: column; width: 45%;justify-content: center;\">\r\n                <label style=\"padding-right: 4px; margin: 0;\" for=\"time\"><b>Từ</b>:</label>\r\n                <input style=\"padding: 4px; width: 100%;\" (ngModelChange)=\"selectStartTime($event)\" [ngModel]=\"startTime | date:'yyyy-MM-dd'\" type=\"date\"\r\n                    class=\"input shadow-none\" id=\"time\" name=\"time\">\r\n             </div>\r\n            <div style=\"display: flex; align-items: flex-start; flex-direction: column; padding-left: 8px; width: 45%;justify-content: center;\">\r\n                <label style=\"padding-right: 4px; margin: 0;\" for=\"time\"><b>Đến</b>:</label>\r\n                <input style=\"padding: 4px; width: 100%;\" (ngModelChange)=\"selectEndTime($event)\" [ngModel]=\"endTime | date:'yyyy-MM-dd'\" type=\"date\"\r\n                    class=\"input shadow-none\" id=\"time\" name=\"time\">\r\n            </div>\r\n         </div>\r\n        <div style=\"display: flex; justify-content: flex-end; align-items: center; padding-top: 20px;\">\r\n            <!-- <mat-icon (click)=\"openSearch()\" style=\"margin: auto; cursor: pointer;\">search</mat-icon> -->\r\n            <button (click)=\"getEndUsers_byTime_bySalesman_byStatusStore(true)\" class=\"bg-success text-white px-3 mx-2 btn-view\">\r\n                Xem\r\n            </button>\r\n            <!-- <button [disabled]=\"employee == 'all' ? true : false\" (click)=\"openAddCustomer()\" class=\"bg-success text-white px-5 mx-2\">\r\n                Thêm khách hàng\r\n            </button> -->\r\n        </div>\r\n    </div>\r\n    <div style=\"height: 91%; margin-top: 1%; overflow-y: hidden;\">\r\n        <div class=\"body-tab\" style=\"height: 92%;\">\r\n            <mat-spinner color=\"warn\" *ngIf=\"loading\" style=\"top: 50%; left: 50%; position: absolute;\"></mat-spinner>\r\n            <div style=\"top: 50%; left: 50%; position: absolute;\" *ngIf=\"!data.length && !loading\">Không có dữ liệu</div>\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"width: 4%\" scope=\"col\">#</th>\r\n                        <th style=\"width: 11%\" scope=\"col\">Ngày đk</th>\r\n                        <th style=\"width: 8%\" scope=\"col\">Tên</th>\r\n                        <th style=\"width: 10%\" scope=\"col\">Email</th>\r\n                        <th style=\"width: 14%\" scope=\"col\">Điện thoại</th>\r\n                        <th style=\"width: 8%\" scope=\"col\">Công ty</th>\r\n                        <th style=\"width: 14%\" scope=\"col\">Địa chỉ</th>\r\n                        <th style=\"width: 7%\" scope=\"col\">Hỗ trợ</th>\r\n                        <th style=\"width: 4%\" scope=\"col\">T.Thái</th>\r\n                        <th style=\"width: 20%\" style=\"text-align: center;\" scope=\"col\">Người bán</th>\r\n                        <!-- <th style=\"text-align: center;\" scope=\"col\">Đại lý</th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let customer of data | slice: lowValue : highValue; let i = index\">\r\n                        <td style=\"word-break: break-word;width: 4%;\">{{customer.no}}</td>\r\n                        <td style=\"word-break: break-word;width: 11%;\">{{customer.registrationdate | date:'dd/MM/yyyy, HH:mm'}}</td>\r\n                        <td style=\"word-break: break-word;width: 8%;\">{{customer.name}}</td>\r\n                        <td matTooltip=\"Click to copy\"  matTooltipPosition=\"above\" style=\"word-break: break-word;width: 10%; cursor: pointer;\" (click)=\"copyValue(customer.email)\">{{customer.email}}</td>\r\n                        <td  style=\"word-break: break-word;width: 14%; cursor: pointer;\">\r\n                            <span (click)=\"copyValue(0+customer.phone)\" matTooltip=\"Click to copy\"  matTooltipPosition=\"above\">{{customer.countrycode}}{{customer.phone}}</span>\r\n                             <mat-icon matTooltip=\"Click to open Zalo\"  matTooltipPosition=\"above\" (click)=\"openZalo(customer.countrycode +customer.phone )\" style=\"margin: auto; cursor: pointer; color: #00A859;\">whatsapp</mat-icon></td>\r\n                        <td style=\"word-break: break-word;width: 8%;\">{{customer.company}}</td>\r\n                        <td style=\"word-break: break-word;width: 14%;\">{{customer.address}}</td>\r\n                        <td (click)=\"openNote(customer)\" style=\"word-break: break-word;width: 7%;\"> <mat-icon  style=\"margin: auto; cursor: pointer;\">menu</mat-icon></td>\r\n                        <td style=\"word-break: break-word;width: 4%;\"><b>{{customer.status_store ? customer.status_store : 1 }}</b></td>\r\n                        <td style=\"word-break: break-word;width: 20%;\">\r\n                            <select (ngModelChange)=\"updateEndUser_Salesman(customer, $event)\" [(ngModel)]=\"customer.id_salesman\" aria-placeholder=\"Chọn nhân viên\" style=\"padding: 4px; border-radius: 4px; width: 150px;\">\r\n                                <option [value]=\"partner._id\" *ngFor=\"let partner of list_partner\">\r\n                                    {{ partner.name }}\r\n                                </option>\r\n                            </select>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style=\"height: 8%;width: 100%;\">\r\n            <mat-paginator [length]=\"data.length\"\r\n                [pageSizeOptions]=\"pageSizeOption\" [pageSize]=\"pageSize\" showFirstLastButtons=\"false\"\r\n                (page)=\"getPaginatorData($event)\">\r\n            </mat-paginator>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SalesmanAssignmentComponent } from './salesman-assignment.component';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { MaterialModule } from 'src/app/dealer/material.module';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesmanAssignmentComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [SalesmanAssignmentComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n  ],\r\n  exports: [RouterModule, MaterialModule],\r\n})\r\nexport class SalesmanAssignmentModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}