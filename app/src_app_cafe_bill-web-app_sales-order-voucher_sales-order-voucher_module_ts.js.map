{"version":3,"file":"src_app_cafe_bill-web-app_sales-order-voucher_sales-order-voucher_module_ts.js","mappings":"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","sources":["./src/app/cafe/bill-web-app/sales-order-voucher/create-bill/create-bill.component.ts","./src/app/cafe/bill-web-app/sales-order-voucher/create-bill/create-bill.component.html","./src/app/cafe/bill-web-app/sales-order-voucher/sales-order-voucher.component.html","./src/app/cafe/bill-web-app/sales-order-voucher/sales-order-voucher.component.ts","./src/app/cafe/bill-web-app/sales-order-voucher/sales-order-voucher.module.ts","./src/app/cafe/bill-web-app/sales-order-voucher/search-voucher/search-voucher.component.ts","./src/app/cafe/bill-web-app/sales-order-voucher/search-voucher/search-voucher.component.html"],"sourcesContent":["\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Component, OnInit, HostListener, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { VhSaleVoucherInvoice, VhSaleVoucherInvoiceDetails, VhSaleVoucherInvoices } from 'src/app/cafe/interface/vh-sale-voucher-invoice';\r\nimport { SalesVoucherK57Col3Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k57-col3/sales-voucher-k57-col3.component';\r\nimport { SalesVoucherK80Col3Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k80-col3/sales-voucher-k80-col3.component';\r\nimport { SalesVoucherK80Col4Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-k80-col4/sales-voucher-k80-col4.component';\r\nimport { SalesVoucherA5Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-a5/sales-voucher-a5.component';\r\nimport { SalesVoucherA4Component } from 'src/app/cafe/components/print/sales-voucher/sales-voucher-a4/sales-voucher-a4.component';\r\n\r\n@Component({\r\n  selector: 'app-create-bill',\r\n  templateUrl: './create-bill.component.html',\r\n  styleUrls: ['./create-bill.component.scss']\r\n})\r\nexport class CreateBillComponent implements OnInit {\r\n\r\n  public root: any; // biến nhận state truyền qua\r\n  public invoice: VhSaleVoucherInvoices = new VhSaleVoucherInvoices({}, [])\r\n  public listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n  public employee: any = {};\r\n  public pickerTime = new Date();\r\n  public customer: any;\r\n  public checkPrinter: boolean = false;\r\n  public closerBrower: any;\r\n  public id_product_delete: string = '';\r\n  public percent_discount_bill: number = 0;\r\n  customer_online: any;\r\n  invoiceToday: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth,\r\n    private nzModalService: NzModalService,\r\n    private fncService: FunctionService,\r\n    private cdf: ChangeDetectorRef,\r\n    private vhQuery: VhQuery\r\n  ) {\r\n    this.root = this.router.getCurrentNavigation().extras.state;\r\n    this.customer_online = this.root.customer;\r\n    this.invoiceToday = this.root.invoiceToday\r\n    this.getDataInvoice(this.root.bill);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  private getDataInvoice(bill) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill_details_byId_bill(bill._id)\r\n      ]).then(([invoiceDetail]: any) => {\r\n        console.log(invoiceDetail);\r\n        if (!invoiceDetail.length)\r\n          this.init(bill, [])\r\n        else {\r\n          let promise = []\r\n          for (let i in invoiceDetail) {\r\n            promise[i] = this.vhQueryCafe.getVoucher_Code_Name_Release(invoiceDetail[i].id_voucher_code)\r\n          }\r\n          Promise.all(promise).then((array) => {\r\n            console.log('getVoucher_Code_Name_Release', array);\r\n            \r\n            invoiceDetail = invoiceDetail.map((e, index) => {\r\n              return { ...e, price: array[index].units[0].price, ...array[index], name: array[index].name_voucher }\r\n            })\r\n            this.init(bill, invoiceDetail)\r\n          })\r\n\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  init(invoice: VhSaleVoucherInvoice = null, invoiceDetail: VhSaleVoucherInvoiceDetails[] = null) {\r\n    this.vhComponent.hideLoading(0)\r\n    this.invoice = new VhSaleVoucherInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      // set nhân viên mặc định\r\n      if (!this.invoice.getIdEmployee())\r\n        this.invoice.setIdEmployee(this.vhAuth.getUser()._id)\r\n      this.invoice.setDate(new Date().toISOString())\r\n      this.invoice.setPayment(invoice.total)\r\n      this.note = this.invoice.getNote();\r\n      this.pickerTime = new Date(this.invoice.getDate());\r\n      this.percent_discount_bill = this.invoice.getSubTotal() ? (this.invoice.getDiscount() / this.invoice.getSubTotal()) * 100 : 0\r\n      this.employee = this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee());\r\n\r\n    }\r\n  }\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    // window.removeEventListener('beforeunload', this.closerBrower, false)\r\n  }\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n      else if (this.invoice.getInvoiceDetail().length > 0) {\r\n        switch (keycode) {\r\n          case 113: {\r\n            if (this.checkPrinter) this.payInvoice(40, true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  ngAfterViewInit() {\r\n    if (this.invoice.getID() && this.listTax.length > 0) {\r\n      this.id_tax = this.listTax.find(item => item.value == this.invoice.getTax())._id;\r\n    } else {\r\n      let tax = this.listTax.find(item => item.default);\r\n      if (tax) {\r\n        this.id_tax = tax._id\r\n        this.invoice.setTax(tax['value']);\r\n      }\r\n    }\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n    this.invoice_fee = document.querySelector(\".invoice-fee\") ? this.vhAlgorithm.vhnumeral(\".invoice-fee\") : 0\r\n\r\n    // ------bắt sự kiện nhấn phím nóng-----\r\n    this.eventKeypress();\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    this.cdf.detectChanges()\r\n  }\r\n\r\n\r\n  // chuổi danh sách sản phẩm\r\n  getStringName(products: any[]) {\r\n    let name = ''\r\n    products.forEach(element => {\r\n      let product = this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ? element.id_subproduct : element.id_product)\r\n      name += '- ' + element.quantity + 'x ' + product.name + ' \\n';\r\n    });\r\n    return name\r\n  }\r\n  // edit giá voucher\r\n  editVoucherPrice(nameClass, position) {\r\n    let price = this.vhAlgorithm.vhnumeral(\"#\" + nameClass);\r\n    this.invoice.getInvoiceDetail()[position].price = parseFloat(price.getRawValue() ? price.getRawValue() : 0)\r\n    this.invoice.setSubTotal();\r\n  }\r\n\r\n\r\n  deleteGoods(detail: VhSaleVoucherInvoiceDetails, index?) {\r\n    if (detail) {\r\n      this.id_product_delete = detail.id_voucher_code\r\n      this.invoice.removeInvoiceDetail(detail.id_voucher_code)\r\n\r\n    }\r\n  }\r\n\r\n  // -------change tax------\r\n  id_tax: string;\r\n  changeTax(event) {\r\n    let tax = this.listTax.find(item => item._id == event);\r\n    this.invoice.setTax(tax.value);\r\n  }\r\n\r\n  searchProductList: boolean = false;\r\n  openSearchProductList() {\r\n    this.searchProductList = true;\r\n  }\r\n\r\n  // tạo danh sách voucher bán\r\n  closeSearchProductList(data) {\r\n    if (typeof data === 'boolean') {\r\n      this.searchProductList = false;\r\n    } else {\r\n      if (data) {\r\n        if (!this.invoice.getInvoiceDetail().includes(data)) {\r\n          this.invoice.addInvoiceDetail(data)\r\n          this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Thêm voucher thành công\"))\r\n        } else {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Mã voucher đã được chọn !\"))\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/bill-web-app/sales-order-voucher'], { state: { invoiceToday: this.invoiceToday } });\r\n  }\r\n\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhSaleVoucherInvoiceDetails;\r\n  openEditUnitPrice(detail: VhSaleVoucherInvoiceDetails) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.invoice.setSubTotal();\r\n\r\n      this.isVisibleEditUnitPrice = false;\r\n    } else { this.vhComponent.showToast(5000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n  // -------set employee-------\r\n  employees = this.vhAuth.getlocalEmployees();\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.setIdEmployee(event);\r\n    }\r\n  }\r\n  // ----set customer-----\r\n  radioValue: 1 | 2 = 1;\r\n  closeAndReceiveCustomer(event) {\r\n    if (event) {\r\n      this.invoice.setIdPartner(event);\r\n      if (!this.vhQueryCafe.getlocalCustomer(event).debt_enable) this.invoice.setPayment(this.invoice.getTotalATax());\r\n    }\r\n    this.customer = this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner());\r\n  }\r\n  changeCustomerType(event) {\r\n    if (this.radioValue == 1) {\r\n      this.invoice.setIdPartner(\"id_retail\");\r\n      this.invoice.setPayment(this.invoice.getTotalATax());\r\n    } if (event == 2) {\r\n      this.clearRetailCustomer()\r\n      this.radioValue = 2\r\n    }\r\n  }\r\n\r\n  clearRetailCustomer() {\r\n    this.invoice.setRetailName('')\r\n    this.invoice.setRetailPhone('')\r\n    this.invoice.setRetailAddress('')\r\n  }\r\n\r\n  closeAndGetValuePayment(event) {\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0]);\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n    }\r\n  }\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.setPaymentType(type)\r\n    switch (type) {\r\n      case 1: {\r\n        this.invoice.setIdWallet('id_cash'); this.invoice.setPayment(this.invoice.getPayment() ? this.invoice.getPayment() : null);\r\n\r\n        break;\r\n      }\r\n      case 2: {\r\n        this.invoice.setPayment(0); this.invoice.setIdWallet(null);\r\n        break;\r\n      }\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.setIdWallet(id_wallet)\r\n          this.invoice.setPayment(this.invoice.getPayment() ? this.invoice.getPayment() : null);\r\n\r\n          break;\r\n        }\r\n      }\r\n    };\r\n  }\r\n  setPickerTime(event) {\r\n    if (new Date(event).getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 5000)\r\n      this.pickerTime = new Date(this.invoice.getDate())\r\n      this.invoice.setDate(new Date(this.pickerTime));\r\n    }\r\n    else this.vhQueryCafe.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n      if (validitydate == null) {\r\n        this.invoice.setDate(event);\r\n      }\r\n      else {\r\n        this.pickerTime = new Date(validitydate)\r\n        this.invoice.setDate(new Date(this.pickerTime));\r\n        this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 5000)\r\n      }\r\n    })\r\n  }\r\n\r\n  discount_price: any;\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0 && this.discount_price.getRawValue() <= this.invoice.getSubTotal()) {\r\n      this.invoice.setDiscount(parseFloat(this.discount_price.getRawValue()));\r\n      this.percent_discount_bill = this.invoice.getSubTotal() ? (this.invoice.getDiscount() / this.invoice.getSubTotal()) * 100 : 0\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.getDiscount();\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n  }\r\n\r\n  // -------change tax------\r\n\r\n  invoice_fee: any;\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.setFee(parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.getFee();\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n  }\r\n\r\n  // -------modal edit pay---------\r\n  edit_pay: boolean = false;\r\n  edit_paytotal: any;\r\n  showModalEditTotalPay() {\r\n    if (this.invoice.getPaymentType() != 2 && this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).debt_enable) {\r\n      this.vhAlgorithm.waitingStack().then(() => {\r\n        this.edit_paytotal = this.vhAlgorithm.vhnumeral(\".edit-pay\");\r\n      })\r\n      this.edit_pay = true;\r\n    }\r\n    else if (!this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).debt_enable) {\r\n      this.vhComponent.showToast(5000,\r\n        this.languageService.translate(\"This customer is not allowed to debt\"), \"alert-toast\"\r\n      )\r\n    }\r\n  }\r\n  handleEditPay() {\r\n    if (this.edit_paytotal.getRawValue() >= 0 && this.edit_paytotal.getRawValue() <= this.invoice.getTotalATax()) {\r\n      this.invoice.setPayment(parseFloat(this.edit_paytotal.getRawValue()))\r\n    }\r\n    this.edit_pay = false;\r\n  }\r\n  handleCancelEditPay() {\r\n    this.edit_pay = false;\r\n  }\r\n  updateCash(cash: any) {\r\n    this.invoice.setCash(cash.replaceAll(',', ''))\r\n  }\r\n\r\n  editPercentDiscount(value) {\r\n    if (parseFloat(value) > 100)\r\n      document.getElementById(\"percent-discount-price\")['value'] = 0\r\n  }\r\n\r\n  payInvoice(bill_type: 40, print?) {\r\n    console.log(this.invoice.getCreateUpdateInvoiceDetail());\r\n    console.log(this.invoice.getCreateUpdateInvoice(40));\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (print) {\r\n        if (this.checkPrinter) {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.createOrUpdate()\r\n            // .then(() => {\r\n            //   this.vhComponent.hideLoading(0).then(() => {\r\n            //     this.vhComponent.showToast(5000,\r\n            //       `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n            //     )\r\n            //     this.handlePrint()\r\n            //   })\r\n            // })\r\n          })\r\n        }\r\n        else {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n            nzIconType: \"info-circle\",\r\n            nzCancelText: null,\r\n            nzOnOk: () => { }\r\n          })\r\n        }\r\n      }\r\n      else {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.createOrUpdate()\r\n          // .then(() => {\r\n\r\n          //   this.vhComponent.hideLoading(0).then(() => {\r\n          //     this.vhComponent.showToast(5000,\r\n          //       `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n          //     )\r\n          //     this.goBack()\r\n          //   })\r\n          // })\r\n        })\r\n      }\r\n    }\r\n    else this.vhComponent.showToast(5000, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n\r\n  createOrUpdate() {\r\n    let invoice = { ...this.invoice.getCreateUpdateInvoice(42) } \r\n    this.vhQueryCafe.updateBill_Billdetail(this.invoice.getID(), invoice, this.invoice.getCreateUpdateInvoiceDetail())\r\n      .then(() => {\r\n        console.log(\"updateBill_Billdetail 42 success\");\r\n        this.vhQueryCafe.saveBill_Billdetail(this.invoice.getID(), 40)\r\n          .then(() => {\r\n            console.log(\"saveBill_Billdetail success\");\r\n            this.invoiceToday = this.invoiceToday.filter(item => item._id != this.invoice.getID())\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              this.vhComponent.showToast(5000,\r\n                `${this.languageService.translate(\"Hóa đơn bán voucher\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n              )\r\n              this.goBack()\r\n            })\r\n          })\r\n      })\r\n  }\r\n  \r\n  deleteInvoice() {\r\n    this.vhComponent.showLoading('')\r\n      .then(() => {\r\n        this.vhQueryCafe.deleteBill_Billdetail(this.invoice.getID())\r\n          .then((bool) => {\r\n            if (bool) {\r\n              this.vhComponent.hideLoading(0)\r\n              console.log('success');\r\n              this.invoiceToday = this.invoiceToday.filter(item => item._id != this.invoice.getID())\r\n              this.goBack()\r\n            } else {\r\n              console.log('no success');\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error ', error);\r\n          })\r\n      })\r\n\r\n  }\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.voucher.enable) resolve(printer.voucher)\r\n      else resolve(false)\r\n      if (!printer) rejects(false)\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesVoucherK57Col3Component\r\n      case 'print_size_k80_3c': return SalesVoucherK80Col3Component\r\n      case 'print_size_k80_4c': return SalesVoucherK80Col4Component\r\n      case 'print_size_a5': return SalesVoucherA5Component\r\n      case 'print_size_a4': return SalesVoucherA4Component\r\n      default: return SalesVoucherA4Component\r\n    }\r\n  }\r\n\r\n\r\n  handlePrint() {\r\n    let print = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales_voucher')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer = print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer, invoice: this.invoice }, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.goBack())\r\n        })\r\n      }\r\n    }\r\n  }\r\n  note: string;\r\n  edit_note() {\r\n    if (this.note) {\r\n      this.invoice.setNote(this.note)\r\n    }\r\n  }\r\n\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    if (this.invoice.getIdPartner() != 'id_retail') {\r\n      this.customer = this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner());\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n  closeInfoCustomer(event) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  // ------thoát trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n\r\n  /**add customer */\r\n  showDrawerAddCusomer: boolean = false;\r\n  showDrawerAddRetail: boolean = false\r\n  openDrawerAddCustomerOrRetail() {\r\n    if (this.radioValue == 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCusomer = true\r\n  }\r\n  closeAddCustomer(result) {\r\n    if (this.radioValue == 1) {\r\n      if (result) {\r\n        this.invoice.setRetailName(result.retail_name)\r\n        this.invoice.setRetailPhone(result.retail_phone)\r\n        this.invoice.setRetailAddress(result.retail_address)\r\n      }\r\n      this.showDrawerAddRetail = false\r\n    }\r\n    else this.showDrawerAddCusomer = false\r\n  }\r\n\r\n  barcode: string = ''\r\n  barcode_array = [];\r\n  @HostListener(\"window: keypress\", [\"$event\"])\r\n  /**\r\n   * Sự kiện nhận barcode\r\n   */\r\n  getKeyUp(_event: KeyboardEvent) {\r\n    if (this.router.url === \"/bill-web-app/sales-order-voucher/add\") {\r\n      // if (!this.showSearchBar && !this.showPayInfo) {\r\n      if (_event.key == \"Enter\") {\r\n        this.barcode_array.forEach((i, index) => {\r\n          if (i == \"Shift\") {\r\n            this.barcode_array[index + 1] = this.barcode_array[\r\n              index + 1\r\n            ].toUpperCase();\r\n            this.barcode_array.splice(index, 1);\r\n          }\r\n        });\r\n        // this.scanBarcode(this.barcode_array.join(\"\"));\r\n        this.barcode = this.barcode_array.join(\"\");\r\n        setTimeout(() => {\r\n          this.barcode_array = [];\r\n        }, 100);\r\n\r\n      } else {\r\n        this.barcode_array.push(_event.key);\r\n      }\r\n      // }\r\n    }\r\n  }\r\n  //tra cước phí\r\n  visibleCheckFees: boolean = false\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Select voucher' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n\r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"openSearchProductList()\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search voucher (F4)' | translate}}</button>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n                          <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                          {{'Delete' | translate}} (F3)</button>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"!invoice.getInvoiceDetail().length\" class=\"no-data\">\r\n                    <p>{{'Please select a product' | translate}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <table style=\"width: 100%\" *ngIf=\"invoice.getInvoiceDetail().length\">\r\n                        <thead>\r\n                            <th style=\"width: 5%\"></th>\r\n                            <th style=\"width: 35%\"><b>{{'Voucher name' | translate}}</b></th>\r\n                            <th style=\"width: 15%\"><b>{{'Voucher code' | translate}}</b></th>\r\n                            <th style=\"width: 15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                            <th style=\"width: 30%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let item of invoice.getInvoiceDetail(); index as i\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <div nz-popconfirm\r\n                                            nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{item.code}}\"\r\n                                            (nzOnConfirm)=\"deleteGoods(item,i)\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                            nz-col nzSpan=\"1\">\r\n                                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <b>{{item.name_voucher_release}} ({{item.name}})</b> <br>\r\n\r\n                                    </td>\r\n                                    <td>{{item.code}}</td>\r\n                                    <td nzAlign='right'>\r\n                                        <input (keyup)=\"editVoucherPrice('voucher-price'+i,i)\"\r\n                                            [value]=\"vhAlgorithm.vhcurrencyunit(item.price)\" class=\"border_bottom\"\r\n                                            style=\"text-align: right !important\" type=\"text\" maxlength=\"15\"\r\n                                            [id]=\"'voucher-price'+i\" nz-input />\r\n                                    </td>\r\n                                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td colspan=\"5\" style=\"padding: 0 8px;\">\r\n                                        <ng-container *ngIf=\"item.products\">\r\n                                            <!-- <span *ngFor=\"let product of item.products\">\r\n                                                {{ product.name}} {{ '('+product.unit +')'}} x {{product.quantity}} <br>\r\n                                            </span> -->\r\n                                            <pre style=\"white-space: pre-line;font-family: 'Roboto';margin: 0;\"  > {{getStringName(item.products)}}\r\n                                            </pre>\r\n                                        </ng-container>\r\n                                    </td>\r\n                                </tr>\r\n\r\n                            </ng-container>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <!-- <app-staff [id_employee]=\"invoice.getIdEmployee()\" (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff> -->\r\n                        <nz-select nzPlaceHolder=\"{{'Select employee' | translate}}\" [ngModel]=\"invoice.getIdEmployee()\"\r\n                            (ngModelChange)=\"closeAndReceiveEmployee($event)\" nzBorderless class=\"cus-select\" nzShowSearch>\r\n                            <nz-option *ngFor=\"let item of employees\" nzValue=\"{{item._id}}\" nzLabel=\"{{item.name}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <div class=\"sales-bills-customer-title\">\r\n                    <b>{{'Customer information' | translate}}\r\n                    </b>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    {{customer_online.name}} - {{customer_online.phone}} {{customer_online.address ? '-':\r\n                    ''}} {{invoice.getRetailAddress()}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;\">\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n\r\n                <ng-container>\r\n                    <div class=\"sales-bills-content-discount\"\r\n                        style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n                        <div style=\"width: auto;\">{{'Discount value' | translate}}</div>\r\n                        <div>\r\n                            <input id=\"percent-discount-price\" style=\"width: 50px;\" #percentDiscount type=\"number\"\r\n                                max=\"100\" min=\"0\" step=\"1\"\r\n                                (blur)=\"invoice.setPercentDiscountBill(percentDiscount.value); editPercentDiscount(percentDiscount.value)\"\r\n                                [value]=\"percent_discount_bill | number:'1.0-2'\" class=\"border_bottom \" maxlength=\"3\"\r\n                                nz-input />%\r\n                        </div>\r\n                        <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getDiscount())\"\r\n                            class=\"border_bottom discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\"\r\n                            nz-input />\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getFee())\"\r\n                        class=\"border_bottom invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>\r\n                        <nz-select *ngIf=\"listTax.length\" [(ngModel)]=\"id_tax\" (ngModelChange)=\"changeTax($event)\"\r\n                            nzBorderless>\r\n                            <nz-option *ngFor=\"let item of listTax\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"7\" style=\"text-align: end;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Pay' | translate}}</b></div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit(invoice.getPayment())}}<img (click)=\"showModalEditTotalPay()\"\r\n                            *ngIf=\"invoice.getPaymentType() != 2\" style=\"width: 16px;margin-left:10px\"\r\n                            src=\"assets/icon/Iconfeather-edit.svg\" /></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}\r\n                    </div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <app-tax [payment_type]=\"invoice.getPaymentType()\" [id_wallet]=\"invoice.getIdWallet()\"\r\n                        [id_customer]=\"invoice.getIdPartner()\"\r\n                        (closeAndGetValuePayment)=\"closeAndGetValuePayment($event)\">\r\n                    </app-tax>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\"\r\n                    style=\"margin-top: 10px;\">\r\n                    <div>{{'cash' | translate}}</div>\r\n                    <input style=\"text-align: end;width: 35%;\" type=\"text\" #cash maxlength=\"15\" nz-input\r\n                        [disabled]=\"invoice.getPaymentType() == 2\"\r\n                        [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getCash())\" class=\"customerPay border_bottom\"\r\n                        (keyup)=\"updateCash(cash.value)\" />\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div>{{'Change' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getExcessCash())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"note\" (blur)=\"edit_note()\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!invoice.getInvoiceDetail().length\" (click)=\"payInvoice(40,true)\" nz-button\r\n                    class=\"order-and-print\">\r\n                    {{\"Complete & Print\"|translate}} (F2)\r\n                </button>\r\n                <button style=\"margin: auto;\" [disabled]=\"!invoice.getInvoiceDetail().length\"\r\n                    (click)=\"payInvoice(40,false)\" nz-button class=\"order\">\r\n                    {{\"Complete\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- -----nz-drawer list-product-------- -->\r\n<!-- Search product -->\r\n<!-- <app-search-product [searchProductList]=\"searchProductList\" [barcode]=\"barcode\" (clearBarcode)=\"barcode = ''\" (closeSearchProductList)=\"closeSearchProductList($event)\" [default_price_type]=\"default_price_type\"> -->\r\n<!-- </app-search-product > -->\r\n<app-search-voucher [searchProductList]=\"searchProductList\" [barcode]=\"barcode\" (clearBarcode)=\"barcode = ''\"\r\n    (closeSearchProductList)=\"closeSearchProductList($event)\" [id_product_delete]=\"id_product_delete\">\r\n</app-search-voucher>\r\n\r\n<!--Modal edit pay-->\r\n<nz-modal [(nzVisible)]=\"edit_pay\" [nzFooter]=\"modalFooterEditPay\" nzTitle=\"{{'Edit' | translate}}\"\r\n    (nzOnCancel)=\"handleCancelEditPay()\" (nzOnOk)=\"handleEditPay()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Pay' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getPayment())\" class=\"edit-pay\" type=\"text\"\r\n                    maxlength=\"15\" nz-input />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditPay>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditPay()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditPay()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>"," \r\n    <nz-layout id=\"sales-invoice-today\" >\r\n        <div class=\"sales-invoice-today-header\" style=\"padding: 8px;  background: white;\" nz-row>\r\n            <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n                <b>{{'Voucher purchase order' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input placeholder=\"{{'Search for invoice code, customer name, payment, status,phone' | translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n               \r\n            </div>\r\n            <div nz-col nzSpan=\"8\" class=\"right-all-content\" style=\"padding-right: 16px;\">\r\n                <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n                <button class=\" btn-add\"   nz-button nzType=\"default\" (click)=\"getInvoiceToday()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" >\r\n               <app-header-account-info></app-header-account-info>\r\n            </div>\r\n        </div>\r\n    \r\n        <div nz-row style=\"height: 100%; margin-top: 8px;\">\r\n            <div nz-col nzSpan=\"24\" style=\"padding: 0 160px;\">\r\n                <div nz-row *ngIf=\"!invoiceShow.length\" style=\"height: 100%;\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <p>{{'No invoice today' | translate}}</p>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"invoiceShow.length\" style=\"padding: 8px; background-color: white;height: 100%;border-radius: 5px;\">\r\n                    <div class='total-item'>{{'Total' |translate}}<span style=\"color:var(--ion-color-vh-red)\">\r\n                            {{invoiceShow.length}}\r\n                        </span>{{'invoices today' | translate}}\r\n                    </div>\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoiceShow\" #tableSales nzShowPagination [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" nzShowSizeChanger [nzNoResult]=\"noBill\" (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n                                    <b>{{'Date' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\">\r\n                                    <b>{{'Invoice code' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n                                    <b>{{'Customer' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th nzWidth=\"15%\" nzAlign='left'><b>{{'Note' | translate}}</b></th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"15%\" nzAlign='right' (click)=\"sum_priceCol = !sum_priceCol;sortTable('sum_price')\">\r\n                                    <b>{{'Total' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"sum_priceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice)\">\r\n                                <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                                <td nzAlign='left'>{{invoice.bill_code}} <i (click)=\"$event.stopPropagation();vhComponent.copyValue(invoice.bill_code)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i></td>\r\n                                <td nzAlign='left'>{{(invoice.customer ? invoice.customer['name'] : 'Not found') | translate}} \r\n                                </td>\r\n                                \r\n                                <td nzAlign='left'>{{invoice.note}}</td> \r\n                                <td class=\"money-right\">\r\n                                    {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                    <ng-template #noBill>\r\n                        <div class=\"pos-content-empty\">\r\n                            <div>\r\n                                <div>\r\n                                    <ion-icon style=\"font-size: 230px;\" src=\"assets/icon/pos/undraw_add_to_cart_vkjp.svg\">\r\n                                    </ion-icon>\r\n                                </div>\r\n                                {{'No data' | translate}}\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n    \r\n                </div>\r\n            </div> \r\n        </div>\r\n    </nz-layout>\r\n   \r\n    ","import { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component, OnInit, HostListener } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhDisplayLEDService, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\n@Component({\r\n  selector: 'app-sales-order-voucher',\r\n  templateUrl: './sales-order-voucher.component.html',\r\n  styleUrls: ['./sales-order-voucher.component.scss']\r\n})\r\nexport class SalesOrderVoucherComponent implements OnInit {\r\n  useBranch: boolean = this.functionService.checkUsingBranch()\r\n  public searchValue: string = ''\r\n  public invoiceShow: any[] = []\r\n  public invoiceToday: any[];\r\n  tableHeight: string;\r\n  public date: Date[] = [new Date(), new Date()];\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices // bill được chọn để xem chi tiết\r\n\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private functionService: FunctionService,\r\n    private notification: NzNotificationService,\r\n    private plaform: Platform,\r\n    private vhDisplayLEDService: VhDisplayLEDService,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    if(this.router.getCurrentNavigation().extras.state){\r\n      this.invoiceToday = this.router.getCurrentNavigation().extras.state.invoiceToday;\r\n      console.log(this.invoiceToday);\r\n      this.invoiceShow =  this.invoiceToday\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0, 0, 0, 0)).getTime() - new Date(event[0].setHours(0, 0, 0, 0)).getTime() <= this.fncService.checkDateReport() * 86000000) {\r\n      //this.getTransferList();\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" + this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n\r\n\r\n  getInvoiceToday() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQueryCafe.getBills_byFields({  date: { $gte: new Date(this.date[0].setHours(0, 0, 0)).toISOString(), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString() },  bill_type: { $in: [42] }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }, {})\r\n        .then((invoice: any[]) => {\r\n          console.log(invoice);\r\n          let promise = new Array();\r\n          for (let i = 0; i < invoice.length; i++) {\r\n            promise[i] = this.vhQueryCafe.getCustomer(invoice[i].id_customer)\r\n          }\r\n          this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n            this.invoiceToday = invoice.map((item,index) => {\r\n              return { ...item, customer: array[index],  sum_price: item.total * (1 + item.tax / 100),   }\r\n            })\r\n            this.searchBill(this.searchValue)\r\n          }, error => { console.log(error); })\r\n          this.vhComponent.hideLoading(0);\r\n\r\n        })\r\n    })\r\n  }\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoiceToday, ['bill_code', 'partner_name', 'employee_name', 'payment_name', 'status', 'phone'])\r\n    } else this.invoiceShow = [...this.invoiceToday]\r\n    console.log(this.invoiceShow);\r\n\r\n  }\r\n  /* -----Pagination----- */\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n\r\n  goToDetail(bill) {\r\n    console.log(bill);\r\n\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_view_bill_today\")) {\r\n      this.router.navigate([\"/cafe/bill-web-app/sales-order-voucher/add\"], { state: { bill: bill, invoiceToday :  this.invoiceToday , customer : bill.customer} })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-invoice-today\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-invoice-today-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#sales-invoice-today\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-invoice-today-header\").clientHeight - 110 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  deleteBill() {\r\n    let bill: any = { ...this.invoice }\r\n    this.invoiceShow = this.invoiceShow.filter(item => item._id != bill._id)\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  payment_nameCol = false;\r\n  name_employeeCol = false;\r\n  sum_priceCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName) {\r\n    switch (colName) {\r\n      case 'date':\r\n        if (this.dateCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if (this.bill_codeCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if (this.partner_nameCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if (this.payment_nameCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n\r\n      case 'sum_price':\r\n        if (this.sum_priceCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SalesOrderVoucherComponent } from './sales-order-voucher.component';\r\nimport { CreateBillComponent } from './create-bill/create-bill.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HeaderAccountInfoModule } from '../header-account-info/header-account-info.module';\r\nimport { SearchVoucherComponent } from './search-voucher/search-voucher.component';\r\nimport { ComponentsModule } from '../components/components.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesOrderVoucherComponent,\r\n  }, \r\n  {\r\n    path: 'add',\r\n    component: CreateBillComponent,\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [SalesOrderVoucherComponent,CreateBillComponent,SearchVoucherComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule, \r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    HeaderAccountInfoModule,\r\n    ComponentsModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class SalesOrderVoucherModule { }\r\n","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { Subscription } from 'rxjs';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-search-voucher',\r\n  templateUrl: './search-voucher.component.html',\r\n  styleUrls: ['./search-voucher.component.scss']\r\n})\r\nexport class SearchVoucherComponent implements OnInit {\r\n  @ViewChild(\"inputSearchSales\") myInputField: ElementRef;\r\n  @Input(\"searchProductList\") searchProductList: boolean = true;\r\n  @Input() barcode: any;\r\n  @Input() id_product_delete: string;\r\n\r\n  @Output(\"closeSearchProductList\") closeSearchProductList = new EventEmitter<any>();\r\n  @Output() clearBarcode = new EventEmitter()\r\n  @Input() default_price_type: any;\r\n  public observableAllProducts: Subscription\r\n  public indexTab: any = 0;\r\n  public id_branch: string = this.vhQueryCafe.getDefaultBranch()._id\r\n  public tabs: any = []\r\n  public listVoucher: any[] = [];\r\n  public goodList: any[] = [];\r\n  public searchList: any[] = [];\r\n  public listAllProducts: any[] = [];\r\n  public typeGoods = 0;\r\n  public search: string = '';\r\n  public tempVal: string = '';\r\n  public unable_vouchers_all_branch: any = this.vhQueryCafe.getLocalAppSettingNameStation('sales_program').unable_vouchers_all_branch                     // cho phép áp dụng voucher cho toàn bộ chi nhánh\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getVoucherCodes();\r\n  }\r\n\r\n  getVoucherCodes() {\r\n    // lấy danh sách voucher đã phát hành\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      // lấy toàn bộ danh sách thẻ bán trạng thái mới phát hành\r\n      Promise.all([\r\n        this.vhQueryCafe.getVoucherCodes_byFields({ status: { $eq: 1 } }, {}, {}, 0),\r\n        // this.vhQueryCafe.getVouchers()\r\n      ]).then(([voucherCode, ]: any) => {\r\n        voucherCode.forEach(async (code) => {\r\n          let voucher_release = await this.vhQueryCafe.getVoucher_Code_Name_Release(code._id) \r\n          console.log(voucher_release);\r\n          // let voucher = vouchers.find(item => item._id == code.id_voucher);\r\n          if (voucher_release) {\r\n            code['name'] = voucher_release['name_voucher'];\r\n            code['name_voucher_release'] = voucher_release['name_voucher_release'] ;\r\n            code['price'] = voucher_release['units'][0].price;\r\n            code['products'] = voucher_release['products'].map(e => {\r\n              return {\r\n                ...e, name: this.vhQueryCafe.getlocalProduct( e.id_product).name,\r\n              }\r\n            })\r\n          }\r\n        });\r\n        this.listVoucher = voucherCode;\r\n        this.searchList = this.listVoucher;\r\n        console.log(this.searchList);\r\n        \r\n        this.vhComponent.hideLoading(0);\r\n      }, error => {\r\n        console.log('error', error);\r\n        this.vhComponent.hideLoading(0);\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  ngOnChanges({ barcode, id_product_delete }: SimpleChanges): void {\r\n    if (id_product_delete) {\r\n      if (id_product_delete.currentValue) {\r\n        const index = this.listVoucher.findIndex(item => item._id == id_product_delete.currentValue);\r\n        this.listVoucher[index].choose = false;\r\n      }\r\n    }\r\n    if (barcode)\r\n      if (barcode.currentValue) {\r\n        if (barcode.currentValue.toString().length > 5) {\r\n          let product = this.listAllProducts.filter(item => item.barcode == barcode.currentValue);\r\n          if (product[0]) { this.chooseProduct(product[0]); this.clearBarcode.emit(true) }\r\n          else {\r\n            this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Not found\"))\r\n            this.clearBarcode.emit(true)\r\n          }\r\n        }\r\n      }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.observableAllProducts) this.observableAllProducts.unsubscribe();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.myInputField.nativeElement.focus();\r\n  }\r\n  acticeFocus() {\r\n    this.myInputField.nativeElement.focus();\r\n  }\r\n\r\n  goBack() {\r\n    this.closeSearchProductList.emit(false);\r\n  }\r\n  // tìm voucher code theo _id\r\n  searchProduct(value: string) {\r\n    this.tempVal = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length) {\r\n      this.listVoucher = this.vhAlgorithm.searchList(this.tempVal, this.searchList, ['code']);\r\n    } else {\r\n      this.listVoucher = this.searchList;\r\n    }\r\n  }\r\n\r\n  // config dữ liệu, để lưu vào payment_detais\r\n  chooseProduct(item) {\r\n    item.choose = true\r\n    let dataConfig = {\r\n      id_voucher_code: item._id,\r\n      name: item.name,\r\n      name_voucher_release: item.name_voucher_release,\r\n      id_voucher: item.id_voucher,\r\n      code: item.code,\r\n      vtype: 1,\r\n      price: item.price,\r\n      products: item.products\r\n    }\r\n    this.closeSearchProductList.emit(dataConfig);\r\n  }\r\n\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzTitle]=\"\" [nzVisible]=\"searchProductList\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent id=\"search-combos-popup\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\"><input (blur)=\"acticeFocus()\" #inputSearchSales class=\"nz-hover-border\" placeholder=\"{{ 'Search voucher by code' | translate}}\" [(ngModel)]=\"search\" (ngModelChange)=\"searchProduct($event)\" [ngModelOptions]=\"{standalone: true}\" nz-input />\r\n            </div>\r\n        </div>\r\n        <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <nz-tabset [nzSelectedIndex]=\"indexTab\">\r\n                    <!-- <nz-tab *ngFor=\"let tab of tabs\" nzTitle=\"{{tab.name | translate}}\"></nz-tab> -->\r\n                    <nz-tab nzTitle=\"{{'List of issued vouchers' | translate}} \"></nz-tab>\r\n                </nz-tabset>\r\n                <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n                    <nz-list>\r\n                        <nz-list-item (click)=\"chooseProduct(item)\" *cdkVirtualFor=\"let item of listVoucher\" class=\"item\" style=\"cursor: pointer;\" [ngStyle]=\"{'display': item.choose ? 'none' : 'flex'}\">\r\n                            <nz-list-item-meta>\r\n                                <nz-list-item-meta-title>\r\n                                    <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                                       {{item.name}}\r\n                                    </span> <br>\r\n                                    <div>{{'Voucher price' | translate}}:\r\n                                        <span style=\" color: var(--ion-color-vh-green)\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                    </div>\r\n                                    <div>\r\n                                        {{'Voucher code' | translate}}:\r\n                                        <span style=\" color: var(--ion-color-vh-orange)\">{{item.code}}</span>\r\n                                    </div>\r\n                                </nz-list-item-meta-title>\r\n                                <!-- <nz-list-item-meta-description *ngIf=\"item.combos\">\r\n                                    <span style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                      {{item.subComboName}}\r\n                                    </span>\r\n                                </nz-list-item-meta-description> -->\r\n                            </nz-list-item-meta>\r\n                        </nz-list-item>\r\n                        <nz-list-empty *ngIf=\"searchList.length === 0\"></nz-list-empty>\r\n                    </nz-list>\r\n                </cdk-virtual-scroll-viewport>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-drawer>"],"names":["i0","$event","ctx_r11","ctx_r14","ctx_r15","ctx_r16","ctx_r17","ctx_r3","_r6","SalesOrderVoucherComponent","constructor","vhQuery","router","vhQueryCafe","vhAlgorithm","vhComponent","languageService","vhAuth","cdRef","functionService","notification","plaform","vhDisplayLEDService","fncService","checkUsingBranch","Date","date","setHours","getCurrentNavigation","extras","state","invoiceToday","console","log","invoiceShow","ngOnInit","changeTime","event","getTime","checkDateReport","showToast","translate","getInvoiceToday","showLoading","then","getBills_byFields","$gte","toISOString","$lte","bill_type","$in","id_branch","$eq","getDefaultBranch","_id","invoice","promise","Array","i","length","getCustomer","id_customer","asyncPromiseAll","array","map","item","index","customer","sum_price","total","tax","searchBill","searchValue","error","hideLoading","value","val","changeAlias","trim","toLowerCase","searchList","onCurrentPageDataChange","goToDetail","bill","checkMyPermission","navigate","renderAddress","partner","address","district","province","country","ngAfterViewChecked","document","querySelector","tableHeight","clientHeight","detectChanges","deleteBill","filter","sortTable","colName","dateCol","sortDatebyASC","sortDatebyDESC","bill_codeCol","sortVietnamesebyASC","sortVietnamesebyDESC","partner_nameCol","payment_nameCol","sum_priceCol","sortNumberbyASC","sortNumberbyDESC","selectors","decls","vars","consts","template","ctx","EventEmitter","SearchVoucherComponent","getLocalAppSettingNameStation","unable_vouchers_all_branch","getVoucherCodes","Promise","all","getVoucherCodes_byFields","status","voucherCode","forEach","code","voucher_release","getVoucher_Code_Name_Release","price","e","name","getlocalProduct","id_product","listVoucher","ngOnChanges","barcode","id_product_delete","currentValue","findIndex","choose","toString","product","listAllProducts","chooseProduct","clearBarcode","emit","alertMessageDesktop","ngOnDestroy","observableAllProducts","unsubscribe","ngAfterViewInit","myInputField","nativeElement","focus","acticeFocus","goBack","closeSearchProductList","searchProduct","tempVal","dataConfig","id_voucher_code","name_voucher_release","id_voucher","vtype","products","viewQuery"],"sourceRoot":"webpack:///"}