{"version":3,"file":"src_app_cafe_bill-web-app_sales-order_sales-order_module_ts.js","mappings":"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","sources":["./src/app/cafe/bill-web-app/sales-order/add/add.component.ts","./src/app/cafe/bill-web-app/sales-order/add/add.component.html","./src/app/cafe/bill-web-app/sales-order/detail-invoice/detail-invoice.component.ts","./src/app/cafe/bill-web-app/sales-order/detail-invoice/detail-invoice.component.html","./src/app/cafe/bill-web-app/sales-order/sales-order.component.html","./src/app/cafe/bill-web-app/sales-order/sales-order.component.ts","./src/app/cafe/bill-web-app/sales-order/sales-order.module.ts"],"sourcesContent":["import { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component, OnInit, HostListener } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhDisplayLEDService, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhOrderInvoice, VhOrderInvoiceDetail, VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  root: any; // biến nhận state truyền qua\r\n  invoice: VhOrderInvoices = new VhOrderInvoices({}, [], this.vhQueryCafe);\r\n  listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n  public showBestSelling: any = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n  employee: any = {};\r\n  pickerTime = new Date();\r\n  customer: any;\r\n  checkPrinter: boolean = false;\r\n  closerBrower: any;\r\n  default_price_type: number\r\n  showModalChangePriceType: boolean = false;\r\n  // auto_select_lot : boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_select_lot\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  warning_lot_expried: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried\r\n  discount_bill: number = 0;\r\n  percent_discount_bill: number = 0;\r\n  is_discount_bill: boolean = false;\r\n  list_earning_point_bills: any = [];\r\n  list_earning_points_products: any = [];\r\n  customer_group: any = [];\r\n  showModalOtherDiscount: boolean = false;\r\n  id_branch = this.vhQueryCafe.getDefaultBranch()._id\r\n  show_modal_select_lots_combo = false;\r\n  customer_online: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private nzModalService: NzModalService,\r\n    private vhQuery: VhQuery,\r\n  ) {\r\n    // gán dữ liệu nhận từ \r\n    this.root = this.router.getCurrentNavigation().extras.state;\r\n    this.customer_online = this.root.customer;\r\n    this.product_codes = this.root.invoice.coupons\r\n    this.getDataInvoice(this.root.invoice);\r\n    console.log(this.product_codes);\r\n\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n\r\n  private getDataInvoice(bill) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill_details_byId_bill(bill._id)\r\n      ]).then(([invoiceDetail]: any) => {\r\n        console.log(invoiceDetail);\r\n        if (!invoiceDetail.length)\r\n          this.init(bill, [])\r\n        else {\r\n          invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n          this.init(bill, invoiceDetail)\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n  init(invoice: VhOrderInvoice = null, invoiceDetail: VhOrderInvoiceDetail[] = null) {\r\n    console.log('init invoice');\r\n    console.log(invoice);\r\n    this.invoice = new VhOrderInvoices(invoice, invoiceDetail, this.vhQueryCafe)\r\n    if (invoice && invoiceDetail) {\r\n      // set nhân viên mặc định\r\n      if (!this.invoice.getIdEmployee())\r\n        this.invoice.setIdEmployee(this.vhAuth.getUser()._id)\r\n      this.invoice.setDate(new Date().toISOString())\r\n      // this.invoice.setPayment(invoice.total)\r\n      this.note = this.invoice.getNote();\r\n      this.invoice.setIdTable(\"go_home\")\r\n      this.invoice.setIdArea(\"go_home\");\r\n      this.pickerTime = new Date(this.invoice.getDate());\r\n      this.observableCheckBill(this.invoice.getID());\r\n      this.percent_discount_bill = this.invoice.getSubTotal() ? (this.invoice.getDiscount() / this.invoice.getSubTotal()) * 100 : 0\r\n      this.employee = this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee());\r\n      \r\n      \r\n    }\r\n  }\r\n  // sự kiện subscribe bill dc mở ở thiết bị khác\r\n  observableCheckBill(id_bill) {\r\n    this.vhQueryCafe.observableSyncOpeningBill(id_bill, 36).subscribe((rsp: any) => {\r\n      this.vhQueryCafe.closeSyncOpeningBill();\r\n      if (rsp.vcode === 0) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Hóa đơn này đang được cập nhật ở thiết bị khác!\"),\r\n          nzOkText: \"Thoát\",\r\n          nzOnOk: () => {\r\n            this.goBack();\r\n          },\r\n          nzCancelText: null,\r\n          nzOnCancel: () => {\r\n            this.goBack();\r\n          }\r\n        })\r\n      } else if (rsp.vcode === 1) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Hóa đơn này đã được thanh toán ở thiết bị khác!\"),\r\n          nzOkText: \"Thoát\",\r\n          nzOnOk: () => {\r\n            this.goBack();\r\n          },\r\n          nzCancelText: null,\r\n          nzOnCancel: () => {\r\n            this.goBack();\r\n          }\r\n        })\r\n      } else if (rsp.vcode === 2) {\r\n        this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Hóa đơn đã bị xóa!\"))\r\n        this.goBack();\r\n      }\r\n    }, error => {\r\n      this.vhComponent.hideLoading(0).then(() => {\r\n        this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n      })\r\n    })\r\n  }\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    if (this.invoice.getID()) this.vhQueryCafe.closeSyncOpeningBill();\r\n  }\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n      else if (this.invoice.getInvoiceDetail().length > 0) {\r\n        switch (keycode) {\r\n          case 112:\r\n            this.payInvoice(1, false);\r\n            break;\r\n          case 113: {\r\n            if (this.checkPrinter) this.payInvoice(1, true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // //sự kiện f5, close tab...\r\n    // this.closerBrower = (event: BeforeUnloadEvent) => {\r\n    //   (event || window.event).returnValue = 'Changes you made may not be saved';\r\n    //   return 'Changes you made may not be saved';\r\n    // }\r\n    // window.addEventListener('beforeunload', this.closerBrower)\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  ngAfterViewInit() {\r\n    if (this.root.invoice._id && this.listTax.length > 0) {\r\n      this.id_tax = this.listTax.find(item => item.value == this.invoice.getTax())._id; \r\n    } else { \r\n      console.log('setTax');\r\n      \r\n      let tax = this.listTax.find(item => item.default);\r\n      if (tax) {\r\n        this.id_tax = tax._id\r\n        this.invoice.setTax(tax['value']);\r\n      }\r\n    }\r\n\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n\r\n    // get các loại chương trình tích điểm\r\n    Promise.all([\r\n      this.vhQueryCafe.getEarningPointsBills(),\r\n      this.vhQueryCafe.getEarningPointsProducts(),\r\n    ])\r\n      .then(([earning_point_bills, earning_points_products]: any) => {\r\n        // this.list_earning_point_bills = this.vhQueryCafe.getLocalAppSettingNameStation('sales_program').enable_sales_method_all_branch ? earning_point_bills.filter( item => item.id_branch == this.vhQueryCafe.getDefaultBranch()._id) : earning_point_bills;\r\n        // this.list_earning_points_products =  this.vhQueryCafe.getLocalAppSettingNameStation('sales_program').enable_sales_method_all_branch ? earning_points_products.filter( item => item.id_branch == this.vhQueryCafe.getDefaultBranch()._id) : earning_points_products;\r\n        this.list_earning_point_bills = earning_point_bills\r\n        this.list_earning_points_products = earning_points_products\r\n        this.customer_group = this.vhQueryCafe.getlocalCustomerClasss()\r\n        this.getClassAndProgram();\r\n      })\r\n\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.discount_price = document.querySelector(\".discount-price\") ? this.vhAlgorithm.vhnumeral(\".discount-price\") : 0;\r\n      this.invoice_fee = document.querySelector(\".invoice-fee\") ? this.vhAlgorithm.vhnumeral(\".invoice-fee\") : 0\r\n    })\r\n    // ------bắt sự kiện nhấn phím nóng-----\r\n    this.eventKeypress();\r\n  }\r\n  ngAfterViewChecked() {\r\n    // if (document.querySelector(\".ant-tabs-nav\") && document.querySelector(\".sales-best-selling\")) {\r\n    //   let height = document.querySelector(\".sales-best-selling\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - 20 + \"px\";\r\n    //   if (document.getElementById(\"carousel-product\")) document.getElementById(\"carousel-product\").style.height = height;\r\n    //   if (document.getElementById(\"carousel-service\")) document.getElementById(\"carousel-service\").style.height = height;\r\n    // }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n  /**\r\n   * hàm get điểm tích lũy theo hóa đơn\r\n   * 1. get hạng khách hàng\r\n   * 2. từ hạng khách hàng get tích điểm theo bill\r\n   * 3. check các điều kiện của chương trình\r\n   * a check sản phẩm khuyến mãi include_promotion_product\r\n   * b  check giảm giá/ chiết khấu include_discount\r\n   * c check thanh toán = điểm thưởng include_paid_points\r\n   * d check phí  include_fee\r\n   * e check thuế include_tax\r\n   * @returns 0 | number\r\n   */\r\n  getEarningBill() {\r\n    if (this.program_bill && this.invoice.getSubTotal() > this.program_bill.bill_total_minimum) {\r\n      let subTotal = this.invoice.getSubTotal();\r\n      if (!this.program_bill.include_promotion_product) { // ko tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.getSubTotalNotPromotion()\r\n        if (this.program_bill.include_discount) subTotal = subTotal - this.invoice.getDiscount() - this.invoice.getDiscountBill()\r\n\r\n        if (this.program_bill.include_paid_points && this.invoice.getDiscountPoint()) subTotal = subTotal - this.invoice.getDiscountPoint()\r\n        if (this.program_bill.include_fee) subTotal -= this.invoice.getFee();\r\n\r\n        if (this.program_bill.include_tax) subTotal += subTotal * (this.invoice.getTax() / 100)\r\n        return ((subTotal - subTotal % this.program_bill.exchange.money) / this.program_bill.exchange.money) * this.program_bill.exchange.points\r\n      }\r\n      else {\r\n        subTotal = this.invoice.getSubTotal();\r\n        if (this.program_bill.include_discount) subTotal = subTotal - this.invoice.getDiscount() - this.invoice.getDiscountBill()\r\n\r\n        if (this.program_bill.include_paid_points && this.invoice.getDiscountPoint()) subTotal = subTotal - this.invoice.getDiscountPoint()\r\n        if (this.program_bill.include_fee) subTotal -= this.invoice.getFee();\r\n\r\n        if (this.program_bill.include_tax) subTotal += subTotal * (this.invoice.getTax() / 100)\r\n        return ((subTotal - subTotal % this.program_bill.exchange.money) / this.program_bill.exchange.money) * this.program_bill.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n  /**\r\n  * hàm này trả về tổng tiền của sản phẩm ko có chương trình khuyến mãi\r\n  * return : number\r\n  */\r\n  getSubTotalNotPromotion() {\r\n    return this.invoice.getInvoiceDetail().filter(item => !item.id_promotion).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n  }\r\n\r\n  /**\r\n   * hàm này trả về tổng tiền của sản phẩm  ko có chương trình khuyến mãi thuộc chương trình tích điểm sản phẩm\r\n   * return : number\r\n   */\r\n  getSubTotalNotPromotionOFProduct(products_of_program_earnig_product) {\r\n    return this.invoice.getInvoiceDetail()\r\n      .filter(item => item.price_origin == item.price && products_of_program_earnig_product.find(i => i == item.id_product || i == item.id_subproduct))\r\n      .reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n  }\r\n\r\n\r\n  /**\r\n   * hàm này trả về tổng điểm được tích của tất cả sản phẩm\r\n   * @returns 0 | number\r\n   */\r\n  getEarningProduct(products) {\r\n    if (this.program_product) {\r\n      let subTotal = 0;\r\n      if (!this.program_product.include_promotion_product) { // tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.getSubTotalNotPromotionOFProduct(this.program_product.products)\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n      else {\r\n        subTotal = products.filter(item => item.price_origin == item.price && this.program_product.products.find(i => i == item.id_product)).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n\r\n\r\n  earning_point: number = 0;\r\n  /**\r\n   * hàm này trả về tổng điểm được tích của đơn và sản phẩm\r\n   * @returns 0 | number\r\n   */\r\n  getTotalEarningPoint() {\r\n    this.earning_point = this.getEarningProduct(this.invoice.getInvoiceDetail()) + this.getEarningBill();\r\n    return this.earning_point\r\n  }\r\n\r\n  /**\r\n   * hàm này trả về điểm được tích của sản phẩm được thêm\r\n   * @param product sản phẩm được thêm\r\n   * @returns 0 | number\r\n   */\r\n  getTotalEarningPointProduct(product, promotion) {\r\n    if (this.program_product) {\r\n      let subTotal = 0;\r\n      if (!this.program_product.include_promotion_product && promotion) { // tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.program_product.products.find(i => i == product._id) ? product.price : 0\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n      else {\r\n        subTotal = this.program_product.products.find(i => i == product._id) ? product.price : 0\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n  // hàm xóa sp\r\n  deleteGoods(detail: VhOrderInvoiceDetail) {\r\n    this.invoice.removeInvoiceDetail(detail.id_product);\r\n    this.invoice.setSubTotal()\r\n\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n  deletePromotion() {\r\n    return new Promise((resolve) => {\r\n      // let bill_details = this.vhQueryCafe.destroyBillDetails_withPromotions(this.invoice.getInvoiceDetail())\r\n      // this.invoice = new VhOrderInvoices(this.invoice.getCreateUpdateInvoice(5), bill_details, this.vhQueryCafe)\r\n      // this.invoice.setSubTotal();\r\n      // this.product_gift_type7 = [];\r\n      // this.bill_details_pmtype_7 = [];\r\n      resolve(true)\r\n    })\r\n\r\n  }\r\n  searchProductList: boolean = false;\r\n  openSearchProductList() {\r\n    this.searchProductList = true;\r\n  }\r\n  closeSearchProductList(data) {\r\n    console.log('closeSearchProductList', data);\r\n    let price = this.default_price_type == 1 ? data.price : data.price2 ? data.price2 : data.price // check 2 đk là kiểu giá bán và có giá bán sỉ hay ko\r\n    this.invoice.addInvoiceDetail(\r\n      {\r\n        ...data,\r\n        price: price,\r\n        earning_points_product: this.getTotalEarningPointProduct(data, null)\r\n      })\r\n    console.log(this.invoice.getInvoiceDetail());\r\n    if (!data) this.searchProductList = false;\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param data sản phảm dc chọn\r\n   */\r\n  checkProductHaveLots(data) {\r\n\r\n  }\r\n\r\n  goBack() {\r\n    if (!this.invoice.getInvoiceDetail().length) {\r\n      this.isExit = true;\r\n      this.router.navigate([\"/cafe/bill-web-app/sales-order\"])\r\n    }\r\n    else\r\n      this.vhComponent.alertConfirm(`${this.languageService.translate(\"Confirm\")}`, \"\", `${this.languageService.translate(\"Are you sure to cancel the sales order\")}?`, \"OK\", this.languageService.translate('Cancel'))\r\n        .then(() => { this.isExit = true; this.router.navigate([\"/cafe/bill-web-app/sales-order\"]) }, () => { })\r\n  }\r\n  checkQuantityProduct(product: VhOrderInvoiceDetail, event) {\r\n    if (!event) product.quantity = 1;\r\n    else { product.quantity = product.quantity ? parseFloat(parseFloat(event).toFixed(2)) : 1; }\r\n    this.invoice.setSubTotal()\r\n\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhOrderInvoiceDetail;\r\n  openEditUnitPrice(detail: VhOrderInvoiceDetail) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n\r\n      this.invoice.setSubTotal()\r\n      this.isVisibleEditUnitPrice = false;\r\n    } else { this.vhComponent.showToast(5000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n  // -------set employee-------\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.setIdEmployee(event);\r\n    }\r\n  }\r\n\r\n\r\n  customer_class: any;\r\n  program_bill: any;\r\n  program_product: any;\r\n\r\n  /**\r\n   * hàm này để gán chương trình tich diem hóa đơn và sản phẩm của khách hàng\r\n   */\r\n  getClassAndProgram() {\r\n    this.customer = this.customer_online;\r\n    this.customer_class = this.customer_group.find(item => item._id == this.customer_online.id_customer_class);\r\n    if (this.customer_class && this.customer_class.id_earning_points_bill) {\r\n      this.program_bill = this.list_earning_point_bills.find(item => item._id == this.customer_class.id_earning_points_bill);\r\n    }\r\n    if (this.customer_class && this.customer_class.id_earning_points_product) {\r\n      this.program_product = this.list_earning_points_products.find(item => item._id == this.customer_class.id_earning_points_product);\r\n    }\r\n    if (!this.customer_class) {\r\n      this.program_bill = null;\r\n      this.program_product = null;\r\n    }\r\n    this.point_validity = this.customer_online.earned_points\r\n\r\n\r\n  }\r\n\r\n\r\n  closeAndGetValuePayment(event) {\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0]);\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n    }\r\n  }\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.setPaymentType(type);\r\n    console.log('setPaymentType');\r\n       \r\n    switch (type) {\r\n      case 1: {\r\n        this.invoice.setIdWallet('id_cash'); this.invoice.setPayment(this.invoice.getPayment() ? this.invoice.getPayment() : null);\r\n\r\n        break;\r\n      }\r\n      case 2: {\r\n        this.invoice.setPayment(0); this.invoice.setIdWallet(null);\r\n        this.invoice.setCash(0);\r\n\r\n        break;\r\n      }\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.setIdWallet(id_wallet)\r\n          this.invoice.setPayment(this.invoice.getPayment() ? this.invoice.getPayment() : null);\r\n\r\n          break;\r\n        }\r\n      }\r\n    };\r\n  }\r\n  isGotPromotion = false\r\n  \r\n  // -------change tax------\r\n  id_tax: string;\r\n  changeTax(event) {\r\n    let tax = this.listTax.find(item => item._id == event);\r\n    this.invoice.setTax(tax.value);\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n  discount_price: any;\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0 && this.discount_price.getRawValue() <= this.invoice.getSubTotal()) {\r\n      this.invoice.setDiscount(parseFloat(this.discount_price.getRawValue()));\r\n      this.percent_discount_bill = this.invoice.getSubTotal() ? (this.invoice.getDiscount() / this.invoice.getSubTotal()) * 100 : 0\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.getDiscount();\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n  openModalOtherDiscount() {\r\n    this.showModalOtherDiscount = true;\r\n  }\r\n\r\n  handleOkOtherDiscount() {\r\n    if (this.invoice.getPayment() < this.invoice.getDiscountOther()) this.invoice.setPayment(0);\r\n    this.showModalOtherDiscount = false;\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n  value_discount_point: number = 0;\r\n  point_validity: number = 0;\r\n  calculatePoint2Money(value) {\r\n    if (value <= this.point_validity) {\r\n      this.value_discount_point = value;\r\n\r\n      this.invoice.setDiscountPoint((value / this.customer_class.payment.points) * this.customer_class.payment.money)\r\n      this.invoice.setUsePoint(value)\r\n    }\r\n    else {\r\n      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vượt quá giới hạn điểm cho phép\"))\r\n    }\r\n  }\r\n\r\n  editPercentDiscount(value) {\r\n    if (parseFloat(value) > 100)\r\n      document.getElementById(\"percent-discount-price\")['value'] = 0\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n  product_codes: any = [];\r\n  getDiscountOfCoupon(code) {\r\n    if (code)\r\n      this.vhQueryCafe.getCoupon_Code_Name_Release_byCode(code)\r\n        .then((product_codes: any) => {\r\n          if (product_codes && !this.product_codes.find(item => item.code == code)) {\r\n            switch (product_codes.status) {\r\n              case 1: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này chưa được quy đổi\"))\r\n                break;\r\n              }\r\n              case 3: {\r\n                if (new Date() < new Date(product_codes.date_expire)) {\r\n                  this.product_codes.push(product_codes)\r\n                  this.invoice.setDiscountCoupon(product_codes.value)\r\n                  this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Sử dụng coupon thành công\"))\r\n                }\r\n                else {\r\n                  this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này đã hết hạn sử dụng\"), 8000)\r\n                }\r\n                break;\r\n              }\r\n              case 4: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này đã được sử dụng\"), 8000)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (!product_codes) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Không tìm thấy phiếu này\"), 8000)\r\n          setTimeout(() => {\r\n            document.getElementById('coupon').getElementsByTagName(\"input\")[0].value = '';\r\n          }, 200);\r\n        })\r\n\r\n  }\r\n\r\n  onCloseProductCode(item) {\r\n    this.product_codes.splice(this.product_codes.findIndex(i => i._id == item._id), 1);\r\n    this.invoice.setDiscountCoupon(-item.value)\r\n  }\r\n  invoice_fee: any;\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.setFee(parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.getFee();\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n  updateCash(cash: any) {\r\n    this.invoice.setCash(cash.replaceAll(',', ''))\r\n  }\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  // -------modal edit pay---------\r\n  edit_pay: boolean = false;\r\n  edit_paytotal: any;\r\n  showModalEditTotalPay() {\r\n    if (this.invoice.getPaymentType() != 2 && this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).debt_enable) {\r\n      this.vhAlgorithm.waitingStack().then(() => {\r\n        this.edit_paytotal = this.vhAlgorithm.vhnumeral(\".edit-pay\");\r\n      })\r\n      this.edit_pay = true;\r\n    }\r\n    else if (!this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).debt_enable) {\r\n      this.vhComponent.showToast(5000,\r\n        this.languageService.translate(\"This customer is not allowed to debt\"), \"alert-toast\"\r\n      )\r\n    }\r\n  }\r\n  handleEditPay() {\r\n    if (this.edit_paytotal.getRawValue() >= 0 && this.edit_paytotal.getRawValue() <= this.invoice.getTotalATax()) {\r\n      this.invoice.setPayment(parseFloat(this.edit_paytotal.getRawValue()))\r\n    }\r\n    this.edit_pay = false;\r\n  }\r\n  handleCancelEditPay() {\r\n    this.edit_pay = false;\r\n  }\r\n  payInvoice(bill_type: 1 = 1, print?) {\r\n    console.log(this.product_codes);\r\n    \r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (this.getTotalEarningPoint()) {\r\n        let earned_points = this.getTotalEarningPoint() - this.value_discount_point\r\n        this.vhQueryCafe.updateCustomer_byEarnedPoints(this.invoice.getIdPartner(), earned_points)\r\n        this.invoice.setEarningPointBill(this.getTotalEarningPoint())\r\n      }\r\n      if (print) {\r\n        if (this.checkPrinter) {\r\n          if (this.vhAuth.localStorageGET(\"show_confirm_pay\"))\r\n            this.nzModalService.confirm({\r\n              nzTitle: !print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`,\r\n              nzCancelText: this.languageService.translate(\"Cancel\"),\r\n              nzOkText: \"Ok\",\r\n              nzOnOk: () => {\r\n                this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                  this.createOrUpdate(36).then(() => {\r\n                    let bill = this.invoice.getCreateUpdateInvoice()\r\n                    let promise = new Array();\r\n                    for (let i = 0; i < this.product_codes.length; i++) {\r\n                      promise[i] = this.vhQueryCafe.updateCouponCode(this.product_codes[i]._id, { status: 4, id_bill: bill._id, date_used: new Date(), id_customer_used: bill.id_customer })\r\n                    }\r\n                    this.vhQuery.asyncPromiseAll(promise)\r\n                      .then(() => {\r\n                        if (bill.bill_code) this.invoice.setBillCode(bill.bill_code)\r\n                        this.vhComponent.hideLoading(0).then(() => {\r\n                          this.vhComponent.showToast(5000,\r\n                            `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                          )\r\n                          this.handlePrint()\r\n                        })\r\n                      }, error => {\r\n                        this.vhComponent.hideLoading(0).then(() => {\r\n                          this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n                        })\r\n                      })\r\n\r\n                  })\r\n                })\r\n              },\r\n              nzOnCancel: () => { },\r\n            })\r\n          else {\r\n            this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n              this.createOrUpdate(36).then(( ) => {\r\n                let bill = this.invoice.getCreateUpdateInvoice()\r\n\r\n                let promise = new Array();\r\n                for (let i = 0; i < this.product_codes.length; i++) {\r\n                  promise[i] = this.vhQueryCafe.updateCouponCode(this.product_codes[i]._id, { status: 4, id_bill: bill._id, date_used: new Date(), id_customer_used: bill.id_customer })\r\n                }\r\n                this.vhQuery.asyncPromiseAll(promise)\r\n                  .then(() => {\r\n\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.showToast(5000,\r\n                        `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                      )\r\n                      this.handlePrint()\r\n                    })\r\n                  }, error => {\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n                    })\r\n                  })\r\n\r\n              })\r\n            })\r\n\r\n          }\r\n        }\r\n        else {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n            nzIconType: \"info-circle\",\r\n            nzCancelText: null,\r\n            nzOnOk: () => { }\r\n          })\r\n        }\r\n      }\r\n      else {\r\n        if (this.vhAuth.localStorageGET(\"show_confirm_pay\"))\r\n          this.nzModalService.confirm({\r\n            nzTitle: !print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`,\r\n            nzCancelText: this.languageService.translate(\"Cancel\"),\r\n            nzOkText: \"Ok\",\r\n            nzOnOk: () => {\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.createOrUpdate(36).then(() => {\r\n                  let bill = this.invoice.getCreateUpdateInvoice()\r\n\r\n                  let promise = new Array();\r\n                  for (let i = 0; i < this.product_codes.length; i++) {\r\n                    promise[i] = this.vhQueryCafe.updateCouponCode(this.product_codes[i]._id, { status: 4, id_bill: bill._id, date_used: new Date(), id_customer_used: bill.id_customer })\r\n                  }\r\n                  this.vhQuery.asyncPromiseAll(promise)\r\n                    .then(() => {\r\n\r\n                      this.vhComponent.hideLoading(0).then(() => {\r\n                        this.vhComponent.showToast(5000,\r\n                          `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                        )\r\n                        this.handle()\r\n                      })\r\n                    }, error => {\r\n                      this.vhComponent.hideLoading(0).then(() => {\r\n                        this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n                      })\r\n                    })\r\n\r\n                })\r\n              })\r\n            },\r\n            nzOnCancel: () => { },\r\n          })\r\n        else {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.createOrUpdate(36).then(() => {\r\n              let bill = this.invoice.getCreateUpdateInvoice()\r\n\r\n              let promise = new Array();\r\n              for (let i = 0; i < this.product_codes.length; i++) {\r\n                promise[i] = this.vhQueryCafe.updateCouponCode(this.product_codes[i]._id, { status: 4, id_bill: bill._id, date_used: new Date(), id_customer_used: bill.id_customer })\r\n              }\r\n              this.vhQuery.asyncPromiseAll(promise)\r\n                .then(() => {\r\n\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.vhComponent.showToast(5000,\r\n                      `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n                    )\r\n                    this.handle()\r\n                  })\r\n                }, error => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n                  })\r\n                })\r\n\r\n            })\r\n          })\r\n\r\n        }\r\n      }\r\n\r\n    }\r\n    else this.vhComponent.showToast(5000, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n\r\n  deleteInvoice() {\r\n    this.vhComponent.showLoading('')\r\n      .then(() => {\r\n        this.vhQueryCafe.deleteBill_Billdetail(this.invoice.getID())\r\n          .then((bool) => {\r\n            if (bool) {\r\n              this.vhComponent.hideLoading(0)\r\n              console.log('success');\r\n              this.goBack()\r\n            } else {\r\n              console.log('no success');\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error ', error);\r\n          })\r\n      })\r\n\r\n  }\r\n  createOrUpdate(bill_type: 36) {\r\n    return new Promise(resolve => {\r\n      let invoice = { ...this.invoice.getCreateUpdateInvoice(36) }\r\n      console.log('bill ',invoice);\r\n      console.log('bill_detail ',this.invoice.getCreateUpdateInvoiceDetail());\r\n      this.vhQueryCafe.updateBill_Billdetail(this.invoice.getID(), invoice, this.invoice.getCreateUpdateInvoiceDetail())\r\n        .then(() => {\r\n          resolve(this.vhQueryCafe.saveBill_Billdetail(this.invoice.getID(), 1))\r\n        }).catch(er => console.log(er)\r\n        )\r\n    })\r\n\r\n\r\n  }\r\n\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(false)\r\n\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  handle() {\r\n    this.isExit = true;\r\n    this.router.navigate(['/cafe/bill-web-app/sales-order'])\r\n  }\r\n  handlePrint() {\r\n    this.invoice.getInvoiceDetail().forEach(e => {\r\n      if (e.products_gift) e.products_gift = e.products_gift.filter(item => item.choose)\r\n    })\r\n\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: { ...printer, name: \"Sales\" }, invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.handle())\r\n        })\r\n\r\n    }, (err) => {\r\n      this.nzModalService.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => { this.handle() }\r\n      })\r\n    })\r\n  }\r\n  note: string;\r\n  edit_note() {\r\n    if (this.note) {\r\n      this.invoice.setNote(this.note)\r\n    }\r\n  }\r\n\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    this.visibleInfoCustomer = true;\r\n  }\r\n  closeInfoCustomer(event) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n\r\n  // ------thoát trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n  showProductGift = false;\r\n  product_gift_type7: any = [];\r\n  showProductGiftType7 = false;\r\n  gotten_gift_type7 = false;\r\n  bill_details_pmtype_7: any = [];\r\n  handleAddGiftType7() {\r\n    // this.showProductGiftType7 = false;\r\n    // if (!this.gotten_gift_type7)\r\n    //   for (let i in this.product_gift_type7) {\r\n    //     // this.product_gift_type7[i].products_gift = this.product_gift_type7[i].products_gift.filter(item => item.choose).map(e => { return { ...e } })\r\n    //     if (this.product_gift_type7[i].products_gift.length) this.invoice.addBill_detail_promotion(this.product_gift_type7[i])\r\n    //   }\r\n    // console.log(this.invoice.getInvoiceDetail());\r\n    // this.gotten_gift_type7 = true;\r\n  }\r\n  /**\r\n   * hàm lấy quà\r\n   */\r\n  getPromotions() {\r\n    // this.gotten_gift_type7 = false;\r\n    // this.vhComponent.showLoading('')\r\n    //   .then(() => {\r\n    //     this.vhQueryCafe.changeBillDetails_withPromotions(this.invoice.getInvoiceDetail(), this.invoice.getDate()).then((bill_details_display: any) => {\r\n    //       console.log(bill_details_display);\r\n    //       this.handleChooseLotForPromotion(bill_details_display.bill_details_pmtype_0to6)\r\n    //       this.handleChooseLotForPromotion(bill_details_display.bill_details_pmtype_7)\r\n\r\n    //       this.bill_details_pmtype_7 = this.vhAlgorithm.sortNumberbyASC([...bill_details_display.bill_details_pmtype_7], 'total_bill_value')\r\n    //       this.isGotPromotion = true;\r\n    //       this.vhComponent.hideLoading(0)\r\n    //       this.invoice = new VhSaleInvoices(this.invoice.getCreateUpdateInvoice(5), [...bill_details_display.bill_details_pmtype_0to6,], this.vhQueryCafe);\r\n    //       // if (bill_details_display.filter(item => item.products_gift).length) this.showProductGift = true;\r\n    //       this.getEarningpointPromotion();\r\n\r\n    //       // this.product_gift_type7 = [...bill_details_display.bill_details_pmtype_7]\r\n    //       this.handlePromotionType7(this.bill_details_pmtype_7)\r\n\r\n    //     }, error => {\r\n    //       this.vhComponent.hideLoading(0).then(() => {\r\n    //         this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n    //       })\r\n    //     })\r\n    //   })\r\n  }\r\n\r\n  handlePromotionType7(bill_details_pmtype_7) {\r\n    if (bill_details_pmtype_7.length)\r\n      if (bill_details_pmtype_7.findLastIndex(e => e.total_bill_value <= this.invoice.getTotalATax()) != -1)\r\n        this.product_gift_type7 = [bill_details_pmtype_7[bill_details_pmtype_7.findLastIndex(e => e.total_bill_value <= this.invoice.getTotalATax())]]\r\n      else this.product_gift_type7 = []\r\n    else this.product_gift_type7 = []\r\n    console.log(this.product_gift_type7);\r\n\r\n  }\r\n\r\n  handleChooseLotForPromotion(promotion) {\r\n    for (let i of promotion) {\r\n      if (i.products_gift) {\r\n        for (let product of i.products_gift) {\r\n          if (product.lots && product.lots.length) {\r\n            let min_date_exp = this.vhAlgorithm.sortDatebyASC(product.lots, 'date_exp')\r\n            product['id_lotproduct'] = min_date_exp[0]._id;\r\n            product['lot_number'] = min_date_exp[0].lot_number;\r\n          }\r\n          if (product.combos) {\r\n            product.combos.forEach(element => {\r\n              if (element.lots && element.lots.length) {\r\n                let min_date_exp = this.vhAlgorithm.sortDatebyASC(element.lots, 'date_exp')\r\n                element['id_lotproduct'] = min_date_exp[0]._id;\r\n                element['lot_number'] = min_date_exp[0].lot_number;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * hàm này để get SubTotal mới của mảng đã lấy quà\r\n   * đồng thời gán điểm tích lũy sản phẩm mới của các sản phẩm trong khuyến mãi nếu có\r\n   */\r\n  getEarningpointPromotion() {\r\n    // for (let i of this.invoice.getInvoiceDetail()) {\r\n    //   if (i.products_gift) {\r\n    //     for (let product of i.products_gift) {\r\n    //       product.earning_points_product = this.getTotalEarningPointProduct(i, true);\r\n    //     }\r\n    //   }\r\n    //   if (i.products) {\r\n    //     for (let product of i.products) {\r\n    //       product.earning_points_product = this.getTotalEarningPointProduct(i, true)\r\n    //     }\r\n    //   }\r\n    //   if (!i.id_promotion) i.earning_points_product = this.getTotalEarningPointProduct(i, null)\r\n    // }\r\n    // this.invoice.setSubTotal()\r\n  }\r\n\r\n  /**\r\n   * hàm này để kiểm tra disable sản phẩm tặng hay ko\r\n   * @param data phần tử trong mảng đã lấy quà\r\n   * @returns\r\n   */\r\n  checkDisableChooseProductGift(data) {\r\n    if (data.products_gift.filter(item => item.choose).length == data.promotions_maximum) return true;\r\n    else return false\r\n  }\r\n\r\n  show_modal_select_lots = false;\r\n  list_search_lot = [];\r\n\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  searchLot(value) {\r\n    this.tempDetail.lots = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.list_search_lot, ['lot_number'])\r\n  }\r\n  openModalChooseLot(data) {\r\n    this.tempDetail = data\r\n    this.list_search_lot = this.tempDetail.lots\r\n    if (!this.list_search_lot.length) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Sản phẩm này không có lô khả dụng để bán!\"))\r\n    else this.show_modal_select_lots = true;\r\n  }\r\n\r\n  changeLot(e) {\r\n    this.tempDetail.lot_number = this.tempDetail.lots.find(item => item._id == e).lot_number\r\n  }\r\n\r\n  handleChooseLot() {\r\n    if (this.warning_lot_expried) {\r\n      let lot_select = this.list_search_lot.find(e => e._id == this.tempDetail.id_lotproduct)\r\n      if (new Date().getTime() >= new Date(lot_select.date_exp).getTime()) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Lô này đã hết hạn! Tiếp tục bán sản phẩm này?\"),\r\n          nzOnOk: () => {\r\n            this.show_modal_select_lots = false;\r\n            this.tempDetail.lots = this.list_search_lot;\r\n            if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n          },\r\n          nzOnCancel: () => {\r\n            // this.show_modal_select_lots = false;\r\n            // this.tempDetail.lots = this.list_search_lot;\r\n          }\r\n\r\n        })\r\n      }\r\n      else {\r\n        this.show_modal_select_lots = false;\r\n        this.tempDetail.lots = this.list_search_lot;\r\n        if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n      }\r\n    }\r\n    else {\r\n      this.show_modal_select_lots = false;\r\n      this.tempDetail.lots = this.list_search_lot;\r\n      if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n    }\r\n  }\r\n\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.tempDetail.lots = this.list_search_lot\r\n  }\r\n\r\n\r\n  handleChooseLotCombo() {\r\n    if (this.tempDetail.combos.filter(item => item.lots && !item.id_lotproduct).length)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Vui lòng chọn lô cho sản phẩm thuộc combo này\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n  /**\r\n  *  sự kiện nhận thay đổi giá từ output component app-change-price-type\r\n  * @event : boolean | null\r\n  */\r\n   changePriceType(event) {\r\n    this.showModalChangePriceType = false;\r\n    if (event != null) { // nếu có thay đổi kiểu giá bán thì cập nhật lại giá các sản phẩm thành giá bán sỉ\r\n      this.default_price_type = event;\r\n      this.deletePromotion().then(() => {\r\n        if (this.invoice.getInvoiceDetail().length) { // nếu có  length mơi update\r\n          let bill_details = this.invoice.getInvoiceDetail()\r\n          for (let i in bill_details) {\r\n            let price_update = 0;\r\n            let product = this.vhQueryCafe.getlocalDetailProduct(bill_details[i].id_subproduct ? bill_details[i].id_subproduct : bill_details[i].id_product);\r\n            product = { ...product, ...this.vhQueryCafe.getUnit_byRatio(product.units, bill_details[i].ratio) }\r\n            if (event == 1) {\r\n              price_update = product.price\r\n            }\r\n            else {\r\n              price_update = product.price2 ? product.price2 : product.price\r\n            }\r\n            bill_details[i].price = price_update;\r\n            bill_details[i].price_origin = price_update;\r\n          }\r\n          this.invoice.setSubTotal();\r\n        }\r\n        this.invoice.setPriceType(event)\r\n      })\r\n    }\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\" >\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{\"Select product\" | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    \r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"openSearchProductList()\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search (F4)' | translate}}</button>\r\n                    </div>\r\n                     \r\n                    <div>\r\n                        <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n                          <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                          {{'Delete' | translate}}</button>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"!invoice.getInvoiceDetail().length\" class=\"no-data\">\r\n                    <p>{{'Please select a product' | translate}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n\r\n                <ng-container>\r\n                    <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getInvoiceDetail(),index as i\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"24\">\r\n                                <ng-container [ngSwitch]=\"item.pmtype\">\r\n                                    <ng-container *ngSwitchCase=\"1\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products\">\r\n                                            <div nz-col nzSpan=\"1\">\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{data.name}}</p>\r\n                                                \r\n                                                <p *ngIf=\"data.combos\">\r\n                                                    <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                        style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                        {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                        combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                    </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                    <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                    <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                </nz-select> -->\r\n                                                {{data.unit}}\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                {{data.quantity}}\r\n                                                <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(data)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{data.price_origin > data.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"2\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products\">\r\n                                            <div nz-col nzSpan=\"1\"></div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{data.name}}</p>\r\n                                               \r\n                                                <p *ngIf=\"data.combos\">\r\n                                                    <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                    combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                    <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                    <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                </nz-select> -->\r\n                                                {{data.unit}}\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                {{data.quantity}}\r\n                                                <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(data)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{data.price_origin > data.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"3\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products\">\r\n                                            <div nz-col nzSpan=\"1\"></div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{data.name}}</p>\r\n                                                \r\n                                                <p *ngIf=\"data.combos\">\r\n                                                    <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                        style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                        {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                        combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                    </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                    <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                    <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                </nz-select> -->\r\n                                                {{data.unit}}\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                {{data.quantity}}\r\n                                                <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(data)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{data.price_origin > data.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"4\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products\">\r\n                                            <div nz-col nzSpan=\"1\"></div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{data.name}}</p>\r\n                                                \r\n                                                <p *ngIf=\"data.combos\">\r\n                                                    <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                    combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                    <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                    <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                </nz-select> -->\r\n                                                {{data.unit}}\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                {{data.quantity}}\r\n                                                <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(data)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{data.price_origin > data.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"5\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products\">\r\n                                            <div nz-col nzSpan=\"1\"></div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{data.name}}</p>\r\n                                                 \r\n                                                <p *ngIf=\"data.combos\">\r\n                                                    <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                    combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                    <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                    <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                </nz-select> -->\r\n                                                {{data.unit}}\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                {{data.quantity}}\r\n                                                <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(data)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{data.price_origin > data.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"6\">\r\n                                        <div nz-row *ngIf=\"item.products.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}} <i nz-icon\r\n                                                        nzType=\"gift\" nzTheme=\"outline\" style=\"cursor: pointer;\"\r\n                                                        (click)=\"showProductGift = true\"></i></p>\r\n\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                         \r\n                                        <div nz-row *ngFor=\"let data of item.products_gift\">\r\n                                            <ng-container *ngIf=\"data.choose\">\r\n\r\n                                                <div nz-col nzSpan=\"1\"></div>\r\n                                                <div nz-col nzSpan=\"8\">\r\n                                                    <i style=\"margin-bottom: 0;\">{{data.name}}</i>\r\n                                                   \r\n                                                    <p *ngIf=\"data.combos\">\r\n                                                        <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                        style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                        {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                        combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                    </span>\r\n                                                    </p>\r\n\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                    <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                        <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                        <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                    </nz-select> -->\r\n                                                    {{data.unit}}\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                    {{data.quantity}}\r\n                                                    <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                        (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                                </div>\r\n                                                <div (click)=\"openEditUnitPrice(data)\"\r\n                                                    class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                    <p class=\"max-width-two-line\"\r\n                                                        style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                        <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                        <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                            *ngIf=\"display_promotion_selling_price\">\r\n                                                            {{data.price_origin > data.price ?\r\n                                                            vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                            ''}}\r\n                                                        </del>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                    <p class=\"max-width-two-line\">\r\n                                                        <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </ng-container>\r\n\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchCase=\"7\">\r\n                                        <div nz-row *ngIf=\"item.products_gift.length\">\r\n                                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                                (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"23\">\r\n                                                <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}} <i nz-icon\r\n                                                        nzType=\"gift\" nzTheme=\"outline\" style=\"cursor: pointer;\"\r\n                                                        (click)=\"showProductGiftType7 = true\"></i></p>\r\n\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div nz-row *ngFor=\"let data of item.products_gift\">\r\n                                            <ng-container *ngIf=\"data.choose\">\r\n\r\n                                                <div nz-col nzSpan=\"1\"></div>\r\n                                                <div nz-col nzSpan=\"8\">\r\n                                                    <i style=\"margin-bottom: 0;\">{{data.name}}</i>\r\n                                                     \r\n                                                    <p *ngIf=\"data.combos\">\r\n                                                        <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                        style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                        {{ i == data.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                        combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                    </span>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"3\" style=\"text-align: center;\">\r\n                                                    <!-- <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.unit_exchange\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                        <nz-option  [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option>\r\n                                                        <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"idx\"></nz-option>\r\n                                                    </nz-select> -->\r\n                                                    {{data.unit}}\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"4\" style=\"text-align: center;\">\r\n                                                    {{data.quantity}}\r\n                                                    <!-- <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                                        (ngModelChange)=\"checkQuantityProduct(item,$event)\" id=\"quantity\"></nz-input-number> -->\r\n                                                </div>\r\n                                                <div (click)=\"openEditUnitPrice(data)\"\r\n                                                    class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                    <p class=\"max-width-two-line\"\r\n                                                        style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                        <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                                        <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                            *ngIf=\"display_promotion_selling_price\">\r\n                                                            {{data.price_origin > data.price ?\r\n                                                            vhAlgorithm.vhcurrencyunit(data.price_origin) :\r\n                                                            ''}}\r\n                                                        </del>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                    <p class=\"max-width-two-line\">\r\n                                                        <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </ng-container>\r\n\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngSwitchDefault>\r\n                                        <div nz-row>\r\n                                            <div nz-popconfirm\r\n                                                nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{item.name}}\"\r\n                                                (nzOnConfirm)=\"deleteGoods(item)\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                                nz-col nzSpan=\"1\">\r\n                                                <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                    style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"8\">\r\n                                                <p style=\"margin-bottom: 0;\">{{item.name}}</p>\r\n                                                \r\n                                                <p *ngIf=\"item.combos\">\r\n                                                    <span *ngFor=\"let combo of item.combos;index as i\"\r\n                                                        style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                        {{ i == item.combos.length-1 ? combo.quantity + 'x ' +combo.name:\r\n                                                        combo.quantity + 'x ' + combo.name +\" ,\"}}\r\n                                                    </span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"3\">\r\n                                                 \r\n                                                <!-- {{item.unit}} -->\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <!-- {{item.quantity}} -->\r\n                                                <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\"\r\n                                                    [(ngModel)]=\"item.quantity\"\r\n                                                    (ngModelChange)=\"checkQuantityProduct(item,$event )\" id=\"quantity\">\r\n                                                </nz-input-number>\r\n                                            </div>\r\n                                            <div (click)=\"openEditUnitPrice(item)\"\r\n                                                class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\">\r\n                                                <p class=\"max-width-two-line\"\r\n                                                    style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; margin-left: 16px;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                                    <del style=\"margin-left:5px;font-size: 0.8rem;\"\r\n                                                        *ngIf=\"display_promotion_selling_price\">\r\n                                                        {{item.price_origin > item.price ?\r\n                                                        vhAlgorithm.vhcurrencyunit(item.price_origin) :\r\n                                                        ''}}\r\n                                                    </del>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div nz-col nzSpan=\"4\" style=\"text-align: right;\">\r\n                                                <p class=\"max-width-two-line\">\r\n                                                    <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                </ng-container>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n            <div nz-row>\r\n                <div>\r\n                    <button nz-button nzType=\"primary\" (click)=\"getPromotions()\">\r\n                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Promotions' | translate}}</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"sales-best-selling\" *ngIf=\"showBestSelling\" style=\"padding: 0 8px;\">\r\n            <app-best-selling (chooseBestSelling)=\"closeSearchProductList($event)\"\r\n                [default_price_type]=\"default_price_type\">\r\n            </app-best-selling>\r\n        </div> -->\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.getIdEmployee()\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\"  nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <div class=\"sales-bills-customer-title\">\r\n                    <b>{{'Customer information' | translate}}\r\n                    </b>\r\n                </div>\r\n            \r\n                <div nz-col nzSpan=\"24\">\r\n                    {{customer_online.name}} - {{customer_online.phone}} {{customer_online.address ? '-':\r\n                        ''}} {{invoice.getRetailAddress()}}\r\n                   \r\n\r\n                </div>\r\n                <div nz-col nzSpan=\r\n                \"24\"  style=\"display: flex; justify-content: space-between;margin: 8px 0;\">\r\n                    <span>\r\n                        {{'Accumulated points' | translate}} : <b>{{point_validity}}</b>\r\n                    </span>\r\n                    <span>\r\n                        {{'Plus' | translate}} : <b>{{getTotalEarningPoint()}}</b>\r\n                    </span>\r\n                </div>\r\n                \r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;\">\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <span (click)=\"openModalOtherDiscount()\" style=\"cursor: pointer;color: var(--ion-color-vh-green);\">\r\n                        <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                        {{'Add other payment' |translate}}\r\n                    </span>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n\r\n                <ng-container *ngIf=\"vhAuth.localStorageGET('show_discount')\">\r\n                    <div class=\"sales-bills-content-discount\"\r\n                        style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n                        <div style=\"width: auto;\">{{'Discount value' | translate}}</div>\r\n                        <div>\r\n                            <input id=\"percent-discount-price\" style=\"width: 50px;\" #percentDiscount type=\"number\"\r\n                                max=\"100\" min=\"0\" step=\"1\"\r\n                                (blur)=\"invoice.setPercentDiscountBill(percentDiscount.value); editPercentDiscount(percentDiscount.value)\"\r\n                                [value]=\"percent_discount_bill | number:'1.0-2'\" class=\"border_bottom \" maxlength=\"3\"\r\n                                nz-input />%\r\n                        </div>\r\n                        <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getDiscount())\"\r\n                            class=\"border_bottom discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\"\r\n                            nz-input />\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <div *ngIf=\"discount_bill >0\" class=\"sales-bills-content-discount\"\r\n                    style=\"display: flex;justify-content: space-between;align-items: center;\" nz-col nzSpan=\"24\">\r\n                    <div style=\"width: auto;\">{{'Discount' | translate}}\r\n                    </div>\r\n                    <span>{{vhAlgorithm.vhcurrencyunit(discount_bill)}}</span>\r\n                </div>\r\n                <div *ngIf=\"invoice.getDiscountPoint()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Point payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountPoint())}}</div>\r\n                </div>\r\n                <div *ngIf=\"invoice.getDiscountCoupon()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Coupon payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountCoupon())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getFee())\"\r\n                        class=\"border_bottom invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>\r\n                        <nz-select *ngIf=\"listTax.length\" [(ngModel)]=\"id_tax\" (ngModelChange)=\"changeTax($event)\"\r\n                            nzBorderless>\r\n                            <nz-option *ngFor=\"let item of listTax\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"7\" style=\"text-align: end;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div>\r\n                        <b>{{'Pay' | translate}}</b>\r\n                        <ng-container *ngIf=\"product_gift_type7.length && !gotten_gift_type7\">\r\n                            <i style=\"font-size: 1rem;  margin-left: 8px; cursor: pointer;color: var(--ion-color-vh-green)\"\r\n                                nz-icon nzType=\"gift\" nzTheme=\"outline\" (click)=\"showProductGiftType7 = true\"></i>\r\n                        </ng-container>\r\n\r\n                    </div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit(invoice.getPayment())}}<img (click)=\"showModalEditTotalPay()\"\r\n                            *ngIf=\"invoice.getPaymentType() != 2\" style=\"width: 16px;margin-left:10px\"\r\n                            src=\"assets/icon/Iconfeather-edit.svg\" /></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}\r\n                    </div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <app-tax [payment_type]=\"invoice.getPaymentType()\" [id_wallet]=\"invoice.getIdWallet()\"\r\n                        [id_customer]=\"invoice.getIdPartner()\"\r\n                        (closeAndGetValuePayment)=\"closeAndGetValuePayment($event)\">\r\n                    </app-tax>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\"\r\n                    style=\"margin-top: 10px;\">\r\n                    <div>{{'cash' | translate}}</div>\r\n                    <input style=\"text-align: end;width: 35%;\" type=\"text\" #cash maxlength=\"15\" nz-input\r\n                        [disabled]=\"invoice.getPaymentType() == 2\"\r\n                        [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getCash())\" class=\"customerPay border_bottom\"\r\n                        (keyup)=\"updateCash(cash.value)\" />\r\n                </div>\r\n                <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div>{{'Change' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getExcessCash())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"note\" (blur)=\"edit_note()\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!invoice.getCreateUpdateInvoiceDetail().length\" (click)=\"payInvoice(1,true)\"\r\n                    nz-button class=\"order-and-print\">\r\n                    {{\"Pay & Print\"|translate}} (F2)\r\n                </button>\r\n                <button [disabled]=\"!invoice.getCreateUpdateInvoiceDetail().length\" (click)=\"payInvoice(1,false)\"\r\n                    nz-button class=\"order\">\r\n                    {{\"Pay\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- -----nz-drawer list-product-------- -->\r\n<!-- Search product -->\r\n<app-search-product [searchProductList]=\"searchProductList\" (closeSearchProductList)=\"closeSearchProductList($event)\"\r\n    [default_price_type]=\"default_price_type\">\r\n</app-search-product>\r\n\r\n<!--Modal edit unit price-->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice\" *ngIf=\"isVisibleEditUnitPrice\" [(nzVisible)]=\"isVisibleEditUnitPrice\"\r\n    nzTitle=\"{{'Edit unit price' | translate}}\" (nzOnCancel)=\"handleCancelEditUnit()\" (nzOnOk)=\"handleEditUnit()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Unit price' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input class=\"unit_price\" type=\"text\" maxlength=\"15\" [value]=\"tempDetail.price\" nz-input\r\n                    placeholder=\"{{'Enter unit price' | translate}}\" (keyup.enter)=\"handleEditUnit()\" />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditUnit()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditUnit()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!--Modal edit pay-->\r\n<nz-modal [(nzVisible)]=\"edit_pay\" [nzFooter]=\"modalFooterEditPay\" nzTitle=\"{{'Edit' | translate}}\"\r\n    (nzOnCancel)=\"handleCancelEditPay()\" (nzOnOk)=\"handleEditPay()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Pay' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getPayment())\" class=\"edit-pay\" type=\"text\"\r\n                    maxlength=\"15\" nz-input />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditPay>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditPay()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditPay()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- MOdal giảm giá khác (coupon hoặc đổi điểm) -->\r\n<nz-modal [(nzVisible)]=\"showModalOtherDiscount\" nzTitle=\"{{'Other payment' | translate}}\" nzWidth=\"50vw\"\r\n    (nzOnCancel)=\"showModalOtherDiscount = false\" nzCancelText=\"\" (nzOnOk)=\"handleOkOtherDiscount()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\">\r\n            <div nz-col nzSpan=\"6\">\r\n                {{\"Coupon\" | translate}}\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" id=\"coupon\" style=\"display: flex;\">\r\n                <input #coupon nz-input placeholder=\"{{'Enter or scan code' | translate}}\"\r\n                    (keyup.enter)=\"getDiscountOfCoupon(coupon.value)\" />\r\n                <button style=\"margin-left: 8px;\" nz-button nzType=\"primary\"\r\n                    (click)=\"getDiscountOfCoupon(coupon.value)\">{{'Apply'| translate}}</button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" class=\"text-end\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoice.getDiscountCoupon())}}\r\n            </div>\r\n        </div>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"6\"></div>\r\n            <div nz-col nzSpan=\"18\">\r\n                <nz-tag *ngFor=\"let item of product_codes\" [nzColor]=\"'green'\" nzMode=\"closeable\"\r\n                     >{{item.code}}</nz-tag>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"customer_class?.payment.enable\">\r\n            <div nz-row class=\"center-all-content mt-8\">\r\n                <div nz-col nzSpan=\"6\">\r\n                    {{\"Accumulated points\" | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-input-number [(ngModel)]=\"value_discount_point\" style=\"width: 100%;\" #point\r\n                        nzPlaceHolder=\"{{'Enter points' | translate}}\" [nzMin]=\"0\" [nzMax]=\"point_validity\" [nzStep]=\"1\"\r\n                        (keyup)=\"calculatePoint2Money(point['value'])\"></nz-input-number>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"text-end\">\r\n                    {{vhAlgorithm.vhcurrencyunit(invoice.getDiscountPoint())}}\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"mt-8\">\r\n                <div nz-col nzSpan=\"14\">\r\n                    <label>{{\"Point conversion rate\" | translate}}:\r\n                        {{customer_class.payment.points}} Điểm =\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(customer_class.payment.money)}}</label>\r\n                </div>\r\n                <div nz-col nzSpan=\"10\" class=\"text-end\">\r\n                    {{'Current accumulated points' | translate}} : {{point_validity }}\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <div nz-row class=\"mt-8 beetween-all-content\">\r\n            <b>{{'Total discount' | translate}}</b>\r\n            <b>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountOther())}}</b>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n<!-- modal chọn sản phẩm tặng -->\r\n<nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"showProductGift\" nzTitle=\"{{'Chọn quà tặng'}}\"\r\n    (nzOnCancel)=\"showProductGift = false\" (nzOnOk)=\"showProductGift = false;getEarningpointPromotion()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"invoice.getInvoiceDetail()\" [nzShowPagination]=\"false\"\r\n            [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <!-- <th>{{'Lot number' | translate}}</th> -->\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                    <th>{{'Functions' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let item of basicTable.data\">\r\n                    <ng-container *ngIf=\"item.pmtype == 6\">\r\n                        <tr>\r\n                            <td colspan=\"5\"><b>{{ item.name }}</b> ({{'_Selected gift quantity' | translate}}: {{\r\n                                item.promotions_maximum }})</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"5\">\r\n                                <b>{{ 'List of purchased products' | translate }} :</b> <br>\r\n                                <span *ngFor=\"let data of item.products\">\r\n                                    {{data.name}}({{data.unit}}) x{{data.quantity}} <br>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"5\">\r\n                                <b>{{ 'List of gifted products' | translate }} :</b>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let data of item.products_gift\">\r\n                            <tr>\r\n                                <td>\r\n                                    {{ data.name }}\r\n                                    <ng-container *ngIf=\"data.lots\">\r\n                                        <br> {{'Lot number' | translate}}:\r\n                                        <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                            [(ngModel)]=\"data.id_lotproduct\">\r\n                                            <nz-option *ngFor=\"let element of data.lots\"\r\n                                                nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                [nzValue]=\"element._id\"></nz-option>\r\n                                        </nz-select>\r\n                                    </ng-container>\r\n\r\n\r\n                                </td>\r\n\r\n                                <td>{{ getUnit(data.units, data.ratio) }}</td>\r\n                                <td>{{ data.quantity }}</td>\r\n                                <td>\r\n                                    {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n                                    <del>{{vhAlgorithm.vhcurrencyunit(data.price_origin)}}</del>\r\n                                </td>\r\n                                <td>\r\n                                    <nz-switch [(ngModel)]=\"data.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !data.choose\"></nz-switch>\r\n                                </td>\r\n                            </tr>\r\n                            <ng-container *ngIf=\"data.ptype == 5\">\r\n                                <tr *ngFor=\"let combo of data.combos\">\r\n                                    <td>- {{ combo.name }}\r\n                                        <ng-container *ngIf=\"combo.lots\">\r\n                                            <br> {{'Lot number' | translate}}:\r\n                                            <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                                [(ngModel)]=\"combo.id_lotproduct\">\r\n                                                <nz-option *ngFor=\"let element of combo.lots\"\r\n                                                    nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                    [nzValue]=\"element._id\"></nz-option>\r\n                                            </nz-select>\r\n                                        </ng-container>\r\n                                    </td>\r\n\r\n                                    <td>{{ getUnit(combo.units, combo.ratio) }}</td>\r\n                                    <td>{{ combo.quantity }}</td>\r\n                                    <td>\r\n                                        {{vhAlgorithm.vhcurrencyunit(combo.price) }}\r\n                                        <!-- <del>{{vhAlgorithm.vhcurrencyunit(combo.price_origin)}}</del> -->\r\n                                    </td>\r\n                                    <td>\r\n                                        <!-- <nz-switch [(ngModel)]=\"combo.choose\"\r\n                                            [nzDisabled]=\"checkDisableChooseProductGift(item) && !combo.choose\"></nz-switch> -->\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n<!-- modal chọn sản phẩm tặng type 7 -->\r\n<nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"showProductGiftType7\" nzTitle=\"{{'Chọn quà tặng'}}\"\r\n    (nzOnCancel)=\"showProductGiftType7 = false\" (nzOnOk)=\"showProductGiftType7 = false;handleAddGiftType7()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"product_gift_type7\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <!-- <th>{{'Lot number' | translate}}</th> -->\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                    <th>{{'Functions' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let item of basicTable.data\">\r\n                    <ng-container *ngIf=\"item.products_gift\">\r\n                        <tr>\r\n                            <td colspan=\"5\"><b>{{ item.name }}</b> ({{'_Selected gift quantity' | translate}}: {{\r\n                                item.promotions_maximum }})</td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let data of item.products_gift\">\r\n                            <tr>\r\n                                <td>\r\n                                    {{ data.name }}\r\n                                    <ng-container *ngIf=\"data.lots\">\r\n                                        <br> {{'Lot number' | translate}}:\r\n                                        <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                            [(ngModel)]=\"data.id_lotproduct\">\r\n                                            <nz-option *ngFor=\"let element of data.lots\"\r\n                                                nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                [nzValue]=\"element._id\"></nz-option>\r\n                                        </nz-select>\r\n                                    </ng-container>\r\n                                </td>\r\n                               \r\n                                <td>{{ getUnit(data.units, data.ratio) }}</td>\r\n                                <td>{{ data.quantity }}</td>\r\n                                <td>\r\n                                    {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n                                    <del>{{vhAlgorithm.vhcurrencyunit(data.price_origin)}}</del>\r\n                                </td>\r\n                                <td>\r\n                                    <nz-switch [(ngModel)]=\"data.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !data.choose\"></nz-switch>\r\n                                </td>\r\n                            </tr>\r\n                            <ng-container *ngIf=\"data.ptype == 5\">\r\n                                <tr *ngFor=\"let combo of data.combos\">\r\n                                    <td>- {{ combo.name }}\r\n                                        <ng-container *ngIf=\"combo.lots\">\r\n                                            <br> {{'Lot number' | translate}}:\r\n                                            <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                                [(ngModel)]=\"combo.id_lotproduct\">\r\n                                                <nz-option *ngFor=\"let element of combo.lots\"\r\n                                                    nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                    [nzValue]=\"element._id\"></nz-option>\r\n                                            </nz-select>\r\n                                        </ng-container>\r\n                                    </td>\r\n\r\n                                    <td>{{ getUnit(combo.units, combo.ratio) }}</td>\r\n                                    <td>{{ combo.quantity }}</td>\r\n                                    <td>\r\n                                        {{vhAlgorithm.vhcurrencyunit(combo.price) }}\r\n                                        <!-- <del>{{vhAlgorithm.vhcurrencyunit(combo.price_origin)}}</del> -->\r\n                                    </td>\r\n                                    <td>\r\n                                        <!-- <nz-switch [(ngModel)]=\"combo.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !combo.choose\"></nz-switch> -->\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n\r\n<!-- modal chọn lô/HSD -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue\r\n                    (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"tempDetail.id_lotproduct\" (ngModelChange)=\"changeLot($event)\"\r\n            style=\"width:100%;padding: 8px 0;\">\r\n            <div nz-row *ngFor=\"let item of tempDetail.lots\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"6\">\r\n                                {{item.lot_number}}\r\n                            </div>\r\n\r\n                            <div nz-col nzSpan=\"6\">\r\n                                NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"6\">\r\n                                HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"6\" class=\"ion-text-end\">\r\n                                {{'Stock' | translate}}:\r\n                                <span\r\n                                    style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/tempDetail.ratio\r\n                                    | number : '1.0-2'}}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </label>\r\n                </div>\r\n\r\n            </div>\r\n        </nz-radio-group>\r\n        <div *ngIf=\"!tempDetail.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" [disabled]=\"!tempDetail.id_lotproduct\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal nzWidth=\"70vw\" *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\"\r\n    [(nzVisible)]=\"show_modal_select_lots_combo\"\r\n    nzTitle=\"{{'Select lot number for products in combo' | translate}}: {{tempDetail.name}}\"\r\n    (nzOnCancel)=\"show_modal_select_lots_combo = false\" (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail.combos\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\">{{\"Product name\" | translate}}</th>\r\n                    <th nzWidth=\"30%\">{{'Lot number' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Unit' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Quantity' | translate}}</th>\r\n                    <th nzWidth=\"20%\" nzAlign=\"right\">{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n                    <ng-container *ngIf=\"data.lots\">\r\n\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                    [(ngModel)]=\"data.id_lotproduct\" style=\"width: 100%;\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\"\r\n                                        nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\"\r\n                                        [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td nzAlign=\"right\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"show_modal_select_lots_combo = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- đổi giá bán -->\r\n<app-change-price-type *ngIf=\"showModalChangePriceType\" [showModalChangePriceType]=\"showModalChangePriceType\"\r\n    (changePriceType)=\"changePriceType($event)\" [default_price_type]=\"default_price_type\"></app-change-price-type>\r\n","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe, VhQuery } from 'ionic-vhframeworks';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component'; \r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { VhOrderInvoice, VhOrderInvoiceDetail, VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\n\r\n@Component({\r\n  selector: 'app-invoice-detail',\r\n  templateUrl: './detail-invoice.component.html',\r\n  styleUrls: ['./detail-invoice.component.scss']\r\n})\r\nexport class DetailInvoiceComponent {\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  invoiceToday : any = this.router.getCurrentNavigation().extras.state.invoiceToday\r\n  constructor(\r\n    private router: Router,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private modal: NzModalService,\r\n    private fncService: FunctionService\r\n  ) {\r\n    let bill = this.router.getCurrentNavigation().extras.state.bill\r\n    this.getDataInvoice(bill)\r\n    this.init()\r\n    console.log(bill);\r\n    \r\n    this.invoiceInfo = { employee: {}, customer: bill.customer, paymentName: '' }\r\n  }\r\n\r\n  init(invoice: VhOrderInvoice = null, invoiceDetail: VhOrderInvoiceDetail[] = null) {\r\n    this.invoice = new VhOrderInvoices(invoice, invoiceDetail, this.vhQueryCafe)\r\n    \r\n  }\r\n\r\n  private getDataInvoice(bill) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill_details_byId_bill(bill._id)\r\n      ]).then(([ invoiceDetail]: any) => {\r\n        console.log(invoiceDetail);\r\n        if (!invoiceDetail.length)\r\n          this.init(bill, [])\r\n        else {\r\n          invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n          this.init(bill, invoiceDetail)\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units,ratio).unit\r\n  }\r\n\r\n  getLotNumber(lots, _id){\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' +  this.fncService.formatDate(lot.date_exp)\r\n  }\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the sales invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQueryCafe.deleteBill_Billdetail(this.invoice.getID()).then(() => {\r\n              if (this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).earning_point && this.invoice.getBillType() == 1) this.vhQueryCafe.updateCustomer(this.invoice.getIdPartner(), { earning_point: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()).earning_point - this.invoice.getEarningPointBill() })\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.vhComponent.showToast(2000,\r\n                  `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                this.router.navigate(['/cafe/sales-desktop'], { state: { isSync: true } })\r\n              })\r\n            })\r\n          })\r\n        }, () => { })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public goToCart() {\r\n    this.router.navigate(['/cafe/bill-web-app/sales-order/add'], { \r\n      state: { \r\n        invoiceDetail: this.invoice.getInvoiceDetail(), \r\n        invoice: this.invoice.getCreateUpdateInvoice(),\r\n        customer : this.invoiceInfo.customer\r\n       } \r\n      })\r\n  }\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n      if (printer) resolve(printer)\r\n      else rejects(false)\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer.print_size_default), { printer: { ...printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)], name: \"Sales\" }, invoice: this.invoice }, false, false, `modal-print-${printer.print_size_default}`)\r\n    }, (err) => {\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => console.log('OK'),\r\n      });\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/bill-web-app/sales-order'], { state: { isSync: true,invoiceToday : this.invoiceToday } });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById('sales-invoice-detail-today') && document.querySelector(\".sales-cart-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.getElementById('sales-invoice-detail-today').clientHeight - document.querySelector(\".sales-cart-header\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".ant-table-pagination\").clientHeight - 60 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"sales-invoice-detail-today\">\r\n  <div class=\"sales\">\r\n    <div class=\"sales-cart\">\r\n      <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n        <div nz-col nzSpan=\"12\" class=\"title\">\r\n          <b>{{'Sales order' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n          <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n            nzType=\"default\">\r\n            <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n            {{'Print' | translate}}\r\n          </button>\r\n          <button [disabled]=\"invoice.getBillType() == 4\" (click)=\"deleteInvoice()\"\r\n            class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n            <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n            {{'Delete' | translate}}\r\n          </button>\r\n        </div>\r\n        <!-- <div nz-col nzSpan=\"6\" class=\"center-all-content\">\r\n          <button [disabled]=\"invoice.getBillType() == 4\" (click)=\"deleteInvoice()\"\r\n            class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n            <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n            {{'Delete' | translate}}\r\n          </button>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n        <div class=\"invoiceDetail-item\">\r\n          <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n            nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n            <thead>\r\n              <tr>\r\n                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <ng-container *ngFor=\"let item of rowSelectionTable.data\" >\r\n                <ng-container *ngIf=\"item.id_promotion\">\r\n                  <tr style=\"cursor: pointer;\">\r\n                    <td colspan=\"5\"><b>{{item.name}}</b></td>\r\n                  </tr>\r\n                  <tr style=\"cursor: pointer;\"  *ngFor=\"let data of item.products\">\r\n                    <td><div>{{data.name}}</div> <br>\r\n                      <ng-container *ngIf=\"data.lots\">\r\n                        <pre>{{getLotNumber(data.lots, data.id_lotproduct)}}</pre> <br>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"data.combos\">\r\n                        <span class=\"sub-name\"  *ngFor=\"let combo of data.combos\">\r\n                          {{combo.quantity}}x {{combo.name}}\r\n                         , \r\n                        </span>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='center'>\r\n                      {{getUnit(data.units, data.ratio)}}\r\n                    </td>\r\n                    <td nzAlign='center'>{{data.quantity}}</td>\r\n                    <td nzAlign='right'>\r\n                      {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                      <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                        {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                      </del>\r\n                    </td>\r\n                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                  </tr>\r\n                  <tr style=\"cursor: pointer;\"  *ngFor=\"let data of item.products_gift\">\r\n                    <td>{{data.name}} <i>({{'Gift' | translate}})</i><br>\r\n                      \r\n                      <ng-container *ngIf=\"data.combos\">\r\n                        <span class=\"sub-name\"  *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}}\r\n                         ,  </span>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='center'>\r\n                      {{getUnit(data.units, data.ratio)}}\r\n                    </td>\r\n                    <td nzAlign='center'>{{data.quantity}}</td>\r\n                    <td nzAlign='right'>\r\n                      {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                      <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                        {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                      </del>\r\n                    </td>\r\n                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                  </tr>\r\n                </ng-container>\r\n                \r\n                <tr style=\"cursor: pointer;\" *ngIf=\"!item.id_promotion\">\r\n                  <td><div>{{item.name}}</div>\r\n                    <ng-container *ngIf=\"item.combos\">\r\n                      <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n                        {{combo.quantity}}x {{combo.name}}\r\n                       ,  </span>\r\n                    </ng-container>\r\n\r\n                  </td>\r\n                  <td nzAlign='center'>\r\n                    {{getUnit(item.units, item.ratio)}}\r\n                  </td>\r\n                  <td nzAlign='center'>{{item.quantity}}</td>\r\n                  <td nzAlign='right'>\r\n                    {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                    <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                      {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                    </del>\r\n                  </td>\r\n                  <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b></td>\r\n                </tr>\r\n              </ng-container>\r\n              \r\n              \r\n            </tbody>\r\n          </nz-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-bills continue-sell\" >\r\n      <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n        <div>\r\n          <b>{{'Invoice code' | translate}}</b>\r\n          <div> {{invoice.getBillCode()}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Salesman' | translate}}</b>\r\n          <div>{{invoiceInfo.employee.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Sales date' | translate}}</b>\r\n          <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Delivery' | translate}}</b>\r\n          <div>{{invoiceInfo['delivery'] ? invoiceInfo['delivery'] : \"None\" | translate}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n        <b>{{'Customer information' | translate}}</b>\r\n   \r\n        <div  nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.customer.name | translate}} - {{invoiceInfo.customer.phone}}\r\n        </div>\r\n        <div nz-col nzSpan=\"24\">\r\n          {{renderAddress(invoiceInfo.customer)}}\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n        <b>{{'Payment information' | translate}}</b>\r\n        <!-- <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_discount_invoice') && invoice.getDiscountInvoice() >= 0\">\r\n          <div>{{'Discount' | translate}}</div>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountInvoice())}}</div>\r\n      </div> -->\r\n        <div nz-col nzSpan=\"24\">\r\n          <span>{{'SubTotal' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"invoice.getDiscountBill()\">\r\n          <span>{{'Discount' | translate}}\r\n          </span>\r\n\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountBill())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n          <span>{{'Discount value' | translate}}\r\n          </span>\r\n          <span>{{(invoice.getDiscount()/invoice.getSubTotal())*100 || 0 | number :'1.0-2'}}%</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n        </div>\r\n         \r\n        <div *ngIf=\"invoice.getDiscountPoint()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <div>{{'Point payment' | translate}}</div>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountPoint())}}</div>\r\n        </div>\r\n        <div *ngIf=\"invoice.getDiscountCoupon()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <div>{{'Coupon payment' | translate}}</div>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountCoupon())}}</div>\r\n        </div>\r\n\r\n        <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n          <span>{{'Fee' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n          <span>{{'Tax' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n          <div>\r\n            {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <span>{{'Total' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n        </div>\r\n        <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n          <span>{{'Pay' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n        </div>\r\n        <!-- <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n          <span>{{'Rest' | translate}}</span>\r\n          <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() -\r\n            invoice.getPayment())}}</div>\r\n        </div> -->\r\n        <!-- <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n          <span>{{'cash' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getCash() )}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n          <span>{{'Change' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getExcessCash() )}}</div>\r\n        </div> -->\r\n        <!-- <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n          <span>{{'Payment method' | translate}}</span>\r\n          <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n        </div> -->\r\n        <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n          <span>{{'Note' | translate}}</span>\r\n          <div>{{invoice.getNote()}}</div>\r\n        </div>\r\n      </div>\r\n      <div nz-row class=\"sales-bills-button\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <button nz-button class=\"button payment-print\" (click)=\"goToCart()\">{{'Continue to sell...'\r\n            |translate}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>"," \r\n    <nz-layout id=\"sales-invoice-today\" >\r\n        <div class=\"sales-invoice-today-header\" style=\"padding: 8px;  background: white;\" nz-row>\r\n            <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n                <b>{{'Orders' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input placeholder=\"{{'Search for invoice code, customer name, payment, status,phone' | translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n               \r\n            </div>\r\n            <div nz-col nzSpan=\"8\" class=\"right-all-content\" style=\"padding-right: 16px;\">\r\n                <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n                <button class=\" btn-add\"   nz-button nzType=\"default\" (click)=\"getInvoiceToday()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" >\r\n               <app-header-account-info></app-header-account-info>\r\n            </div>\r\n        </div>\r\n    \r\n        <div nz-row style=\"height: 100%; margin-top: 8px;\">\r\n            <div nz-col nzSpan=\"24\" style=\"padding: 0 160px;\">\r\n                <div nz-row *ngIf=\"!invoiceShow.length\" style=\"height: 100%;\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <p>{{'No invoice today' | translate}}</p>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"invoiceShow.length\" style=\"padding: 8px; background-color: white;height: 100%;border-radius: 5px;\">\r\n                    <div class='total-item'>{{'Total' |translate}}<span style=\"color:var(--ion-color-vh-red)\">\r\n                            {{invoiceShow.length}}\r\n                        </span>{{'invoices today' | translate}}\r\n                    </div>\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoiceShow\" #tableSales nzShowPagination [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" nzShowSizeChanger [nzNoResult]=\"noBill\" (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n                                    <b>{{'Date' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\">\r\n                                    <b>{{'Invoice code' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n                                    <b>{{'Customer' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                                <th nzWidth=\"15%\" nzAlign='left'><b>{{'Note' | translate}}</b></th>\r\n                                <th style=\"cursor: pointer;\" nzWidth=\"15%\" nzAlign='right' (click)=\"sum_priceCol = !sum_priceCol;sortTable('sum_price')\">\r\n                                    <b>{{'Total' | translate}}</b>\r\n                                    <i nz-icon [nzType]=\"sum_priceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice)\">\r\n                                <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                                <td nzAlign='left'>{{invoice.bill_code}} <i (click)=\"$event.stopPropagation();vhComponent.copyValue(invoice.bill_code)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i></td>\r\n                                <td nzAlign='left'>{{(invoice.customer ? invoice.customer['name'] : 'Not found') | translate}} \r\n                                </td>\r\n                                \r\n                                <td nzAlign='left'>{{invoice.note}}</td> \r\n                                <td class=\"money-right\">\r\n                                    {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                    <ng-template #noBill>\r\n                        <div class=\"pos-content-empty\">\r\n                            <div>\r\n                                <div>\r\n                                    <ion-icon style=\"font-size: 230px;\" src=\"assets/icon/pos/undraw_add_to_cart_vkjp.svg\">\r\n                                    </ion-icon>\r\n                                </div>\r\n                                {{'No data' | translate}}\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n    \r\n                </div>\r\n            </div> \r\n        </div>\r\n    </nz-layout>\r\n   \r\n    ","import { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component, OnInit, HostListener } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhDisplayLEDService, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\n\r\n\r\n@Component({\r\n  selector: 'app-sales-order',\r\n  templateUrl: './sales-order.component.html',\r\n  styleUrls: ['./sales-order.component.scss']\r\n})\r\nexport class SalesOrderComponent implements OnInit {\r\n  useBranch: boolean = this.functionService.checkUsingBranch()\r\n  public searchValue: string = ''\r\n  public invoiceShow: any[] = []\r\n  public invoiceToday: any[];\r\n  tableHeight: string;\r\n  public date: Date[] = [new Date(), new Date()];\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices // bill được chọn để xem chi tiết\r\n\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private functionService: FunctionService,\r\n    private notification: NzNotificationService,\r\n    private plaform: Platform,\r\n    private vhDisplayLEDService: VhDisplayLEDService,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    if(this.router.getCurrentNavigation().extras.state){\r\n      this.invoiceToday = this.router.getCurrentNavigation().extras.state.invoiceToday\r\n      this.invoiceShow =  this.invoiceToday\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0, 0, 0, 0)).getTime() - new Date(event[0].setHours(0, 0, 0, 0)).getTime() <= this.fncService.checkDateReport() * 86000000) {\r\n      //this.getTransferList();\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" + this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n\r\n\r\n  getInvoiceToday() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQueryCafe.getBills_byFields({  date: { $gte: new Date(this.date[0].setHours(0, 0, 0)).toISOString(), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString() },  bill_type: { $in: [36] }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }, {})\r\n        .then((invoice: any[]) => {\r\n          console.log(invoice);\r\n          let promise = new Array();\r\n          for (let i = 0; i < invoice.length; i++) {\r\n            promise[i] = this.vhQueryCafe.getCustomer(invoice[i].id_customer)\r\n          }\r\n          this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n            this.invoiceToday = invoice.map((item,index) => {\r\n              return { ...item, customer: array[index],  sum_price: item.total * (1 + item.tax / 100),   }\r\n            })\r\n            this.searchBill(this.searchValue)\r\n          }, error => { console.log(error); })\r\n          this.vhComponent.hideLoading(0);\r\n\r\n        })\r\n    })\r\n  }\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoiceToday, ['bill_code', 'partner_name', 'employee_name', 'payment_name', 'status', 'phone'])\r\n    } else this.invoiceShow = [...this.invoiceToday]\r\n    console.log(this.invoiceShow);\r\n\r\n  }\r\n  /* -----Pagination----- */\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n\r\n  goToDetail(bill) {\r\n    console.log(bill);\r\n\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_view_bill_today\")) {\r\n      this.router.navigate([\"/cafe/bill-web-app/sales-order/add\"], { state: { invoice: bill, invoiceToday :  this.invoiceToday, customer : bill.customer } })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  goToCart() {\r\n\r\n    this.router.navigate(['/cafe/sales-desktop/add'])\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-invoice-today\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-invoice-today-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#sales-invoice-today\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-invoice-today-header\").clientHeight - 110 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  deleteBill() {\r\n    let bill: any = { ...this.invoice }\r\n    this.invoiceShow = this.invoiceShow.filter(item => item._id != bill._id)\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  payment_nameCol = false;\r\n  name_employeeCol = false;\r\n  sum_priceCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName) {\r\n    switch (colName) {\r\n      case 'date':\r\n        if (this.dateCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if (this.bill_codeCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if (this.partner_nameCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if (this.payment_nameCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n\r\n      case 'sum_price':\r\n        if (this.sum_priceCol) {\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyASC([...this.invoiceShow], colName);\r\n        } else {\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddComponent } from './add/add.component';\r\nimport { DetailInvoiceComponent } from './detail-invoice/detail-invoice.component';\r\nimport { SalesOrderComponent } from './sales-order.component'; \r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SearchModule } from 'src/app/cafe/components/search/search.module'; \r\nimport { HeaderAccountInfoModule } from '../header-account-info/header-account-info.module';\r\nimport { ComponentsModule } from '../components/components.module';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesOrderComponent,\r\n  }, \r\n  {\r\n    path: 'add',\r\n    component: AddComponent,\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailInvoiceComponent,\r\n  }, \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SalesOrderComponent,AddComponent,DetailInvoiceComponent\r\n\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule, \r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    SearchModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule,\r\n    HeaderAccountInfoModule\r\n  ]\r\n})\r\nexport class SalesOrderModule { }\r\n"],"names":["SalesA4Component","SalesA5Component","SalesK80Col4Component","SalesK80Col3Component","SalesK57Col3Component","VhOrderInvoices","i0","item_r26","ctx_r182","ctx_r11","ctx_r14","ctx_r221","ctx_r235","ctx_r264","ctx_r24","ctx_r25","AddComponent","constructor","router","vhComponent","languageService","vhQueryCafe","vhAlgorithm","vhAuth","cdRef","nzModalService","vhQuery","getlocalTaxs","filter","tax","status","localStorageGET","Date","getLocalAppSettingNameBranch","display_promotion_selling_price","warning_lot_expried","getDefaultBranch","_id","root","getCurrentNavigation","extras","state","customer_online","customer","product_codes","invoice","coupons","getDataInvoice","console","log","ngOnInit","bill","showLoading","then","Promise","all","getBill_details_byId_bill","invoiceDetail","length","init","sortVietnamesebyASC","hideLoading","getIdEmployee","setIdEmployee","getUser","setDate","toISOString","note","getNote","setIdTable","setIdArea","pickerTime","getDate","observableCheckBill","getID","percent_discount_bill","getSubTotal","getDiscount","employee","getlocalEmployee","id_bill","observableSyncOpeningBill","subscribe","rsp","closeSyncOpeningBill","vcode","confirm","nzTitle","translate","nzOkText","nzOnOk","goBack","nzCancelText","nzOnCancel","alertMessageDesktop","error","showToast","ngOnDestroy","document","removeEventListener","event","eventKeypress","keycode","keyCode","preventDefault","searchProductList","getInvoiceDetail","payInvoice","checkPrinter","addEventListener","ngAfterViewInit","listTax","id_tax","find","item","value","getTax","default","setTax","printer","getLocalPrintPage","print_sizes","findIndex","e","print_size_default","enable","getEarningPointsBills","getEarningPointsProducts","earning_point_bills","earning_points_products","list_earning_point_bills","list_earning_points_products","customer_group","getlocalCustomerClasss","getClassAndProgram","waitingStack","discount_price","querySelector","vhnumeral","invoice_fee","ngAfterViewChecked","detectChanges","getEarningBill","program_bill","bill_total_minimum","subTotal","include_promotion_product","getSubTotalNotPromotion","include_discount","getDiscountBill","include_paid_points","getDiscountPoint","include_fee","getFee","include_tax","exchange","money","points","id_promotion","reduce","prev","next","quantity","price","getSubTotalNotPromotionOFProduct","products_of_program_earnig_product","price_origin","i","id_product","id_subproduct","getEarningProduct","products","program_product","getTotalEarningPoint","earning_point","getTotalEarningPointProduct","product","promotion","deleteGoods","detail","removeInvoiceDetail","setSubTotal","gotten_gift_type7","handlePromotionType7","bill_details_pmtype_7","deletePromotion","resolve","openSearchProductList","closeSearchProductList","data","default_price_type","price2","addInvoiceDetail","Object","earning_points_product","checkProductHaveLots","isExit","navigate","alertConfirm","checkQuantityProduct","parseFloat","toFixed","openEditUnitPrice","tempDetail","isVisibleEditUnitPrice","unit_price","handleEditUnit","getRawValue","handleCancelEditUnit","closeAndReceiveEmployee","customer_class","id_customer_class","id_earning_points_bill","id_earning_points_product","point_validity","earned_points","closeAndGetValuePayment","setPaymentType","type","id_wallet","setIdWallet","setPayment","getPayment","setCash","changeTax","editDiscount","setDiscount","getElementById","openModalOtherDiscount","showModalOtherDiscount","handleOkOtherDiscount","getDiscountOther","calculatePoint2Money","value_discount_point","setDiscountPoint","payment","setUsePoint","editPercentDiscount","getDiscountOfCoupon","code","getCoupon_Code_Name_Release_byCode","date_expire","push","setDiscountCoupon","setTimeout","getElementsByTagName","onCloseProductCode","splice","editFee","setFee","updateCash","cash","replaceAll","getUnit","units","ratio","getUnit_byRatio","unit","showModalEditTotalPay","getPaymentType","getlocalCustomer","getIdPartner","debt_enable","edit_paytotal","edit_pay","handleEditPay","getTotalATax","handleCancelEditPay","bill_type","print","checkMyPermission","updateCustomer_byEarnedPoints","setEarningPointBill","createOrUpdate","getCreateUpdateInvoice","promise","Array","updateCouponCode","date_used","id_customer_used","id_customer","asyncPromiseAll","bill_code","setBillCode","getBillCode","handlePrint","nzContent","nzIconType","handle","deleteInvoice","deleteBill_Billdetail","bool","getCreateUpdateInvoiceDetail","updateBill_Billdetail","saveBill_Billdetail","catch","er","checkPrint","rejects","renderPrintPage","forEach","products_gift","choose","showModal","name","modal","onWillDismiss","err","edit_note","setNote","openInfoCustomer","visibleInfoCustomer","closeInfoCustomer","checkDeactivate","currentRoute","currentState","nextState","url","handleAddGiftType7","getPromotions","findLastIndex","total_bill_value","product_gift_type7","handleChooseLotForPromotion","lots","min_date_exp","sortDatebyASC","lot_number","combos","element","getEarningpointPromotion","checkDisableChooseProductGift","promotions_maximum","getLotNumber","lot","searchLot","searchList","changeAlias","list_search_lot","openModalChooseLot","show_modal_select_lots","changeLot","handleChooseLot","lot_select","id_lotproduct","getTime","date_exp","handleCancelChooseLot","handleChooseLotCombo","show_modal_select_lots_combo","changePriceType","showModalChangePriceType","bill_details","price_update","getlocalDetailProduct","setPriceType","selectors","decls","vars","consts","template","ctx","_r16","$event","ctx_r15","ctx_r16","ctx_r17","ctx_r3","_r6","SalesOrderComponent","functionService","notification","plaform","vhDisplayLEDService","fncService","checkUsingBranch","date","setHours","invoiceToday","invoiceShow","changeTime","checkDateReport","getInvoiceToday","getBills_byFields","$gte","$lte","$in","id_branch","$eq","getCustomer","array","map","index","sum_price","total","searchBill","searchValue","val","trim","toLowerCase","onCurrentPageDataChange","goToDetail","goToCart","renderAddress","partner","address","district","province","country","tableHeight","clientHeight","deleteBill","sortTable","colName","dateCol","sortDatebyDESC","bill_codeCol","sortVietnamesebyDESC","partner_nameCol","payment_nameCol","sum_priceCol","sortNumberbyASC","sortNumberbyDESC"],"sourceRoot":"webpack:///"}