{"version":3,"file":"src_app_cafe_desktop_cafe-desktop_cafe-desktop_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/cafe-desktop/cafe-desktop.component.ts","./src/app/cafe/desktop/cafe-desktop/cafe-desktop.component.html","./src/app/cafe/desktop/cafe-desktop/cafe-desktop.module.ts","./src/app/cafe/desktop/cafe-desktop/components/account-information/account-information.component.ts","./src/app/cafe/desktop/cafe-desktop/components/account-information/account-information.component.html","./src/app/cafe/desktop/cafe-desktop/components/config-print-kitchen-electron/config-print-kitchen-electron.component.ts","./src/app/cafe/desktop/cafe-desktop/components/config-print-kitchen-electron/config-print-kitchen-electron.component.html","./src/app/cafe/desktop/cafe-desktop/components/config-print-kitchen/config-print-kitchen.component.ts","./src/app/cafe/desktop/cafe-desktop/components/config-print-kitchen/config-print-kitchen.component.html","./src/app/cafe/desktop/cafe-desktop/components/config-print/config-print.component.ts","./src/app/cafe/desktop/cafe-desktop/components/config-print/config-print.component.html","./src/app/cafe/desktop/cafe-desktop/components/config-sales/config-sales.component.ts","./src/app/cafe/desktop/cafe-desktop/components/config-sales/config-sales.component.html","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/bill-detail1/bill-detail1.component.ts","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/bill-detail1/bill-detail1.component.html","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/bill1/bill1.component.ts","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/bill1/bill1.component.html","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/invoice-detail.component.ts","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/invoice-detail.component.html","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/payment-info/payment-info.component.ts","./src/app/cafe/desktop/cafe-desktop/components/invoice-detail/payment-info/payment-info.component.html"],"sourcesContent":["import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { AnimationItem } from 'lottie-web';\r\nimport { AnimationOptions } from 'ngx-lottie';\r\nimport { VhOrderInvoices } from './../../interface/vh-order-invoice';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ChangeDetectorRef, Component, OnInit, NgZone } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { Subscription } from 'rxjs';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { Platform } from '@ionic/angular';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-cafe-desktop',\r\n  templateUrl: './cafe-desktop.component.html',\r\n  styleUrls: ['./cafe-desktop.component.scss']\r\n})\r\nexport class CafeDesktopComponent implements OnInit {\r\n  startTime: Date = new Date()\r\n  endTime: Date = new Date();\r\n  useBranch: boolean = this.functionService.checkUsingBranch();\r\n  public langList: any[] = [\r\n    { name: 'Vietnamese', value: 'vi', img: 'assets/icon/settings/language/vi.svg', country_code : 'VN' },\r\n    { name: 'English', value: 'en', img: 'assets/icon/settings/language/en.svg', country_code : 'US' }\r\n  ];\r\n  public lang: string = this.vhAuth.localStorageGET('language_code');\r\n  /** Danh sách khu vực */\r\n  public area: any[] = this.vhQueryCafe.getlocalAreas().filter(item => item.status && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n  /** ID khu vực hoạt động */\r\n  public areaID: any = 'go_home';\r\n  public tableID: any = 'go_home';\r\n  id_table_selected: any // biến luu tạm id table đã chọn\r\n  listTables: any = [];\r\n  indexTab: number = 0;\r\n  /** dữ liệu state truyền về */\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  /** Danh sách tùy chọn bộ lọc */\r\n  listFilter: Array<any> = [\r\n    { value: 1, name: \"Latest\" },\r\n    { value: 2, name: \"Oldest\" },\r\n    { value: 3, name: \"Low to High value\" },\r\n    { value: 4, name: \"High to Low value\" }\r\n  ]\r\n  /**Subscription area - table*/\r\n  area$: Subscription\r\n  observableTables: Subscription\r\n\r\n  invoiceSelected: any;\r\n  checkPrinter: boolean = false;\r\n  checkPrinterKitchen: boolean = false;\r\n  /** thuộc tính máy in */\r\n  printer: any;\r\n  openBillStatus = false; // bien check thanh toán\r\n  isloaded = false; // bien check tắt icon  loading\r\n  debt = false;\r\n  kitchens = this.vhQueryCafe.getlocalDispatcherZones()\r\n  showConfigPrintKitchenElectron = false\r\n  showModalSelectOrderInterface = false;\r\n  showConfig = false //  biến show modal cấu hình\r\n  showConfigPrint = false//  biến show modal cấu hình may in\r\n  showConfigPrintKitchen = false//  biến show modal cấu hình may in bếp\r\n  showConfigSales = false//  biến show modal cấu hình trang bán hàng\r\n  modalAccountInfo: boolean = false;//show/hide moal thông tin tài khoản\r\n  user: any = this.vhAuth.getUser() // thông tin tài khoản hiện tại\r\n  templates: { name: string; url: string; giai_thich: string; }[] = [];\r\n  store_main_sector = '';\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n  error_to_get_bill: boolean;\r\n\r\n  constructor(\r\n    public vhQueryCafe: VhQueryCafe,\r\n    private router: Router,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery: VhQuery,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private functionService: FunctionService,\r\n    private translateService: TranslateService,\r\n    private mess: NzMessageService,\r\n    private platform:Platform,\r\n    private nzModalService: NzModalService,\r\n    private notification: NzNotificationService,\r\n    private http: HttpClient,\r\n    public vhAuth: VhAuth) {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.areaID = this.router.getCurrentNavigation().extras.state.id_area;\r\n\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log(this.vhQueryCafe.getlocalCustomers());\r\n\r\n    this.startTime.setHours(0, 0, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 59);\r\n    /** Lấy dữ liệu area */\r\n    this.getAreaData();\r\n    let splash = document.getElementById(\"lottie-sync\")\r\n    if (splash) splash.remove();\r\n    this.checkExpireAccount()\r\n    this.checkBranches()\r\n    if (this.dataRestore) {\r\n      /* Nhận dữ liệu từ router truyền sang */\r\n      this.searchValue = this.dataRestore.searchValue || ''\r\n      this.filterType = this.dataRestore.filterType || 1\r\n      this.indexTab = this.dataRestore.indexTab\r\n      this.filterTitle = this.renderSort(this.filterType)\r\n\r\n      if (this.dataRestore.id_area) {\r\n        this.areaID = this.dataRestore.id_area\r\n      } else this.areaID = this.area[0]._id\r\n    }\r\n    // xử lý nếu khu vực mang về bị disable\r\n    /** Lấy dữ liệu bill mang về */\r\n    if (this.vhQueryCafe.getlocalArea('go_home').status) this.getBillDataTakeAway();\r\n    else {\r\n      this.listTables = this.functionService.sortNameIncludeNumber(this.vhQueryCafe.getlocalTables().filter(item => item.id_area == this.areaID)).map(item => { return { ...item, selected: false } })\r\n      if (this.listTables.length) this.getBillByTable(this.listTables[0])\r\n    }\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id)\r\n    // kiểm tra máy in\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n    this.printer = printer ? printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] : null\r\n    if (this.printer) {\r\n      this.checkPrinter = this.printer.enable\r\n    }\r\n    let printer_kitchen = this.vhQueryCafe.getLocalPrintPage('page_desktop_kitchen')\r\n    this.checkPrinterKitchen = printer_kitchen ? printer_kitchen.print_sizes[printer_kitchen.print_sizes.findIndex(e => e._id == printer_kitchen.print_size_default)].enable : null\r\n    this.store_main_sector = this.vhAuth.getStore().main_sector; // Lấy main_sector của user\r\n    this.http.get(`assets/documents/configuration/template/${this.country_code}/${this.store_main_sector}.json`).subscribe((templates) => {\r\n      this.templates = templates[this.language];\r\n    }); // Lấy giao diện theo main_sector của cửa hàng\r\n  }\r\n\r\n  /**\r\n  * kiểm tra tài khoản hết hạn chưa\r\n  */\r\n  checkExpireAccount() {\r\n    // this.vhQueryCafe.refreshLocalRestrictionMainPackage()\r\n    //   .then((res) => {\r\n    let number = this.getNumberOfDay(new Date(), new Date(this.vhQueryCafe.getLocalRestrictionMainPackage().expire_date))\r\n    if (number > 3) { // check hết hạn sau 3 ngày thì hiện thông báo\r\n      // check tiếp  còn trong hạn được phép sử dụng hay ko\r\n      if (number < this.vhQueryCafe.getLocalRestrictionMainPackage().extra_usage_duration) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate('Branch') + ': ' + this.vhQueryCafe.getDefaultBranch().name + ' ' + this.languageService.translate('has expired') + '. ' + this.languageService.translate('Please renew to continue') + '!',\r\n          nzOkText: this.languageService.translate('Pay'),\r\n          nzCancelText: \"Tiếp tục\",\r\n          nzCloseIcon: null,\r\n          nzClosable: false,\r\n          nzOnOk: () => {\r\n            // go to thanh toán\r\n            this.vhQueryCafe.getPayments(\r\n              { id_store: { $eq: this.vhAuth.getUser()._id }, payment_type: { $eq: 5 } },\r\n              {},\r\n              {},\r\n              0\r\n            ).then((payments: any) => {\r\n              if (payments) {\r\n                if (payments.length > 0) {\r\n                  this.router.navigate(['/cafe/payment/detail'],\r\n                    {\r\n                      state: payments\r\n                    });\r\n                } else if (payments == 0) {\r\n                  this.router.navigate(['/cafe/payment']);\r\n                }\r\n              }\r\n            })\r\n          },\r\n          nzOnCancel: () => {\r\n\r\n          }\r\n        })\r\n      }\r\n      else {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate('Branch') + ': ' + this.vhQueryCafe.getDefaultBranch().name + ' ' + this.languageService.translate('has expired') + '. ' + this.languageService.translate('Please renew to continue') + '!',\r\n          nzOkText: this.languageService.translate('Pay'),\r\n          nzCancelText: this.languageService.translate('Continue'),\r\n          nzCloseIcon: null,\r\n          nzClosable: false,\r\n          nzOnOk: () => {\r\n            // go to thanh toán\r\n            this.vhQueryCafe.getPayments(\r\n              { id_store: { $eq: this.vhAuth.getUser()._id }, payment_type: { $eq: 5 } },\r\n              {},\r\n              {},\r\n              0\r\n            ).then((payments: any) => {\r\n              if (payments) {\r\n                if (payments.length > 0) {\r\n                  this.router.navigate(['/cafe/payment/detail'],\r\n                    {\r\n                      state: payments\r\n                    });\r\n                } else if (payments == 0) {\r\n                  this.router.navigate(['/cafe/payment']);\r\n                }\r\n              }\r\n            })\r\n          },\r\n          nzOnCancel: () => {\r\n            this.router.navigate([\"/login\"])\r\n          }\r\n\r\n        })\r\n      }\r\n    }\r\n    // if (number > -7 && number < 0) this.createBasicNotification(number)\r\n\r\n    // },\r\n    //   err => {\r\n    //     this.router.navigate([\"/login\"])\r\n    //   })\r\n  }\r\n\r\n  createBasicNotification(number): void {\r\n    this.notification.blank(\r\n      this.languageService.translate('Your account is about to expire'),\r\n      this.languageService.translate(\"Your account still has\") + \" \" + parseInt((number * -1).toString()) + \" \" + this.languageService.translate(\"days of usage left. Please update your service package to avoid interruptions.\"),\r\n      {\r\n        nzPlacement: \"topRight\",\r\n        nzDuration: 8000\r\n      }\r\n    );\r\n  }\r\n  /**\r\n   * trả về khoảng cách giữa 2 ngày\r\n   * vd : getNumberOfDay(15/02/2022, 10/02/2022) => return 5\r\n   * */\r\n  getNumberOfDay(date1, date2) {\r\n    return (date1.getTime() - date2.getTime()) / (24 * 3600 * 1000)\r\n  }\r\n\r\n  /**\r\n   * kiểm tra nếu có tab nào đăng xuất hoặc chọn chi nhánh mới sẽ logout\r\n   */\r\n  ngDoCheck(): void {\r\n    if (!this.vhQueryCafe.getDefaultBranch()) {\r\n\r\n      setTimeout(() => {\r\n        this.router.navigate([\"/login\"]);\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  public selectLang(value: string) {\r\n    let lang = this.langList.find(item => item.value == value)\r\n    this.vhAuth.localStorageSET('language_code', value)\r\n    this.vhAuth.localStorageSET('country_code', lang.country_code)\r\n    localStorage.setItem(\"vh-sales-language\", value)\r\n    this.translateService.use(value)\r\n    this.languageService.switchLanguage(value)\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // console.log(\"destroy\")\r\n    /**Hủy bỏ lắng nghe thay đổi area */\r\n    if (this.area$) this.area$.unsubscribe()\r\n    if (this.observableTables) this.observableTables.unsubscribe()\r\n  }\r\n\r\n  tableHeight: any;\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"order-invoice\") &&\r\n      document.querySelector(\".ant-table-thead\") &&\r\n      document.querySelector(\".sales-invoice-header\") &&\r\n      document.querySelector(\".ant-table-pagination\")) {\r\n\r\n      this.tableHeight = document.getElementById(\"order-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-invoice-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 145 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-invoice\") && document.querySelector(\".sales-invoice-header\") && document.querySelector('.ant-tabs-nav')) {\r\n      let height = document.getElementById(\"order-invoice\").clientHeight - document.querySelector(\".sales-invoice-header\").clientHeight -\r\n        document.querySelector(\".sales-invoice-header\").clientHeight - document.querySelector('.ant-tabs-nav').clientHeight - 30 + \"px\"\r\n      if (this.listTables.length > 12) {\r\n        document.getElementById('area-order').style.height = height\r\n      }\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /** Lắng nghe thay đổi dữ liệu khu vực  */\r\n  getAreaData() {\r\n    this.area$ = this.vhQueryCafe.getObservableLocalAreas().subscribe(localArea => {\r\n      // console.log(localArea);\r\n\r\n      let takeAway: any = this.vhQueryCafe.getlocalArea('go_home')\r\n      // xử lý khu vực\r\n      if (takeAway) { // nếu khu vực mang về được bật\r\n        if (takeAway.status)\r\n          this.area = [takeAway].concat(\r\n            this.vhQueryCafe.getlocalAreas().filter(item => item.status && item._id != 'go_home' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id)\r\n          )\r\n        else\r\n          this.area = this.vhQueryCafe.getlocalAreas().filter(item => item.status && item._id != 'go_home' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id)\r\n      } else // nếu khu vực mang về không dc bật\r\n        this.area = this.vhQueryCafe.getlocalAreas().filter(item => item.status && item._id != 'go_home' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id)\r\n\r\n      // set lại area cũ\r\n      this.areaChanged(this.areaID)\r\n    })\r\n  }\r\n  /**Lấy danh sách bill mang về */\r\n  getBillDataTakeAway() {\r\n    this.vhQueryCafe.getBills_byFields( { id_table: { $eq: 'go_home' }, bill_type: { $eq: 5 }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } })\r\n      .then((bills: any) => {\r\n        this.bills = bills.map(item => {\r\n          return {\r\n            ...item,\r\n            customerName: this.vhQueryCafe.getlocalCustomer(item.id_customer).name,\r\n            customerPhone: this.vhQueryCafe.getlocalCustomer(item.id_customer).phone,\r\n            employeeName: this.vhAuth.getlocalEmployee(item.id_employee).name,\r\n            paymentName: this.renderPayment(item.payment_type, item.id_wallet)\r\n          }\r\n        })\r\n        this.invoiceShow = this.bills;\r\n        this.sortFilter(this.filterType)\r\n      }).catch((err) => { console.error(err) })\r\n  }\r\n\r\n\r\n\r\n  /**Sắp xếp hóa đơn theo các giá trị */\r\n  renderSort(filterType) {\r\n    switch (filterType) {\r\n      case 1: return 'Latest';\r\n      case 2: return 'Oldest';\r\n      case 3: return 'Low to High value';\r\n      case 4: return 'High to Low value';\r\n    }\r\n  }\r\n  /** Thay đổi khu vực */\r\n  areaChanged(value) {\r\n    this.areaID = value;\r\n    let index = this.area.findIndex(item => item._id == value)\r\n    if (index >= 0) this.indexTab = index;\r\n    if (value != 'go_home') {\r\n      // this.tableID = '';\r\n      if (!this.observableTables) {\r\n        this.observableTables = this.vhQueryCafe.getObservableLocalTables().subscribe((localTables: any) => {\r\n\r\n          // So sánh trạng thái trước và sau để biết bàn bị thay đổi có phải bàn đang chọn hay không\r\n          /** Trạng thái của bàn trước khi cập nhật danh sách */\r\n          let tabelSelectedStatusBefore: boolean = false;\r\n          /** index của bàn đang chọn */\r\n          let index = this.listTables?.findIndex(item => item._id == this.tableID);\r\n          // Lấy trạng thái bàn trước khi chọn\r\n          if(index != -1) {\r\n            tabelSelectedStatusBefore = this.listTables[index]?.status;\r\n          }\r\n\r\n          // Lọc danh sách bàn theo khu vực và sắp xếp theo tên\r\n          this.listTables = this.functionService.sortNameIncludeNumber(localTables.filter(item => item.id_area == this.areaID));\r\n          \r\n          // Cập nhật lại index\r\n          index = this.listTables?.findIndex(item => item._id == this.tableID);\r\n          // Cập nhật lại trạng thái selected\r\n          if(this.listTables[0] && index !== -1 && index !== 0) {\r\n            this.listTables[0].selected = false;\r\n          }  \r\n\r\n          if(this.listTables[index]) {\r\n            // Chưa có hoá đơn -> Có hoá đơn\r\n            if (!this.invoiceSelected && !tabelSelectedStatusBefore && this.listTables[index].status && this.tableID) {\r\n              this.getBillByTable(this.listTables[index]);\r\n            }\r\n            // Có hoá đơn -> Chưa có hoá đơn (Bị xoá)\r\n            else if (this.invoiceSelected && tabelSelectedStatusBefore && !this.listTables[index].status && index !== -1) {\r\n              this.listTables[index].selected = false;\r\n              this.invoiceSelected = null;\r\n              this.id_table_selected = null;\r\n              this.tableID = null;\r\n            }\r\n            // Nếu bàn bị thay đổi không phải bàn đang chọn giữ nguyên trạng thái\r\n            else {\r\n              this.listTables[index].selected = true;\r\n            }\r\n          }\r\n        })\r\n      }\r\n      else {\r\n        this.listTables = this.functionService.sortNameIncludeNumber(this.vhQueryCafe.getlocalTables().filter(item => item.id_area == this.areaID));\r\n      }\r\n      if (this.listTables.length) {\r\n        this.listTables.findIndex(item => item._id == this.id_table_selected) != -1 ? this.getBillByTable(this.listTables[this.listTables.findIndex(item => item._id == this.id_table_selected)]) : this.getBillByTable(this.listTables[0])\r\n\r\n      }\r\n    } else {\r\n      this.tableID = 'go_home';\r\n      this.getBillDataTakeAway();\r\n      this.invoiceSelected = null;\r\n    }\r\n  }\r\n  gotoListInvoice() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_view_bill_today\"))\r\n      this.router.navigate([\"/cafe/cafe-desktop/list-invoice\"], { state: { dataRestore } })\r\n    else\r\n      this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n  gotoSwitchTable() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_switch_table\")) {\r\n      this.router.navigate([\"/cafe/cafe-desktop/switch-table\"], { state: { dataRestore } })\r\n    } else\r\n      this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n  gotoSeperateTable() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_separate_table\")) {\r\n      this.router.navigate([\"/cafe/cafe-desktop/seperate-table\"], { state: { dataRestore } })\r\n    } else\r\n      this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n\r\n  // ----------------------\r\n  bills: any = [];\r\n  invoiceShow: any = [];\r\n  createBillTakeaway() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n    this.router.navigate(['/cafe/cafe-desktop/cart1'], {\r\n      state: { id_table: 'go_home', dataRestore }\r\n    })\r\n\r\n  }\r\n  gotoOrder() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n\r\n    if (this.invoiceSelected.bill_type == 5)\r\n      this.router.navigate(['/cafe/cafe-desktop/cart1'], { state: { id_table: this.tableID, id_bill: this.invoiceSelected._id, dataRestore } })\r\n\r\n  }\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.languageService.translate('Cash')\r\n      case 2: return this.languageService.translate('Debit')\r\n      case 3: return this.vhQueryCafe.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n\r\n  searchValue: string = '';\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.bills, ['bill_code', 'employeeName', 'customerPhone', 'customerName'])\r\n    } else\r\n      this.invoiceShow = [...this.bills]\r\n  }\r\n\r\n  public filterType: 1 | 2 | 3 | 4 = 1;\r\n  public filterTitle: 'High to Low value' | 'Low to High value' | 'Oldest' | 'Latest' = \"Oldest\"\r\n  sortFilter(filterType: 1 | 2 | 3 | 4) {\r\n    this.invoiceShow = this.bills;\r\n\r\n    switch (filterType) {\r\n      case 1: this.invoiceShow.sort((prev, next) => Date.parse(next.date) - Date.parse(prev.date)); this.filterTitle = \"Latest\"; break;\r\n      case 2: this.invoiceShow.sort((prev, next) => Date.parse(prev.date) - Date.parse(next.date)); this.filterTitle = \"Oldest\"; break;\r\n      case 3: this.invoiceShow.sort((prev, next) => (prev.total * (1 + prev.tax / 100)) - (next.total * (1 + next.tax / 100))); this.filterTitle = \"Low to High value\"; break;\r\n      case 4: this.invoiceShow.sort((prev, next) => (next.total * (1 + next.tax / 100)) - (prev.total * (1 + prev.tax / 100))); this.filterTitle = \"High to Low value\"; break;\r\n    }\r\n\r\n    this.searchBill(this.searchValue)\r\n  }\r\n  gotoBooking() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.areaID }\r\n\r\n    if (this.vhAuth.checkMyPermission('sales_enable_booking_table')) {\r\n      this.router.navigate(['/cafe/cafe-desktop/booking'], { state: { dataRestore } })\r\n    } else\r\n      this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n\r\n  deleteBill() {\r\n    this.invoiceShow = this.bills.filter(item => item._id != this.invoiceSelected._id)\r\n    this.invoiceSelected = null;\r\n  }\r\n  /**\r\n   * lấy thông tin bill theo bàn\r\n   * @param table : bàn đã chọn\r\n   */\r\n  getBillByTable(table) {\r\n    this.id_table_selected = table._id;\r\n    this.listTables = this.listTables.map(item => {\r\n      if (item._id == table._id) item.selected = true\r\n      else item.selected = false\r\n      return { ...item }\r\n    })\r\n    this.tableID = table._id;\r\n    // get bill lưu tạm của bàn về\r\n    this.vhQueryCafe.getBills_byFields({ id_table: { $eq: table['_id'] }, bill_type: { $eq: 5 }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } })\r\n      .then((bills: VhOrderInvoices) => {\r\n        console.log(bills);\r\n        // lấy bill mới nhất\r\n        bills = this.vhAlgorithm.sortDatebyDESC(bills, 'date')\r\n        if (bills[0]) {\r\n          this.invoiceSelected = bills[0];\r\n          // kiểm tra cho phép nợ\r\n          this.debt = this.invoiceSelected.id_customer == \"id_retail\" ? false :\r\n            this.vhQueryCafe.getlocalCustomer(this.invoiceSelected.id_customer)\r\n          // nếu bàn trắng mà get dc bill thì chuyển lại sang xanh\r\n          if (!table.status)\r\n          this.vhQueryCafe.updateTable(table._id, { status: true })\r\n        }\r\n        else {\r\n          // nếu bàn đang xanh mà ko có bill thì báo lỗi để user reset hoặc liên hệ CSKH\r\n          if (table.status) {\r\n            this.vhComponent.alertConfirm(\"Lỗi\", \"Lỗi truy vấn hóa đơn\", \"Đã xảy ra lỗi trong quá trình truy vấn hóa đơn, vui lòng thử lại sau!!!\")\r\n            this.error_to_get_bill = true // gán thành true để ở component app-invoice-detail hiển thị thông báo\r\n            // this.vhQueryCafe.updateTable(table._id, {\r\n            //   status: false,\r\n            // }).then(() => {\r\n            //   this.listTables = this.listTables.map(item => {\r\n            //     if (item._id == table._id) item.status = false;\r\n            //     return { ...item };\r\n            //   });\r\n            //   this.invoiceSelected = null;\r\n            //   this.error_to_get_bill = false;\r\n            // });\r\n          }\r\n\r\n          else this.invoiceSelected = null;\r\n\r\n        }\r\n      })\r\n  }\r\n\r\n  ///////////////////////////////////////////////IN HÓA ĐƠN//////////////////////////////////////////////////////////\r\n  /**\r\n   * Lấy các trang in\r\n   * @param type size\r\n   * @returns\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  /** Mở trang in */\r\n  handlePrintInvoice() {\r\n    if (this.printer)\r\n      this.vhComponent.showModal(this.renderPrintPage(this.printer['_id']), { printer: this.printer, invoice: this.invoiceSelected }, false, false, `modal-print-${this.printer['_id']}`).then((modal) => {\r\n        modal.onWillDismiss().then(() => { })\r\n      })\r\n  }\r\n\r\n  /**\r\n   * thiết lập giao diện gọi món\r\n   * @param type 1 | 2 | 3\r\n   */\r\n  public updateInterface(type, permission) {\r\n    if (this.vhAuth.checkMyPermission(permission)) {\r\n      Promise.all([this.vhComponent.showLoading(this.languageService.translate(\"Changing interface...\"), \"current-loading\", null, null, false),\r\n      this.vhAuth.updateMyPermission({ default_display_page: permission }),\r\n      ])\r\n        .then(() => {\r\n          this.vhComponent.hideLoading(0)\r\n          setTimeout(() => {\r\n            this.router.navigate(['/cafe/'+type]);\r\n          }, 200);\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  // router\r\n  gotoOverview() {\r\n    this.router.navigate(['/cafe/dashboard/overviews'], { state: { isSync: true } });\r\n  }\r\n\r\n  logout() {\r\n    this.vhAuth.signOut().then(() => {\r\n      this.vhQueryCafe.closeSyncCollections()\r\n      this.router.navigate([\"/login\"]);\r\n    }, error => { })\r\n  }\r\n\r\n  /**Xử lý branches */\r\n  branchDefault: any = {}\r\n  branchList: Array<any> = []\r\n  checkBranches() {\r\n    let branches = [...this.vhQueryCafe.getlocalBranchs()]\r\n    let employee = this.vhAuth.getUser()\r\n    // check branch latest\r\n    this.branchDefault = this.vhQueryCafe.getDefaultBranch()\r\n    let thisBranch = this.vhQueryCafe.getlocalBranch(this.vhQueryCafe.getDefaultBranch()._id)\r\n    if (this.branchDefault.name != thisBranch.name) {\r\n      this.vhQueryCafe.clearDefaultBranch()\r\n      this.vhQueryCafe.setDefaultBranch(thisBranch._id)\r\n\r\n      this.branchDefault = this.vhQueryCafe.getDefaultBranch()\r\n    }\r\n\r\n    if (employee['owner'] == 'boss') this.branchList = branches\r\n    else {\r\n      this.vhAuth.getPermission(employee['_id']).then(result => {\r\n        branches.forEach(item => {\r\n          if (result[`${item._id}_login_branch`]) this.branchList.push(item)\r\n        })\r\n      })\r\n    }\r\n  }\r\n  change_branch() {\r\n    this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to change branch\") + \"?\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhQueryCafe.clearDefaultBranch();\r\n        this.router.navigate(['/login'], { state: { change_branch: true } })\r\n      }).catch(() => { })\r\n  }\r\n\r\n  /**Đóng modal và get lại thông tin user */\r\n  closeAccountInfo(event) {\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id)\r\n    this.modalAccountInfo = false;\r\n  }\r\n\r\n  size: any = [12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  /////////////------------------------FONT_SIZE---------------------------//////////////\r\n  public fontSize: number = parseFloat(localStorage.getItem(\"vh-cafe-system-fontsize\"));\r\n  public setFontSize(value) {\r\n    localStorage.setItem(\"vh-cafe-system-fontsize\", JSON.stringify(value))\r\n    this.fontSize = value\r\n    document.documentElement.style.fontSize = value + 'px'\r\n  }\r\n  /////////////------------------------COLOR---------------------------//////////////\r\n  changeColor(theme, event) {\r\n    this.vhAuth.changeTheme(theme, event)\r\n  }\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName('default_selling_page')\r\n  show_modal_choose_interface = false\r\n  /**\r\n  * thiết lập giao diện trang bán hàng\r\n  * @param type sale-pos | sale-desktop\r\n  */\r\n  public updateSellingInterface() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      if (this.vhAuth.checkMyPermission('selling_display_page')) {\r\n        if (!this.default_selling_page) {\r\n          this.vhComponent.hideLoading(0)\r\n          this.show_modal_choose_interface = true\r\n        }\r\n        else this.vhAuth.updateMyPermission({ default_display_page: 'selling_display_page', default_selling_page :  this.default_selling_page })\r\n          .then((bool) => {\r\n            console.log('updateMyPermission', bool);\r\n            console.log('getLocalMyPermissionName', this.vhAuth.getLocalMyPermissionName(\"default_display_page\"));\r\n            this.vhComponent.hideLoading(0)\r\n              .then(() => {\r\n                this.router.navigate(['/cafe/'+this.default_selling_page], { state: { isSync: true } });\r\n              })\r\n\r\n          })\r\n      }\r\n      else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"You do not have this rights\"))\r\n    })\r\n  }\r\n\r\n  /**\r\n    * thiết lập giao diện trang bán hàng  cafe-pos | cafe-desktop\r\n    *\r\n    */\r\n  updateSalesInterface() {\r\n    this.vhAuth.updateEmployee(this.user._id, { default_selling_page: this.user.default_selling_page })\r\n      .then((bool) => {\r\n        this.router.navigate(['/cafe/'+this.user.default_selling_page], { state: { isSync: true } })\r\n      })\r\n  }\r\n  public gotoChangeVoucher() {\r\n    this.router.navigateByUrl('/cafe/exchange-voucher')\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_desktop\", true)\r\n  }\r\n\r\n  gotoPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/prepaid-card', { state: { url: this.router.url } })\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_desktop\", true)\r\n  }\r\n  gotoSalesVoucher() {\r\n    this.router.navigateByUrl('/cafe/sales-voucher')\r\n  }\r\n\r\n  gotoSalesPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/sales-payment-card')\r\n  }\r\n\r\n  gotoSalesOrder() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order')\r\n  }\r\n  gotoSalesOrderVoucher() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-voucher')\r\n  }\r\n  gotoExchangeOrderVoucher() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-voucher')\r\n  }\r\n  gotoSalesOrderPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-payment-card')\r\n  }\r\n  gotoExchangeOrderCard() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-payment-card')\r\n  }\r\n\r\n\r\n  gotoDispatcher(item) {\r\n    console.log(item);\r\n    \r\n    this.router.navigate(['/cafe/coordination'], { state: item })\r\n  }\r\n  checkPlatformShowPrintKitchen(){\r\n    if(this.platform.is(\"electron\"))\r\n    this.showConfigPrintKitchenElectron = true;\r\n    else this.showConfigPrintKitchen = true;\r\n  }\r\n\r\n\r\n\r\n  /** Bill details có chứa service time hay không */\r\n  isContainServiceTime: boolean = false;\r\n  /** Để kích sự kiện ngOnCHange cho component InvoiceDetailComponent để tính lại tiền service time */\r\n  updateServiceTimePrice: boolean = false;\r\n\r\n\r\n\r\n  /**\r\n   * Khi mở modal Thanh toán\r\n   */\r\n  openBillStatusModal() {\r\n    if(this.isContainServiceTime) {\r\n      this.updateServiceTimePrice = !this.updateServiceTimePrice;\r\n    }\r\n    this.openBillStatus = true;\r\n  }\r\n\r\n}\r\n","<nz-layout id=\"order-invoice\">\r\n    <div nz-row style=\"height: 100%;\">\r\n        <div nz-col nzSpan=\"16\" style=\"padding-right: 8px;\">\r\n            <div class=\"sales-invoice-header\" nz-row style=\"background: white;margin: 0;padding: 8px;\">\r\n                <div nz-col nzSpan=\"3\" class=\"left-all-content title-header\">\r\n                    <b>{{'Order' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"left-all-content title-header\">\r\n                    <nz-input-group *ngIf=\"areaID == 'go_home'\" [nzSuffix]=\"suffixIconSearch\" class=\"search-bill\">\r\n                        <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n                            placeholder=\"{{'Search for invoice code, employee name, customer name, customer phone' | translate}}\" />\r\n                    </nz-input-group>\r\n                    <ng-template #suffixIconSearch>\r\n                        <i nz-icon nzType=\"search\"></i>\r\n                    </ng-template>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"title center-all-content\">\r\n                    <nz-select *ngIf=\"areaID == 'go_home'\" [(ngModel)]=\"filterType\" (ngModelChange)=\"sortFilter($event)\"\r\n                        nzBorderless>\r\n                        <nz-option *ngFor=\"let item of listFilter\" [nzValue]=\"item.value\"\r\n                            [nzLabel]=\"item.name | translate\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div nz-col nzSpan=\"11\" class=\"right-all-content button\">\r\n                    <div *ngIf=\"area.length\">\r\n                        <button (click)=\"gotoListInvoice()\" class=\"center-all-content btn-white\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"color: var(--ion-color-vh-white);\"\r\n                                src=\"assets/icon/sales/list-invoice.svg\">\r\n                            </ion-icon>\r\n                            {{'Invoices today' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <div *ngIf=\"areaID != 'go_home'\">\r\n                        <button (click)=\"gotoBooking()\" class=\"center-all-content btn-white\" nz-button nzType=\"default\">\r\n                            <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/sales/booking.svg\">\r\n                            </ion-icon>\r\n                            {{'Booking' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <div *ngIf=\"areaID != 'go_home'\">\r\n                        <button (click)=\"gotoSeperateTable()\" class=\"center-all-content btn-white\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/sales/separate.svg\">\r\n                            </ion-icon>\r\n                            {{'Separate table' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <div *ngIf=\"areaID != 'go_home' && area.length\">\r\n                        <button (click)=\"gotoSwitchTable()\" class=\"center-all-content btn-white\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/sales/switch.svg\">\r\n                            </ion-icon>\r\n                            {{'Switch table' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <!-- <div *ngIf=\"areaID == 'go_home' && area.length\">\r\n                        <button (click)=\"createBillTakeaway()\" class=\"center-all-content btn-green \" nz-button nzType=\"default\">\r\n                            <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/add.svg\"></ion-icon>\r\n                            {{'Create take-away order' | translate}}\r\n                        </button>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" style=\"height: 100%;background: white;padding: 8px;\">\r\n                <nz-tabset nzSelectedIndex=\"{{indexTab}}\">\r\n                    <nz-tab (nzSelect)=\"areaChanged(area._id)\" *ngFor=\"let area of area\"\r\n                        nzTitle=\"{{ area.name |translate}}\">\r\n                    </nz-tab>\r\n                </nz-tabset>\r\n                <div id=\"area-order\" class=\"hideScrollbar\" nz-row nzGutter=\"32\" *ngIf=\"areaID != 'go_home'\">\r\n                    <div (click)=\"getBillByTable(item); \" *ngFor=\"let item of listTables\" nz-col nzSpan=\"4\"\r\n                        class=\"table\">\r\n                        <div class=\"table-item\"\r\n                            [ngClass]=\"{'table-item-active' : item.status, 'table-item-selected' : item.selected}\">\r\n                            <div class=\"table-item-name center-all-content hideScrollbar\">{{item.name}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"!listTables.length\" class=\"not-found\">{{\"Not found\" | translate}}</div>\r\n                </div>\r\n                <ng-container *ngIf=\"areaID == 'go_home' && area.length\">\r\n                    <div nz-row *ngIf=\"!invoiceShow.length\" style=\"height: 100%;\">\r\n                        <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                            <p>{{'No data!' | translate}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"invoiceShow.length\" style=\"margin-top: 16px;\">\r\n                        <div class='total-item small-size'>{{'Total' |translate}}<span\r\n                                style=\"color:var(--ion-color-vh-red)\">\r\n                                {{invoiceShow.length}} </span>{{'unpaid' | translate}}\r\n                        </div>\r\n                        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoiceShow\" #tableSales nzShowPagination\r\n                            nzShowSizeChanger nzNoResult=\"0 {{'unpaid' | translate}}\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Date' | translate}}</b></th>\r\n                                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Invoice code' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='left'><b>{{'Customer' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" nzAlign='left'><b>{{'Payment method' | translate}}</b></th>\r\n                                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Employee' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\"\r\n                                    (click)=\"invoiceSelected = invoice; debt = invoice.id_customer == 'id_retail' ? false : this.vhQueryCafe.getlocalCustomer(invoice.id_customer)\">\r\n                                    <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                                    <td nzAlign='left'>{{invoice.bill_code}}</td>\r\n                                    <td nzAlign='left'>{{invoice.customerName |translate}} <br>\r\n                                        <span *ngIf=\"invoice.retail_name\">({{invoice.retail_name}} -\r\n                                            {{invoice.retail_phone}} <span>{{invoice.retail_address ? '-':''}}</span>\r\n                                            {{invoice.retail_address}})</span>\r\n                                    </td>\r\n                                    <td nzAlign='left'>{{invoice.paymentName}}</td>\r\n                                    <td nzAlign='left'>{{invoice.employeeName}}</td>\r\n                                    <td class=\"money-right\">\r\n                                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                </ng-container>\r\n                <ng-container *ngIf=\"!area.length\">\r\n                    <div class=\"no-data\">{{'Please turn on the area'| translate}} !</div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales\" nz-col nzSpan=\"8\">\r\n            <div nz-row class=\"sales-invoice-header\">\r\n                <div nz-col nzSpan=\"24\" class=\"title-header \"  [ngStyle]=\"{'justify-content': useBranch ? 'space-between' : 'flex-end'}\">\r\n                    <div class=\"select-branch\" *ngIf=\"useBranch\">\r\n                        <ion-icon src=\"assets/icon/global/location.svg\"></ion-icon>\r\n                        <div class=\"select-branch-name\">{{vhQueryCafe.getDefaultBranch().name}}</div>\r\n                    </div>\r\n\r\n                    <div class=\"center-all-content\" style=\"cursor: pointer;height: 100%;\" nz-dropdown\r\n                        [nzDropdownMenu]=\"menu\" nzTrigger=\"click\">\r\n                        <div\r\n                            style=\"white-space: nowrap;font-size: 0.9rem; margin-right: 4px; text-transform: capitalize;\">\r\n                            {{user.name}}</div>\r\n                        <nz-avatar [nzSrc]=\"user.img ? user.img : 'https://raw.githubusercontent.com/Viethas-App/Sales365-Desktop-Electron/refs/heads/main/assets/template/avatar-shop.png'\"></nz-avatar>\r\n                    </div>\r\n                    <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n                        <ul nz-menu nzSelectable>\r\n                            <!-- <li nz-menu-item (click)=\"showModalSelectOrderInterface = true\"><i nz-icon nzType=\"swap\" nzTheme=\"outline\"></i>{{'Order interface' | translate}}</li>\r\n                            <li nz-menu-item (click)=\"gotoOverview()\">\r\n                                <ion-icon style=\" padding-top: 10px;margin-right: 8px;\" src=\"assets/icon/overviews/overviews.svg\"></ion-icon>\r\n                                <span>{{'Overviews' | translate}}</span>\r\n                            </li> -->\r\n                            <!-- <li nz-menu-item (click)=\"gotoOverview()\">\r\n                                <i nz-icon nzType=\"home\" nzTheme=\"outline\" ></i>\r\n                                <span>{{'Admin page' | translate}}</span>\r\n                            </li> -->\r\n                            <!-- <li nz-menu-item ><i nz-icon nzType=\"swap\" nzTheme=\"outline\"></i>{{'Select sales interface' | translate}}</li> -->\r\n                            <!-- <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                                <ng-template #titleTpl><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span\r\n                                        style=\"margin-left: 1px;\"> {{'Sales' | translate}}</span>\r\n                                </ng-template>\r\n                                <ul>\r\n                                    <li nz-menu-item (click)=\"updateInterface('cafe-pos','pos_display_page')\"\r\n                                        [nzDisabled]=\"!vhAuth.checkMyPermission('pos_display_page')\"\r\n                                        [ngClass]=\"{'selected': user.default_display_page == 'pos_display_page'}\">\r\n                                        <i nz-icon nzType=\"border-outer\" nzTheme=\"outline\"></i> {{'POS sales interface'\r\n                                        | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"updateInterface('cafe-desktop','desktop_display_page')\"\r\n                                        [nzDisabled]=\"!vhAuth.checkMyPermission('desktop_display_page')\"\r\n                                        [ngClass]=\"{'selected': user.default_display_page == 'desktop_display_page'}\">\r\n                                        <i nz-icon nzType=\"desktop\" nzTheme=\"outline\"></i> {{'Desktop sales interface' |\r\n                                        translate}}\r\n                                    </li>\r\n                                </ul>\r\n                            </li> -->\r\n                            <li nz-menu-item style=\"color: var(--ion-color-vh-green);\" > <i nz-icon nzType=\"dollar\"  nzTheme=\"outline\"></i> {{'Sales'| translate}}</li>\r\n                            <li nz-menu-item (click)=\"updateInterface('dashboard','admin_display_page')\"\r\n                                [nzDisabled]=\"!vhAuth.checkMyPermission('admin_display_page')\"> <i nz-icon nzType=\"home\"\r\n                                    nzTheme=\"outline\"></i> {{'Administrator'| translate}}</li>\r\n                            <li nz-submenu [nzTitle]=\"titleTplDispatcher\">\r\n                                <ng-template #titleTplDispatcher><i nz-icon nzType=\"swap\" nzTheme=\"outline\"></i><span\r\n                                        style=\"margin-left: 1px;\"> {{'Dispatcher' | translate}}</span>\r\n                                </ng-template>\r\n                                <ul>\r\n                                    <li nz-menu-item *ngFor=\"let item of kitchens\"   (click)=\"gotoDispatcher(item)\">\r\n                                        <span >{{item.name}}</span>\r\n                                    </li>\r\n                                    <li nz-menu-item *ngIf=\"!kitchens.length\">\r\n                                        <span >{{\"You haven't created a dispatch area yet\" | translate}}</span>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li nz-submenu [nzTitle]=\"titleTplSalesVoucher\">\r\n                                <ng-template #titleTplSalesVoucher><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Sell voucher/card' | translate}}</span></ng-template>\r\n                                <ul>\r\n                                    <li nz-menu-item (click)=\"gotoSalesVoucher()\">\r\n                                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Sell voucher' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoSalesPrepaidCard()\">\r\n                                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Sell prepaid card' | translate}}\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                                <ng-template #titleTpl><i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Exchange voucher/card' | translate}}</span></ng-template>\r\n                                <ul>\r\n                                    <li nz-menu-item (click)=\"gotoChangeVoucher()\">\r\n                                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Exchange voucher for goods' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoPrepaidCard()\">\r\n                                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Exchange prepaid card for goods' | translate}}\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li nz-submenu [nzTitle]=\"titleTplWebAPp\">\r\n                                <ng-template #titleTplWebAPp><span nz-icon nzType=\"global\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Order from web/app' | translate}}</span></ng-template>\r\n                                <ul>\r\n                                    <li nz-menu-item (click)=\"gotoSalesOrder()\">\r\n                                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Orders' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoSalesOrderVoucher()\">\r\n                                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Voucher purchase order' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoExchangeOrderVoucher()\">\r\n                                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Voucher exchange order for goods' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoSalesOrderPrepaidCard()\">\r\n                                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card purchase order' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"gotoExchangeOrderCard()\">\r\n                                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card exchange order for goods' | translate}}\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li (click)=\"modalAccountInfo =true\" nz-menu-item><i nz-icon nzType=\"user\"\r\n                                    nzTheme=\"outline\"></i> {{'Account information' | translate}}\r\n                            </li>\r\n                            <li *ngIf=\"branchList.length > 1\" (click)=\"change_branch()\" nz-menu-item><i nz-icon\r\n                                    nzType=\"branches\" nzTheme=\"outline\"></i> {{'Change branch' | translate}}</li>\r\n                            <li (click)=\"show_modal_choose_interface= true\" nz-menu-item><i nz-icon nzType=\"retweet\"\r\n                                    nzTheme=\"outline\"></i> {{'Change sales interface' | translate}}\r\n                            </li>\r\n                            <li nz-submenu [nzTitle]=\"titleTplSetting\">\r\n                                <ng-template #titleTplSetting><span nz-icon nzType=\"setting\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Sales page settings' | translate}}</span></ng-template>\r\n                                <ul style=\"min-width: 125px;\">\r\n                                    <li nz-menu-item (click)=\"showConfigSales = true\">\r\n                                        <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i> {{'Display sales page' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"showConfigPrint = true\">\r\n                                        <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Sales print page' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item  (click)=\"checkPlatformShowPrintKitchen()\">\r\n                                        <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Kitchen print page' | translate}}\r\n                                    </li>\r\n                                    <li nz-menu-item (click)=\"showConfig = true\">\r\n                                        <i nz-icon nzType=\"setting\" nzTheme=\"outline\"></i> {{'Others'| translate}}\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li (click)=\"logout()\" nz-menu-item><i nz-icon nzType=\"logout\" nzTheme=\"outline\"></i> {{'Log out' | translate}}\r\n                            </li>\r\n                        </ul>\r\n                    </nz-dropdown-menu>\r\n                </div>\r\n            </div>\r\n            <!-- <div nz-row class=\"sales-invoice-contain\"> -->\r\n            <app-invoice-detail [invoices]=\"invoiceSelected\" [id_area]=\"areaID\" [id_table]=\"tableID\" (not_exist_invoice)=\"deleteBill()\"\r\n                [indexTab]=\"indexTab\" [searchValue]=\"searchValue\" [filterType]=\"filterType\"  [error_to_get_bill]=\"error_to_get_bill\"\r\n                [updateServiceTimePrice]=\"updateServiceTimePrice\"\r\n                (isContainServiceTime)=\"isContainServiceTime = true\"\r\n                ></app-invoice-detail>\r\n            <!-- </div> -->\r\n\r\n            <div nz-row class=\"sales-invoice-btn\">\r\n                <button [disabled]=\"!invoiceSelected || !vhAuth.checkMyPermission('sales_enable_payment')\"\r\n                    (click)=\"openBillStatusModal()\" nz-button class=\"order-and-print\">\r\n                    {{\"Pay\"|translate}}\r\n                </button>\r\n                <button [disabled]=\"!invoiceSelected\" (click)=\"gotoOrder()\" nz-button class=\"order-btn\">\r\n                    {{\"Order\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<!-- ---------------------Hiển thị thông tin thanh toán------------------- -->\r\n<nz-modal *ngIf=\"invoiceSelected\" [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooterPrintKitchen\" [nzWidth]=\"444\" [(nzVisible)]=\"openBillStatus\"\r\n    (nzOnCancel)=\"openBillStatus = false\" [nzTitle]=\"'Payment information' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <app-payment-info [invoices]=\"invoiceSelected\" [debt]=\"debt\" [tax]=\"invoiceSelected.tax\"\r\n            (deleteBill)=\"deleteBill() ; openBillStatus = false\"\r\n            [paymentType]=\"invoiceSelected.payment_type == 3 ? [invoiceSelected.payment_type, invoiceSelected.id_wallet]: [invoiceSelected.payment_type]\">\r\n        </app-payment-info>\r\n    </ng-container>\r\n    <ng-template #modalFooterPrintKitchen>\r\n        <!-- <div style=\"display: flex;justify-content: space-between;\">\r\n            <button [disabled]=\"!checkPrinter\" nz-button\r\n            id=\"order-and-print\" class=\"order-and-print\" (click)=\"saveInvoice('print')\">\r\n            {{\"Pay & Print\"|translate}} (F1)\r\n        </button>\r\n            <button nz-button id=\"order\" class=\"order\" (click)=\"saveInvoice('notPrint')\">\r\n            {{\"Complete\" | translate}} (F2)\r\n        </button>\r\n        </div> -->\r\n\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- ---------------------modal chọn giao diện gọi món------------------- -->\r\n<!-- <nz-modal  nzWidth=\"70vw\" [(nzVisible)]=\"showModalSelectOrderInterface\" (nzOnOk)=\"updateInterface(order.interface)\"\r\n    (nzOnCancel)=\"showModalSelectOrderInterface = false\" [nzTitle]=\"'Order interface' | translate\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"row custom-scroll-bar\">\r\n            <div nz-col nzSpan=\"12\" class=\"bottom-right col\">\r\n                <div class=\"border-hover\" (click)=\"order.interface = 1\" [class.active]=\" order.interface == 1\">\r\n                    <img src=\"assets/img/order-1.svg\" style=\"width: 100%;\" />\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" class=\"bottom-left col\">\r\n                <div class=\"border-hover\" (click)=\"order.interface = 2\" [class.active]=\" order.interface == 2\">\r\n                    <img src=\"assets/img/order-2.svg\" style=\"width: 100%;\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal> -->\r\n<!-- ---------------------modal cấu hình------------------- -->\r\n<nz-modal nzWidth=\"50vw\" [(nzVisible)]=\"showConfig\" (nzOnCancel)=\"showConfig = false\"\r\n    [nzTitle]=\"'Other settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list nzSize=\"default\">\r\n            <div  nz-row class=\"row\">\r\n                <nz-select style=\"min-width: 140px;\" class=\"select-lang\" [(ngModel)]=\"lang\"\r\n                    (ngModelChange)=\"selectLang($event)\" nzBorderless [nzCustomTemplate]=\"defaultTemplate\">\r\n                    <nz-option *ngFor=\"let item of langList\" nzLabel=\"{{item.name | translate}}\" nzCustomContent\r\n                        [nzValue]=\"item.value\">\r\n                        <img style=\"width: 24px;\" [src]=\"item.img\" /> {{item.name}}\r\n                    </nz-option>\r\n                </nz-select>\r\n                <ng-template #defaultTemplate let-selected>\r\n                    <img style=\"width: 24px;\" src=\"assets/icon/settings/language/{{selected.nzValue}}.svg\" />\r\n                    {{selected.nzLabel}}\r\n                </ng-template>\r\n            </div>\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Font size'| translate}}</span>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <nz-select [(ngModel)]=\"fontSize\" (ngModelChange)=\"setFontSize($event)\">\r\n                            <nz-option *ngFor=\"let item of size\" [nzValue]=\"item\" [nzLabel]=\"item\"></nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"row\">\r\n                <span class='sub-title'> {{'Color'| translate}}</span>\r\n                <nz-list-item class=\"no-border\">\r\n                    <div id='color-picker'>\r\n                        <div class='color gray-theme' (click)=\"changeColor('gray-theme', $event)\"\r\n                            style=\"background-color: #7F7F7F;\">\r\n                        </div>\r\n                        <div class='color brown-theme' (click)=\"changeColor('brown-theme', $event)\"\r\n                            style=\"background-color: #880015;\">\r\n                        </div>\r\n                        <div class=\"color red-theme\" (click)=\"changeColor('red-theme', $event)\"\r\n                            style=\"background-color: #ED1B24;\">\r\n                        </div>\r\n                        <div class='color orange-theme' (click)=\"changeColor('orange-theme', $event)\"\r\n                            style=\"background-color: #FF7F26;\"></div>\r\n                        <div class=\"color yellow-theme\" (click)=\"changeColor('yellow-theme', $event)\"\r\n                            style=\"background-color: #f1c40f;\"></div>\r\n                        <div class='color vh-theme' (click)=\"changeColor('vh-theme', $event)\"\r\n                            style=\"background-color: #23B14D;\"></div>\r\n                        <div class='color sky-theme' (click)=\"changeColor('sky-theme', $event)\"\r\n                            style=\"background-color: #00A3E8;\">\r\n                        </div>\r\n                        <div class='color blue-theme' (click)=\"changeColor('blue-theme', $event)\"\r\n                            style=\"background-color: #3F47CC;\">\r\n                        </div>\r\n                        <div class='color purple-theme' (click)=\"changeColor('purple-theme', $event)\"\r\n                            style=\"background-color: #A349A3;\"></div>\r\n                    </div>\r\n                </nz-list-item>\r\n            </div>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<!-- modal hiễn thị cấu hình in -->\r\n<app-config-print [showConfigPrint]=\"showConfigPrint\" (hide)=\"showConfigPrint = false\">\r\n</app-config-print>\r\n\r\n<!-- modal hiễn thị cấu hình in bếp -->\r\n<app-config-print-kitchen  [showConfigPrint]=\"showConfigPrintKitchen\" (hide)=\"showConfigPrintKitchen = false\"></app-config-print-kitchen>\r\n\r\n<!-- modal hiễn thị cấu hình in bếp cho app-->\r\n<app-config-print-kitchen-electron  [showConfigPrint]=\"showConfigPrintKitchenElectron\" (hide)=\"showConfigPrintKitchenElectron = false\"></app-config-print-kitchen-electron>\r\n<!-- modal hiễn thị cấu hình bán hàng -->\r\n<app-config-sales [showConfigSales]=\"showConfigSales\" (hide)=\"showConfigSales = false\">\r\n</app-config-sales>\r\n<!-- modal thông tin tài khoản -->\r\n<app-account-information *ngIf=\"modalAccountInfo\" [modalAccountInfo]=\"modalAccountInfo\"\r\n    (closeAccount)=\"closeAccountInfo($event)\"></app-account-information>\r\n\r\n<!-- ---------------------modal chọn giao diện bán hàng ------------------- -->\r\n<nz-modal [nzStyle]=\"{ top: '45%', transform: 'translateY(-50%)' }\" [nzBodyStyle]=\"{'max-height': '70vh'}\" nzWidth=\"60vw\" [(nzVisible)]=\"show_modal_choose_interface\" (nzOnOk)=\"updateSellingInterface()\"\r\n    (nzOnCancel)=\"show_modal_choose_interface = false\" [nzTitle]=\"'Sales interface' | translate\"\r\n    nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\" style=\"justify-content: start !important;\">\r\n            <div *ngFor=\"let template of templates\" nz-col nzSpan=\"12\" class=\"bottom-right\">\r\n                <div class=\"thumbnail\" (click)=\"default_selling_page = template.url\" [class.active]=\" default_selling_page == template.url\">\r\n                    <img [src]=\"template.image\" style=\"width: 100%;\" />\r\n\r\n                </div>\r\n                <div style=\"text-align: center;\">\r\n                    {{template.name | translate}} <i *ngIf=\"default_selling_page == template.url\" style=\"color: var(--ion-color-vh-green);\" nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n","import { ConfigSalesComponent } from './components/config-sales/config-sales.component';\r\nimport { ConfigPrintComponent } from './components/config-print/config-print.component';\r\nimport { AccountInformationComponent } from './components/account-information/account-information.component';\r\nimport { KeyboardModule } from '../../keyboard/keyboard.module';\r\nimport { Bill1Component } from './components/invoice-detail/bill1/bill1.component';\r\nimport { BillDetail1Component } from './components/invoice-detail/bill-detail1/bill-detail1.component';\r\nimport { playerFactory } from 'src/app/app.module';\r\nimport { LottieModule } from 'ngx-lottie';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from '../ng-zorro-ant.module';\r\nimport { ReactiveFormsModule,FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InvoiceDetailComponent } from './components/invoice-detail/invoice-detail.component';\r\nimport { CafeDesktopComponent } from './cafe-desktop.component';\r\nimport { PaymentInfoComponent } from './components/invoice-detail/payment-info/payment-info.component';\r\nimport { ConfigPrintKitchenComponent } from './components/config-print-kitchen/config-print-kitchen.component';\r\nimport { ConfigPrintKitchenElectronComponent } from './components/config-print-kitchen-electron/config-print-kitchen-electron.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CafeDesktopComponent,\r\n  },\r\n  // {\r\n  //   path: 'cart2',\r\n  //   loadChildren: () => import('./components/cart/cart.module').then(m => m.CartModule)\r\n  // },\r\n  {\r\n    path: 'list-invoice',\r\n    loadChildren: () => import('./components/list-invoice/list-invoice.module').then(m => m.ListInvoiceModule)\r\n  },\r\n  {\r\n    path: \"switch-table\",\r\n    loadChildren: () => import(\"./components/advange/switch-table/switch-table.module\").then(m => m.SwitchTableModule)\r\n  },\r\n  {\r\n    path: \"seperate-table\",\r\n    loadChildren: () => import(\"./components/advange/seperate-table/seperate-table.module\").then(m => m.SeperateTableModule)\r\n  },\r\n  {\r\n    path: \"booking\",\r\n    loadChildren: () => import(\"./components/advange/booking/booking.module\").then(m => m.BookingModule)\r\n  },\r\n  {\r\n    path: 'cart1',\r\n    loadChildren: () => import('./components/cart1/cart1.module').then(m => m.Cart1Module)\r\n  },\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CafeDesktopComponent,\r\n    InvoiceDetailComponent,\r\n    BillDetail1Component,\r\n    Bill1Component,\r\n    PaymentInfoComponent,\r\n    AccountInformationComponent,\r\n    ConfigPrintComponent,\r\n    ConfigSalesComponent,\r\n    ConfigPrintKitchenComponent,\r\n    ConfigPrintKitchenElectronComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    LottieModule.forRoot({ player: playerFactory }),\r\n    KeyboardModule\r\n  ]\r\n})\r\nexport class CafeDesktopModule { }\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhAlgorithm, VhAuth, VhImage } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n\r\n@Component({\r\n  selector: 'app-account-information',\r\n  templateUrl: './account-information.component.html',\r\n  styleUrls: ['./account-information.component.scss']\r\n})\r\nexport class AccountInformationComponent {\r\n  @Input() modalAccountInfo: boolean = false\r\n  @Output() closeAccount = new EventEmitter<any>()\r\n  detailEmployee: FormGroup;\r\n  employee: any;\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.countryCode = this.employee.countryCode ?? this.fncService.defaultCountryCode;\r\n    this.callingCode = this.fncService.getCallingCodeFromCountryCode(this.countryCode) ?? this.fncService.defaultCallingCode;\r\n    this.formattedPhone = this.fncService.getFormattedPhoneNumber(this.employee.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailEmployee = new FormGroup({\r\n      img: new FormControl(this.employee.img),\r\n      name: new FormControl(this.employee.name, Validators.compose([Validators.required, Validators.compose([Validators.minLength(6)])])),\r\n      email: new FormControl(this.employee.email, Validators.email),\r\n      password: new FormControl(this.employee.password, Validators.compose([Validators.minLength(5), Validators.required])),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.fncService.phoneValidator(() => this.countryCode)]),\r\n      gender: new FormControl(this.employee.gender),\r\n      address: new FormControl(this.employee.address),\r\n      dateofbirth: new FormControl(this.employee.dateofbirth),\r\n      datework: new FormControl(this.employee.datework),\r\n      contract: new FormControl(this.employee.contract),\r\n    });\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"employees\", this.detailEmployee.value[\"img\"] || null).then(\r\n      photoURL => {\r\n        this.detailEmployee.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateEmployee(this.detailEmployee);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeAccount.emit(false)\r\n  }\r\n\r\n  /**Cập nhật thông tin thay đổi */\r\n  updateEmployee(formValue) {\r\n    if (formValue.valid) {\r\n      let value = { ...formValue.value };\r\n      if(value.phone) {\r\n        value.countryCode = this.countryCode;\r\n        value.phone = this.fncService.getNationalPhoneNumber(value.phone, this.countryCode);\r\n        value.phoneNumber = this.fncService.getInternationalPhoneNumber(value.phone, this.countryCode);\r\n      }\r\n      this.vhAuth.updateEmployee(this.employee._id, value).catch(err => { console.error(err) })\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string = this.fncService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.fncService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n}\r\n","<nz-modal nzWidth=\"60vw\" [(nzVisible)]=\"modalAccountInfo\" nzTitle=\"{{'Account information' | translate}}\"\r\n    [nzFooter]=\"null\" (nzOnOk)=\"closeModal()\" (nzOnCancel)=\"closeModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            <form id=\"layout-employee-form\" class=\"ant-table-body\" nz-form [formGroup]=\"detailEmployee\">\r\n                <div nz-row [nzGutter]=\"24\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                (change)=\"onUpload($event)\" />\r\n                            <img [ngStyle]=\"{width: detailEmployee.value.img ? '100%' : '60px'}\"\r\n                                onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                [src]=\"detailEmployee.value.img\" />\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Employee name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter employee name' | translate}}\" minlength=\"5\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Employee name is required'\r\n                                            | translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Email' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"email\" formControlName=\"email\" nz-input\r\n                                        placeholder=\"{{'Enter email' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Password' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly formControlName=\"password\" type=\"password\" nz-input\r\n                                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <div class=\"calling-code\">\r\n                                      <span>+{{callingCode}}</span>\r\n                                      <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                    </div>\r\n                                    <input formControlName=\"phone\" readonly\r\n                                      [placeholder]=\"'Enter phone number' | translate\" type=\"tel\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                        <nz-date-picker (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"dateofbirth\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Address'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter address' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"employee.owner =='boss'\">\r\n                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                        <nz-select style=\"border: none !important;\" nzShowSearch\r\n                            (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                            nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\">\r\n                            <nz-option nzLabel=\"{{'Female' | translate}}\" nzValue=\"Female\"></nz-option>\r\n                            <nz-option nzLabel=\"{{'Male' | translate}}\" nzValue=\"Male\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Starting date'|translate}}</b></div>\r\n                                <nz-date-picker style=\"width: 95%;\" (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                                    formControlName=\"datework\">\r\n                                </nz-date-picker>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Contract' | translate}}</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control>\r\n                                        <nz-input-group>\r\n                                            <input style=\"width: 95%;\" (blur)=\"updateEmployee(detailEmployee)\"\r\n                                                formControlName=\"contract\" nz-input\r\n                                                placeholder=\"{{'Enter contract' | translate}}\" />\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","\r\nimport { TestKitchentComponent } from 'src/app/cafe/components/print/test/test-kitchent/test-kitchent.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print-kitchen-electron',\r\n  templateUrl: './config-print-kitchen-electron.component.html',\r\n  styleUrls: ['./config-print-kitchen-electron.component.scss']\r\n})\r\nexport class ConfigPrintKitchenElectronComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  print_page: any = {}\r\n  item: any = {}\r\n  form_data : FormGroup ;\r\n\r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_driver_printer: any = []\r\n  list_number_print = [1, 2, 3, 4, 5]\r\n  printers : any[]= this.vhQueryCafe.getlocalPrinters()\r\n  showAddPrinter = false;\r\n  showEditPrinter = false\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.print_page = this.vhQueryCafe.getLocalPrintPage(\"page_desktop_kitchen\")\r\n    this.item = this.print_page ? this.print_page.print_sizes[this.print_page.print_sizes.findIndex(e => e._id == this.print_page.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n    this.getPrinter()\r\n  }\r\n  getPrinter() {\r\n    this.printers = this.vhQueryCafe.getlocalPrinters()\r\n    console.log(this.printers);\r\n\r\n  }\r\n\r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n\r\n  updatePrintPageType(value) {\r\n    this.item = this.print_page.print_sizes[this.print_page.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n\r\n  openModalAddPrint() {\r\n    this.showAddPrinter = true;\r\n    this.form_data  =  new FormGroup({\r\n      name: new FormControl('', Validators.required),\r\n      printer_name: new FormControl(''),\r\n      _id: new FormControl('')\r\n    }) \r\n  }\r\n  addPrinter() {\r\n     \r\n    this.vhQueryCafe.addPrinter({...this.form_data.value, default : this.printers.length ? false : true}).then((printer) => {\r\n      console.log('addPrinter', printer);\r\n      this.showAddPrinter = false;\r\n      if(!this.vhQueryCafe.getLocalPrintPage(\"page_desktop_kitchen\")) this.addPrintPage()\r\n    }, error => {\r\n      console.log('error', error);\r\n    })\r\n  }\r\n\r\n  openEdit(item) {\r\n    this.showEditPrinter = true;\r\n    this.form_data  =  new FormGroup({\r\n      name: new FormControl(item.name),\r\n      printer_name: new FormControl(item.printer_name),\r\n      _id: new FormControl(item._id)\r\n    }) \r\n  }\r\n  updatePrinter() {\r\n    this.vhQueryCafe.updatePrinter(this.form_data.value._id, this.form_data.value)\r\n      .then((bool) => {\r\n        console.log('updatePrinter', bool);\r\n        this.showEditPrinter = false;\r\n        this.printers[this.printers.findIndex(e => e._id == this.form_data.value._id)] = this.form_data.value\r\n      }, error => {\r\n        console.log('error', error);\r\n        this.showEditPrinter = false;\r\n      })\r\n  }\r\n  deletePrint(item) {\r\n    if(item.default){\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Bạn không thể xóa máy in mặc định\"))\r\n    }\r\n    else\r\n    this.vhQueryCafe.deletePrinter(item._id)\r\n      .then((bool) => {\r\n        console.log('deletePrinter', bool);\r\n      })\r\n  }\r\n  addPrintPage() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQueryCafe.addPrintPage('page_desktop_kitchen', { ...this.sales })\r\n        .then((printer: any) => {\r\n          console.log('addPrintPage',printer);\r\n\r\n          this.print_page = printer\r\n          this.item = printer.print_sizes[0]\r\n          setTimeout(() => {\r\n            this.vhComponent.hideLoading(0)\r\n          }, 500);\r\n        }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n\r\n  setDefault(item) {\r\n    let index = this.printers.findIndex(item => item.default)\r\n    if (index != -1) {\r\n      this.printers[index].default = false;\r\n      item.default = true; item.status = true;\r\n      Promise.all([this.vhQueryCafe.updatePrinter(item._id, item), this.vhQueryCafe.updatePrinter(this.printers[index]._id, this.printers[index])])\r\n        .then(res => {\r\n          this.getPrinter()\r\n          this.vhComponent.showToast(1500, this.languageService.translate(\"Printer\") + \" \" + item.name + \" \" + this.languageService.translate(\"has been set default successfully\"), \"success-toast\")\r\n        })\r\n    } else {\r\n      item.default = true; item.status = true;\r\n      this.vhQueryCafe.updateTax(item._id, item)\r\n    }\r\n  }\r\n  // dữ liệu dùng để thêm máy in\r\n  sales = {\r\n    print_size_default: \"print_size_k57_3c\",\r\n    print_page_type: 'page_desktop_kitchen',\r\n    print_sizes: [\r\n      {\r\n        _id: 'print_size_k57_3c',\r\n        name: 'K57 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        copies: 1,\r\n        printer_name: '',\r\n        header_hidden: false,\r\n        table_name_hidden: false,\r\n      }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_driver_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.print_page }\r\n    delete value._id;\r\n    this.vhQueryCafe.updatePrintPage(this.print_page._id, value);\r\n  }\r\n  printTemp() {\r\n\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(), { printer: this.item }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n\r\n  private renderPrintSalesPage() {\r\n    return TestKitchentComponent\r\n  }\r\n\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzWidth=\"50vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\" nzCentered\r\n    [nzTitle]=\"'Configure kitchen print page' | translate\">\r\n\r\n    <ng-container *nzModalContent>\r\n        <!-- <div nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <h4>Danh sách máy in bếp</h4>\r\n                <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n                    <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                        translate}}</button>\r\n        \r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <h4>Cấu hình máy in</h4>\r\n            </div>\r\n        </div> -->\r\n        <nz-tabset>\r\n            <nz-tab nzTitle=\"Danh sách máy in bếp\">\r\n                <div *ngIf=\"printers.length\">\r\n                    <nz-list style=\"height: 400px\"  >\r\n                        <nz-list-item style=\"cursor: pointer;\" *ngFor=\"let data of printers\" >\r\n                            <ng-container>\r\n                                <nz-list-item-meta-title style=\"width:95%; overflow: hidden;\" >\r\n                                    <b>{{data.name }}</b>\r\n                                    <div class=\"quantity\">\r\n                                        {{'Printer' | translate}}: <span>{{data.printer_name}}</span>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"24\">\r\n                                        <label nz-radio (ngModelChange)=\"setDefault(data)\" [(ngModel)]=\"data.default\">{{'Set default' |\r\n                        translate}}</label>\r\n                                    </div>\r\n                                </nz-list-item-meta-title>\r\n                                <ul nz-list-item-actions>\r\n                                    <nz-list-item-action>\r\n                                        <i class=\"cus-icon\" nz-icon nzType=\"form\" nzTheme=\"outline\"\r\n                                            (click)=\"openEdit(data)\"></i>\r\n                                    </nz-list-item-action>\r\n                                    <nz-list-item-action>\r\n                                        <i class=\"cus-icon\" nz-icon nzType=\"delete\" nzTheme=\"outline\"\r\n                                        nz-popconfirm\r\n                                        nzPopconfirmTitle=\"{{'Confirm delete this kitchen printer?' | translate}}\"\r\n                                        (nzOnConfirm)=\"deletePrint(data)\" \r\n                                        nzPopconfirmPlacement=\"topLeft\"></i>\r\n                                    </nz-list-item-action>\r\n                                </ul>\r\n                            </ng-container>\r\n                        </nz-list-item>\r\n                      \r\n                    </nz-list>\r\n                </div>\r\n                <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printers.length\">\r\n                    {{'No data' |   translate}}\r\n                </div>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"Cấu hình máy in\">\r\n                <nz-list style=\"height: 400px;\" *ngIf=\"print_page\">\r\n\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\"\r\n                                [nzLabel]=\"item.name\"></nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item *ngIf=\"checktype(item.header_hidden)\" class=\"no-border\">\r\n                        <span> {{'Hide title' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item *ngIf=\"checktype(item.table_name_hidden)\" class=\"no-border\">\r\n                        <span> {{'Hide table name' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.table_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n\r\n\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"between-all-content\">\r\n            <button class=\"btn-add\" (click)=\"openModalAddPrint()\" nz-button> <i nz-icon nzType=\"plus\"\r\n                nzTheme=\"outline\"></i>{{'Thêm máy in điều phối' |\r\n            translate}}</button>\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<nz-modal [(nzVisible)]=\"showAddPrinter\" *ngIf=\"showAddPrinter\" (nzOnCancel)=\"showAddPrinter = false\" nzCentered (nzOnOk)=\"addPrinter()\"\r\n    [nzTitle]=\"'Add dispatch printer' | translate\" [nzOkDisabled]=\"form_data.invalid\">\r\n    <ng-container *nzModalContent>\r\n        <form [formGroup]=\"form_data\">\r\n            <div>{{'Printer name' | translate}}*</div>\r\n            <nz-form-item>\r\n                <nz-form-control>\r\n                    <nz-input-group>\r\n                        <input nz-input placeholder=\"{{'Enter printer name' | translate}}\"\r\n                            formControlName=\"name\" />\r\n                    </nz-input-group>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n            <div> {{'Select printer'| translate}}</div>\r\n            <nz-form-item>\r\n                <nz-select style=\"width: 330px;\" formControlName=\"printer_name\" (ngModelChange)=\"updatePrint()\">\r\n                    <nz-option *ngFor=\"let item of list_driver_printer\" [nzValue]=\"item.name\" [nzLabel]=\"item.name\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </nz-form-item>\r\n        </form>\r\n       \r\n    </ng-container>\r\n</nz-modal>\r\n<nz-modal [(nzVisible)]=\"showEditPrinter\"  *ngIf=\"showEditPrinter\" (nzOnCancel)=\"showEditPrinter = false\" nzCentered (nzOnOk)=\"updatePrinter()\"\r\n    [nzTitle]=\"'Update dispatch printer' | translate\"  [nzOkDisabled]=\"form_data.invalid\">\r\n    <ng-container *nzModalContent>\r\n        <form [formGroup]=\"form_data\">\r\n            <div>{{'Printer name' | translate}}*</div>\r\n            <nz-form-item>\r\n                <nz-form-control>\r\n                    <nz-input-group>\r\n                        <input nz-input placeholder=\"{{'Enter printer name' | translate}}\"\r\n                            formControlName=\"name\" />\r\n                    </nz-input-group>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n            <div> {{'Select printer'| translate}}</div>\r\n            <nz-form-item>\r\n                <nz-select style=\"width: 330px;\" formControlName=\"printer_name\" (ngModelChange)=\"updatePrint()\">\r\n                    <nz-option *ngFor=\"let item of list_driver_printer\" [nzValue]=\"item.name\" [nzLabel]=\"item.name\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </nz-form-item>\r\n        </form>\r\n    </ng-container>\r\n</nz-modal>","\r\nimport { TestKitchentComponent } from 'src/app/cafe/components/print/test/test-kitchent/test-kitchent.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { PrintTestA4Component } from 'src/app/cafe/components/print/test/A4/print-test-a4/print-test-a4.component';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print-kitchen',\r\n  templateUrl: './config-print-kitchen.component.html',\r\n  styleUrls: ['./config-print-kitchen.component.scss']\r\n})\r\nexport class ConfigPrintKitchenComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n\r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQueryCafe.getLocalPrintPage(\"page_desktop_kitchen\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n\r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n\r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  addPrinter() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQueryCafe.addPrintPage('page_desktop_kitchen',{...this.sales} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0]\r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n\r\n  // dữ liệu dùng để thêm máy in\r\n  sales = {\r\n    print_size_default: \"print_size_k57_3c\",\r\n    print_page_type: 'page_desktop_kitchen',\r\n    print_sizes: [\r\n      {\r\n        _id: 'print_size_k57_3c',\r\n        name: 'K57 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        copies: 1,\r\n        printer_name: '',\r\n        header_hidden: false,\r\n        table_name_hidden: false,\r\n      }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQueryCafe.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(), { printer: this.item }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n\r\n  private renderPrintSalesPage() {\r\n    return TestKitchentComponent\r\n  }\r\n\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzWidth=\"50vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\" nzCentered [nzTitle]=\"'Configure kitchen print page' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list style=\"height: 400px;\"  *ngIf=\"printer\">\r\n            <nz-list-item class=\"no-border\" *ngIf=\"platform.is('electron')\">\r\n                <span> {{'Select printer'| translate}}</span>\r\n                <nz-select style=\"width: 330px;\" [(ngModel)]=\"item.printer_name\"\r\n                    (ngModelChange)=\"updatePrint()\">\r\n                    <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\" [nzLabel]=\"item.name\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Allows print'| translate}}</span>\r\n                <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\" (ngModelChange)=\"updatePrint()\">\r\n                </nz-switch>\r\n            </nz-list-item> \r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Font style'| translate}}</span>\r\n                <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                    <nz-option  *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\"></nz-option>\r\n                  </nz-select>\r\n            </nz-list-item>\r\n            <nz-list-item>\r\n                <span> {{'Font size'| translate}}</span>\r\n                <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                    <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </nz-list-item> \r\n            <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                <span> {{'Hide title' | translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                    (ngModelChange)=\"updatePrint()\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item  *ngIf=\"checktype(item.table_name_hidden)\"class=\"no-border\">\r\n                <span> {{'Hide table name' | translate}}</span>\r\n                <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.table_name_hidden\"\r\n                    (ngModelChange)=\"updatePrint()\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n        </nz-list>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { LanguageService } from './../../../../services/language.service';\r\nimport { PrintTestK80Component } from 'src/app/cafe/components/print/test/K80/print-test-k80/print-test-k80.component';\r\nimport { PrintTestK57Component } from 'src/app/cafe/components/print/test/K57/print-test-k57/print-test-k57.component';\r\n\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { PrintTestA4Component } from 'src/app/cafe/components/print/test/A4/print-test-a4/print-test-a4.component';\r\nimport { Platform } from '@ionic/angular';\r\nimport { TestKitchentComponent } from 'src/app/cafe/components/print/test/test-kitchent/test-kitchent.component';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n \r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQueryCafe.getLocalPrintPage(\"page_desktop_sales\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() { \r\n  }\r\n  \r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  \r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  addPrinter() { \r\n    this.vhComponent.showLoading('').then(() => { \r\n      this.vhQueryCafe.addPrintPage('page_desktop_sales',{...this.sales} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0] \r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n \r\n  // dữ liệu dùng để thêm máy in\r\n  sales = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_sales',\r\n    print_sizes: [\r\n      {\r\n        _id: 'print_size_a4',\r\n        name: 'A4',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        left: 0,\r\n        right: 0,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n\r\n      },\r\n      {\r\n        _id: 'print_size_a5',\r\n        name: 'A5',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        left: 0,\r\n        right: 0,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n      },\r\n      {\r\n        _id: 'print_size_k80_4c',\r\n        name: 'K80 - 4 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Restaurant\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        left: 0,\r\n        right: 0,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k80_3c',\r\n        name: 'K80 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Restaurant\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        left: 0,\r\n        right: 0,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k57_3c',\r\n        name: 'K57 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Restaurant\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        left: 0,\r\n        right: 0,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQueryCafe.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    let invoice = new VhOrderInvoices(this.tempBillCustomerReturn,this.bill_details_CustomerReturn,this.vhQueryCafe);\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(this.item._id), { printer: this.item, invoice: invoice }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n  \r\n  private renderPrintSalesPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- dữ liệu mẫu --------- */\r\n  // khách trả hàng -- bán hàng - bảo hành sửa chữa\r\n  tempBillCustomerReturn: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 1,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"Đây là hoá đơn in thử...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n    id_table: \"go_home\"\r\n    \r\n  }\r\n\r\n  bill_details_CustomerReturn = [\r\n    {\r\n      name: \"Rau má sữa dừa (lớn)\",\r\n      unit: \"ly\",\r\n      price: 20000,\r\n      price_origin: 22000,\r\n      quantity: 1,\r\n    },\r\n    {\r\n      name: \"Bánh tráng trộn\",\r\n      unit: \"bịch\",\r\n      price: 20000,\r\n      quantity: 1, \r\n    },\r\n    {\r\n      name: \"Cafe sữa\",\r\n      unit: \"ly\",\r\n      price: 25000,\r\n      quantity: 1, \r\n    }\r\n  ]\r\n\r\n\r\n}","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Sales print page settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item  >\r\n                        <span> {{'Align left' | translate}}</span>\r\n                        <nz-input-number style=\"text-align:end;\" [nzMin]=\"0\" [(ngModel)]=\"item.left\" (ngModelChange)=\"updatePrint()\"\r\n                             ></nz-input-number>\r\n                    </nz-list-item>\r\n                    <nz-list-item  >\r\n                        <span> {{'Align right' | translate}}</span>\r\n                        <nz-input-number style=\"text-align:end;\"  [nzMin]=\"0\" [(ngModel)]=\"item.right\" (ngModelChange)=\"updatePrint()\"\r\n                             ></nz-input-number>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    \r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.qr_ibanking)\"class=\"no-border\">\r\n                        <span> {{'Hide QR code for bank transfer'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.qr_ibanking\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-config-sales',\r\n  templateUrl: './config-sales.component.html',\r\n  styleUrls: ['./config-sales.component.scss']\r\n})\r\nexport class ConfigSalesComponent implements OnInit {\r\n  best_selling: any = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n  show_confirm_pay : any = this.vhAuth.localStorageGET(\"show_confirm_pay\");\r\n  @Input() showConfigSales = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  constructor(\r\n    private vhAuth:VhAuth\r\n  ) {  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  updateSetting(title: string, event) { \r\n    this.vhAuth.localStorageSET(title,event)\r\n  }\r\n\r\n\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzWidth=\"50vw\" [(nzVisible)]=\"showConfigSales\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Display settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list  style=\"height: 145px;\">\r\n            <!-- <nz-list-item class=\"no-border\">\r\n                <span> {{'Show virtual keyboard'| translate}}</span>\r\n                <nz-switch mode=\"ios\"  [(ngModel)]=\"keyboard\"\r\n                    (ngModelChange)=\"updateSetting('show_keyboard',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item> -->\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show favorite dishes'| translate}}</span>\r\n                <nz-switch mode=\"ios\"  [(ngModel)]=\"best_selling\"\r\n                    (ngModelChange)=\"updateSetting('show_best_selling',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n            <nz-list-item class=\"no-border\">\r\n                <span> {{'Show payment confirmation' | translate}}</span>\r\n                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_confirm_pay\" (ngModelChange)=\"updateSetting('show_confirm_pay',$event)\">\r\n                </nz-switch>\r\n            </nz-list-item>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\nimport { ProductService } from 'src/app/cafe/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-bill-detail1',\r\n  templateUrl: './bill-detail1.component.html',\r\n  styleUrls: ['./bill-detail1.component.scss']\r\n})\r\nexport class BillDetail1Component implements OnInit { \r\n\r\n  // đối tượng hóa đơn\r\n  @Input() invoices: VhOrderInvoices \r\n  /** Để kích sự kiện ngOnCHange cho component InvoiceDetailComponent để tính lại tiền service time */\r\n  @Input() updateServiceTimePrice = false;\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price;\r\n  public VhType = VhType;\r\n\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private productService: ProductService,\r\n  ) { }\r\n\r\n  ngOnInit(): void { \r\n  }\r\n\r\n  ngOnChanges(changes): void {\r\n    if (changes['updateServiceTimePrice'] && changes['updateServiceTimePrice'].currentValue !== undefined && this.productService.isContainServiceTime(this.invoices)) {\r\n      this.productService.updateServiceTimePriceInvoiceDetail(this.invoices.getInvoiceDetail(), this.invoices.getPriceType());\r\n    }\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n  myTrackByNameFunction(element: any, index: any) {\r\n    return element.name ? element.name : index\r\n  }\r\n\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n}\r\n","<div class=\"layout\">\r\n  <div class=\"bill-detail\">\r\n    <div class=\"bill-detail-area ant-table-body\">\r\n      <div *ngIf=\"!invoices.getInvoiceDetail().length\" class=\"no-data\">\r\n        <p>{{'Please select a dishes/beverage' | translate}}</p>\r\n      </div>\r\n      <div class=\"bill-detail-area-item\" *ngFor=\"let item of invoices.getInvoiceDetail(); trackBy:myTrackByFunction\">\r\n        \r\n        <!-- CÓ Chương trình khuyến mãi -->\r\n        <ng-container *ngIf=\"item.id_promotion; else elseTemplate\">\r\n          <div class=\"bill-detail-area-item-info\">\r\n            <b>\r\n              {{item.name}}\r\n            </b>\r\n          </div>\r\n\r\n          <!-- Danh sách sản phẩm tặng đã chọn -->\r\n          <ng-container *ngIf=\"item.pmtype != 6\">\r\n            <div nz-row *ngFor=\"let data of item.products\" style=\"font-size: 0.9rem;\">\r\n              <div style=\"align-self: center;\" nz-col nzSpan=\"13\" class=\"center-col\">\r\n                <div>\r\n                  {{data.name}} <br>\r\n                  <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                  <del style=\"margin-left:5px;font-size: 0.8rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                    {{data.price_origin > data.price ?\r\n                    vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                  </del>\r\n                </div>\r\n                <ng-container *ngIf=\"data.id_lotproduct\">\r\n                  <div style=\"color:var(--ion-color-vh-green);cursor: pointer;\">{{getLotNumber(data.lots,\r\n                    data.id_lotproduct)}}\r\n                  </div>\r\n                </ng-container>\r\n                <div *ngIf=\"data.combos\">\r\n                  <span *ngFor=\"let combo of data.combos;index as i\"\r\n                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' + combo.name +\r\n                    ' (' + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x '\r\n                    + combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div nz-col nzSpan=\"3\">\r\n                {{getUnit(data.units,data.ratio)}}\r\n              </div>\r\n              <div class=\"align-center text-align-center \" nz-col nzSpan=\"4\">\r\n                <div>x{{data.quantity}}</div>\r\n              </div>\r\n              <div nz-col nzSpan=\"4\" class=\"money-sub\">\r\n                <p class=\"max-width-two-line\">\r\n                  <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                </p>\r\n              </div>\r\n              <div nz-col nzSpan=\"24\">\r\n                <div class=\"bill-detail-area-item-side-dishes\"\r\n                  *ngFor=\"let sideDishes of data.toppings ? data.toppings : []; trackBy:myTrackByFunction\">\r\n                  <ng-container *ngIf=\"sideDishes.quantity > 0\">\r\n                    <div class=\"delete-btn\"></div>\r\n                    <div class=\"item-name\">\r\n                      {{\"+ \" + sideDishes.name}} <br>\r\n                    </div>\r\n                    <div class=\"item-quantity\">x{{sideDishes.quantity}}</div>\r\n                    <div class=\"item-total\">\r\n                    </div>\r\n                    <div class=\"edit-btn\"></div>\r\n                  </ng-container>\r\n                </div>\r\n                <div class=\"bill-detail-area-item-properties\"\r\n                  *ngFor=\"let properties of data.properties ? data.properties : []; trackBy:myTrackByNameFunction\">\r\n                  <div class=\"delete-btn\"></div>\r\n                  <div class=\"item-name\">{{\"+ \" + properties.name + \" \" + properties.selectedValue}}</div>\r\n                  <div class=\"edit-btn\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </ng-container>\r\n\r\n          <div nz-row *ngFor=\"let data of item.products_gift\">\r\n            <ng-container *ngIf=\"data.choose\">\r\n              <div style=\"align-self: center;\" nz-col nzSpan=\"13\" class=\"center-col\">\r\n                <i>{{data.name}} ({{'Gift' | translate}})</i> <br>\r\n                <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                <del style=\"margin-left:5px;font-size: 0.8rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                  {{data.price_origin > data.price ?\r\n                  vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                </del>\r\n                <ng-container *ngIf=\"data.id_lotproduct\">\r\n                  <span style=\"color:var(--ion-color-vh-green);cursor: pointer;\">{{getLotNumber(data.lots,\r\n                    data.id_lotproduct)}}</span>\r\n                </ng-container>\r\n                <div *ngIf=\"data.combos\">\r\n                  <span *ngFor=\"let combo of data.combos;index as i\"\r\n                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' + combo.name +\r\n                    ' (' + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x '\r\n                    + combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div nz-col nzSpan=\"3\">\r\n                {{getUnit(data.units,data.ratio)}}\r\n              </div>\r\n              <div class=\"align-center text-align-center \" nz-col nzSpan=\"4\">\r\n                <div>x{{data.quantity}}</div>\r\n              </div>\r\n              <!-- <div class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\" (click)=\"editFood(item)\">\r\n                            <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                            <del style=\"margin-left:5px;font-size: 0.8rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                                {{data.price_origin > data.price ?\r\n                                vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                            </del>\r\n                        </div> -->\r\n              <div nz-col nzSpan=\"4\" class=\"money-sub\">\r\n                <p class=\"max-width-two-line\">\r\n                  <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                </p>\r\n              </div>\r\n              <div nz-col nzSpan=\"24\" class=\"right-div\">\r\n                <div class=\"bill-detail-area-item-side-dishes\"\r\n                  *ngFor=\"let sideDishes of data.toppings ? data.toppings : []; trackBy:myTrackByFunction\">\r\n                  <ng-container *ngIf=\"sideDishes.quantity > 0\">\r\n                    <div class=\"delete-btn\"></div>\r\n                    <div class=\"item-name\">\r\n                      {{\"+ \" + sideDishes.name}} <br>\r\n                      <!-- {{vhAlgorithm.vhcurrencyunit(sideDishes.price)}}\r\n  \r\n  \r\n                                  <s *ngIf=\"sideDishes.price < sideDishes.price_origin\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(sideDishes.price_origin)}}\r\n                                  </s> -->\r\n                    </div>\r\n                    <div class=\"item-quantity\">x{{sideDishes.quantity}}</div>\r\n                    <div class=\"item-total\">\r\n                      {{vhAlgorithm.vhcurrencyunit(sideDishes.price * sideDishes.quantity)}}\r\n                    </div>\r\n                    <div class=\"edit-btn\"></div>\r\n                  </ng-container>\r\n                </div>\r\n                <div class=\"bill-detail-area-item-properties\"\r\n                  *ngFor=\"let properties of data.properties ? data.properties : []; trackBy:myTrackByNameFunction\">\r\n                  <div class=\"delete-btn\"></div>\r\n                  <div class=\"item-name\">{{\"+ \" + properties.name + \" \" + properties.selectedValue}}</div>\r\n                  <div class=\"edit-btn\"></div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </ng-container>\r\n\r\n        <!-- KHÔNG CÓ Chương trình khuyến mãi -->\r\n        <ng-template #elseTemplate>\r\n          <div class=\"bill-detail-area-item-info\">\r\n            <!-- Tên -->\r\n            <div class=\"item-name\">\r\n              <b>\r\n                {{item.name}}\r\n                <ng-container *ngIf=\"item.ptype == 3\">\r\n                  ({{getUnit(item.units,item.ratio)}})\r\n                </ng-container>\r\n              </b>\r\n              <br>\r\n              <!-- Dịch vụ thời gian không hiện giá -->\r\n              <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                <!-- Giá -->\r\n                {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                <!-- Giá khuyến mãi -->\r\n                <s *ngIf=\"item.price < item.price_origin && display_promotion_selling_price\">\r\n                  {{vhAlgorithm.vhcurrencyunit(item.price_origin)}}\r\n                </s>\r\n              </ng-container>\r\n              <!-- Lô -->\r\n              <ng-container *ngIf=\"item.id_lotproduct\">\r\n                <br><span style=\"color:var(--ion-color-vh-green);cursor: pointer;\">Số lô: {{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n              </ng-container>\r\n            </div>\r\n\r\n            <!-- Số lượng -->\r\n            <div class=\"item-quantity\">\r\n              <!-- Không phải dịch vụ thời gian thì mới hiện -->\r\n              <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                x{{item.quantity | number:'1.0-2'}}\r\n              </ng-container>\r\n            </div>\r\n            \r\n            <!-- Thành tiền -->\r\n            <div class=\"item-total\">\r\n              {{vhAlgorithm.vhcurrencyunit(item.price * item.quantity)}}\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Combo -->\r\n          <div class=\"bill-detail-area-item-combo\">\r\n            <!-- {{item.subComboName}} -->\r\n            <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n              {{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}})\r\n              <ng-container *ngIf=\"combo.lots\">\r\n                <b style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots,\r\n                  combo.id_lotproduct)}}</b>\r\n              </ng-container>,\r\n            </span>\r\n          </div>\r\n\r\n          <!-- Topping -->\r\n          <div class=\"bill-detail-area-item-side-dishes\"\r\n            *ngFor=\"let sideDishes of item.toppings ? item.toppings : []; trackBy:myTrackByFunction\">\r\n            <ng-container *ngIf=\"sideDishes.quantity > 0\">\r\n              <div class=\"item-name\">\r\n                {{\"+ \" + sideDishes.name}} <br>\r\n                <!-- {{vhAlgorithm.vhcurrencyunit(sideDishes.price)}}\r\n                          <s *ngIf=\"sideDishes.price < sideDishes.price_origin\">\r\n                              {{vhAlgorithm.vhcurrencyunit(sideDishes.price_origin)}}\r\n                          </s> -->\r\n              </div>\r\n              <div class=\"item-quantity\">x{{sideDishes.quantity}}</div>\r\n              <div class=\"item-total\">\r\n                {{vhAlgorithm.vhcurrencyunit(sideDishes.price * sideDishes.quantity)}}\r\n              </div>\r\n              <div class=\"edit-btn\"></div>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <!-- Thuộc tính -->\r\n          <div class=\"bill-detail-area-item-properties\"\r\n            *ngFor=\"let properties of item.properties ? item.properties : []; trackBy:myTrackByNameFunction\">\r\n\r\n            <div class=\"item-name\">{{\"+ \" + properties.name + \" \" + properties.selectedValue}}</div>\r\n            <div class=\"edit-btn\"></div>\r\n          </div>\r\n\r\n          <!-- Hàng thời gian -->\r\n          <div *ngIf=\"item.ptype === VhType.SERVICETIME\" class=\"bill-detail-area-item-time\">\r\n            <div class=\"delete-btn\"></div>\r\n            <p *ngIf=\"item.time_start_order\">{{'Started at' | translate}}: {{item.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}}</p>\r\n            <p *ngIf=\"item.time_end_order\" \r\n              [ngStyle]=\"{'color': item.is_paused ? 'var(--ion-color-vh-orange)' : ''}\">\r\n              {{'Estimated until' | translate}}: {{item.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}\r\n            </p>\r\n            <ng-container *ngIf=\"productService.generateTimeUseString(item.time_start_order, item.time_end_order) as usedTime\">\r\n              <p>{{ 'Used' | translate }}: {{ usedTime }}</p>\r\n            </ng-container>\r\n          </div>\r\n\r\n          <!-- Ghi chú -->\r\n          <div class=\"bill-detail-area-item-note\">\r\n            {{item.note}}\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { ProductService } from 'src/app/cafe/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-bill1',\r\n  templateUrl: './bill1.component.html',\r\n  styleUrls: ['./bill1.component.scss']\r\n})\r\nexport class Bill1Component implements OnInit, OnChanges {\r\n  // đối tượng hóa đơn\r\n  @Input() invoices: VhOrderInvoices\r\n  // khách hàng hiện tại có được nợ hay không?\r\n  @Input() debt: boolean = false;\r\n  // giá trị thuế hiện tại\r\n  @Input() tax: number = 0\r\n  // phương thức thanh toán hiện tại - cấu trúc dữ liệu tương thích với component đang được sử dụng\r\n  @Input() paymentType: Array<any> = [1]\r\n  /** Để kích sự kiện ngOnCHange cho component InvoiceDetailComponent để tính lại tiền service time */\r\n  @Input() updateServiceTimePrice = false;\r\n  @Output() updateInvoice: EventEmitter<boolean> = new EventEmitter()\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ]\r\n  /** Danh sách thuế được tạo và đang được kích hoạt */\r\n  listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n  percent_discount = 0;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth:VhAuth,\r\n    private productService: ProductService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes) { \r\n    this.getWallets(); \r\n    this.percent_discount = this.invoices.getDiscount() / this.invoices.getSubTotal() * 100\r\n    if (changes['updateServiceTimePrice'] && changes['updateServiceTimePrice'].currentValue !== undefined && this.productService.isContainServiceTime(this.invoices)) {\r\n      this.invoices.setSubTotal();\r\n    }\r\n  } \r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n  getWallets() {\r\n    this.nzOptions[2].children = this.vhQueryCafe.getlocalWallets()\r\n      .filter(wallet => wallet._id != 'id_cash' &&\r\n        wallet.id_branch == this.vhQueryCafe.getDefaultBranch()._id\r\n      ).map(wallet => {\r\n        return { label: wallet.name, value: wallet._id, isLeaf: true }\r\n      })\r\n  } \r\n}\r\n","<div class=\"bill hideScrollbar\">\r\n    \r\n    <div class=\"bill-area \">\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'SubTotal' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\" >\r\n            <div class=\"bill-area-item-title\">{{'Discount value' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{percent_discount | number:'1.0-2'}} %\r\n            </div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getDiscount())}}\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"invoices.getDiscountBill()\">\r\n            <div class=\"bill-area-item-title\">{{'Discount' | translate}}</div>\r\n            \r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getDiscountBill())}}\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"invoices.getDiscountPoint()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n            <div>{{'Point payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoices.getDiscountPoint())}}</div>\r\n        </div>\r\n        <div *ngIf=\"invoices.getDiscountCoupon()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n            <div>{{'Coupon payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoices.getDiscountCoupon())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n            <div class=\"bill-area-item-title\">{{'Fee' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getFee())}}\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n            <div class=\"bill-area-item-title\">{{'Tax' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhpercent(invoices.getTax()/100)}}\r\n                <span *ngIf=\"!listTax.length\">0.00%</span>\r\n            </div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'Total' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTotalATax())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title payment\">{{'Pay' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n               <b> {{vhAlgorithm.vhcurrencyunit_symbol(invoices.getPayment())}}</b>\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\" *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n            <div class=\"bill-area-item-title\">{{'Rest' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit_symbol(invoices.getTotalATax() - invoices.getPayment())}}\r\n            </div>\r\n        </div> \r\n    </div>\r\n</div>","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { ChangeDetectorRef, Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { ProductService } from 'src/app/cafe/services/product.service';\r\n@Component({\r\n  selector: 'app-invoice-detail',\r\n  templateUrl: './invoice-detail.component.html',\r\n  styleUrls: ['./invoice-detail.component.scss']\r\n})\r\nexport class InvoiceDetailComponent implements OnInit {\r\n  @Input() invoices: VhOrderInvoices;\r\n  @Input() id_area: any\r\n  @Input() id_table: any\r\n  @Input() indexTab: any\r\n  @Input() searchValue: any\r\n  @Input() filterType: any\r\n  @Input() error_to_get_bill = false\r\n  /** Để kích sự kiện ngOnCHange cho component InvoiceDetailComponent để tính lại tiền service time */\r\n  @Input() updateServiceTimePrice = false;\r\n  @Output() not_exist_invoice = new EventEmitter<any>()\r\n  /** Sau khi get bill details xong sẽ kiểm tra xem có chứa service time hay không và emit ra cho component cha */\r\n  @Output() isContainServiceTime = new EventEmitter<boolean>();\r\n  checkPrinterKitchen: boolean = false;\r\n  checkPrinter: boolean = false;\r\n  // cho phép nợ hay không\r\n  debt: boolean = false;\r\n  // thông tin bàn đang được đặt\r\n  tableInfo: string = '';\r\n  // trạng thái\r\n  statusInvoice: any = {\r\n    updating: false,\r\n    deleting: false\r\n  }\r\n  // thuộc tính máy in\r\n  printer: any;\r\n\r\n  isLoadedInvoice: boolean = false\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private router: Router,\r\n    public vhAuth: VhAuth,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    private mess: NzMessageService,\r\n    private modal: NzModalService,\r\n    private productService: ProductService,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  ngOnChanges({ invoices ,error_to_get_bill}): void {\r\n    // console.log('change');\r\n\r\n    if (invoices) { this.initInvoice(); this.isLoadedInvoice = false; }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.cdRef.detectChanges()\r\n  }\r\n  /**Pop up báo khi phát sinh lỗi \r\n   * @param err thông tin lỗi\r\n  */\r\n  alertErr(err: string) {\r\n    this.mess.error(this.languageService.translate(\"Lỗi kết nối\"))\r\n  }\r\n  /**Khởi tạo hóa đơn\r\n    * @param dataTrans: dữ liệu state\r\n    */\r\n  initInvoice() {\r\n    // console.log(this.invoices);\r\n    if (this.invoices) {\r\n      this.invoices = new VhOrderInvoices(this.invoices,[],this.vhQueryCafe)\r\n\r\n      this.invoices.setIdTable(this.id_table)\r\n      this.invoices.setIdEmployee(this.vhAuth.getUser()._id)\r\n      this.invoices.setIdArea(this.id_area)\r\n\r\n      // lấy thuế \r\n      let tax: any = this.vhQueryCafe.getlocalTaxs().find(tax => tax.status && tax.default);\r\n      if (tax) this.invoices.setTax(parseFloat(tax.value))\r\n      if (this.invoices.getID()) {\r\n        // bàn đã sinh bill \r\n        Promise.all([\r\n          this.vhQueryCafe.getBill(this.invoices.getID()),\r\n          this.vhQueryCafe.getBill_details_byId_bill(this.invoices.getID()),\r\n        ])\r\n          .then(([bill, billDetail]) => {\r\n            if (!bill) {\r\n              this.modal.confirm({\r\n                nzTitle: '<i>' + this.languageService.translate(\"The invoice is not existed\") + '</i>',\r\n                nzIconType: \"info-circle\"\r\n              });\r\n              this.not_exist_invoice.emit(true)\r\n              // this.vhComponent.alertMessage(\"\", \"\", this.languageService.translate(\"The invoice is not existed\"), \"OK\");\r\n              return\r\n            }\r\n            this.invoices = new VhOrderInvoices(bill, this.vhAlgorithm.sortDatebyDESC(billDetail,'time_start_order'),this.vhQueryCafe)\r\n            // console.log(this.invoices);\r\n\r\n            // Kiểm tra nếu có Dịch vụ thời gian trong bill detail\r\n            if(this.productService.isContainServiceTime(this.invoices)) {\r\n              this.isContainServiceTime.emit();\r\n            }\r\n\r\n            // kiểm tra cho phép nợ\r\n            this.debt = this.invoices.getIdPartner() == \"id_retail\" ? false :\r\n              this.vhQueryCafe.getlocalCustomer(this.invoices.getIdPartner())\r\n            this.isLoadedInvoice = true;\r\n          }).catch(err => this.alertErr(err))\r\n        // lấy thông tin bàn\r\n        if (this.invoices.getIdTable() == \"go_home\") {\r\n          this.tableInfo = this.languageService.translate(\"Take away\")\r\n        } else {\r\n          this.tableInfo = `${this.vhQueryCafe.getlocalArea(this.invoices.getIdArea()).name} - ${this.vhQueryCafe.getlocalTable(this.invoices.getIdTable()).name}`\r\n        }\r\n         // kiểm tra máy in\r\n         let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n         this.printer = printer ? printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] : null\r\n         if (this.printer) {\r\n           this.checkPrinter = this.printer.enable\r\n         }\r\n         let printer_kitchen = this.vhQueryCafe.getLocalPrintPage('page_desktop_kitchen')\r\n         this.checkPrinterKitchen = printer_kitchen ? printer_kitchen.print_sizes[printer_kitchen.print_sizes.findIndex(e => e._id == printer_kitchen.print_size_default)].enable : null\r\n      }\r\n      else { // neu bản chưa co bill\r\n        // console.log('bản chưa co bill');\r\n        this.invoices = null\r\n        this.isLoadedInvoice = true;\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n  createBill() {\r\n    let dataRestore = { indexTab: this.indexTab, searchValue: this.searchValue, filterType: this.filterType, id_area: this.id_area }\r\n    if (this.id_area != 'go_home' && !this.id_table) {\r\n      this.mess.warning(this.languageService.translate(\"Please select a table\"))\r\n    }\r\n    else {\r\n      this.vhComponent.showLoading('').then(() => {\r\n        this.vhQueryCafe.createBill_Billdetail({\r\n          payment_type: 1,\r\n          date: (new Date()).toISOString(),\r\n          id_customer: 'id_retail',\r\n          tax_buyerDisplayName: 'Người mua không lấy hoá đơn',\r\n          tax_buyerLegalName: '',\r\n          tax_buyerTaxCode: '',\r\n          tax_buyerAddressLine: '',\r\n          tax_buyerEmail: '',\r\n          id_table: this.id_table,\r\n          id_area: this.id_area,\r\n          id_branch: this.vhQueryCafe.getDefaultBranch()._id,\r\n          id_employee: this.vhAuth.getUser()._id,\r\n          id_wallet: 'id_cash',\r\n          total: 0,\r\n          payment: 0,\r\n          tax: 0,\r\n          discount: 0,\r\n          fee: 0,\r\n          bill_type: 5,\r\n          note: '',\r\n          cash: 0,\r\n        }, [])\r\n          .then((bill: any) => {\r\n            if (this.id_table != 'go_home') {\r\n              Promise.all([\r\n                this.vhQueryCafe.updateTable(this.id_table, { status: true }),\r\n                this.vhComponent.hideLoading(0)\r\n              ])\r\n                .then(() => {\r\n                  this.router.navigate(['/cafe/cafe-desktop/cart1'],\r\n                    {\r\n                      state: { id_table: this.id_table, id_area: this.id_area, id_bill: bill._id, dataRestore }\r\n                    })\r\n                })\r\n            }\r\n            else\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.router.navigate(['/cafe/cafe-desktop/cart1'],\r\n                  {\r\n                    state: { id_table: this.id_table, id_area: this.id_area, id_bill: bill._id, dataRestore }\r\n                  })\r\n              })\r\n\r\n          }, (error: any) => {\r\n            console.log('error ', error);\r\n          })\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<div *ngIf=\"isLoadedInvoice\" class=\"bill\">\r\n    <app-bill-detail1 [invoices]=\"invoices\" [updateServiceTimePrice]=\"updateServiceTimePrice\">\r\n    </app-bill-detail1>\r\n\r\n    <div style=\"border-top: 2px solid rgb(172, 172, 172); overflow: hidden;\">\r\n        <app-bill1 [invoices]=\"invoices\" [debt]=\"debt\" [tax]=\"invoices.getTax()\"\r\n            [paymentType]=\"invoices.getPaymentType() == 3 ? [invoices.getPaymentType(), invoices.getIdWallet()]: [invoices.getPaymentType()]\"\r\n            [updateServiceTimePrice]=\"updateServiceTimePrice\">\r\n        </app-bill1>\r\n        \r\n    </div>\r\n</div>\r\n<div *ngIf=\"!invoices\" class=\"center-all-content\" style=\"height: 100%;\">\r\n    <div style=\"display: grid; justify-items: center;grid-row-gap: 10px;\">\r\n        <img src=\"assets/img/Pos/not_invoice.svg\" alt=\"\">\r\n       \r\n        <button  *ngIf=\"!error_to_get_bill\" (click)=\"createBill()\" nz-button class=\"order-and-print\">\r\n            <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n            {{\"Create order\"|translate}}\r\n        </button>\r\n        <span  *ngIf=\"error_to_get_bill\">{{'An error occurred while querying the invoice, please try again later! Or contact VIETHAS customer service hotline' | translate}}</span>\r\n    </div>\r\n\r\n</div>\r\n<div *ngIf=\"!isLoadedInvoice\" class=\"center-all-content\" style=\"height: 100%;\">\r\n    <i style=\"font-size: 2rem;\" nz-icon nzType=\"loading\" nzTheme=\"outline\"></i>\r\n</div>","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from './../../../../../components/vh-component/vh-component';\r\nimport { AfterViewInit, Component, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth, VhEinvoice } from 'ionic-vhframeworks';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { ProductService } from 'src/app/cafe/services/product.service';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\nimport { BillService } from 'src/app/cafe/services/bill.service';\r\n\r\n@Component({\r\n  selector: 'app-payment-info',\r\n  templateUrl: './payment-info.component.html',\r\n  styleUrls: ['./payment-info.component.scss']\r\n})\r\nexport class PaymentInfoComponent implements OnInit {\r\n  // thuộc tính máy in\r\n  printer: any;\r\n  // đối tượng hóa đơn\r\n  @Input() invoices: VhOrderInvoices\r\n  // khách hàng hiện tại có được nợ hay không?\r\n  @Input() debt: boolean = false;\r\n  // giá trị thuế hiện tại\r\n  @Input() tax: number = 0\r\n  // phương thức thanh toán hiện tại - cấu trúc dữ liệu tương thích với component đang được sử dụng\r\n  @Input() paymentType: Array<any> = [1];\r\n  @Output() deleteBill = new EventEmitter<any>();\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ]\r\n  /** Danh sách thuế được tạo và đang được kích hoạt */\r\n  listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n  invoice_cash = '';\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET(\"show_keyboard\");\r\n  checkPrinterKitchen: boolean = false;\r\n  checkPrinter: boolean = false;\r\n  moneyEdit: any = {}\r\n  percent_discount = 0;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService,\r\n    public vhAuth: VhAuth,\r\n    private mess: NzMessageService,\r\n    private nzModalService: NzModalService,\r\n    private productService: ProductService,\r\n    private vhEinvoice: VhEinvoice,\r\n    private billService: BillService,\r\n  ) { }\r\n  // test:''\r\n  ngOnInit(): void {\r\n    this.initInvoice()\r\n    this.getWallets();\r\n    this.invoice_cash = this.invoices.getCash().toString();\r\n    // kiểm tra máy in\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n    this.printer = printer ? printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] : null\r\n    if (this.printer) {\r\n      this.checkPrinter = this.printer.enable\r\n    }\r\n    let printer_kitchen = this.vhQueryCafe.getLocalPrintPage('page_desktop_kitchen')\r\n    this.checkPrinterKitchen = printer_kitchen ? printer_kitchen.print_sizes[printer_kitchen.print_sizes.findIndex(e => e._id == printer_kitchen.print_size_default)].enable : null\r\n  }\r\n\r\n\r\n  // bắt sự kiện key press\r\n  @HostListener('window:keydown', ['$event'])\r\n  keyEvent(event: KeyboardEvent) {\r\n    if ([\"F1\", \"F2\", \"F3\",].includes(event.key)) {\r\n\r\n      switch (event.key) {\r\n        case \"F1\": document.getElementById(\"order-and-print\").click(); break;\r\n        case \"F2\": document.getElementById(\"order\").click(); break;\r\n        case \"F3\": document.getElementById(\"print-temp\").click(); break;\r\n      }\r\n      event.preventDefault()\r\n      event.stopPropagation()\r\n    }\r\n  }\r\n\r\n  /**Khởi tạo hóa đơn\r\n    * @param dataTrans: dữ liệu state\r\n    */\r\n  initInvoice() {\r\n    console.log(this.invoices);\r\n    if (this.invoices) {\r\n      this.invoices = new VhOrderInvoices(this.invoices, [], this.vhQueryCafe)\r\n      this.invoices.setIdEmployee(this.vhAuth.getUser()._id)\r\n\r\n      // lấy thuế \r\n      let tax: any = this.vhQueryCafe.getlocalTaxs().find(tax => tax.status && tax.default);\r\n      if (tax) this.invoices.setTax(parseFloat(tax.value))\r\n      if (this.invoices.getID()) {\r\n        // bàn đã sinh bill\r\n        console.log('bàn đã sinh bill');\r\n        console.log(this.invoices.getID());\r\n        Promise.all([\r\n          this.vhQueryCafe.getBill(this.invoices.getID()),\r\n          this.vhQueryCafe.getBill_details_byId_bill(this.invoices.getID()),\r\n        ])\r\n          .then(([bill, billDetail]) => {\r\n            if (!bill) {\r\n              this.modal.confirm({\r\n                nzTitle: '<i>' + this.languageService.translate(\"The invoice is not existed\") + '</i>',\r\n                nzIconType: \"info-circle\"\r\n              });\r\n              // this.vhComponent.alertMessage(\"\", \"\", this.languageService.translate(\"The invoice is not existed\"), \"OK\");\r\n              return\r\n            }\r\n            this.productService.updateServiceTimePriceInvoiceDetail(billDetail, this.invoices.getPriceType());\r\n            this.invoices = new VhOrderInvoices(bill, this.vhAlgorithm.sortDatebyDESC(billDetail, 'time_start_order'), this.vhQueryCafe);\r\n            this.invoices.setSubTotal();\r\n\r\n            // kiểm tra cho phép nợ\r\n            this.debt = this.invoices.getIdPartner() == \"id_retail\" ? false :\r\n              this.vhQueryCafe.getlocalCustomer(this.invoices.getIdPartner())\r\n            this.percent_discount = this.invoices.getDiscount() / this.invoices.getSubTotal() * 100\r\n          }).catch(err => this.alertErr(err))\r\n      }\r\n      else { // neu bản chưa co bill\r\n        console.log('bản chưa co bill');\r\n        this.invoices = null\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  /**Pop up báo khi phát sinh lỗi \r\n   * @param err thông tin lỗi\r\n  */\r\n  alertErr(err: string) {\r\n    this.mess.error(this.languageService.translate(\"Lỗi kết nối\"))\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\r\n    //Add 'implements AfterViewInit' to the class.\r\n    setTimeout(() => {\r\n      this.moneyEdit['cash'] = this.vhAlgorithm.vhnumeral(\".customerPay1\")\r\n    }, 500);\r\n  }\r\n\r\n  // ngDoCheck(): void {\r\n  //   if(document.getElementsByClassName('customerPay1')) this.moneyEdit['cash'] = this.vhAlgorithm.vhnumeral(\".customerPay1\")\r\n  // }\r\n\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n  getWallets() {\r\n    this.nzOptions[2].children = this.vhQueryCafe.getlocalWallets()\r\n      .filter(wallet => wallet._id != 'id_cash' &&\r\n        wallet.id_branch == this.vhQueryCafe.getDefaultBranch()._id\r\n      ).map(wallet => {\r\n        return { label: wallet.name, value: wallet._id, isLeaf: true }\r\n      })\r\n  }\r\n\r\n  /**\r\n     * kiểm tra tối đa 12 ky tự cuả cash\r\n     * @param value \r\n     */\r\n  checkMaxLengthCash(value: string) {\r\n    if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_cash = value }\r\n  }\r\n\r\n  updateCash() {\r\n    this.invoices.setCash(parseFloat(this.moneyEdit['cash'].getRawValue()));\r\n    this.vhQueryCafe.updateBill(this.invoices.getID(), { cash: parseFloat(this.moneyEdit['cash'].getRawValue()) })\r\n      .then((bool) => {\r\n        // console.log('updateBill', bool);\r\n      }, error => {\r\n        this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"An error while updating bill\"))\r\n      })\r\n  }\r\n\r\n  /**Save hóa đơn */\r\n  createProcess() {\r\n    // Nếu có chứa dịch vụ thời gian thì cập nhập cho ccác bill detail nữa\r\n    if(this.productService.isContainServiceTime(this.invoices)) {\r\n      this.productService.updateAllServiceTimeToPause(this.invoices.getInvoiceDetail());\r\n      if (this.invoices.getIdTable() == 'go_home') {\r\n        return Promise.all([\r\n          this.vhQueryCafe.updateBill_Billdetail(\r\n            this.invoices.getID(),\r\n            this.invoices.getCreateUpdateInvoice(1),\r\n            this.invoices.getCreateUpdateInvoiceDetail()\r\n          ),\r\n        ]);\r\n      } \r\n      else {\r\n        return Promise.all([\r\n          this.vhQueryCafe.updateBill_Billdetail(\r\n            this.invoices.getID(),\r\n            this.invoices.getCreateUpdateInvoice(1),\r\n            this.invoices.getCreateUpdateInvoiceDetail()\r\n          ),\r\n          this.vhQueryCafe.updateTable(this.invoices.getIdTable(), {\r\n            status: false,\r\n          }),\r\n        ]);\r\n      }\r\n    }\r\n    else {\r\n      if (this.invoices.getIdTable() == 'go_home') {\r\n        return Promise.all([this.vhQueryCafe.saveBill_Billdetail(this.invoices.getID(), 1)])\r\n      } \r\n      else {\r\n        return Promise.all([\r\n          this.vhQueryCafe.saveBill_Billdetail(this.invoices.getID(), 1),\r\n          this.vhQueryCafe.updateTable(this.invoices.getIdTable(), { status: false })\r\n        ])\r\n      }\r\n    }\r\n  }\r\n  /** Thanh toán hóa đơn\r\n   * @param print: cho phép in hóa đơn hay k?\r\n  */\r\n  saveInvoice(print: 'print' | 'notPrint') {\r\n    if (print == \"print\") {\r\n      if (this.checkPrinter) {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          const bill: any = {...this.invoices};\r\n          const invoiceTemp = {...bill?.invoice};\r\n          this.createProcess()\r\n            .then(async (res) => {\r\n              if(this.cqt_submit_invoice_immediately) await this.handleMinvoice(invoiceTemp);\r\n              this.vhComponent.hideLoading(0);\r\n              this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${this.invoices.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`);\r\n              if (print == \"print\" && this.checkPrinter) this.handlePrintInvoice();\r\n              this.deleteBill.emit(true)\r\n            }).catch(err => {\r\n              this.vhComponent.hideLoading(0);\r\n              this.mess.error(\"Lỗi kết nối\")\r\n            })\r\n        })\r\n\r\n      }\r\n      else {\r\n        this.nzModalService.confirm({\r\n          nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n          nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n          nzIconType: \"info-circle\",\r\n          nzCancelText: null,\r\n          nzOnOk: () => { }\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      this.vhComponent.showLoading('').then(() => {\r\n        const bill: any = {...this.invoices};\r\n        const invoiceTemp = {...bill?.invoice};\r\n        this.createProcess()\r\n          .then(async (res) => {\r\n            if(this.cqt_submit_invoice_immediately) await this.handleMinvoice(invoiceTemp);\r\n            this.vhComponent.hideLoading(0);\r\n            this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${this.invoices.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`);\r\n            this.deleteBill.emit(true)\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.mess.error(\"Lỗi kết nối\")\r\n          })\r\n      })\r\n    }\r\n  }\r\n\r\n  /**Render food name \r\n  * @param id_prod: id product\r\n  * @param id_subProd: id subproduct\r\n */\r\n  renderNameFood(id_prod: string, id_subProd?: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood: any;\r\n\r\n    if (id_subProd)\r\n      subFood = food.subs.find(item => item._id == id_subProd)\r\n    return `${food ? food.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}`\r\n  }\r\n  /**Render các thành phần combo \r\n  * @package arr: mảng combos\r\n */\r\n  renderSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n\r\n  /** Mở trang in */\r\n  handlePrintInvoice() {\r\n    this.vhQueryCafe.getBill(this.invoices.getID()).then((res: any) => {\r\n      this.invoices.setBillCode(res.bill_code);\r\n      this.vhComponent.showModal(this.renderPrintPage(this.printer['_id']), { printer: this.printer, invoice: this.invoices }, false, false, `modal-print-${this.printer['_id']}`).then((modal) => {\r\n        modal.onWillDismiss().then(() => { })\r\n      })\r\n    });\r\n   \r\n  }\r\n\r\n  /** Mở trang Print out for customer */\r\n  handlePrintTest() {\r\n    if (this.checkPrinter) {\r\n      if (this.vhAuth.checkMyPermission('sales_enable_print_out_for_customer'))\r\n        this.vhComponent.showModal(this.renderPrintPage(this.printer['_id']), { printer: this.printer, invoice: this.invoices, temp: true }, false, false, `modal-print-${this.printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => { })\r\n        })\r\n      else\r\n        this.mess.error(this.languageService.translate(\"You do not have this rights\"), { nzDuration: 5000 })\r\n    }\r\n    else this.nzModalService.confirm({\r\n      nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n      nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n      nzIconType: \"info-circle\",\r\n      nzCancelText: null,\r\n      nzOnOk: () => { }\r\n    })\r\n  }\r\n\r\n  ///////////////////////////////////////////////IN HÓA ĐƠN//////////////////////////////////////////////////////////\r\n  /**\r\n   * Lấy các trang in\r\n   * @param type size\r\n   * @returns \r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /* ----------------------------------------------------------- HÓA ĐƠN ĐIỆN TỬ ---------------------------------------------------------- */\r\n\r\n  cqt_invoice_auto_sign: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_invoice_auto_sign\r\n  cqt_submit_invoice_immediately: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_submit_invoice_immediately\r\n\r\n  handleMinvoice(bill) {\r\n    return new Promise((resolve, reject) => {\r\n      // lấy ra chi nhánh hiện tại\r\n      let currentBranch = this.vhQueryCafe.getlocalBranch(this.vhQueryCafe.getDefaultBranch()._id);\r\n\r\n      if (!currentBranch.einvoices) {\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp chưa có tạo kết nối hóa đơn điện tử\r\n      if (!currentBranch.einvoices?.length) {\r\n        this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Please connect e-invoice for this branch\"))\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp đã gửi lên cqt rồi thì khỏi\r\n      if(bill.cqt_status == 2 || bill.cqt_status == 3){\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp chỉ có 1 kết nối hóa đơn điện tử thì tạo thẳng luôn\r\n      if (currentBranch.einvoices.length && currentBranch.einvoices.length == 1) {\r\n        if (!currentBranch.einvoices[0].invoiceSeries.length) {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Please connect e-invoice for this branch\"))\r\n          resolve(true)\r\n          return\r\n        }\r\n        this.billService.changeBill_byLocal_toInvoice_byMinvoice(bill._id, currentBranch.einvoices[0].invoiceSeries[0])\r\n          .then((rsp) => {\r\n            console.log('changeBill_toInvoice_byMinvoice', rsp)\r\n            if (rsp.vcode == 0) {\r\n              if (this.cqt_invoice_auto_sign) {\r\n                this.vhEinvoice.saveInvoice_Sign_byMinvoice(currentBranch.taxcode, currentBranch.einvoices[0].token, 1, rsp.data)\r\n                  .then((res: any) => {\r\n                    console.log('saveInvoice_Sign_byMinvoice', res);\r\n                    if (res.code == '00') {\r\n                      bill.cqt_status = 3\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 3 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      }, error => {\r\n                        console.log('error', error);\r\n                      })\r\n                    }\r\n                    else if (res.code == '9999') {\r\n                      bill.cqt_status = 1\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vui lòng kiểm tra lại thông tin hóa đơn đẩy lên CQT chưa phù hợp\"))\r\n                    }\r\n                    else {\r\n                      bill.cqt_status = 1\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                     \r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('An error occurred while sending the invoice to CQT'))\r\n                    }\r\n                  })\r\n              }\r\n              else {\r\n                this.vhEinvoice.saveInvoice_noSign_byMinvoice(currentBranch.taxcode, currentBranch.einvoices[0].token, 1, rsp.data)\r\n                  .then((res: any) => {\r\n                    console.log(res);\r\n                    if (res.code == '00') {\r\n                      bill.cqt_status = 2\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 2 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      }, error => {\r\n                        console.log('error', error);\r\n                      })\r\n                    }\r\n                    else if (res.code == '9999') {\r\n                      \r\n                      bill.cqt_status = 1\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vui lòng kiểm tra lại thông tin hóa đơn đẩy lên CQT chưa phù hợp\"))\r\n                    }\r\n                    else {\r\n                      \r\n                      bill.cqt_status = 1\r\n                      this.vhQueryCafe.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('An error occurred while sending the invoice to CQT'))\r\n                    }\r\n                  })\r\n              }\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error', error)\r\n            resolve(true)\r\n            return\r\n          })\r\n      }\r\n    })\r\n  }\r\n\r\n}\r\n","<div class=\"bill hideScrollbar\">\r\n    \r\n    <div class=\"bill-area \">\r\n        <!-- <input type=\"text\"> -->\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'SubTotal' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  >\r\n            <div class=\"bill-area-item-title\">{{'Discount value' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{percent_discount | number:'1.0-2'}} %\r\n            </div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getDiscount())}}\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\" *ngIf=\"invoices.getDiscountBill()\">\r\n            <div class=\"bill-area-item-title\">{{'Discount' | translate}}</div>\r\n            \r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getDiscountBill())}}\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"invoices.getDiscountPoint()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n            <div>{{'Point payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoices.getDiscountPoint())}}</div>\r\n        </div>\r\n        <div *ngIf=\"invoices.getDiscountCoupon()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n            <div>{{'Coupon payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoices.getDiscountCoupon())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n            <div class=\"bill-area-item-title\">{{'Fee' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getFee())}}\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n            <div class=\"bill-area-item-title\">{{'Tax' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhpercent(invoices.getTax()/100)}}\r\n                <span *ngIf=\"!listTax.length\">0.00%</span>\r\n            </div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'Total' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTotalATax())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title payment\">{{'Pay' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n               <b> {{vhAlgorithm.vhcurrencyunit_symbol(invoices.getPayment())}}</b>\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n            <div class=\"bill-area-item-title\">{{'Rest' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit_symbol(invoices.getTotalATax() - invoices.getPayment())}}\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n            <div class=\"bill-area-item-value\">{{'cash' | translate}}</div>\r\n            <!-- <div class=\"bill-area-item-value\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoices.getCash())}}\r\n            </div> -->\r\n            <div nz-col nzSpan=\"12\" style=\"text-align: end;\" id=\"cash\">\r\n                <input  style=\"text-align: end;\" type=\"text\" #cash maxlength=\"15\" nz-input [disabled]=\"invoices.getPaymentType() == 2\"\r\n                [value]=\"vhAlgorithm.vhcurrencyunit(invoice_cash)\" class=\"customerPay1\"  (blur)=\"updateCash()\"  [(appKeyboard)]=\"invoice_cash\"\r\n                (appKeyboardChange)=\"checkMaxLengthCash($event)\" [isKeyboardDirectiveActive]=\"show_keyboard\"\r\n                [kboardType]=\"'numeric'\" (keyup)=\"invoice_cash =  moneyEdit['cash'].getRawValue()\" />\r\n               \r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n            <div>{{'Change' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoices.getExcessCash())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item-note\" nz-col nzSpan=\"24\" id=\"note\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n            {{ \"Note\" | translate }}: {{ invoices.getNote() }}\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <button nz-button    [disabled]=\"!invoices.getInvoiceDetail().length\"\r\n        id=\"order\" style=\"width: 100%;\" class=\"order\"  (click)=\"handlePrintTest()\">\r\n        {{\"Print out for customer\"|translate}} (F3)\r\n    </button>  \r\n    </div>\r\n    <div style=\"display: flex;justify-content: space-between;margin-top: 16px;\">\r\n        <button nz-button    [disabled]=\"!invoices.getInvoiceDetail().length\"\r\n        id=\"order-and-print\" class=\"order-and-print\" (click)=\"saveInvoice('print')\">\r\n        {{\"Pay & Print\"|translate}} (F1)\r\n    </button>\r\n    <button  nz-button   [disabled]=\"!invoices.getInvoiceDetail().length\"\r\n        id=\"order\" class=\"order\" (click)=\"saveInvoice('notPrint')\">\r\n        {{\"Pay\" | translate}} (F2)\r\n    </button>\r\n    </div>\r\n</div>"],"names":["EventEmitter","VhOrderInvoices","SalesA4Component","SalesA5Component","SalesK80Col4Component","SalesK80Col3Component","SalesK57Col3Component","i0","ctx_r15","getRawValue","ctx_r6","PaymentInfoComponent","constructor","languageService","vhQueryCafe","vhAlgorithm","vhComponent","modal","vhAuth","mess","nzModalService","productService","vhEinvoice","billService","value","label","translate","isLeaf","disabled","children","getlocalTaxs","filter","tax","status","localStorageGET","getLocalAppSettingNameBranch","cqt_invoice_auto_sign","cqt_submit_invoice_immediately","ngOnInit","initInvoice","getWallets","invoice_cash","invoices","getCash","toString","printer","getLocalPrintPage","print_sizes","findIndex","e","_id","print_size_default","checkPrinter","enable","printer_kitchen","checkPrinterKitchen","keyEvent","event","includes","key","document","getElementById","click","preventDefault","stopPropagation","console","log","setIdEmployee","getUser","find","default","setTax","parseFloat","getID","Promise","all","getBill","getBill_details_byId_bill","then","bill","billDetail","confirm","nzTitle","nzIconType","updateServiceTimePriceInvoiceDetail","getPriceType","sortDatebyDESC","setSubTotal","debt","getIdPartner","getlocalCustomer","percent_discount","getDiscount","getSubTotal","catch","err","alertErr","error","ngAfterViewInit","setTimeout","moneyEdit","vhnumeral","myTrackByFunction","element","index","nzOptions","getlocalWallets","wallet","id_branch","getDefaultBranch","map","name","checkMaxLengthCash","slice","updateCash","setCash","updateBill","cash","bool","alertMessageDesktop","createProcess","isContainServiceTime","updateAllServiceTimeToPause","getInvoiceDetail","getIdTable","updateBill_Billdetail","getCreateUpdateInvoice","getCreateUpdateInvoiceDetail","updateTable","saveBill_Billdetail","saveInvoice","print","showLoading","invoiceTemp","invoice","res","handleMinvoice","hideLoading","success","getBillCode","handlePrintInvoice","deleteBill","emit","nzContent","nzCancelText","nzOnOk","renderNameFood","id_prod","id_subProd","food","getlocalProduct","subFood","subs","item","renderSubCombo","arr","subName","forEach","length","quantity","setBillCode","bill_code","showModal","renderPrintPage","onWillDismiss","handlePrintTest","checkMyPermission","temp","nzDuration","type","resolve","reject","currentBranch","getlocalBranch","einvoices","_a","cqt_status","invoiceSeries","changeBill_byLocal_toInvoice_byMinvoice","rsp","vcode","saveInvoice_Sign_byMinvoice","taxcode","token","data","code","saveInvoice_noSign_byMinvoice","selectors","hostBindings","ctx"],"sourceRoot":"webpack:///"}