{"version":3,"file":"src_app_cafe_desktop_cafe-desktop_components_advange_seperate-table_seperate-table_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/cafe-desktop/components/advange/seperate-table/seperate-table.component.ts","./src/app/cafe/desktop/cafe-desktop/components/advange/seperate-table/seperate-table.component.html","./src/app/cafe/desktop/cafe-desktop/components/advange/seperate-table/seperate-table.module.ts","./src/app/cafe/desktop/cafe-desktop/components/advange/seperate-table/seperate/seperate.component.ts","./src/app/cafe/desktop/cafe-desktop/components/advange/seperate-table/seperate/seperate.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-seperate-table',\r\n  templateUrl: './seperate-table.component.html',\r\n  styleUrls: ['./seperate-table.component.scss']\r\n})\r\nexport class SeperateTableComponent implements OnInit {\r\n\r\n  listTab: Array<any> = [];\r\n  indexTab: number = 0;\r\n  public area: any[] = [] = this.vhQueryCafe.getlocalAreas().filter(item => item.status && item._id != 'go_home' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n  public fromToTable: any[] = []\r\n  public table: any[] = []\r\n  areaID: any = ''\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private router: Router,\r\n    private languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.areaID = this.dataRestore.id_area\r\n    this.area.forEach(item => this.listTab.push(item));\r\n    this.table = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalTables().filter(item => item.id_area == this.areaID && item.status),\"name\")\r\n    this.indexTab = this.area.findIndex(item => item._id == this.areaID)\r\n  }\r\n\r\n  areaChanged(tab?) {\r\n    if (tab) { this.areaID = this.listTab[tab.index]._id; }\r\n    if (this.fromToTable.length) {\r\n      this.table = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalTables().filter(item => item.id_area == this.areaID), \"name\")\r\n    } else this.table = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalTables().filter(item => item.id_area == this.areaID && item.status), \"name\")\r\n  }\r\n  renderTitle() {\r\n    if (this.fromToTable[0]) return `${this.fromToTable[0].name} -> ${this.fromToTable[1] ? this.fromToTable[1].name : this.languageService.translate(\"Select a target table\")}`\r\n    else return this.languageService.translate(\"Which table do you want to separate?\")\r\n  }\r\n\r\n  chooseTable(item) {\r\n    if (this.fromToTable.length < 3) {\r\n      let index = this.fromToTable.findIndex(table => table._id == item._id)\r\n\r\n      switch (index) {\r\n        case 0: this.fromToTable = []; this.areaChanged(); break\r\n        case 1: this.fromToTable.pop(); this.areaChanged(); break\r\n        default: {\r\n          if (this.fromToTable.length < 2) {\r\n            this.fromToTable.push(item)\r\n            this.areaChanged()\r\n          }\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/cafe-desktop'], { state: {isSync:true} })\r\n  }\r\n  //----------------------------------------------------GIAO DIỆN------------------------------------------------------------//\r\n  checkActive(item) {\r\n    return this.fromToTable.map(table => table._id).includes(item._id)\r\n  }\r\n\r\n  /**tách bàn */\r\n  separateTable() {\r\n    this.router.navigate(['/cafe/cafe-desktop/seperate-table/seperate'], { state: { fromToTable: this.fromToTable, areaID: this.areaID, dataRestore: this.dataRestore } })\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"order-invoice\") && document.querySelector(\".sales-invoice-header\") && document.querySelector('.ant-tabs-nav')) {\r\n      let height = document.getElementById(\"order-invoice\").clientHeight - document.querySelector(\".sales-invoice-header\").clientHeight -\r\n        document.querySelector(\".sales-invoice-header\").clientHeight - document.querySelector('.ant-tabs-nav').clientHeight - 20 + \"px\"\r\n      document.getElementById('order-invoice-scroll').style.height = height\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<!-- <div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    \r\n</div> -->\r\n<nz-layout id=\"order-invoice\">\r\n    <div class=\"sales-invoice-header\" [nzGutter]=\"16\" nz-row>\r\n        <div nz-col nzSpan=\"2\" class=\"left-all-content \"  style=\"cursor: pointer;\" (click)=\"goBack()\">\r\n            <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"19\" class=\"left-all-content title-header\">\r\n            <b>{{renderTitle()}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"center-all-content\">\r\n            <button (click)=\"separateTable()\" [disabled]=\"fromToTable.length !=2\" class=\"center-all-content btn-green\" nz-button nzType=\"default\">\r\n                <ion-icon name=\"arrow-forward-outline\"></ion-icon>\r\n                {{'Continue' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"24\">\r\n        <nz-tabset nzSelectedIndex={{indexTab}} (nzSelectChange)=\"areaChanged($event)\">\r\n            <nz-tab *ngFor=\"let tab of listTab\" nzTitle=\"{{ tab.name|translate}}\">\r\n                <div class=\"hideScrollbar\" id=\"order-invoice-scroll\" nz-row nzGutter=\"32\">\r\n                    <div *ngFor=\"let item of table\" nz-col nzSpan=\"4\" class=\"table\">\r\n                        <div class=\"table-item\" [ngClass]=\"{'table-item-active' : checkActive(item)}\">\r\n                            <div (click)=\"chooseTable(item)\" class=\"table-item-name center-all-content hideScrollbar\">\r\n                                {{item.name}}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"!table.length\" class=\"not-found\" style=\"width: 100%;text-align: center;\">{{\"Not found\" | translate}}</div>\r\n                </div>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SeperateTableComponent } from './seperate-table.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SeperateComponent } from './seperate/seperate.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SeperateTableComponent,\r\n      },\r\n      {\r\n        path: 'seperate',\r\n        component: SeperateComponent\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [SeperateTableComponent, SeperateComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class SeperateTableModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\nexport interface SeparateTableInfo {\r\n  bill: any,\r\n  billDetail: any[],\r\n  tableInfo: any\r\n}\r\n@Component({\r\n  selector: 'app-seperate',\r\n  templateUrl: './seperate.component.html',\r\n  styleUrls: ['./seperate.component.scss']\r\n})\r\nexport class SeperateComponent implements OnInit {\r\n  public _TABLE1_BILL: SeparateTableInfo = {\r\n    bill: null,\r\n    billDetail: [],\r\n    tableInfo: null\r\n  }\r\n  public _TABLE2_BILL: SeparateTableInfo = {\r\n    bill: null,\r\n    billDetail: [],\r\n    tableInfo: null\r\n  }\r\n  areaID: any;\r\n  public _STATUS: boolean = true\r\n  dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  constructor(private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhQuery: VhQuery,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent) {\r\n    let dataTrans = this.router.getCurrentNavigation().extras.state.fromToTable;\r\n    this.areaID = this.router.getCurrentNavigation().extras.state.areaID;\r\n    this._TABLE1_BILL['tableInfo'] = dataTrans[0]\r\n    this._TABLE2_BILL['tableInfo'] = dataTrans[1]\r\n    this.getData(dataTrans)\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n  /**lấy dữ liệu bill/detail\r\n   * @param dataTable: dữ liệu 2 bàn cần tách\r\n  */\r\n  getData(dataTable: any) {\r\n    Promise.all([\r\n      this.vhQueryCafe.getBills_byFields( { id_table: { $eq: dataTable[0]._id }, bill_type: { $eq: 5 }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }),\r\n      this.vhQueryCafe.getBills_byFields({ id_table: { $eq: dataTable[1]._id }, bill_type: { $eq: 5 }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } })\r\n    ]).then(([table1, table2]: any[]) => {\r\n      /** Kiểm tra bill muốn tách có tồn tại không */\r\n      if (!table1.length) {\r\n        this.vhComponent.alertMessage(\"\", \"\", this.languageService.translate(\"The invoice is not existed\"), \"OK\").then(() => this.goBackArea())\r\n        return\r\n      }\r\n\r\n      this._TABLE1_BILL['bill'] = table1[0]\r\n      if (table2.length) this._TABLE2_BILL['bill'] = table2[0]\r\n      else {\r\n        this._TABLE2_BILL['bill'] = { ...table1[0], total: 0, payment: 0, discount: 0, fee: 0, id_table: dataTable[1]._id, id_area: dataTable[1].id_area }\r\n        delete this._TABLE2_BILL['bill']['_id']\r\n      }\r\n\r\n      if (table2.length) { // bàn 2 đã có khách\r\n        Promise.all([\r\n          this.vhQueryCafe.getBill_details_byId_bill(table1[0]._id), this.vhQueryCafe.getBill_details_byId_bill(table2[0]._id)\r\n        ]).then(([billDetail1, billDetail2]: any[]) => {\r\n          this._TABLE1_BILL['billDetail'] = billDetail1.map(item => {\r\n            let data: any = { ...item, choice: false, ...this.getNameImgFood(item.id_product, item.id_subproduct) }\r\n            if (data.combos) {\r\n              data.combos = data.combos.map(element => {\r\n                return { ...element, name: this.getNameFood(element.id_product, element.id_subproduct) }\r\n              })\r\n              data.comboName = this.getSubCombo(data.combos)\r\n            }\r\n            if (data.toppings) data.toppingsName = this.getKindTopping(data.toppings)\r\n            return data\r\n          })\r\n          this._TABLE2_BILL['billDetail'] = billDetail2.map(item => {\r\n            let data: any = { ...item, choice: false, ...this.getNameImgFood(item.id_product, item.id_subproduct) }\r\n            if (data.combos) {\r\n              data.combos = data.combos.map(element => {\r\n                return { ...element, name: this.getNameFood(element.id_product, element.id_subproduct) }\r\n              })\r\n              data.comboName = this.getSubCombo(data.combos)\r\n            }\r\n            if (data.toppings) data.toppingsName = this.getKindTopping(data.toppings)\r\n            return data\r\n          })\r\n        }).catch(err => console.error(err))\r\n      } else { // bàn 2 là bàn trống\r\n        this.vhQueryCafe.getBill_details_byId_bill(table1[0]._id).then(billDetail1 => {\r\n          this._TABLE1_BILL['billDetail'] = billDetail1.map(item => {\r\n            let data: any = { ...item, choice: false, ...this.getNameImgFood(item.id_product, item.id_subproduct) }\r\n            if (data.combos) {\r\n              data.combos = data.combos.map(element => {\r\n                return { ...element, name: this.getNameFood(element.id_product, element.id_subproduct) }\r\n              })\r\n              data.comboName = this.getSubCombo(data.combos)\r\n            }\r\n            if (data.toppings) data.toppingsName = this.getKindTopping(data.toppings)\r\n            return data\r\n          })\r\n        }).catch(err => console.error(err))\r\n      }\r\n    })\r\n  }\r\n  /**Tiến hành tách bàn */\r\n  separateTable() {\r\n    this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Separate table\"), \"OK\", this.languageService.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        //cập nhật payment\r\n        if (this._TABLE1_BILL['bill'].payment_type != 2) this._TABLE1_BILL['bill'].payment = this._TABLE1_BILL['bill'].total * (1 + this._TABLE1_BILL['bill'].tax / 100)\r\n        if (this._TABLE2_BILL['bill'].payment_type != 2) this._TABLE2_BILL['bill'].payment = this._TABLE2_BILL['bill'].total * (1 + this._TABLE2_BILL['bill'].tax / 100)\r\n\r\n        // xử lý bàn 1\r\n        const process1 = () => {\r\n          return new Promise((resolve, rejects) => {\r\n            for (let item of this._TABLE1_BILL['billDetail']) {\r\n              item.id_bill = this._TABLE1_BILL['bill']._id\r\n            }\r\n            this.vhQueryCafe.updateBill_Billdetail(this._TABLE1_BILL['bill']._id, this._TABLE1_BILL['bill'], this._TABLE1_BILL['billDetail']).then(res => resolve(res)).catch(err => rejects(err))\r\n          })\r\n        }\r\n        // xử lý bàn 2\r\n        const process2 = () => {\r\n          return new Promise((resolve, rejects) => {\r\n            if (this._TABLE2_BILL['bill']._id) { // bàn đã có khách\r\n              for (let item of this._TABLE2_BILL['billDetail']) {\r\n                item.id_bill = this._TABLE2_BILL['bill']._id\r\n              }\r\n              this.vhQueryCafe.updateBill_Billdetail(this._TABLE2_BILL['bill']._id, this._TABLE2_BILL['bill'], this._TABLE2_BILL['billDetail']).then(res => resolve(res)).catch(err => rejects(err))\r\n            } else { // bàn mới\r\n              for (let item of this._TABLE2_BILL['billDetail']) {\r\n                delete item.id_bill; delete item._id\r\n              }\r\n              Promise.all([\r\n                this.vhQueryCafe.createBill_Billdetail(this._TABLE2_BILL['bill'], this._TABLE2_BILL['billDetail']),\r\n                this.vhQueryCafe.updateTable(this._TABLE2_BILL['bill'].id_table, { status: true })\r\n              ]).then(res => resolve(res)).catch(err => rejects(err))\r\n            }\r\n          })\r\n        }\r\n        Promise.all([process1(), process2()]).then(res => {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Separate table successfully\"), \"success-toast\").then(() => {\r\n            this.goBackArea();\r\n          })\r\n        }).catch(err => {\r\n          console.error(err)\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Separate table failed\"), \"alert-toast\")\r\n        }).finally(() => this.vhComponent.hideLoading())\r\n      })\r\n    }, () => { })\r\n  }\r\n  /** Kiểm tra điều kiện cho phép tách bàn  */\r\n  checkSeparate() {\r\n    let choice1 = this._TABLE1_BILL['billDetail'].filter(item => item.choice)\r\n    let choice2 = this._TABLE2_BILL['billDetail'].filter(item => item.choice)\r\n    // TH cả 2 bàn đều chọn => cho phép\r\n    if (choice1.length && choice2.length) return false\r\n    // Chỉ có bàn 1 chọn\r\n    if (choice1.length) {\r\n      // TH chọn hết\r\n      if (choice1.length == this._TABLE1_BILL['billDetail'].length && choice1.some(item => !item.toppings && item.quantity > 1)) return false\r\n      // TH chọn 1 phần\r\n      if (choice1.length < this._TABLE1_BILL['billDetail'].length) return false\r\n    }\r\n    // Chỉ có bàn 2 chọn\r\n    if (choice2.length) {\r\n      // TH chọn hết\r\n      if (choice2.length == this._TABLE2_BILL['billDetail'].length && choice2.some(item => !item.toppings && item.quantity > 1)) return false\r\n      // TH chọn 1 phần\r\n      if (choice2.length < this._TABLE2_BILL['billDetail'].length) return false\r\n    }\r\n    return true\r\n  }\r\n  /**Chuyển món */\r\n  transmit() {\r\n    if (this.checkSeparate()) {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Can not separate all dishes\"), \"alert-toast\")\r\n      return\r\n    }\r\n    // duyệt bill detail bàn 1\r\n    for (let i in this._TABLE1_BILL['billDetail']) {\r\n      if (this._TABLE1_BILL['billDetail'][i].choice) { // món ở bàn 1 được chọn\r\n        let index = this._TABLE2_BILL['billDetail'].findIndex(item => item._id == this._TABLE1_BILL['billDetail'][i]._id)\r\n\r\n        if (this._TABLE1_BILL['billDetail'][i].toppings) {\r\n          // tổng giá toppings\r\n          const toppingTotal: number = this._TABLE1_BILL['billDetail'][i].toppings ? this._TABLE1_BILL['billDetail'][i].toppings.reduce((sum: number, current: any) => sum + current.price * current.quantity, 0) : 0\r\n\r\n          this._TABLE2_BILL['billDetail'].push({ ...this._TABLE1_BILL['billDetail'][i], choice: false })\r\n          // tính lại tổng\r\n          this._TABLE1_BILL['bill'].total -= this._TABLE1_BILL['billDetail'][i].price * this._TABLE1_BILL['billDetail'][i].quantity + toppingTotal\r\n          this._TABLE2_BILL['bill'].total += this._TABLE1_BILL['billDetail'][i].price * this._TABLE1_BILL['billDetail'][i].quantity + toppingTotal\r\n\r\n          this._TABLE1_BILL['billDetail'][i].quantity = 0;\r\n          // bỏ qua đoạn code dưới\r\n          continue\r\n        }\r\n        // dành cho món không có topping\r\n        else if (index == -1) this._TABLE2_BILL['billDetail'].push({ ...this._TABLE1_BILL['billDetail'][i], choice: false, quantity: 1 })\r\n        else this._TABLE2_BILL['billDetail'][index].quantity += 1\r\n\r\n        this._TABLE1_BILL['bill'].total -= this._TABLE1_BILL['billDetail'][i].price\r\n        this._TABLE2_BILL['bill'].total += this._TABLE1_BILL['billDetail'][i].price\r\n\r\n        this._TABLE1_BILL['billDetail'][i].quantity -= 1;\r\n        this._TABLE1_BILL['billDetail'][i].choice = false\r\n      }\r\n    }\r\n    // duyệt bill detail bàn 2\r\n    for (let i in this._TABLE2_BILL['billDetail']) {\r\n      if (this._TABLE2_BILL['billDetail'][i].choice) { // món ở bàn 2 được chọn\r\n        let index = this._TABLE1_BILL['billDetail'].findIndex(item => item._id == this._TABLE2_BILL['billDetail'][i]._id)\r\n\r\n        if (this._TABLE2_BILL['billDetail'][i].toppings) {\r\n          // tổng giá toppings\r\n          const toppingTotal: number = this._TABLE2_BILL['billDetail'][i].toppings ? this._TABLE2_BILL['billDetail'][i].toppings.reduce((sum: number, current: any) => sum + current.price * current.quantity, 0) : 0\r\n\r\n          this._TABLE1_BILL['billDetail'].push({ ...this._TABLE2_BILL['billDetail'][i], choice: false })\r\n          // tính lại tổng\r\n          this._TABLE1_BILL['bill'].total += this._TABLE2_BILL['billDetail'][i].price * this._TABLE2_BILL['billDetail'][i].quantity + toppingTotal\r\n          this._TABLE2_BILL['bill'].total -= this._TABLE2_BILL['billDetail'][i].price * this._TABLE2_BILL['billDetail'][i].quantity + toppingTotal\r\n\r\n          this._TABLE2_BILL['billDetail'][i].quantity = 0;\r\n          // bỏ qua đoạn code dưới\r\n          continue\r\n        }\r\n        // dành cho món không có topping\r\n        else if (index == -1) this._TABLE1_BILL['billDetail'].push({ ...this._TABLE2_BILL['billDetail'][i], choice: false, quantity: 1 })\r\n        else this._TABLE1_BILL['billDetail'][index].quantity += 1\r\n\r\n        this._TABLE1_BILL['bill'].total += this._TABLE2_BILL['billDetail'][i].price\r\n        this._TABLE2_BILL['bill'].total -= this._TABLE2_BILL['billDetail'][i].price\r\n\r\n        this._TABLE2_BILL['billDetail'][i].quantity -= 1;\r\n        this._TABLE2_BILL['billDetail'][i].choice = false\r\n      }\r\n    }\r\n    // lọc lại các món quantity > 0\r\n    this._TABLE1_BILL['billDetail'] = this._TABLE1_BILL['billDetail'].filter(item => item.quantity)\r\n    this._TABLE2_BILL['billDetail'] = this._TABLE2_BILL['billDetail'].filter(item => item.quantity)\r\n    // cho phép tách bàn\r\n    this._STATUS = false\r\n  }\r\n  ////////////////////////////////////////////////////////// Lấy tên các thông tin món ăn //////////////////////////////////////////////////////////////////////////\r\n  getNameImgFood(id_prod: string, id_subProd: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood = food.subs ? food.subs.find(item => item._id == id_subProd) : null\r\n    return { name: `${food ? food.name : ''} ${subFood ? '(' + this.languageService.translate(subFood.name) + ')' : ''}`, img: food.img }\r\n  }\r\n  getNameFood(id_prod: string, id_subProd: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = food.subs.find(item => item._id == id_subProd)\r\n    return `${food ? food.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}`\r\n  }\r\n  getKindTopping(toppings: any[]): string {\r\n    let nameTopping: string = \"\"\r\n    toppings.forEach(topping => nameTopping += `${nameTopping.length ? \", \" : \"\"}${topping.quantity} ${this.getNameFood(topping.id_product, topping.id_subproduct)}`)\r\n    return nameTopping;\r\n  }\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n  goBackArea() {\r\n    this.router.navigate(['/cafe/cafe-desktop'], { state: this.dataRestore })\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/cafe-desktop/seperate-table'], { state: { dataRestore: this.dataRestore } })\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"seperate-invoice\") && document.querySelector(\".seperate-invoice-header\")) {\r\n      let height = document.getElementById(\"seperate-invoice\").clientHeight - document.querySelector(\".seperate-invoice-header\").clientHeight - 50 + 'px';\r\n      document.getElementById(\"seperate-invoice-content-table-1\").style.height = height;\r\n      document.getElementById(\"seperate-invoice-content-table-2\").style.height = height;\r\n    }\r\n  }\r\n}\r\n","<!-- <div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div> -->\r\n<nz-layout id=\"seperate-invoice\">\r\n    <div class=\"seperate-invoice-header\" [nzGutter]=\"16\" nz-row>\r\n        <div nz-col nzSpan=\"2\" class=\"left-all-content\" (click)=\"goBack()\">\r\n            <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"19\" class=\"left-all-content title-header\">\r\n            <b>{{'Separate table' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"center-all-content\">\r\n            <button [disabled]=\"_STATUS\" (click)=\"separateTable()\" class=\"center-all-content btn-green\" nz-button\r\n                nzType=\"default\">\r\n                <ion-icon name=\"save-outline\"></ion-icon>\r\n                {{'Save' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"seperate-invoice-content\" nz-col nzSpan=\"24\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"10\" class=\"seperate-invoice-content-table\">\r\n                <b>{{_TABLE1_BILL['tableInfo'].name}}</b>\r\n                <div id=\"seperate-invoice-content-table-1\" class=\"seperate-invoice-content-table-1 hideScrollbar\">\r\n                    <ion-item (click)=\"item.choice = !item.choice\" class=\"\" lines=\"none\"\r\n                        *ngFor=\"let item of _TABLE1_BILL['billDetail']\">\r\n                        <ion-thumbnail slot=\"start\">\r\n                            <img [src]=\"item.img ? item.img : './assets/icon/management/noimage.svg'\" />\r\n                        </ion-thumbnail>\r\n                        <ion-label class=\"ion-text-wrap\">\r\n                            <p [ngClass]=\"{'vh-color': item.choice}\">{{item.name}}</p>\r\n                            <p *ngIf=\"item.comboName\" style=\"color: var(--ion-color-vh-gray)\">{{item.comboName}}</p>\r\n                            <p *ngIf=\"item.toppingsName\" style=\"color: var(--ion-color-vh-gray)\">{{item.toppingsName}}\r\n                            </p>\r\n                        </ion-label>\r\n                        <span [ngClass]=\"{'vh-color': item.choice}\"><b>{{item.quantity}}</b></span>\r\n                    </ion-item>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"4\" class=\"seperate-invoice-content-table center-all-content\">\r\n                <ion-button mode=\"md\" class=\"transmit-btn\" (click)=\"transmit()\" fill=\"solid\" color=\"vh-green\">\r\n                    <ion-icon slot=\"icon-only\" color=\"vh-white\" name=\"repeat\"></ion-icon>\r\n                </ion-button>\r\n            </div>\r\n            <div nz-col nzSpan=\"10\" class=\"seperate-invoice-content-table\">\r\n                <b>{{_TABLE2_BILL['tableInfo'].name}}</b>\r\n                <div id=\"seperate-invoice-content-table-2\" class=\"seperate-invoice-content-table-2 hideScrollbar\">\r\n                    <ion-item class=\"\" lines=\"none\" *ngFor=\"let item of _TABLE2_BILL['billDetail']\"\r\n                        (click)=\"item.choice = !item.choice\" [ngClass]=\"{'vh-border': item.choice}\">\r\n                        <ion-thumbnail slot=\"start\">\r\n                            <img [src]=\"item.img ? item.img : './assets/icon/management/noimage.svg'\" />\r\n                        </ion-thumbnail>\r\n                        <ion-label class=\"ion-text-wrap\">\r\n                            <p [ngClass]=\"{'vh-color': item.choice}\">{{item.name}}</p>\r\n                            <p *ngIf=\"item.comboName\" style=\"color: var(--ion-color-vh-gray)\">{{item.comboName}}</p>\r\n                            <p *ngIf=\"item.toppingsName\" style=\"color: var(--ion-color-vh-gray)\">{{item.toppingsName}}\r\n                            </p>\r\n                        </ion-label>\r\n                        <span [ngClass]=\"{'vh-color': item.choice}\"><b>{{item.quantity}}</b></span>\r\n                    </ion-item>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>"],"names":[],"sourceRoot":"webpack:///"}