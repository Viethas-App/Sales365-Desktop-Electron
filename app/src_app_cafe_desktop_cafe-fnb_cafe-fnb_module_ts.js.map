{"version":3,"file":"src_app_cafe_desktop_cafe-fnb_cafe-fnb_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/cafe-fnb/cafe-fnb-shared.service.ts","./src/app/cafe/desktop/cafe-fnb/cafe-fnb.component.ts","./src/app/cafe/desktop/cafe-fnb/cafe-fnb.component.html","./src/app/cafe/desktop/cafe-fnb/cafe-fnb.module.ts","./src/app/cafe/pipes/time-ago.pipe.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { VhOrderInvoices } from '../../interface/vh-order-invoice';\r\nimport { VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { VhBookingInvoice, VhBookingInvoices } from '../../interface/vh-booking';\r\nimport { differenceInCalendarDays } from 'date-fns';\r\nimport { VhType } from '../../interface/vh-type';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CafeFnbSharedService {\r\n\r\n  /** Index của tab Area (khu vực) được chọn */\r\n  indexTabArea: number = 0;\r\n\r\n  /** Giá trị ô input search đơn go_home */\r\n  searchValueAreaGoHome: string = '';\r\n\r\n  /** ID của Area (khu vực) đang được chọn */\r\n  selectedAreaID: any = 'go_home';\r\n\r\n  /** ID của Bàn đang được chọn */\r\n  selectedTableID: any = 'go_home';\r\n\r\n  /** Hoá đơn đang được chọn */\r\n  selectedBill: VhOrderInvoices = new VhOrderInvoices({}, []);\r\n\r\n  /** Có hiển thị modal thanh toán hay không */\r\n  isShowModalPay = false;\r\n\r\n  showConfigPrintKitchenElectron = false;\r\n\r\n  filterType: 1 | 2 | 3 | 4 = 1;\r\n\r\n  showConfigPrintKitchen = false;//  biến show modal cấu hình may in bếp\r\n\r\n  /** Thông tin tài khoản employee hiện tại */\r\n  user: any = this.vhAuth.getUser();\r\n\r\n  /** Danh sách chi nhánh */\r\n  branchList: Array<any> = [];\r\n\r\n  showConfig = false; //  biến show modal cấu hình\r\n\r\n  show_modal_choose_interface = false;\r\n\r\n  modalAccountInfo: boolean = false;//show/hide moal thông tin tài khoản\r\n\r\n  showConfigSales = false; //  biến show modal cấu hình trang bán hàng\r\n\r\n  showConfigPrint = false; //  biến show modal cấu hình may in\r\n\r\n  kitchens = this.vhQueryCafe.getlocalDispatcherZones();\r\n\r\n  useBranch: boolean = this.functionService.checkUsingBranch();\r\n\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName('default_selling_page');\r\n\r\n  /** Danh sách tùy chọn bộ lọc */\r\n  listFilter: Array<any> = [\r\n    { value: 1, name: 'Latest' },\r\n    { value: 2, name: 'Oldest' },\r\n    { value: 3, name: 'Low to High value' },\r\n    { value: 4, name: 'High to Low value' }\r\n  ];\r\n\r\n  /**Subscription area - table*/\r\n  area$: Subscription;\r\n\r\n  observableTables: Subscription;\r\n\r\n  listTables: any = [];\r\n\r\n  listAllBills = []; // Danh sách tất cả đơn\r\n\r\n  listBills = []; // Danh sách đơn hiển thị trên giao diện\r\n\r\n  checkPrinter: boolean = false;\r\n\r\n  checkPrinterKitchen: any = {};\r\n\r\n  /** thuộc tính máy in */\r\n  printer: any;\r\n\r\n  error_to_get_bill: boolean;\r\n\r\n  /** dữ liệu state truyền về */\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state;\r\n\r\n  /** Danh sách bill mang về dùng để search */\r\n  billsGoHome: any = [];\r\n\r\n  /** Danh sách bill mang về sẽ hiển thị */\r\n  billsGoHomeShow: any = [];\r\n\r\n  debt = false;\r\n\r\n  /**Xử lý branches */\r\n  branchDefault: any = {};\r\n\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price;\r\n\r\n  /** Đã load xong bill và bill details hay chưa để hiển thị loading */\r\n  isLoadedInvoice: boolean = false;\r\n\r\n  isLoadedInvoice2: boolean = false;\r\n\r\n  // thông tin bàn đang được đặt\r\n  tableInfo: string = '';\r\n\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ];\r\n\r\n  percent_discount = 0;\r\n\r\n  invoice_cash = '';\r\n\r\n  moneyEdit: any = {};\r\n\r\n  /** BILL DETAIL */\r\n  // trạng thái\r\n  statusInvoice: any = {\r\n    updating: false,\r\n    deleting: false,\r\n  };\r\n\r\n  stamp: any; // mẫu tem in để in món. lấy từ collection design_barcodes với trường default = true\r\n\r\n  observableSyncOpeningBill: Subscription;\r\n\r\n  list_earning_point_bills: any = [];\r\n\r\n  list_earning_points_products: any = [];\r\n\r\n  default_price_type = 1;\r\n\r\n  customer_class: any;\r\n\r\n  program_bill: any;\r\n\r\n  program_product: any;\r\n\r\n  earning_point: number = 0;\r\n\r\n  isGotPromotion = false;\r\n\r\n  showProductGift = false;\r\n\r\n  product_gift_type7: any = [];\r\n\r\n  showProductGiftType7 = false;\r\n\r\n  gotten_gift_type7 = false;\r\n\r\n  bill_details_pmtype_7: any = [];\r\n\r\n  showDrawerProductList: boolean = false;\r\n\r\n  showDrawerEdit: boolean = false;\r\n\r\n  showPrintKitchenAgain = false;\r\n\r\n  // display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  printKitchen: any = {\r\n    status: false,\r\n    title: 'Add dishes',\r\n    value: []\r\n  };\r\n\r\n  wishList: boolean = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n\r\n  show_modal_select_lots = false;\r\n\r\n  list_search_lot = [];\r\n\r\n  warning_lot_expried: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried;\r\n\r\n  dispatchers_enable: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch(\"dispatchers_enable\").dispatchers_enable;\r\n\r\n  open_dialog_print_kitchen_bill_detail: any = this.vhQueryCafe.getLocalAppSettingNameBranch(\"dispatchers_enable\").open_dialog_print_kitchen_bill_detail;\r\n\r\n  id_branch = this.vhQueryCafe.getDefaultBranch()._id;\r\n\r\n  show_modal_dispatcher: boolean = false;\r\n\r\n  dispatcherzones = this.vhQueryCafe.getlocalDispatcherZones();\r\n\r\n  id_dispatcherzone = this.vhQueryCafe.getlocalDispatcherZones().length ? this.vhQueryCafe.getlocalDispatcherZones().find(e => e.default)._id : '';\r\n\r\n  management_product_price2: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').management_product_price2;\r\n\r\n  editPrice: any = {};\r\n\r\n  choiceFood: any;\r\n\r\n  customerList: any[] = [];\r\n\r\n  customerSearchList: any[] = [];\r\n\r\n  /** Loại khách hàng: 1-khách lẻ, 2-thành viên, 3-tìm khách hàng */\r\n  customerType: 1 | 2 | 3;\r\n\r\n  customer: any = '';\r\n\r\n  showDrawerAddCustomer: boolean = false;\r\n\r\n  showDrawerCustomerInfo: boolean = false;\r\n\r\n  showDrawerAddRetail: boolean = false;\r\n\r\n  showModalChangePriceType: boolean = false;\r\n\r\n  showModalOtherDiscount: boolean = false;\r\n\r\n  showModalSeparateTable: boolean = false;\r\n\r\n  showModalChooseTableToSwitch: boolean = false;\r\n\r\n  show_box_search = false;\r\n\r\n  point_validity = 0;\r\n\r\n  createStatus: boolean = false;\r\n\r\n  addCustomerForm: FormGroup;\r\n\r\n  addRetailForm: FormGroup;\r\n\r\n  customerProfile: any = {};\r\n\r\n  selectedValue: any;\r\n\r\n  phone: any;\r\n\r\n  invoice_discount: string = '';\r\n\r\n  invoice_fee: string = '';\r\n\r\n  invoice_note: string = '';\r\n\r\n  invoice_payment: string;\r\n\r\n  value_discount_point: number = 0;\r\n\r\n  product_codes: any = [];\r\n\r\n  /** Danh sách sản phẩm */\r\n  public foodList: any[] = this.vhQueryCafe\r\n    .getlocalDetailProducts()\r\n    .filter((item) => item.type == VhType.DISHES || item.type == VhType.INGREDIENT)\r\n    .filter((item) => !item.delete_hidden || item.manysize)\r\n    .map((e) => {\r\n      return { ...e, ...e.units[e.units.findIndex(ele => ele.default)], ptype: e.type };\r\n    });\r\n\r\n  /**Danh sách dịch vụ */\r\n  public serviceList: any[] = this.vhQueryCafe\r\n    .getlocalDetailProducts(VhType.SERVICE_SERVICETIME)\r\n    .filter((item) => !item.delete_hidden)\r\n    .map((e) => {\r\n      return { ...e, ...e.units[0] };\r\n    });\r\n\r\n  /**Danh sách topping */\r\n  public sideDishesList: any[] = this.vhQueryCafe\r\n    .getlocalProducts()\r\n    .filter((item) => !item.delete_hidden && item.type == VhType.TOPPING)\r\n    .map((e) => {\r\n      return { ...e, ...e.units[0] };\r\n    });\r\n\r\n  /**Danh sách combo */\r\n  public combosList: any[] = [];\r\n\r\n  /** Danh sách sản phẩm đã tìm kiếm */\r\n  public searchList: any[] = [];\r\n\r\n  /** Sản phẩm được chọn */\r\n  public choiceFoodSearch: any = {};\r\n\r\n  /** Danh sách menu */\r\n  list_menu: any = [];\r\n\r\n  listTabs: Array<any> = [{ _id: 'all', name: 'All', type: 1 }];\r\n\r\n  indexTab: number = 0;\r\n\r\n  showOptions: boolean = false; // Hiển thị modal thêm món ăn\r\n\r\n  isAddingFood: boolean = false; // Biến kiểm tra có đang thêm món ăn hay không\r\n\r\n  tempVal: string = '';\r\n\r\n  auto_hidden_lot: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_hidden_lot;\r\n\r\n  auto_select_lot: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_select_lot;\r\n\r\n  tempSearchType: any = [];\r\n\r\n  isExit: boolean = false;\r\n\r\n  productWishList: any[] = [];\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n\r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /* --------------------------------------------------------------- BOOKING -------------------------------------------------------------- */\r\n\r\n  /** Có hiện modal Thêm đặt bàn hay không */\r\n  isShowModalBookingAdd: boolean = false;\r\n\r\n  /** Đơn hàng từ Booking */\r\n  bookingBill: VhBookingInvoices = new VhBookingInvoices({}, []);\r\n\r\n  /** Booking object để lưu dữ liệu */\r\n  bookingBillObject: any = {\r\n    date: new Date(),\r\n    id_customer: 'id_retail',\r\n  };\r\n\r\n  /** Thời gian hiện tại */\r\n  today: Date = new Date();\r\n\r\n  /** Disabled date trước hiện tại */\r\n  bookingDisabledDateBeforeNow = (current: Date): boolean => differenceInCalendarDays(current, this.today) < 0;\r\n  /** Disabled time trước hiện tại */\r\n  bookingDisabledTimeBeforeNow = (current: Date | null): { nzDisabledHours: () => number[], nzDisabledMinutes: (hour: number) => number[], nzDisabledSeconds: () => number[] } => {\r\n    if (!current) {\r\n      return { nzDisabledHours: () => [], nzDisabledMinutes: () => [], nzDisabledSeconds: () => [] };\r\n    }\r\n    const now = new Date();\r\n    // disbale thời gian trước hiện tại\r\n    if (differenceInCalendarDays(current, this.today) === 0) {\r\n      return {\r\n        nzDisabledHours: () => Array.from({ length: now.getHours() }, (_, i) => i),\r\n        nzDisabledMinutes: (hour: number) => hour === now.getHours() ? Array.from({ length: now.getMinutes() }, (_, i) => i) : [],\r\n        nzDisabledSeconds: () => []\r\n      };\r\n    }\r\n    return { nzDisabledHours: () => [], nzDisabledMinutes: () => [], nzDisabledSeconds: () => [] };\r\n  };\r\n\r\n  /** Loại khách hàng ở Booking. 1: Khách lẻ, 2: Thành viên, 3 - Tìm khách hàng */\r\n  bookingCustomerType: 1 | 2 | 3 = 1;\r\n\r\n  /** Profile khách hàng được chọn trong Booking */\r\n  bookingSelectedCustomerProfile: any = {};\r\n\r\n  /** Có hiện modal Chọn bàn hay không */\r\n  isShowModalBookingChooseTable: boolean = false;\r\n\r\n  /** Area - Table được chọn trong Booking. VD: Khu vuc 1 - ban a2 */\r\n  bookingSelectedTableInfo: string;\r\n\r\n  /** Có hiện modal Chọn món ăn hay không */\r\n  isShowModalBookingChooseFood: boolean = false;\r\n\r\n  /** Cho phép update lên database không */\r\n  isUpdateToDatabase: boolean = true;\r\n\r\n  /** Đã load danh sách Booking chưa */\r\n  isLoadedBookingListBills: boolean = false;\r\n\r\n  /** Danh sách tất cả bills của tab Booking */\r\n  bookingListBills: any = [];\r\n\r\n  /** Danh sách bills sẽ hiển thị của tab Booking */\r\n  bookingListBillsShow: any = [];\r\n\r\n  /** Loại hiển thị của modal-add-booking */\r\n  modalAddBookingType: 'add' | 'edit' = 'add';\r\n\r\n  /** Để xác định phương thức sẽ gọi sau khi choose table */\r\n  bookingChooseTableType: 'add' | 'transform-to-order' | 'change' = 'add';\r\n\r\n  /** Dùng cho In bếp / bar oqr booking. Chứa trạng thái in, danh sách món sẽ in và tên bàn */\r\n  bookingPrintKitchen: any = new Object({\r\n    status: false,\r\n    value: [],\r\n    table_name: ''\r\n  });\r\n\r\n  /** Máy in bếp ở booking */\r\n  bookingPrinterKitchen: any;\r\n\r\n  /** Ngày bắt đầu và kết thúc để filter ở booking */\r\n  bookingFilterDate: Date[] = [new Date(), new Date()];\r\n\r\n  /** Để xác định phương thức sẽ gọi sau khi choose-food (cart-detail) */\r\n  bookingChooseFoodType: 'add' | 'change' = 'add';\r\n\r\n  /** Để kích sự kiện thay đổi cho Tìm khách hàng của booking */\r\n  bookingTriggerSelectSearchCustomerChange: any;\r\n\r\n   /** Danh sách 7 ngày từ ngày hôm nay để dùng ở tab Booking */\r\n   daysList: {\r\n    dayOfWeek: string;\r\n    date: Date;\r\n    count: number;\r\n  }[] = [];\r\n\r\n  /** Bộ lọc được chọn ở booking */\r\n  selectedFilterDate: string = 'all';\r\n\r\n  /**\r\n   * Đếm số lượng hoá đơn theo key\r\n   */\r\n  bookingCountBill: any = {\r\n    'all': 0,\r\n    'overdue': 0,\r\n    'upcoming': 0,\r\n    'custom': '0',\r\n    'Today': 0,\r\n    'Tomorrow': 0,\r\n    'Monday': 0,\r\n    'Tuesday': 0,\r\n    'Wednesday': 0,\r\n    'Thursday': 0,\r\n    'Friday': 0,\r\n    'Saturday': 0,\r\n    'Sunday': 0,\r\n  };\r\n\r\n  /**\r\n   * Danh sách id của hoá đơn overdue\r\n   */\r\n  bookingListIdBillsOverdue: any;\r\n\r\n\r\n  isSetObservableBill: boolean = false;\r\n\r\n\r\n  /* --------------------------------------------------------------- IN TEM --------------------------------------------------------------- */\r\n\r\n  /** Có hiện modal Chọn tem để in hay không */\r\n  isShowModalSelectLabelPrint: boolean = false;\r\n\r\n  /** Danh sách món ăn cần in tem */\r\n  list_selected_dishs: any;\r\n\r\n\r\n\r\n  /* ---------------------------------------------------------- DỊCH VỤ THỜI GIAN --------------------------------------------------------- */\r\n\r\n  /** Thời gian mở bill, dùng để tính thời gian cho Dịch vụ thời gian */\r\n  endTime: Date = new Date();\r\n\r\n  /** Có hiện modal Chỉnh sửa thời gian sử dụng hay không */\r\n  isShowModalEditUsedTime: boolean = false;\r\n\r\n  /** Biến tạm lưu thời gian bắt đầu (time_start_order) */\r\n  tempStartTime: any;\r\n  \r\n  /** Biến tạm lưu thời gian kết thúc (time_end_order) */\r\n  tempEndTime: any;\r\n\r\n\r\n\r\n  /* ----------------------------------------------------------- HÓA ĐƠN ĐIỆN TỬ ---------------------------------------------------------- */\r\n  \r\n  /** Ký tự động ngay khi gửi hóa đơn lên Cơ quan thuế */\r\n  cqt_invoice_auto_sign: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_invoice_auto_sign;\r\n  \r\n  /** Gửi hóa đơn lên Cơ quan thuế ngay khi thanh toán */\r\n  cqt_submit_invoice_immediately: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_submit_invoice_immediately;\r\n\r\n\r\n\r\n  constructor(\r\n    private vhAuth: VhAuth,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private functionService: FunctionService,\r\n    private router: Router,\r\n    private languageService: LanguageService\r\n  ) { }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { CafeFnbSharedService } from './cafe-fnb-shared.service';\r\n\r\n@Component({\r\n  selector: 'app-cafe-fnb',\r\n  templateUrl: './cafe-fnb.component.html',\r\n  styleUrls: ['./cafe-fnb.component.scss'],\r\n  providers: [CafeFnbSharedService],\r\n})\r\nexport class CafeFnbComponent {\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CafeFnbComponent } from './cafe-fnb.component';\r\nimport { EwaComponentsModule } from 'ewa-components-angular';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { KeyboardModule } from 'src/app/sales/keyboard/keyboard.module';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TimeAgoPipeModule } from '../../pipes/time-ago.pipe';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CafeFnbComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        loadChildren: () =>\r\n          import('./cafe-fnb-main/cafe-fnb-main.module').then(m => m.CafeFnbMainModule),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CafeFnbComponent,\r\n  ],\r\n  imports: [\r\n    EwaComponentsModule,\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    KeyboardModule,\r\n    NgZorroAntModule,\r\n    TimeAgoPipeModule,\r\n  ],\r\n})\r\nexport class CafeFnbModule { }\r\n","import { Pipe, PipeTransform, OnDestroy, ChangeDetectorRef, NgZone, NgModule } from '@angular/core';\r\nimport { LangChangeEvent, TranslateService } from '@ngx-translate/core';\r\nimport { interval, Subscription } from 'rxjs';\r\n\r\n/**\r\n * Pipe để hiển thị thời gian đã qua từ thời gian truyền vào so với hiện tại.\r\n * \r\n * => 00:00:33, 00:42:35, 1 day, 2 months, 1 year, 2 years\r\n * \r\n * @example\r\n * <p>{{ myDate | timeAgo }}</p>\r\n */\r\n@Pipe({\r\n  name: 'timeAgo',\r\n  pure: false\r\n})\r\nexport class TimeAgoPipe implements PipeTransform, OnDestroy {\r\n  /** Subscription của timer */\r\n  private timer: Subscription | null = null;\r\n  /** Giá trị thời gian hiển thị cuối cùng */\r\n  private lastTime: string = '';\r\n  /** Giá trị đầu vào cuối cùng */\r\n  private lastInput: Date | string | number | null = null;\r\n  /** Subscription khi thay đổi ngôn ngữ */\r\n  private langChangeSubscription: Subscription | null = null;\r\n\r\n\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private ngZone: NgZone,\r\n    private translateService: TranslateService,\r\n  ) {\r\n    // Khi ngôn ngữ thay đổi\r\n    this.langChangeSubscription = this.translateService.onLangChange.subscribe(\r\n      (event: LangChangeEvent) => {\r\n        this.updateDisplayedTime(this.lastInput);\r\n        this.cdr.markForCheck();\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n\r\n  transform(value: Date | string | number): string {\r\n    if (!value) return '';\r\n    /** So sánh nếu value với giá trị đầu vào cuối cùng nếu khác thì mới câp nhật lại giá trị hiển thị */\r\n    if (value !== this.lastInput) {\r\n      this.lastInput = value;\r\n      this.startTimer(value);\r\n      this.updateDisplayedTime(value);\r\n    }\r\n\r\n    return this.lastTime;\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Bắt đầu timer để cập nhật thời gian hiển thị\r\n   */\r\n  private startTimer(value: Date | string | number) {\r\n    this.stopTimer();\r\n\r\n    const inputDate = new Date(value);\r\n\r\n    const now = new Date();\r\n    const diffInSeconds = Math.floor((now.getTime() - inputDate.getTime()) / 1000);\r\n\r\n    /** Thời gian giữa những lần cập nhật */\r\n    let refreshInterval = 3600; // Mặc định: cập nhật mỗi giờ\r\n\r\n    if (diffInSeconds < 86400) {\r\n      refreshInterval = 1; // Nếu nhỏ hơn 1 ngày, cập nhật mỗi giây\r\n    } \r\n    else if (diffInSeconds < 604800) {\r\n      refreshInterval = 60; // Nếu nhỏ hơn 1 tuần, cập nhật mỗi phút\r\n    } \r\n    else if (diffInSeconds < 2592000) {\r\n      refreshInterval = 3600; // Nếu nhỏ hơn 1 tháng, cập nhật mỗi giờ\r\n    } \r\n    else {\r\n      refreshInterval = 0; // Nếu lớn hơn 1 tháng, không cần cập nhật\r\n    }\r\n\r\n    if (refreshInterval > 0) {\r\n      this.ngZone.runOutsideAngular(() => {\r\n        this.timer = interval(refreshInterval * 1000).subscribe(() => {\r\n          this.updateDisplayedTime(inputDate);\r\n          this.ngZone.run(() => this.cdr.markForCheck());\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Hủy timer khi pipe bị hủy\r\n   */\r\n  private stopTimer() {\r\n    if (this.timer) {\r\n      this.timer.unsubscribe();\r\n      this.timer = null;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Cập nhật giá trị hiển thị\r\n   * @param input \r\n   */\r\n  private updateDisplayedTime(input: Date | string | number) {\r\n    const inputDate = new Date(input);\r\n    const now = new Date();\r\n    const diff = Math.floor((now.getTime() - inputDate.getTime()) / 1000);\r\n\r\n    // Nếu nhỏ hơn 1 ngày, hiển thị theo định dạng HH:mm:ss\r\n    if (diff < 86400) {\r\n      const h = Math.floor(diff / 3600).toString().padStart(2, '0');\r\n      const m = Math.floor((diff % 3600) / 60).toString().padStart(2, '0');\r\n      const s = (diff % 60).toString().padStart(2, '0');\r\n      this.lastTime = `${h}:${m}:${s}`;\r\n    } \r\n    // Nếu nhỏ hơn 1 tuần, hiển thị số ngày\r\n    else if (diff < 604800) {\r\n      const d = Math.floor(diff / 86400);\r\n      this.lastTime = d + ' ' + this.translateService.instant('day' + (d > 1 ? 's' : ''));\r\n    } \r\n    // Nếu nhỏ hơn 1 tháng, hiển thị số tuần\r\n    else if (diff < 2592000) {\r\n      const w = Math.floor(diff / 604800);\r\n      this.lastTime = w + ' ' + this.translateService.instant('week' + (w > 1 ? 's' : ''));\r\n    } \r\n    // Nếu nhỏ hơn 1 năm, hiển thị số tháng\r\n    else if (diff < 31536000) {\r\n      const mo = Math.floor(diff / 2592000);\r\n      this.lastTime = mo + ' ' + this.translateService.instant('month' + (mo > 1 ? 's' : ''));\r\n    } \r\n    // Nếu lớn hơn 1 năm, hiển thị số năm\r\n    else {\r\n      const y = Math.floor(diff / 31536000);\r\n      this.lastTime = y + ' ' + this.translateService.instant('year' + (y > 1 ? 's' : ''));\r\n    }\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    this.stopTimer();\r\n    if (this.langChangeSubscription) {\r\n      this.langChangeSubscription.unsubscribe();\r\n      this.langChangeSubscription = null;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [TimeAgoPipe],\r\n  imports: [\r\n  ],\r\n  exports: [TimeAgoPipe],\r\n\r\n})\r\nexport class TimeAgoPipeModule { }"],"names":[],"sourceRoot":"webpack:///"}