{"version":3,"file":"src_app_cafe_desktop_cafe-pos_components_advange_booking_booking_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/cafe-pos/components/advange/booking/booking.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/booking.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/booking.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-table-booking/search-table-booking.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-table-booking/search-table-booking.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-table-booking/search-table-booking.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/detail/detail.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/detail/detail.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { differenceInCalendarDays } from 'date-fns';\r\n@Component({\r\n  selector: 'app-booking',\r\n  templateUrl: './booking.component.html',\r\n  styleUrls: ['./booking.component.scss']\r\n})\r\nexport class BookingComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  // startTime: Date = new Date();\r\n  // substartTime: Date = new Date();\r\n  // endTime: Date = new Date();\r\n  // subendTime: Date = new Date();\r\n  searchValue: string = '';\r\n  invoice: any = []\r\n  invoiceShow: any = []\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state;\r\n\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET(\"show_keyboard\");\r\n  public booking: any = {\r\n    date: new Date(),\r\n    table_name: '',\r\n    id_table: '',\r\n    id_area: ''\r\n  }\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.dataRestore) this.dataRestore = this.dataRestore.dataRestore\r\n    this.booking['date'] = this.booking['date'].toISOString()\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQueryCafe.getBills_byFields({ date: { $gte: new Date(this.date[0]), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, bill_type: { $eq: 17 }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }).then((bill: any[]) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          if (bill.length) {\r\n            this.invoice = bill.map(item => {\r\n              let table = this.vhQueryCafe.getlocalTable(item['id_table'])\r\n              let areaName: string = `${this.vhQueryCafe.getlocalArea(table['id_area']).name} - ${table.name}`\r\n              return { ...item, partnerName: this.vhQueryCafe.getlocalCustomer(item.id_customer).name, areaName, employeeName: this.vhAuth.getlocalEmployee(item['id_employee']).name }\r\n            })\r\n            this.invoiceShow = this.invoice\r\n          }\r\n          this.searchBill(this.searchValue)\r\n        })\r\n      }).catch(err => { this.vhComponent.hideLoading(0); console.error(err); })\r\n    })\r\n  }\r\n  tableHeight: any;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#booking-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".booking-invoice-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#booking-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".booking-invoice-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  onCurrentPageDataChange(event) { }\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoice, ['bill_code', 'partner_name', 'employee', 'customerPhone'])\r\n    } else this.invoiceShow = [...this.invoice];\r\n\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/cafe-pos'], { state: {isSync:true} })\r\n  }\r\n  gotoDetail(bill) {\r\n    this.router.navigate(['/cafe/cafe-pos/booking/detail'], { state: { dataRestore: { ...this.dataRestore }, id_bill: bill._id } })\r\n  }\r\n\r\n\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n      this.getData()\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [event[0], event[0].getTime() + 2678400000]\r\n    }\r\n  }\r\n\r\n  // setStartTime(value) {\r\n  //   if (this.startTime.getTime() != this.substartTime.getTime()) {\r\n  //     this.substartTime = this.startTime;\r\n  //     this.startTime = new Date(value);\r\n  //     this.startTime.setHours(0, 0, 0);\r\n  //     if ((this.endTime.getTime() - this.startTime.getTime()) < 0) {\r\n  //       this.vhComponent.showToast(1500, this.languageService.translate(\"Staring date must be less than or the same as ending date\"), \"alert-toast\");\r\n  //     }\r\n  //     else this.getData()\r\n  //   }\r\n  // }\r\n  // setEndTime(value) {\r\n  //   if (this.endTime.getTime() != this.subendTime.getTime()) {\r\n  //     this.substartTime = this.endTime;\r\n  //     this.endTime = new Date(value);\r\n  //     this.endTime.setHours(23, 59, 59);\r\n  //     if ((this.endTime.getTime() - this.startTime.getTime()) < 0) {\r\n  //       this.vhComponent.showToast(1500, this.languageService.translate(\"Staring date must be less than or the same as ending date\"), \"alert-toast\");\r\n  //     }\r\n  //     else this.getData()\r\n  //   }\r\n  // }\r\n  /**Modal add booking */\r\n  visibleAdd: boolean = false;\r\n  handleCancelAddBooking() {\r\n    this.visibleAdd = false;\r\n  }\r\n  handleOkAddBooking(value: any) {\r\n    this.router.navigate(['/cafe/cafe-pos/booking/cart'], { state: { dataRestore: this.dataRestore, table: value } })\r\n  }\r\n  /**Modal search table */\r\n  visibleSearchTable: boolean = false\r\n  closeAndReceiveValueSearch(data) {\r\n    if (data) {\r\n      this.booking['id_table'] = data['_id']\r\n      this.booking['table_name'] = data['name']\r\n      this.booking['id_area'] = data['id_area']\r\n    }\r\n    this.visibleSearchTable = false\r\n  }\r\n  alertTable(table_name: string, booking_code: string) {\r\n    this.vhComponent.showToast(2000, `${this.languageService.translate(\"Table\")} ${table_name} ${this.languageService.translate(\"have been booked by\")} ${booking_code}`, \"alert-toast\")\r\n  }\r\n  /**\r\n   * Hide thời gian quá khứ\r\n   */\r\n  today: Date = new Date;\r\n  disabledDate = (current: Date): boolean =>\r\n    // Can not select days before today and today\r\n    differenceInCalendarDays(current, this.today) < 0;\r\n}\r\n","<!-- <div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div> -->\r\n<nz-layout id=\"booking-invoice\">\r\n    <div class=\"booking-invoice-header\" nz-row>\r\n        <div nz-col nzSpan=\"2\" class=\"left-all-content \" style=\"cursor: pointer;\" (click)=\"goBack()\">\r\n            <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n            <b>{{'Booking' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\" class=\"search-bill\">\r\n                <input [ngModel]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for invoice code, employee name, customer name, customer phone' | translate}}\"\r\n                    [(appKeyboard)]=\"searchValue\" [isKeyboardDirectiveActive]=\"show_keyboard\"\r\n                    (appKeyboardChange)=\"searchBill($event)\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"add-button right-all-content\">\r\n            <div class=\"date-picker-cus\">\r\n                <nz-range-picker [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n                <!-- <nz-date-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"startTime\" (ngModelChange)=\"setStartTime($event)\"\r\n                    nzBorderless>\r\n                </nz-date-picker>\r\n                <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\r\n                <nz-date-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"endTime\" (ngModelChange)=\"setEndTime($event)\"\r\n                    nzBorderless>\r\n                </nz-date-picker> -->\r\n            </div>\r\n            <div>\r\n                <button (click)=\"visibleAdd = true\" class=\"btn-add right-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/add.svg\"></ion-icon>\r\n                    {{'Add' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"!invoiceShow.length\" style=\"height: 100%;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n            <p>{{'No data!' | translate}}</p>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"invoiceShow.length\" style=\"margin-top: 16px;\">\r\n        <div class='total-item small-size'>{{'Total' |translate}}<span style=\"color:var(--ion-color-vh-red)\">\r\n                {{invoiceShow.length}}\r\n            </span>{{'invoices' | translate}}\r\n        </div>\r\n        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoiceShow\" #tableBooking nzShowPagination\r\n            nzShowSizeChanger nzNoResult=\"{{'No invoice today' | translate}}\"\r\n            (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"25%\" nzAlign='left'><b>{{'Date' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Table' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Customer' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Employee' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let invoice of tableBooking.data\" style=\"cursor: pointer;\" (click)=\"gotoDetail(invoice)\">\r\n                    <td nzAlign='left'>\r\n                        {{invoice.date | date: 'dd/MM/yyyy HH:mm'}}\r\n                    </td>\r\n                    <td nzAlign='left'>{{invoice.bill_code}}</td>\r\n                    <td nzAlign='left'>{{invoice.areaName}}</td>\r\n                    <td nzAlign='left'>{{invoice.partnerName |translate}} <br>\r\n                        <span *ngIf=\"invoice.retail_name\">({{invoice.retail_name}} -\r\n                            {{invoice.retail_phone}} <span>{{invoice.retail_address ? '-':''}}</span>\r\n                            {{invoice.retail_address}})</span>\r\n                    </td>\r\n                    <td nzAlign='left'>{{invoice.employeeName | translate}}</td>\r\n                    <td class=\"money-right\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- ---------------------------------- Modal Add -------------------------- -->\r\n<nz-modal [(nzVisible)]=\"visibleAdd\" [nzFooter]=\"modalFooterAddBooking\" [nzWidth]=\"400\" [nzTitle]=\"modalTitle\"\r\n    (nzOnCancel)=\"handleCancelAddBooking()\" (nzOnOk)=\"handleOkAddBooking(booking)\">\r\n    <ng-template #modalTitle>{{'Add booking note'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"modal-add-booking\">\r\n            <div class=\"mt-10\" nz-col nzSpan=\"24\">\r\n                <b>{{\"Table name\" | translate}}</b>\r\n                <div (click)=\"visibleSearchTable = true\" class=\"modal-add-booking-table-name mt-5\">\r\n                    {{(booking.table_name || \"Select a table\")|translate}}\r\n                    <ion-icon slot=\"end\" name=\"chevron-down-outline\"></ion-icon>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" class=\"modal-add-booking-date mt-10\">\r\n                <b>{{\"Date\" | translate}}</b>\r\n                <nz-date-picker [nzDisabledDate]=\"disabledDate\" class=\"mt-5\" [nzShowTime]=\"{ nzFormat: 'HH:mm' }\"\r\n                    nzFormat='dd/MM/YYYY HH:mm' [(ngModel)]=\"booking.date\">\r\n                </nz-date-picker>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterAddBooking>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelAddBooking()\">{{\"Cancel\"|translate}}</button>\r\n        <button [disabled]=\"!booking['id_table']\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleOkAddBooking(booking)\">{{\"Continue\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- ---------------------------Model select table------------------------- -->\r\n<app-search-table-booking *ngIf=\"visibleSearchTable\" [visibleSearchTable]=\"visibleSearchTable\"\r\n    (closeAndReceiveValueSearch)=\"closeAndReceiveValueSearch($event)\"></app-search-table-booking>","import { KeyboardModule } from './../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BookingComponent } from './booking.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { CanLeavePage } from 'src/app/cafe/desktop/canLeavePage';\r\nimport { SearchTableBookingModule } from './components/search-table-booking/search-table-booking.module';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BookingComponent\r\n  },\r\n  {\r\n    path: \"cart\",\r\n    loadChildren: () => import(\"./cart/cart.module\").then(m => m.CartModule)\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BookingComponent, DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    SearchTableBookingModule,\r\n    KeyboardModule\r\n  ]\r\n})\r\nexport class BookingModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhQueryCafe, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-search-table-booking',\r\n  templateUrl: './search-table-booking.component.html',\r\n  styleUrls: ['./search-table-booking.component.scss']\r\n})\r\nexport class SearchTableBookingComponent implements OnInit {\r\n  @Input('visibleSearchTable') visibleSearchTable: boolean = false;\r\n  @Input('status') status: boolean | null = null;\r\n  @Output('closeAndReceiveValueSearch') closeAndReceiveValueSearch = new EventEmitter<any>()\r\n  listTab: Array<any> = [];\r\n  indexTab: number = 0\r\n  areaID: string;\r\n  tables: Array<any> = [];\r\n  heightWindow: string = window.innerHeight * 0.65 + 'px'\r\n  constructor(\r\n    private vhComponent: VhComponent,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAlgorithm:VhAlgorithm\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getArea()\r\n  }\r\n  getArea() {\r\n    this.listTab = this.vhQueryCafe.getlocalAreas().filter(item => item._id != 'go_home' && item.status && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n    if (this.listTab.length) {\r\n      this.areaID = this.listTab[0]['_id']\r\n      this.getTable()\r\n    }\r\n  }\r\n  getTable(id?) {\r\n    if (id) this.areaID = id\r\n    this.tables = this.vhQueryCafe.getlocalTables().filter(item => this.status != null ? (item.id_area == this.areaID && item.status == this.status) : item['id_area'] == this.areaID)\r\n    this.tables = this.vhAlgorithm.sortVietnamesebyASC(this.tables,'name');\r\n  }\r\n  handleOk(table) {\r\n    this.closeAndReceiveValueSearch.emit(table)\r\n  }\r\n  cancel() {\r\n    this.closeAndReceiveValueSearch.emit(false)\r\n  }\r\n}\r\n","<nz-modal [nzBodyStyle]=\"{height : heightWindow}\" [(nzVisible)]=\"visibleSearchTable\" [nzFooter]=\"null\" [nzWidth]=\"600\"\r\n    [nzTitle]=\"modalTitle\" (nzOnCancel)=\"cancel()\">\r\n    <ng-template #modalTitle>{{'Select a table'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset nzSelectedIndex=\"{{indexTab}}\">\r\n            <nz-tab (nzSelect)=\"getTable(tab._id)\" *ngFor=\"let tab of listTab\" nzTitle=\"{{ tab.name |translate}}\">\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div class=\"hideScrollbar\" nz-row nzGutter=\"32\">\r\n            <div (click)=\"handleOk(item)\" *ngFor=\"let item of tables\" nz-col nzSpan=\"6\" class=\"table\">\r\n                <div class=\"table-item\" [ngClass]=\"{'table-item-active' : item.status}\">\r\n                    <div class=\"table-item-name center-all-content hideScrollbar\">{{item.name}}</div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"!tables.length\" class=\"not-found\">{{\"Not found\" | translate}}</div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SearchTableBookingComponent } from './search-table-booking.component';\r\n\r\n@NgModule({\r\n    declarations: [SearchTableBookingComponent],\r\n    imports: [\r\n        CommonModule,\r\n        NgZorroAntModule,\r\n        FormsModule,\r\n        TranslateModule,\r\n    ],\r\n    exports: [SearchTableBookingComponent]\r\n})\r\nexport class SearchTableBookingModule { }","import { Platform } from '@ionic/angular';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { BookingA4Component } from 'src/app/cafe/components/print/booking/booking-a4/booking-a4.component';\r\nimport { BookingK57Col3Component } from 'src/app/cafe/components/print/booking/booking-k57-col3/booking-k57-col3.component';\r\nimport { BookingK80Col3Component } from 'src/app/cafe/components/print/booking/booking-k80-col3/booking-k80-col3.component';\r\nimport { BookingK80Col4Component } from 'src/app/cafe/components/print/booking/booking-k80-col4/booking-k80-col4.component';\r\nimport { BookingA5Component } from 'src/app/cafe/components/print/booking/booking-a5/booking-a5.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport {\r\n  VhBookingInvoice,\r\n  VhBookingInvoiceDetail,\r\n  VhBookingInvoices,\r\n} from 'src/app/cafe/interface/vh-booking';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport PrintJs from 'print-js';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss'],\r\n})\r\nexport class DetailComponent {\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhBookingInvoices;\r\n  public kitchen: any = new Object({\r\n    status: false,\r\n    value: [],\r\n    table_name: '',\r\n  });\r\n  status: boolean = false;\r\n  dataRestore: any;\r\n\r\n  public VhType = VhType;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private platform: Platform\r\n  ) {\r\n    let dataTrans = this.router.getCurrentNavigation().extras.state;\r\n    if (dataTrans.dataRestore) this.dataRestore = dataTrans.dataRestore;\r\n    let printer_kitchen = this.vhQueryCafe.getLocalPrintPage(\r\n      'page_desktop_kitchen'\r\n    );\r\n\r\n    this.printer_kitchen = printer_kitchen\r\n      ? printer_kitchen.print_sizes[\r\n          printer_kitchen.print_sizes.findIndex(\r\n            (e) => e._id == printer_kitchen.print_size_default\r\n          )\r\n        ]\r\n      : { enable: false };\r\n    this.getDataInvoice(dataTrans.id_bill);\r\n    this.init();\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (\r\n      document.getElementById('sales-invoice-detail-today') &&\r\n      document.querySelector('.sales-cart-header') &&\r\n      document.querySelector('.ant-table-thead') &&\r\n      document.querySelector('.ant-table-pagination')\r\n    ) {\r\n      this.tableHeight =\r\n        document.getElementById('sales-invoice-detail-today').clientHeight -\r\n        document.querySelector('.sales-cart-header').clientHeight -\r\n        document.querySelector('.ant-table-thead').clientHeight -\r\n        document.querySelector('.ant-table-pagination').clientHeight -\r\n        40 +\r\n        'px';\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  init(\r\n    invoice: VhBookingInvoice = null,\r\n    invoiceDetail: VhBookingInvoiceDetail[] = null\r\n  ) {\r\n    this.invoice = new VhBookingInvoices(invoice, invoiceDetail);\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()),\r\n      };\r\n      // du lieu in bep\r\n      this.kitchen['table_name'] = this.vhQueryCafe.getlocalTable(\r\n        this.invoice.getIdTable()\r\n      )['name'];\r\n      this.kitchen['value'] = invoiceDetail;\r\n\r\n      this.invoice.getInvoiceDetail().forEach((item) => {\r\n        this.mapOfExpandedData[item._id] = this.convertTreeToList(item);\r\n      });\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' };\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id),\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhBookingInvoiceDetail[] = invoiceDetail.map(\r\n          (item) => {\r\n            if (item.toppings) {\r\n              item.toppings = item.toppings.map((element) => {\r\n                return {\r\n                  ...element,\r\n                  name: this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ?element.id_subproduct: element.id_product).name\r\n                };\r\n              })\r\n            }\r\n            if (item.combos) {\r\n              item.combos = item.combos.map((element) => {\r\n                return {\r\n                  ...element,\r\n                  name: this.vhQueryCafe.getlocalDetailProduct(element.id_subproduct ?element.id_subproduct: element.id_product).name\r\n                };\r\n              })\r\n            }\r\n            return {\r\n              ...item,\r\n              name: this.vhQueryCafe.getlocalDetailProduct(item.id_subproduct ?item.id_subproduct: item.id_product).name\r\n            };\r\n          }\r\n        );\r\n        this.init(invoice, this.vhAlgorithm.sortDatebyASC(invoiceDetailFresh,'name'));\r\n        this.vhComponent.hideLoading(0);\r\n      });\r\n    });\r\n  }\r\n\r\n  getNameFood(id_prod: string, id_subProd: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod);\r\n    let subFood: any;\r\n    if (id_subProd) subFood = food.subs.find((item) => item._id == id_subProd);\r\n    return `${food ? food.name : ''} ${\r\n      subFood ? '(' + subFood.name + ')' : ''\r\n    }`;\r\n  }\r\n\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = '';\r\n    arr.forEach((item) => {\r\n      if (subName.length) subName += `, ${item.quantity} ${item.name}`;\r\n      else subName += `${item.quantity} ${item.name}`;\r\n    });\r\n    return subName;\r\n  }\r\n\r\n  deleteInvoice() {\r\n    this.vhComponent\r\n      .alertConfirm(\r\n        this.languageService.translate('Confirm'),\r\n        '',\r\n        `${this.languageService.translate(\r\n          'Are you sure to cancel the booking order'\r\n        )}?`,\r\n        'OK',\r\n        this.languageService.translate('Cancel')\r\n      )\r\n      .then(\r\n        () => {\r\n          this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n            this.vhQueryCafe\r\n              .deleteBill_Billdetail(this.invoice.getID())\r\n              .then(() => {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.vhComponent.showToast(\r\n                    2000,\r\n                    `${this.languageService.translate(\r\n                      'Booking'\r\n                    )} ${this.invoice.getBillCode()} ${this.languageService.translate(\r\n                      'has been cancelled successfully'\r\n                    )}`,\r\n                    'success-toast'\r\n                  );\r\n                  this.goBack();\r\n                });\r\n              });\r\n          });\r\n        },\r\n        () => {}\r\n      );\r\n  }\r\n  public renderAddress(partner) {\r\n    return (\r\n      (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n    );\r\n  }\r\n\r\n  public goToOrder() {\r\n    this.vhComponent\r\n      .alertConfirm(\r\n        '',\r\n        '',\r\n        this.languageService.translate('Confirm') + ' ' + this.languageService.translate(\"go to order\"),\r\n        'OK',\r\n        this.languageService.translate('Cancel')\r\n      )\r\n      .then(\r\n        () => {\r\n          let table: any = this.vhQueryCafe.getlocalTable(\r\n            this.invoice.getIdTable()\r\n          );\r\n          if (table.status) {\r\n            setTimeout(() => {\r\n              this.vhComponent\r\n                .alertConfirm(\r\n                  this.languageService.translate('Confirm'),\r\n                  this.languageService.translate('This table has been ordered'),\r\n                  this.languageService.translate('Switch others'),\r\n                  'OK',\r\n                  this.languageService.translate('Cancel')\r\n                )\r\n                .then(\r\n                  () => {\r\n                    this.visibleSearchTable = true;\r\n                  },\r\n                  () => {}\r\n                );\r\n            }, 200);\r\n          } else this.transformToOrder(table);\r\n        },\r\n        () => {}\r\n      );\r\n  }\r\n  printInvoice() {\r\n    this.checkPrint().then(\r\n      (printer) => {\r\n        if (printer)\r\n          this.vhComponent.showModal(\r\n            this.renderPrintPage(printer['_id']),\r\n            { printer, invoice: this.invoice },\r\n            false,\r\n            false,\r\n            `modal-print-${printer['_id']}`\r\n          );\r\n      },\r\n      (err) => {\r\n        this.vhComponent.alertMessage(\r\n          this.languageService.translate('Function'),\r\n          '',\r\n          this.languageService.translate('Please turn on the printer function'),\r\n          'OK'\r\n        );\r\n      }\r\n    );\r\n  }\r\n  private checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales');\r\n      if (\r\n        printer &&\r\n        printer.print_sizes[\r\n          printer.print_sizes.findIndex(\r\n            (e) => e._id == printer.print_size_default\r\n          )\r\n        ].enable\r\n      )\r\n        resolve(\r\n          printer.print_sizes[\r\n            printer.print_sizes.findIndex(\r\n              (e) => e._id == printer.print_size_default\r\n            )\r\n          ]\r\n        );\r\n      else rejects('No');\r\n    });\r\n  }\r\n\r\n  private renderPrintPage(\r\n    type:\r\n      | 'print_size_a4'\r\n      | 'print_size_a5'\r\n      | 'print_size_k80_4c'\r\n      | 'print_size_k80_3c'\r\n      | 'print_size_k57_3c'\r\n  ) {\r\n    switch (type) {\r\n      case 'print_size_k57_3c':\r\n        return BookingK57Col3Component;\r\n      case 'print_size_k80_3c':\r\n        return BookingK80Col3Component;\r\n      case 'print_size_k80_4c':\r\n        return BookingK80Col4Component;\r\n      case 'print_size_a5':\r\n        return BookingA5Component;\r\n      case 'print_size_a4':\r\n        return BookingA4Component;\r\n      default:\r\n        return BookingA4Component;\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/cafe-pos/booking'], {\r\n      state: { dataRestore: this.dataRestore },\r\n    });\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////IN BẾP/////////////////////////////////////////////////////////////////////\r\n  printer_kitchen: any;\r\n  private checkPrintKitchen() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_kitchen');\r\n      if (\r\n        printer &&\r\n        printer.print_sizes[\r\n          printer.print_sizes.findIndex(\r\n            (e) => e._id == printer.print_size_default\r\n          )\r\n        ].enable\r\n      )\r\n        resolve(\r\n          printer.print_sizes[\r\n            printer.print_sizes.findIndex(\r\n              (e) => e._id == printer.print_size_default\r\n            )\r\n          ]\r\n        );\r\n      else rejects('No');\r\n    });\r\n  }\r\n  public handlePrint() {\r\n    this.checkPrintKitchen().then(\r\n      (printer: any) => {\r\n        if (printer.enable) {\r\n          if (this.platform.is('electron')) this.printElectron(printer);\r\n          else this.printDesktop();\r\n        }\r\n      },\r\n      (err) => {\r\n        this.vhComponent.alertMessage(\r\n          this.languageService.translate('Function'),\r\n          '',\r\n          this.languageService.translate('Please turn on the printer function'),\r\n          'OK'\r\n        );\r\n      }\r\n    );\r\n  }\r\n  printElectron(printer) {\r\n    let html = document.getElementById('print-kitchen').innerHTML;\r\n    electron.ipcRenderer.send('print-start', {\r\n      html: html,\r\n      deviceName: printer.printer_name,\r\n    });\r\n    electron.ipcRenderer.on('print-done', (event, data) => {\r\n      if (!data)\r\n        this.vhComponent.alertMessageDesktop(\r\n          'warning',\r\n          this.languageService.translate('Printing failed'),\r\n          3000\r\n        );\r\n    });\r\n  }\r\n  printDesktop() {\r\n    PrintJs({\r\n      printable: 'print-kitchen',\r\n      type: 'html',\r\n      scanStyles: false,\r\n      style:\r\n        'html { font-size: 14pt;}' +\r\n        '.print-kitchen .font-bold {font-size:1.8rem; font-weight:bold}' +\r\n        '.print-kitchen b {font-size: 14pt}' +\r\n        '.print-kitchen .print-kitchen-font{font-size: 14pt}' +\r\n        '.print-kitchen .print-kitchen-value { display:flex; justity-content:center: align-items:center}' +\r\n        '.print-kitchen .print-kitchen-value-name { width : 70% ; font-size: 14pt}' +\r\n        '.print-kitchen .print-kitchen-value-quantity { width : 30% ; font-size: 14pt ; text-align:center}' +\r\n        '.print-kitchen .print-kitchen-value-name-note {font-style: italic; font-size: 10pt}' +\r\n        '.print-kitchen .print-kitchen-combo { display:flex; justity-content:center: align-items:center}' +\r\n        '.print-kitchen .print-kitchen-combo-name { width : 70% ; font-size: 12pt}' +\r\n        '.print-kitchen .print-kitchen-properties { display:flex; justity-content:center: align-items:center}' +\r\n        '.print-kitchen .print-kitchen-properties-name { width : 70% ; font-size: 12pt}' +\r\n        '.print-kitchen .print-kitchen-properties-quantity { width : 30% ; font-size: 12pt ; text-align:center}' +\r\n        '.print-kitchen .print-kitchen-topping { display:flex; justity-content:center: align-items:center}' +\r\n        '.print-kitchen .print-kitchen-topping-name { width : 70% ; font-size: 12pt}' +\r\n        '.print-kitchen .print-kitchen-topping-quantity { width : 30% ; font-size: 12pt ; text-align:center}',\r\n    });\r\n  }\r\n  handleCancelPrint() {\r\n    this.kitchen.status = false;\r\n  }\r\n  /**Modal search table */\r\n  visibleSearchTable: boolean = false;\r\n  closeAndReceiveValueSearch(data) {\r\n    if (data) this.transformToOrder(data);\r\n    this.visibleSearchTable = false;\r\n  }\r\n  alertTable(table_name: string, booking_code: string) {\r\n    this.vhComponent.showToast(\r\n      2000,\r\n      `${this.languageService.translate(\r\n        'Table'\r\n      )} ${table_name} ${this.languageService.translate(\r\n        'have been booked by'\r\n      )} ${booking_code}`,\r\n      'alert-toast'\r\n    );\r\n  }\r\n  private transformToOrder(table) {\r\n    let note: string = this.invoice.getNote()\r\n      ? this.invoice.getNote()\r\n      : `${this.vhQueryCafe.getlocalArea(table['id_area']).name} - ${\r\n          table.name\r\n        }`;\r\n    Promise.all([\r\n      this.vhQueryCafe.updateBill_Billdetail(\r\n        this.invoice.getID(),\r\n        {\r\n          ...this.invoice.getCreateUpdateInvoice(),\r\n          id_table: table._id,\r\n          id_area: table.id_area,\r\n          note: note,\r\n          bill_type: 5,\r\n          payment_type: 1,\r\n          id_wallet: 'id_cash',\r\n          payment: this.invoice.getTotalATax(),\r\n          date: new Date().toISOString(),\r\n        },\r\n        this.invoice.getCreateUpdateInvoiceDetail(true)\r\n      ),\r\n      this.vhQueryCafe.updateTable(table._id, { status: true }),\r\n    ])\r\n      .then((res) => {\r\n        this.vhComponent.showToast(\r\n          1500,\r\n          this.languageService.translate('Go to order successfully'),\r\n          'success-toast'\r\n        );\r\n        this.router.navigate(['/cafe/cafe-pos/cart'], {\r\n          state: {\r\n            id_table: table._id,\r\n            dataRestore: { id_area: table.id_area },\r\n            id_bill: this.invoice.getID(),\r\n          },\r\n        });\r\n      })\r\n      .catch((err) => console.error(err));\r\n  }\r\n\r\n  // ////////////////////////////////////////////////////////IN BẾP/////////////////////////////////////////////////////////////////////\r\n  /*****************************************************ANT TABLE********************************************************** */\r\n  mapOfExpandedData: { [key: string]: any[] } = {};\r\n  statusExpandAll: boolean = false;\r\n  /**Mở rộng/thu nhỏ 1 phần tử */\r\n  collapse(array: any[], data: any, $event: boolean): void {\r\n    if (!$event) {\r\n      if (data.toppings) {\r\n        data.toppings.forEach((d) => {\r\n          const target = array.find((a) => a.id_product === d.id_product)!;\r\n          target.expand = false;\r\n          this.collapse(array, target, false);\r\n        });\r\n\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  /** Chuyển đổi dữ liệu sang dạng cây */\r\n  convertTreeToList(root: any): any[] {\r\n    const stack: any[] = [];\r\n    const array: any[] = [];\r\n    const hashMap = {};\r\n    stack.push({ ...root, level: 0, expand: false });\r\n\r\n    while (stack.length !== 0) {\r\n      const node = stack.pop()!;\r\n      //console.log(target)\r\n      this.visitNode(node, hashMap, array);\r\n      if (node.toppings) {\r\n        for (let i = node.toppings.length - 1; i >= 0; i--) {\r\n          stack.push({\r\n            ...node.toppings[i],\r\n            level: node.level! + 1,\r\n            expand: false,\r\n            parent: node,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  visitNode(\r\n    node: any,\r\n    hashMap: { [id_product: string]: boolean },\r\n    array: any[]\r\n  ): void {\r\n    if (!hashMap[node.id_product]) {\r\n      hashMap[node.id_product] = true;\r\n      //console.log(target)\r\n      array.push(node);\r\n    }\r\n  }\r\n  /**Mở rộng / thu nhỏ tất cả */\r\n  expandAll() {\r\n    this.statusExpandAll = !this.statusExpandAll;\r\n    this.invoice.getInvoiceDetail().forEach((detail, index) => {\r\n      this.mapOfExpandedData[detail._id].forEach(\r\n        (item) => (item.expand = this.statusExpandAll)\r\n      );\r\n    });\r\n  }\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n\r\n  printChicken(){\r\n    this.kitchen.status = true;\r\n  }\r\n}\r\n","\r\n<nz-layout id=\"sales-invoice-detail-today\">\r\n  <div class=\"sales\">\r\n    <div class=\"sales-cart\">\r\n      <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n        <div nz-col nzSpan=\"2\" (click)=\"goBack()\" class=\"center-all-content\" style=\"cursor: pointer;\">\r\n          <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"title\">\r\n          <b>{{'Booking information' | translate}} : {{invoice.getBillCode()}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content button\">\r\n          <div>\r\n            <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n              nzType=\"default\">\r\n              <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n              {{'Print invoice' | translate}}\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n              nzType=\"default\">\r\n              <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n              {{'Delete' | translate}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"custom-scroll-bar sales-cart-invoiceDetail\">\r\n        <div class=\"invoiceDetail-item\">\r\n          <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n            nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n            <thead>\r\n              <tr>\r\n                <th nzWidth=\"35%\">\r\n                  <i (click)=\"expandAll()\" nz-icon style=\"cursor: pointer;\"\r\n                    nzType=\"{{statusExpandAll ? 'minus-square' : 'plus-square'}}\" nzTheme=\"outline\"></i> <b>{{\" \" +\r\n                    ('Product name' | translate)}}</b>\r\n                </th>\r\n                <th nzWidth=\"15%\" nzAlign='left'><b>{{'Unit' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <ng-container *ngFor=\"let data of rowSelectionTable.data\">\r\n                <ng-container *ngFor=\"let item of mapOfExpandedData[data._id]\">\r\n                  <tr *ngIf=\"(item.parent && item.parent.expand) || !item.parent\">\r\n                    <td [nzIndentSize]=\"item.level! * 20\" [nzShowExpand]=\"!!item.toppings\" [(nzExpand)]=\"item.expand\"\r\n                      (nzExpandChange)=\"collapse(mapOfExpandedData[data._id], item, $event)\">\r\n                      {{item.name}}\r\n                      <ng-container *ngIf=\"item.id_lotproduct\">\r\n                        <br>\r\n                        <span>Số lô: {{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"item.ptype == 5\">\r\n                        <br>\r\n                        <ng-container *ngIf=\"item.combos\">\r\n                          <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n                            {{combo.quantity}}x {{combo.name}}\r\n                            ({{getUnit(combo.units,combo.ratio)}})\r\n                            <ng-container *ngIf=\"combo.lots\">\r\n                              <div style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots,\r\n                                combo.id_lotproduct)}}</div>\r\n                            </ng-container>,\r\n                          </span>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngFor=\"let property of item.properties ? item.properties : [];\">\r\n                        <br>\r\n                        <span class=\"sub-name\">\r\n                          {{property.name}} - {{property.selectedValue}}</span>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='left'>\r\n                      <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                        {{item.unit ? item.unit : getUnit(item.units, item.ratio)}}\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"item.ptype === VhType.SERVICETIME\">\r\n                        {{(item.unit ? item.unit : getUnit(item.units, item.ratio)) | translate}}\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='center'><ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">{{item.quantity | number:'1.0-2'}}</ng-container></td>\r\n                    <td nzAlign='right'>\r\n                      <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                        {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                        <del style=\"font-size: 0.7rem;\">\r\n                          {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                        </del>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b></td>\r\n                  </tr>\r\n\r\n                </ng-container>\r\n              </ng-container>\r\n            </tbody>\r\n          </nz-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-bills continue-sell\">\r\n      <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n        <div>\r\n          <b>{{'Salesman' | translate}}</b>\r\n          <div class=\"self-center\">{{invoiceInfo.employee.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Sales date' | translate}}</b>\r\n          <div class=\"self-center\">{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n        <b>{{'Customer information' | translate}}</b>\r\n        <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{renderAddress(invoiceInfo.partner)}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.getRetailName()\" nz-col nzSpan=\"24\">\r\n          {{invoice.getRetailName()}} - {{invoice.getRetailPhone()}} {{invoice.getRetailAddress() ? '-':\r\n          ''}} {{invoice.getRetailAddress()}}\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n        <b>{{'Payment information' | translate}}</b>\r\n        <div nz-col nzSpan=\"24\">\r\n          <span>{{'SubTotal' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_discount')\">\r\n          <span>{{'Discount value' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n          <span>{{'Fee' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n          <span>{{'Tax' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n          <div>\r\n            {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <span>{{'Total' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n          <span>{{'cash' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getCash())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n          <span>{{'Note' | translate}}</span>\r\n          <div>{{invoice.getNote()}}</div>\r\n        </div>\r\n      </div>\r\n      <div nz-row class=\"sales-bills-button\">\r\n        <button (click)=\"printChicken()\" nz-button class=\"order-and-print\">\r\n          {{\"Print kitchen\"|translate}}\r\n        </button>\r\n        <button (click)=\"goToOrder()\" nz-button class=\"order\">\r\n          {{\"Go to order ...\"|translate}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n\r\n<!-- ---------------------print chicken------------------- -->\r\n<nz-modal [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooterPrintKitchen\" nzWidth=\"300\" *ngIf=\"kitchen.status\"\r\n  [(nzVisible)]=\"kitchen.status\" nzTitle=\"{{'Print kitchen' | translate}}\" (nzOnCancel)=\"handleCancelPrint()\"\r\n  (nzOnOk)=\"handlePrint()\">\r\n  <ng-container *nzModalContent>\r\n    <div id=\"print-kitchen\">\r\n      <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size}\">\r\n        {{kitchen.title | translate}}</div>\r\n      <div>\r\n        <span\r\n          [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">{{'Table'\r\n          | translate}}: </span>\r\n        <span><b\r\n            [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">{{kitchen.table_name.length\r\n            > 50? (kitchen.table_name.substring(0,49) + '...') :\r\n            kitchen.table_name}}</b></span>\r\n      </div>\r\n      <div style=\"display: flex;align-items: center;justify-content: space-between;border-bottom: 1px solid gray;\">\r\n        <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n          {{'Dishes name' | translate}}</div>\r\n        <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n          {{'Quantity' | translate}}</div>\r\n      </div>\r\n      <div *ngFor=\"let item of kitchen.value\">\r\n        <div style=\"display: flex;align-items: center;justify-content: space-between;padding: 4px; font-weight: bold;\">\r\n          <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n            {{item.name}} ({{getUnit(item.units,item.ratio)}})\r\n          </div>\r\n          <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n            {{item.quantity}}</div>\r\n        </div>\r\n        <div style=\"display: flex; align-items: center;padding: 0 4px 0 8px;\">\r\n          <div style=\"word-break: break-word;\"\r\n            [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\"\r\n            [innerHTML]=\"item.subComboName\"></div>\r\n        </div>\r\n        <div style=\"display: flex;align-items: center;justify-content: space-between;padding: 0 4px 0 8px;\"\r\n          *ngFor=\"let sideDishes of item.toppings ? item.toppings : []; trackBy:myTrackByFunction\">\r\n          <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n            {{\"+ \" + sideDishes.name}} ({{getUnit(sideDishes.units,sideDishes.ratio)}})\r\n          </div>\r\n          <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n            {{sideDishes.quantity}}</div>\r\n        </div>\r\n        <div style=\"display: flex;align-items: center;justify-content: space-between;padding: 0 4px 0 8px;\"\r\n          *ngFor=\"let properties of item.properties ? item.properties : []\">\r\n          <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\">\r\n            {{\"+ \" + properties.name + \" - \" +\r\n            properties.selectedValue}}\r\n          </div>\r\n        </div>\r\n        <div [ngStyle]=\"{'font-family': printer_kitchen.font_family,'font-size.pt': printer_kitchen.font_size*0.625}\"\r\n          style=\"padding: 0 4px 0 8px; font-style: italic; \">{{item.note}}</div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-template #modalFooterPrintKitchen>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"handlePrint()\">{{\"Print\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n<app-search-table-booking *ngIf=\"visibleSearchTable\" [status]=\"status\" [visibleSearchTable]=\"visibleSearchTable\"\r\n  (closeAndReceiveValueSearch)=\"closeAndReceiveValueSearch($event)\"></app-search-table-booking>\r\n"],"names":[],"sourceRoot":"webpack:///"}