{"version":3,"file":"src_app_cafe_desktop_cafe-pos_components_advange_booking_cart_cart_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/cafe-pos/components/advange/booking/cart/cart.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/cart/cart.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/cart/cart.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/add-customer/add-customer.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/add-customer/add-customer.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/add-customer/add-customer.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill-detail1/bill-detail1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill-detail1/bill-detail1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill-detail1/bill-detail1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill1/bill1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill1/bill1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/bill1/bill1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer-profile/customer-profile.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer-profile/customer-profile.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer-profile/customer-profile.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer1/customer1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer1/customer1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/customer1/customer1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/info-bill1/info-bill1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/info-bill1/info-bill1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/info-bill1/info-bill1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/payment-button1/payment-button1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/payment-button1/payment-button1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/payment-button1/payment-button1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/product-wishlist1/product-wishlist1.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/product-wishlist1/product-wishlist1.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/product-wishlist1/product-wishlist1.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/retail-info/retail-info.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/retail-info/retail-info.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-combo/search-combo.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-combo/search-combo.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-combo/search-combo.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-product/search-product.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-product/search-product.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-product/search-product.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-service/search-service.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-service/search-service.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-service/search-service.module.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-topping/search-topping.component.ts","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-topping/search-topping.component.html","./src/app/cafe/desktop/cafe-pos/components/advange/booking/components/search-topping/search-topping.module.ts","./src/app/cafe/desktop/canLeavePage.ts"],"sourcesContent":["import {\r\n  AfterViewChecked,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  Router,\r\n  RouterStateSnapshot,\r\n  UrlTree,\r\n} from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Observable } from 'rxjs';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport {\r\n  VhBookingInvoiceDetail,\r\n  VhBookingInvoices,\r\n} from 'src/app/cafe/interface/vh-booking';\r\nimport { BookingA4Component } from 'src/app/cafe/components/print/booking/booking-a4/booking-a4.component';\r\nimport { BookingK57Col3Component } from 'src/app/cafe/components/print/booking/booking-k57-col3/booking-k57-col3.component';\r\nimport { BookingK80Col3Component } from 'src/app/cafe/components/print/booking/booking-k80-col3/booking-k80-col3.component';\r\nimport { BookingK80Col4Component } from 'src/app/cafe/components/print/booking/booking-k80-col4/booking-k80-col4.component';\r\nimport { BookingA5Component } from 'src/app/cafe/components/print/booking/booking-a5/booking-a5.component';\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.scss'],\r\n})\r\nexport class CartComponent implements OnInit {\r\n  dataRestore: any;\r\n  invoices: VhBookingInvoices = new VhBookingInvoices({}, []);\r\n  // thông tin bàn đang được đặt\r\n  tableInfo: string = '';\r\n  // trạng thái\r\n  statusInvoice: any = {\r\n    updating: false,\r\n    deleting: false,\r\n  };\r\n  // thuộc tính máy in\r\n  printer: any;\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private router: Router,\r\n    public vhAuth: VhAuth,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    private modal: NzModalService\r\n  ) {\r\n    let dataTrans: any = this.router.getCurrentNavigation().extras.state;\r\n    this.initInvoice(dataTrans);\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewChecked() {\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**Pop up báo khi phát sinh lỗi */\r\n  alertErr(err) {\r\n    console.error(err);\r\n    this.vhComponent.showToast(2000, 'Lỗi kết nối', 'alert-toast');\r\n  }\r\n\r\n  /**Render food name */\r\n  renderNameFood(id_prod: string, id_subProd?: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod);\r\n    let subFood: any;\r\n\r\n    if (id_subProd) subFood = food.subs.find((item) => item._id == id_subProd);\r\n    return `${food ? food.name : ''} ${\r\n      subFood ? '(' + subFood.name + ')' : ''\r\n    }`;\r\n  }\r\n  /**Render các thành phần combo */\r\n  renderSubCombo(arr: any[]) {\r\n    let subName: string = '';\r\n    arr.forEach((item) => {\r\n      if (subName.length) subName += `, ${item.quantity} ${item.name}`;\r\n      else subName += `${item.quantity} ${item.name}`;\r\n    });\r\n    return subName;\r\n  }\r\n  /**Khởi tạo hóa đơn */\r\n  initInvoice({ table, dataRestore }) {\r\n    // lấy thuế\r\n    let tax: any = this.vhQueryCafe\r\n      .getlocalTaxs()\r\n      .find((tax) => tax.status && tax.default);\r\n    if (tax) this.invoices.setTax(parseFloat(tax.value));\r\n\r\n    if (table)\r\n      this.tableInfo = `${\r\n        this.vhQueryCafe.getlocalArea(table.id_area).name\r\n      } - ${table.table_name}`;\r\n\r\n    if (dataRestore) this.dataRestore = dataRestore;\r\n\r\n    this.invoices.setIdTable(table.id_table);\r\n    this.invoices.setIdArea(table.id_area);\r\n    this.invoices.setIdEmployee(this.vhAuth.getUser()._id);\r\n    this.invoices.setIdBranch(this.vhQueryCafe.getDefaultBranch()._id);\r\n    this.invoices.setDate(table['date']);\r\n    this.invoices.setNote(this.tableInfo);\r\n  }\r\n  /**Save hóa đơn */\r\n  createProcess() {\r\n    console.log(\r\n      this.invoices.getCreateUpdateInvoice(17),\r\n      this.invoices.getCreateUpdateInvoiceDetail()\r\n    );\r\n\r\n    return this.vhQueryCafe.createBill_Billdetail(\r\n      this.invoices.getCreateUpdateInvoice(17),\r\n      this.invoices.getCreateUpdateInvoiceDetail()\r\n    );\r\n  }\r\n  completeInvoice(print: boolean) {\r\n    this.statusInvoice['creating'] = true;\r\n    this.createProcess().then(\r\n      (res) => {\r\n        console.log('createProcess', res);\r\n\r\n        this.vhComponent.showToast(\r\n          2000,\r\n          `${this.languageService.translate(\r\n            'Booking'\r\n          )} ${this.invoices.getBillCode()} ${this.languageService.translate(\r\n            'has been created successfully'\r\n          )}`,\r\n          'success-toast'\r\n        );\r\n        this.statusInvoice['creating'] = false;\r\n        if (print) this.handlePrint();\r\n        else this.handle();\r\n      },\r\n      (error) => {\r\n        console.log('error', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  private checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales');\r\n      if (\r\n        printer &&\r\n        printer.print_sizes[\r\n          printer.print_sizes.findIndex(\r\n            (e) => e._id == printer.print_size_default\r\n          )\r\n        ].enable\r\n      )\r\n        resolve(\r\n          printer.print_sizes[\r\n            printer.print_sizes.findIndex(\r\n              (e) => e._id == printer.print_size_default\r\n            )\r\n          ]\r\n        );\r\n      else rejects('No');\r\n    });\r\n  }\r\n\r\n  private renderPrintPage(\r\n    type:\r\n      | 'print_size_a4'\r\n      | 'print_size_a5'\r\n      | 'print_size_k80_4c'\r\n      | 'print_size_k80_3c'\r\n      | 'print_size_k57_3c'\r\n  ) {\r\n    switch (type) {\r\n      case 'print_size_k57_3c':\r\n        return BookingK57Col3Component;\r\n      case 'print_size_k80_3c':\r\n        return BookingK80Col3Component;\r\n      case 'print_size_k80_4c':\r\n        return BookingK80Col4Component;\r\n      case 'print_size_a5':\r\n        return BookingA5Component;\r\n      case 'print_size_a4':\r\n        return BookingA4Component;\r\n      default:\r\n        return BookingA4Component;\r\n    }\r\n  }\r\n\r\n  handle() {\r\n    this.exitPage = true;\r\n    this.router.navigate(['/cafe/cafe-pos/booking'], { state: this.dataRestore });\r\n  }\r\n  handlePrint() {\r\n    this.checkPrint().then(\r\n      (printer) => {\r\n        if (printer)\r\n          this.vhComponent\r\n            .showModal(\r\n              this.renderPrintPage(printer['_id']),\r\n              { printer, invoice: this.invoices },\r\n              false,\r\n              false,\r\n              `modal-print-${printer['_id']}`\r\n            )\r\n            .then((modal) => {\r\n              modal.onWillDismiss().then(() => this.handle());\r\n            });\r\n      },\r\n      (err) => this.handle()\r\n    );\r\n  }\r\n\r\n  ///////////////////////////////////////////////GO BACK////////////////////////////////////////////////////\r\n  exitPage: boolean = false;\r\n  popUpExit() {\r\n    return new Promise<{ save: boolean; exit: boolean }>((resolve) => {\r\n      const modal: NzModalRef = this.modal.create({\r\n        nzTitle: this.languageService.translate('Confirm'),\r\n        nzContent:\r\n          this.languageService.translate(\r\n            'Are you sure to cancel the sales invoice'\r\n          ) + '?',\r\n        nzFooter: [\r\n          {\r\n            label: this.languageService.translate('Cancel'),\r\n            onClick: () => {\r\n              modal.destroy();\r\n              resolve({ save: false, exit: false });\r\n            },\r\n          },\r\n          {\r\n            label: 'OK',\r\n            type: 'primary',\r\n            onClick: () => {\r\n              modal.destroy();\r\n              resolve({ save: false, exit: true });\r\n            },\r\n          },\r\n        ],\r\n      });\r\n    });\r\n  }\r\n  goBack(event) {\r\n    this.popUpExit().then(({ save, exit }) => {\r\n      this.exitPage = exit;\r\n      if (exit) {\r\n        this.router.navigate(['/cafe/cafe-pos/booking'], {\r\n          state: { dataRestore: this.dataRestore },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  checkDeactivate(\r\n    currentRoute: ActivatedRouteSnapshot,\r\n    currentState: RouterStateSnapshot,\r\n    nextState?: RouterStateSnapshot\r\n  ):\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree>\r\n    | boolean\r\n    | UrlTree {\r\n    if (!this.exitPage) {\r\n      this.popUpExit().then(({ save, exit }) => {\r\n        this.exitPage = exit;\r\n        if (exit) {\r\n          if (nextState.url != '/cafe-pos/booking')\r\n            this.router.navigate([nextState.url]);\r\n          else\r\n            this.router.navigate(['/cafe/cafe-pos/booking'], {\r\n              state: { dataRestore: this.dataRestore },\r\n            });\r\n        }\r\n      });\r\n    }\r\n    return this.exitPage;\r\n  }\r\n}\r\n","\r\n<nz-layout>\r\n    <nz-content>\r\n        <div nz-row class=\"row\">\r\n            <!-- <div nz-col nzSpan=\"2\" class=\"left-all-content \"  style=\"cursor: pointer;\" (click)=\"goBack()\">\r\n                <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n            </div> -->\r\n            <div nz-col [nzSpan]=\"17\" class=\"col-left\" style=\"padding: 4px\">\r\n                <app-bill-detail1 [invoices]=\"invoices\" [tableInfo]=\"tableInfo\" (goBack)=\"goBack($event)\"></app-bill-detail1>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"7\" class=\"col-right\">\r\n                <div class=\"ant-table-body\">\r\n                    <app-info-bill1 style=\"padding: 4px\" [invoices]=\"invoices\" [employeeID]=\"invoices.getIdEmployee()\"\r\n                        [tableInfo]=\"tableInfo\">\r\n                    </app-info-bill1>\r\n                    <app-customer1 style=\"padding: 4px\" [invoices]=\"invoices\" [customerID]=\"invoices.getIdPartner()\">\r\n                    </app-customer1>\r\n                    <app-bill1 style=\"padding: 4px\" [invoices]=\"invoices\" [tax]=\"invoices.getTax()\">\r\n                    </app-bill1>\r\n                </div>\r\n                <app-payment-button1 style=\"padding: 4px\" [invoices]=\"invoices\" [statusInvoice]=\"statusInvoice\"\r\n                    (complete)=\"completeInvoice($event)\">\r\n                </app-payment-button1>\r\n            </div>\r\n        </div>\r\n    </nz-content>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CanLeavePage } from 'src/app/cafe/desktop/canLeavePage';\r\nimport { CartComponent } from './cart.component';\r\nimport { BillDetail1Module } from '../components/bill-detail1/bill-detail1.module';\r\nimport { Customer1Module } from '../components/customer1/customer1.module';\r\nimport { InfoBill1Module } from '../components/info-bill1/info-bill1.module';\r\nimport { Bill1Module } from '../components/bill1/bill1.module';\r\nimport { PaymentButton1Module } from '../components/payment-button1/payment-button1.module';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: \"\",\r\n        component: CartComponent,\r\n        canDeactivate: [CanLeavePage]\r\n    }\r\n]\r\n\r\n@NgModule({\r\n    declarations: [CartComponent],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        NgZorroAntModule,\r\n        TranslateModule,\r\n        RouterModule.forChild(routes),\r\n        BillDetail1Module,\r\n        Customer1Module,\r\n        InfoBill1Module,\r\n        Bill1Module,\r\n        PaymentButton1Module\r\n    ]\r\n})\r\nexport class CartModule { }","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-add-customer',\r\n  templateUrl: './add-customer.component.html',\r\n  styleUrls: ['./add-customer.component.scss']\r\n})\r\nexport class AddCustomerComponent {\r\n\r\n  @Input(\"showDrawerAddCustomer\") showDrawerAddCustomer: boolean = false;\r\n  @Output(\"closeAddCustomer\") closeAddCustomer = new EventEmitter<any>();\r\n  createStatus: boolean = false\r\n  addCustomerForm: FormGroup;\r\n  selectedValue: any;\r\n\r\n\r\n\r\n  constructor(\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private functionService: FunctionService,\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.initAddCustomerForm();\r\n  }\r\n  \r\n\r\n  close(value?) {\r\n    if (!this.createStatus)\r\n    if(value) this.closeAddCustomer.emit({reload : true, value: value});\r\n    else this.closeAddCustomer.emit({reload : false});\r\n  }\r\n\r\n\r\n\r\n  initAddCustomerForm() {\r\n    this.addCustomerForm = new FormGroup({\r\n      img: new FormControl(null),\r\n      name: new FormControl(null, Validators.compose([Validators.required])),\r\n      email: new FormControl(null, Validators.compose([Validators.email])),\r\n      gender: new FormControl(null),\r\n      datebirth: new FormControl(null),\r\n      phone: new FormControl(null, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(null),\r\n      country: new FormControl(null),\r\n      province: new FormControl(null),\r\n      district: new FormControl(null),\r\n      note: new FormControl(null),\r\n      debt_enable: new FormControl(true),\r\n      type: new FormControl(1),\r\n      time_for_payment: new FormControl(0),\r\n      delete_hidden: new FormControl(false),\r\n      isBusiness: new FormControl(false),\r\n      taxcode: new FormControl(null),\r\n    });\r\n  }\r\n\r\n\r\n\r\n  addCustomer() {\r\n    this.createStatus = true\r\n    let customer: any = { ...this.addCustomerForm.value };\r\n    \r\n    const phoneNumberValue = customer.phone;\r\n    customer.countryCode = this.countryCode;\r\n    customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n    customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n\r\n    customer.date = (new Date()).toISOString();\r\n\r\n    if(customer.isBusiness) {\r\n      delete customer.gender;\r\n      delete customer.datebirth;\r\n    }\r\n    else {\r\n       delete customer.taxcode;\r\n    }\r\n\r\n    this.vhQueryCafe.addCustomer(customer)\r\n      .then((res: any) => {\r\n        if(res.vcode == 0) {\r\n          setTimeout(() => {\r\n            this.createStatus = false;\r\n            this.vhComponent.showToast(1500, `${this.lang.translate(\"Customer\")} ${customer.name} ${this.lang.translate(\"has been added successfully\")}`, \"success-toast\");\r\n            this.close(res);\r\n          }, 500);\r\n        }\r\n        else if(res.vcode == 1) {\r\n          //This phone number is already in use with another customer\r\n          this.createStatus = false;\r\n          this.isExitsPhone = true;\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another customer\"), 'alert-toast');\r\n        }\r\n      }, error => {\r\n        this.createStatus = false\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"An error occurred while adding customer. Please try again\"), \"alert-toast\")\r\n      })\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi thay đổi Loại khách hàng\r\n   */\r\n  changeBusiness(event) {\r\n    // taxcode required khi isBusiness = true\r\n    if (event) {\r\n      this.addCustomerForm.get('taxcode')?.setValidators([Validators.required]);\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    } \r\n    else {\r\n      this.addCustomerForm.get('taxcode')?.clearValidators();\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Kiểm tra số điện thoại đã tồn tại ha chưa để hiển thị thông báo */\r\n  isExitsPhone: boolean = false;\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  \r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  \r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.addCustomerForm.value.phone, this.countryCode as CountryCode);\r\n      this.addCustomerForm.get('phone')?.markAsTouched();\r\n      this.addCustomerForm.get('phone')?.markAsDirty();\r\n      this.addCustomerForm.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.addCustomerForm.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"false\" [nzWidth]=\"400\" nzTitle='{{\"Add customer\" | translate}}'\r\n  [nzVisible]=\"showDrawerAddCustomer\" [nzFooter]=\"footerAddCustomer\" (nzOnClose)=\"close()\">\r\n  <ng-container *nzDrawerContent>\r\n    <form nz-form [formGroup]=\"addCustomerForm\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n            <nz-input-group>\r\n              <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n              <ng-template #combineTplName let-control>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                </ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n            <nz-input-group>\r\n              <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                <span>+{{callingCode}}</span>\r\n                <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n              </div>\r\n              <input formControlName=\"phone\"\r\n                (input)=\"formatPhoneNumber($event)\"\r\n                [value]=\"formattedPhone\"\r\n                [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required />\r\n              <ng-template #combineTplPhone let-control>\r\n                <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n            <div *ngIf=\"isExitsPhone\"\r\n              class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n              ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n              <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                {{'Phone number already exists' | translate}}\r\n              </div>\r\n            </div>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <!-- <div nz-col nzSpan=\"24\">\r\n        <div nz-row [nzGutter]=\"16\">\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n            <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\"\r\n              [(ngModel)]=\"selectedValue\" formControlName=\"gender\">\r\n              <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n              <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n            <nz-date-picker formControlName=\"datebirth\" nzPlaceHolder=\"{{'Select date of birth' | translate}}\">\r\n            </nz-date-picker>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Email' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n            <nz-input-group>\r\n              <input type=\"email\" formControlName=\"email\" nz-input\r\n                placeholder=\"{{'Enter customer mail' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n\r\n      <!-- Loại khách hàng -->\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n        <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n          formControlName=\"isBusiness\"\r\n          (ngModelChange)=\"changeBusiness($event)\">\r\n          <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n          <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n        </nz-select>\r\n      </div>\r\n\r\n      <!-- Mã số thuế -->\r\n      <ng-container *ngIf=\"addCustomerForm.value.isBusiness\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <div><b class='label'>{{'Tax code' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"taxcode\">\r\n              <nz-input-group>\r\n                <input formControlName=\"taxcode\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                <ng-template #taxcode let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <div nz-col nzSpan=\"24\" *ngIf=\"!addCustomerForm.value.isBusiness\">\r\n        <div nz-row [nzGutter]=\"16\">\r\n          <!-- Giới tính -->\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n            <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select gender' | translate\"\r\n              [(ngModel)]=\"selectedValue\" formControlName=\"gender\">\r\n              <nz-option [nzLabel]=\"'Female' | translate\" nzValue=\"Female\"></nz-option>\r\n              <nz-option [nzLabel]=\"'Male' | translate\" nzValue=\"Male\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <!-- Ngày sinh -->\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n            <nz-date-picker formControlName=\"datebirth\" [nzPlaceHolder]=\"'Select date of birth' | translate\">\r\n            </nz-date-picker>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Address' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Country' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"country\" nz-input placeholder=\"{{'Enter country' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Province' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"province\" nz-input placeholder=\"{{'Enter province' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'District' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"district\" nz-input placeholder=\"{{'Enter district' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Note' | translate}}</b></div>\r\n        <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n          formControlName=\"note\"></textarea>\r\n      </div>\r\n      <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n        <div></div>\r\n        <label nz-checkbox formControlName=\"debt_enable\">{{'Debit permission' | translate}}</label>\r\n      </div>\r\n    </form>\r\n  </ng-container>\r\n  <ng-template #footerAddCustomer>\r\n    <div class=\"footerAddCustomer\" style=\"float: right\">\r\n      <button nz-button style=\"margin-right: 8px;\" (click)=\"close()\">{{\"Cancel\" |\r\n        translate}}</button>\r\n      <button nz-button (click)=\"addCustomer()\" [disabled]=\"addCustomerForm.invalid\" [nzLoading]=\"createStatus\"\r\n        [ngStyle]=\"{opacity: addCustomerForm.invalid ? 0.5 : 1}\">{{\"Add\" | translate}}</button>\r\n    </div>\r\n  </ng-template>\r\n</nz-drawer>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddCustomerComponent } from './add-customer.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddCustomerComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    AddCustomerComponent\r\n  ]\r\n})\r\nexport class AddCustomerModule { }\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n} from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhBookingInvoices } from 'src/app/cafe/interface/vh-booking';\r\nimport PrintJs from 'print-js';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'app-bill-detail1',\r\n  templateUrl: './bill-detail1.component.html',\r\n  styleUrls: ['./bill-detail1.component.scss'],\r\n})\r\nexport class BillDetail1Component implements OnInit {\r\n  @HostListener('window:keydown', ['$event'])\r\n  keyEvent(event: KeyboardEvent) {\r\n    if (['F3', 'F4', 'F5', 'F6'].includes(event.key)) {\r\n      this.closeSearchProduct(false);\r\n      this.closeSearchService(false);\r\n      this.closeSearchSideDishes(false);\r\n      this.closeSearchCombos(false);\r\n\r\n      switch (event.key) {\r\n        case 'F3':\r\n          this.openSearchService();\r\n          break;\r\n        case 'F4':\r\n          this.openSearchProduct();\r\n          break;\r\n        case 'F5':\r\n          this.openSearchSideDishes();\r\n          break;\r\n        case 'F6':\r\n          this.openSearchCombos();\r\n          break;\r\n      }\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n  @Input() invoices: VhBookingInvoices;\r\n  @Input() tableInfo: any;\r\n  @Output() goBack: EventEmitter<any> = new EventEmitter<any>();\r\n  warning_lot_expried: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .warning_lot_expried;\r\n  id_branch = this.vhQueryCafe.getDefaultBranch()._id;\r\n  showDrawerProductList: boolean = false;\r\n  showDrawerServiceList: boolean = false;\r\n  showDrawerSideDishesList: boolean = false;\r\n  showDrawerCombosList: boolean = false;\r\n  showDrawerEdit: boolean = false;\r\n  show_modal_select_lots = false;\r\n  list_search_lot = [];\r\n  public printKitchen: any = {\r\n    status: false,\r\n    title: 'Add dishes',\r\n    value: [],\r\n  };\r\n  wishList: boolean = this.vhAuth.localStorageGET('show_best_selling');\r\n  public VhType = VhType;\r\n  \r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private nzModalService: NzModalService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.wishList = this.vhAuth.localStorageGET('show_best_selling')\r\n      ? this.vhAuth.localStorageGET('show_best_selling')\r\n      : false;\r\n  }\r\n\r\n  back() {\r\n    this.goBack.emit(true);\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n  myTrackByNameFunction(element: any, index: any) {\r\n    return element.name ? element.name : index;\r\n  }\r\n\r\n  openSearchProduct() {\r\n    this.showDrawerProductList = true;\r\n  }\r\n  closeSearchProduct(ev) {\r\n    if (ev) this.createBillDetail(ev);\r\n    else this.showDrawerProductList = false;\r\n  }\r\n  openSearchService() {\r\n    this.showDrawerServiceList = true;\r\n  }\r\n  closeSearchService(ev) {\r\n    if (ev) this.createBillDetail(ev);\r\n    else this.showDrawerServiceList = false;\r\n  }\r\n  openSearchSideDishes() {\r\n    this.showDrawerSideDishesList = true;\r\n  }\r\n  closeSearchSideDishes(ev) {\r\n    if (ev) this.createBillDetail(ev);\r\n    else this.showDrawerSideDishesList = false;\r\n  }\r\n  openSearchCombos() {\r\n    this.showDrawerCombosList = true;\r\n  }\r\n  closeSearchCombos(ev) {\r\n    if (ev) this.createBillDetail(ev);\r\n    else this.showDrawerCombosList = false;\r\n  }\r\n\r\n  createBillDetail(productValue: any) {\r\n    // món không có sub\r\n    if (productValue.quantity) {\r\n      this.invoices.addInvoiceDetail({ ...productValue });\r\n    }\r\n  }\r\n  /**Cập nhật thông tin món ăn */\r\n  saveEdit() {\r\n    this.showDrawerEdit = false;\r\n    // let index: number = this.invoices.getInvoiceDetail().findIndex(item => item._id == this.choiceFood._id);\r\n    // this.invoices.getInvoiceDetail()[index] = { ...this.choiceFood }\r\n    this.invoices.setSubTotal();\r\n\r\n    delete this.choiceFood;\r\n  }\r\n\r\n  editPrice: any = {};\r\n  choiceFood: any;\r\n  editFood(item: any) {\r\n    this.choiceFood = item;\r\n    this.showDrawerEdit = true;\r\n    // backup\r\n    // cleavejs cho các input\r\n\r\n    setTimeout(() => {\r\n      this.editPrice['price-' + item.id_product] = this.vhAlgorithm.vhnumeral(\r\n        '.price-' + item.id_product\r\n      );\r\n    }, 200);\r\n  }\r\n  /**Thêm cleavejs chỉnh sửa giá món ăn */\r\n  updatePrice(item) {\r\n    if (item.ptype) {\r\n      let price = this.editPrice['price-' + item.id_product].getRawValue();\r\n      this.choiceFood.price = price ? parseFloat(price) : 0;\r\n    } else {\r\n      let price = this.editPrice['topping-' + item.id_product].getRawValue();\r\n      let index = this.choiceFood.toppings.findIndex(\r\n        (element) => element.id_product == item.id_product\r\n      );\r\n      if (index != -1)\r\n        this.choiceFood.toppings[index].price = price ? parseFloat(price) : 0;\r\n    }\r\n  }\r\n  /**Xóa món ăn */\r\n  removeFood(food: any) {\r\n    this.invoices.removeInvoiceDetail(food._id);\r\n  }\r\n\r\n  changeUnit(ev, item) {\r\n    let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n    if (unit) {\r\n      item.unit = unit.unit;\r\n      item.price = parseFloat(unit.price2);\r\n      item.ratio = parseFloat(unit.ratio);\r\n      item.price_origin = parseFloat(unit.price2);\r\n    }\r\n  }\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit;\r\n  }\r\n\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find((item) => item._id == _id);\r\n    return lot.lot_number;\r\n  }\r\n\r\n  openModalChooseLot(data) {\r\n    this.choiceFood = data;\r\n    this.list_search_lot = this.choiceFood.lots;\r\n    if (!this.list_search_lot.length)\r\n      this.vhComponent.alertMessageDesktop(\r\n        'error',\r\n        this.lang.translate('Sản phẩm này không có lô khả dụng để bán!')\r\n      );\r\n    else this.show_modal_select_lots = true;\r\n  }\r\n\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.choiceFood.lots = this.list_search_lot;\r\n  }\r\n\r\n  handleChooseLot() {\r\n    if (this.warning_lot_expried) {\r\n      let lot_select = this.list_search_lot.find(\r\n        (e) => e._id == this.choiceFood.id_lotproduct\r\n      );\r\n      if (new Date().getTime() >= new Date(lot_select.date_exp).getTime()) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.lang.translate(\r\n            'Lô này đã hết hạn! Tiếp tục bán sản phẩm này?'\r\n          ),\r\n          nzOnOk: () => {\r\n            this.show_modal_select_lots = false;\r\n            this.choiceFood.lots = this.list_search_lot;\r\n          },\r\n          nzOnCancel: () => {\r\n            // this.show_modal_select_lots = false;\r\n            // this.choiceFood.lots = this.list_search_lot;\r\n          },\r\n        });\r\n      } else {\r\n        this.show_modal_select_lots = false;\r\n        this.choiceFood.lots = this.list_search_lot;\r\n      }\r\n    } else {\r\n      this.show_modal_select_lots = false;\r\n      this.choiceFood.lots = this.list_search_lot;\r\n    }\r\n  }\r\n\r\n  searchLot(value) {\r\n    this.choiceFood.lots = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value),\r\n      this.list_search_lot,\r\n      ['lot_number']\r\n    );\r\n  }\r\n}\r\n","<div class=\"layout\" [ngClass]=\"{'layout-1': wishList}\">\r\n  <div class=\"bill-detail\">\r\n    <div class=\"btn-list\">\r\n      <button nz-button nzType=\"default\" (click)=\"back()\">\r\n        <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n      </button>\r\n      <button nz-button nzType=\"default\" (click)=\"openSearchService()\">\r\n        <i nz-icon nzType=\"file-search\" nzTheme=\"outline\"></i>\r\n        {{'Search for service' | translate}} (F3)\r\n      </button>\r\n      <button nz-button nzType=\"default\" (click)=\"openSearchProduct()\">\r\n        <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n        {{'Search dishes/ beverage' | translate}} (F4)</button>\r\n      <button nz-button nzType=\"default\" (click)=\"openSearchSideDishes()\">\r\n        <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n        {{'Search for side dishes' | translate}} (F5)</button>\r\n      <button nz-button nzType=\"default\" (click)=\"openSearchCombos()\">\r\n        <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n        {{'Search for combos' | translate}} (F6)</button>\r\n    </div>\r\n    <div class=\"bill-detail-area ant-table-body\">\r\n      <div *ngIf=\"!invoices.getInvoiceDetail().length\" class=\"no-data\">\r\n        <p>{{'Please select a dishes/beverage' | translate}}</p>\r\n      </div>\r\n      <div class=\"bill-detail-area-item\" *ngFor=\"let item of invoices.getInvoiceDetail(); trackBy:myTrackByFunction\">\r\n        <div class=\"bill-detail-area-item-info\">\r\n          <div class=\"delete-btn\">\r\n            <button nz-button nzType=\"text\" nz-popconfirm nzPopconfirmTitle=\"{{'Delete' | translate}}?\"\r\n              (nzOnConfirm)=\"removeFood(item)\" nzPopconfirmPlacement=\"right\">\r\n              <i nz-icon nzType=\"close\" nzTheme=\"outline\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"item-name\">\r\n            {{item.name}}\r\n            <ng-container>\r\n              ({{getUnit(item.units,item.ratio)}})\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"item-quantity\"><ng-container *ngIf=\"item.type !== VhType.SERVICETIME\">{{item.quantity}}</ng-container></div>\r\n          <div class=\"item-price\">\r\n            <ng-container *ngIf=\"item.type !== VhType.SERVICETIME\">\r\n              {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n              <!-- Giá khuyến mãi -->\r\n              <s *ngIf=\"item.price < item.price_origin\">\r\n                {{vhAlgorithm.vhcurrencyunit(item.price_origin)}}\r\n              </s>\r\n            </ng-container>\r\n          </div>\r\n          <div class=\"item-total\">\r\n            {{vhAlgorithm.vhcurrencyunit(item.price * item.quantity)}}\r\n          </div>\r\n          <div class=\"edit-btn\">\r\n            <button *ngIf=\"item.type !== VhType.SERVICETIME\" nz-button nzType=\"text\" (click)=\"editFood(item)\">\r\n              <i nz-icon nzType=\"edit\" nzTheme=\"outline\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bill-detail-area-item-combo\">\r\n          <ng-container *ngIf=\"item.id_lotproduct\">\r\n            <div style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                (click)=\"openModalChooseLot(item)\">{{'Lot number'}}: {{ getLotNumber(item.lots, item.id_lotproduct)}}\r\n            </div>\r\n          </ng-container>\r\n          <div *ngIf=\"item.combos\">\r\n            <span *ngFor=\"let combo of item.combos;index as i\"\r\n                style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                {{ i == item.combos.length-1 ? combo.quantity + 'x ' + combo.name +\r\n                ' (' + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x '\r\n                + combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n            </span>\r\n        </div>\r\n        </div>\r\n        <div class=\"bill-detail-area-item-side-dishes\"\r\n          *ngFor=\"let sideDishes of item.toppings ? item.toppings : []; trackBy:myTrackByFunction\">\r\n          <ng-container *ngIf=\"sideDishes.quantity > 0\">\r\n            <div class=\"delete-btn\"></div>\r\n            <div class=\"item-name\">\r\n              {{\"+ \" + sideDishes.name}}\r\n              <ng-container>\r\n                ({{getUnit(sideDishes.units,sideDishes.ratio)}})\r\n              </ng-container>\r\n            </div>\r\n            <div class=\"item-quantity\">{{sideDishes.quantity}}</div>\r\n            <div class=\"item-price\">\r\n              {{vhAlgorithm.vhcurrencyunit(sideDishes.price)}}\r\n  \r\n              <!-- Giá khuyến mãi -->\r\n              <s *ngIf=\"sideDishes.price < sideDishes.price_origin\">\r\n                {{vhAlgorithm.vhcurrencyunit(sideDishes.price_origin)}}\r\n              </s>\r\n            </div>\r\n            <div class=\"item-total\">\r\n              {{vhAlgorithm.vhcurrencyunit(sideDishes.price * sideDishes.quantity)}}\r\n            </div>\r\n            <div class=\"edit-btn\"></div>\r\n          </ng-container>\r\n        </div>\r\n        <div class=\"bill-detail-area-item-properties\"\r\n          *ngFor=\"let properties of item.properties ? item.properties : []; trackBy:myTrackByNameFunction\">\r\n          <div class=\"delete-btn\"></div>\r\n          <div class=\"item-name\">{{\"+ \" + properties.name + \" x\" + properties.selectedValue}}</div>\r\n          <div class=\"edit-btn\"></div>\r\n        </div>\r\n        <div class=\"bill-detail-area-item-note\">\r\n          <input nz-input [(ngModel)]=\"item.note\" placeholder=\"{{'Note' | translate}}\" nzBorderless />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <app-product-wishlist1 *ngIf=\"wishList\" style=\"padding-top: 8px\" (productChoice)=\"createBillDetail($event)\">\r\n  </app-product-wishlist1>\r\n</div>\r\n\r\n\r\n<!-- --------------------open product search---------------------- -->\r\n<app-search-product *ngIf=\"showDrawerProductList\" [showDrawerProductList]=\"showDrawerProductList\"\r\n  (closeSearchProductList)=\"closeSearchProduct($event)\">\r\n</app-search-product>\r\n<!-- --------------------open service search---------------------- -->\r\n<app-search-service *ngIf=\"showDrawerServiceList\" [showDrawerServiceList]=\"showDrawerServiceList\"\r\n  (closeSearchServiceList)=\"closeSearchService($event)\">\r\n</app-search-service>\r\n<!-- --------------------open side dishes search---------------------- -->\r\n<app-search-topping *ngIf=\"showDrawerSideDishesList\" [showDrawerSideDishesList]=\"showDrawerSideDishesList\"\r\n  (closeSearchSideDishesList)=\"closeSearchSideDishes($event)\">\r\n</app-search-topping>\r\n<!-- --------------------open combo search---------------------- -->\r\n<app-search-combo *ngIf=\"showDrawerCombosList\" [showDrawerCombosList]=\"showDrawerCombosList\"\r\n  (closeSearchCombosList)=\"closeSearchCombos($event)\">\r\n</app-search-combo>\r\n<!-- ------------edit food---------- -->\r\n<nz-modal nzWidth=\"40vw\" [(nzVisible)]=\"showDrawerEdit\" [nzFooter]=\"modalFooterSelectFood\" [nzTitle]=\"choiceFood.name\"\r\n  *ngIf=\"choiceFood\" (nzOnCancel)=\"saveEdit()\">\r\n  <ng-container *nzModalContent>\r\n    <div class=\"ant-table-body\" style=\"max-height: 50vh; overflow-y: auto; overflow-x: hidden; padding: 0 8px\">\r\n      <div nz-row class=\"option-modal\">\r\n        <div nz-row style=\"width: 100%;\">\r\n          <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n            <input style=\"width: 90%;\" [ngClass]=\"'price-' + choiceFood.id_product\" maxlength=\"15\"\r\n              (blur)=\"updatePrice(choiceFood)\" [value]=\"vhAlgorithm.vhcurrencyunit(choiceFood.price)\" nz-input\r\n              placeholder=\"{{'Price' | translate}}\" />\r\n            <s *ngIf=\"choiceFood.price_origin > choiceFood.price\"\r\n              style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceFood.price_origin)}}</s>\r\n          </div>\r\n          <div nz-col nzSpan=\"4\">\r\n            <nz-select style=\"width: 90%;\" [(ngModel)]=\"choiceFood.ratio\"\r\n              (ngModelChange)=\"changeUnit($event,choiceFood)\">\r\n              <nz-option *ngFor=\"let i of choiceFood.units\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div class=\"text-align-center price-edit\" nz-col nzSpan=\"6\">\r\n            <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceFood)\"\r\n              [(ngModel)]=\"choiceFood.quantity\">\r\n            </nz-input-number>\r\n          </div>\r\n          <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n            {{vhAlgorithm.vhcurrencyunit(choiceFood.price * choiceFood.quantity)}}\r\n          </div>\r\n          <div class=\"align-center order-div-note1\" nz-col nzSpan=\"24\">\r\n            <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceFood.note\" [ngModelOptions]=\"{standalone: true}\"\r\n              nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Thuoc tinh -->\r\n      <div *ngIf=\"choiceFood.properties\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\"\r\n          *ngIf=\"choiceFood.properties.length\">\r\n          {{'Properties' | translate}}\r\n        </div>\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\">\r\n          <nz-collapse nzGhost>\r\n            <nz-collapse-panel *ngFor=\"let properties of choiceFood.properties; let i = index\"\r\n              [nzHeader]=\"properties.name\" [nzActive]=\"properties.active\">\r\n              <nz-radio-group style=\"padding-left: 24px\" [(ngModel)]=\"properties.selectedValue\">\r\n                <label nz-radio *ngFor=\"let value of properties.value\" [nzValue]=\"value\">{{value}}</label>\r\n              </nz-radio-group>\r\n            </nz-collapse-panel>\r\n          </nz-collapse>\r\n        </div>\r\n      </div>\r\n      <!-- Mon phu -->\r\n      <div *ngIf=\"choiceFood.toppings\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\"\r\n          *ngIf=\"choiceFood.toppings.length\">\r\n          {{'Side dishes' | translate}}\r\n        </div>\r\n        <div nz-row class=\"option-modal\">\r\n          <div *ngFor=\"let item of choiceFood.toppings\" nz-col nzSpan=\"24\" class=\"items-food\">\r\n            <div nz-row style=\"width: 100%;\">\r\n              <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n                {{item.name |translate}} ({{getUnit(item.units, item.ratio)}})\r\n              </div>\r\n              <div class=\"align-end text-align-center price-edit\"\r\n                style=\"display: flex;justify-content: space-evenly;align-items: flex-end;\" nz-col nzSpan=\"10\">\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity <= 0\"\r\n                  (click)=\"item.quantity = item.quantity - 1;\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity > 0, 'btn-disabled': item.quantity <= 1}\">\r\n                  <i nz-icon nzType=\"minus\"></i>\r\n                </button>\r\n                <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\">\r\n                </nz-input-number>\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity > 9999999998\"\r\n                  (click)=\"item.quantity = item.quantity + 1;\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity <= 9999999998, 'btn-disabled': item.quantity > 9999999998}\">\r\n                  <i nz-icon nzType=\"plus\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #modalFooterSelectFood>\r\n    <!-- <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"selectEditCancel()\">\r\n            {{\"Cancel\" |translate}}</button>\r\n        <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"saveEdit()\">{{\"Save\" | translate}}</button> -->\r\n  </ng-template>\r\n</nz-modal>\r\n\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue\r\n                    (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"choiceFood.id_lotproduct\" style=\"width:100%;padding: 8px 0;\">\r\n            <div nz-row *ngFor=\"let item of choiceFood.lots\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"6\">\r\n                                {{item.lot_number}}\r\n                            </div>\r\n\r\n                            <div nz-col nzSpan=\"6\">\r\n                                NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"6\">\r\n                                HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"6\" class=\"ion-text-end\">\r\n                                {{'Stock' | translate}}:\r\n                                <span\r\n                                    style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/choiceFood.ratio\r\n                                    | number : '1.0-2'}}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </label>\r\n                </div>\r\n\r\n            </div>\r\n        </nz-radio-group>\r\n        <div *ngIf=\"!choiceFood.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" [disabled]=\"!choiceFood.id_lotproduct\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BillDetail1Component } from './bill-detail1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SearchProductModule } from '../search-product/search-product.module';\r\nimport { SearchServiceModule } from '../search-service/search-service.module';\r\nimport { SearchToppingModule } from '../search-topping/search-topping.module';\r\nimport { SearchComboModule } from '../search-combo/search-combo.module';\r\nimport { ProductWishlist1Module } from '../product-wishlist1/product-wishlist1.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BillDetail1Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    ProductWishlist1Module,\r\n    SearchProductModule,\r\n    SearchServiceModule,\r\n    SearchToppingModule,\r\n    SearchComboModule\r\n  ],\r\n  exports: [\r\n    BillDetail1Component\r\n  ]\r\n})\r\nexport class BillDetail1Module { }\r\n","import { AfterViewInit, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { VhBookingInvoices } from 'src/app/cafe/interface/vh-booking';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-bill1',\r\n  templateUrl: './bill1.component.html',\r\n  styleUrls: ['./bill1.component.scss']\r\n})\r\nexport class Bill1Component implements OnInit, AfterViewInit {\r\n  @Input() invoices: VhBookingInvoices\r\n  @Input() tax: number = 0\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ]\r\n  listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n\r\n  moneyEdit: any = {}\r\n  /**biến lưu thông tin bill - discount ,fee, payment, cash, note- dùng để gán giá trị khi dùng bàn phim ảo */\r\n  invoice_discount: string='';\r\n  invoice_fee: string='';\r\n  invoice_cash: string='';\r\n  invoice_note: string='';\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth:VhAuth\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // lấy thông tin tài khoản\r\n    this.getWallets()\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // Cleave js\r\n    if(document.querySelector(\".discount-price\")) this.moneyEdit['discount'] = this.vhAlgorithm.vhnumeral(\".discount-price\")\r\n    if(document.querySelector(\".fee-price\")) this.moneyEdit['fee'] = this.vhAlgorithm.vhnumeral(\".fee-price\")\r\n    if(document.querySelector(\".cash-price\")) this.moneyEdit['cash'] = this.vhAlgorithm.vhnumeral(\".cash-price\")\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n  getWallets() {\r\n    this.nzOptions[2].children = this.vhQueryCafe.getlocalWallets()\r\n      .filter(wallet => wallet._id != 'id_cash' &&\r\n        wallet.id_branch == this.vhQueryCafe.getDefaultBranch()._id\r\n      ).map(wallet => {\r\n        return { label: wallet.name, value: wallet._id, isLeaf: true }\r\n      })\r\n  }\r\n\r\n  /**Cập nhật giảm giá */\r\n  updateDiscount() {\r\n    let discount: any = this.moneyEdit['discount'].getRawValue()\r\n    this.invoices.setDiscount(discount ? parseFloat(discount) : 0)\r\n  }\r\n  /** Cập nhật phí */\r\n  updateFee() {\r\n    let fee: any = this.moneyEdit['fee'].getRawValue()\r\n    this.invoices.setFee(fee ? parseFloat(fee) : 0)\r\n  }\r\n\r\n\r\n   /** Cập nhật tien khach trả */\r\n   updateCash() {\r\n    let cash: any = this.moneyEdit['cash'].getRawValue()\r\n    // this.invoices.setCash(cash ? parseFloat(cash) : 0);\r\n    console.log(cash);\r\n\r\n  }\r\n  /**Cập nhật thuế */\r\n  updateTax(value) {\r\n    this.invoices.setTax(parseFloat(value))\r\n  }\r\n  /**Cập nhật ghi chú */\r\n  updateNote(note) {\r\n    this.invoices.setNote(note)\r\n  }\r\n\r\n    /**\r\n   * kiểm tra tối đa 12 ky tự cuả discount\r\n   * @param value\r\n   */\r\n     checkMaxLengthDiscount(value: string) {\r\n      if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_discount = value }\r\n    }\r\n\r\n    /**\r\n     * kiểm tra tối đa 12 ky tự cuả fee\r\n     * @param value\r\n     */\r\n    checkMaxLengthFee(value: string) {\r\n      if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_fee = value }\r\n    }\r\n    /**\r\n     * kiểm tra tối đa 12 ky tự cuả fee\r\n     * @param value\r\n     */\r\n     checkMaxLengtCash(value: string) {\r\n      if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_cash = value }\r\n    }\r\n}\r\n","<div class=\"bill\">\r\n    <div class=\"bill-title\">\r\n        {{'Payment information' | translate}}\r\n    </div>\r\n    <div class=\"bill-area\">\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'SubTotal' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_discount')\">\r\n            <div class=\"bill-area-item-title\">{{'Discount' | translate}}</div>\r\n            <div class=\"bill-area-item-value keyboard\">\r\n                <input  #box [value]=\"vhAlgorithm.vhcurrencyunit(invoice_discount)\" maxlength=\"15\"\r\n                    (blur)=\"updateDiscount()\" class=\"discount-price\" id=\"discount-price\" nz-input \r\n                    (keyup)=\"invoice_discount = moneyEdit['discount'].getRawValue()\"\r\n                    />\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\" style=\"margin-top: 8px;\"  *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n            <div class=\"bill-area-item-title\">{{'Fee' | translate}}</div>\r\n            <div class=\"bill-area-item-value keyboard\">\r\n                <input  [value]=\"vhAlgorithm.vhcurrencyunit(invoice_fee)\" maxlength=\"15\"\r\n                    (blur)=\"updateFee()\" class=\"fee-price\" id=\"fee-price\" nz-input\r\n                   \r\n                    (keyup)=\"invoice_fee = moneyEdit['fee'].getRawValue()\"/>\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item\"  *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n            <div class=\"bill-area-item-title\">{{'Tax' | translate}}</div>\r\n            <div>\r\n                <nz-select *ngIf=\"listTax.length\" nzBorderless style=\"min-width: 72px;\" [(ngModel)]=\"tax\"\r\n                    (ngModelChange)=\"updateTax($event)\">\r\n                    <nz-option [nzValue]=\"item.value\" nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\"\r\n                        *ngFor=\"let item of listTax; trackBy:myTrackByFunction\">\r\n                    </nz-option>\r\n                </nz-select>\r\n                <span *ngIf=\"!listTax.length\">0.00%</span>\r\n            </div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\">\r\n            <div class=\"bill-area-item-title\">{{'Total' | translate}}</div>\r\n            <div class=\"bill-area-item-value\">{{vhAlgorithm.vhcurrencyunit(invoices.getTotalATax())}}</div>\r\n        </div>\r\n        <div class=\"bill-area-item\" style=\"margin-top: 8px;\"  *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n            <div class=\"bill-area-item-title\">{{'cash' | translate}}</div>\r\n            <div class=\"bill-area-item-value keyboard\">\r\n                <input  [value]=\"vhAlgorithm.vhcurrencyunit(invoice_cash)\" maxlength=\"15\"\r\n                    (blur)=\"updateCash()\" class=\"cash-price\" id=\"cash-price\" nz-input \r\n                    (keyup)=\"invoice_cash = moneyEdit['cash'].getRawValue()\"/>\r\n            </div>\r\n        </div>\r\n        <div class=\"bill-area-item-note\" nz-col nzSpan=\"24\" id=\"note1\"  *ngIf=\"vhAuth.localStorageGET('show_note')\">\r\n            <textarea class=\"nz-hover-border\" id=\"invoice-note\" nz-input placeholder=\"{{'Enter note...' | translate}}\"\r\n                [value]=\"invoice_note\" [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\" (blur)=\"updateNote(note.value)\" \r\n                #note [value]=\"invoice_note\"\r\n                \r\n                (keyup)=\"invoice_note = note.value\"></textarea>\r\n        </div>\r\n    </div>\r\n</div>","import { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Bill1Component } from './bill1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Bill1Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    Bill1Component\r\n  ]\r\n})\r\nexport class Bill1Module { }\r\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhQueryCafe } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-customer-profile',\r\n  templateUrl: './customer-profile.component.html',\r\n  styleUrls: ['./customer-profile.component.scss']\r\n})\r\nexport class CustomerProfileComponent {\r\n  @Input(\"id\") customerID;\r\n  @Input(\"showDrawerCustomerInfo\") showDrawerCustomerInfo;\r\n  @Output(\"closeInfoCustomer\") closeInfoCustomer = new EventEmitter<any>();\r\n\r\n  customer: any = {}\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe\r\n  ) { }\r\n\r\n  ngOnChanges(change: SimpleChanges) {\r\n    // lấy dữ liệu khách hàng\r\n    this.initCustomer(change.customerID.currentValue)\r\n  }\r\n\r\n  initCustomer(id_customer: string) {\r\n    if (id_customer != 'id_retail') {\r\n      let customer = this.vhQueryCafe.getlocalCustomer(id_customer)\r\n      this.customer = customer ? customer : {}\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.closeInfoCustomer.emit(false)\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"400\" [nzVisible]=\"showDrawerCustomerInfo\"\r\n  (nzOnClose)=\"goBack()\">\r\n  <ng-container *nzDrawerContent>\r\n    <h3>{{'Customer information' | translate}}</h3>\r\n    <div class=\"info-customer\" nz-row>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Customer name' | translate}}:</b><span> {{customer.name}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Phone number' | translate}}:</b><span> {{customer.phone}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Email' | translate}}:</b><span> {{customer.email}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Customer type' | translate}}:</b><span> {{(customer.isBusiness ? 'Business/Business household' : 'Individual') | translate}}</span>\r\n      </div>\r\n\r\n      <ng-container *ngIf=\"customer.isBusiness\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <b>{{'Tax code' | translate}}:</b><span> {{customer.taxcode}}</span>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"!customer.isBusiness\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <b>{{'Gender' | translate}}:</b><span> {{customer.gender | translate}}</span>\r\n        </div>\r\n        <div nz-col nzSpan=\"24\">\r\n          <b>{{'Date of birth' | translate}}:</b><span> {{customer.datebirth | date : 'dd/MM/yyyy'}}</span>\r\n        </div>\r\n      </ng-container>\r\n      \r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Address' | translate}}:</b><span> {{customer.address}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Country' | translate}}:</b><span> {{customer.country}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Province' | translate}}:</b><span> {{customer.province}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'District' | translate}}:</b><span> {{customer.district}}</span>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <b>{{'Note' | translate}}:</b><span> {{customer.note}}</span>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</nz-drawer>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CustomerProfileComponent } from './customer-profile.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CustomerProfileComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    CustomerProfileComponent\r\n  ]\r\n})\r\nexport class CustomerProfileModule { }\r\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhQueryCafe, VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhBookingInvoices } from 'src/app/cafe/interface/vh-booking';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-customer1',\r\n  templateUrl: './customer1.component.html',\r\n  styleUrls: ['./customer1.component.scss']\r\n})\r\nexport class Customer1Component implements OnInit, OnChanges {\r\n  @Input() invoices: VhBookingInvoices;\r\n  @Input() customerID: string;\r\n  customerList: any[] = []\r\n  customerSearchList = []\r\n  customerType: 1 | 2;\r\n\r\n  customer: any = '';\r\n  // Customer\r\n  showDrawerAddCustomer: boolean = false\r\n  showDrawerCustomerInfo: boolean = false\r\n  show_box_search = false \r\n  showDrawerAddRetail: boolean = false\r\n  constructor(\r\n    public vhQueryCafe: VhQueryCafe,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth,\r\n    private nzModalService: NzModalService,\r\n    private lang: LanguageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initCustomer()\r\n  }\r\n\r\n  initCustomer() {\r\n    this.customerList = this.vhQueryCafe.getlocalCustomers().filter(item => item._id != 'id_retail');\r\n    if (this.customerID == \"id_retail\") {\r\n      this.customerType = 1\r\n    } else {\r\n      this.customerType = 2;\r\n      this.customer = this.vhQueryCafe.getlocalCustomer(this.customerID).name + ' - ' + this.vhQueryCafe.getlocalCustomer(this.customerID).phone;\r\n    }\r\n  }\r\n\r\n  ngOnChanges({ customerID }: SimpleChanges) {\r\n    if (customerID)\r\n      if (customerID.previousValue) {\r\n        if (customerID.previousValue != customerID.currentValue) {\r\n          if (this.customerID == \"id_retail\") {\r\n            this.customerType = 1\r\n          } else {\r\n            this.customerType = 2;\r\n            this.customer = this.vhQueryCafe.getlocalCustomer(this.customerID).name + ' - ' + this.vhQueryCafe.getlocalCustomer(this.customerID).phone;\r\n          }\r\n        }\r\n      }\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n  changeCustomerType(type) {\r\n    if (type == 1) {\r\n      this.customerID = \"id_retail\"\r\n      this.invoices.setIdPartner(\"id_retail\")\r\n      this.invoices.setTaxBuyerDisplayName('Người mua không lấy hoá đơn');\r\n      this.invoices.setTaxBuyerLegalName('');\r\n      this.invoices.setTaxBuyerTaxCode('');\r\n      this.invoices.setTaxBuyerAddressLine('');\r\n      this.invoices.setTaxBuyerEmail('');\r\n    } else if (type == 2 && this.invoices.getRetailName()) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: `${this.lang.translate('Thông tin khách lẻ sẽ bị mất')}?`,\r\n        nzCancelText: this.lang.translate(\"Cancel\"),\r\n        nzOkText: \"Ok\",\r\n        nzOnOk: () => {\r\n          this.clearRetailCustomer()\r\n          this.customerList = this.vhQueryCafe.getlocalCustomers().filter(item => item._id != 'id_retail');\r\n          this.customerSearchList = this.customerList\r\n          setTimeout(() => document.getElementById(\"select-customer\").click(), 200)\r\n        },\r\n        nzOnCancel: () => { this.customerType = 1 },\r\n      })\r\n    } else {\r\n      this.customerList = this.vhQueryCafe.getlocalCustomers().filter(item => item._id != 'id_retail');\r\n      this.customerSearchList = this.customerList\r\n      setTimeout(() => document.getElementById(\"select-customer\").click(), 200)\r\n    }\r\n  }\r\n  clearRetailCustomer() {\r\n    this.invoices.setRetailName('')\r\n    this.invoices.setRetailPhone('')\r\n    this.invoices.setRetailAddress('')\r\n  }\r\n  blurCustomer() {\r\n    setTimeout(() => {\r\n      if (this.customerID == \"id_retail\") this.customerType = 1;\r\n    }, 500)\r\n  }\r\n  changeCustomer(ev) {\r\n    this.invoices.setIdPartner(ev)\r\n    const localCustomer = this.vhQueryCafe.getlocalCustomer(ev);\r\n    this.invoices.setTaxBuyerDisplayName(localCustomer?.name || '');\r\n    this.invoices.setTaxBuyerLegalName(localCustomer?.name || '');\r\n    this.invoices.setTaxBuyerTaxCode(localCustomer?.taxcode || '');\r\n    this.invoices.setTaxBuyerAddressLine(localCustomer?.address || '');\r\n    this.invoices.setTaxBuyerEmail(localCustomer?.email || '');\r\n  }\r\n  // Customer process\r\n  openAddCustomer() {\r\n    if (this.customerType === 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCustomer = true\r\n  }\r\n  closeAddCustomer(ev: boolean) {\r\n    if (ev) { // restart customer list\r\n      this.customerList = this.vhQueryCafe.getlocalCustomers().filter(item => item._id != 'id_retail');\r\n    }\r\n    this.showDrawerAddCustomer = false\r\n  }\r\n  openCustomerInfo() {\r\n    this.showDrawerCustomerInfo = true\r\n  }\r\n  closeCustomerInfo(ev) {\r\n    this.showDrawerCustomerInfo = false\r\n  }\r\n\r\n  searchCustomer(event) {\r\n    this.customerList = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(event.toString().toLowerCase()), this.customerSearchList, ['name', 'phone'])\r\n  }\r\n  //Lưu thông tin khách lẻ\r\n  saveRetailInfo(result) {\r\n    if (result) {\r\n      this.invoices.setRetailName(result.retail_name)\r\n      this.invoices.setRetailPhone(result.retail_phone)\r\n      this.invoices.setRetailAddress(result.retail_address)\r\n    }\r\n    this.showDrawerAddRetail = false\r\n  }\r\n}\r\n","<div class=\"customer\">\r\n    <div class=\"customer-title\">\r\n        <div class=\"title\">\r\n            {{'Customer information' | translate}}\r\n        </div>\r\n        <div class=\"btn-add\">\r\n            <button nz-button nzType=\"text\" nzShape=\"circle\" (click)=\"openAddCustomer()\">\r\n                <i [nzType]=\"invoices.getRetailName() ? 'eye':'plus'\" nz-icon nzTheme=\"outline\"></i>\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"customer-type\">\r\n        <nz-radio-group nzName=\"radiogroup\" [(ngModel)]=\"customerType\" (ngModelChange)=\"changeCustomerType($event)\" ks>\r\n            <label nz-radio [nzValue]=1>{{'Retail customer' | translate}}</label>\r\n            <label nz-radio [nzValue]=2>{{'Member' | translate}}</label>\r\n        </nz-radio-group>\r\n    </div>\r\n    <ng-container *ngIf=\"customerType == 1 && invoices.getRetailName()\">\r\n        {{invoices.getRetailName()}} - {{invoices.getRetailPhone()}} {{invoices.getRetailAddress() ? '-':\r\n        ''}} {{invoices.getRetailAddress()}}\r\n    </ng-container>\r\n    <div class=\"customer-select\" *ngIf=\"customerType == 2\">\r\n        <nz-select id=\"select-customer\" nzShowSearch nzPlaceHolder=\"{{'Select customer' | translate}}\"\r\n            [(ngModel)]=\"customerID\" (ngModelChange)=\"changeCustomer($event)\" (nzBlur)=\"blurCustomer()\">\r\n            <nz-option *ngFor=\"let item of customerList\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n            </nz-option>\r\n        </nz-select>\r\n        <button nz-button nzType=\"text\" nzShape=\"circle\" (click)=\"openCustomerInfo()\">\r\n            <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<!-- --------------------add customer---------------------- -->\r\n<app-add-customer *ngIf=\"showDrawerAddCustomer\" [showDrawerAddCustomer]=\"showDrawerAddCustomer\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\">\r\n</app-add-customer>\r\n<!-- --------------------customer info---------------------- -->\r\n<app-customer-profile *ngIf=\"showDrawerCustomerInfo\" [showDrawerCustomerInfo]=\"showDrawerCustomerInfo\"\r\n    (closeInfoCustomer)=\"closeCustomerInfo($event)\" [id]=\"customerID\">\r\n</app-customer-profile>\r\n\r\n<app-retail-info *ngIf=\"showDrawerAddRetail\" [showDrawerAddRetail]=\"showDrawerAddRetail\"\r\n    [retail_name]=\"invoices.getRetailName()\" [retail_phone]=\"invoices.getRetailPhone()\"\r\n    [retail_address]=\"invoices.getRetailAddress()\" (closeAddCustomer)=\"saveRetailInfo($event)\"></app-retail-info>","import { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Customer1Component } from './customer1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AddCustomerModule } from '../add-customer/add-customer.module';\r\nimport { CustomerProfileModule } from '../customer-profile/customer-profile.module';\r\nimport { RetailInfoComponent } from '../retail-info/retail-info.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Customer1Component, RetailInfoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    AddCustomerModule,\r\n    CustomerProfileModule,\r\n    KeyboardModule,\r\n    ScrollingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    Customer1Component\r\n  ]\r\n})\r\nexport class Customer1Module { }\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { VhAuth } from 'ionic-vhframeworks';\r\nimport { VhBookingInvoices } from 'src/app/cafe/interface/vh-booking';\r\n\r\n@Component({\r\n  selector: 'app-info-bill1',\r\n  templateUrl: './info-bill1.component.html',\r\n  styleUrls: ['./info-bill1.component.scss']\r\n})\r\nexport class InfoBill1Component implements OnInit {\r\n  @Input() invoices: VhBookingInvoices;\r\n  @Input() employeeID: string;\r\n  @Input() tableInfo: any = {};\r\n\r\n  employeeList: any[] = []\r\n  constructor(\r\n    public vhAuth: VhAuth\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initData()\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n  initData() {\r\n    // nhân viên\r\n    this.employeeList = this.vhAuth.getlocalEmployees();\r\n  }\r\n\r\n  changeEmployee(ev) {\r\n    this.invoices.setIdEmployee(ev)\r\n  }\r\n}\r\n","<div class=\"info-bill\">\r\n    <div class=\"select\">\r\n        <div class=\"select-title\">\r\n            {{'Salesman' | translate}}\r\n        </div>\r\n        <div class=\"select-detail\">\r\n            <nz-select nzBorderless nzShowSearch nzPlaceHolder=\"{{'Select employee' | translate}}\"\r\n                [(ngModel)]=\"employeeID\" (ngModelChange)=\"changeEmployee($event)\">\r\n                <nz-option *ngFor=\"let item of employeeList; trackBy:myTrackByFunction\" [nzValue]=\"item._id\"\r\n                    [nzLabel]=\"item.name\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n    </div>\r\n    <div class=\"select\">\r\n        <div class=\"select-title\">\r\n            {{'Sales date' | translate}}\r\n        </div>\r\n        <div class=\"select-detail\">\r\n            {{invoices.getDate() | date : 'dd/MM/yyyy HH:mm'}}\r\n        </div>\r\n    </div>\r\n    <div class=\"select\">\r\n        <div class=\" select-title\">\r\n            {{'Table' | translate}}\r\n        </div>\r\n        <div class=\"select-detail\">\r\n            {{tableInfo}}\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InfoBill1Component } from './info-bill1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InfoBill1Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    InfoBill1Component\r\n  ]\r\n})\r\nexport class InfoBill1Module { }\r\n","import { Component, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\r\nimport { VhBookingInvoices } from 'src/app/cafe/interface/vh-booking';\r\n\r\n@Component({\r\n  selector: 'app-payment-button1',\r\n  templateUrl: './payment-button1.component.html',\r\n  styleUrls: ['./payment-button1.component.scss']\r\n})\r\nexport class PaymentButton1Component {\r\n  @HostListener('window:keydown', ['$event'])\r\n  keyEvent(event: KeyboardEvent) {\r\n    if ([\"F1\", \"F2\"].includes(event.key)) {\r\n      switch (event.key) {\r\n        case \"F1\": document.getElementById(\"complete-and-print\").click(); break;\r\n        case \"F2\": document.getElementById(\"complete\").click(); break;\r\n      }\r\n      event.preventDefault()\r\n      event.stopPropagation()\r\n    }\r\n  }\r\n  @Input() invoices: VhBookingInvoices\r\n  @Input() statusInvoice: any = {}\r\n  @Output() complete: EventEmitter<any> = new EventEmitter()\r\n  constructor() { }\r\n\r\n  completeInvoice(status: boolean) {\r\n    this.complete.emit(status)\r\n  }\r\n\r\n}\r\n","<div>\r\n    <div class=\"payment-btn\">\r\n        <button nz-button [nzLoading]=\"statusInvoice.creating\"\r\n            id=\"complete-and-print\" class=\"complete-and-print\" nz-popconfirm\r\n            nzPopconfirmTitle=\"{{'Complete & Print' | translate}}?\" (nzOnConfirm)=\"completeInvoice(true)\"\r\n            nzPopconfirmPlacement=\"top\">\r\n            {{\"Complete & Print\" | translate}} (F1)\r\n        </button>\r\n        <button nz-button [nzLoading]=\"statusInvoice.creating\" id=\"complete\" class=\"complete\" nz-popconfirm\r\n            nzPopconfirmTitle=\"{{'Complete' | translate}}?\" (nzOnConfirm)=\"completeInvoice(false)\"\r\n            nzPopconfirmPlacement=\"top\">\r\n            {{\"Complete\" | translate}} (F2)\r\n        </button>\r\n    </div>\r\n\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PaymentButton1Component } from './payment-button1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PaymentButton1Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NgZorroAntModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    PaymentButton1Component\r\n  ]\r\n})\r\nexport class PaymentButton1Module { }\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-product-wishlist1',\r\n  templateUrl: './product-wishlist1.component.html',\r\n  styleUrls: ['./product-wishlist1.component.scss'],\r\n})\r\nexport class ProductWishlist1Component implements OnInit {\r\n  @Input() default_price_type: number;\r\n  @Output('productChoice') productChoice: EventEmitter<any> =\r\n    new EventEmitter();\r\n  indexPage: number = 1;\r\n  wishList: any[] = [];\r\n  choiceFood: any = {};\r\n  showOptions: boolean = false;\r\n  editPrice: any = {};\r\n  auto_hidden_lot: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .auto_hidden_lot;\r\n  id_branch: string = this.vhQueryCafe.getDefaultBranch()._id;\r\n\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    let dataProd: any[] = this.vhQueryCafe\r\n      .getlocalDetailProducts()\r\n      .filter(\r\n        (product) =>\r\n          product.selling &&\r\n          (product.type == 1 || product.type == 3) &&\r\n          !product.delete_hidden\r\n      )\r\n      .map((item) => {\r\n        let unit = this.vhQueryCafe.getUnit_byRatio(\r\n          item.units,\r\n          item.units.find((u) => u.default).ratio\r\n        );\r\n        return { ...item, ...unit };\r\n      });\r\n    this.wishList = dataProd;\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n  chooseProduct(item) {\r\n    this.productChoice.emit(item);\r\n  }\r\n\r\n  changeSub(value) {\r\n    let subChoice: any = this.choiceFood.subs.find((item) => item._id == value);\r\n    if (subChoice) {\r\n      this.choiceFood['id_subproduct'] = value;\r\n      this.choiceFood['price'] = subChoice.price;\r\n      this.choiceFood['price_origin'] = subChoice.price_origin;\r\n    }\r\n  }\r\n\r\n  selectFoods(value) {\r\n    // if (value.manysize) {\r\n    //   this.choiceFood = {\r\n    //     ...value,\r\n    //     quantity: 1,\r\n    //     note: '',\r\n    //     price: 0,\r\n    //     price_origin: 0,\r\n    //     subs: value.subs.map((item) => {\r\n    //       return {\r\n    //         ...item,\r\n    //         price_origin: item.price,\r\n    //         price: item.price,\r\n    //       };\r\n    //     }),\r\n    //   };\r\n    //   if (this.choiceFood.subs && this.choiceFood.subs.length) {\r\n    //     this.choiceFood['id_subproduct'] = this.choiceFood.subs[0]._id;\r\n    //     this.choiceFood['price'] = this.choiceFood.subs[0].price;\r\n    //     this.choiceFood['price_origin'] = this.choiceFood.subs[0].price_origin;\r\n    //   }\r\n    // } else\r\n    //   this.choiceFood = {\r\n    //     ...value,\r\n    //     quantity: 1,\r\n    //     note: '',\r\n    //     price_origin: value.price,\r\n    //     price: value.price,\r\n    //   };\r\n    // // Lưu trữ các properties đã chon\r\n    // if (this.choiceFood.properties) {\r\n    //   // sao chép mảng giá trị chọn\r\n    //   this.choiceFood.properties.forEach((element) => {\r\n    //     element.active = true;\r\n    //     element.selectedValue = element.value[0];\r\n    //   });\r\n    // }\r\n    // // Kiểm tra topping\r\n    // if (this.choiceFood.toppings) {\r\n    //   for (let topping of this.choiceFood.toppings) {\r\n    //     topping.quantity = 0;\r\n    //     topping.price_origin = topping.price;\r\n    //     topping.price = topping.price_origin;\r\n    //   }\r\n    // }\r\n\r\n    // if (this.choiceFood) {\r\n    //   this.showOptions = true;\r\n    // }\r\n\r\n    this.choiceFood = {\r\n      toppings: value.toppings,\r\n      quantity: 1,\r\n      note: '',\r\n      price_origin: value.price,\r\n      name: value.name,\r\n      ptype: value.type,\r\n      properties: value.properties,\r\n      _id: value._id,\r\n      price: value.price,\r\n      ratio: 1,\r\n      units: value.units,\r\n    };\r\n    if (value.lot_number) this.choiceFood['lot_number'] = value.lot_number;\r\n    if (value.lots) this.choiceFood['lots'] = value.lots;\r\n    if (value.id_lotproduct)\r\n      this.choiceFood['id_lotproduct'] = value.id_lotproduct;\r\n    if (value.id_subproduct)\r\n      this.choiceFood.id_subproduct = value.id_subproduct;\r\n    // Lưu trữ các properties đã chon\r\n    if (this.choiceFood.properties) {\r\n      // sao chép mảng giá trị chọn\r\n      this.choiceFood.properties.forEach((element) => {\r\n        element.active = true;\r\n        element.selectedValue = element.value[0];\r\n      });\r\n    }\r\n    // Kiểm tra topping\r\n    if (this.choiceFood.toppings) {\r\n      for (let topping of this.choiceFood.toppings) {\r\n        let data = this.vhQueryCafe.getlocalDetailProduct(topping.id_product);\r\n        topping.quantity = topping.quantity;\r\n        topping.name = data.name;\r\n        topping.price_origin = data.units[0].price;\r\n        topping.price = 0;\r\n        topping.ratio = 1;\r\n        topping.ptype = 4;\r\n        topping._id = topping.id_product;\r\n      }\r\n    }\r\n    if (this.choiceFood.ptype == 3 && this.choiceFood.lots) {\r\n      this.choiceFood.lots = this.vhAlgorithm.sortDatebyASC(\r\n        this.choiceFood.lots,\r\n        'date_exp'\r\n      );\r\n      if (this.auto_hidden_lot)\r\n        this.choiceFood.lots = this.choiceFood.lots.filter(\r\n          (e) => new Date(e.date_exp).getTime() >= new Date().getTime()\r\n        );\r\n\r\n      let min_date_exp = this.vhAlgorithm.sortDatebyASC(\r\n        this.choiceFood.lots.filter(\r\n          (e) => new Date(e.date_exp).getTime() >= new Date().getTime()\r\n        ),\r\n        'date_exp'\r\n      );\r\n\r\n      if (min_date_exp.length) {\r\n        this.choiceFood['id_lotproduct'] = min_date_exp[0]._id;\r\n        this.choiceFood['lot_number'] = min_date_exp[0].lot_number;\r\n      }\r\n    }\r\n\r\n    if (this.choiceFood) {\r\n      this.showOptions = true;\r\n      setTimeout(() => {\r\n        this.editPrice['price-' + value._id] = this.vhAlgorithm.vhnumeral(\r\n          '.price-' + value._id\r\n        );\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  selectFoodsCancel() {\r\n    this.showOptions = false;\r\n  }\r\n\r\n  chooseFood() {\r\n    this.showOptions = false;\r\n    // if (this.choiceFood.quantity) {\r\n    //   if (this.choiceFood.id_subproduct) {\r\n    //     let sub: any = this.choiceFood.subs.find(\r\n    //       (item) => item._id == this.choiceFood.id_subproduct\r\n    //     );\r\n    //     this.choiceFood['name'] += ` (${sub.name})`;\r\n    //   }\r\n    //   this.productChoice.emit(this.choiceFood);\r\n    // }\r\n    if (this.choiceFood.toppings)\r\n      this.choiceFood.toppings = this.choiceFood.toppings.filter(\r\n        (item) => item.quantity\r\n      );\r\n    if (this.choiceFood.quantity) this.productChoice.emit(this.choiceFood);\r\n  }\r\n\r\n  updatePrice(item) {\r\n    let price = this.editPrice['price-' + item._id].getRawValue();\r\n    this.choiceFood.price = price ? parseFloat(price) : 0;\r\n    this.choiceFood.quantity =\r\n      this.choiceFood.quantity > 0 ? this.choiceFood.quantity : 1;\r\n  }\r\n\r\n  changeUnit(ev, item) {\r\n    if (this.default_price_type == 1) {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price);\r\n      }\r\n    } else {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price2);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price2);\r\n      }\r\n    }\r\n  }\r\n\r\n  changeLot(e) {\r\n    this.choiceFood.lot_number = this.choiceFood.lots.find(\r\n      (item) => item._id == e\r\n    ).lot_number;\r\n  }\r\n}\r\n","<div class=\"wish-list\">\r\n    <div class=\"wish-list-header\">\r\n        <div class=\"wish-list-header-title\">{{'Dishes/beverage' | translate}}</div>\r\n        <div class=\"wish-list-header-page\">\r\n            <nz-pagination [(nzPageIndex)]=\"indexPage\" [nzPageSize]=\"5\" [nzTotal]=\"wishList.length\" nzSimple>\r\n            </nz-pagination>\r\n        </div>\r\n    </div>\r\n    <div class=\"wish-list-area\">\r\n        <div class=\"wish-list-area-item\"\r\n            *ngFor=\"let prod of wishList | slice:5 * (indexPage - 1):5 * (indexPage - 1) + 5; trackBy: myTrackByFunction\">\r\n            <nz-card class=\"wish-list-area-item-card\" nzHoverable (click)=\"selectFoods(prod)\">\r\n                <img alt=\"image\" src=\"{{prod.img ? prod.img : 'assets/icon/management/noimage.svg'}}\" style=\"width: 100px;\"/>\r\n                <div class=\"wish-list-area-item-card-title\">\r\n                  {{prod.name}} ({{prod.unit}})\r\n                </div>\r\n            </nz-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- ------------select food---------- -->\r\n<nz-modal [(nzVisible)]=\"showOptions\" [nzFooter]=\"modalFooterSelectFood\" nzTitle=\"{{choiceFood.name}}\"\r\n  (nzOnCancel)=\"selectFoodsCancel()\" (nzOnOk)=\"chooseFood()\" nzWidth=\"40vw\">\r\n  <ng-container *nzModalContent>\r\n    <div class=\"ant-table-body\" style=\"max-height: 50vh; overflow-y: auto; overflow-x: hidden; padding: 0 8px\">\r\n      <div *ngIf=\"choiceFood\" nz-row class=\"option-modal\">\r\n        <div nz-row style=\"width: 100%;\">\r\n          <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n            <input style=\"width: 90%;\" [ngClass]=\"'price-' + choiceFood._id\" maxlength=\"15\" (blur)=\"updatePrice(choiceFood)\"\r\n              [value]=\"vhAlgorithm.vhcurrencyunit(choiceFood.price)\" nz-input placeholder=\"{{'Price' | translate}}\" />\r\n            <s *ngIf=\"choiceFood.price_origin > choiceFood.price\"\r\n              style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceFood.price_origin)}}</s>\r\n          </div>\r\n          <div nz-col nzSpan=\"4\">\r\n            <nz-select style=\"width: 90%;\" [(ngModel)]=\"choiceFood.ratio\" (ngModelChange)=\"changeUnit($event,choiceFood)\">\r\n              <nz-option *ngFor=\"let i of choiceFood.units\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div class=\"text-align-center price-edit\" nz-col nzSpan=\"6\" >\r\n            <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceFood)\"\r\n              [(ngModel)]=\"choiceFood.quantity\">\r\n            </nz-input-number>\r\n          </div>\r\n          <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n            {{vhAlgorithm.vhcurrencyunit(choiceFood.price * choiceFood.quantity)}}\r\n          </div>\r\n          <div class=\"align-center order-div-note1\" nz-col nzSpan=\"24\">\r\n            <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceFood.note\" [ngModelOptions]=\"{standalone: true}\"\r\n              nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Thuoc tinh -->\r\n      <div *ngIf=\"choiceFood.properties && choiceFood.properties.length\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\">\r\n          {{'Properties' | translate}}\r\n        </div>\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\">\r\n          <nz-collapse nzGhost>\r\n            <nz-collapse-panel *ngFor=\"let properties of choiceFood.properties; let i = index\"\r\n              [nzHeader]=\"properties.name\" [nzActive]=\"properties.active\">\r\n              <nz-radio-group style=\"padding-left: 24px\" [(ngModel)]=\"properties.selectedValue\">\r\n                <label nz-radio *ngFor=\"let value of properties.value\" [nzValue]=\"value\">{{value}}</label>\r\n              </nz-radio-group>\r\n            </nz-collapse-panel>\r\n          </nz-collapse>\r\n        </div>\r\n      </div>\r\n      <!-- Mon phu -->\r\n      <div *ngIf=\"choiceFood.toppings && choiceFood.toppings.length\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\">\r\n          {{'Side dishes' | translate}}\r\n        </div>\r\n        <div nz-row class=\"option-modal\">\r\n          <div *ngFor=\"let item of choiceFood.toppings\" nz-col nzSpan=\"24\" class=\"items-food\">\r\n            <div nz-row style=\"width: 100%;\">\r\n              <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n                {{item.name |translate}} <br>\r\n              </div>\r\n              <div class=\"align-end text-align-center price-edit\"\r\n                style=\"display: flex;justify-content: space-evenly;align-items: flex-end;\" nz-col nzSpan=\"10\">\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity <= 0\"\r\n                  (click)=\"item.quantity = item.quantity - 1\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity > 0, 'btn-disabled': item.quantity <= 1}\">\r\n                  <i nz-icon nzType=\"minus\"></i>\r\n                </button>\r\n                <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\">\r\n                </nz-input-number>\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity > 9999999998\"\r\n                  (click)=\"item.quantity = item.quantity + 1\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity <= 9999999998, 'btn-disabled': item.quantity > 9999999998}\">\r\n                  <i nz-icon nzType=\"plus\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- chọn lô - hsd -->\r\n      <div *ngIf=\"choiceFood.lots\">\r\n        Chọn lô, hạn sử dụng của nguyên liệu\r\n        <nz-radio-group [(ngModel)]=\"choiceFood.id_lotproduct\" (ngModelChange)=\"changeLot($event)\"\r\n          style=\"width:100%;padding: 8px 0;\">\r\n          <div nz-row *ngFor=\"let item of choiceFood.lots\">\r\n            <div nz-col nzSpan=\"24\">\r\n              <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                <div nz-row>\r\n                  <div nz-col nzSpan=\"6\">\r\n                    {{item.lot_number}}\r\n                  </div>\r\n\r\n                  <div nz-col nzSpan=\"6\">\r\n                    NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                  </div>\r\n                  <div nz-col nzSpan=\"6\">\r\n                    HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                  </div>\r\n                  <div nz-col nzSpan=\"6\" class=\"ion-text-end\">\r\n                    {{'Stock' | translate}}:\r\n                    <span style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/choiceFood.ratio\r\n                      | number : '1.0-2'}}</span>\r\n                  </div>\r\n                </div>\r\n\r\n              </label>\r\n            </div>\r\n\r\n          </div>\r\n        </nz-radio-group>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #modalFooterSelectFood>\r\n    <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"selectFoodsCancel()\">\r\n      {{\"Cancel\" | translate}}\r\n    </button>\r\n    <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"chooseFood()\">{{\"Save\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProductWishlist1Component } from './product-wishlist1.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductWishlist1Component\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule\r\n  ],\r\n  exports: [\r\n    ProductWishlist1Component\r\n  ]\r\n})\r\nexport class ProductWishlist1Module { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-retail-info',\r\n  templateUrl: './retail-info.component.html',\r\n  styleUrls: ['./retail-info.component.scss']\r\n})\r\nexport class RetailInfoComponent implements OnInit {\r\n  @Input(\"showDrawerAddRetail\") showDrawerAddRetail: boolean = false;\r\n  @Input(\"retail_name\") retail_name: string = '';\r\n  @Input(\"retail_phone\") retail_phone: string = '';\r\n  @Input(\"retail_address\") retail_address: string = '';\r\n  @Output(\"closeAddCustomer\") closeAddCustomer = new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n  ngOnInit(): void {\r\n    this.initaddRetailForm()\r\n  }\r\n  addRetailForm: FormGroup;\r\n  close(success?) {\r\n    this.closeAddCustomer.emit(success ? this.addRetailForm.value : false);\r\n  }\r\n  initaddRetailForm() {\r\n    this.addRetailForm = new FormGroup({\r\n      retail_name: new FormControl(this.retail_name, Validators.compose([Validators.required])),\r\n      retail_phone: new FormControl(this.retail_phone, Validators.compose([Validators.required, Validators.minLength(6)])),\r\n      retail_address: new FormControl(this.retail_address),\r\n    });\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"400\" nzTitle='{{\"Add customer retail\" | translate}}'\r\n    [nzVisible]=\"showDrawerAddRetail\" [nzFooter]=\"footerAddRetail\" (nzOnClose)=\"close()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form nz-form [formGroup]=\"addRetailForm\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Name' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                        <nz-input-group>\r\n                            <input formControlName=\"retail_name\" nz-input\r\n                                placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n                            <ng-template #combineTplName let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Retail name is required' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                        <nz-input-group>\r\n                            <input class=\"phone\" formControlName=\"retail_phone\" type=\"tel\" nz-input\r\n                                placeholder=\"{{'Enter customer phone' | translate}}\" minlength=\"6\" required />\r\n                            <ng-template #combineTplPhone let-control>\r\n                                <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Address' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-input-group>\r\n                            <input formControlName=\"retail_address\" nz-input\r\n                                placeholder=\"{{'Enter address' | translate}}\" />\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerAddRetail>\r\n        <div class=\"footerAddRetail\" style=\"float: right\">\r\n            <button nz-button style=\"margin-right: 8px;\" (click)=\"close()\">{{\"Cancel\" | translate}}</button>\r\n            <button [disabled]=\"addRetailForm.invalid\" [ngStyle]=\"{opacity: addRetailForm.invalid ? 0.5 : 1}\" nz-button\r\n                (click)=\"close(true)\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, OnInit, Input, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-search-combo',\r\n  templateUrl: './search-combo.component.html',\r\n  styleUrls: ['./search-combo.component.scss'],\r\n})\r\nexport class SearchComboComponent implements OnInit {\r\n  @Input('showDrawerCombosList') showDrawerCombosList: boolean = true;\r\n  @Input() default_price_type: number;\r\n  @Output('closeSearchCombosList') closeSearchCombosList: EventEmitter<any> =\r\n    new EventEmitter();\r\n\r\n  public combosList: any[] = [];\r\n  choiceCombos: any = {};\r\n  public searchList: any[] = [];\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET('show_keyboard');\r\n  indexTab: number = 0;\r\n  list_menu: any = [];\r\n  listTabs: Array<any> = [\r\n    { _id: 'all', name: this.languageService.translate('All'), type: 1 },\r\n  ];\r\n  auto_hidden_lot: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .auto_hidden_lot;\r\n  auto_select_lot: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .auto_select_lot;\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private languageService: LanguageService\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.combosList = this.vhQueryCafe\r\n      .getlocalDetailProducts(5)\r\n      .filter((item) => !item.delete_hidden)\r\n      .map((e) => {\r\n        this.handleLotsOfCombo(e.combos.filter((lot) => lot.lots));\r\n        return {\r\n          ...e,\r\n          ...e.units[0],\r\n          combos: e.combos.map((pro) => {\r\n            return { ...pro, ptype: pro.type };\r\n          }),\r\n        };\r\n      });\r\n    this.combosList = this.vhAlgorithm.sortVietnamesebyASC(\r\n      this.combosList,\r\n      'name'\r\n    );\r\n\r\n    this.list_menu = this.vhQueryCafe\r\n      .getlocalCategorys()\r\n      .filter((item) => item.type == 5)\r\n      .map((e) => {\r\n        e.status = this.combosList.find((pro) => pro.id_category == e._id)\r\n          ? true\r\n          : false;\r\n        return { ...e };\r\n      });\r\n    this.listTabs = [\r\n      ...this.listTabs,\r\n      ...this.list_menu.filter((cate) => cate.status),\r\n    ];\r\n    this.searchList = this.combosList;\r\n  }\r\n\r\n  handleLotsOfCombo(combos) {\r\n    combos = this.vhAlgorithm.sortDatebyASC(combos, 'date_exp');\r\n    for (let i of combos) {\r\n      if (i.lots.length != 0) {\r\n        if (this.auto_hidden_lot)\r\n          i.lots = i.lots.filter(\r\n            (e) => new Date(e.date_exp).getTime() >= new Date().getTime()\r\n          );\r\n        let min_date_exp = this.vhAlgorithm.sortDatebyASC(i.lots, 'date_exp');\r\n        if (this.auto_select_lot && min_date_exp[0])\r\n          i['id_lotproduct'] = min_date_exp[0]._id;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    document.getElementById('inputSearchCombos').focus();\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n  goBack() {\r\n    this.closeSearchCombosList.emit(false);\r\n  }\r\n\r\n  tempVal: string = '';\r\n  searchCombos(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(tempVal, this.combosList, [\r\n        'name',\r\n      ]);\r\n    else this.searchList = this.combosList;\r\n  }\r\n\r\n  selectCombos(value) {\r\n    this.choiceCombos = {\r\n      ...value,\r\n      quantity: 1,\r\n      note: '',\r\n      price_origin: value.price,\r\n      price: value.price,\r\n    };\r\n\r\n    if (this.choiceCombos) {\r\n      this.showOptions = true;\r\n      setTimeout(() => {\r\n        this.editPrice['price-' + value._id] = this.vhAlgorithm.vhnumeral(\r\n          '.price-' + value._id\r\n        );\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  editPrice: any = {};\r\n  /**Thêm cleavejs chỉnh sửa giá món ăn */\r\n  updatePrice(item) {\r\n    let price = this.editPrice['price-' + item._id].getRawValue();\r\n    this.choiceCombos.price = price ? parseFloat(price) : 0;\r\n    this.choiceCombos.quantity =\r\n      this.choiceCombos.quantity > 0 ? this.choiceCombos.quantity : 1;\r\n  }\r\n\r\n  chooseCombos() {\r\n    this.showOptions = false;\r\n    if (this.choiceCombos['quantity']) {\r\n      this.choiceCombos['combos'] = this.choiceCombos['combos'].map((item) => {\r\n        return {\r\n          ...item,\r\n          id_category: this.vhQueryCafe.getlocalDetailProduct(\r\n            item.id_subproduct ? item.id_subproduct : item.id_product\r\n          ).id_category,\r\n        };\r\n      });\r\n      this.closeSearchCombosList.emit(this.choiceCombos);\r\n    }\r\n  }\r\n  showOptions: boolean = false;\r\n  selectFoodsCancel() {\r\n    this.showOptions = false;\r\n  }\r\n\r\n  changeTypeGood(event) {\r\n    this.indexTab = event;\r\n    let products = this.vhQueryCafe\r\n      .getlocalDetailProducts(5)\r\n      .filter((item) => !item.delete_hidden)\r\n      .map((e) => {\r\n        this.handleLotsOfCombo(e.combos.filter((lot) => lot.lots));\r\n        return {\r\n          ...e,\r\n          ...e.units[0],\r\n          combos: e.combos.map((pro) => {\r\n            return { ...pro, ptype: pro.type };\r\n          }),\r\n        };\r\n      });\r\n    if (event == 0) {\r\n      this.combosList = products;\r\n    } else {\r\n      this.combosList = products.filter(\r\n        (item) =>\r\n          item.id_category == this.listTabs[event]._id && !item.delete_hidden\r\n      );\r\n    }\r\n    this.searchCombos(this.tempVal);\r\n  }\r\n\r\n  changeUnit(ev, item) {\r\n    if (this.default_price_type == 1) {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price);\r\n      }\r\n    } else {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price2);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price2);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /** Tăng số lượng sản phẩm */\r\n  increaseQuantity(item){\r\n    if(item.quantity != '') item.quantity = parseFloat(item.quantity)\r\n    item.quantity = item.quantity + 1\r\n  }\r\n  /** Giảm số lượng sản phẩm */\r\n  reduceQuantity(item){\r\n    if(item.quantity != '') item.quantity = parseFloat(item.quantity)\r\n    item.quantity = item.quantity - 1\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzVisible]=\"showDrawerCombosList\" (nzOnClose)=\"goBack()\"\r\n  nzTitle=\"{{'Search for combos' | translate}}\">\r\n  <div *nzDrawerContent id=\"search-combos-popup\">\r\n    <div nz-row>\r\n      <div nz-col nzSpan=\"24\" class=\"search\">\r\n        <input id=\"inputSearchCombos\" class=\"nz-hover-border\" [(ngModel)]=\"tempVal\"\r\n          (ngModelChange)=\"searchCombos($event)\" [ngModelOptions]=\"{standalone: true}\" nz-input\r\n          placeholder=\"{{ 'Search for side dishes name, barcode' | translate}}\" [(appKeyboard)]=\"tempVal\"\r\n          [isKeyboardDirectiveActive]=\"show_keyboard\" (appKeyboardChange)=\"searchCombos($event)\" />\r\n      </div>\r\n    </div>\r\n    <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <nz-tabset (nzSelectedIndexChange)=\"changeTypeGood($event)\" [nzSelectedIndex]=\"indexTab\">\r\n          <nz-tab *ngFor=\"let tab of listTabs\" [nzTitle]=\"tab.name\"></nz-tab>\r\n        </nz-tabset>\r\n        <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n          <nz-list nzItemLayout=\"horizontal\">\r\n            <nz-list-item *ngFor=\"let item of searchList; trackBy: myTrackByFunction\" class=\"combos-item\"\r\n              (click)=\"selectCombos(item)\">\r\n              <nz-list-item-meta nzAvatar=\"{{item.img ? item.img : 'assets/icon/management/noimage.svg'}}\">\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{item.name}} ({{item.unit}})\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                  {{'Price' |translate}}:  <span style=\"color: var(--ion-color-vh-orange)\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n              </nz-list-item-meta>\r\n            </nz-list-item>\r\n            <nz-list-empty *ngIf=\"searchList.length === 0\" nzNoResult=\"{{'No data' | translate}}\">\r\n            </nz-list-empty>\r\n          </nz-list>\r\n        </cdk-virtual-scroll-viewport>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-drawer>\r\n\r\n<!-- ------------select combos---------- -->\r\n<nz-modal [(nzVisible)]=\"showOptions\" [nzFooter]=\"modalFooterSelectFood\" nzTitle=\"{{choiceCombos.name}}\" nzWidth=\"40vw\"\r\n  (nzOnCancel)=\"selectFoodsCancel()\" (nzOnOk)=\"chooseCombos()\">\r\n  <ng-container *nzModalContent>\r\n    <div class=\"ant-table-body\" style=\"max-height: 50vh; overflow-y: auto; overflow-x: hidden; padding: 0 8px\">\r\n      <div *ngIf=\"choiceCombos\" nz-row class=\"option-modal\">\r\n        <div nz-row style=\"width: 100%;\">\r\n          <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n            <input style=\"width: 90%;\" [ngClass]=\"'price-' + choiceCombos._id\" maxlength=\"15\" (blur)=\"updatePrice(choiceCombos)\"\r\n              [value]=\"vhAlgorithm.vhcurrencyunit(choiceCombos.price)\" nz-input placeholder=\"{{'Price' | translate}}\" />\r\n            <s *ngIf=\"choiceCombos.price_origin > choiceCombos.price\"\r\n              style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceCombos.price_origin)}}</s>\r\n          </div>\r\n          <div nz-col nzSpan=\"4\">\r\n            <nz-select style=\"width: 90%;\" [(ngModel)]=\"choiceCombos.ratio\" (ngModelChange)=\"changeUnit($event,choiceCombos)\">\r\n              <nz-option *ngFor=\"let i of choiceCombos.units\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div class=\"text-align-center price-edit\" nz-col nzSpan=\"6\" >\r\n            <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceCombos)\"\r\n              [(ngModel)]=\"choiceCombos.quantity\">\r\n            </nz-input-number>\r\n          </div>\r\n          <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n            {{vhAlgorithm.vhcurrencyunit(choiceCombos.price * choiceCombos.quantity)}}\r\n          </div>\r\n          <div class=\"align-center order-div-note1\" nz-col nzSpan=\"24\">\r\n            <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceCombos.note\" [ngModelOptions]=\"{standalone: true}\"\r\n              nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-template #modalFooterSelectFood>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"selectFoodsCancel()\">{{\"Cancel\"\r\n      |translate}}</button>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"chooseCombos()\">{{\"Add\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n","import { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchComboComponent } from './search-combo.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchComboComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    ScrollingModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    SearchComboComponent\r\n  ]\r\n})\r\nexport class SearchComboModule { }","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n@Component({\r\n  selector: 'app-search-product',\r\n  templateUrl: './search-product.component.html',\r\n  styleUrls: ['./search-product.component.scss'],\r\n})\r\nexport class SearchProductComponent implements OnInit {\r\n  @Input('showDrawerProductList') showDrawerProductList: boolean = true;\r\n  @Input() default_price_type: number;\r\n  @Output('closeSearchProductList') closeSearchProductList: EventEmitter<any> =\r\n    new EventEmitter();\r\n  public foodList: any[] = [];\r\n  public searchList: any[] = [];\r\n  public choiceFood: any = {};\r\n  list_menu: any = [];\r\n  listTabs: Array<any> = [\r\n    { _id: 'all', name: this.languageService.translate('All'), type: 1 },\r\n  ];\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET('show_keyboard');\r\n  indexTab: number = 0;\r\n  showOptions: boolean = false;\r\n  tempVal: string = '';\r\n  id_branch: string = this.vhQueryCafe.getDefaultBranch()._id;\r\n  auto_hidden_lot: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .auto_hidden_lot;\r\n  auto_select_lot: boolean =\r\n    this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch')\r\n      .auto_select_lot;\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private languageService: LanguageService\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.getMenu();\r\n  }\r\n  ngAfterViewInit() {\r\n    document.getElementById('inputSearchDishes').focus();\r\n  }\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n  goBack() {\r\n    this.closeSearchProductList.emit(false);\r\n  }\r\n\r\n  getMenu() {\r\n    let products = this.vhQueryCafe\r\n      .getlocalDetailProducts()\r\n      .filter((item) => item.type == 1 || item.type == 3)\r\n      .filter((item) => !item.delete_hidden)\r\n      .map((item) => {\r\n        let unit = this.vhQueryCafe.getUnit_byRatio(\r\n          item.units,\r\n          item.units.find((u) => u.default).ratio\r\n        );\r\n        return { ...item, ...unit };\r\n      });\r\n    this.foodList = products;\r\n\r\n    this.list_menu = this.vhQueryCafe\r\n      .getlocalCategorys()\r\n      .filter((item) => item.type == 1 || item.type == 3)\r\n      .map((e) => {\r\n        e.status = products.find((pro) => pro.id_category == e._id)\r\n          ? true\r\n          : false;\r\n        return { ...e };\r\n      });\r\n    this.listTabs = [\r\n      ...this.listTabs,\r\n      ...this.list_menu.filter((cate) => cate.status),\r\n    ];\r\n    this.searchList = this.foodList;\r\n  }\r\n\r\n  searchFood(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(tempVal, this.foodList, [\r\n        'name',\r\n      ]);\r\n    else this.searchList = [...this.foodList];\r\n  }\r\n\r\n  chooseProduct(item) {\r\n    this.closeSearchProductList.emit(item);\r\n  }\r\n\r\n  /** Chọn món ăn để xử lý\r\n   * @param value món ăn được chọn\r\n   */\r\n  selectFoods(value) {\r\n    this.choiceFood = {\r\n      toppings: JSON.parse(JSON.stringify(value.toppings || [])),\r\n      quantity: 1,\r\n      note: '',\r\n      price_origin: value.price,\r\n      name: value.name,\r\n      ptype: value.type,\r\n      properties: value.properties,\r\n      _id: value._id,\r\n      price: value.price,\r\n      ratio: 1,\r\n      units: value.units,\r\n    };\r\n    if (value.lot_number) this.choiceFood['lot_number'] = value.lot_number;\r\n    if (value.lots) this.choiceFood['lots'] = value.lots;\r\n    if (value.id_lotproduct)\r\n      this.choiceFood['id_lotproduct'] = value.id_lotproduct;\r\n    if (value.id_subproduct)\r\n      this.choiceFood.id_subproduct = value.id_subproduct;\r\n    // Lưu trữ các properties đã chon\r\n    if (this.choiceFood.properties) {\r\n      // sao chép mảng giá trị chọn\r\n      this.choiceFood.properties.forEach((element) => {\r\n        element.active = true;\r\n        element.selectedValue = element.value[0];\r\n      });\r\n    }\r\n    // Kiểm tra topping\r\n    if (this.choiceFood.toppings) {\r\n      for (let topping of this.choiceFood.toppings) {\r\n        let data = this.vhQueryCafe.getlocalDetailProduct(topping.id_product);\r\n        topping.quantity = topping.quantity;\r\n        topping.name = data.name;\r\n        topping.price_origin = data.units[0].price;\r\n        topping.price = 0;\r\n        topping.ratio = 1;\r\n        topping.ptype = 4;\r\n        topping._id = topping.id_product;\r\n      }\r\n    }\r\n    if (this.choiceFood.ptype == 3 && this.choiceFood.lots) {\r\n      this.choiceFood.lots = this.vhAlgorithm.sortDatebyASC(\r\n        this.choiceFood.lots,\r\n        'date_exp'\r\n      );\r\n      if (this.auto_hidden_lot)\r\n        this.choiceFood.lots = this.choiceFood.lots.filter(\r\n          (e) => new Date(e.date_exp).getTime() >= new Date().getTime()\r\n        );\r\n\r\n      let min_date_exp = this.vhAlgorithm.sortDatebyASC(\r\n        this.choiceFood.lots.filter(\r\n          (e) => new Date(e.date_exp).getTime() >= new Date().getTime()\r\n        ),\r\n        'date_exp'\r\n      );\r\n\r\n      if (min_date_exp.length) {\r\n        this.choiceFood['id_lotproduct'] = min_date_exp[0]._id;\r\n        this.choiceFood['lot_number'] = min_date_exp[0].lot_number;\r\n      }\r\n    }\r\n\r\n    if (this.choiceFood) {\r\n      this.showOptions = true;\r\n      setTimeout(() => {\r\n        this.editPrice['price-' + value._id] = this.vhAlgorithm.vhnumeral(\r\n          '.price-' + value._id\r\n        );\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  editPrice: any = {};\r\n  /**Thêm cleavejs chỉnh sửa giá món ăn */\r\n  updatePrice(item) {\r\n    let price = this.editPrice['price-' + item._id].getRawValue();\r\n    this.choiceFood.price = price ? parseFloat(price) : 0;\r\n    this.choiceFood.quantity =\r\n      this.choiceFood.quantity > 0 ? this.choiceFood.quantity : 1;\r\n  }\r\n\r\n  selectFoodsCancel() {\r\n    this.showOptions = false;\r\n  }\r\n\r\n  chooseFood() {\r\n    this.showOptions = false;\r\n    // if (this.choiceFood.toppings)\r\n    //   this.choiceFood.toppings = this.choiceFood.toppings.filter(\r\n    //     (item) => item.quantity\r\n    //   );\r\n    if (this.choiceFood.quantity)\r\n      this.closeSearchProductList.emit(this.choiceFood);\r\n  }\r\n\r\n  changeTypeGood(event) {\r\n    this.indexTab = event;\r\n    let products = this.vhQueryCafe\r\n      .getlocalDetailProducts()\r\n      .filter((item) => item.type == 1 || item.type == 3)\r\n      .filter((item) => !item.delete_hidden)\r\n      .map((item) => {\r\n        let unit = this.vhQueryCafe.getUnit_byRatio(\r\n          item.units,\r\n          item.units.find((u) => u.default).ratio\r\n        );\r\n        return { ...item, ...unit };\r\n      });\r\n    if (event == 0) {\r\n      this.foodList = products;\r\n    } else {\r\n      this.foodList = products.filter(\r\n        (item) =>\r\n          item.id_category == this.listTabs[event]._id && !item.delete_hidden\r\n      );\r\n    }\r\n    this.searchFood(this.tempVal);\r\n  }\r\n\r\n  changeUnit(ev, item) {\r\n    if (this.default_price_type == 1) {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price);\r\n      }\r\n    } else {\r\n      let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit;\r\n        item.price = parseFloat(unit.price2);\r\n        item.ratio = parseFloat(unit.ratio);\r\n        item.price_origin = parseFloat(unit.price2);\r\n      }\r\n    }\r\n  }\r\n  changeLot(e) {\r\n    this.choiceFood.lot_number = this.choiceFood.lots.find(\r\n      (item) => item._id == e\r\n    ).lot_number;\r\n  }\r\n\r\n  /** Tăng số lượng sản phẩm */\r\n  increaseQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity + 1;\r\n  }\r\n  /** Giảm số lượng sản phẩm */\r\n  reduceQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity - 1;\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzVisible]=\"showDrawerProductList\" (nzOnClose)=\"goBack()\"\r\n  nzTitle=\"{{'Search dishes/ beverage' | translate}}\">\r\n  <div *nzDrawerContent id=\"search-product-popup\">\r\n    <div nz-row>\r\n      <div nz-col nzSpan=\"24\" class=\"search\">\r\n        <input id=\"inputSearchDishes\" class=\"nz-hover-border\" [(ngModel)]=\"tempVal\" (ngModelChange)=\"searchFood($event)\"\r\n          [ngModelOptions]=\"{standalone: true}\" nz-input\r\n          placeholder=\"{{ 'Search for product name, barcode' | translate}}\" [(appKeyboard)]=\"tempVal\"\r\n          [isKeyboardDirectiveActive]=\"show_keyboard\" (appKeyboardChange)=\"searchFood($event)\" />\r\n      </div>\r\n    </div>\r\n    <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <nz-tabset (nzSelectedIndexChange)=\"changeTypeGood($event)\" [nzSelectedIndex]=\"indexTab\">\r\n          <nz-tab *ngFor=\"let tab of listTabs\" [nzTitle]=\"tab.name\"></nz-tab>\r\n        </nz-tabset>\r\n        <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n          <nz-list nzItemLayout=\"horizontal\">\r\n            <nz-list-item *ngFor=\"let item of searchList; trackBy: myTrackByFunction\" class=\"product-item\"\r\n              (click)=\"selectFoods(item)\">\r\n              <nz-list-item-meta nzAvatar=\"{{item.img ? item.img : 'assets/icon/management/noimage.svg'}}\">\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{item.name}} ({{item.unit}})\r\n                  </span>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black);  display: block;\">\r\n                    {{'Price' |translate}}:  <span style=\"color: var(--ion-color-vh-orange)\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                    </span>\r\n                  <span *ngIf=\"item.type== 3\" style=\"font-size: 0.75rem; display: block;\">\r\n                    {{'Stock'|translate}}:\r\n                    <span style=\"color: var(--ion-color-vh-orange)\">\r\n                      {{item.quantity_branch[id_branch]}}\r\n                      {{item.unit}}</span>\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n              </nz-list-item-meta>\r\n            </nz-list-item>\r\n            <nz-list-empty *ngIf=\"searchList.length === 0\" nzNoResult=\"{{'No data' | translate}}\">\r\n            </nz-list-empty>\r\n          </nz-list>\r\n        </cdk-virtual-scroll-viewport>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-drawer>\r\n\r\n\r\n<!-- ------------select food---------- -->\r\n<nz-modal [(nzVisible)]=\"showOptions\" [nzFooter]=\"modalFooterSelectFood\" nzTitle=\"{{choiceFood.name}}\"\r\n  (nzOnCancel)=\"selectFoodsCancel()\" (nzOnOk)=\"chooseFood()\" nzWidth=\"40vw\">\r\n  <ng-container *nzModalContent>\r\n    <div class=\"ant-table-body\" style=\"max-height: 50vh; overflow-y: auto; overflow-x: hidden; padding: 0 8px\">\r\n      <div *ngIf=\"choiceFood\" nz-row class=\"option-modal\">\r\n        <div nz-row style=\"width: 100%;\">\r\n          <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n            <input style=\"width: 90%;\" [ngClass]=\"'price-' + choiceFood._id\" maxlength=\"15\" (blur)=\"updatePrice(choiceFood)\"\r\n              [value]=\"vhAlgorithm.vhcurrencyunit(choiceFood.price)\" nz-input placeholder=\"{{'Price' | translate}}\" />\r\n            <s *ngIf=\"choiceFood.price_origin > choiceFood.price\"\r\n              style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceFood.price_origin)}}</s>\r\n          </div>\r\n          <div nz-col nzSpan=\"4\">\r\n            <nz-select style=\"width: 90%;\" [(ngModel)]=\"choiceFood.ratio\" (ngModelChange)=\"changeUnit($event,choiceFood)\">\r\n              <nz-option *ngFor=\"let i of choiceFood.units\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div class=\"text-align-center price-edit\" nz-col nzSpan=\"6\" >\r\n            <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceFood)\"\r\n              [(ngModel)]=\"choiceFood.quantity\">\r\n            </nz-input-number>\r\n          </div>\r\n          <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n            {{vhAlgorithm.vhcurrencyunit(choiceFood.price * choiceFood.quantity)}}\r\n          </div>\r\n          <div class=\"align-center order-div-note1\" nz-col nzSpan=\"24\">\r\n            <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceFood.note\" [ngModelOptions]=\"{standalone: true}\"\r\n              nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Thuoc tinh -->\r\n      <div *ngIf=\"choiceFood.properties && choiceFood.properties.length\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\">\r\n          {{'Properties' | translate}}\r\n        </div>\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\">\r\n          <nz-collapse nzGhost>\r\n            <nz-collapse-panel *ngFor=\"let properties of choiceFood.properties; let i = index\"\r\n              [nzHeader]=\"properties.name\" [nzActive]=\"properties.active\">\r\n              <nz-radio-group style=\"padding-left: 24px\" [(ngModel)]=\"properties.selectedValue\">\r\n                <label nz-radio *ngFor=\"let value of properties.value\" [nzValue]=\"value\">{{value}}</label>\r\n              </nz-radio-group>\r\n            </nz-collapse-panel>\r\n          </nz-collapse>\r\n        </div>\r\n      </div>\r\n      <!-- Mon phu -->\r\n      <div *ngIf=\"choiceFood.toppings && choiceFood.toppings.length\" nz-row class=\"option-modal\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\" style=\"padding: 16px 0; font-weight: bold;\">\r\n          {{'Side dishes' | translate}}\r\n        </div>\r\n        <div nz-row class=\"option-modal\">\r\n          <div *ngFor=\"let item of choiceFood.toppings\" nz-col nzSpan=\"24\" class=\"items-food\">\r\n            <div nz-row style=\"width: 100%; padding: 8px 0;\">\r\n              <div class=\"align-center price-edit\" nz-col nzSpan=\"7\">\r\n                {{item.name |translate}} <br>\r\n              </div>\r\n              <div class=\"align-end text-align-center price-edit\"\r\n                style=\"display: flex;justify-content: space-evenly;align-items: flex-end;\" nz-col nzSpan=\"10\">\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity <= 0\"\r\n                  (click)=\"reduceQuantity(item)\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity > 0, 'btn-disabled': item.quantity <= 0}\">\r\n                  <i nz-icon nzType=\"minus\"></i>\r\n                </button>\r\n                <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\">\r\n                </nz-input-number>\r\n                <button nz-button nzType=\"default\" [disabled]=\"item.quantity > 9999999998\"\r\n                  (click)=\"increaseQuantity(item)\"\r\n                  [ngClass]=\"{'btn-activate': item.quantity <= 9999999998, 'btn-disabled': item.quantity > 9999999998}\">\r\n                  <i nz-icon nzType=\"plus\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- chọn lô - hsd -->\r\n      <div *ngIf=\"choiceFood.lots\">\r\n        Chọn lô, hạn sử dụng của nguyên liệu\r\n        <nz-radio-group [(ngModel)]=\"choiceFood.id_lotproduct\" (ngModelChange)=\"changeLot($event)\"\r\n          style=\"width:100%;padding: 8px 0;\">\r\n          <div nz-row *ngFor=\"let item of choiceFood.lots\">\r\n            <div nz-col nzSpan=\"24\">\r\n              <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                <div nz-row>\r\n                  <div nz-col nzSpan=\"6\">\r\n                    {{item.lot_number}}\r\n                  </div>\r\n\r\n                  <div nz-col nzSpan=\"6\">\r\n                    NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                  </div>\r\n                  <div nz-col nzSpan=\"6\">\r\n                    HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                  </div>\r\n                  <div nz-col nzSpan=\"6\" class=\"ion-text-end\">\r\n                    {{'Stock' | translate}}:\r\n                    <span style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/choiceFood.ratio\r\n                      | number : '1.0-2'}}</span>\r\n                  </div>\r\n                </div>\r\n\r\n              </label>\r\n            </div>\r\n\r\n          </div>\r\n        </nz-radio-group>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #modalFooterSelectFood>\r\n    <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"selectFoodsCancel()\">\r\n      {{\"Cancel\" | translate}}\r\n    </button>\r\n    <button *ngIf=\"!choiceFood.manysize || choiceFood.subs.length\" nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"chooseFood()\">{{\"Save\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n","import { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchProductComponent } from './search-product.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchProductComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    ScrollingModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    SearchProductComponent\r\n  ]\r\n})\r\nexport class SearchProductModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'app-search-service',\r\n  templateUrl: './search-service.component.html',\r\n  styleUrls: ['./search-service.component.scss'],\r\n})\r\nexport class SearchServiceComponent implements OnInit {\r\n  @Input('showDrawerServiceList') showDrawerServiceList: boolean = true;\r\n  @Input() default_price_type: number;\r\n\r\n  @Output('closeSearchServiceList') closeSearchServiceList: EventEmitter<any> = new EventEmitter();\r\n\r\n  public serviceList: any[] = [];\r\n  choiceService: any = {};\r\n  public searchList: any[] = [];\r\n  list_menu: any = [];\r\n  listTabs: Array<any> = [{ _id: 'all', name: 'All', type: 1 }];\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET('show_keyboard');\r\n  indexTab: number = 0;\r\n\r\n  public VhType = VhType;\r\n\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth\r\n  ) {}\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.serviceList = this.vhQueryCafe\r\n      .getlocalDetailProducts(VhType.SERVICE_SERVICETIME)\r\n      .filter((item) => !item.delete_hidden)\r\n      .map((e) => {\r\n        return { ...e, ...e.units[0] };\r\n      });\r\n\r\n    this.serviceList = this.vhAlgorithm.sortVietnamesebyASC(\r\n      this.serviceList,\r\n      'name'\r\n    );\r\n\r\n    this.list_menu = this.vhQueryCafe.getlocalCategorys(VhType.SERVICE).map((e) => {\r\n      e.status = this.serviceList.find((pro) => pro.id_category == e._id)\r\n        ? true\r\n        : false;\r\n      return { ...e };\r\n    });\r\n\r\n    this.listTabs = [\r\n      ...this.listTabs,\r\n      ...this.list_menu.filter((cate) => cate.status),\r\n    ];\r\n\r\n    this.searchList = this.serviceList;\r\n  }\r\n\r\n\r\n\r\n  ngAfterViewInit() {\r\n    document.getElementById('inputSearchService').focus();\r\n  }\r\n\r\n\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n\r\n\r\n  goBack() {\r\n    this.closeSearchServiceList.emit(false);\r\n  }\r\n\r\n\r\n\r\n  tempVal: string = '';\r\n  searchService(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length) this.searchList = this.vhAlgorithm.searchList(tempVal, this.serviceList, [ 'name']);\r\n    else this.searchList = this.serviceList;\r\n  }\r\n\r\n\r\n\r\n  selectService(value) {\r\n    this.choiceService = {\r\n      ...value,\r\n      quantity: 1,\r\n      note: '',\r\n      price_origin: value.price,\r\n      price: value.price,\r\n    };\r\n\r\n    if (this.choiceService) {\r\n      if (value.type !== VhType.SERVICETIME) {\r\n        this.showOptions = true;\r\n        setTimeout(() => {\r\n          this.editPrice['price-' + value._id] = this.vhAlgorithm.vhnumeral('.price-' + value._id);\r\n        }, 200);\r\n      }\r\n      else {\r\n        this.closeSearchServiceList.emit(this.choiceService);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  editPrice: any = {};\r\n  /**Thêm cleavejs chỉnh sửa giá món ăn */\r\n  updatePrice(item) {\r\n    let price = this.editPrice['price-' + item._id].getRawValue();\r\n    this.choiceService.price = price ? parseFloat(price) : 0;\r\n    this.choiceService.quantity = this.choiceService.quantity > 0 ? this.choiceService.quantity : 1;\r\n  }\r\n\r\n\r\n\r\n  chooseService() {\r\n    this.showOptions = false;\r\n    if (this.choiceService['quantity']) {\r\n      this.closeSearchServiceList.emit(this.choiceService);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  changeTypeGood(event) {\r\n    this.indexTab = event;\r\n    if (event == 0) {\r\n      this.serviceList = this.vhQueryCafe\r\n        .getlocalProducts(VhType.SERVICE_SERVICETIME)\r\n        .filter((item) => !item.delete_hidden);\r\n    } \r\n    else {\r\n      this.serviceList = this.vhQueryCafe\r\n        .getlocalProducts(VhType.SERVICE_SERVICETIME)\r\n        .filter(\r\n          (item) => item.id_category == this.listTabs[event]._id && !item.delete_hidden\r\n        );\r\n    }\r\n    this.searchService(this.tempVal);\r\n  }\r\n\r\n\r\n\r\n  showOptions: boolean = false;\r\n  selectFoodsCancel() {\r\n    this.showOptions = false;\r\n  }\r\n\r\n\r\n\r\n  /** Tăng số lượng sản phẩm */\r\n  increaseQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity + 1;\r\n  }\r\n\r\n\r\n\r\n  /** Giảm số lượng sản phẩm */\r\n  reduceQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity - 1;\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzVisible]=\"showDrawerServiceList\" (nzOnClose)=\"goBack()\"\r\n  nzTitle=\"{{'Search for service' | translate}}\">\r\n  <div *nzDrawerContent id=\"search-service-popup\">\r\n    <div nz-row>\r\n      <div nz-col nzSpan=\"24\" class=\"search\">\r\n        <input id=\"inputSearchService\" class=\"nz-hover-border\" [(ngModel)]=\"tempVal\"\r\n          (ngModelChange)=\"searchService($event)\" [ngModelOptions]=\"{standalone: true}\" nz-input\r\n          placeholder=\"{{ 'Search for service name, barcode' | translate}}\" [(appKeyboard)]=\"tempVal\"\r\n          [isKeyboardDirectiveActive]=\"show_keyboard\" (appKeyboardChange)=\"searchService($event)\" />\r\n      </div>\r\n    </div>\r\n    <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <nz-tabset (nzSelectedIndexChange)=\"changeTypeGood($event)\" [nzSelectedIndex]=\"indexTab\">\r\n          <nz-tab *ngFor=\"let tab of listTabs\" nzTitle=\"{{tab.name | translate}}\"></nz-tab>\r\n        </nz-tabset>\r\n        <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n          <nz-list nzItemLayout=\"horizontal\">\r\n            <nz-list-item *ngFor=\"let item of searchList; trackBy: myTrackByFunction\" class=\"service-item\"\r\n              (click)=\"selectService(item)\">\r\n              <nz-list-item-meta nzAvatar=\"{{item.img ? item.img : 'assets/icon/management/noimage.svg'}}\">\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{item.name}} \r\n                    <ng-container *ngIf=\"item.type !== VhType.SERVICETIME\">({{item.unit}})</ng-container>\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{'Price' |translate}}: <span\r\n                      style=\"color: var(--ion-color-vh-orange)\">{{vhAlgorithm.vhcurrencyunit(item.price)}} <ng-container *ngIf=\"item.type === VhType.SERVICETIME\"> / {{item.unit | translate}}</ng-container></span>\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n              </nz-list-item-meta>\r\n            </nz-list-item>\r\n            <nz-list-empty *ngIf=\"searchList.length === 0\" nzNoResult=\"{{'No data' | translate}}\">\r\n            </nz-list-empty>\r\n          </nz-list>\r\n        </cdk-virtual-scroll-viewport>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-drawer>\r\n\r\n<!-- ------------select service---------- -->\r\n<nz-modal [(nzVisible)]=\"showOptions\" [nzFooter]=\"modalFooterSelectFood\" nzTitle=\"{{choiceService.name}}\"\r\n  (nzOnCancel)=\"selectFoodsCancel()\" (nzOnOk)=\"chooseService()\">\r\n  <ng-container *nzModalContent>\r\n    <div *ngIf=\"!choiceService.manysize\" nz-row class=\"option-modal\">\r\n      <div nz-row style=\"width: 100%;\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"7\">\r\n          <input [ngClass]=\"'price-' + choiceService._id\" maxlength=\"15\" (blur)=\"updatePrice(choiceService)\"\r\n            [value]=\"vhAlgorithm.vhcurrencyunit(choiceService.price)\" nz-input placeholder=\"{{'Price' | translate}}\" />\r\n          <s *ngIf=\"choiceService.price_origin > choiceService.price\"\r\n            style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceService.price_origin)}}</s>\r\n        </div>\r\n        <div class=\"text-align-center\" nz-col nzSpan=\"10\"\r\n          style=\"display: flex;justify-content: space-evenly;align-items: center;\">\r\n          <button nz-button nzType=\"default\" [disabled]=\"choiceService.quantity <= 1\"\r\n            (click)=\"reduceQuantity(choiceService)\"\r\n            [ngClass]=\"{'btn-activate': choiceService.quantity > 0, 'btn-disabled': choiceService.quantity <= 1}\">\r\n            <i nz-icon nzType=\"minus\"></i>\r\n          </button>\r\n          <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceService)\"\r\n            [(ngModel)]=\"choiceService.quantity\">\r\n          </nz-input-number>\r\n          <button nz-button nzType=\"default\" [disabled]=\"choiceService.quantity > 9999999998\"\r\n            (click)=\"increaseQuantity(choiceService)\"\r\n            [ngClass]=\"{'btn-activate': choiceService.quantity <= 9999999998, 'btn-disabled': choiceService.quantity > 9999999998}\">\r\n            <i nz-icon nzType=\"plus\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n          {{vhAlgorithm.vhcurrencyunit(choiceService.price * choiceService.quantity)}}\r\n        </div>\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\">\r\n          <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceService.note\" [ngModelOptions]=\"{standalone: true}\"\r\n            nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-template #modalFooterSelectFood>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"selectFoodsCancel()\">{{\"Cancel\"\r\n      |translate}}</button>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"chooseService()\">{{\"Add\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n","import { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchServiceComponent } from './search-service.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchServiceComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    ScrollingModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    SearchServiceComponent\r\n  ]\r\n})\r\nexport class SearchServiceModule { }\r\n","import { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-search-topping',\r\n  templateUrl: './search-topping.component.html',\r\n  styleUrls: ['./search-topping.component.scss'],\r\n})\r\nexport class SearchToppingComponent implements OnInit {\r\n  @Input('showDrawerSideDishesList') showDrawerSideDishesList: boolean = true;\r\n  @Input() default_price_type: number;\r\n\r\n  @Output('closeSearchSideDishesList')\r\n  closeSearchSideDishesList: EventEmitter<any> = new EventEmitter();\r\n\r\n  public sideDishesList: any[] = [];\r\n  choiceSideDishes: any = {};\r\n  public searchList: any[] = [];\r\n  indexTab: number = 0;\r\n  list_menu: any = [];\r\n  listTabs: Array<any> = [\r\n    { _id: 'all', name: this.languageService.translate('All'), type: 1 },\r\n  ];\r\n  // bien kiểm tra show bàn phím ảo hay ko\r\n  show_keyboard: boolean = this.vhAuth.localStorageGET('show_keyboard');\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private languageService: LanguageService\r\n  ) {}\r\n  ngOnInit(): void {\r\n    this.sideDishesList = this.vhQueryCafe\r\n      .getlocalProducts()\r\n      .filter((item) => !item.delete_hidden && item.type == 4)\r\n      .map((e) => {\r\n        return { ...e, ...e.units[0] };\r\n      });\r\n    this.sideDishesList = this.vhAlgorithm.sortVietnamesebyASC(\r\n      this.sideDishesList,\r\n      'name'\r\n    );\r\n\r\n    this.list_menu = this.vhQueryCafe\r\n      .getlocalCategorys()\r\n      .filter((item) => item.type == 4)\r\n      .map((e) => {\r\n        e.status = this.sideDishesList.find((pro) => pro.id_category == e._id)\r\n          ? true\r\n          : false;\r\n        return { ...e };\r\n      });\r\n    this.listTabs = [\r\n      ...this.listTabs,\r\n      ...this.list_menu.filter((cate) => cate.status),\r\n    ];\r\n    this.searchList = this.sideDishesList;\r\n  }\r\n  ngAfterViewInit() {\r\n    document.getElementById('inputSearchSideDishes').focus();\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n  goBack() {\r\n    this.closeSearchSideDishesList.emit(false);\r\n  }\r\n\r\n  tempVal: string = '';\r\n  searchSideDishes(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(\r\n        tempVal,\r\n        this.sideDishesList,\r\n        ['name']\r\n      );\r\n    else this.searchList = this.sideDishesList;\r\n  }\r\n  selectSideDishes(value) {\r\n    this.choiceSideDishes = {\r\n      ...value,\r\n      quantity: 1,\r\n      note: '',\r\n      price_origin: value.price,\r\n      price: value.price,\r\n    };\r\n\r\n    if (this.choiceSideDishes) {\r\n      this.showOptions = true;\r\n      setTimeout(() => {\r\n        this.editPrice['price-' + value._id] = this.vhAlgorithm.vhnumeral(\r\n          '.price-' + value._id\r\n        );\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  editPrice: any = {};\r\n  /**Thêm cleavejs chỉnh sửa giá món ăn */\r\n  updatePrice(item) {\r\n    let price = this.editPrice['price-' + item._id].getRawValue();\r\n    this.choiceSideDishes.price = price ? parseFloat(price) : 0;\r\n    this.choiceSideDishes.quantity =\r\n      this.choiceSideDishes.quantity > 0 ? this.choiceSideDishes.quantity : 1;\r\n  }\r\n\r\n  chooseSideDishes() {\r\n    this.showOptions = false;\r\n    if (this.choiceSideDishes['quantity']) {\r\n      this.closeSearchSideDishesList.emit(this.choiceSideDishes);\r\n    }\r\n  }\r\n\r\n  showOptions: boolean = false;\r\n  selectFoodsCancel() {\r\n    this.showOptions = false;\r\n  }\r\n\r\n  changeTypeGood(event) {\r\n    this.indexTab = event;\r\n    let products = this.vhQueryCafe\r\n      .getlocalDetailProducts()\r\n      .filter((item) => !item.delete_hidden && item.type == 4)\r\n      .map((item) => {\r\n        let unit = this.vhQueryCafe.getUnit_byRatio(\r\n          item.units,\r\n          item.units.find((u) => u.default).ratio\r\n        );\r\n        return { ...item, ...unit };\r\n      });\r\n    if (event == 0) {\r\n      this.sideDishesList = products;\r\n    } else {\r\n      this.sideDishesList = products.filter(\r\n        (item) =>\r\n          item.id_category == this.listTabs[event]._id && !item.delete_hidden\r\n      );\r\n    }\r\n    this.searchSideDishes(this.tempVal);\r\n  }\r\n\r\n  /** Tăng số lượng sản phẩm */\r\n  increaseQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity + 1;\r\n  }\r\n  /** Giảm số lượng sản phẩm */\r\n  reduceQuantity(item) {\r\n    if (item.quantity != '') item.quantity = parseFloat(item.quantity);\r\n    item.quantity = item.quantity - 1;\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"500\" [nzVisible]=\"showDrawerSideDishesList\" (nzOnClose)=\"goBack()\"\r\n  nzTitle=\"{{'Search for side dishes' | translate}}\">\r\n  <div *nzDrawerContent id=\"search-side-dishes-popup\">\r\n    <div nz-row>\r\n      <div nz-col nzSpan=\"24\" class=\"search\">\r\n        <input id=\"inputSearchSideDishes\" class=\"nz-hover-border\" [(ngModel)]=\"tempVal\"\r\n          (ngModelChange)=\"searchSideDishes($event)\" [ngModelOptions]=\"{standalone: true}\" nz-input\r\n          placeholder=\"{{ 'Search for side dishes name, barcode' | translate}}\" [(appKeyboard)]=\"tempVal\"\r\n          [isKeyboardDirectiveActive]=\"show_keyboard\" (appKeyboardChange)=\"searchSideDishes($event)\" />\r\n      </div>\r\n    </div>\r\n    <div nz-row style=\"height: calc(100% - 35px); padding: 8px 0\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <nz-tabset (nzSelectedIndexChange)=\"changeTypeGood($event)\" [nzSelectedIndex]=\"indexTab\">\r\n          <nz-tab *ngFor=\"let tab of listTabs\" nzTitle=\"{{tab.name | translate}}\"></nz-tab>\r\n        </nz-tabset>\r\n        <cdk-virtual-scroll-viewport [itemSize]=\"56\" class=\"infinite-container ant-table-body\">\r\n          <nz-list nzItemLayout=\"horizontal\">\r\n            <nz-list-item *ngFor=\"let item of searchList; trackBy: myTrackByFunction\" class=\"side-dishes-item\"\r\n              (click)=\"selectSideDishes(item)\">\r\n              <nz-list-item-meta nzAvatar=\"{{item.img ? item.img : 'assets/icon/management/noimage.svg'}}\">\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{item.name}} ({{item.unit}})\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n                <nz-list-item-meta-title>\r\n                  <span style=\"font-size: 0.9rem; color: var(--ion-color-vh-black)\">\r\n                    {{'Price' |translate}}: <span\r\n                      style=\"color: var(--ion-color-vh-orange)\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                  </span>\r\n                </nz-list-item-meta-title>\r\n              </nz-list-item-meta>\r\n            </nz-list-item>\r\n            <nz-list-empty *ngIf=\"searchList.length === 0\" nzNoResult=\"{{'No data' | translate}}\">\r\n            </nz-list-empty>\r\n          </nz-list>\r\n        </cdk-virtual-scroll-viewport>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-drawer>\r\n\r\n<!-- ------------select sideDishes---------- -->\r\n<nz-modal [(nzVisible)]=\"showOptions\" [nzFooter]=\"modalFooterSelectFood\" nzTitle=\"{{choiceSideDishes.name}}\"\r\n  (nzOnCancel)=\"selectFoodsCancel()\" (nzOnOk)=\"chooseSideDishes()\">\r\n  <ng-container *nzModalContent>\r\n    <div *ngIf=\"!choiceSideDishes.manysize\" nz-row class=\"option-modal\">\r\n      <div nz-row style=\"width: 100%;\">\r\n        <div class=\"align-center\" nz-col nzSpan=\"7\">\r\n          <input [ngClass]=\"'price-' + choiceSideDishes._id\" maxlength=\"15\" (blur)=\"updatePrice(choiceSideDishes)\"\r\n            [value]=\"vhAlgorithm.vhcurrencyunit(choiceSideDishes.price)\" nz-input\r\n            placeholder=\"{{'Price' | translate}}\" />\r\n          <s *ngIf=\"choiceSideDishes.price_origin > choiceSideDishes.price\"\r\n            style=\"font-size: 0.8rem;\">{{vhAlgorithm.vhcurrencyunit(choiceSideDishes.price_origin)}}</s>\r\n        </div>\r\n        <div class=\"text-align-center\" nz-col nzSpan=\"10\"\r\n          style=\"display: flex;justify-content: space-evenly;align-items: center;\">\r\n          <button nz-button nzType=\"default\" [disabled]=\"choiceSideDishes.quantity <= 1\"\r\n            (click)=\"reduceQuantity(choiceSideDishes)\"\r\n            [ngClass]=\"{'btn-activate': choiceSideDishes.quantity > 0, 'btn-disabled': choiceSideDishes.quantity <= 1}\">\r\n            <i nz-icon nzType=\"minus\"></i>\r\n          </button>\r\n          <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"1\" [nzStep]=\"1\" (blur)=\"updatePrice(choiceSideDishes)\"\r\n            [(ngModel)]=\"choiceSideDishes.quantity\">\r\n          </nz-input-number>\r\n          <button nz-button nzType=\"default\" [disabled]=\"choiceSideDishes.quantity > 9999999998\"\r\n            (click)=\"increaseQuantity(choiceSideDishes)\"\r\n            [ngClass]=\"{'btn-activate': choiceSideDishes.quantity <= 9999999998, 'btn-disabled': choiceSideDishes.quantity > 9999999998}\">\r\n            <i nz-icon nzType=\"plus\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"align-center text-align-right\" nz-col nzSpan=\"7\">\r\n          {{vhAlgorithm.vhcurrencyunit(choiceSideDishes.price * choiceSideDishes.quantity)}}\r\n        </div>\r\n        <div class=\"align-center\" nz-col nzSpan=\"24\">\r\n          <input class=\"order-note\" nzBorderless [(ngModel)]=\"choiceSideDishes.note\"\r\n            [ngModelOptions]=\"{standalone: true}\" nz-input placeholder=\"{{ 'Enter note' | translate}}\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-template #modalFooterSelectFood>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"selectFoodsCancel()\">{{\"Cancel\"\r\n      |translate}}</button>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"chooseSideDishes()\">{{\"Add\" | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n","import { KeyboardModule } from './../../../../../../../keyboard/keyboard.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchToppingComponent } from './search-topping.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchToppingComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    ScrollingModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    SearchToppingComponent\r\n  ]\r\n})\r\nexport class SearchToppingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, CanDeactivate, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nexport interface CheckDeactivate {\r\n    checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree;\r\n}\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class CanLeavePage implements CanDeactivate<CheckDeactivate> {\r\n    canDeactivate(component: CheckDeactivate, currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n        return component.checkDeactivate(currentRoute, currentState, nextState);\r\n    }\r\n}"],"names":[],"sourceRoot":"webpack:///"}