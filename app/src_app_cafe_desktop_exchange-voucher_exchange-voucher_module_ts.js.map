{"version":3,"file":"src_app_cafe_desktop_exchange-voucher_exchange-voucher_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/exchange-voucher/config-print/config-print.component.ts","./src/app/cafe/desktop/exchange-voucher/config-print/config-print.component.html","./src/app/cafe/desktop/exchange-voucher/exchange-voucher.component.ts","./src/app/cafe/desktop/exchange-voucher/exchange-voucher.component.html","./src/app/cafe/desktop/exchange-voucher/exchange-voucher.module.ts"],"sourcesContent":["\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service'; import { ExchangeVoucherK57Col3Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k57-col3/exchange-voucher-k57-col3.component';\r\nimport { ExchangeVoucherK80Col3Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k80-col3/exchange-voucher-k80-col3.component';\r\nimport { ExchangeVoucherA5Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-a5/exchange-voucher-a5.component';\r\nimport { ExchangeVoucherK80Col4Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k80-col4/exchange-voucher-k80-col4.component';\r\nimport { ExchangeVoucherA4Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-a4/exchange-voucher-a4.component';\r\nimport { VhSaleExchangeVoucherInvoices } from 'src/app/cafe/interface/vh-sale-voucher-invoice';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n \r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQueryCafe.getLocalPrintPage(\"page_desktop_exchange_voucher\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() { \r\n  }\r\n  \r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  \r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  addPrinter() { \r\n    this.vhComponent.showLoading('').then(() => { \r\n      this.vhQueryCafe.addPrintPage('page_desktop_exchange_voucher',{...this.exchange_voucher} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0] \r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n \r\n  // dữ liệu dùng để thêm máy in\r\n  \r\n  exchange_voucher = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_exchange_voucher',\r\n    print_sizes: [{\r\n      _id: 'print_size_a4',\r\n      name: 'A4',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_a5',\r\n      name: 'A5',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_k80_4c',\r\n      name: 'K80 - 4 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k80_3c',\r\n      name: 'K80 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k57_3c',\r\n      name: 'K57 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    }\r\n    ]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQueryCafe.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    let invoice = new VhSaleExchangeVoucherInvoices(this.tempBillSalesVoucher, this.bill_details_ExchangeVoucher);\r\n        this.vhComponent.showModal(this.renderPrintPageExchangeVoucher(this.printer.print_size_default), { printer: this.item, invoice: invoice }, false, false, `modal-print-${this.printer.print_size_default}`)\r\n  }\r\n  \r\n  private renderPrintPageExchangeVoucher(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangeVoucherK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangeVoucherK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangeVoucherK80Col4Component\r\n      case 'print_size_a5': return ExchangeVoucherA5Component\r\n      case 'print_size_a4': return ExchangeVoucherA4Component\r\n      default: return ExchangeVoucherA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- dữ liệu mẫu --------- */\r\n \r\n  // bán voucher\r\n  tempBillSalesVoucher: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 40,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"Đây là hoá đơn in thử...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n  }\r\n\r\n  bill_details_SalesVoucher = [\r\n    {\r\n      name: \"Voucher mùa hè rực rỡ\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_voucher: \"dwYfCEHUerZTutzv45CV\",\r\n      id_voucher_code: \"QdZ350rrnaNL8676l0QA\",\r\n      price: 191000,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          quantity: 1,\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n  ]\r\n\r\n  bill_details_ExchangeVoucher = [\r\n    {\r\n      name_voucher: \"Voucher mùa hè rực rỡ\",\r\n      name_voucher_release: \"Sự kiện tháng 7\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_voucher: \"dwYfCEHUerZTutzv45CV\",\r\n      id_voucher_code: \"QdZ350rrnaNL8676l0QA\",\r\n      date_validity: new Date(),\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n    {\r\n      name_voucher: \"Voucher mùa hè rực rỡ 3\",\r\n      name_voucher_release: \"Sự kiện tháng 7\",\r\n      code: \"CLMMST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_voucher: \"dwYfCEHUerZTutzv45CV\",\r\n      id_voucher_code: \"QdZ350rrnaNL8676l0QA\",\r\n      date_validity: new Date(),\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n          ratio: 2,\r\n          ptype: 1\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n  ]\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Configure voucher exchange print page' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    \r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhBillType41Add } from 'src/app/cafe/components/bill-type/bill-type-41/bill-type41-interface';\r\nimport { ExchangeVoucherK57Col3Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k57-col3/exchange-voucher-k57-col3.component';\r\nimport { ExchangeVoucherK80Col3Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k80-col3/exchange-voucher-k80-col3.component';\r\nimport { ExchangeVoucherK80Col4Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-k80-col4/exchange-voucher-k80-col4.component';\r\nimport { ExchangeVoucherA5Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-a5/exchange-voucher-a5.component';\r\nimport { ExchangeVoucherA4Component } from 'src/app/cafe/components/print/exchange-voucher/exchange-voucher-a4/exchange-voucher-a4.component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-exchange-voucher',\r\n  templateUrl: './exchange-voucher.component.html',\r\n  styleUrls: ['./exchange-voucher.component.scss']\r\n})\r\nexport class ExchangeVoucherComponent implements OnInit {\r\n  @ViewChild('keySearch') keySearch: ElementRef;\r\n  /**Xử lý branches */\r\n  public branchList: Array<any> = []                      // Danh sách chi nhánh\r\n  public branchDefault: any = {};                         // Chi nhánh mặc định\r\n  public user: any = this.vhAuth.getUser()                // thông tin tài khoản hiện tại\r\n  public dateCurrent: Date = new Date;                   // Ngày hiện tại\r\n  public listVoucherAccepct: any[] = []                    // danh sách voucher đủ điều kiện\r\n  public codeVoucher: string;                             // Mã voucher vừa chọn\r\n  public listShow: any[] = []\r\n  public heightScroll: string;                            // Chiiều dài sroll\r\n  public modalAccountInfo: boolean = false;               // show/hide moal thông tin tài khoản\r\n  public showConfig = false;                              // biến show modal cấu hình\r\n  public showConfigPrint = false;                         // biến show modal cấu hình may in\r\n  public showConfigSales = false;                         // biến show modal cấu hình trang bán hàng\r\n  public checkPrinter: boolean = true;\r\n  isVisible: boolean = false;\r\n  public invoice: VhBillType41Add = {\r\n    bill_type: 41,\r\n    date: new Date(),\r\n    id_branch: this.vhQueryCafe.getDefaultBranch()._id,\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    note: '',\r\n    tax: 0\r\n  };\r\n  customer: any;\r\n  public employee: any = {};\r\n  public listVoucher: any;                                // Danh sách voucher\r\n  public billDetails: any[];\r\n  templates: { name: string; url: string; giai_thich: string; }[] = [];\r\n  store_main_sector = '';\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n\r\n  constructor(\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAuth: VhAuth,\r\n    private vhQuery: VhQuery,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    public router: Router,\r\n    public cdRef: ChangeDetectorRef,\r\n    private nzModalService: NzModalService,\r\n    private http: HttpClient,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.customer = this.vhQueryCafe.getlocalCustomer(this.invoice.id_customer);\r\n    this.employee = this.vhAuth.getlocalEmployee(this.invoice.id_employee);\r\n    this.vhQueryCafe.getVouchers().then((arr) => {\r\n      this.listVoucher = arr\r\n    }, error => {\r\n      console.log('error', error);\r\n    })\r\n\r\n    this.store_main_sector = this.vhAuth.getStore().main_sector; // Lấy main_sector của cửa hàng\r\n    this.http.get(`assets/documents/configuration/template/${this.country_code}/${this.store_main_sector}.json`).subscribe((templates) => {\r\n      this.templates = templates[this.language];\r\n    }); // Lấy giao diện theo main_sector của cửa hàng\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#exchange-voucher\") &&\r\n      document.querySelector(\".ant-table-thead\") &&\r\n      document.querySelector(\".button\") &&\r\n      document.querySelector(\".header-content\")) {\r\n      this.heightScroll =\r\n        document.querySelector(\"#exchange-voucher\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".button\").clientHeight -\r\n        document.querySelector(\".header-content\").clientHeight - 80 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n  // Xử lí dùng voucher\r\n  useVoucher(code_voucher: string) {\r\n    this.tempDetail = []\r\n    if (!this.listVoucherAccepct.find(item => item.code == code_voucher)) {\r\n      this.vhComponent.showLoading('')\r\n        .then(() => {\r\n          this.vhQueryCafe.getVoucher_Code_Name_Release_byCode(code_voucher).then((voucherCode: any) => {\r\n            console.log('getVoucher_Code_Name_Release_byCode', voucherCode);\r\n            if (voucherCode) {\r\n              switch (voucherCode.status) {\r\n                case 1: {\r\n                  this.vhComponent.hideLoading(0);\r\n                  this.vhComponent.alertMessageDesktop('error', this.languageService.translate('Voucher chưa bán !'));\r\n                  break;\r\n                }\r\n                case 4: {\r\n                  this.vhComponent.hideLoading(0);\r\n                  this.vhComponent.alertMessageDesktop('error', this.languageService.translate('Voucher đã được sử dụng !'));\r\n                  break;\r\n                }\r\n                default: {\r\n                  if (this.dateCurrent > new Date(voucherCode.date_expire)) {\r\n                    this.vhComponent.hideLoading(0)\r\n                    this.vhComponent.alertMessageDesktop('error', this.languageService.translate('Voucher đã hết hạn !'));\r\n                    break;\r\n                  } else {\r\n                    this.vhComponent.hideLoading(0);\r\n                    this.listVoucherAccepct = this.listVoucherAccepct.concat(voucherCode);\r\n                    this.listShow = this.listVoucherAccepct;\r\n                    // check xem products có sp có lots hay ko\r\n                    if (voucherCode['products'].filter(pro => pro.ptype == 1 && pro.lots && pro.lots.length).length) {\r\n                      console.log('sp có lots');\r\n                      this.show_modal_select_lots_combo = true;\r\n                      this.tempDetail = this.tempDetail.concat(voucherCode['products'].filter(pro => pro.lots && pro.lots.length))\r\n                    }\r\n\r\n                    // check trong products có combo có lots ko\r\n                    for (let i of voucherCode['products'].filter(pro => pro.ptype == 5)) {\r\n                      if (i.combos.filter(e => e.lots && e.lots.length).length) this.tempDetail.push(i)\r\n                    }\r\n                    console.log(this.tempDetail);\r\n\r\n                    this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Áp dụng thành công voucher !\"))\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              this.vhComponent.hideLoading(0)\r\n              this.vhComponent.alertMessageDesktop('error', this.languageService.translate('Voucher không hợp lệ !'));\r\n            }\r\n          }, err => {\r\n            this.vhComponent.alertMessageDesktop('error', this.languageService.translate(err))\r\n          })\r\n        })\r\n\r\n    } else {\r\n      this.vhComponent.alertMessageDesktop('error', this.languageService.translate('Đang áp dụng voucher này!'))\r\n    }\r\n  }\r\n\r\n\r\n  deleteGoods(position) {\r\n    if (this.listShow.length == 1) {\r\n      this.listShow = []\r\n    } else {\r\n      this.listShow.splice(position, 1);\r\n    }\r\n    this.listVoucherAccepct = this.listShow\r\n  }\r\n\r\n  gotoHome() {\r\n    this.router.navigate(['/cafe/dashboard/overviews'], { state: { isSync: true } });\r\n  }\r\n\r\n\r\n\r\n  logout() {\r\n    this.vhAuth.signOut().then(() => {\r\n      this.vhQueryCafe.closeSyncCollections();\r\n      this.vhQueryCafe.clearDefaultBranch() //xóa branchDefault trước khi thoát app\r\n      this.router.navigate([\"/login\"]);\r\n    }, error => {\r\n      console.error('error', error);\r\n    })\r\n  }\r\n\r\n  //  xử lý đổi voucher và mở thông báo\r\n  exchangeVoucher() {\r\n    console.log(this.listVoucherAccepct);\r\n\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      let promise = new Array();\r\n      for (let i = 0; i < this.listVoucherAccepct.length; i++) {\r\n        // kiểm tra voucher đã dùng hay chưa\r\n        promise[i] = this.vhQueryCafe.getVoucher_Code_Name_Release_byCode(this.listVoucherAccepct[i].code)\r\n      }\r\n      this.vhQuery.asyncPromiseAll(promise).then((array: any[]) => {\r\n        // xử lý các voucher nào hợp lệ để tạo bill_detail\r\n        let voucher_valid = array.filter(item => item.status == 2 || item.status == 3);\r\n        let bill_detail = [];\r\n        for (let i of voucher_valid) {\r\n          bill_detail.push(this.listVoucherAccepct.find(e => e._id == i._id))\r\n        }\r\n        if (bill_detail.length)\r\n          this.billDetails = bill_detail.map(m => {\r\n            // bill details\r\n            m = {\r\n              id_voucher: m.id_voucher,\r\n              id_voucher_code: m._id,\r\n              vtype: 1,\r\n              quantity: 1,\r\n              products: m.products.map(map => {\r\n                let product = {\r\n                  id_product: map.id_product,\r\n                  price: 0,\r\n                  ptype: map.ptype,\r\n                  quantity: map.quantity,\r\n                  ratio: map.ratio,\r\n                }\r\n                if (map.id_lotproduct) product['id_lotproduct'] = map.id_lotproduct;\r\n                if (map.id_subproduct) product['id_subproduct'] = map.id_subproduct\r\n                if (map.ptype == 5) {\r\n                  product['combos'] = map.combos.map(combo => {\r\n                    let combos = {\r\n                      id_product: combo.id_product,\r\n                      price: combo.price,\r\n                      quantity: combo.quantity,\r\n                      ptype: combo.type,\r\n                      ratio: combo.ratio ? combo.ratio : 1,\r\n                    }\r\n                    if (combo.id_lotproduct) combos['id_lotproduct'] = combo.id_lotproduct\r\n                    if (combo.id_subproduct) combos['id_subproduct'] = combo.id_subproduct\r\n                    return combos;\r\n                  })\r\n                  console.log(product['combos']);\r\n                }\r\n                return product\r\n              })\r\n            }\r\n            return m;\r\n          });\r\n        // bill\r\n        let dataBill = this.invoice\r\n        console.log('billDetails', this.billDetails);\r\n        // this.vhComponent.hideLoading(0)\r\n        if (this.billDetails.length == this.listVoucherAccepct.length) {\r\n          this.vhQueryCafe.createBill_Billdetail(dataBill, this.billDetails).then((bill: any) => {\r\n            console.log('createBill_Billdetail', bill);\r\n\r\n            if (bill) {\r\n              this.invoice.id_customer = 'id_retail'\r\n              this.handlePrint(dataBill, this.listShow);\r\n              this.vhComponent.hideLoading(0)\r\n              this.vhComponent.alertMessageDesktop(\"success\", \"Đổi voucher thành công !\");\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error ', error);\r\n            this.vhComponent.hideLoading(0)\r\n            this.vhComponent.alertMessageDesktop(\"error\", \"Đổi voucher thất bại !\");\r\n          })\r\n        } else {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Có voucher không hợp lệ! Vui lòng kiểm tra lại.\"));\r\n          this.vhComponent.hideLoading(0)\r\n        }\r\n      }, error => {\r\n        console.log(error);\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n  // hủy bỏ đổi voucher\r\n  cancelExchangeVoucher() {\r\n    this.listVoucherAccepct = []\r\n    this.listShow = []\r\n  }\r\n\r\n\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  private checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_exchange_voucher')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(false)\r\n    })\r\n\r\n  }\r\n\r\n  handlePrint(bill: VhBillType41Add, bill_details) {\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer, invoice: bill, invoice_detail: bill_details }, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.cancelExchangeVoucher())\r\n        })\r\n    }, (err) => {\r\n      this.nzModalService.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => { this.cancelExchangeVoucher() }\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangeVoucherK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangeVoucherK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangeVoucherK80Col4Component\r\n      case 'print_size_a5': return ExchangeVoucherA5Component\r\n      case 'print_size_a4': return ExchangeVoucherA4Component\r\n      default: return ExchangeVoucherA4Component\r\n    }\r\n  }\r\n\r\n\r\n  showConfirm(): void {\r\n    if (this.listVoucherAccepct.length > 0) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: 'Xác nhận đổi voucher',\r\n        nzOkText: 'Xác nhận và In',\r\n        nzOkType: 'primary',\r\n        nzOkDanger: true,\r\n        nzOnOk: () => this.exchangeVoucher(),\r\n        nzCancelText: 'Hủy',\r\n        nzOnCancel: () => this.cancelExchangeVoucher()\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  /**add customer */\r\n  // ----set customer-----\r\n  radioValue: 1 | 2 = 1;\r\n  showDrawerAddCusomer: boolean = false;\r\n  showDrawerAddRetail: boolean = false\r\n  openDrawerAddCustomerOrRetail() {\r\n    if (this.radioValue == 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCusomer = true\r\n  }\r\n\r\n  closeAddCustomer(result) {\r\n    if (this.radioValue == 1) {\r\n      if (result) {\r\n        this.invoice.retail_name = (result.retail_name)\r\n        this.invoice.retail_phone = (result.retail_phone)\r\n        this.invoice.retail_address = (result.retail_address)\r\n      }\r\n      this.showDrawerAddRetail = false\r\n    }\r\n    else {\r\n      this.showDrawerAddCusomer = false;\r\n      if (result)  this.invoice.id_customer = result\r\n    }\r\n  }\r\n\r\n  closeAndReceiveCustomer(event) {\r\n    if (event) {\r\n      this.invoice.id_customer = (event);\r\n    }\r\n    this.customer = this.vhQueryCafe.getlocalCustomer(this.invoice.id_customer);\r\n\r\n  }\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoCustomer: boolean = false;\r\n  openInfoCustomer() {\r\n    if (this.invoice.id_customer != 'id_retail') {\r\n      this.customer = this.vhQueryCafe.getlocalCustomer(this.invoice.id_customer);\r\n      this.visibleInfoCustomer = true;\r\n    }\r\n  }\r\n\r\n  closeInfoCustomer(event) {\r\n    this.visibleInfoCustomer = false;\r\n  }\r\n  changeCustomerType(event) {\r\n    if (this.radioValue == 1) {\r\n      this.invoice.id_customer = (\"id_retail\");\r\n    } if (event == 2 && this.invoice.retail_name) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: `${this.languageService.translate('Retail customer information will be lost')}?`,\r\n        nzCancelText: this.languageService.translate(\"Cancel\"),\r\n        nzOkText: \"Ok\",\r\n        nzOnOk: () => { this.clearRetailCustomer() },\r\n        nzOnCancel: () => { this.radioValue = 1 },\r\n      }\r\n      )\r\n    }\r\n  }\r\n\r\n  clearRetailCustomer() {\r\n    this.invoice.retail_address = ('')\r\n    this.invoice.retail_name = ('')\r\n    this.invoice.retail_phone = ('')\r\n  }\r\n\r\n  barcode: string = ''\r\n  barcode_array = [];\r\n  @HostListener(\"window: keypress\", [\"$event\"])\r\n  /**\r\n   * Sự kiện nhận barcode\r\n   */\r\n  getKeyUp(_event: KeyboardEvent) {\r\n    if (this.router.url === \"/change-voucher\") {\r\n      if (_event.key == \"Enter\") {\r\n        this.barcode_array.forEach((i, index) => {\r\n          if (i == \"Shift\") {\r\n            this.barcode_array[index + 1] = this.barcode_array[\r\n              index + 1\r\n            ].toUpperCase();\r\n            this.barcode_array.splice(index, 1);\r\n          }\r\n        });\r\n        this.barcode = this.barcode_array.join(\"\");\r\n        setTimeout(() => {\r\n          this.barcode_array = []\r\n        }, 200);\r\n      } else {\r\n        this.barcode_array.push(_event.key);\r\n\r\n      }\r\n    }\r\n  }\r\n  show_modal_choose_interface = false\r\n  /**\r\n  * thiết lập giao diện trang bán hàng\r\n  * @param type sale-pos | sale-desktop\r\n  */\r\n  public updateInterface() {\r\n    if (this.vhAuth.checkMyPermission('selling_display_page')) {\r\n      if (!this.default_selling_page)\r\n        this.show_modal_choose_interface = true\r\n      else this.vhAuth.updateEmployee(this.vhAuth.getUser()._id, { default_display_page: 'selling_display_page' })\r\n        .then((bool) => {\r\n          this.router.navigate(['/cafe/'+this.default_selling_page], { state: { isSync: true } });\r\n        })\r\n\r\n    }\r\n    else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"You do not have this rights\"))\r\n  }\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName('default_selling_page')\r\n  /**\r\n    * thiết lập giao diện trang bán hàng  sale-pos | sale-desktop\r\n    *\r\n    */\r\n  updateSalesInterface() {\r\n    this.vhAuth.updateEmployee(this.user._id, { default_selling_page: this.default_selling_page, default_display_page: 'selling_display_page' })\r\n      .then((bool) => {\r\n        this.router.navigate(['/cafe/'+this.default_selling_page], { state: { isSync: true } })\r\n      })\r\n  }\r\n\r\n  gotoPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/prepaid-card', { state: { url: this.router.url } })\r\n  }\r\n\r\n  /**Đóng modal và get lại thông tin user */\r\n  closeAccountInfo(event) {\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id)\r\n    this.modalAccountInfo = false;\r\n  }\r\n  gotoSalesVoucher() {\r\n    this.router.navigateByUrl('/cafe/sales-voucher')\r\n  }\r\n\r\n  gotoSalesPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/sales-payment-card')\r\n  }\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  tempDetail: any = {}\r\n  show_modal_select_lots_combo = false;\r\n  handleChooseLotCombo() {\r\n    let check = false;\r\n    for (let i of this.tempDetail) {\r\n      if (i.ptype == 1 && !i.id_lotproduct) check = true;\r\n      if (i.ptype == 5 && i.combos.filter(item => item.lots && !item.id_lotproduct).length) check = true;\r\n    }\r\n    if (check)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Please select the lot for the product!\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      // this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n  gotoSalesOrder() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order')\r\n  }\r\n  gotoSalesOrderVoucher() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-voucher')\r\n  }\r\n  gotoExchangeOrderVoucher() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-voucher')\r\n  }\r\n  gotoSalesOrderPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-payment-card')\r\n  }\r\n  gotoExchangeOrderCard() {\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-payment-card')\r\n  }\r\n}\r\n","<nz-layout style=\"height: 100%;\">\r\n    <nz-header class=\"header\">\r\n        <div class=\"sales-invoice-today-header\" nz-row>\r\n            <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n                <b>{{'Voucher' |translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                <b style=\"margin-right: 16px;\">{{'Enter voucher code' | translate}}*</b>\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\" style=\"width: 70%; padding: 0 0 0 11px;\">\r\n                    <input type=\"text\" [(ngModel)]=\"barcode\" nz-input placeholder=\"{{'Please scan or enter code' | translate}} \" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <button style=\"color: #fff;\" nz-button nzType=\"primary\" nzSize=\"large\" nzSearch [disabled]=\"!barcode.length\" [ngStyle]=\"{opacity: !barcode.length ? 0.5 : 1}\" (click)=\"useVoucher(barcode)\">{{'Apply' | translate}}</button>\r\n                </ng-template>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\" class=\"info right-all-content\">\r\n                <div class=\"select-branch center-all-content\">\r\n                    <ion-icon src=\"assets/icon/global/location.svg\" style=\"margin-right: 8px;\"></ion-icon>\r\n                    <div class=\"select-branch-name\">{{vhQueryCafe.getDefaultBranch().name}}</div>\r\n                </div>\r\n                <div class=\"center-div\" style=\"cursor: pointer;height: 100%;display: flex; align-items: center;\" nz-dropdown [nzDropdownMenu]=\"menu\" nzTrigger=\"click\">\r\n                    <div style=\"white-space: nowrap;font-size: 0.9rem; margin-right: 4px; text-transform: capitalize;\">\r\n                        {{user.name}}</div>\r\n                    <nz-avatar [nzSrc]=\"user.img ? user.img : 'https://raw.githubusercontent.com/Viethas-App/Sales365-Desktop-Electron/refs/heads/main/assets/template/avatar-shop.png'\"></nz-avatar>\r\n                </div>\r\n                <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n                    <ul nz-menu nzSelectable>\r\n                        <li nz-menu-item (click)=\"updateInterface()\"><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i> {{'Sales' | translate}}</li>\r\n                        <li nz-menu-item (click)=\"gotoHome()\" [nzDisabled]=\"!vhAuth.checkMyPermission('admin_display_page')\"><i nz-icon nzType=\"home\" nzTheme=\"outline\"></i> <span style=\"margin-left: 3px;\">{{'Administrator'|\r\n                                translate}}</span></li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplSalesVoucher\">\r\n                            <ng-template #titleTplSalesVoucher><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Sell voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Sell voucher' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Sell prepaid card' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                            <ng-template #titleTpl><i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Exchange voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item style=\"color: var(--ion-color-vh-green);\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Exchange voucher for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Exchange prepaid card for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplWebAPp\">\r\n                            <ng-template #titleTplWebAPp><span nz-icon nzType=\"global\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Order from web/app' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrder()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Orders' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Voucher purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Voucher exchange order for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card exchange order for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"modalAccountInfo =true\" nz-menu-item><i nz-icon nzType=\"user\" nzTheme=\"outline\"></i> {{'Account information' | translate}}\r\n                        </li>\r\n                        <li nz-submenu nzTitle=\"{{'Configure voucher exchange page' | translate}}\" nzIcon=\"setting\">\r\n                            <ul style=\"min-width: 125px;\">\r\n                                <li nz-menu-item (click)=\"showConfigPrint = true\">\r\n                                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Print page' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"showConfig = true\">\r\n                                    <i nz-icon nzType=\"setting\" nzTheme=\"outline\"></i> {{'Others'| translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"logout()\" nz-menu-item><i nz-icon nzType=\"logout\" nzTheme=\"outline\"></i> {{'Logout' | translate}}\r\n                        </li>\r\n                    </ul>\r\n                </nz-dropdown-menu>\r\n            </div>\r\n        </div>\r\n    </nz-header>\r\n    <nz-content id=\"exchange-voucher\">\r\n        <div nz-row class=\"header-content\">\r\n            <div nz-col nzSpan=\"6\">\r\n                <b style=\"margin-right: 16px\">{{'Employee exchanging card' | translate}}</b> <br> {{user.name}}\r\n            </div>\r\n            <div nz-col nzSpan=\"6\">\r\n                <b style=\"margin-right: 16px\">{{'Exchange date' | translate}}</b><br> {{dateCurrent |date: 'dd/MM/yyyy HH:mm'}}\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <b>{{'Customer exchange information' | translate}}</b>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"16\">\r\n                        <span style=\"cursor:pointer; color: var(--ion-color-vh-green);  margin-left: 16px;\" (click)=\"openDrawerAddCustomerOrRetail()\"> +{{ radioValue == 1 ? ' Thêm khách hàng': 'Add member' | translate}}</span>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-radio-group [(ngModel)]=\"radioValue\" (ngModelChange)=\"changeCustomerType($event)\" nzName=\"radiogroup\">\r\n                            <label nz-radio [nzValue]=1>{{'Retail customer' | translate}}</label>\r\n                            <label nz-radio [nzValue]=2>{{'Member' | translate}}</label>\r\n                        </nz-radio-group>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"14\">\r\n                        <ng-container *ngIf=\"radioValue == 1 && invoice.retail_name\">\r\n                            {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n                            ''}} {{invoice.retail_address}}\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"radioValue == 2\">\r\n                            <app-customer [id_customer]=\"invoice.id_customer\"\r\n                                (closeAndReceiveCustomer)=\"closeAndReceiveCustomer($event)\"></app-customer>\r\n                            <!-- <i (click)=\"openInfoCustomer()\"\r\n                                [ngClass]=\"invoice.id_customer !='id_retail' ? 'active' : 'deactive'\"\r\n                                style=\"cursor: pointer;\" nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i> -->\r\n                        </ng-container>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"2\">\r\n                        <i *ngIf=\"radioValue == 2\" (click)=\"openInfoCustomer()\" [ngClass]=\"invoice.id_customer !='id_retail' ? 'active' : 'deactive'\" style=\"cursor: pointer; margin-left: 16px;position: relative;display: flex; justify-content: center; align-items: center;\"\r\n                            nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <nz-table [nzScroll]=\"{ y: heightScroll }\" #show [nzData]=\"listShow\" nzShowSizeChanger [nzShowPagination]=\"false\" nzNoResult=\"{{'No data'| translate}}\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"3%\"></th>\r\n                    <th nzWidth=\"37%\"><b>{{'Voucher name' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\"><b>{{'Voucher code' | translate}}</b></th>\r\n                    <th nzWidth=\"25%\"><b>{{'_Issuance name' | translate}}</b></th>\r\n                    <th nzWidth=\"20%\" nzAlign=\"center\"><b>{{'Release date' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of listShow; let i = index\">\r\n                    <tr>\r\n                        <td>\r\n                            <div nz-popconfirm nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{data.code}}\" (nzOnConfirm)=\"deleteGoods(i)\" nzPopconfirmPlacement=\"bottomLeft\" nz-col nzSpan=\"1\">\r\n                                <i nz-icon nzType=\"close\" nzTheme=\"outline\" style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <span><b>{{data.name_voucher_release}} ({{data.name_voucher}})</b></span><br>\r\n                            <ng-container *ngIf=\"data.products\">\r\n                                <span *ngFor=\"let product of data.products\">\r\n                                   x{{product.quantity}} {{ product.name}} ({{getUnit(product.units, product.ratio)}})\r\n                                     <ng-container *ngIf=\"product.id_lotproduct\">\r\n                                        <pre style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"show_modal_select_lots_combo = true\">{{getLotNumber(product.lots, product.id_lotproduct)}}</pre>\r\n                                    </ng-container>\r\n                                    <div *ngIf=\"product.combos\">\r\n                                        <span *ngFor=\"let e of product.combos\">\r\n                                            {{ e.name}} ({{getUnit(e.units, e.ratio)}}) x{{e.quantity}}\r\n                                            <ng-container *ngIf=\"e.id_lotproduct\">\r\n                                                <pre style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                                    (click)=\"show_modal_select_lots_combo = true\">{{getLotNumber(e.lots, e.id_lotproduct)}}</pre>\r\n                                            </ng-container>\r\n                                            ,\r\n                                        </span>\r\n                                </div>\r\n\r\n                                </span>\r\n                            </ng-container>\r\n                        </td>\r\n                        <td>{{data.code}}</td>\r\n\r\n                        <td><b>{{data.name_voucher_release}}</b></td>\r\n                        <td nzAlign=\"center\">\r\n                            {{data.date_validity |date: 'dd/MM/yyyy HH:mm'}}\r\n                        </td>\r\n                    </tr>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n        <div class=\"button\" nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button (click)=\"showConfirm()\" class=\"btn-add center-all-content\" nz-button nzType=\"default\" [disabled]=\"!listShow.length\">\r\n                    {{'Exchange voucher for goods' | translate}}\r\n                </button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button (click)=\"cancelExchangeVoucher()\" class=\"btn-cancel center-all-content\" nz-button nzType=\"default\">\r\n                    {{'Cancel voucher exchange' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </nz-content>\r\n</nz-layout>\r\n\r\n<!-- ---------------------modal chọn giao diện bán hàng ------------------- -->\r\n<nz-modal [nzStyle]=\"{ top: '45%', transform: 'translateY(-50%)' }\" [nzBodyStyle]=\"{'max-height': '70vh'}\" nzWidth=\"60vw\" [(nzVisible)]=\"show_modal_choose_interface\" [nzOkDisabled]=\"!default_selling_page\" (nzOnOk)=\"updateSalesInterface()\" (nzOnCancel)=\"show_modal_choose_interface = false\" [nzTitle]=\"'Sales interface' | translate\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\" style=\"justify-content: start !important;\">\r\n            <div *ngFor=\"let template of templates\" nz-col nzSpan=\"12\" class=\"bottom-right\">\r\n                <div class=\"thumbnail\" (click)=\"default_selling_page = template.url\" [class.active]=\" default_selling_page == template.url\">\r\n                    <img [src]=\"template.image\" style=\"width: 100%;\" />\r\n\r\n                </div>\r\n                <div style=\"text-align: center;\">\r\n                    {{template.name | translate}} <i *ngIf=\"default_selling_page == template.url\" style=\"color: var(--ion-color-vh-green);\" nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal nzWidth=\"70vw\" *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\" [(nzVisible)]=\"show_modal_select_lots_combo\" nzTitle=\"{{'Select lot number for products in voucher' | translate}}: {{tempDetail.name}}\" (nzOnCancel)=\"handleChooseLotCombo()\"\r\n    (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\">{{\"Product name\" | translate}}</th>\r\n                    <th nzWidth=\"30%\"> {{'Lot number' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Unit' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Quantity' | translate}}</th>\r\n                    <th nzAlign=\"right\" nzWidth=\"20%\">{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n\r\n                    <ng-container *ngIf=\"data.combos\">\r\n                        <tr>\r\n                            <td colspan=\"4\">{{ data.name }}</td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let item of data.combos\">\r\n                            <tr *ngIf=\"item.lots\">\r\n                                <td style=\"padding-left: 16px !important;\">{{ item.name }}</td>\r\n                                <td>\r\n                                    <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"item.id_lotproduct\">\r\n                                        <nz-option *ngFor=\"let element of item.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                    </nz-select>\r\n                                </td>\r\n                                <td>{{getUnit(item.units, item.ratio)}}</td>\r\n                                <td>{{ item.quantity }}</td>\r\n                                <td nzAlign=\"right\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price) }}\r\n\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!data.combos\">\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"data.id_lotproduct\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td nzAlign=\"right\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\" (click)=\"handleChooseLotCombo()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\" class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- --------------visible drawer info customer----------- -->\r\n<app-customer-profile *ngIf=\"visibleInfoCustomer\" [visibleInfoCustomer]=\"visibleInfoCustomer\" [customer]=\"customer\" (closeInfoCustomer)=\"closeInfoCustomer($event)\"></app-customer-profile>\r\n\r\n<!-- --------------------add customer---------------------- -->\r\n<app-add-customer *ngIf=\"showDrawerAddCusomer\" [showDrawerAddCusomer]=\"showDrawerAddCusomer\" (closeAddCustomer)=\"closeAddCustomer($event)\"></app-add-customer>\r\n\r\n<!-- --------------------add retail---------------------- -->\r\n<app-retail-info *ngIf=\"showDrawerAddRetail\" [showDrawerAddRetail]=\"showDrawerAddRetail\" [retail_name]=\"invoice.retail_name\" [retail_phone]=\"invoice.retail_phone\" [retail_address]=\"invoice.retail_address\" (closeAddCustomer)=\"closeAddCustomer($event)\"></app-retail-info>\r\n\r\n<!-- modal hiễn thị cấu hình in -->\r\n<app-config-print [showConfigPrint]=\"showConfigPrint\" (hide)=\"showConfigPrint = false\"></app-config-print>\r\n\r\n<!-- modal thông tin tài khoản -->\r\n<app-account-information *ngIf=\"modalAccountInfo\" [modalAccountInfo]=\"modalAccountInfo\" (closeAccount)=\"closeAccountInfo($event)\"></app-account-information>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ExchangeVoucherComponent } from './exchange-voucher.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgZorroAntModule } from '../ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular'; \r\nimport { ComponentsModule } from './components/components.module';\r\nimport { ConfigPrintComponent } from './config-print/config-print.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExchangeVoucherComponent,\r\n  }\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ExchangeVoucherComponent, ConfigPrintComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class ExchangeVoucherModule { }\r\n"],"names":["ExchangeVoucherK57Col3Component","ExchangeVoucherK80Col3Component","ExchangeVoucherK80Col4Component","ExchangeVoucherA5Component","ExchangeVoucherA4Component","i0","ctx_r15","ctx_r16","ctx_r18","ExchangeVoucherComponent","constructor","vhQueryCafe","vhAuth","vhQuery","vhAlgorithm","vhComponent","languageService","router","cdRef","nzModalService","http","getUser","Date","bill_type","date","id_branch","getDefaultBranch","_id","id_customer","id_employee","note","tax","getLocalMyPermissionName","ngOnInit","customer","getlocalCustomer","invoice","employee","getlocalEmployee","getVouchers","then","arr","listVoucher","error","console","log","store_main_sector","getStore","main_sector","get","country_code","subscribe","templates","language","ngAfterViewChecked","document","querySelector","heightScroll","clientHeight","detectChanges","useVoucher","code_voucher","tempDetail","listVoucherAccepct","find","item","code","showLoading","getVoucher_Code_Name_Release_byCode","voucherCode","status","hideLoading","alertMessageDesktop","translate","dateCurrent","date_expire","concat","listShow","filter","pro","ptype","lots","length","show_modal_select_lots_combo","i","combos","e","push","err","deleteGoods","position","splice","gotoHome","navigate","state","isSync","logout","signOut","closeSyncCollections","clearDefaultBranch","exchangeVoucher","promise","Array","asyncPromiseAll","array","voucher_valid","bill_detail","billDetails","map","m","id_voucher","id_voucher_code","vtype","quantity","products","product","id_product","price","ratio","id_lotproduct","id_subproduct","combo","type","dataBill","createBill_Billdetail","bill","handlePrint","cancelExchangeVoucher","checkPrint","Promise","resolve","rejects","printer","getLocalPrintPage","print_sizes","findIndex","print_size_default","enable","bill_details","showModal","renderPrintPage","invoice_detail","modal","onWillDismiss","confirm","nzTitle","nzContent","nzIconType","nzCancelText","nzOnOk","showConfirm","nzOkText","nzOkType","nzOkDanger","nzOnCancel","openDrawerAddCustomerOrRetail","radioValue","showDrawerAddRetail","showDrawerAddCusomer","closeAddCustomer","result","retail_name","retail_phone","retail_address","closeAndReceiveCustomer","event","openInfoCustomer","visibleInfoCustomer","closeInfoCustomer","changeCustomerType","clearRetailCustomer","getKeyUp","_event","url","key","barcode_array","forEach","index","toUpperCase","barcode","join","setTimeout","updateInterface","checkMyPermission","default_selling_page","show_modal_choose_interface","updateEmployee","default_display_page","bool","updateSalesInterface","user","gotoPrepaidCard","navigateByUrl","closeAccountInfo","modalAccountInfo","gotoSalesVoucher","gotoSalesPrepaidCard","getUnit","units","getUnit_byRatio","unit","getLotNumber","lot","lot_number","handleChooseLotCombo","check","gotoSalesOrder","gotoSalesOrderVoucher","gotoExchangeOrderVoucher","gotoSalesOrderPrepaidCard","gotoExchangeOrderCard","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///"}