{"version":3,"file":"src_app_cafe_desktop_menu_management_branch_branch_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/branch/add/add.component.ts","./src/app/cafe/desktop/menu/management/branch/add/add.component.html","./src/app/cafe/desktop/menu/management/branch/branch.component.ts","./src/app/cafe/desktop/menu/management/branch/branch.component.html","./src/app/cafe/desktop/menu/management/branch/branch.module.ts","./src/app/cafe/desktop/menu/management/branch/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/branch/detail/detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent {\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public lang: LanguageService,\r\n    private functionService: FunctionService,\r\n  ) { }\r\n\r\n\r\n  \r\n  public branch: FormGroup = new FormGroup({\r\n    //email: new FormControl(null, Validators.email),\r\n    name: new FormControl(null, [Validators.required]),\r\n    phone: new FormControl(null, [\r\n      Validators.required,\r\n      this.functionService.phoneValidator(() => this.countryCode),\r\n    ]),\r\n    address: new FormControl(null, [Validators.required]),\r\n  })\r\n\r\n\r\n\r\n  /**back */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/branch']);\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Thêm chi nhánh vào database , trở về trang trước nếu thêm thành công\r\n   * @param value : giá trị của biến branch\r\n   * @example this.addBranch(this.branch.value)\r\n   */\r\n  public addBranch(value) {\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", this.lang.translate(\"Save\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          let branch: any = { ...value };\r\n          // xử lý số điện thoại\r\n          const phoneNumberValue = branch.phone;\r\n          branch.countryCode = this.countryCode;\r\n          branch.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n          branch.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n    \r\n          this.vhQueryCafe.addBranch(branch).then((rsp: any) => {\r\n            if(rsp.vcode == 0) {\r\n              //addCustomer thành công\r\n              this.vhComponent.showToast(1000, this.lang.translate(\"Branch\") + \" \" + value.name + \" \" + (this.lang.translate(\"has been added successfully\")), \"success-toast\");\r\n              this.goBack()\r\n            }\r\n            else if(rsp.vcode == 1) {\r\n              //This phone number is already in use with another branch\r\n              this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another branch\"), 'alert-toast')\r\n            }\r\n          }).catch(err => { console.error(err); this.vhComponent.hideLoading(0) })\r\n        })\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0).then(() => console.error(err))\r\n      })\r\n    }).catch(err => { })\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.branch.value.phone, this.countryCode as CountryCode);\r\n      this.branch.get('phone')?.markAsTouched();\r\n      this.branch.get('phone')?.markAsDirty();\r\n      this.branch.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      // console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.branch.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Add branch'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"addBranch(branch.value)\" [disabled]=\"branch.invalid\" [ngStyle]=\"{opacity: branch.invalid ? 0.5 : 1}\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Save'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"branch\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Branch name' | translate}} *</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplBranchName\">\r\n                            <nz-input-group>\r\n                                <input type=\"text\" formControlName=\"name\" nz-input placeholder=\"{{'Enter branch name' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplBranchName let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Branch name is required' | translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n\r\n                <!-- Số điện thoại -->\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                            <nz-input-group>\r\n                                <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                                    <span>+{{callingCode}}</span>\r\n                                    <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                </div>\r\n                                <input formControlName=\"phone\"\r\n                                    (input)=\"formatPhoneNumber($event)\"\r\n                                    [value]=\"formattedPhone\"\r\n                                    [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <!-- <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Email' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input type=\"text\" formControlName=\"email\" nz-input\r\n                                    placeholder=\"{{'Enter email' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div> -->\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Address' | translate}} *</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input type=\"text\" formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAddress let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' | translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-branch',\r\n  templateUrl: './branch.component.html',\r\n  styleUrls: ['./branch.component.scss']\r\n})\r\nexport class BranchComponent implements OnInit {\r\n\r\n  public searchValue: string = ''\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  observableBranches: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private notification: NzNotificationService\r\n  ) {}\r\n  ngOnInit() {\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    this.getBranches()\r\n  }\r\n  ngOnDestroy() {\r\n    this.observableBranches.unsubscribe()\r\n  }\r\n  branchList: Array<any> = []\r\n  branchListShow: Array<any> = []\r\n  getBranches() {\r\n    this.observableBranches = this.vhQueryCafe.getObservableLocalBranchs().subscribe((localBranchs: any) => {\r\n      this.branchList = localBranchs\r\n      this.branchListShow = localBranchs\r\n    })\r\n\r\n  }\r\n  /**\r\n   * @example this.goToAdd()\r\n   */\r\n  public goToAdd() {\r\n    // kiểm tra quyền dc tạo chi nhánh\r\n    let check = this.vhAuth.getStore()\r\n    if (check.isTester) this.router.navigate(['/cafe/dashboard/management/branch/add'])\r\n    else {\r\n      this.notification\r\n        .blank(\r\n          this.lang.translate(\"Add branch\"),\r\n          this.lang.translate(\"Please contact hotline 0934 60 60 60 to add a branch\") + \".\"\r\n        )\r\n        .onClick.subscribe(() => {\r\n          console.log('notification clicked!');\r\n        });\r\n    }\r\n    // if (this.vhAuth.checkMyPermission(\"branch_management_creating_branch\")) this.router.navigate(['/cafe/dashboard/management/branch/add'])\r\n    // else this.vhComponent.showToast(1500, this.lang.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public goToDetail(item) {\r\n    if (this.vhAuth.checkMyPermission(\"branch_management_editing_branch\")) this.router.navigate(['/cafe/dashboard/management/branch/detail'], { state: item })\r\n    else this.vhComponent.showToast(1500, this.lang.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#branches-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".branches-list-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#branches-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".branches-list-header\").clientHeight - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges()\r\n  }\r\n  onCurrentPageDataChange(event) {\r\n\r\n  }\r\n  /**\r\n   * lọc chi nhánh theo tên\r\n   * @param value \r\n   */\r\n  searchBranch(value) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.branchListShow = this.vhAlgorithm.searchList(val, this.branchList, ['name'])\r\n    } else this.branchListShow = [...this.branchList]\r\n  }\r\n}\r\n","<nz-layout id=\"branches-list\">\r\n    <div nz-row class=\"branches-list-header\">\r\n        <div nz-col nzSpan=\"5\" class=\"title left-all-content\">\r\n            <b>{{'Branches list'| translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"title left-all-content\">\r\n            <nz-input-group style=\"margin-right : 10px;width: 80%;\" [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBranch($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for branch name' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col class=\"right-all-content\" nzSpan=\"9\">\r\n            <div>\r\n                <button (click)=\"goToAdd()\" class=\"btn-green right-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"add-outline\"></ion-icon>\r\n                    {{'Add branch' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"branchList.length\" style=\"margin-top: 16px;\">\r\n        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"branchListShow\" #branchListShowdata nzShowPagination\r\n            nzShowSizeChanger nzNoResult=\"{{'No data!' | translate}}\"\r\n            (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"35%\" nzAlign='left'><b>{{'Branch name' | translate}}</b></th>\r\n                    <th nzWidth=\"30%\" nzAlign='left'><b>{{'Phone number' | translate}}</b></th>\r\n                    <th nzWidth=\"35%\" nzAlign='left'><b>{{'Address' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let invoice of branchListShowdata.data;let i = index\" style=\"cursor: pointer;\"\r\n                    (click)=\"goToDetail(invoice)\">\r\n                    <td nzAlign='left'>{{invoice.name}}</td>\r\n                    <td nzAlign='left'>{{invoice.phone}}</td>\r\n                    <td nzAlign='left'>{{invoice.address}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n    <div nz-row *ngIf=\"!branchList.length\" style=\"height: 100%;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n            <p>{{'No data' | translate}}</p>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BranchComponent } from './branch.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AddComponent } from './add/add.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: BranchComponent\r\n  },\r\n  {\r\n    path: \"add\",\r\n    component: AddComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BranchComponent, AddComponent, DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class BranchModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhEinvoice, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  my_branch = this.router.getCurrentNavigation().extras.state;\r\n    display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n    auto_select_lot: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_select_lot\r\n    auto_hidden_lot: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_hidden_lot\r\n    warning_lot_expried: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried\r\n    management_product_manysize: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').management_product_manysize\r\n    management_product_lot: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').management_product_lot\r\n    auto_active_quantity_input: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').auto_active_quantity_input\r\n    EInvoiceListShow: any = [] // mảng chứa danh sách các nhà cung cấp hóa đơn điện tử\r\n  \r\n  \r\n  \r\n    constructor(\r\n      private router: Router,\r\n      public vhAlgorithm: VhAlgorithm,\r\n      private vhQueryCafe: VhQueryCafe,\r\n      private vhAuth: VhAuth,\r\n      private vhComponent: VhComponent,\r\n      private vhImage: VhImage,\r\n      public lang: LanguageService,\r\n      private vhEinvoice: VhEinvoice,\r\n      private nzModalService: NzModalService,\r\n      private functionService: FunctionService,\r\n    ) { }\r\n  \r\n  \r\n  \r\n    ngOnInit(): void {\r\n      console.log(this.my_branch);\r\n      \r\n      this.initForm();\r\n    }\r\n    \r\n  \r\n  \r\n    public branch: FormGroup;\r\n  \r\n    /**\r\n     * gán các giá trị của chi nhánh nhận được vào form branch\r\n     * @example   this.initForm();\r\n     */\r\n    initForm() {\r\n      this.countryCode = this.my_branch.countryCode ?? this.functionService.defaultCountryCode;\r\n      this.callingCode = this.functionService.getCallingCodeFromCountryCode(this.countryCode) ?? this.functionService.defaultCallingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.my_branch.phone, this.countryCode as CountryCode);\r\n      this.branch = new FormGroup({\r\n        //email: new FormControl(this.my_branch['email']),\r\n        name: new FormControl(this.my_branch['name'], [Validators.required]),\r\n        phone: new FormControl(this.formattedPhone, [Validators.required, this.functionService.phoneValidator(() => this.countryCode)]),\r\n        address: new FormControl(this.my_branch['address'], [Validators.required]),\r\n        qr_ibanking: new FormControl(this.my_branch['qr_ibanking']),\r\n        taxcode: new FormControl(this.my_branch['taxcode']),\r\n        token: new FormControl(this.my_branch['token']),\r\n      })\r\n      this.formGroup = new FormGroup({\r\n        invoice_provider: new FormControl(null, [Validators.required]),\r\n        username: new FormControl(null, [Validators.required]),\r\n        password: new FormControl(null, [Validators.required]),\r\n        invoiceSeries: new FormControl([],),\r\n      })\r\n      this.EInvoiceListShow = this.my_branch['einvoices'] || [];\r\n  \r\n      let needUpdate = false;\r\n      if (this.branch.value.taxcode)\r\n        for (let einvoice of this.EInvoiceListShow) {\r\n  \r\n          this.vhEinvoice.signin_byMinvoice(this.branch.value.taxcode, einvoice.username, einvoice.password)\r\n            .then((res: any) => {\r\n              console.log('res', res)\r\n              if (res.code == '00') {\r\n                if (res.token != einvoice.token) {\r\n                  einvoice.token = res.token\r\n                  needUpdate = true;\r\n                }\r\n                einvoice.status = true;\r\n              } if (res.code == '99') {\r\n                einvoice.status = false;\r\n                this.vhComponent.showToast(1500, this.lang.translate(\"Username or password is incorrect\"), \"alert-toast\")\r\n              }\r\n  \r\n            }, (error: any) => {\r\n              console.log('error', error)\r\n                einvoice.status = false;\r\n            })\r\n  \r\n        }\r\n      if (needUpdate) {\r\n        this.vhQueryCafe.updateBranch(this.my_branch['_id'], { einvoices: this.EInvoiceListShow }).then(() => {\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"Update E-Invoice successfully\"), \"success-toast\")\r\n        }).catch(err => { })\r\n      }\r\n  \r\n    }\r\n    /**back */\r\n    goBack() {\r\n      this.router.navigate(['/cafe/dashboard/management/branch']);\r\n    }\r\n  \r\n    /**\r\n     * show thông báo xác nhận xóa branch khỏi database\r\n     *  @example   this.deleteItemConfirm();\r\n     */\r\n    deleteItemConfirm() {\r\n      if (this.vhQueryCafe.getDefaultBranch()._id == this.my_branch['_id']) {\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"Can't delete this branch\"), \"alert-toast\");\r\n        return;\r\n      }\r\n      if (this.vhQueryCafe.getlocalBranchs().length == 1) {\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"Can't delete this branch\"), \"alert-toast\");\r\n        return;\r\n      }\r\n      if (this.vhAuth.checkMyPermission(\"branch_management_canceling_branch\")) {\r\n        this.vhComponent\r\n          .alertConfirm(this.lang.translate(\"Confirm\"), \"\",\r\n            this.lang.translate(\"Are you sure to delete this branch\") + \" ?\", \"OK\",\r\n            this.lang.translate(\"Cancel\"))\r\n          .then(() => {\r\n            if (this.my_branch['_id'] != this.vhQueryCafe.getDefaultBranch()._id) {\r\n              this.vhComponent.showLoading(\"\").then(() => {\r\n                this.vhQueryCafe.deleteBranch(this.my_branch['_id']).then((res: any) => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    if (res) this.vhComponent.showToast(1500, `${this.lang.translate(\"Branch\")} ${this.branch.value.name} ${this.lang.translate(\"has been deleted successfully\")}`, \"success-toast\");\r\n                    else this.vhComponent.showToast(1500, this.lang.translate(\"Can't delete this branch\"), \"alert-toast\")\r\n                    setTimeout(() => {\r\n                      this.goBack()\r\n                    }, 300);\r\n                  });\r\n                })\r\n              })\r\n            } else this.vhComponent.showToast(1500, this.lang.translate(\"Can't delete this branch\"), \"alert-toast\")\r\n          }, () => { })\r\n          .catch(() => { })\r\n      }\r\n      else this.vhComponent.showToast(1500, this.lang.translate('You do not have this rights'), \"alert-toast\")\r\n  \r\n    }\r\n    public updateBranch(value) {\r\n      if (this.branch.valid) {\r\n        let branch = { ...value };\r\n        if(value.phone) {\r\n          branch.countryCode = this.countryCode;\r\n          branch.phone = this.functionService.getNationalPhoneNumber(branch.phone, this.countryCode);\r\n          branch.phoneNumber = this.functionService.getInternationalPhoneNumber(branch.phone, this.countryCode);\r\n        }\r\n        if(branch.einvoices){\r\n          branch.einvoices = [...this.EInvoiceListShow].map((item) => {\r\n            delete item['status']\r\n            return { ...item }\r\n          })\r\n        }\r\n        this.vhQueryCafe.updateBranch(this.my_branch['_id'], branch).then((rsp: any) => {\r\n          if(rsp.vcode == 1) {\r\n           //This phone number is already in use with another branch\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another branch\"), 'alert-toast')\r\n          }\r\n        }).catch(err => { })\r\n      } \r\n    }\r\n  \r\n    /**\r\n     * cập nhật lại trường cấu hình cho chi nhánh\r\n     * @param value : trường cần update\r\n     * @example this.updateAppSettingNameBranch({display_promotion_selling_price : true})\r\n     */\r\n    updateAppSettingNameBranch(value) {\r\n      this.vhQueryCafe.updateAppSettingNameBranch('permission_branch', value).then((bool) => {\r\n  \r\n      })\r\n    }\r\n  \r\n    /**\r\n      * mở giao diện chọn file để upload ảnh\r\n      * @example getFile()\r\n      */\r\n    getFile() {\r\n      document.getElementById(\"file-upload\").click();\r\n    }\r\n  \r\n    /** Lấy hình ảnh từ Desktop */\r\n    onUpload(e?) {\r\n      const file = e.target.files[0];\r\n      this.vhImage.getImageFromDesktop(file, \"branchs\", this.branch.value['qr_ibanking'] || null, 2000000).then(\r\n        photoURL => {\r\n          if (photoURL.vcode === 0) {\r\n            this.branch.controls[\"qr_ibanking\"].setValue(photoURL.data);\r\n            this.updateBranch({ qr_ibanking: photoURL.data })\r\n            this.vhComponent.showToast(2000, (this.lang.translate(\"Image was loaded successfully\")), 'success-toast');\r\n          } else if (photoURL.vcode === 1) {\r\n            this.vhComponent.showToast(2000, (this.lang.translate(\"Lỗi import file ảnh\")), 'alert-toast');\r\n          } else if (photoURL.vcode === 2) {\r\n            this.vhComponent.showToast(2000, (this.lang.translate(\"Lỗi upload file ảnh\")), 'alert-toast');\r\n  \r\n          } else if (photoURL.vcode === 3) {\r\n            this.vhComponent.showToast(2000, (this.lang.translate(\"Lỗi không thể upload file ảnh lớn hơn 2MB\")), 'alert-toast');\r\n  \r\n          }\r\n  \r\n        },\r\n        () => {\r\n          this.vhComponent.showToast(2000, (this.lang.translate(\"Image was failed\")), 'alert-toast');\r\n        }\r\n      );\r\n    }\r\n  \r\n  \r\n    isVisibleAdd: boolean = false;\r\n    formGroup: FormGroup;\r\n    title: string = \"Thêm tài khoản hóa đơn điện tử\";\r\n    openModalAddEInvoice() {\r\n      if (!this.branch.value.taxcode) {\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"Please fill in the tax code\"), \"alert-toast\")\r\n        return;\r\n      }\r\n      this.title = \"Thêm tài khoản hóa đơn điện tử\";\r\n      this.isVisibleAdd = true;\r\n      this.formGroup = new FormGroup({\r\n        invoice_provider: new FormControl('M-invoice', [Validators.required]),\r\n        username: new FormControl(null, [Validators.required]),\r\n        password: new FormControl(null, [Validators.required]),\r\n        invoiceSeries: new FormControl([],),\r\n      })\r\n    }\r\n  \r\n    addEInvoice() {\r\n      this.vhEinvoice.signin_byMinvoice(this.branch.value.taxcode, this.formGroup.value.username, this.formGroup.value.password)\r\n        .then((res: any) => {\r\n          console.log('res', res)\r\n          if (res.code == '00') {\r\n            this.EInvoiceListShow = this.EInvoiceListShow.concat([{ ...this.formGroup.value, token: res.token,status : true }])\r\n            console.log(this.EInvoiceListShow);\r\n            this.updateBranch({ einvoices: this.EInvoiceListShow, })\r\n  \r\n  \r\n            this.formGroup.reset();\r\n            this.isVisibleAdd = false;\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"Add E-Invoice successfully\"), \"success-toast\")\r\n          } if (res.code == '99') {\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"Username or password is incorrect\"), \"alert-toast\")\r\n          }\r\n  \r\n        }, (error: any) => {\r\n          console.log('error', error)\r\n        })\r\n  \r\n    }\r\n  \r\n    deleteEInvoice(data) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: this.lang.translate(\"Confirm\"),\r\n        nzContent: this.lang.translate(\"Are you sure to delete this connection\") + \" ?\",\r\n        nzOnOk: () => {\r\n          if (this.EInvoiceListShow.length > 0) {\r\n            this.EInvoiceListShow = this.EInvoiceListShow.filter((item) => {\r\n              item.username != data.username\r\n            })\r\n            this.updateBranch({ einvoices: this.EInvoiceListShow })\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"Delete E-Invoice successfully\"), \"success-toast\")\r\n          }\r\n        }\r\n      })\r\n    }\r\n  \r\n    isVisibleEdit: boolean = false;\r\n    itemUpdate: any;\r\n    /**\r\n     * Open modal edit E-Invoice\r\n     * @param item\r\n     */\r\n  \r\n    openModalEditEInvoice(item) {\r\n      console.log('taxcode-----', this.branch.value.taxcode);\r\n      console.log('token-----', this.branch.value.token);\r\n      this.itemUpdate = item;\r\n      this.vhComponent.showLoading(\"\").then(() => {\r\n        this.vhEinvoice.getTypeInvoiceSeries_byMinvoice(this.branch.value.taxcode, item.token)\r\n          .then((res: any) => {\r\n            console.log('res----', res)\r\n            this.vhComponent.hideLoading(0);\r\n            //-----------your code here-----------\r\n            if (res.code == '00') {\r\n              this.invoiceSeries = res.data;\r\n              this.title = \"Chọn Ký hiệu hóa đơn sử dụng\";\r\n              this.isVisibleEdit = true;\r\n  \r\n            }\r\n            if (res.code == '3') {\r\n              this.vhComponent.showToast(1500, this.lang.translate(\"Token hết hạn hoặc không đúng vui lòng kiểm tra lại\"), \"alert-toast\")\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error', error)\r\n          })\r\n      })\r\n  \r\n  \r\n    }\r\n  \r\n    invoiceSeries = [] // hàm này chứa danh sách ký hiệu hóa đơn\r\n  \r\n    editEInvoice() {\r\n      this.vhComponent.showLoading(\"\").then(() => {\r\n        this.vhQueryCafe.updateBranch(this.my_branch['_id'], { einvoices: this.EInvoiceListShow }).then(() => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.isVisibleEdit = false;\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"Update E-Invoice successfully\"), \"success-toast\")\r\n          })\r\n        }).catch(err => { })\r\n      })\r\n  \r\n    }\r\n      \r\n      \r\n      \r\n    /** Mã quốc gia */\r\n    countryCode: string;\r\n    /** Calling code */\r\n    callingCode: string;\r\n    /** Số điện thoại đã format. VD: 333 333 333 */\r\n    formattedPhone: string;\r\n  \r\n    /**\r\n     * Mở modal chọn mã quốc gia\r\n     */\r\n    openSearchCountryCode() {\r\n      this.functionService.openSearchCountryCode().then((data) => {\r\n        this.countryCode = data.code;\r\n        this.callingCode = data.callingCode;\r\n        this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.branch.value.phone, this.countryCode as CountryCode);\r\n        this.branch.get('phone')?.markAsTouched();\r\n        this.branch.get('phone')?.markAsDirty();\r\n        this.branch.get('phone')?.updateValueAndValidity();\r\n        this.updateBranch(this.branch.value);\r\n      }).catch((error) => {\r\n        // console.error('Error opening country code search:', error);\r\n      });\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * Format số điện thoại khi nhập và set vào form\r\n     * @param event Sự kiện khi nhập số điện thoại\r\n     */\r\n    formatPhoneNumber(event: Event): void {\r\n      // Lấy số điện thoại đã format\r\n      const input = (event.target as HTMLInputElement).value;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n      // Cập nhật vào form\r\n      this.branch.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n    }\r\n  \r\n  }\r\n  ","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"ant-table-body\">\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Branch detail'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button class=\"btn-data center-all-content\" nz-button nzType=\"default\" (click)=\"deleteItemConfirm()\">\r\n                    <ion-icon name=\"trash-outline\"></ion-icon>\r\n                    {{'Delete'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"branch\">\r\n\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Branch name' | translate}} *</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplBranchName\">\r\n                            <nz-input-group>\r\n                                <input (blur)=\"updateBranch({name : branch.value.name})\" type=\"text\"\r\n                                    formControlName=\"name\" nz-input placeholder=\"{{'Enter branch name' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplBranchName let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Branch name is required' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n\r\n                <!-- Số điện thoại -->\r\n                <div nz-col nzSpan=\"12\">\r\n                  <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                      <nz-input-group>\r\n                        <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                          <span>+{{callingCode}}</span>\r\n                          <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                        </div>\r\n                        <input formControlName=\"phone\"\r\n                          (input)=\"formatPhoneNumber($event)\"\r\n                          [value]=\"formattedPhone\"\r\n                          [placeholder]=\"'Enter customer phone' | translate\" nz-input required \r\n                          (blur)=\"updateBranch({phone: branch.value.phone})\" />\r\n                        <ng-template #combineTplPhone let-control>\r\n                          <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                          <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                        </ng-template>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                \r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Tax code' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input (blur)=\"updateBranch({taxcode : branch.value.taxcode})\" type=\"text\"\r\n                                    formControlName=\"taxcode\" nz-input placeholder=\"{{'Enter tax code' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Address' | translate}} *</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input (blur)=\"updateBranch({address : branch.value.address})\" type=\"text\"\r\n                                    formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAddress let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' | translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"medium-size\"><b>{{'QR code for bank transfer' | translate}}</b></div>\r\n            <div nz-row style=\"padding-top: 20px;\">\r\n                <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                    <div class=\"bg-img center-all-content\" (click)=\"getFile()\" style=\"cursor: pointer;\">\r\n                        <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                            (change)=\"onUpload($event)\" />\r\n                        <img style=\"width : 240px\" onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                            [src]=\"branch.value.qr_ibanking\" />\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div>\r\n\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <span><b>{{'Display configuration' | translate}}</b></span>\r\n                <nz-list>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Display both selling price and promotional price' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"display_promotion_selling_price\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({display_promotion_selling_price:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Automatically hide lots when expired' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"auto_hidden_lot\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({auto_hidden_lot:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Automatically select the nearest expiry lot when selling' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"auto_select_lot\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({auto_select_lot:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notify when selling expired products' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"warning_lot_expried\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({warning_lot_expried:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Automatically point the cursor to the quantity box when selecting/scanning the product\r\n                            code when creating an invoice' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"auto_active_quantity_input\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({auto_active_quantity_input:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" style=\"padding-left: 16px;\">\r\n                <span><b>{{'Cấu hình sản phẩm' | translate}}</b></span>\r\n                <nz-list>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Classify products by attributes' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"management_product_manysize\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({management_product_manysize:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Manage products by lot and expiry date' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"management_product_lot\"\r\n                            (ngModelChange)=\"updateAppSettingNameBranch({management_product_lot:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n        <div nz-row style=\"margin-top: 24px;\">\r\n            <div nz-col nzSpan=\"24\" style=\"display: flex; justify-content: space-between;\">\r\n                <span><b>{{'Connect E-invoice' | translate}}</b></span>\r\n\r\n                <button nz-button (click)=\"openModalAddEInvoice()\" nzType=\"primary\">{{'Create connect'|\r\n                    translate}}</button>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <nz-table #dataTable nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\"\r\n                    [nzData]=\"EInvoiceListShow\">\r\n                    <thead>\r\n                        <tr>\r\n                        <tr>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"35%\" nzAlign='left'>\r\n                                <b>{{'Service provider' | translate}}</b>\r\n\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"30%\" nzAlign='left'>\r\n                                <b>{{'Username' | translate}}</b>\r\n\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"35%\" nzAlign='left'>\r\n                                <b>{{'Invoice serial number currently in use' | translate}}</b>\r\n\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"35%\" nzAlign='left'>\r\n                                <b>{{'Status' | translate}}</b>\r\n\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"35%\" nzAlign='left'>\r\n                                <b>{{'Function' | translate}}</b>\r\n\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let invoice of dataTable.data\">\r\n                            <td nzAlign='left'>{{invoice.invoice_provider}}</td>\r\n                            <td nzAlign='left'>{{invoice.username}}</td>\r\n                            <td nzAlign='left' class=\"ellipsis-cell\">{{invoice.invoiceSeries}}</td>\r\n                            <td nzAlign='left'>{{(invoice.status ? 'Connected' : 'Not connected') | translate}}</td>\r\n                            <td nzAlign='left'>\r\n                                <button style=\"margin-right: 10px;\" nz-button (click)=\"openModalEditEInvoice(invoice)\"\r\n                                    nzType=\"primary\">{{'Edit'|\r\n                                    translate}}</button>\r\n                                <button nz-button (click)=\"deleteEInvoice(invoice)\" nzDanger>{{'Delete'|\r\n                                    translate}}</button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </nz-table>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisibleAdd\" nzTitle=\"{{title | translate}}\" (nzOnCancel)=\"isVisibleAdd = false\"\r\n    (nzOnOk)=\"addEInvoice()\" nzOkText=\"{{'Connect' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <form [formGroup]=\"formGroup\" nz-form>\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]=\"6\" nzRequired>{{'Service provider' | translate}}</nz-form-label>\r\n                <nz-form-control [nzSpan]=\"18\">\r\n                    <nz-select style=\"width: 100%\" formControlName=\"invoice_provider\"\r\n                        nzPlaceHolder=\"{{'Select service provider' | translate}}\">\r\n                        <nz-option nzValue=\"M-invoice\" nzLabel=\"M-invoice\"></nz-option>\r\n                        <!-- <nz-option nzValue=\"VNPT\" nzLabel=\"VNPT\"></nz-option>\r\n                        <nz-option nzValue=\"FPT\" nzLabel=\"FPT\"></nz-option> -->\r\n                    </nz-select>\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]=\"6\" nzRequired>{{'User name' | translate}}</nz-form-label>\r\n                <nz-form-control [nzSpan]=\"18\">\r\n                    <input nz-input formControlName=\"username\" placeholder=\"{{'Enter user name' | translate}}\" />\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n            <nz-form-item>\r\n                <nz-form-label [nzSpan]=\"6\" nzRequired>{{'Password' | translate}}</nz-form-label>\r\n                <nz-form-control [nzSpan]=\"18\">\r\n                    <input nz-input type=\"password\" formControlName=\"password\"\r\n                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                </nz-form-control>\r\n            </nz-form-item>\r\n\r\n        </form>\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<nz-modal [(nzVisible)]=\"isVisibleEdit\" nzTitle=\"{{title | translate}}\" (nzOnCancel)=\"editEInvoice()\"\r\n    (nzOnOk)=\"editEInvoice()\" nzOkText=\"{{'Close' | translate}}\" [nzCancelText]=\"null\" >\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            {{'Invoice serial number currently in use' | translate}}\r\n        </div>\r\n\r\n        <nz-select style=\"width: 100%\" nzShowSearch nzMode=\"tags\" nzSize=\"default\" id=\"invoiceSeries\"\r\n            [(ngModel)]=\"itemUpdate.invoiceSeries\" nzPlaceHolder=\"{{'Select invoice serial number' | translate}}\">\r\n            <nz-option *ngFor=\"let item of invoiceSeries\" [nzValue]=\"item.khhdon\" [nzLabel]=\"item.khhdon\"></nz-option>\r\n\r\n        </nz-select>\r\n        <br />\r\n        <br />\r\n    </ng-container>\r\n\r\n</nz-modal>"],"names":[],"sourceRoot":"webpack:///"}