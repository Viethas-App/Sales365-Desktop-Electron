{"version":3,"file":"src_app_cafe_desktop_menu_management_cashflow_beginning-customer-debt_beginning-customer-debt-c301e3.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/cashflow/beginning-customer-debt/beginning-customer-debt.component.ts","./src/app/cafe/desktop/menu/management/cashflow/beginning-customer-debt/beginning-customer-debt.component.html","./src/app/cafe/desktop/menu/management/cashflow/beginning-customer-debt/beginning-customer-debt.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-beginning-customer-debt',\r\n  templateUrl: './beginning-customer-debt.component.html',\r\n  styleUrls: ['./beginning-customer-debt.component.scss']\r\n})\r\nexport class BeginningCustomerDebtComponent implements OnInit {\r\n  private observableCustomers: any;\r\n  heightScroll: string;\r\n  sortStatus: any = 0;\r\n  list_customers: any = [];\r\n  customerListShow: any = [];\r\n  total: number = 0;\r\n  searchBarCustomer: any = \"\";\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    let id_branch = this.vhQueryCafe.getDefaultBranch()._id;\r\n    this.observableCustomers = this.vhQueryCafe.getObservableLocalCustomers().subscribe((localCustomers: any) => {\r\n      localCustomers = localCustomers.filter(item => item._id != 'id_retail');\r\n      this.list_customers = [];\r\n      this.total = 0;\r\n      for (let i = 0; i < localCustomers.length; i++) {\r\n        if ((localCustomers[i][id_branch] != undefined) && (localCustomers[i][id_branch].debt_beginning != undefined)) {\r\n          localCustomers[i].bDebt = localCustomers[i][id_branch].debt_beginning;\r\n        } else {\r\n          localCustomers[i].bDebt = 0;\r\n        }\r\n        this.total += localCustomers[i].bDebt;\r\n        this.list_customers.push({ ...localCustomers[i] })\r\n        \r\n      }\r\n      this.customerListShow = this.vhAlgorithm.sortVietnamesebyASC(this.list_customers, 'name')\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.observableCustomers.unsubscribe();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  \r\n  /**\r\n   * Tìm kiếm khách hàng theo trường tên bằng với giá trị truyền vào\r\n   * @example this.searchCustomer('Nguyen Van A')\r\n   */\r\n  searchCustomer(value) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n    this.customerListShow = this.vhAlgorithm.searchList(val.trim().toLowerCase(), this.list_customers, ['name'])\r\n  }\r\n \r\n\r\n  /**Cập nhật tiền nợ khách hàng*/\r\n  saveDebtPrice(customer) {\r\n    this.vhQueryCafe.updateDebtAtBeginningCustomer(customer._id, this.vhQueryCafe.getDefaultBranch()._id, parseFloat(this.debt_price.getRawValue()))\r\n      .then(() => {\r\n        this.vhComponent.showToast(2000, this.languageService.translate(\"Updated successfully\"), \"success-toast\")\r\n      })\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow']);\r\n  }\r\n\r\n  /* -----Pagination----- */\r\n  list_show_supplier: any;\r\n  onCurrentPageDataChange(value) {\r\n    this.list_show_supplier = value;\r\n  }\r\n  /**--------------------- */\r\n\r\n  /**Show modal edit price */\r\n  isVisibleEditPrice = false;\r\n  customer: any = ''\r\n  debt_price: any;\r\n   /**\r\n   * hiển thị modal chỉnh sửa công nợ đầu kì\r\n   * @param data : customer dc chọn\r\n   * @example this.showModal(customer)\r\n   */\r\n  showModal(data): void {\r\n    this.isVisibleEditPrice = true;\r\n    this.customer = { ...data };\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.debt_price = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút ok của modal chỉnh sửa công nợ đầu kì\r\n   * @example this.handleOk()\r\n   */\r\n  handleOk(): void {\r\n    this.isVisibleEditPrice = false;\r\n    if (parseFloat(this.debt_price.getRawValue()) >= 0) this.saveDebtPrice(this.customer);\r\n  }\r\n\r\n  /**\r\n    * bắt sk nhấn nút hủy của modal chỉnh sửa công nợ đầu kì\r\n    * @example this.handleCancel()\r\n    */\r\n  handleCancel(): void {\r\n    this.isVisibleEditPrice = false;\r\n  }\r\n  /** hàm sort cho các cột */\r\n  nameCol = false;\r\n  amountCol = false; \r\n  /** Hàm thực hiện sắp xếp theo collect\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'name':\r\n        if(this.nameCol){\r\n          this.customerListShow = this.vhAlgorithm.sortVietnamesebyASC([...this.customerListShow], colName);\r\n        }else{\r\n          this.customerListShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.customerListShow], colName);\r\n        }\r\n        break;\r\n      case 'bDebt':\r\n        if(this.amountCol){\r\n          this.customerListShow = this.vhAlgorithm.sortNumberbyASC([...this.customerListShow], colName);\r\n        }else{\r\n          this.customerListShow = this.vhAlgorithm.sortNumberbyDESC([...this.customerListShow], colName);\r\n        }\r\n        break; \r\n    }\r\n  }\r\n  exportCSV(){\r\n    let data = new Array();\r\n\r\n    let name = `${this.languageService.translate('cong_no_khach_hang_dau_ki_')}_${ this.vhAlgorithm.changeAlias(this.vhQueryCafe.getlocalBranch( this.vhQueryCafe.getDefaultBranch()._id).name).replace(/\\s/g, \"_\")}`;\r\n\r\n    let total: any = new Object();\r\n    total[this.languageService.translate('No.')] = \"\";\r\n    total[this.languageService.translate('Supplier name')] = this.languageService.translate(\"Total\");;\r\n    total[this.languageService.translate('Amount debt')] = this.vhAlgorithm.vhcurrencyunit_symbol(this.total); \r\n\r\n\r\n    data.push(total);\r\n\r\n    for (let i in this.customerListShow) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate('No.')] = parseInt(i) + 1;\r\n      item[this.languageService.translate('Supplier name')] = this.customerListShow[i].name;\r\n      item[this.languageService.translate('Amount debt')] = this.vhAlgorithm.vhcurrencyunit(this.customerListShow[i].bDebt); \r\n      data.push(item);\r\n    }\r\n\r\n    this.vhAlgorithm.exportXLSX(data, name) \r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n  <div nz-row class=\"product-list-header\">\r\n    <div nz-col nzSpan=\"10\" class=\"title left-all-content\">\r\n      <b>{{'Customer debt at the beginning of the period' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"7\" class=\"title center-all-content\">\r\n      <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n        <input #box type=\"text\" nz-input placeholder=\"{{'Search for customer name'|translate}}\"\r\n          (keyup)=\"searchCustomer(box.value)\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n      <!-- <nz-select nzBorderless nzShowSearch [(ngModel)]=\"sortStatus\" (ngModelChange)=\"sortFrom($event)\">\r\n                <nz-option nzLabel=\"{{'Name (A->Z)' | translate}}\" [nzValue]=\"0\"></nz-option>\r\n                <nz-option nzLabel=\"{{'Name (Z->A)' | translate}}\" [nzValue]=\"1\"></nz-option>\r\n                <nz-option nzLabel=\"{{'Debt (descending)' | translate}}\" [nzValue]=\"2\"></nz-option>\r\n                <nz-option nzLabel=\"{{'Debt (ascending)' | translate}}\" [nzValue]=\"3\"></nz-option>\r\n            </nz-select> -->\r\n      <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"exportCSV()\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        {{'Download' | translate}}</button>\r\n    </div>\r\n    <div nz-col nzSpan=\"2\"></div>\r\n  </div>\r\n\r\n  <div style=\"padding-top: 20px;\">\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n      #rowSelectionTable nzShowPagination nzShowSizeChanger\r\n      (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\" [nzData]=\"customerListShow\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"medium-size\" (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n            <b>{{'Customer' | translate}}</b>\r\n            <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th class=\"medium-size\" (click)=\"amountCol = !amountCol;sortTable('bDebt')\">\r\n            <b>{{'Amount debt'|translate}}</b>\r\n            <i nz-icon [nzType]=\"amountCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngIf=\"list_customers.length != 0\">\r\n          <td class=\"color-green medium-size\">{{'Total' | translate}}</td>\r\n          <td class=\"color-green medium-size\">{{vhAlgorithm.vhcurrencyunit_symbol(total)}}</td>\r\n        </tr>\r\n        <tr *ngFor=\"let data of list_show_supplier\">\r\n          <td class=\"medium-size\">{{ data.name}}</td>\r\n          <td class=\"medium-size\">\r\n            <button class=\"btn-price\" nz-button (click)=\"showModal(data)\">{{vhAlgorithm.vhcurrencyunit_symbol(data.bDebt\r\n              ? data.bDebt : 0)}}</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n</nz-layout>\r\n<!--Modal edit quantity-->\r\n<nz-modal nzCancelText=\"{{'Cancel' | translate}}\" [(nzVisible)]=\"isVisibleEditPrice\" [nzTitle]=\"customer.name\"\r\n  (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n  <ng-container *nzModalContent>\r\n    <div nz-row>\r\n      <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Amount debt' | translate}}</div>\r\n      <div nz-col nzSpan=\"16\">\r\n        <input class=\"price\" type=\"text\" maxlength=\"15\" [value]=\"customer.bDebt ? customer.bDebt : 0\" nz-input\r\n          placeholder=\"{{'Enter amount' | translate}}\" />\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { BeginningCustomerDebtComponent } from './beginning-customer-debt.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component:  BeginningCustomerDebtComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BeginningCustomerDebtComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class BeginningCustomerDebtModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}