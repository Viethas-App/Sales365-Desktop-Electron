{"version":3,"file":"src_app_cafe_desktop_menu_management_cashflow_money-control_money-control_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/cashflow/money-control/components/expenses/expenses.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/expenses/expenses.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/input/input.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/input/input.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/receipts/receipts.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/receipts/receipts.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/return-supplier/return-supplier.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/return-supplier/return-supplier.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/sales/sales.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/sales/sales.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/transfer-receive/transfer-receive.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/components/transfer-receive/transfer-receive.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/money-control.component.ts","./src/app/cafe/desktop/menu/management/cashflow/money-control/money-control.component.html","./src/app/cafe/desktop/menu/management/cashflow/money-control/money-control.module.ts","./src/app/cafe/interface/vh-supplier-return-invoice.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm,  VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { ExpensesA4Component } from 'src/app/cafe/components/print/expenses/A45/expenses-a4/expenses-a4.component';\r\nimport { ExpensesK57Component } from 'src/app/cafe/components/print/expenses/K57/expenses-k57/expenses-k57.component';\r\nimport { ExpensesK80Component } from 'src/app/cafe/components/print/expenses/K80/expenses-k80/expenses-k80.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-expenses',\r\n  templateUrl: './expenses.component.html',\r\n  styleUrls: ['./expenses.component.scss']\r\n})\r\nexport class ExpensesComponent implements OnInit {\r\n\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state;\r\n  data: any;\r\n  type_expense: any;\r\n  radioValue: any;\r\n  detailExpensesForm: FormGroup;\r\n  money_currency: any;\r\n  list_suppliers: any = [];\r\n  listPaymentBank: any = [];\r\n  expendGroup: any = []\r\n  disabled = true;\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n  ) {\r\n    this.vhQueryCafe.refreshLocalSpending_groups().then(() => {\r\n      this.expendGroup = this.vhQueryCafe.getlocalSpending_groups()\r\n    })\r\n    this.data = this.router.getCurrentNavigation().extras.state.invoice;\r\n    this.type_expense = this.data.bill_type;\r\n    this.detailExpensesForm = new FormGroup({\r\n      date: new FormControl({ value: this.data.date, disabled: true }),\r\n      customer: new FormControl({ value: this.data.bill_type == 12 || this.data.bill_type == 28 ? this.data.id_supplier : this.data.name, disabled: true }),\r\n      total: new FormControl({ value: this.data.total, disabled: true }),\r\n      content: new FormControl({ value: this.data.content, disabled: true }),\r\n      payment_type: new FormControl({ value: this.data.payment_type, disabled: true }),\r\n      wallet: new FormControl({ value: this.vhQueryCafe.getlocalWallet(this.data['id_wallet']), disabled: true }),\r\n      type_receipt: new FormControl({ value: this.data.bill_type, disabled: true }),\r\n      id_group: new FormControl({ value: this.data.bill_type == 8 || this.data.bill_type == 26 ? this.data.id_group : null, disabled: true })\r\n    });\r\n    this.radioValue = this.data.payment_type.toString();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.list_suppliers = this.vhQueryCafe.getlocalSuppliers();\r\n}\r\n\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n  /**back */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], {\r\n      state: this.dataRestore.dataRestore\r\n    });\r\n  }\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.data['content'] = this.detailExpensesForm['value'].content\r\n        this.data['supplier'] = [12, 28].includes(this.type_expense) ? this.vhQueryCafe.getlocalSupplier(this.data['id_supplier']) : this.detailExpensesForm['value'].customer\r\n        this.data['employee'] = this.vhAuth.getlocalEmployee(this.data['id_employee'])\r\n        this.data['total'] = parseInt(this.money_currency.getRawValue())\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['type']), {\r\n          billInfo: this.data,\r\n          printer: printer,\r\n        }, false, false, `modal-print-${printer['type']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { })\r\n          })\r\n      }\r\n    }, (err) => {\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/cafe/dashboard/management/printer']))\r\n    })\r\n  }\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n    switch (type) {\r\n      case 'K57': return ExpensesK57Component\r\n      case 'K80': return ExpensesK80Component\r\n      default: return ExpensesA4Component\r\n    }\r\n  }\r\n  /*----------Print------------------*/\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.expense.enable) resolve(printer.expense)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 8: {\r\n        return (this.languageService.translate(\"Other expenses\"));\r\n      }\r\n      case 12: {\r\n        return (this.languageService.translate(\"Pay for supplier liabilities\"));\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"17\" class=\"title left-all-content\">\r\n            <b>{{checkBillType(data.bill_type)}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"right-all-content\">\r\n            <!-- <div>\r\n                <button class=\"btn-data center-all-content\" nz-button nzType=\"default\" (click)=\"showPrint()\">\r\n                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Print' | translate}}</button>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"detailExpensesForm\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"large-size\"><b>{{'Payment method' | translate}}</b></div>\r\n                    <nz-form-item style=\"margin-top: 5px;\">\r\n                        <nz-radio-group class=\"orginial-disabled\" formControlName=\"payment_type\" [(ngModel)]=\"radioValue\">\r\n                            <label nz-radio [nzDisabled]=\"disabled\" nzValue=\"1\">{{'Cash' | translate}}</label>\r\n                            <label nz-radio [nzDisabled]=\"disabled\" nzValue=\"3\"><b>{{'Account' |\r\n                                    translate}}:</b>{{radioValue == 3 ?\r\n                                data.payment_name : ''}}</label>\r\n                        </nz-radio-group>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"large-size\"><b>{{'Expenses information' | translate}}</b></div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Date' | translate}}</b></div>\r\n                        <nz-date-picker class=\"orginial-disabled\" formControlName=\"date\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control nzErrorTip=\"{{'Please enter amount of money' | translate}}\">\r\n                                <nz-input-group class=\"orginial-disabled\">\r\n                                    <input type=\"text\" maxlength=\"15\" class=\"price\" formControlName=\"total\" nz-input placeholder=\"{{'Enter amount' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group class=\"orginial-disabled\">\r\n                                    <input type=\"text\" formControlName=\"content\" nz-input placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type_expense == 12\">\r\n                        <div class=\"medium-size\"><b>{{'Supplier name'|translate}}*</b></div>\r\n                        <nz-form-control nzErrorTip=\"{{'Select supplier' | translate}}\">\r\n                            <nz-select class=\"orginial-disabled\" nzShowSearch [nzAllowClear]=\"false\" formControlName=\"customer\" nzPlaceHolder=\"{{'Select supplier' | translate}}\" required>\r\n                                <nz-option *ngFor=\"let option of list_suppliers\" nzLabel=\"{{option.name}}\" nzValue=\"{{option._id}}\">\r\n                                </nz-option>\r\n                            </nz-select>\r\n                        </nz-form-control>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type_expense == 8\">\r\n                        <div class=\"medium-size\"><b>{{'Receiver'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group class=\"orginial-disabled\">\r\n                                    <input type=\"text\" formControlName=\"customer\" nz-input placeholder=\"{{'Enter particulars'}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n                <div nz-row *ngIf=\"type_expense == 8 || type_expense == 26\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Expenditure group'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-select formControlName=\"id_group\">\r\n                                    <nz-option *ngFor=\"let item of expendGroup\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                                    </nz-option>\r\n                                </nz-select>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQueryCafe, VhAuth, VhAlgorithm, VhQuery } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhPurchaseInvoices, VhPurchaseInvoice, VhPurchaseInvoiceDetail } from 'src/app/cafe/interface/vh-purchase-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-input',\r\n  templateUrl: './input.component.html',\r\n  styleUrls: ['./input.component.scss']\r\n})\r\nexport class InputComponent {\r\n\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhPurchaseInvoices\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery:VhQuery\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.id)\r\n    this.init()\r\n  }\r\n\r\n  init(invoice: VhPurchaseInvoice = null, invoiceDetail: VhPurchaseInvoiceDetail[] = null) {\r\n    this.invoice = new VhPurchaseInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalSupplier(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        console.log(invoiceDetail);\r\n        \r\n        let invoiceDetailFresh: VhPurchaseInvoiceDetail[] = invoiceDetail.map(item => {\r\n          let product = this.vhQueryCafe.getlocalProduct(item.id_product)\r\n          return { ...item, name: product.name ? product.name : this.languageService.translate('Not found'), unit: product.unit }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.purchase.enable) resolve(printer.purchase)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    // this.checkPrint().then((printer) => {\r\n    //   if (printer)\r\n    //     this.vhComponent.showModal(this.renderPrintPage(printer['type']), { printer, invoice: this.invoice }, false, false, `modal-print-${printer['type']}`)\r\n    // }, (err) => {\r\n    //   this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n    //     .then(() => this.router.navigate(['/cafe/dashboard/management/printer']))\r\n    // })\r\n  }\r\n\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n    // switch (type) {\r\n    //   case 'K57': return PurchaseK57aComponent\r\n    //   case 'K80': return PurchaseK80aComponent\r\n    //   default: return PurchaseA45aComponent\r\n    // }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], { state: this.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#purchase-invoice-detail-today\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-invoice-detail-today-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#purchase-invoice-detail-today\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-invoice-detail-today-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"purchase-invoice-detail-today\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header sales-invoice-detail-today-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Purchase' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <!-- <div>\r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                            {{'Print' | translate}}\r\n                        </button>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                                <td>{{item.name}}</td>\r\n                                <td nzAlign='center'>{{item.quantity}}</td>\r\n                                <td nzAlign='right'>\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    <del style=\"font-size: 0.7rem;\">\r\n                                        {{item.price_origin > item.price ?\r\n                                        vhAlgorithm.vhcurrencyunit(item.price_origin): ''}}\r\n                                    </del>\r\n                                </td>\r\n                                <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Employee' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Purchase date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Supplier information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner\" nz-col nzSpan=\"24\">\r\n                    <div>\r\n                        <p>{{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone | translate}}</p>\r\n                        <p>{{renderAddress(invoiceInfo.partner)}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe, VhQuery, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-receipts',\r\n  templateUrl: './receipts.component.html',\r\n  styleUrls: ['./receipts.component.scss']\r\n})\r\nexport class ReceiptsComponent implements OnInit {\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state;\r\n  data: any;\r\n  type_receipt: any;\r\n  radioValue: any;\r\n  detailReceiptForm: FormGroup;\r\n  money_currency: any;\r\n  list_customers: any = [];\r\n  listPaymentBank: any = [];\r\n  disabled = true;\r\n  receiptsGroup: any = []\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n  ) {\r\n    this.vhQueryCafe.refreshLocalIncoming_groups().then(() => {\r\n      this.receiptsGroup = this.vhQueryCafe.getlocalIncoming_groups()\r\n    })\r\n    this.data = this.router.getCurrentNavigation().extras.state.invoice;\r\n    this.type_receipt = this.data.bill_type;\r\n    this.detailReceiptForm = new FormGroup({\r\n      date: new FormControl({ value: this.data.date, disabled: true }),\r\n      customer: new FormControl({\r\n        value: this.data.bill_type == 11 || this.data.bill_type == 27 ? this.data.id_customer : this.data.name,\r\n        disabled: true\r\n      },\r\n        Validators.compose([Validators.required])),\r\n      total: new FormControl({ value: this.data.total, disabled: true },\r\n        Validators.compose([Validators.required, Validators.pattern(\"(^[0?=[.]] |^[^.,-][,0-9]*)(([.](?=[0-9]){1}[0-9]{0,5})|)\")])),\r\n      content: new FormControl({ value: this.data.content, disabled: true }),\r\n      payment_type: new FormControl(this.data.payment_type),\r\n      wallet: new FormControl(this.vhQueryCafe.getlocalWallet(this.data['id_wallet'])),\r\n      type_receipt: new FormControl(this.data.bill_type),\r\n      id_group: new FormControl({ value: this.data.bill_type == 7 || this.data.bill_type == 25 ? this.data.id_group : null, disabled: true })\r\n    });\r\n    this.radioValue = this.data.payment_type.toString();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCustomersList();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n\r\n  /**get customers list */\r\n  getCustomersList() {\r\n    this.list_customers = this.vhQueryCafe.getlocalCustomers().filter(customer => customer['_id'] != \"id_retail\" && customer['debt_enable'] == true);\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], {\r\n      state: this.dataRestore.dataRestore\r\n    });\r\n  }\r\n  showPrint() {\r\n    // this.checkPrint().then((printer) => {\r\n    //   if (printer) {\r\n    //     this.data['content'] = this.detailReceiptForm['value'].content\r\n    //     this.data['customer'] = [11, 27].includes(this.type_receipt) ? this.vhQueryCafe.getlocalCustomer(this.data['id_customer']) : this.detailReceiptForm['value'].customer\r\n    //     this.data['employee'] = this.vhAuth.getlocalEmployee(this.data['id_employee'])\r\n    //     this.data['total'] = parseInt(this.money_currency.getRawValue())\r\n        // this.vhComponent.showModal(this.renderPrintPage(printer['type']), {\r\n        //   billInfo: this.data,\r\n        //   printer: printer,\r\n        // }, false, false, `modal-print-${printer['type']}`)\r\n        //   .then(modal => {\r\n        //     modal.onWillDismiss().then(dataReturn => { })\r\n        //   })\r\n    //   }\r\n    // }, (err) => {\r\n    //   this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n    //     .then(() => this.router.navigate(['/cafe/dashboard/management/printer']))\r\n    // })\r\n\r\n  }\r\n  // private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n  //   switch (type) {\r\n  //     // case 'K57': return ReceiptK57Component\r\n  //     // case 'K80': return ReceiptK80Component\r\n  //     // default: return ReceiptA4Component\r\n  //   }\r\n  // }\r\n  /*----------Print------------------*/\r\n  // checkPrint() {\r\n  //   return new Promise((resolve, rejects) => {\r\n  //     let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n  //     if (printer && printer.receipt.enable) resolve(printer.receipt)\r\n  //     else rejects(\"No\")\r\n  //   })\r\n  // }\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 7: {\r\n        return (this.languageService.translate(\"Other receipts\"));\r\n      }\r\n      case 11: {\r\n        return (this.languageService.translate(\"Receive from customer receivables\"));\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"17\" class=\"title left-all-content\">\r\n            <b>{{checkBillType(data.bill_type)}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"right-all-content\">\r\n            <!-- <div>\r\n                <button class=\"btn-data center-all-content\" nz-button nzType=\"default\" (click)=\"showPrint()\">\r\n                    <i style=\"padding-top: 3px;\" nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Print' | translate}}</button>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"detailReceiptForm\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"large-size\"><b>{{'Payment method' | translate}}</b></div>\r\n                    <nz-form-item style=\"margin-top: 5px;\">\r\n                        <nz-radio-group formControlName=\"payment_type\" [(ngModel)]=\"radioValue\">\r\n                            <label nz-radio [nzDisabled]=\"disabled\" nzValue=\"1\"><b>{{'Cash' | translate}}</b></label>\r\n                            <label nz-radio [nzDisabled]=\"disabled\" nzValue=\"3\"><b>{{'Account' |\r\n                                    translate}}:</b>{{radioValue == 3 ?\r\n                                data.payment_name : ''}}</label>\r\n                        </nz-radio-group>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"large-size\"><b>{{'Receipt information' | translate}}</b></div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Date' | translate}}</b></div>\r\n                        <nz-date-picker class=\"orginial-disabled\" formControlName=\"date\" [nzFormat]=\"'dd/MM/yyyy'\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control class=\"orginial-disabled\" nzErrorTip=\"{{'Please enter amount of money' | translate}}\">\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"text\" maxlength=\"15\" class=\"price\" formControlName=\"total\" nz-input placeholder=\"{{'Enter amount' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group class=\"orginial-disabled\">\r\n                                    <input type=\"text\" formControlName=\"content\" nz-input placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type_receipt == 11 || type_receipt == 27\">\r\n                        <div class=\"medium-size\"><b>{{'Customer name'|translate}}*</b></div>\r\n                        <nz-form-control nzErrorTip=\"{{'Select customer' | translate}}\">\r\n                            <nz-select class=\"orginial-disabled\" nzShowSearch [nzAllowClear]=\"false\" formControlName=\"customer\" nzPlaceHolder=\"{{'Select customer' | translate}}\">\r\n                                <nz-option *ngFor=\"let option of list_customers\" nzLabel=\"{{option.name}} - {{option.phone}}\" nzValue=\"{{option._id}}\">\r\n                                </nz-option>\r\n                            </nz-select>\r\n                        </nz-form-control>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type_receipt == 7 || type_receipt == 25\">\r\n                        <div class=\"medium-size\"><b>{{'Payer'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group class=\"orginial-disabled\">\r\n                                    <input type=\"text\" formControlName=\"customer\" nz-input placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n                <div nz-row *ngIf=\"type_receipt == 7 || type_receipt == 25\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Revenue group'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-select formControlName=\"id_group\">\r\n                                    <nz-option *ngFor=\"let item of receiptsGroup\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                                    </nz-option>\r\n                                </nz-select>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQueryCafe, VhAuth, VhAlgorithm, VhQuery } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhSupplierReturnInvoices, VhSupplierReturnInvoiceDetail } from 'src/app/cafe/interface/vh-supplier-return-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-return-supplier',\r\n  templateUrl: './return-supplier.component.html',\r\n  styleUrls: ['./return-supplier.component.scss']\r\n})\r\nexport class ReturnSupplierComponent {\r\n\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhSupplierReturnInvoices\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery:VhQuery\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.id)\r\n    this.init()\r\n  }\r\n\r\n  init(invoice: VhSupplierReturnInvoices = null, invoiceDetail: VhSupplierReturnInvoiceDetail[] = null) {\r\n    this.invoice = new VhSupplierReturnInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalSupplier(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhSupplierReturnInvoiceDetail[] = invoiceDetail.map(item => {\r\n          let product = this.vhQueryCafe.getlocalProduct(item.id_product)\r\n          return { ...item, name: product.name ? product.name : this.languageService.translate('Not found'), unit: product.unit }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.return_supplier.enable) resolve(printer.return_supplier)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    // this.checkPrint().then((printer) => {\r\n    //   if (printer)\r\n    //     this.vhComponent.showModal(this.renderPrintPage(printer['type']), { printer, invoice: this.invoice }, false, false, `modal-print-${printer['type']}`)\r\n    // }, (err) => {\r\n    //   this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n    //     .then(() => this.router.navigate(['/cafe/dashboard/management/printer']))\r\n    // })\r\n  }\r\n\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n    // switch (type) {\r\n    //   case 'K57': return ReturnSupplierK57aComponent\r\n    //   case 'K80': return ReturnSupplierK80aComponent\r\n    //   default: return ReturnSupplierA45aComponent\r\n    // }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], { state: this.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#return-invoice-supplier-detail\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".return-invoice-supplier-detail-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#return-invoice-supplier-detail\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".return-invoice-supplier-detail-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"return-invoice-supplier-detail\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header return-invoice-supplier-detail-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Return supplier' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <!-- <div>\r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                            {{'Print' | translate}}\r\n                        </button>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                                <td>{{item.name}}</td>\r\n                                <td nzAlign='center'>{{item.quantity}}</td>\r\n                                <td nzAlign='right'> {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    <del style=\"font-size: 0.7rem;\">\r\n                                        {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                        : ''}}\r\n                                    </del>\r\n                                </td>\r\n                                <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Delivery' | translate}}</b>\r\n                    <div>{{invoiceInfo['delivery'] ? invoiceInfo['delivery'] : \"None\" | translate}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax())}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>"," \r\nimport { VhOrderInvoice, VhOrderInvoiceDetail ,VhOrderInvoices} from './../../../../../../../interface/vh-order-invoice';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport {   VhAuth, VhAlgorithm, VhQueryCafe, VhQuery } from 'ionic-vhframeworks';\r\nimport { SalesA45aComponent } from 'src/app/cafe/components/print/sales/A45/sales-a45a/sales-a45a.component';\r\nimport { SalesK57aComponent } from 'src/app/cafe/components/print/sales/K57/sales-k57a/sales-k57a.component';\r\nimport { SalesK80aComponent } from 'src/app/cafe/components/print/sales/K80/sales-k80a/sales-k80a.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component'; \r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-sales',\r\n  templateUrl: './sales.component.html',\r\n  styleUrls: ['./sales.component.scss']\r\n})\r\nexport class SalesComponent {\r\n\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery:VhQuery\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.id)\r\n    console.log(this.dataRestore);\r\n    this.init()\r\n  }\r\n\r\n  init(invoice: VhOrderInvoice = null, invoiceDetail: VhOrderInvoiceDetail[] = null) {\r\n    this.invoice = new VhOrderInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhOrderInvoiceDetail[] = invoiceDetail.map(item => {\r\n          if (item.combos) {\r\n            let combo: any = {\r\n              ...item,\r\n              ... this.getNameProduct(item.id_product, item.id_subproduct),\r\n              combos: item.combos.map(element => {\r\n                return { ...element, ... this.getNameProduct(element.id_product, element.id_subproduct) }\r\n              })\r\n            }\r\n\r\n            return { ...combo, subComboName: this.getSubCombo(combo.combos) }\r\n          } else\r\n            return {\r\n              ...item,\r\n              ... this.getNameProduct(item.id_product, item.id_subproduct)\r\n            }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  getNameProduct(id_prod: string, id_subProd: string) {\r\n    let product = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = product.subs.find(item => item._id == id_subProd)\r\n    return { name: `${product ? product.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}`, unit: product.unit }\r\n  }\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.sales.enable) resolve(printer.sales)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['type']), { printer, invoice: this.invoice }, false, false, `modal-print-${printer['type']}`)\r\n    }, (err) => {\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/cafe/dashboard/management/printer']))\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n    switch (type) {\r\n      case 'K57': return SalesK57aComponent\r\n      case 'K80': return SalesK80aComponent\r\n      default: return SalesA45aComponent\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], { state: this.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById('sales-invoice-detail-today') && document.querySelector(\".sales-cart-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.getElementById('sales-invoice-detail-today').clientHeight - document.querySelector(\".sales-cart-header\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"sales-invoice-detail-today\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Sales order' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <!-- <div>\r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                            {{'Print' | translate}}\r\n                        </button>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                                <td>{{item.name}} <br>\r\n                                    <ng-container *ngIf=\"item.ptype == 5\">\r\n                                        <span class=\"sub-name\">{{item.subComboName}}</span><br>\r\n                                    </ng-container>\r\n                                </td>\r\n                                <td nzAlign='center'>{{item.quantity}}</td>\r\n                                <td nzAlign='right'>\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    <del style=\"font-size: 0.7rem;\">\r\n                                        {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                        : ''}}\r\n                                    </del>\r\n                                </td>\r\n                                <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Delivery' | translate}}</b>\r\n                    <div>{{invoiceInfo['delivery'] ? invoiceInfo['delivery'] : \"None\" | translate}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() -\r\n                        invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm,  VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { ReceiveMoneyA45Component } from 'src/app/cafe/components/print/receive-money/A45/receive-money-a45/receive-money-a45.component';\r\nimport { ReceiveMoneyK57Component } from 'src/app/cafe/components/print/receive-money/K57/receive-money-k57/receive-money-k57.component';\r\nimport { ReceiveMoneyK80Component } from 'src/app/cafe/components/print/receive-money/K80/receive-money-k80/receive-money-k80.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-transfer-receive',\r\n  templateUrl: './transfer-receive.component.html',\r\n  styleUrls: ['./transfer-receive.component.scss']\r\n})\r\nexport class TransferReceiveComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public lang: LanguageService,\r\n  ) {\r\n  }\r\n  checkPrinter: boolean = false\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  billDetail: any = this.router.getCurrentNavigation().extras.state.invoice\r\n  nzOptions: any;\r\n  ngOnInit(): void {\r\n    let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n    if (printer) {\r\n      if (printer.delivery_receive_money) this.checkPrinter = printer.delivery_receive_money.enable\r\n    }\r\n    this.getPaymentBankList();\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/money-control'], { state: this.dataRestore });\r\n  }\r\n  /**Get payment bank list */\r\n  payment_method: Array<any> = []\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQueryCafe.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n    let listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n    let options = [{ value: '1', label: this.lang.translate('Cash'), isLeaf: true }, { value: '3', label: this.lang.translate('Account'), children: listPaymentBank }]\r\n    this.nzOptions = options;\r\n    if (this.billDetail['bill_type'] == 33) this.billDetail['branch_name'] = this.vhQueryCafe.getlocalBranch(this.billDetail['id_branch_receive']).name\r\n    else this.billDetail['branch_name'] = this.vhQueryCafe.getlocalBranch(this.billDetail['id_branch_send']).name\r\n    console.log(this.billDetail);\r\n  }\r\n  showPrint(goback?) {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['type']), {\r\n          billInfo: {\r\n            ...this.billDetail,\r\n            id_branch_send: this.billDetail['id_branch'],\r\n            id_employee: this.vhAuth.getUser()._id\r\n          },\r\n          payment_type: +this.payment_method[0],\r\n          id_wallet: +this.payment_method[0] == 1 ? 'id_cash' : this.payment_method[1],\r\n          printer: printer\r\n        }, false, false, `modal-print-${printer['type']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { if (goback) this.goBack() })\r\n          })\r\n      }\r\n    }, err => { this.goBack() })\r\n  }\r\n\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'A4') {\r\n    switch (type) {\r\n      case 'A4': return ReceiveMoneyA45Component;\r\n      case 'K57': return ReceiveMoneyK57Component;\r\n      case 'K80': return ReceiveMoneyK80Component;\r\n    }\r\n  }\r\n  /*----------Print------------------*/\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n      if (printer && printer.delivery_receive_money.enable) resolve(printer.delivery_receive_money)\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 33: {\r\n        return (this.lang.translate(\"Money transfer receipt\"));\r\n      }\r\n      case 34: {\r\n        return (this.lang.translate(\"Money received receipt\"));\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{checkBillType(billDetail['bill_type'])}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <!-- <div (click)=\"showPrint()\" *ngIf=\"billDetail['bill_type'] == 34\">\r\n                <button class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"print-outline\"></ion-icon>\r\n                    {{'Print'|translate}}\r\n                </button>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                    <div class=\"border-cus\">{{billDetail.date | date :\"dd/MM/yyyy\"}}</div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"large-size\"><b>{{'Payment method'|translate}}*</b></div>\r\n                    <div class=\"border-cus\">{{(billDetail['payment_type'] == 1 ? \"Cash\" :\r\n                        billDetail['payment_name']) |\r\n                        translate}}</div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <div class=\"border-cus\">\r\n                        {{vhAlgorithm.vhcurrencyunit(billDetail.total)}}\r\n                    </div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'From branch'|translate}}*</b></div>\r\n                    <div class=\"border-cus\">{{billDetail['branch_name']}}</div>\r\n                </div>\r\n                <div *ngIf=\"billDetail['content'].length\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <div class=\"border-cus\">\r\n                        {{billDetail['content']}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { CashBook } from 'src/app/cafe/interface/vh-report';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-money-control',\r\n  templateUrl: './money-control.component.html',\r\n  styleUrls: ['./money-control.component.scss']\r\n})\r\nexport class MoneyControlComponent implements OnInit {\r\n  /**Chưa dịch\r\n   * Đối soát hóa đơn này\r\n   * Hủy đối soát hóa đơn này\r\n   */\r\n\r\n\r\n  public date: Date[] = [new Date(), new Date()];\r\n  loadStatus: \"Drag to sync...\" | \"No data!\" = \"Drag to sync...\";\r\n  diary: CashBook = this.init();\r\n  selectedValue: any = '1';\r\n  list_category: any = []\r\n  list_show: any = []\r\n  branchList: Array<any> = []\r\n  search_branchList = []\r\n  id_branch_report: string = ''\r\n  useBranch: boolean = this.fncService.checkUsingBranch()\r\n\r\n  /**Xử lý lấy dữ liệu từ modal để filter */\r\n  radioValueInvoice: any = 'all';\r\n  radioValueAccount: any = 'all';\r\n  radioValueCashier: any = 'all';\r\n  datafilter: any = {\r\n    bill_type: [1, 2, 7, 8, 10, 11, 12, 33, 34],\r\n    id_wallet: \"all\",\r\n    id_employee: \"all\"\r\n  }\r\n  listEmployee: any = [{ _id: 'all', name: this.lang.translate('All') }];\r\n  listAccountDefault: Array<any> = [{ _id: 'id_cash', name: this.lang.translate('Cash') }];\r\n  listAccount: Array<any> = [{ _id: 'id_cash', name: this.lang.translate('Cash') }]\r\n  listBill: any = [{ _id: 'all', name: this.lang.translate('All') }, { _id: '1', name: \"Receipt\" }, { _id: '2', name: \"Expense\" }]\r\n  dataRestore: any = null\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private router: Router,\r\n    private vhAuth: VhAuth,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    private datePipe: DatePipe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService,\r\n    private nzModal: NzModalService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state;\r\n    this.getDataModal();\r\n    this.getBranches();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    //nhớ lại trạng thái\r\n    if (this.dataRestore) {\r\n      this.id_branch_report = this.dataRestore.id_branch_report\r\n      this.selectedValue = this.dataRestore.selectedValue\r\n      this.date = this.dataRestore.date\r\n      this.radioValueInvoice = this.dataRestore.radioValueInvoice\r\n      this.radioValueAccount = this.dataRestore.radioValueAccount\r\n      this.radioValueCashier = this.dataRestore.radioValueCashier\r\n      this.diary = this.dataRestore.diary\r\n    }\r\n  }\r\n\r\n  getBranches() {\r\n    let branches = [...this.vhQueryCafe.getlocalBranchs()] // danh sách toàn bộ chi nhánh\r\n    let employee = this.vhAuth.getUser() // thông tn nhân viên\r\n    let defaultBranch = this.vhQueryCafe.getDefaultBranch()._id // chi nhánh mặc định khi đăng nhập (lấy id chi nhánh)\r\n\r\n    if (this.useBranch) { // kiểm tra xem có 2 chi nhánh trở lên\r\n\r\n      if (employee['owner'] == 'boss') { // kiểm tra tài khoản đăng nhập là boss\r\n        this.branchList = branches // gán danh sách chi nhánh show ra HTML\r\n        if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        this.id_branch_report = defaultBranch // gán mặc định chi nhánh mặc định xem báo cáo là chi nhánh đăng nhập vô\r\n      }\r\n\r\n      else { // trường hợp tài khoản là nhân viên\r\n        this.vhAuth.getPermission(employee['_id']).then(result => { // get quyền nhân viên được xem báo cáo chi nhánh nào\r\n          branches.forEach(item => {\r\n            if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item }) // kiểm tra chi nhánh đc xem báo cáo, gán cho branchList show ra HMLT \r\n          })\r\n          if (this.branchList.length > 1) { // trường hợp được xem báo cáo 2 chi nhánh trở lên\r\n            this.branchList.unshift({ _id: \"all\", name: \"All\" }) // đẩy xem tất cả vô, nếu có 2 chi nhánh trở lên\r\n            for (let i in this.branchList) {\r\n              if (this.branchList[i]._id == defaultBranch) return this.id_branch_report = defaultBranch // nếu có gán chi nhánh xem báo mặc định là chi nhánh mặc định (đăng nhập)\r\n              else this.id_branch_report = this.branchList[1]._id // ngược lại gán chi nhánh mặc định là chi nhánh thứ 1\r\n            }\r\n          }\r\n          else if (this.branchList.length == 1) { // nếu chỉ đc xem báo cáo 1 chi nhánh , lấy mặc định là chi nhánh đó\r\n            this.id_branch_report = this.branchList[0]._id\r\n          }\r\n          else this.vhComponent.alertMessageDesktop(\"warning\", \"Bạn không được chọn chi nhánh xem báo cáo\") // kg có chi nhánh xem báo cáo\r\n        })\r\n        \r\n      }\r\n      this.search_branchList = this.branchList\r\n    } else this.id_branch_report = defaultBranch // chỉ xài 1 chi nhánh \r\n    this.getPaymentBankList()\r\n  }\r\n\r\n  search(value){\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.branchList = this.vhAlgorithm.searchList(tempVal, this.search_branchList, ['name'])\r\n    else this.branchList = this.search_branchList\r\n  }\r\n\r\n  showReport() {\r\n    this.getData();\r\n  }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\"#footer-cashbook\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\")  ) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight - document.querySelector(\"#footer-cashbook\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - 110 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  init(startTime: Date = new Date(), endTime: Date = new Date()): CashBook {\r\n    this.loadStatus = \"Drag to sync...\";\r\n    startTime.setHours(0, 0, 0, 0)\r\n    endTime.setHours(23, 59, 59, 59)\r\n    return { startTime, endTime, cashbook_first: 0, cashbook_last: 0, list: [], income: 0, expenditure: 0 }\r\n  }\r\n  getEmployee(id_employee) {\r\n    return this.vhAuth.getlocalEmployee(id_employee);\r\n  }\r\n  getCustomer(id_customer) {\r\n    return this.vhQueryCafe.getlocalCustomer(id_customer)\r\n  }\r\n  getSupplier(id_supplier) {\r\n    return this.vhQueryCafe.getlocalSupplier(id_supplier)\r\n  }\r\n\r\n\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n      this.diary = this.init(new Date(event[0]), new Date(event[1]));\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.lang.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.lang.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n      this.diary = this.init(new Date(event[0]), new Date(event[1]));\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQueryCafe.getReportIncomeExpenditureDiary(this.diary['startTime'], this.diary['endTime'],\r\n        this.datafilter['id_wallet'],\r\n        this.datafilter['id_employee'],\r\n        [...this.datafilter['bill_type']], this.id_branch_report)\r\n        .then((res: any) => {\r\n          console.log(res);\r\n          \r\n          this.diary['expenditure'] = res['expenditure']\r\n          this.diary['income'] = res['income']\r\n          this.diary['cashbook_first'] = res['cashbook_first']\r\n          this.diary['cashbook_last'] = res['cashbook_last']\r\n          this.diary['list'] = res.docs.map((item: any) => {\r\n            let row: any = {\r\n              verify_status_money: false,\r\n              ...item,\r\n              receipt : [1,7,10,11,15,34,40,50].includes(item.bill_type) ? item.payment : 0,\r\n              expense : [2,3,8,12,33].includes(item.bill_type) ? item.payment : 0,\r\n              cashier_name: this.getEmployee(item.id_employee)['name'],\r\n              account_name: item.payment_type == 1 ? this.lang.translate(\"Cash\") : (this.vhQueryCafe.getlocalWallet(item.id_wallet)['name'])\r\n            }\r\n            if (!row['id_wallet']) row['id_wallet'] = 'id_cash';\r\n            if (row['id_wallet'] && (row['payment_type'] == 1)) row['id_wallet'] = 'id_cash';\r\n            if (row['id_customer']) row['customer'] = this.getCustomer(item.id_customer);\r\n            if (row['id_supplier']) row['supplier'] = this.getSupplier(item.id_supplier);\r\n            if (row['id_verifier_money'] && row['verify_date_money']) row['control_info'] =\r\n              `${this.getEmployee(row['id_verifier_money'])['name']} ${this.lang.translate('has checked on')} ${this.datePipe.transform(row['verify_date_money'], 'dd/MM/yyyy')}`\r\n            return row;\r\n          })\r\n        }).catch(err => console.error(err)).finally(() => {\r\n          this.loadStatus = \"No data!\"\r\n          this.vhComponent.hideLoading(0);\r\n        });\r\n    });\r\n\r\n  }\r\n\r\n  renderContent(data) {\r\n    switch (data['bill_type']) {\r\n      case 1:\r\n        return this.lang.translate('Receipts from sales invoices') + \" \" +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n      case 2:\r\n        return this.lang.translate('Expenses for purchase invoices') + \" \" +  \" (\" + data['supplier'].name + \")\"\r\n      case 3:\r\n        return this.lang.translate('Expenses for customer returned invoices') + \" \" +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n      case 7:  return this.lang.translate('Other receipts') + \": \" + data['content'] + \" \" + data['bill_code'];\r\n      case 8:\r\n        return this.lang.translate('Other expenses') + \": \" + data['content'] + \" \" + data['bill_code'];\r\n      case 10:\r\n        return this.lang.translate(\"Receipts from return supplier invoices\") + \" \" +  \" (\" + data['supplier'].name + \")\"\r\n      case 11:\r\n        return data['content'] +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n      case 12:\r\n        return data['content'] +  \" (\" + data['supplier'].name + \")\"\r\n      case 15:\r\n        return this.lang.translate('Receipts from warranty, repair invoices') + \" \" +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n      case 33: return this.vhQueryCafe.getlocalBranch(data.id_branch).name + \" \" + this.lang.translate('transfers money to') + \" \" + this.vhQueryCafe.getlocalBranch(data.id_branch_receive).name\r\n      case 34: return this.vhQueryCafe.getlocalBranch(data.id_branch).name + \" \" + this.lang.translate('receive money from') + \" \" + this.vhQueryCafe.getlocalBranch(data.id_branch_send).name\r\n      case 40:\r\n        return this.lang.translate('Thu hóa đơn bán voucher') + \" \" +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n      case 50:\r\n        return this.lang.translate('Thu hóa đơn bán thẻ trả trước') + \" \" +  \" (\" + this.lang.translate(data['customer'].name) + \")\"\r\n    }\r\n  }\r\n\r\n  checkTypeBill(valueType) {\r\n    switch (valueType) {\r\n      case 'all': this.datafilter['bill_type'] = [1, 2, 3, 7, 8, 10, 11, 12, 15, 33, 34]; break;\r\n      case '1': this.datafilter['bill_type'] = [1, 10, 7, 11, 34]; break;\r\n      case '2': this.datafilter['bill_type'] = [2, 3, 8, 12, 33]; break;\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow']);\r\n  }\r\n\r\n  /* -----Pagination----- */\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n  /**--------------------- */\r\n\r\n  /** Zorro modal */\r\n  isVisible = false;\r\n  showModal(): void {\r\n    this.isVisible = true;\r\n  }\r\n  handleOk(): void {\r\n    this.isVisible = false;\r\n    this.checkTypeBill(this.radioValueInvoice);\r\n    this.datafilter['id_wallet'] = this.radioValueAccount;\r\n    this.datafilter['id_employee'] = this.radioValueCashier;\r\n    //this.getData();\r\n  }\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  getDataModal() {\r\n    for (let item of this.vhAuth.getlocalEmployees()) {\r\n      this.listEmployee.push({ _id: item._id, name: item.name })\r\n    }\r\n  }\r\n\r\n  ////////////////////////////////////////EXPORT REPORT/////////////////////////////////////////\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n  status: boolean = false;\r\n  exportCSV() {\r\n    this.status = true;\r\n    let data = [];\r\n    let name = `${this.lang.translate('_diary')}_${this.lang.translate(\"_from\")}_${this.format_date(this.diary['startTime'])}_${this.lang.translate(\"_to\")}_${this.format_date(this.diary['endTime'])}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQueryCafe.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`;\r\n    let total: any = new Object();\r\n    total[this.lang.translate('No.')] = \"\";\r\n    total[this.lang.translate('Date')] = this.lang.translate('Total');\r\n    total[this.lang.translate('Particulars')] = \"\";\r\n    total[this.lang.translate('Bill code')] = \"\";\r\n    total[this.lang.translate('Receipt')] = this.diary.income == null ? 0 : this.diary.income;\r\n    total[this.lang.translate('Expense')] = this.diary.expenditure == null ? 0 : this.diary.expenditure;\r\n    total[this.lang.translate('Cashier')] = \"\";\r\n    total[this.lang.translate('Account')] = \"\";\r\n\r\n    data.push(total);\r\n\r\n    for (let i in this.diary.list) {\r\n      let item: any = new Object();\r\n      item[this.lang.translate('No.')] = parseInt(i) + 1;\r\n      item[this.lang.translate('Date')] = this.format_date(this.diary.list[i].date);\r\n      item[this.lang.translate('Particulars')] = this.renderContent(this.diary.list[i]);\r\n      item[this.lang.translate('Bill code')] = (this.diary.list[i].bill_code);\r\n      item[this.lang.translate('Receipt')] = [1, 10, 11, 34].includes(this.diary.list[i].bill_type) ? this.diary.list[i].payment : 0;\r\n      item[this.lang.translate('Expense')] = [2, 3, 12, 33].includes(this.diary.list[i].bill_type) ? this.diary.list[i].payment : 0;\r\n      item[this.lang.translate('Cashier')] = this.diary.list[i].cashier_name;\r\n      item[this.lang.translate('Account')] = this.diary.list[i].account_name;\r\n      data.push(item);\r\n\r\n      if (parseInt(i) == this.diary.list.length - 1) this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n    }\r\n\r\n    if (!this.diary.list.length) this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n  getPaymentBankList() {\r\n    this.listAccount = [...this.listAccountDefault]\r\n    this.selectedValue = ''\r\n    let all = { _id: 'all', name: this.lang.translate('All') }\r\n    if (this.id_branch_report == 'all') {\r\n      this.listAccount = [all]\r\n      this.selectedValue = 'all'\r\n    }\r\n    else {\r\n      let listPayment = this.vhQueryCafe.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.id_branch_report);\r\n      for (let i in listPayment) {\r\n        this.listAccount.push({\r\n          _id: listPayment[i]._id,\r\n          name: listPayment[i].name\r\n        })\r\n      }\r\n      this.listAccount.unshift(all)\r\n    }\r\n  }\r\n  /**\r\n   * Đối soát bill\r\n   */\r\n  checkedBill(checked, bill) {\r\n    this.nzModal.confirm({\r\n      nzTitle: `<b>${this.lang.translate(\"Confirm\")}?</b>`,\r\n      nzContent: `<i>${checked ? this.lang.translate(\"Do you want to check this invoice\") + \"?\" : this.lang.translate(\"Do you want to cancel this invoice check\") + \"?\"}</i>`,\r\n      nzOnOk: () => {\r\n        this.updateBill(bill)\r\n      },\r\n      nzOnCancel: () => {\r\n        bill.verify_status_money = !checked\r\n      }\r\n    });\r\n  }\r\n  /**cập nhật đối soát */\r\n  updateBill(bill) {\r\n    let value: any = {\r\n      verify_status_money: bill.verify_status_money\r\n    }\r\n    if (bill.verify_status_money) {\r\n      value['id_verifier_money'] = this.vhAuth.getUser()._id\r\n      value['verify_date_money'] = new Date().toISOString()\r\n    }\r\n    this.vhQueryCafe.updateBill(bill._id, value).then(() => {\r\n      if (bill.verify_status_money)\r\n        bill['control_info'] =\r\n          `${this.getEmployee(value['id_verifier_money'])['name']} ${this.lang.translate('checked in')} ${this.datePipe.transform(value['verify_date_money'], 'dd/MM/yyyy')}`\r\n    })\r\n  }\r\n\r\n  /**Vào xem chi tiết hóa đơn */\r\n  gotoDetail(invoice: any) {\r\n    let dataRestore: any = {\r\n      id_branch_report: this.id_branch_report,\r\n      selectedValue: this.selectedValue,\r\n      date: this.date,\r\n      radioValueInvoice: this.radioValueInvoice,\r\n      radioValueAccount: this.radioValueAccount,\r\n      radioValueCashier: this.radioValueCashier,\r\n      diary: this.diary\r\n    }\r\n    switch (invoice.bill_type) {\r\n      case 1: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/sales\"], { state: { id: invoice._id, dataRestore } }); break;\r\n      case 2: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/input\"], { state: { id: invoice._id, dataRestore } }); break;\r\n       \r\n      case 7: case 11: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/receipts\"], { state: { invoice: invoice, dataRestore } }); break;\r\n      case 8: case 12: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/expenses\"], { state: { invoice: invoice, dataRestore } }); break;\r\n      case 10: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/supplier-return\"], { state: { id: invoice._id, dataRestore } }); break;\r\n      case 15: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/warranty\"], { state: { id: invoice._id, dataRestore } }); break;\r\n      case 33: case 34: this.router.navigate([\"/cafe/dashboard/management/cashflow/money-control/transfer-receive\"], { state: { invoice: invoice, dataRestore } }); break;\r\n\r\n    }\r\n  }\r\n\r\n  \r\n   /** hàm sort cho các cột */\r\n   dateCol = false;\r\n   receiptCol = false;\r\n   expenseCol = false;\r\n   account_nameCol = false;\r\n   /** Hàm thực hiện sắp xếp theo collect\r\n    *\r\n    * @param colName       // tên cột muôn sắp xếp\r\n    */\r\n   sortTable(colName) {\r\n     switch (colName) {\r\n       case 'date':\r\n         if (this.dateCol) {\r\n           this.diary.list = this.vhAlgorithm.sortDatebyASC([...this.diary.list], colName);\r\n         } else {\r\n           this.diary.list = this.vhAlgorithm.sortDatebyDESC([...this.diary.list], colName);\r\n         }\r\n         break;\r\n       case 'receipt':\r\n         if (this.receiptCol) {\r\n           this.diary.list = this.vhAlgorithm.sortNumberbyASC([...this.diary.list], colName);\r\n         } else {\r\n           this.diary.list = this.vhAlgorithm.sortNumberbyDESC([...this.diary.list], colName);\r\n         }\r\n         break;\r\n       case 'expense':\r\n         if (this.expenseCol) {\r\n           this.diary.list = this.vhAlgorithm.sortNumberbyASC([...this.diary.list], colName);\r\n         } else {\r\n           this.diary.list = this.vhAlgorithm.sortNumberbyDESC([...this.diary.list], colName);\r\n         }\r\n         break;\r\n       case 'account_name':\r\n         if (this.account_nameCol) {\r\n           this.diary.list = this.vhAlgorithm.sortVietnamesebyASC([...this.diary.list], colName);\r\n         } else {\r\n           this.diary.list = this.vhAlgorithm.sortVietnamesebyDESC([...this.diary.list], colName);\r\n         }\r\n         break;\r\n     }\r\n   }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n  <div nz-row class=\"product-list-header\">\r\n    <div nz-col [nzSpan]=\"useBranch ? 4 : 6\" class=\"title left-all-content\">\r\n      <b>{{'Revenue and expenditure control' | translate}}</b>\r\n    </div>\r\n    <div *ngIf=\"useBranch\" nz-col nzSpan=\"5\" class=\"center-all-content\">\r\n      <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" nzBorderless\r\n        nzPlaceHolder=\"{{'Select branch' | translate}}\" [(ngModel)]=\"id_branch_report\"\r\n        (ngModelChange)=\"getPaymentBankList()\">\r\n        <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\" nzValue=\"{{option._id}}\">\r\n        </nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div nz-col [nzSpan]=\"useBranch ? 7 : 9\">\r\n      <div class=\"center-all-content date-picker-cus\">\r\n        <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\"\r\n          (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n      </div>\r\n    </div>\r\n    <div nz-col [nzSpan]=\"useBranch ? 8 : 9\" class=\"right-all-content\">\r\n      <div>\r\n        <button [disabled]=\"!id_branch_report.length\" class=\"btn-add center-all-content\" nz-button nzType=\"default\"\r\n          (click)=\"showModal()\">\r\n          <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\r\n          {{'Filter' | translate}}</button>\r\n      </div>\r\n      <div>\r\n        <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"exportCSV()\"\r\n          [disabled]=\"!diary.list\">\r\n          <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n          {{'Download' | translate}}</button>\r\n      </div>\r\n      <div>\r\n        <button [disabled]=\"!id_branch_report.length\" class=\"btn-view center-all-content\" nz-button nzType=\"default\"\r\n          (click)=\"showReport()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div nz-row style=\"padding-top: 20px; height: 85%;\">\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" style=\"width: 100%;\"\r\n      [nzScroll]=\"{ y: heightScroll }\" #diaryData nzShowPagination nzShowSizeChanger\r\n     (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\"\r\n      [nzData]=\"diary.list\">\r\n      <thead>\r\n        <tr>\r\n          <th nzWidth=\"5%\"><b>#</b></th>\r\n          <th nzWidth=\"12%\" class=\"medium-size\" style=\"cursor: pointer;\" (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n            <b>{{'Date' | translate}}</b>\r\n            <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"20%\" class=\"medium-size\"><b>{{'Content' | translate}}</b></th>\r\n          <th nzWidth=\"10%\" class=\"medium-size\"><b>{{'Invoice code' | translate}}</b></th>\r\n          <th nzWidth=\"17%\" nzAlign='right' class=\"medium-size\" style=\"cursor: pointer;\"\r\n            (click)=\"receiptCol = !receiptCol;sortTable('receipt')\">\r\n            <b>{{'Receipt' | translate}}</b>\r\n            <i nz-icon [nzType]=\"receiptCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"17%\" nzAlign='right' class=\"medium-size\" style=\"cursor: pointer;\"\r\n            (click)=\"expenseCol = !expenseCol;sortTable('expense')\">\r\n            <b>{{'Expense' | translate}}</b>\r\n            <i nz-icon [nzType]=\"expenseCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"12%\" nzAlign='left' class=\"medium-size\" style=\"cursor: pointer;\"\r\n            (click)=\"account_nameCol = !account_nameCol;sortTable('account_name')\">\r\n            <b>{{'Account' | translate}}</b>\r\n            <i nz-icon [nzType]=\"account_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"10%\" nzAlign='center' class=\"medium-size\"><b>{{'For control' | translate}}</b></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngIf=\"diary.list.length != 0\">\r\n          <td></td>\r\n          <td style=\"color: var(--ion-color-vh-green);\" class=\"medium-size\">{{'Total' | translate}}</td>\r\n          <td></td>\r\n          <td></td>\r\n          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\" class=\"medium-size\">\r\n            {{vhAlgorithm.vhcurrencyunit_symbol(!diary ? 0 : diary.income)}}</td>\r\n          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\" class=\"medium-size\">\r\n            {{vhAlgorithm.vhcurrencyunit_symbol(!diary ? 0 : diary.expenditure)}}</td>\r\n          <td></td>\r\n          <td></td>\r\n        </tr>\r\n        <tr (click)=\"gotoDetail(item)\" *ngFor=\"let item of diaryData.data; let i = index\" style=\"cursor: pointer;\">\r\n          <td class=\"medium-size\">{{i + 1}}</td>\r\n          <td class=\"medium-size\">{{item.date| date: 'dd/MM/yyyy HH:mm'}}</td>\r\n          <td class=\"medium-size\">{{renderContent(item)}}</td>\r\n          <td>\r\n            {{item['bill_code']}}\r\n            <i (click)=\"$event.stopPropagation();vhComponent.copyValue(item['bill_code'])\" nz-icon nzType=\"copy\"\r\n              nzTheme=\"outline\"></i>\r\n          </td>\r\n          <td nzAlign='right' class=\"medium-size\">\r\n            {{vhAlgorithm.vhcurrencyunit(item['receipt'])}}\r\n          </td>\r\n          <td nzAlign='right' class=\"medium-size\">\r\n            {{vhAlgorithm.vhcurrencyunit(item['expense'])}}\r\n          </td>\r\n          <td class=\"medium-size\">{{item.account_name}}</td>\r\n          <td nzAlign=\"center\" class=\"medium-size\" (click)=\"$event.stopPropagation()\">\r\n            <label [(ngModel)]=\"item.verify_status_money\" (ngModelChange)=\"checkedBill($event,item)\"\r\n              [nzTooltipPlacement]=\"'left'\" [nzTooltipColor]=\"'var(--ion-color-vh-green)'\"\r\n              [nzTooltipTitle]=\"item.verify_status_money ? item.control_info :''\" nzTooltipPlacement=\"top\" nz-button\r\n              nz-tooltip nz-checkbox>\r\n            </label>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n\r\n  <div nz-row id=\"footer-cashbook\" class=\"bg-footer\" *ngIf=\"diary.list.length\">\r\n    <div nz-col nzSpan=\"12\" class=\"center-left medium-size\">\r\n      {{'Receipt total'|translate}}: <b style=\"color: var(--ion-color-vh-green);\">&nbsp;\r\n        {{vhAlgorithm.vhcurrencyunit_symbol(!diary.income ? 0 : diary.income)}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"12\" class=\"center-left medium-size\">\r\n      {{'Expense total'|translate}}: <b style=\"color: var(--ion-color-vh-green);\">&nbsp;\r\n        {{vhAlgorithm.vhcurrencyunit_symbol(!diary.expenditure ? 0 : diary.expenditure)}}</b>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n\r\n<!-- Zorro modal filter-->\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Please select the filter' | translate}}\" (nzOnCancel)=\"handleCancel()\"\r\n  (nzOnOk)=\"handleOk()\" [nzBodyStyle]=\"{height: '450px'}\">\r\n\r\n  <ng-container *nzModalContent>\r\n    <nz-collapse>\r\n      <nz-collapse-panel nzHeader=\"{{'Invoices' | translate}}\">\r\n        <nz-radio-group [(ngModel)]=\"radioValueInvoice\">\r\n          <label *ngFor=\"let item of listBill\" nz-radio nzValue=\"{{item._id}}\">{{item.name |\r\n            translate}}</label>\r\n        </nz-radio-group>\r\n      </nz-collapse-panel>\r\n      <nz-collapse-panel nzHeader=\"{{'Account' | translate}}\">\r\n        <nz-radio-group [(ngModel)]=\"radioValueAccount\">\r\n          <label *ngFor=\"let item of listAccount\" nz-radio nzValue=\"{{item._id}}\">{{item.name |\r\n            translate}}</label>\r\n        </nz-radio-group>\r\n      </nz-collapse-panel>\r\n      <nz-collapse-panel nzHeader=\"{{'Employee' | translate}}\">\r\n        <nz-radio-group [(ngModel)]=\"radioValueCashier\">\r\n          <label *ngFor=\"let item of listEmployee\" nz-radio nzValue=\"{{item._id}}\">{{item.name |\r\n            translate}}</label>\r\n        </nz-radio-group>\r\n      </nz-collapse-panel>\r\n    </nz-collapse>\r\n  </ng-container>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MoneyControlComponent } from './money-control.component'; \r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { InputComponent } from './components/input/input.component'; \r\nimport { ReturnSupplierComponent } from './components/return-supplier/return-supplier.component';\r\nimport { SalesComponent } from './components/sales/sales.component';\r\nimport { ExpensesComponent } from './components/expenses/expenses.component';\r\nimport { ReceiptsComponent } from './components/receipts/receipts.component';\r\nimport { TransferReceiveComponent } from './components/transfer-receive/transfer-receive.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: MoneyControlComponent\r\n  },\r\n  {\r\n    path: \"sales\",\r\n    component: SalesComponent\r\n  },\r\n  {\r\n    path: \"supplier-return\",\r\n    component: ReturnSupplierComponent\r\n  },\r\n  {\r\n    path: \"input\",\r\n    component: InputComponent\r\n  },\r\n  {\r\n    path: \"expenses\",\r\n    component: ExpensesComponent\r\n  },\r\n  {\r\n    path: \"receipts\",\r\n    component: ReceiptsComponent\r\n  },\r\n  {\r\n    path: \"transfer-receive\",\r\n    component: TransferReceiveComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MoneyControlComponent,\r\n    SalesComponent,\r\n    ReturnSupplierComponent,\r\n    InputComponent,\r\n    ExpensesComponent,\r\n    ReceiptsComponent,\r\n    TransferReceiveComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class MoneyControlModule { }\r\n","export interface VhSupplierReturnInvoiceDetail {\r\n    id_bill?: string;\r\n    _id?: string;\r\n    name?: string;\r\n    id_product: string;\r\n    quantity: number;\r\n    price: number;\r\n    price_origin?: number;\r\n    unit?: string;\r\n    units?: any[];\r\n    ratio?: number,\r\n    ptype: number;\r\n    id_subproduct?: string;\r\n    lots?: any[];\r\n    lot_number?: string;\r\n    id_lotproduct?: string;\r\n}\r\nexport interface VhSupplierReturnInvoice {\r\n    bill_type: 10 | 24;\r\n    payment_type: 1 | 2 | 3;\r\n    id_supplier: string;\r\n    id_branch: string;\r\n    id_employee: string;\r\n    id_wallet: 'id_cash' | string;\r\n    date: string,\r\n    total: number;\r\n    payment: number;\r\n    tax: number;\r\n    discount: number;\r\n    fee: number;\r\n    note: string;\r\n    _id?: string;\r\n    bill_code?: string\r\n\r\n    partner_name?: string\r\n    payment_name?: string\r\n}\r\nexport class VhSupplierReturnInvoices {\r\n    private date: Date = new Date();\r\n    private invoice: VhSupplierReturnInvoice = {\r\n        payment_type: 1,\r\n        date: this.date.toISOString(),\r\n        id_supplier: null,\r\n        id_branch: null,\r\n        id_employee: null,\r\n        id_wallet: 'id_cash',\r\n        total: 0,\r\n        payment: 0,\r\n        tax: 0,\r\n        discount: 0,\r\n        fee: 0,\r\n        bill_type: null,\r\n        note: '',\r\n        _id: null\r\n    };\r\n    private subTotal?: number = 0;\r\n    private taxValue?: number = 0;\r\n    protected invoiceDetail?: VhSupplierReturnInvoiceDetail[] = [];\r\n    constructor(invoice: any = null, invoiceDetail: any[] = []) {\r\n\r\n        if (invoice) {\r\n            this.invoice.bill_code = invoice['bill_code'] ? invoice['bill_code'] : null\r\n            this.invoice.payment_type = invoice['payment_type'] ? invoice['payment_type'] : 1\r\n            this.invoice.id_supplier = invoice['id_supplier'] ? invoice['id_supplier'] : null\r\n            this.invoice.id_branch = invoice['id_branch'] ? invoice['id_branch'] : null\r\n            this.invoice.id_employee = invoice['id_employee'] ? invoice['id_employee'] : null\r\n            this.invoice.id_wallet = invoice['id_wallet'] ? invoice['id_wallet'] : 'id_cash'\r\n            this.invoice.total = invoice['total'] ? invoice['total'] : 0\r\n            this.invoice.payment = invoice['payment'] ? invoice['payment'] : 0\r\n            this.invoice.tax = invoice['tax'] ? invoice['tax'] : 0\r\n            this.invoice.discount = invoice['discount'] ? invoice['discount'] : 0\r\n            this.invoice.fee = invoice['fee'] ? invoice['fee'] : 0\r\n            this.invoice.bill_type = invoice['bill_type'] ? invoice['bill_type'] : null\r\n            this.invoice.date = invoice['date'] ? invoice['date'] : this.date.toISOString()\r\n            this.invoice.note = invoice['note'] ? invoice['note'] : ''\r\n            this.invoice._id = invoice['_id'] ? invoice['_id'] : null\r\n            this.invoiceDetail = invoice['invoiceDetail'] ? invoice['invoiceDetail'] : []\r\n\r\n            this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        }\r\n\r\n        if (invoiceDetail) {\r\n            this.invoiceDetail = invoiceDetail\r\n            this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        }\r\n    }\r\n    /******************************Xu ly invoice *******************************/\r\n    public getID(): string {\r\n        return this.invoice._id;\r\n    }\r\n    public getBillType(): 10 | 24 {\r\n        return this.invoice.bill_type\r\n    }\r\n    public setBillType(value: 10 | 24) {\r\n        this.invoice.bill_type = value\r\n    }\r\n    public getDate(): string {\r\n        return this.invoice.date\r\n    }\r\n    public setDate(value: Date | string) {\r\n        this.invoice.date = typeof (value) == 'string' ? value : value.toISOString()\r\n    }\r\n    public getBillCode(): string {\r\n        return this.invoice.bill_code\r\n    }\r\n    public getPaymentType(): 1 | 2 | 3 {\r\n        return this.invoice.payment_type\r\n    }\r\n    public setPaymentType(value: 1 | 2 | 3) {\r\n        this.invoice.payment_type = value\r\n    }\r\n    public getIdPartner(): string {\r\n        return this.invoice.id_supplier\r\n    }\r\n    public setIdPartner(value: string) {\r\n        this.invoice.id_supplier = value\r\n    }\r\n    public getIdEmployee(): string {\r\n        return this.invoice.id_employee\r\n    }\r\n    public setIdEmployee(value: string) {\r\n        this.invoice.id_employee = value\r\n    }\r\n    public getIdBranch(): string {\r\n        return this.invoice.id_branch\r\n    }\r\n    public setIdBranch(value: string) {\r\n        this.invoice.id_branch = value\r\n    }\r\n    public getIdWallet(): string {\r\n        return this.invoice.id_wallet\r\n    }\r\n    public setIdWallet(value: string) {\r\n        this.invoice.id_wallet = value\r\n    }\r\n    public getNote(): string {\r\n        return this.invoice.note\r\n    }\r\n    public setNote(value: string) {\r\n        this.invoice.note = value\r\n    }\r\n    public getTax(): number {\r\n        return this.invoice.tax\r\n    }\r\n    public setTax(value: number) {\r\n        this.invoice.tax = value\r\n        this.setTaxValue()\r\n    }\r\n    public getTaxValue(): number {\r\n        return this.taxValue\r\n    }\r\n    public setTaxValue() {\r\n        this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        this.setPayment()\r\n    }\r\n    public getDiscount(): number {\r\n        return this.invoice.discount\r\n    }\r\n    public setDiscount(value: number) {\r\n        this.invoice.discount = value\r\n        this.setTotal()\r\n    }\r\n    public getFee(): number {\r\n        return this.invoice.fee\r\n    }\r\n    public setFee(value: number) {\r\n        this.invoice.fee = value\r\n        this.setTotal()\r\n    }\r\n    public getSubTotal(): number {\r\n        return this.subTotal\r\n    }\r\n    public setSubTotal() {\r\n        this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        this.setTotal()\r\n    }\r\n    public getTotal(): number {\r\n        return this.invoice.total\r\n    }\r\n    public setTotal() {\r\n        this.invoice.total = this.getSubTotal() - this.getDiscount() + this.getFee()\r\n        this.setTaxValue()\r\n    }\r\n    public getTotalATax(): number {\r\n        return this.getTotal() + this.getTaxValue()\r\n    }\r\n    public getPayment(): number {\r\n        return this.invoice.payment\r\n    }\r\n    public setPayment(value?: number) {\r\n\r\n        if (this.invoice.payment_type == 2) {\r\n            this.invoice.payment = 0\r\n        } else {\r\n            if (value != null)\r\n                this.invoice.payment = value\r\n            else\r\n                this.invoice.payment = this.getTotal() + this.getTaxValue()\r\n        }\r\n    }\r\n    /******************************Xu ly invoice detail *******************************/\r\n    /**Đưa sản phẩm vô danh sách bill detail */\r\n    public addInvoiceDetail(value: any) {\r\n        if (value['id_subproduct']) {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_subproduct'] == value['id_subproduct'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == value['_id'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setSubTotal()\r\n    }\r\n\r\n    addBill_Detail(value) {\r\n        this.invoiceDetail.unshift({\r\n            name: value.name,\r\n            id_product: value._id,\r\n            quantity: 1,\r\n            ptype: value.type,\r\n            unit: value.unit,\r\n            units: value.units,\r\n            ratio: value.ratio ? value.ratio : 1,\r\n            price: value.price_import,\r\n            price_origin: value.price_import,\r\n            id_subproduct: value.id_subproduct,\r\n            lots: value.lots,\r\n            lot_number: value.lot_number,\r\n            id_lotproduct: value.id_lotproduct,\r\n        })\r\n    }\r\n    /**Xóa sản phẩm khỏi danh sách bill detail */\r\n    public removeInvoiceDetail(id: string) {\r\n        let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == id)\r\n        if (index != -1) {\r\n            this.invoiceDetail.splice(index, 1);\r\n            this.setSubTotal()\r\n        }\r\n    }\r\n    /**Lấy danh sách bill detail */\r\n    public getInvoiceDetail() {\r\n        return this.invoiceDetail;\r\n    }\r\n    /******************************create - update - delete invoice / detail *******************************/\r\n    /**Lấy thông tin bill để lưu database */\r\n    public getCreateUpdateInvoice(bill_type: 10 | 24 | null = null) {\r\n        if (bill_type) this.setBillType(bill_type)\r\n        return this.invoice\r\n    }\r\n    /**Lấy danh sách bill detail để lưu database */\r\n    public getCreateUpdateInvoiceDetail(): VhSupplierReturnInvoiceDetail[] {\r\n        return this.invoiceDetail.map(item => {\r\n            let detail: VhSupplierReturnInvoiceDetail = {\r\n                id_product: item.id_product,\r\n                price: item.price,\r\n                quantity: item.quantity,\r\n                ptype: item.ptype,\r\n                ratio: item.ratio ? item.ratio : 1,\r\n            }\r\n            if (item['id_lotproduct']) detail['id_lotproduct'] = item.id_lotproduct\r\n            if (item['id_subproduct']) detail['id_subproduct'] = item.id_subproduct\r\n            if (item.price < item.price_origin) detail['price_origin'] = item.price_origin\r\n            return detail\r\n        })\r\n    }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}