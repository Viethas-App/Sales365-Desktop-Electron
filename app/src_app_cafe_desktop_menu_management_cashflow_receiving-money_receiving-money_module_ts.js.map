{"version":3,"file":"src_app_cafe_desktop_menu_management_cashflow_receiving-money_receiving-money_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/cashflow/receiving-money/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/cashflow/receiving-money/detail/detail.component.html","./src/app/cafe/desktop/menu/management/cashflow/receiving-money/receiving-money.component.ts","./src/app/cafe/desktop/menu/management/cashflow/receiving-money/receiving-money.component.html","./src/app/cafe/desktop/menu/management/cashflow/receiving-money/receiving-money.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { ReceiveMoneyA4Component } from 'src/app/cafe/components/print/receive-money/receive-money-a4/receive-money-a4.component';\r\nimport { ReceiveMoneyA5Component } from 'src/app/cafe/components/print/receive-money/receive-money-a5/receive-money-a5.component';\r\nimport { ReceiveMoneyK57Col3Component } from 'src/app/cafe/components/print/receive-money/receive-money-k57-col3/receive-money-k57-col3.component';\r\nimport { ReceiveMoneyK80Col3Component } from 'src/app/cafe/components/print/receive-money/receive-money-k80-col3/receive-money-k80-col3.component';\r\nimport { ReceiveMoneyK80Col4Component } from 'src/app/cafe/components/print/receive-money/receive-money-k80-col4/receive-money-k80-col4.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    private vhQuery: VhQuery,\r\n    public lang: LanguageService,\r\n  ) {\r\n  }\r\n  checkPrinter: boolean = false\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  billDetail: any = this.router.getCurrentNavigation().extras.state.billDetail\r\n  nzOptions: any;\r\n  ngOnInit(): void {\r\n    let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n    if (printer) {\r\n      if (printer.delivery_receive_money) this.checkPrinter = printer.delivery_receive_money.enable\r\n    }\r\n    this.getPaymentBankList();\r\n  }\r\n  /**Hàm tạo phiếu chi */\r\n  /**back */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/receiving'], { state: this.dataRestore });\r\n  }\r\n  /**Get payment bank list */\r\n  payment_method: Array<any> = []\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQueryCafe.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n    let listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n    let options = [{ value: '1', label: this.lang.translate('Cash'), isLeaf: true }, { value: '3', label: this.lang.translate('Account'), children: listPaymentBank }]\r\n    this.nzOptions = options;\r\n  }\r\n  showPrint(goback?) {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n          billInfo: {\r\n            ...this.billDetail,\r\n            id_branch_send: this.billDetail['id_branch'],\r\n            id_employee: this.vhAuth.getUser()._id\r\n          },\r\n          payment_type: +this.payment_method[0],\r\n          id_wallet: +this.payment_method[0] == 1 ? 'id_cash' : this.payment_method[1],\r\n          printer: printer\r\n        }, false, false, `modal-print-${printer['type']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { if (goback) this.goBack() })\r\n          })\r\n      }\r\n    }, err => { this.goBack() })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n     \r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ReceiveMoneyK57Col3Component\r\n      case 'print_size_k80_3c': return ReceiveMoneyK80Col3Component\r\n      case 'print_size_k80_4c': return ReceiveMoneyK80Col4Component\r\n      case 'print_size_a5': return ReceiveMoneyA5Component\r\n      case 'print_size_a4': return ReceiveMoneyA4Component\r\n      default: return ReceiveMoneyA4Component\r\n    }\r\n  }\r\n  /*----------Print------------------*/\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n      if (printer  && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  createBill(print) {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Confirm\"), this.lang.translate(\"Receive money\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQueryCafe.updateBill(this.billDetail['_id'], this.createInvoice(\"3334\")).then((res) => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.vhComponent.showToast(2000, this.lang.translate(\"Receive money successfully\"), \"success-toast\")\r\n            if (print) this.showPrint(true)\r\n            else this.goBack()\r\n          })\r\n        }).catch(err => { this.vhComponent.hideLoading(0); console.error(err) })\r\n      })\r\n    }).catch(() => { })\r\n  }\r\n  createInvoice(bill_type) {\r\n    let invoice: any = {\r\n      bill_code: this.billDetail['bill_code'],\r\n      total: this.billDetail['total'],\r\n      payment: this.billDetail['payment'],\r\n      content: this.billDetail['content'],\r\n      payment_type: +this.payment_method[0],\r\n      id_wallet: +this.payment_method[0] == 1 ? 'id_cash' : this.payment_method[1],\r\n      bill_type: bill_type,\r\n      id_branch: this.billDetail['id_branch_receive'],\r\n      id_branch_send: this.billDetail['id_branch'],\r\n      id_employee: this.vhAuth.getUser()._id,\r\n      date: this.billDetail['date']\r\n    }\r\n    return invoice\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{(billDetail['bill_type'] == 34 ? 'Received money' : 'Money received receipt') | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div *ngIf=\"billDetail['bill_type'] == 32\">\r\n                <button [disabled]=\"!checkPrinter || !payment_method.length\" (click)=\"createBill(true)\"\r\n                    class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"print-outline\"></ion-icon>\r\n                    {{'Receive money & Print'|translate}}\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"billDetail['bill_type'] == 32\">\r\n                <button [disabled]=\"!payment_method.length\" class=\"btn-add center-all-content\" nz-button\r\n                    nzType=\"default\" (click)=\"createBill(false)\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Receive money'|translate}}</button>\r\n            </div>\r\n            <div (click)=\"showPrint()\" *ngIf=\"billDetail['bill_type'] == 34\">\r\n                <button class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"print-outline\"></ion-icon>\r\n                    {{'Print'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                    <div class=\"border-cus\">{{billDetail.date | date :\"dd/MM/yyyy\"}}</div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"large-size\"><b>{{'Payment method'|translate}}*</b></div>\r\n                    <nz-cascader *ngIf=\"billDetail['bill_type'] == 32;else bill_type34\" style=\"margin-top:2px\"\r\n                        nzPlaceHolder=\"{{'Please select receive method'|translate}}\" [nzOptions]=\"nzOptions\"\r\n                        [nzAllowClear]=\"false\" [(ngModel)]=\"payment_method\" [ngModelOptions]=\"{standalone: true}\">\r\n                    </nz-cascader>\r\n                    <ng-template #bill_type34>\r\n                        <div class=\"border-cus\">{{(billDetail['payment_type'] == 1 ? \"Cash\" :\r\n                            billDetail['payment_name']) |\r\n                            translate}}</div>\r\n                    </ng-template>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <div class=\"border-cus\">\r\n                        {{vhAlgorithm.vhcurrencyunit(billDetail.total)}}\r\n                    </div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'From branch'|translate}}*</b></div>\r\n                    <div class=\"border-cus\">{{billDetail['branch_name']}}</div>\r\n                </div>\r\n                <div *ngIf=\"billDetail['content'].length\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <div class=\"border-cus\">\r\n                        {{billDetail['content']}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuery, VhAuth, VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-receiving-money',\r\n  templateUrl: './receiving-money.component.html',\r\n  styleUrls: ['./receiving-money.component.scss']\r\n})\r\nexport class ReceivingMoneyComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  public searchValue: string = ''\r\n  public listReceiveShow: any[] = []\r\n  public listReceive: any[] = []\r\n  public branchList: any[] = []\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  loadingStatus: boolean = false\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.date = [new Date(this.dataRestore.startTime), new Date(this.dataRestore.endTime)];\r\n      // this.listReceive = this.dataRestore.listReceive\r\n      this.searchBill(this.searchValue)\r\n    }\r\n    // this.getTransferList()\r\n  }\r\n  getTransferList() {\r\n    let id_branch: string = this.vhQueryCafe.getDefaultBranch()._id\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false,).then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBills_byFields({ date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, id_branch: { $eq: id_branch }, bill_type: { $eq: 34 } }, {}, {}, 0),\r\n        this.vhQueryCafe.getBills_byFields({ date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, id_branch_receive: { $eq: id_branch }, bill_type: { $eq: 32 } }, {}, {}, 0),\r\n      ]).then((res: any) => {\r\n        let result = res[0].concat(res[1])\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.branchList = this.vhQueryCafe.getlocalBranchs()\r\n          this.listReceive = result.map(item => {\r\n            let element = { ...item, branch_name: this.checkBranchName(item.bill_type == 32 ? item.id_branch : item.id_branch_send), branch_name_reception: this.checkBranchName(item.bill_type == 32 ? item.id_branch_receive : item.id_branch), status: this.checkBillType(item.bill_type), payment_name: this.checkPayment(item.payment_type, item.payment_type == 3 ? item.id_wallet : null) }\r\n            return element\r\n          }).reverse()\r\n          this.listReceiveShow = this.listReceive\r\n          this.searchBill(this.searchValue)\r\n          this.loadingStatus = true\r\n        })\r\n      }).catch(err => { this.vhComponent.hideLoading(0), console.error(err) })\r\n    })\r\n  }\r\n  checkBranchName(id) {\r\n    return this.vhQueryCafe.getlocalBranch(id).name\r\n  }\r\n  checkPayment(payment_type, id_wallet?) {\r\n    switch (payment_type) {\r\n      case 1: return this.lang.translate(\"Cash\")\r\n      case 3: return `${this.vhQueryCafe.getlocalWallet(id_wallet)['name']}`\r\n    }\r\n  }\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 32: {\r\n        return (this.lang.translate(\"Receive money\"));\r\n      }\r\n      case 34: { return (this.lang.translate(\"Received money\")); }\r\n    }\r\n  }\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.listReceiveShow = this.vhAlgorithm.searchList(val, this.listReceive, ['bill_code'])\r\n    } else this.listReceiveShow = [...this.listReceive]\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#receive-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".receive-invoice-header\")) {\r\n      this.tableHeight = document.querySelector(\"#receive-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".receive-invoice-header\").clientHeight - 60 + \"px\";\r\n      if (document.querySelector(\".ant-table-pagination\")) {\r\n        this.tableHeight = document.querySelector(\"#receive-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".receive-invoice-header\").clientHeight - - 90 + \"px\";\r\n      }\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/cafe/dashboard/management/cashflow\"])\r\n  }\r\n\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.lang.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.lang.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n\r\n  goToDetail(invoice) {\r\n    let dataRestore = { searchValue: this.searchValue, startTime: this.date[0], endTime: this.date[1], listReceive: this.listReceive }\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/receiving/detail'], { state: { dataRestore, billDetail: invoice } })\r\n  }\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  deliveryBranchCol = false;\r\n  receiveBranchCol = false;\r\n  statusCol = false;\r\n  paymentCol = false;\r\n  totalCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collect\r\n *\r\n * @param colName       // tên cột muôn sắp xếp\r\n */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortDatebyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortDatebyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name':\r\n        if(this.deliveryBranchCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name_reception':\r\n        if(this.receiveBranchCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n      case 'status':\r\n        if(this.statusCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.paymentCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortStringbyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n      case 'total':\r\n        if(this.totalCol){\r\n          this.listReceiveShow = this.vhAlgorithm.sortNumberbyASC([...this.listReceiveShow], colName);\r\n        }else{\r\n          this.listReceiveShow = this.vhAlgorithm.sortNumberbyDESC([...this.listReceiveShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"receive-invoice\">\r\n  <div nz-row class=\"receive-invoice-header\">\r\n    <div nz-col nzSpan=\"5\" class=\"title left-all-content\">\r\n      <b>{{'Receive money'| translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"8\" class=\"title left-all-content\">\r\n      <nz-input-group style=\"margin-right : 8px;width: 100%;\" [nzSuffix]=\"suffixIconSearch\">\r\n        <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n          placeholder=\"{{'Search for receipt code' | translate}}\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"7\" class=\"date-picker-cus right-all-content\">\r\n      <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n    </div>\r\n    <div nz-col nzSpan=\"4\" class=\"right-all-content button-group\">\r\n      <div>\r\n        <button class=\"btn-green center-all-content ml-3\" nz-button nzType=\"default\" (click)=\"getTransferList()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div style=\"margin-top: 16px;\">\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n      [nzScroll]=\"{ x: '1300px', y: tableHeight }\" #detailData nzShowPagination nzShowSizeChanger\r\n      [nzData]=\"listReceiveShow\">\r\n      <thead>\r\n        <tr>\r\n          <th nzLeft nzWidth=\"150px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n            <b>{{'Date' | translate}}</b>\r\n            <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzLeft nzWidth=\"150px\" nzAlign='left'><b>{{'Invoice code' | translate}}</b></th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"deliveryBranchCol = !deliveryBranchCol;sortTable('branch_name')\">\r\n            <b>{{'Delivery branch' | translate}}</b>\r\n            <i nz-icon [nzType]=\"deliveryBranchCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"receiveBranchCol = !receiveBranchCol;sortTable('branch_name_reception')\">\r\n            <b>{{'Receive branch' | translate}}</b>\r\n            <i nz-icon [nzType]=\"receiveBranchCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"paymentCol = !paymentCol;sortTable('payment_name')\">\r\n            <b>{{'Payment method' | translate}}</b>\r\n            <i nz-icon [nzType]=\"paymentCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"150px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"statusCol = !statusCol;sortTable('status')\">\r\n            <b>{{'Status' | translate}}</b>\r\n            <i nz-icon [nzType]=\"statusCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"150px\" nzAlign='right' style=\"cursor: pointer;\"\r\n            (click)=\"totalCol = !totalCol;sortTable('total')\">\r\n            <b>{{'Total' | translate}}</b>\r\n            <i nz-icon [nzType]=\"totalCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr (click)=\"goToDetail(invoice)\" *ngFor=\"let invoice of detailData.data;let i = index\"\r\n          style=\"cursor: pointer;\">\r\n          <td nzLeft nzAlign='left'>{{invoice.date | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n          <td nzLeft nzAlign='left'>{{invoice.bill_code}}</td>\r\n          <td nzAlign='left'>{{invoice.branch_name}}</td>\r\n          <td nzAlign='left'>{{invoice.branch_name_reception}}</td>\r\n          <td nzAlign='left'>{{invoice.payment_name}}</td>\r\n          <td nzAlign='left'>{{invoice.status}}</td>\r\n          <td nzAlign='right' style=\"color:var(--ion-color-vh-green)\">\r\n            <b>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</b>\r\n          </td>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReceivingMoneyComponent } from './receiving-money.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DetailComponent } from './detail/detail.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: ReceivingMoneyComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent,\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [ReceivingMoneyComponent, DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class ReceivingMoneyModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}