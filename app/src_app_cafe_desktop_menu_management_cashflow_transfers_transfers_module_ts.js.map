{"version":3,"file":"src_app_cafe_desktop_menu_management_cashflow_transfers_transfers_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/cashflow/transfers/add/add.component.ts","./src/app/cafe/desktop/menu/management/cashflow/transfers/add/add.component.html","./src/app/cafe/desktop/menu/management/cashflow/transfers/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/cashflow/transfers/detail/detail.component.html","./src/app/cafe/desktop/menu/management/cashflow/transfers/transfers.component.ts","./src/app/cafe/desktop/menu/management/cashflow/transfers/transfers.component.html","./src/app/cafe/desktop/menu/management/cashflow/transfers/transfers.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { TransferMoneyA4Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-a4/transfer-money-a4.component';\r\nimport { TransferMoneyA5Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-a5/transfer-money-a5.component';\r\nimport { TransferMoneyK80Col4Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k80-col4/transfer-money-k80-col4.component';\r\nimport { TransferMoneyK80Col3Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k80-col3/transfer-money-k80-col3.component';\r\nimport { TransferMoneyK57Col3Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k57-col3/transfer-money-k57-col3.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public lang: LanguageService,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getPaymentBankList();\r\n    let options = [{ value: '1', label: this.lang.translate('Cash'), isLeaf: true }, { value: '3', label: this.lang.translate('Account'), children: this.listPaymentBank }]\r\n    this.nzOptions = options;\r\n    this.branchList = this.vhQueryCafe.getlocalBranchs().filter(item => item._id != this.vhQueryCafe.getDefaultBranch()._id)\r\n  }\r\n  checkPrinter: boolean = false;\r\n  branchList: Array<any> = []\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  listPaymentBank: any = [];\r\n  addTransfersForm: FormGroup;\r\n  nzOptions: any;\r\n  billInfo: any = { employee: this.vhAuth.getUser() };\r\n  money_currency: any;\r\n  selected_branch: any;\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n   \r\n    if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)]) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n  initForm() {\r\n    this.addTransfersForm = new FormGroup({\r\n      date: new FormControl(new Date().toISOString()),\r\n      total: new FormControl(\"\", Validators.required),\r\n      content: new FormControl(\"\"),\r\n      payment_type: new FormControl('1'),\r\n      id_branch_receive: new FormControl(null, Validators.required)\r\n    });\r\n  }\r\n\r\n   /**\r\n   * check validate hợp lệ\r\n   * @param $event date\r\n   */\r\n    changeDate(event) {\r\n      this.vhQueryCafe.getValidityDate(event)\r\n        .then((validitydate: any) => {\r\n          if (validitydate) {\r\n            this.vhComponent.alertMessageDesktop(\"warning\", `${this.lang.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n            this.addTransfersForm.controls['date'].setValue(new Date())\r\n          }\r\n        })\r\n    }\r\n\r\n  /**Get payment bank list */\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQueryCafe.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n    this.listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n  }\r\n  onSubmit(print) {\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", `${this.lang.translate(\"Create transfers note\")}?`, \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        let bill: any = this.exportBill(this.addTransfersForm.value)\r\n        Promise.all([this.vhQueryCafe.createBill({ ...bill, bill_type: 32 })]).then((res: any) => {\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"Transfers note has been created successfully\"), \"success-toast\");\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            if (print) {\r\n              this.showPrint({ ...res[0], employee: res[0].id_employee })\r\n            }\r\n            else setTimeout(() => this.goBack(), 200)\r\n          })\r\n        })\r\n      })\r\n    }).catch(() => { })\r\n  }\r\n  /**Hàm tạo phiếu chi */\r\n  /**back */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/transfers'], {\r\n      state: this.dataRestore\r\n    });\r\n  }\r\n\r\n\r\n  showPrint(result) {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { billInfo: result, printer: printer }, false, false, `modal-print-${printer['_id']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { this.goBack() })\r\n          })\r\n      }\r\n    }, err => { this.goBack() })\r\n  }\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n     switch (type) {\r\n       case 'print_size_k57_3c': return TransferMoneyK57Col3Component\r\n       case 'print_size_k80_3c': return TransferMoneyK80Col3Component\r\n       case 'print_size_k80_4c': return TransferMoneyK80Col4Component\r\n       case 'print_size_a5': return TransferMoneyA5Component\r\n       case 'print_size_a4': return TransferMoneyA4Component\r\n       default: return TransferMoneyA4Component\r\n     }\r\n   }\r\n   /*----------Print------------------*/\r\n   checkPrint() {\r\n     return new Promise((resolve, rejects) => {\r\n       let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n       if (printer  && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n       else rejects(\"No\")\r\n     })\r\n   }\r\n  /**Thay đổi phương thức thanh toán */\r\n\r\n  /**Xuất bill */\r\n  exportBill(form) {\r\n    const bill: any = {\r\n      bill_code: this.vhAlgorithm.createBillCode(new Date(form[\"date\"])),\r\n      date: new Date(form[\"date\"]),\r\n      total: parseFloat(this.money_currency.getRawValue()),\r\n      payment: parseFloat(this.money_currency.getRawValue()),\r\n      content: form[\"content\"],\r\n      id_branch: this.vhQueryCafe.getDefaultBranch()._id,\r\n      id_branch_receive: form['id_branch_receive'],\r\n      payment_type: +form['payment_type'][0],\r\n      id_wallet: +form['payment_type'][0] == 1 ? 'id_cash' : form['payment_type'][1],\r\n      id_employee: this.vhAuth.getUser()._id,\r\n    }\r\n    return bill\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Create transfers note'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button (click)=\"onSubmit(true)\" [disabled]=\"addTransfersForm.invalid || !checkPrinter\"\r\n                    class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Create & Print'|translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"onSubmit(false)\"\r\n                    [disabled]=\"addTransfersForm.invalid\" [ngStyle]=\"{opacity: addTransfersForm.invalid ? 0.5 : 1}\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Create'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"addTransfersForm\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                        <nz-date-picker formControlName=\"date\" nzFormat=\"dd/MM/yyyy\"  (ngModelChange)=\"changeDate($event)\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Transfer method'|translate}}*</b></div>\r\n                        <nz-cascader [nzOptions]=\"nzOptions\" [nzAllowClear]=\"false\" formControlName=\"payment_type\"\r\n                            nzPlaceHolder=\"{{'Please select transfer method'|translate}} *\"> </nz-cascader>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAmount\">\r\n                            <nz-input-group>\r\n                                <input class=\"price\" type=\"price\" maxlength=\"15\" nz-input formControlName=\"total\"\r\n                                    placeholder=\"{{'Enter amount' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAmount let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Please enter amount of money' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'To branch'|translate}}*</b></div>\r\n                    <nz-select nzPlaceHolder=\"{{'Select branch' | translate}}\" formControlName=\"id_branch_receive\">\r\n                        <nz-option *ngFor=\"let item of branchList\" nzLabel=\"{{item.name | translate}}\"\r\n                            [nzValue]=\"item._id\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input type=\"text\" formControlName=\"content\" nz-input\r\n                                    placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { TransferMoneyA4Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-a4/transfer-money-a4.component';\r\nimport { TransferMoneyA5Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-a5/transfer-money-a5.component';\r\nimport { TransferMoneyK80Col4Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k80-col4/transfer-money-k80-col4.component';\r\nimport { TransferMoneyK80Col3Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k80-col3/transfer-money-k80-col3.component';\r\nimport { TransferMoneyK57Col3Component } from 'src/app/cafe/components/print/transfer-money/transfer-money-k57-col3/transfer-money-k57-col3.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getPaymentBankList();\r\n    let options = [{ value: 1, label: this.lang.translate('Cash'), isLeaf: true }, { value: 3, label: this.lang.translate('Account'), children: this.listPaymentBank }]\r\n    this.nzOptions = options;\r\n  }\r\n  checkPrinter: boolean = false;\r\n  branchList: Array<any> = this.vhQueryCafe.getlocalBranchs().filter(item => item._id != this.vhQueryCafe.getDefaultBranch()._id)\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  billDetail: any = this.router.getCurrentNavigation().extras.state.billDetail\r\n  listPaymentBank: any = [];\r\n  type_payment: any;\r\n  editTransfersForm: FormGroup;\r\n  nzOptions: any;\r\n  money_currency: any;\r\n  selected_branch: any;\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    let printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\")\r\n    if (printer) {\r\n      if (printer.delivery_receive_money) this.checkPrinter = printer.delivery_receive_money.enable //chưa có quyền máy in\r\n    }\r\n  }\r\n  \r\n\r\n  /**\r\n   * check validate hợp lệ\r\n   * @param $event date\r\n   */\r\n   changeDate(event) {\r\n    this.vhQueryCafe.getValidityDate(event)\r\n      .then((validitydate: any) => {\r\n        if (validitydate) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.lang.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n          this.editTransfersForm.controls['date'].setValue(new Date())\r\n        }\r\n        else this.updateBill({date : this.editTransfersForm.value.date})\r\n      })\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n  initForm() {\r\n    let isDisable: boolean = this.billDetail['bill_type'] == 32 ? false : true\r\n    this.editTransfersForm = new FormGroup({\r\n      date: new FormControl({ value: this.billDetail['date'], disabled: isDisable }),\r\n      total: new FormControl({ value: this.billDetail['total'], disabled: isDisable }, Validators.required),\r\n      content: new FormControl({ value: this.billDetail['content'], disabled: isDisable }),\r\n      payment_type: new FormControl({ value: this.billDetail['payment_type'], disabled: isDisable }),\r\n      type_payment: new FormControl(null),\r\n      id_branch_receive: new FormControl({ value: this.billDetail['id_branch_receive'], disabled: isDisable }, Validators.required)\r\n    });\r\n    if (this.billDetail['payment_type'] == 1) this.editTransfersForm.controls['type_payment'].setValue([1])\r\n    else this.editTransfersForm.controls['type_payment'].setValue([3, this.billDetail[\"id_wallet\"]])\r\n  }\r\n\r\n  /**Get payment bank list */\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQueryCafe.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQueryCafe.getDefaultBranch()._id);\r\n    this.listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n  }\r\n  /**back */\r\n  async goBack(reset: boolean = true) {\r\n    \r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/transfers'], { state: this.dataRestore });\r\n  }\r\n  showPrint() {\r\n    let billInfo: any = {\r\n      date: this.editTransfersForm.value.date || this.billDetail['date'],\r\n      total: this.editTransfersForm.value.total || this.billDetail['total'],\r\n      content: this.editTransfersForm.value.content || this.billDetail['content'],\r\n      payment_type: this.editTransfersForm.value.payment_type || this.billDetail['payment_type'],\r\n      id_branch_receive: this.editTransfersForm.value.id_branch_receive || this.billDetail['id_branch_receive'],\r\n      bill_code: this.billDetail['bill_code'],\r\n      id_wallet: this.billDetail[\"id_wallet\"],\r\n      employee: this.billDetail[\"id_employee\"],\r\n      id_branch: this.billDetail['id_branch']\r\n    }\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { billInfo: billInfo, printer: printer }, false, false, `modal-print-${printer['_id']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { })\r\n          })\r\n      }\r\n    }, (err) => {\r\n      let name :any= 'Transfer, receive money'\r\n      this.vhComponent.alertMessage(this.lang.translate(\"Function\"), \"\", this.lang.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/cafe/dashboard/printer','page_desktop_delivery_receive_money'],{state : name}))\r\n    })\r\n  }\r\n  /*----------Print------------------*/\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n      if (printer  && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return TransferMoneyK57Col3Component\r\n      case 'print_size_k80_3c': return TransferMoneyK80Col3Component\r\n      case 'print_size_k80_4c': return TransferMoneyK80Col4Component\r\n      case 'print_size_a5': return TransferMoneyA5Component\r\n      case 'print_size_a4': return TransferMoneyA4Component\r\n      default: return TransferMoneyA4Component\r\n    }\r\n  }\r\n  updateBill(value) {\r\n    this.vhQueryCafe.updateBill(this.billDetail['_id'], value).then((res) => { }).catch(err => console.error('update failed => ' + err))\r\n  }\r\n  updateAmount() {\r\n    let amount = parseFloat(this.money_currency.getRawValue())\r\n    if (amount)\r\n      this.vhQueryCafe.updateBill(this.billDetail['_id'], { total: amount, payment: amount }).then(() => { }).catch(err => console.error('update failed => ' + err))\r\n  }\r\n  deleteBill() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Confirm\"), this.lang.translate(\"Delete\"), \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"current-loading\").then(() => {\r\n        this.vhQueryCafe.deleteBill(this.billDetail[\"_id\"]).then(() => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            \r\n            this.goBack(false)\r\n            this.vhComponent.showToast(2000, `${this.lang.translate(\"Transfers money\")} ${this.billDetail['bill_code']} ${this.lang.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n          }\r\n          ).catch(err => { })\r\n        })\r\n      }).catch(() => { })\r\n    })\r\n  }\r\n  // ------thoát trang-----\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return true\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Money transfer receipt'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button (click)=\"showPrint()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"print-outline\"></ion-icon>\r\n                    {{'Print'|translate}}\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"billDetail['bill_type'] == 32\">\r\n                <button (click)=\"deleteBill()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"trash-outline\"></ion-icon>\r\n                    {{'Delete'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"editTransfersForm\">\r\n            <div nz-row>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                        <nz-date-picker (ngModelChange)=\"changeDate($event)\"\r\n                            formControlName=\"date\" nzFormat=\"dd/MM/yyyy\" nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Payment method' | translate}}*</b></div>\r\n                        <nz-cascader [nzDisabled]=\"true\" formControlName=\"type_payment\"\r\n                            nzPlaceHolder=\"{{'Payment method'|translate}}\" [nzOptions]=\"nzOptions\"\r\n                            [nzAllowClear]=\"false\" nzPlaceHolder=\"{{'Payment method'|translate}} *\">\r\n                        </nz-cascader>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAmount\">\r\n                            <nz-input-group>\r\n                                <input maxlength=\"15\" [disabled]=\"billDetail['bill_type'] !=32\" (blur)=\"updateAmount()\"\r\n                                    class=\"price\" type=\"price\" nz-input formControlName=\"total\"\r\n                                    placeholder=\"{{'Enter amount' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAmount let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Please enter amount of money' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'To branch'|translate}}*</b></div>\r\n                    <nz-select [disabled]=\"billDetail['bill_type'] !=32\"\r\n                        (ngModelChange)=\"updateBill({id_branch_receive : editTransfersForm.value.id_branch_receive})\"\r\n                        nzPlaceHolder=\"{{'Select branch' | translate}}\" formControlName=\"id_branch_receive\">\r\n                        <nz-option *ngFor=\"let item of branchList\" nzLabel=\"{{item.name | translate}}\"\r\n                            [nzValue]=\"item._id\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input (blur)=\"updateBill({content : editTransfersForm.value.content})\" type=\"text\"\r\n                                    formControlName=\"content\" nz-input\r\n                                    placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuery, VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-transfers',\r\n  templateUrl: './transfers.component.html',\r\n  styleUrls: ['./transfers.component.scss']\r\n})\r\nexport class TransfersComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  public searchValue: string = ''\r\n  public listTransferShow: any[] = []\r\n  public listTransfer: any[] = []\r\n  public branchList: any[] = []\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  loadingStatus: boolean = false\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.date = [new Date(this.dataRestore.startTime), new Date(this.dataRestore.endTime)];\r\n      // this.listTransfer = this.dataRestore.listTransfer\r\n      this.searchBill(this.searchValue)\r\n    }\r\n    // this.getTransferList()\r\n  }\r\n  getTransferList() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBills({ date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, bill_type: { $in: [32, 33] }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } })\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.branchList = this.vhQueryCafe.getlocalBranchs()\r\n          this.listTransfer = res[0].map(item => {\r\n            let element = { ...item, branch_name: this.checkBranchName(item.id_branch), branch_name_reception: this.checkBranchName(item.id_branch_receive), status: this.checkBillType(item.bill_type), payment_name: this.checkPayment(item.payment_type, item.payment_type == 3 ? item.id_wallet : null), }\r\n            return element\r\n          }).reverse()\r\n          this.listTransferShow = this.listTransfer\r\n          this.searchBill(this.searchValue)\r\n          this.loadingStatus = true\r\n        })\r\n      }).catch(err => { this.vhComponent.hideLoading(0), console.error(err) })\r\n    })\r\n  }\r\n  checkBranchName(id) {\r\n    return this.vhQueryCafe.getlocalBranch(id).name\r\n  }\r\n  checkPayment(payment_type, id_wallet?) {\r\n    switch (payment_type) {\r\n      case 1: return this.lang.translate(\"Cash\")\r\n      case 3: return `${this.vhQueryCafe.getlocalWallet(id_wallet)['name']}`\r\n    }\r\n  }\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 32: {\r\n        return (this.lang.translate(\"Transferring money\"));\r\n      }\r\n      case 33: { return (this.lang.translate(\"Transferred money\")); }\r\n    }\r\n  }\r\n  addTransfers() {\r\n    let dataRestore = { searchValue: this.searchValue, startTime: this.date[0], endTime: this.date[1], listTransfer: this.listTransfer }\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/transfers/add'], { state: { dataRestore, branchList: this.branchList } })\r\n  }\r\n\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.listTransferShow = this.vhAlgorithm.searchList(val, this.listTransfer, ['bill_code'])\r\n    } else this.listTransferShow = [...this.listTransfer]\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#transfers-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".transfers-invoice-header\")) {\r\n      this.tableHeight = document.querySelector(\"#transfers-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".transfers-invoice-header\").clientHeight - 60 + \"px\";\r\n      if (document.querySelector(\".ant-table-pagination\")) {\r\n        this.tableHeight = document.querySelector(\"#transfers-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".transfers-invoice-header\").clientHeight - - 90 + \"px\";\r\n      }\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate([\"/cafe/dashboard/management/cashflow\"])\r\n  }\r\n\r\n\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.lang.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.lang.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n\r\n  goToDetail(invoice) {\r\n    let dataRestore = { searchValue: this.searchValue, startTime: this.date[0], endTime: this.date[1], listTransfer: this.listTransfer }\r\n    this.router.navigate(['/cafe/dashboard/management/cashflow/transfers/detail'], { state: { dataRestore, branchList: this.branchList, billDetail: invoice } })\r\n  }\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  deliveryBranchCol = false;\r\n  receiveBranchCol = false;\r\n  statusCol = false;\r\n  paymentCol = false;\r\n  totalCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collect\r\n *\r\n * @param colName       // tên cột muôn sắp xếp\r\n */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortDatebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortDatebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name':\r\n        if(this.deliveryBranchCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name_reception':\r\n        if(this.receiveBranchCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'status':\r\n        if(this.statusCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.paymentCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'total':\r\n        if(this.totalCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortNumberbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortNumberbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"transfers-invoice\">\r\n  <div nz-row class=\"transfers-invoice-header\">\r\n    <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n      <b>{{'Transfers money'| translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"7\" class=\"title left-all-content\">\r\n      <nz-input-group style=\"margin-right : 8px;width: 100%;\" [nzSuffix]=\"suffixIconSearch\">\r\n        <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n          placeholder=\"{{'Search for receipt code' | translate}}\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"7\" class=\"date-picker-cus right-all-content\">\r\n      <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n    </div>\r\n    <div nz-col class=\"right-all-content\" nzSpan=\"6\">\r\n      <div>\r\n        <button class=\"btn-green center-all-content ml-3\" nz-button nzType=\"default\" (click)=\"getTransferList()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <button (click)=\"addTransfers()\" class=\"btn-green right-all-content\" nz-button nzType=\"default\">\r\n          <ion-icon name=\"add-outline\"></ion-icon>\r\n          {{'Create transfers note' | translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div style=\"margin-top: 16px;\">\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n      [nzScroll]=\"{ x: '1300px', y: tableHeight }\" #detailData nzShowPagination nzShowSizeChanger\r\n      [nzData]=\"listTransferShow\">\r\n      <thead>\r\n        <tr>\r\n          <th nzLeft nzWidth=\"150px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n            <b>{{'Date' | translate}}</b>\r\n            <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzLeft nzWidth=\"150px\" nzAlign='left'><b>{{'Invoice code' | translate}}</b></th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"deliveryBranchCol = !deliveryBranchCol;sortTable('branch_name')\">\r\n            <b>{{'Delivery branch' | translate}}</b>\r\n            <i nz-icon [nzType]=\"deliveryBranchCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"receiveBranchCol = !receiveBranchCol;sortTable('branch_name_reception')\">\r\n            <b>{{'Receive branch' | translate}}</b>\r\n            <i nz-icon [nzType]=\"receiveBranchCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"200px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"paymentCol = !paymentCol;sortTable('payment_name')\">\r\n            <b>{{'Payment method' | translate}}</b>\r\n            <i nz-icon [nzType]=\"paymentCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"150px\" nzAlign='left' style=\"cursor: pointer;\"\r\n            (click)=\"statusCol = !statusCol;sortTable('status')\">\r\n            <b>{{'Status' | translate}}</b>\r\n            <i nz-icon [nzType]=\"statusCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"150px\" nzAlign='right' style=\"cursor: pointer;\"\r\n            (click)=\"totalCol = !totalCol;sortTable('total')\">\r\n            <b>{{'Total' | translate}}</b>\r\n            <i nz-icon [nzType]=\"totalCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr (click)=\"goToDetail(invoice)\" *ngFor=\"let invoice of detailData.data;let i = index\"\r\n          style=\"cursor: pointer;\">\r\n          <td nzLeft nzAlign='left'>{{invoice.date | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n          <td nzLeft nzAlign='left'>{{invoice.bill_code}}</td>\r\n          <td nzAlign='left'>{{invoice.branch_name}}</td>\r\n          <td nzAlign='left'>{{invoice.branch_name_reception}}</td>\r\n          <td nzAlign='left'>{{invoice.payment_name}}</td>\r\n          <td nzAlign='left'>{{invoice.status}}</td>\r\n          <td nzAlign='right' style=\"color:var(--ion-color-vh-green)\">\r\n            <b>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</b>\r\n          </td>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TransfersComponent } from './transfers.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport { CanLeavePage } from 'src/app/cafe/desktop/canLeavePage';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: TransfersComponent\r\n  },\r\n  {\r\n    path: \"add\",\r\n    component: AddComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent,\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [TransfersComponent, DetailComponent, AddComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class TransfersModule { }\r\n"],"names":["FormControl","FormGroup","Validators","TransferMoneyA4Component","TransferMoneyA5Component","TransferMoneyK80Col4Component","TransferMoneyK80Col3Component","TransferMoneyK57Col3Component","i0","DetailComponent","constructor","router","vhAlgorithm","vhQueryCafe","vhComponent","lang","vhAuth","fncService","getlocalBranchs","filter","item","_id","getDefaultBranch","getCurrentNavigation","extras","state","dataRestore","billDetail","getPaymentBankList","options","value","label","translate","isLeaf","children","listPaymentBank","nzOptions","ngOnInit","initForm","printer","getlocalPrinters","find","name","delivery_receive_money","checkPrinter","enable","changeDate","event","getValidityDate","then","validitydate","alertMessageDesktop","formatDate","editTransfersForm","controls","setValue","Date","updateBill","date","ngAfterViewInit","waitingStack","money_currency","vhnumeral","isDisable","disabled","total","required","content","payment_type","type_payment","id_branch_receive","listPayment","getlocalWallets","id_branch","map","goBack","reset","navigate","showPrint","billInfo","bill_code","id_wallet","employee","checkPrint","showModal","renderPrintPage","modal","onWillDismiss","dataReturn","err","alertMessage","Promise","resolve","rejects","getLocalPrintPage","print_sizes","findIndex","e","print_size_default","type","res","catch","console","error","updateAmount","amount","parseFloat","getRawValue","payment","deleteBill","alertConfirm","showLoading","hideLoading","showToast","checkDeactivate","currentRoute","currentState","nextState","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///"}