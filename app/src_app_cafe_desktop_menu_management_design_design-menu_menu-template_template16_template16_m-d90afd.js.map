{"version":3,"file":"src_app_cafe_desktop_menu_management_design_design-menu_menu-template_template16_template16_m-d90afd.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIYE,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAgBA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,OAAuB,eAAvB,EAAuB;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,KAAvB;AAEZA,IAAAA,4DAAAA;AACIA,IAAAA,uDAAAA;AAEJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,uDAAAA;AAEJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,uDAAAA;AAEJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;AAfoBA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,8BAAuB,YAAvB,EAAuBC,kBAAvB;AAIJD,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AAIAA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCRA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAsBA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,kDAAmC,IAAnC,EAAyC,OAAzC;AAAgD,KAAhD,EAAmD,OAAnD,EAAmD;AAAA,aAC5DE,wBAD4D;AACpC,KADf,EAAmD,eAAnD,EAAmD;AAAAF,MAAAA,2DAAAA;AAAA;AAAA;AAAA,KAAnD;AAAtBA,IAAAA,0DAAAA;AAKJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAEIA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAAG,oDAAqC,CAArC,GAAyC,IAAzC,EAA+C,OAA/C,IAA0D,IAA1D;AAA8D,aAAED,wBAAF;AAA0B,KAAxF;;AAFJF,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAEIA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAAI,oDAAqC,CAArC,GAAyC,IAAzC,EAA+C,OAA/C,IAA0D,IAA1D;AAA8D,aAAEF,wBAAF;AAA0B,KAAxF;;AAFJF,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAEIA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAAK,oDAAqC,CAArC,GAAyC,IAAzC,EAA+C,OAA/C,IAA0D,IAA1D;AAA8D,aAAEH,wBAAF;AAA0B,KAAxF;;AAFJF,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAOA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,iDAAkC,IAAlC,EAAwC,OAAxC;AAA+C,KAA/C,EAAkD,OAAlD,EAAkD;AAAA,aAAUE,wBAAV;AAAkC,KAApF,EAAkD,eAAlD,EAAkD;AAAAF,MAAAA,2DAAAA;AAAA;AAAA;AAAA,KAAlD;AAAPA,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;AApCKA,IAAAA,wDAAAA,mCAA6B,SAA7B,EAA6B,uBAA7B;AAKOA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA,wHAA2J,SAA3J,EAA2JA,6DAAAA,8NAA3J,EAA2J,SAA3J,EAA2JM,uBAA3J,EAA2J,UAA3J,EAA2J,kBAA3J;AAKJN,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACKA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,4BAAAA,2DAAAA;AAGDA,IAAAA,mEAAAA,UAAAA,yDAAAA;AAHkCA,IAAAA,wDAAAA,kCAA6B,SAA7B,EAA6BA,6DAAAA,gDAA7B;AAMtCA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACKA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,4BAAAA,2DAAAA;AAGDA,IAAAA,mEAAAA,UAAAA,yDAAAA;AAHkCA,IAAAA,wDAAAA,kCAA6B,SAA7B,EAA6BA,6DAAAA,gDAA7B;AAMtCA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACKA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,4BAAAA,2DAAAA;AAGDA,IAAAA,mEAAAA,UAAAA,yDAAAA;AAHkCA,IAAAA,wDAAAA,kCAA6B,SAA7B,EAA6BA,6DAAAA,gDAA7B;AAOlCA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA,kHAAqJ,SAArJ,EAAqJA,6DAAAA,kNAArJ,EAAqJ,SAArJ,EAAqJM,qBAArJ,EAAqJ,UAArJ,EAAqJ,kBAArJ;;;;;;;;;;;;AAoCQN,IAAAA,4DAAAA;AAEIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;;AAHKA,IAAAA,wDAAAA,YAAAA,6DAAAA;AAEDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;;;;;;;;;;;;AAVRA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAAA;AAAA;AAAA;AAAAO,0EAAqD,IAArD;AAAyD,aAAEL,wBAAF;AAA0B,KAAnF;AAIAF,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;;;;;;AAZKA,IAAAA,wDAAAA;AAAwCA,IAAAA,oEAAAA;AAEzCA,IAAAA,wDAAAA,YAAAA,6DAAAA,4FAA6H,SAA7H,EAA6HA,6DAAAA,mJAA7H;AAGKA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAE8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AA2BtDA,IAAAA,4DAAAA;AAEIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;;AAHKA,IAAAA,wDAAAA,YAAAA,6DAAAA;AAEDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;;;AAVRA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAAA;AAAA;AAAA;AAAAQ,0EAAqD,IAArD;AAAyD,aAAEN,wBAAF;AAA0B,KAAnF;AAIAF,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;;;;;;AAZKA,IAAAA,wDAAAA;AAAwCA,IAAAA,oEAAAA;AAEzCA,IAAAA,wDAAAA,YAAAA,6DAAAA,4FAA6H,SAA7H,EAA6HA,6DAAAA,mJAA7H;AAGKA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAE8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;AAyB9CA,IAAAA,4DAAAA;AAEIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;;;;;;AAHKA,IAAAA,wDAAAA,YAAAA,6DAAAA;AAEDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;;;;;;;;AAVRA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAAA;AAAA;AAAA;AAAAS,0EAAqD,IAArD;AAAyD,aAAEP,wBAAF;AAA0B,KAAnF;AAIAF,IAAAA,4DAAAA;AACIA,IAAAA,oDAAAA;AACJA,IAAAA,0DAAAA;AACAA,IAAAA,wDAAAA;AAIJA,IAAAA,0DAAAA;;;;;;AAZKA,IAAAA,wDAAAA;AAAwCA,IAAAA,oEAAAA;AAEzCA,IAAAA,wDAAAA,YAAAA,6DAAAA,4FAA6H,SAA7H,EAA6HA,6DAAAA,mJAA7H;AAGKA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACDA,IAAAA,uDAAAA;AAAAA,IAAAA,gEAAAA;AAE8CA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;;;;;AAnFtEA,IAAAA,4DAAAA;AAOIA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAOA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,OAAgC,OAAhC,EAAgC;AAAA,aAAUE,wBAAV;AAAkC,KAAlE,EAAgC,eAAhC,EAAgC;AAAAF,MAAAA,2DAAAA;AAAA;AAAA;AAAA,KAAhC;AAAPA,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAAOA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAA,OAA4B,OAA5B,EAA4B;AAAA,aAAUE,wBAAV;AAAkC,KAA9D,EAA4B,eAA5B,EAA4B;AAAAF,MAAAA,2DAAAA;AAAA;AAAA;AAAA,KAA5B;AAAPA,IAAAA,0DAAAA;AAIJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAaJA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAGIA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAAU,sEAA8C,CAA9C,EAAiD,CAAjD,KAAuD,IAAvD;AAA2D,aAAER,wBAAF;AAA0B,KAArF;;AAHJF,IAAAA,0DAAAA;AAKJA,IAAAA,0DAAAA;AAEJA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAaJA,IAAAA,0DAAAA;AAEAA,IAAAA,4DAAAA;AACIA,IAAAA,4DAAAA;AAEIA,IAAAA,4DAAAA;AAGIA,IAAAA,wDAAAA;AAAAA,MAAAA,2DAAAA;AAAA;AAAA;AAAAW,sEAA8C,CAA9C,EAAiD,CAAjD,KAAuD,IAAvD;AAA2D,aAAET,wBAAF;AAA0B,KAArF;;AAHJF,IAAAA,0DAAAA;AAKJA,IAAAA,0DAAAA;AACAA,IAAAA,4DAAAA;AACIA,IAAAA,wDAAAA;AAaJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;AACJA,IAAAA,0DAAAA;;;;;;AA3FKA,IAAAA,wDAAAA,mCAA6B,SAA7B,EAA6B,uBAA7B;AAYeA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA,qHAA4I,SAA5I,EAA4IA,6DAAAA,wNAA5I,EAA4I,SAA5I,EAA4IY,sBAA5I,EAA4I,UAA5I,EAA4I,kBAA5I;AAMAZ,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA,yGAAgI,SAAhI,EAAgIA,6DAAAA,gMAAhI,EAAgI,SAAhI,EAAgIY,kBAAhI,EAAgI,UAAhI,EAAgI,kBAAhI;AASiBZ,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,6BAAgB,cAAhB,EAAgBY,wBAAhB;AAYrBZ,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACKA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,uFAAAA,2DAAAA;AAIDA,IAAAA,mEAAAA,UAAAA,yDAAAA;AAHAA,IAAAA,wDAAAA,sDAA0C,SAA1C,EAA0CA,6DAAAA,oEAA1C;AAaaA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,6BAAgB,cAAhB,EAAgBY,wBAAhB;AAajBZ,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,YAAAA,6DAAAA;AACKA,IAAAA,uDAAAA;AAAAA,IAAAA,mEAAAA,uFAAAA,2DAAAA;AAIDA,IAAAA,mEAAAA,UAAAA,yDAAAA;AAHAA,IAAAA,wDAAAA,sDAA0C,SAA1C,EAA0CA,6DAAAA,oEAA1C;AAUiBA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA,6BAAgB,cAAhB,EAAgBY,wBAAhB;;;;;;AArHzCZ,IAAAA,qEAAAA;AACIA,IAAAA,wDAAAA;AAqCAA,IAAAA,wDAAAA;AA4FAA,IAAAA,uDAAAA;AACJA,IAAAA,mEAAAA;;;;;AAlIgEA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;AAqCDA,IAAAA,uDAAAA;AAAAA,IAAAA,wDAAAA;;;;ADtFzE,MAAOa,mBAAP,CAA0B;AAuG9BC,cACUC,KADV,EAEUC,MAFV,EAGUC,WAHV,EAIUC,KAJV,EAKSC,WALT,EAMUC,eANV,EAOUC,MAPV,EAQUC,OARV,EAQ0B;AAPhB;AACA;AACA;AACA;AACD;AACC;AACA;AACA;AA7GV,wBAAyB,EAAzB;AACA,sBAAsB,IAAtB;AACA,iBAAyB,GAAzB;AACA,qBAA6B,GAA7B;AACA,kBAAiB,SAAjB;AACA,kBAAiB,SAAjB;AAEA,oBAAuB,CACrB;AACEC,SAAG,EAAE,CADP;AAEEC,eAAS,EAAE;AACTC,aAAK,EAAE,MADE;AAETC,aAAK,EAAE;AACLC,eAAK,EAAE,MADF;AAELC,kBAAQ,EAAE,KAFL;AAGLC,oBAAU,EAAE,KAHP;AAILC,uBAAa,EAAE,KAJV;AAKLC,cAAI,EAAE,OALD;AAMLC,kBAAQ,EAAE,EANL;AAOLC,mBAAS,EAAE,KAAKC;AAPX;AAFE,OAFb;AAcEC,SAAG,EAAE,CACH;AACEC,WAAG,EAAE,iDADP;AAEEC,aAAK,EAAE;AAFT,OADG,EAKH;AACED,WAAG,EAAE,iDADP;AAEEC,aAAK,EAAE;AAFT,OALG,EASH;AACED,WAAG,EAAE,iDADP;AAEEC,aAAK,EAAE;AAFT,OATG,CAdP;AA4BEC,aAAO,EAAE;AACPb,aAAK,EAAE,4DADA;AAEPC,aAAK,EAAE;AACLC,eAAK,EAAE,MADF;AAELC,kBAAQ,EAAE,KAFL;AAGLC,oBAAU,EAAE,KAHP;AAILC,uBAAa,EAAE,KAJV;AAKLC,cAAI,EAAE,OALD;AAMLC,kBAAQ,EAAE,EANL;AAOLC,mBAAS,EAAE;AAPN;AAFA,OA5BX;AAwCEM,UAAI,EAAE;AAxCR,KADqB,EA2CrB;AACEhB,SAAG,EAAE,CADP;AAEEiB,UAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFR;AAGED,UAAI,EAAE;AAHR,KA3CqB,CAAvB;AAiDA,mBAAiB,CACf;AACE,SAAG;AACDH,WAAG,EAAE,kDADJ;AAEDK,aAAK,EAAE,kBAFN;AAGDJ,aAAK,EAAE;AAHN,OADL;AAME,SAAG;AACDD,WAAG,EAAE,kDADJ;AAEDK,aAAK,EAAE,kBAFN;AAGDJ,aAAK,EAAE;AAHN;AANL,KADe,CAAjB;AAcA,qBAAiB;AACfZ,WAAK,EAAE,kBADQ;AAEfC,WAAK,EAAE;AACLC,aAAK,EAAE,QADF;AAELC,gBAAQ,EAAE,KAFL;AAGLC,kBAAU,EAAE,KAHP;AAILC,qBAAa,EAAE,KAJV;AAKLC,YAAI,EAAE,OALD;AAMLC,gBAAQ,EAAE,EANL;AAOLC,iBAAS,EAAE;AAPN;AAFQ,KAAjB;AAaA,iBAAa;AACXR,WAAK,EAAE,wBADI;AAEXC,WAAK,EAAE;AACLC,aAAK,EAAE,QADF;AAELC,gBAAQ,EAAE,KAFL;AAGLC,kBAAU,EAAE,KAHP;AAILC,qBAAa,EAAE,KAJV;AAKLC,YAAI,EAAE,OALD;AAMLC,gBAAQ,EAAE,EANL;AAOLC,iBAAS,EAAE,KAAKS;AAPX;AAFI,KAAb;AAaA,yBAAqB,IAArB;AACA,qBAAiB,IAAjB;AACA,wBAAwB,KAAxB;AACA,uBAAuB,KAAvB;AACA,sBAAsB,KAAtB;AAgmBA;;AACA,oBAAoB,KAApB;AAtlBE,SAAKC,QAAL,GAAgB,KAAK3B,MAAL,CAAY4B,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1D,CAFwB,CAGxB;;AACA,QAAI,KAAKH,QAAT,EAAmB;AACjB,WAAKI,OAAL,GAAe,KAAKJ,QAAL,CAAc,KAAd,CAAf;AACA,WAAKK,KAAL,GAAa,KAAKL,QAAL,CAAc,OAAd,CAAb;AACA,WAAKM,SAAL,GAAiB,KAAKN,QAAL,CAAc,OAAd,CAAjB;AACA,WAAKO,QAAL,CAAc,CAAd,IAAmB,KAAKP,QAAL,CAAc,OAAd,CAAnB;AACA,WAAKnB,SAAL,GAAiB,KAAKmB,QAAL,CAAc,OAAd,CAAjB;AACA,WAAKQ,KAAL,GAAa,KAAKR,QAAL,CAAc,UAAd,CAAb;AACD;;AACD,SAAKS,OAAL;AACD;;AAEDC,mBAAiB,CAACC,OAAD,EAAUC,KAAV,EAAe;AAC9B,WAAOD,OAAO,CAACC,KAAR,GAAgBD,OAAO,CAACC,KAAxB,GAAgCA,KAAvC;AACD;;AACDC,qBAAmB,CAACF,OAAD,EAAUC,KAAV,EAAe;AAChC,WAAOD,OAAO,CAAC/B,GAAR,GAAc+B,OAAO,CAAC/B,GAAtB,GAA4BgC,KAAnC;AACD;;AAIDE,iBAAe;AACbC,YAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,gBAA9C,CAA+D,kBAA/D,EAAoFC,EAAD,IAAO;AACxF,WAAKC,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACD,KAFD;AAIA,SAAKZ,QAAL,GAAgB,KAAKa,aAAL,CAAmB,KAAKb,QAAxB,CAAhB;AAEAQ,YAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCK,KAArC;AACD;;AAEDC,aAAW;AACTP,YAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CO,mBAA9C,CAAkE,kBAAlE,EAAuFL,EAAD,IAAO,CAAI,CAAjG;AAEA,SAAKM,kBAAL,CAAwB,KAAKC,YAA7B;AACD;;AAGDC,oBAAkB;AAChB,SAAKtD,KAAL,CAAWuD,aAAX;AACD;;AAEDC,aAAW,CAACvB,KAAD,EAAM;AACf,SAAK9B,KAAL,CAAWsD,OAAX,CAAmB;AACjBC,aAAO,EAAE,KAAKrD,eAAL,CAAqBsD,SAArB,CAA+B,oCAA/B,CADQ;AAEjBC,eAAS,EAAE,KAAKvD,eAAL,CAAqBsD,SAArB,CAA+B,6CAA/B,CAFM;AAGjBE,cAAQ,EAAE,IAHO;AAIjBC,kBAAY,EAAE,KAAKzD,eAAL,CAAqBsD,SAArB,CAA+B,QAA/B,CAJG;AAKjBI,YAAM,EAAE,MACN,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;AAC9B,aAAKjC,KAAL,GAAaA,KAAb;;AACA,gBAAQA,KAAR;AACE,eAAK,GAAL;AACE,iBAAKN,MAAL,GAAc,SAAd;AACA,iBAAKR,MAAL,GAAc,SAAd;AACA;;AACF,eAAK,GAAL;AACE,iBAAKQ,MAAL,GAAc,SAAd;AACA,iBAAKR,MAAL,GAAc,SAAd;AACA;;AACF,eAAK,GAAL;AACE,iBAAKQ,MAAL,GAAc,SAAd;AACA,iBAAKR,MAAL,GAAc,SAAd;AACA;AAZJ,SAF8B,CAgB9B;;;AACA,aAAKV,SAAL,CAAeE,KAAf,CAAqBO,SAArB,GAAiC,SAAjC;AACA,aAAKkB,KAAL,CAAWzB,KAAX,CAAiBO,SAAjB,GAA6B,KAAKS,MAAlC;AACA,aAAKQ,QAAL,CAAcgC,OAAd,CAAsB,CAACC,IAAD,EAAO5B,KAAP,KAAgB;AACpC,cAAIA,KAAK,GAAG,CAAZ,EAAe;AACb4B,gBAAI,CAAC3C,IAAL,CAAU,CAAV,EAAa0C,OAAb,CAAqBE,GAAG,IAAG;AACzBA,iBAAG,CAAC1D,KAAJ,CAAUO,SAAV,GAAsBmD,GAAG,CAACC,KAAJ,IAAa,gBAAb,GAAgC,SAAhC,GAA4C,KAAK3C,MAAvE;AACD,aAFD;AAGAyC,gBAAI,CAAC3C,IAAL,CAAU,CAAV,EAAa0C,OAAb,CAAqBE,GAAG,IAAG;AACzBA,iBAAG,CAAC1D,KAAJ,CAAUO,SAAV,GAAsBmD,GAAG,CAACC,KAAJ,IAAa,gBAAb,GAAgC,SAAhC,GAA4C,KAAK3C,MAAvE;AACD,aAFD;AAGAyC,gBAAI,CAAC3C,IAAL,CAAU,CAAV,EAAa0C,OAAb,CAAqBE,GAAG,IAAG;AACzBA,iBAAG,CAAC1D,KAAJ,CAAUO,SAAV,GAAsBmD,GAAG,CAACC,KAAJ,IAAa,gBAAb,GAAgC,SAAhC,GAA4C,KAAK3C,MAAvE;AACD,aAFD;AAGD,WAVD,MAUO;AACLyC,gBAAI,CAAC3D,SAAL,CAAeE,KAAf,CAAqBO,SAArB,GAAiC,KAAKC,MAAtC;AACAiD,gBAAI,CAAC7C,OAAL,CAAaZ,KAAb,CAAmBO,SAAnB,GAA+B,SAA/B;AACD;AACF,SAfD;AAgBA+C,eAAO;AACR,OApCD,CANe;AA2CjBM,gBAAU,EAAE,MAAK;AACf,eAAO,IAAIP,OAAJ,CAAaC,OAAD,IAAY;AAC7B,eAAK/B,SAAL,GAAiB,KAAKD,KAAtB;AACAgC,iBAAO;AACR,SAHM,CAAP;AAID;AAhDgB,KAAnB;AAkDD;AAED;;;AACAO,aAAW,CAACC,GAAD,EAAW;AACpB,QAAIC,OAAO,GAAW,EAAtB;AACAD,OAAG,CAACN,OAAJ,CAAYQ,IAAI,IAAG;AACjB,UAAID,OAAO,CAACE,MAAZ,EACEF,OAAO,IAAI,KAAKC,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,IAAI,EAA1C,CADF,KAEKJ,OAAO,IAAI,GAAGC,IAAI,CAACE,QAAQ,IAAIF,IAAI,CAACG,IAAI,EAAxC;AACN,KAJD;AAKA,WAAOJ,OAAP;AACD;;AAEDrC,SAAO;AACL,QAAI0C,UAAU,GAAG,KAAK7E,WAAL,CAAiB8E,iBAAjB,CAAmC,CAAnC,CAAjB;AACA,QAAIC,KAAK,GAAG,KAAK/E,WAAL,CAAiBgF,gBAAjB,CAAkC,CAAlC,EAAqCC,MAArC,CAA4CR,IAAI,IAAI,CAACA,IAAI,CAACS,aAA1D,CAAZ;AACA,QAAIC,WAAW,GAAG,KAAKnF,WAAL,CAAiBgF,gBAAjB,CAAkC,CAAlC,EAAqCC,MAArC,CAA4CR,IAAI,IAAI,CAACA,IAAI,CAACS,aAA1D,CAAlB;AACA,QAAIE,UAAU,GAAG,KAAKpF,WAAL,CAAiBgF,gBAAjB,CAAkC,CAAlC,EAAqCC,MAArC,CAA4CR,IAAI,IAAI,CAACA,IAAI,CAACS,aAA1D,CAAjB;AACA,QAAIG,MAAM,GAAG,KAAKrF,WAAL,CAAiBgF,gBAAjB,CAAkC,CAAlC,EAAqCC,MAArC,CAA4CR,IAAI,IAAI,CAACA,IAAI,CAACS,aAA1D,CAAb;AACA,QAAI5C,KAAK,GAAG,CAAZ,CANK,CAMU;;AACf,QAAIgD,QAAJ,CAPK,CAQL;;AACA,QAAI,KAAK5D,QAAT,EAAmB4D,QAAQ,GAAG,KAAK5D,QAAL,CAAc,UAAd,CAAX,CATd,CAWL;;AACA,QAAI2D,MAAM,CAACX,MAAX,EAAmB;AACjB,UAAIa,aAAa,GAAQD,QAAQ,GAAGA,QAAQ,CAAC,OAAD,CAAX,GAAuB,IAAxD;AACA,WAAKrD,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,YAAI,EAAE,KAAKzE,eAAL,CAAqBsD,SAArB,CAA+B,OAA/B,CADsB;AACmBW,aAAK,EAAE,gBAD1B;AAC4C9B,aAD5C;AACmDhC,WAAG,EAAE,OADxD;AAE5BG,aAAK,EAAE8E,aAAa,GAAGA,aAAH,GAAmB;AACrC7E,eAAK,EAAE,MAD8B;AAErCC,kBAAQ,EAAE,IAF2B;AAGrCC,oBAAU,EAAE,KAHyB;AAIrCC,uBAAa,EAAE,KAJsB;AAKrCC,cAAI,EAAE,OAL+B;AAMrCC,kBAAQ,EAAE,EAN2B;AAOrCC,mBAAS,EAAE;AAP0B;AAFX,OAA9B;AAYAsB,WAAK;;AACL,WAAK,IAAImD,KAAT,IAAkBJ,MAAlB,EAA0B;AACxB,YAAIK,SAAS,GAAQJ,QAAQ,GAAGA,QAAQ,CAACG,KAAK,CAACnF,GAAP,CAAX,GAAyB,IAAtD;AACA,aAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,cAAI,EAAEa,KAAK,CAACb,IADgB;AACVe,eAAK,EAAEF,KAAK,CAACE,KADH;AACUvB,eAAK,EAAE,kBADjB;AACqC9B,eADrC;AAC4ChC,aAAG,EAAEmF,KAAK,CAACnF,GADvD;AAE5BG,eAAK,EAAEiF,SAAS,GAAGA,SAAH,GAAe;AAC7BhF,iBAAK,EAAE,MADsB;AAE7BC,oBAAQ,EAAE,KAFmB;AAG7BC,sBAAU,EAAE,KAHiB;AAI7BC,yBAAa,EAAE,KAJc;AAK7BC,gBAAI,EAAE,OALuB;AAM7BC,oBAAQ,EAAE,EANmB;AAO7BC,qBAAS,EAAE,KAAKS;AAPa;AAFH,SAA9B;AAYAa,aAAK;AAEL,YAAIsD,QAAQ,GAAQN,QAAQ,GAAGA,QAAQ,CAAC,QAAQG,KAAK,CAACnF,GAAG,EAAlB,CAAX,GAAmC,IAA/D;AACA,aAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,cAAI,EAAE,KAAKN,WAAL,CAAiBmB,KAAK,CAACJ,MAAvB,CADsB;AACUjB,eAAK,EAAE,kBADjB;AACqC9B,eADrC;AAC4ChC,aAAG,EAAE,QAAQmF,KAAK,CAACnF,GAAG,EADlE;AAE5BG,eAAK,EAAEmF,QAAQ,GAAGA,QAAH,GAAc;AAC3BlF,iBAAK,EAAE,MADoB;AAE3BC,oBAAQ,EAAE,KAFiB;AAG3BC,sBAAU,EAAE,KAHe;AAI3BC,yBAAa,EAAE,KAJY;AAK3BC,gBAAI,EAAE,OALqB;AAM3BC,oBAAQ,EAAE,EANiB;AAO3BC,qBAAS,EAAE,KAAKS;AAPW;AAFD,SAA9B;AAYAa,aAAK;AACN;AACF,KA1DI,CA4DL;;;AACA,SAAK,IAAIuD,QAAT,IAAqBhB,UAArB,EAAiC;AAC/B,UAAIU,aAAa,GAAQD,QAAQ,GAAGA,QAAQ,CAACO,QAAQ,CAACvF,GAAV,CAAX,GAA4B,IAA7D;AAEA,WAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,YAAI,EAAEiB,QAAQ,CAACjB,IADa;AACPR,aAAK,EAAE,gBADA;AACkB9B,aADlB;AACyBhC,WAAG,EAAEuF,QAAQ,CAACvF,GADvC;AAE5BG,aAAK,EAAE8E,aAAa,GAAGA,aAAH,GAAmB;AACrC7E,eAAK,EAAE,MAD8B;AAErCC,kBAAQ,EAAE,IAF2B;AAGrCC,oBAAU,EAAE,KAHyB;AAIrCC,uBAAa,EAAE,KAJsB;AAKrCC,cAAI,EAAE,OAL+B;AAMrCC,kBAAQ,EAAE,EAN2B;AAOrCC,mBAAS,EAAE;AAP0B;AAFX,OAA9B;AAaAsB,WAAK;;AAEL,WAAK,IAAIwD,IAAT,IAAiBf,KAAjB,EAAwB;AACtB,YAAIe,IAAI,CAACC,WAAL,IAAoBF,QAAQ,CAACvF,GAAjC,EAAsC;AACpC,cAAIwF,IAAI,CAACE,IAAL,IAAaF,IAAI,CAACE,IAAL,CAAUtB,MAAV,GAAmB,CAApC,EAAuC;AACrC,gBAAIgB,SAAS,GAAQJ,QAAQ,GAAGA,QAAQ,CAACQ,IAAI,CAACxF,GAAN,CAAX,GAAwB,IAArD;AACA,iBAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,kBAAI,EAAEkB,IAAI,CAAClB,IADiB;AACXR,mBAAK,EAAE,oBADI;AACkB9B,mBADlB;AACyBhC,iBAAG,EAAEwF,IAAI,CAACxF,GADnC;AAE5BG,mBAAK,EAAEiF,SAAS,GAAGA,SAAH,GAAe;AAC7BhF,qBAAK,EAAE,MADsB;AAE7BC,wBAAQ,EAAE,KAFmB;AAG7BC,0BAAU,EAAE,KAHiB;AAI7BC,6BAAa,EAAE,KAJc;AAK7BC,oBAAI,EAAE,OALuB;AAM7BC,wBAAQ,EAAE,EANmB;AAO7BC,yBAAS,EAAE,KAAKS;AAPa;AAFH,aAA9B;AAYAa,iBAAK;;AACL,iBAAK,IAAI0D,IAAT,IAAiBF,IAAI,CAACE,IAAtB,EAA4B;AAC1B,kBAAIJ,QAAQ,GAAQN,QAAQ,GAAGA,QAAQ,CAACU,IAAI,CAAC1F,GAAN,CAAX,GAAwB,IAApD;AACA,mBAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,oBAAI,EAAEoB,IAAI,CAACpB,IADiB;AACXe,qBAAK,EAAEK,IAAI,CAACL,KADD;AACQvB,qBAAK,EAAE,YADf;AAC6B9B,qBAD7B;AACoChC,mBAAG,EAAE0F,IAAI,CAAC1F,GAD9C;AAE5BG,qBAAK,EAAEmF,QAAQ,GAAGA,QAAH,GAAc;AAC3BlF,uBAAK,EAAE,MADoB;AAE3BC,0BAAQ,EAAE,KAFiB;AAG3BC,4BAAU,EAAE,KAHe;AAI3BC,+BAAa,EAAE,KAJY;AAK3BC,sBAAI,EAAE,OALqB;AAM3BC,0BAAQ,EAAE,EANiB;AAO3BC,2BAAS,EAAE,KAAKS;AAPW;AAFD,eAA9B;AAYAa,mBAAK;AACN;AACF,WA/BD,MA+BO;AACL,gBAAIoD,SAAS,GAAQJ,QAAQ,GAAGA,QAAQ,CAACQ,IAAI,CAACxF,GAAN,CAAX,GAAwB,IAArD;AACA,iBAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,kBAAI,EAAEkB,IAAI,CAAClB,IADiB;AACXe,mBAAK,EAAEG,IAAI,CAACH,KADD;AACQvB,mBAAK,EAAE,kBADf;AACmC9B,mBADnC;AAC0ChC,iBAAG,EAAEwF,IAAI,CAACxF,GADpD;AAE5BG,mBAAK,EAAEiF,SAAS,GAAGA,SAAH,GAAe;AAC7BhF,qBAAK,EAAE,MADsB;AAE7BC,wBAAQ,EAAE,KAFmB;AAG7BC,0BAAU,EAAE,KAHiB;AAI7BC,6BAAa,EAAE,KAJc;AAK7BC,oBAAI,EAAE,OALuB;AAM7BC,wBAAQ,EAAE,EANmB;AAO7BC,yBAAS,EAAE,KAAKS;AAPa;AAFH,aAA9B;AAYAa,iBAAK;AACN;AACF;AACF;AACF,KAlII,CAoIL;;;AACA,QAAI8C,UAAU,CAACV,MAAf,EAAuB;AACrB,UAAIa,aAAa,GAAQD,QAAQ,GAAGA,QAAQ,CAAC,UAAD,CAAX,GAA0B,IAA3D;AACA,WAAKrD,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,YAAI,EAAE,KAAKzE,eAAL,CAAqBsD,SAArB,CAA+B,aAA/B,CADsB;AACyBW,aAAK,EAAE,gBADhC;AACkD9B,aADlD;AACyDhC,WAAG,EAAE,UAD9D;AAE5BG,aAAK,EAAE8E,aAAa,GAAGA,aAAH,GAAmB;AACrC7E,eAAK,EAAE,MAD8B;AAErCC,kBAAQ,EAAE,IAF2B;AAGrCC,oBAAU,EAAE,KAHyB;AAIrCC,uBAAa,EAAE,KAJsB;AAKrCC,cAAI,EAAE,OAL+B;AAMrCC,kBAAQ,EAAE,EAN2B;AAOrCC,mBAAS,EAAE;AAP0B;AAFX,OAA9B;AAYAsB,WAAK;;AACL,WAAK,IAAI2D,QAAT,IAAqBb,UAArB,EAAiC;AAC/B,YAAIc,eAAe,GAAQZ,QAAQ,GAAGA,QAAQ,CAACW,QAAQ,CAAC3F,GAAV,CAAX,GAA4B,IAA/D;AACA,aAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,cAAI,EAAEqB,QAAQ,CAACrB,IADa;AACPe,eAAK,EAAEM,QAAQ,CAACN,KADT;AACgBvB,eAAK,EAAE,kBADvB;AAC2C9B,eAD3C;AACkDhC,aAAG,EAAE2F,QAAQ,CAAC3F,GADhE;AAE5BG,eAAK,EAAEyF,eAAe,GAAGA,eAAH,GAAqB;AACzCxF,iBAAK,EAAE,MADkC;AAEzCC,oBAAQ,EAAE,KAF+B;AAGzCC,sBAAU,EAAE,KAH6B;AAIzCC,yBAAa,EAAE,KAJ0B;AAKzCC,gBAAI,EAAE,OALmC;AAMzCC,oBAAQ,EAAE,EAN+B;AAOzCC,qBAAS,EAAE,KAAKS;AAPyB;AAFf,SAA9B;AAYAa,aAAK;AACN;AACF,KApKI,CAsKL;;;AACA,QAAI6C,WAAW,CAACT,MAAhB,EAAwB;AACtB,UAAIa,aAAa,GAAQD,QAAQ,GAAGA,QAAQ,CAAC,YAAD,CAAX,GAA4B,IAA7D;AACA,WAAKrD,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,YAAI,EAAE,KAAKzE,eAAL,CAAqBsD,SAArB,CAA+B,YAA/B,CADsB;AACwBW,aAAK,EAAE,gBAD/B;AACiD9B,aADjD;AACwDhC,WAAG,EAAE,YAD7D;AAE5BG,aAAK,EAAE8E,aAAa,GAAGA,aAAH,GAAmB;AACrC7E,eAAK,EAAE,MAD8B;AAErCC,kBAAQ,EAAE,IAF2B;AAGrCC,oBAAU,EAAE,KAHyB;AAIrCC,uBAAa,EAAE,KAJsB;AAKrCC,cAAI,EAAE,OAL+B;AAMrCC,kBAAQ,EAAE,EAN2B;AAOrCC,mBAAS,EAAE;AAP0B;AAFX,OAA9B;AAYAsB,WAAK;;AACL,WAAK,IAAI6D,UAAT,IAAuBhB,WAAvB,EAAoC;AAClC,YAAIiB,eAAe,GAAQd,QAAQ,GAAGA,QAAQ,CAACa,UAAU,CAAC7F,GAAZ,CAAX,GAA8B,IAAjE;AACA,aAAK2B,QAAL,CAAc,CAAd,EAAiBV,IAAjB,CAAsB,CAAtB,EAAyBiE,IAAzB,CAA8B;AAC5BZ,cAAI,EAAEuB,UAAU,CAACvB,IADW;AACLe,eAAK,EAAEQ,UAAU,CAACR,KADb;AACoBvB,eAAK,EAAE,kBAD3B;AAC+C9B,eAD/C;AACsDhC,aAAG,EAAE6F,UAAU,CAAC7F,GADtE;AAE5BG,eAAK,EAAE2F,eAAe,GAAGA,eAAH,GAAqB;AACzC1F,iBAAK,EAAE,MADkC;AAEzCC,oBAAQ,EAAE,KAF+B;AAGzCC,sBAAU,EAAE,KAH6B;AAIzCC,yBAAa,EAAE,KAJ0B;AAKzCC,gBAAI,EAAE,OALmC;AAMzCC,oBAAQ,EAAE,EAN+B;AAOzCC,qBAAS,EAAE,KAAKS;AAPyB;AAFf,SAA9B;AAYAa,aAAK;AACN;AACF;AACF,GAna6B,CAoa9B;;;AACAQ,eAAa,CAACuD,WAAD,EAAiB;AAC5B,QAAI9E,IAAI,GAAU,CAChB,KAAKU,QAAL,CAAc,CAAd,CADgB,EAEhB;AACE3B,SAAG,EAAE,CADP;AAEEiB,UAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,CAFR;AAGED,UAAI,EAAE;AAHR,KAFgB,CAAlB;AAQA,QAAIgF,CAAC,GAAW,KAAKrE,QAAL,CAAcyC,MAAd,GAAuB,CAAvC;AACA,QAAI6B,CAAC,GAAW,CAAhB;AACA,QAAIC,SAAS,GAAW,CAAxB;;AACA,UAAMC,QAAQ,GAAIC,QAAD,IAAqB;AACpCF,eAAS,IAAIE,QAAb;;AACA,UAAIF,SAAS,GAAG,GAAZ,IAAmBD,CAAC,IAAI,CAA5B,EAA+B;AAC7B;AACA,YAAII,IAAI,GAAGpF,IAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBK,GAAhB,EAAX;AACAL,SAAC,IAAI,CAAL;AACAC,iBAAS,GAAGE,QAAZ;AACAnF,YAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBf,IAAhB,CAAqBmB,IAArB;AACD;;AACD,UAAIH,SAAS,GAAG,GAAZ,IAAmBD,CAAC,IAAI,CAA5B,EAA+B;AAC7B;AACA,YAAII,IAAI,GAAGpF,IAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBK,GAAhB,EAAX;AACAL,SAAC,IAAI,CAAL;AACAC,iBAAS,GAAGE,QAAZ;AACAnF,YAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBf,IAAhB,CAAqBmB,IAArB;AACD;;AACD,UAAIH,SAAS,GAAG,GAAZ,IAAmBD,CAAC,IAAI,CAA5B,EAA+B;AAC7B;AACA,YAAII,IAAI,GAAGpF,IAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBK,GAAhB,EAAX;AACAN,SAAC;AACDC,SAAC,GAAG,CAAJ;AACAC,iBAAS,GAAGE,QAAZ;AACAnF,YAAI,CAACiE,IAAL,CAAU;AACRlF,aAAG,EAAEgG,CADG;AAER/E,cAAI,EAAE,CAAC,CAACoF,IAAD,CAAD,EAAS,EAAT,EAAa,EAAb,CAFE;AAGRrF,cAAI,EAAE;AAHE,SAAV;;AAMA,YAAI,KAAKQ,OAAL,CAAa4C,MAAb,GAAsB4B,CAA1B,EAA6B;AAC3B,eAAKxE,OAAL,CAAa0D,IAAb,CAAkB;AAChB,eAAG;AACDrE,iBAAG,EAAE,kDADJ;AAEDK,mBAAK,EAAE,kBAFN;AAGDJ,mBAAK,EAAE;AAHN,aADa;AAMhB,eAAG;AACDD,iBAAG,EAAE,kDADJ;AAEDK,mBAAK,EAAE,kBAFN;AAGDJ,mBAAK,EAAE;AAHN;AANa,WAAlB;AAYD;AACF;AACF,KA3CD;;AA6CA,SAAK,IAAIyF,IAAT,IAAiBR,WAAW,CAAC,CAAD,CAAX,CAAe9E,IAAf,CAAoB,CAApB,CAAjB,EAAyC;AACvC,UAAIuF,IAAI,GAAGrE,QAAQ,CAACC,cAAT,CAAwB,cAAcmE,IAAI,CAACvE,KAA3C,CAAX;AACAf,UAAI,CAAC+E,CAAD,CAAJ,CAAQ/E,IAAR,CAAagF,CAAb,EAAgBf,IAAhB,CAAqBqB,IAArB;AACAJ,cAAQ,CAACK,IAAI,CAACC,YAAN,CAAR;AACD;;AAED,WAAOxF,IAAP;AACD,GAre6B,CAue9B;;;AACMyF,aAAW,CAACC,UAAD,EAA2C;AAAA;;AAAA;AAC1D,WAAI,CAACC,WAAL,GAAmB,IAAnB;AACA,UAAIV,SAAS,GAAW,CAAxB;;AACA,YAAMC,QAAQ;AAAA,8IAAG,WAAOU,aAAP,EAA8BC,aAA9B,EAAqDC,UAArD,EAAyEX,QAAzE,EAA6F;AAC5G;AACA,gBAAMY,iBAAiB,GAAQ,MAAK;AAClC,gBAAID,UAAU,IAAIE,UAAU,GAAG,CAA/B,EAAkC;AAAC;AACjC,kBAAI,KAAI,CAACtF,QAAL,CAAckF,aAAa,GAAG,CAA9B,CAAJ,EAAsC;AAAE;AACtC,oBAAI,KAAI,CAAClF,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCmD,MAAzC,GAAkD,CAAtD,EAAyD;AAAE;AACzD,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCiG,KAAzC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC6F,aAAlC,EAAiD5B,IAAjD,CAAsDmB,IAAtD,EAF6C,CAGvD;AACD,iBAJD,MAIO,IAAI,KAAI,CAAC1E,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCmD,MAAzC,GAAkD,CAAtD,EAAyD;AAAE;AAChE,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCiG,KAAzC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC6F,aAAlC,EAAiD5B,IAAjD,CAAsDmB,IAAtD;AACX,iBAHM,MAGA,IAAI,KAAI,CAAC1E,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCmD,MAAzC,GAAkD,CAAtD,EAAyD;AAAC;AAC/D,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,EAAyCiG,KAAzC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC6F,aAAlC,EAAiD5B,IAAjD,CAAsDmB,IAAtD;AACX,iBAHM,MAGA;AACL;AACA,uBAAI,CAAC1E,QAAL,CAAcwF,MAAd,CAAqBN,aAAa,GAAG,CAArC,EAAwC,CAAxC,EAFK,CAEuC;;;AAC5C,uBAAI,CAACrF,OAAL,CAAa8E,GAAb,GAHK,CAIL;;;AACAH,0BAAQ,CAACU,aAAD,EAAgBC,aAAhB,EAA+BC,UAA/B,EAA2C,CAA3C,CAAR;AACD;AACF;AACF;AACF,WAtBD;;AAwBAb,mBAAS,IAAIE,QAAb;AACA,cAAIa,UAAU,GAAW,KAAI,CAACtF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC6F,aAAlC,EAAiD1C,MAA1E;;AACA,cAAI0C,aAAa,IAAI,CAArB,EAAwB;AACtB,gBAAIZ,SAAS,GAAG,GAAhB,EAAqB;AACnB;AACA,kBAAIG,IAAI,GAAG,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCkG,MAArC,CAA4CJ,UAA5C,EAAwDE,UAAU,GAAGF,UAArE,CAAX;;AACA,mBAAI,CAACpF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,IAAuCoF,IAAI,CAACe,MAAL,CAAY,KAAI,CAACzF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,CAAZ,CAAvC;AACAiF,uBAAS,GAAG,CAAZ;AACD,aALD,MAKO;AACL,kBAAIa,UAAU,IAAIE,UAAU,GAAG,CAA/B,EAAkC;AAAC;AACjC,oBAAI,KAAI,CAACtF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCmD,MAArC,GAA8C,CAAlD,EAAqD;AAAE;AACrD,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiG,KAArC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiE,IAArC,CAA0CmB,IAA1C;AACX,iBAHD,MAGO,IAAI,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCmD,MAArC,GAA8C,CAAlD,EAAqD;AAAE;AAC5D,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiG,KAArC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiE,IAArC,CAA0CmB,IAA1C;AACX,iBAHM,MAGAW,iBAAiB;AACzB;AACF;AACF;;AAED,cAAIF,aAAa,IAAI,CAArB,EAAwB;AACtB,gBAAIZ,SAAS,GAAG,GAAhB,EAAqB;AACnB;AACA,kBAAIG,IAAI,GAAG,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCkG,MAArC,CAA4CJ,UAA5C,EAAwDE,UAAU,GAAGF,UAArE,CAAX;;AACA,mBAAI,CAACpF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,IAAuCoF,IAAI,CAACe,MAAL,CAAY,KAAI,CAACzF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,CAAZ,CAAvC;AACAiF,uBAAS,GAAG,CAAZ;AACD,aALD,MAKO;AACL,kBAAIa,UAAU,IAAIE,UAAU,GAAG,CAA/B,EAAkC;AAAC;AACjC,oBAAI,KAAI,CAACtF,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCmD,MAArC,GAA8C,CAAlD,EAAqD;AAAE;AACrD,sBAAIiC,IAAI,GAAQ,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiG,KAArC,EAAhB;;AACA,sBAAIb,IAAJ,EAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCiE,IAArC,CAA0CmB,IAA1C;AACX,iBAHD,MAGOW,iBAAiB;AACzB;AACF;AACF;;AAED,cAAIF,aAAa,IAAI,CAArB,EAAwB;AACtB,gBAAIZ,SAAS,GAAG,GAAhB,EAAqB;AACnB,kBAAIG,IAAI,GAAU,KAAI,CAAC1E,QAAL,CAAckF,aAAd,EAA6B5F,IAA7B,CAAkC,CAAlC,EAAqCkG,MAArC,CAA4CJ,UAA5C,EAAwDE,UAAU,GAAGF,UAArE,CAAlB,CADmB,CAEnB;;;AACA,kBAAI,KAAI,CAACpF,QAAL,CAAckF,aAAa,GAAG,CAA9B,CAAJ,EAAsC;AACpC,qBAAI,CAAClF,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,IAA2CoF,IAAI,CAACe,MAAL,CAAY,KAAI,CAACzF,QAAL,CAAckF,aAAa,GAAG,CAA9B,EAAiC5F,IAAjC,CAAsC,CAAtC,CAAZ,CAA3C,CADF,KAEK;AACH,qBAAI,CAACU,QAAL,CAAcuD,IAAd,CAAmB;AACjBlF,qBAAG,EAAE,KAAI,CAAC2B,QAAL,CAAcyC,MADF;AAEjBnD,sBAAI,EAAE,CAACoF,IAAD,EAAO,EAAP,EAAW,EAAX,CAFW;AAGjBrF,sBAAI,EAAE;AAHW,iBAAnB;;AAKA,qBAAI,CAACQ,OAAL,CAAa0D,IAAb,CAAkB;AAChB,qBAAG;AACDrE,uBAAG,EAAE,kDADJ;AAEDK,yBAAK,EAAE,kBAFN;AAGDJ,yBAAK,EAAE;AAHN,mBADa;AAMhB,qBAAG;AACDD,uBAAG,EAAE,kDADJ;AAEDK,yBAAK,EAAE,kBAFN;AAGDJ,yBAAK,EAAE;AAHN;AANa,iBAAlB;AAYD;AACDoF,uBAAS,GAAG,CAAZ;AACD,aAzBD,MAyBOc,iBAAiB;AACzB;AACF,SA3Fa;;AAAA,wBAARb,QAAQ;AAAA;AAAA;AAAA,SAAd;;AA6FA,WAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAI,CAACrE,QAAL,CAAcyC,MAAlC,EAA0C4B,CAAC,EAA3C,EAA+C;AAC7C,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAI,CAACtE,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBmD,MAA1C,EAAkD6B,CAAC,EAAnD,EAAuD;AACrD,eAAK,IAAIoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAI,CAAC1F,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBgF,CAAtB,EAAyB7B,MAA7C,EAAqDiD,CAAC,EAAtD,EAA0D;AACxD,gBAAIV,UAAJ,EAAgB;AACd,kBAAIA,UAAU,CAAC7C,KAAX,IAAoB,KAAI,CAACnC,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBgF,CAAtB,EAAyBoB,CAAzB,EAA4BvD,KAApD,EAA2D;AACzD,qBAAI,CAACnC,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBgF,CAAtB,EAAyBoB,CAAzB,EAA4BlH,KAA5B,GAAiCmH,gCAAQX,UAAU,CAACxG,KAAnB,GAAwB;AAAEoH,yBAAO,EAAE;AAAX,iBAAxB,CAAjC;AACA,sBAAM,KAAI,CAACC,OAAL,CAAa,EAAb,CAAN;AACD;AACF;;AACD,gBAAIhB,IAAI,GAAGrE,QAAQ,CAACC,cAAT,CAAwB,cAAc,KAAI,CAACT,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBgF,CAAtB,EAAyBoB,CAAzB,EAA4BrF,KAAlE,CAAX,CAPwD,CAQxD;;AACA,iBAAI,CAACL,QAAL,CAAcqE,CAAd,EAAiBhG,GAAjB,GAAuB,KAAI,CAAC2B,QAAL,CAAcqE,CAAC,GAAG,CAAlB,EAAqBhG,GAArB,GAA2B,CAAlD,CATwD,CASH;;AACrDmG,oBAAQ,CAACH,CAAD,EAAIC,CAAJ,EAAOoB,CAAP,EAAUb,IAAI,CAACC,YAAf,CAAR;AACD;AACF;AACF;;AAED,UAAIE,UAAJ,EAAgB,KAAI,CAACc,YAAL;AAChB,WAAI,CAACb,WAAL,GAAmB,KAAnB;AAlH0D;AAmH3D;;AAEDc,YAAU,CAACC,IAAD,EAAyB;AACjC,YAAQA,IAAR;AACE,WAAK,IAAL;AAAW,eAAO,OAAP;;AACX,WAAK,IAAL;AAAW,eAAO,OAAP;;AACX;AAAS,eAAO,OAAP;AAHX;AAKD;;AAEDC,OAAK;AAAA;;AACH,SAAKH,YAAL;AACA,SAAKI,YAAL,GAAoB,IAApB;AAEAC,cAAU,0IAAC,aAAW;AACpB,UAAI7G,IAAI,GAAG,IAAI8G,KAAJ,CAAU,MAAI,CAACpG,QAAL,CAAcyC,MAAxB,CAAX;;AACA,WAAK,IAAI,CAACpC,KAAD,EAAQmC,IAAR,CAAT,IAA0B,MAAI,CAACxC,QAAL,CAAcqG,OAAd,EAA1B,EAAmD;AACjD/G,YAAI,CAACe,KAAD,CAAJ,SAAoBzD,yDAAA,CAAiB4D,QAAQ,CAACC,cAAT,CAAwB,eAAe+B,IAAI,CAACnE,GAA5C,CAAjB,EAAmE;AAAEkI,iBAAO,EAAE;AAAX,SAAnE,CAApB;AACD;;AAED1J,MAAAA,+CAAO,CAAC;AACN2J,iBAAS,EAAElH,IADL;AAEND,YAAI,EAAE,OAFA;AAGNoH,kBAAU,EAAE,aAHN;AAINjI,aAAK,EAAE;AAJD,OAAD,CAAP;AAMA,YAAI,CAAC0H,YAAL,GAAoB,KAApB;AACD,KAbS,GAaP,EAbO,CAAV;AAcD;;AAEDQ,SAAO;AACL,SAAKZ,YAAL;AACAtF,YAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CkG,iBAA9C;AACD,GA5nB6B,CA8nB9B;;;AACAC,MAAI,CAACpI,KAAD,EAAaqI,QAAb,EAAgCC,QAAgB,OAAhD,EAAuD;AACzDtI,SAAK,CAACoH,OAAN,GAAgB,SAASkB,KAAT,GAAiB,SAAjC;;AACA,QAAI,KAAKC,aAAT,EAAwB;AACtB,WAAKjB,YAAL;AACA,WAAKiB,aAAL,GAAqBvI,KAArB;AACA,WAAKwI,SAAL,GAAiBH,QAAjB;AACD,KAJD,MAIO;AACLV,gBAAU,CAAC,MAAK;AACd,aAAKY,aAAL,GAAqBvI,KAArB;AACA,aAAKwI,SAAL,GAAiBH,QAAjB;AACD,OAHS,EAGP,GAHO,CAAV;AAID;AACF;;AACDf,cAAY;AACV;AACA,QAAI,KAAKiB,aAAT,EAAwB;AACtB,WAAKA,aAAL,CAAmBnB,OAAnB,GAA6B,MAA7B;AACA,WAAKmB,aAAL,GAAqB,IAArB;AACD;AACF;;AAEDlB,SAAO,CAACoB,EAAD,EAAG;AACR,WAAO,IAAIpF,OAAJ,CAAYC,OAAO,IAAIqE,UAAU,CAACrE,OAAD,EAAUmF,EAAV,CAAjC,CAAP;AACD;AAED;;;AACAC,UAAQ;AACN,WAAO,IAAIrF,OAAJ,CAAqB,CAACC,OAAD,EAAUqF,OAAV,KAAqB;AAC/C,WAAKC,UAAL,GAAkB,IAAlB;AACA,UAAI/D,QAAQ,GAAW,IAAIsC,MAAJ,CAAW,EAAX,CAAvB,CAF+C,CAG/C;;AACA,WAAK,IAAItB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKrE,QAAL,CAAcyC,MAAlC,EAA0C4B,CAAC,EAA3C,EAA+C;AAC7C,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtE,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBmD,MAA1C,EAAkD6B,CAAC,EAAnD,EAAuD;AACrD,eAAKtE,QAAL,CAAcqE,CAAd,EAAiB/E,IAAjB,CAAsBgF,CAAtB,EAAyBtC,OAAzB,CAAiCE,GAAG,IAAG;AACrCmB,oBAAQ,CAACnB,GAAG,CAAC7D,GAAL,CAAR,GAAoB6D,GAAG,CAAC1D,KAAxB;AACD,WAFD;AAGD;AACF;;AAED,UAAIc,IAAI,GAAQ;AACd+D,gBADc;AAEdgE,iBAAS,EAAE,KAAKlJ,MAAL,CAAYmJ,OAAZ,GAAsBjJ,GAFnB;AAGdkJ,gBAAQ,EAAE,EAHI;AAIdC,eAAO,EAAE,EAJK;AAKdC,YAAI,EAAG,IAAIC,IAAJ,EAAD,CAAaC,WAAb,EALQ;AAMd7H,aAAK,EAAE,KAAKA,KANE;AAOd8H,aAAK,EAAE,KAAK5H,QAAL,CAAc,CAAd,CAPO;AAQd6H,aAAK,EAAE,KAAKvJ,SARE;AASdwJ,gBAAQ,EAAE,KAAK7H,KATD;AAUdhB,WAAG,EAAE,KAAKY;AAVI,OAAhB;;AAaA,UAAI,KAAKJ,QAAT,EAAmB;AACjB,aAAK1B,WAAL,CAAiBgK,iBAAjB,CAAmC,KAAKtI,QAAL,CAAcpB,GAAjD,EAAsDiB,IAAtD,EAA4D0I,IAA5D,CAAiEC,MAAM,IAAG;AACxE;AACA,eAAK/G,YAAL,GAAoB,EAApB;AACA,eAAKkG,UAAL,GAAkB,KAAlB;AACAtF,iBAAO,CAAC,IAAD,CAAP;AACD,SALD,EAKGoG,KALH,CAKSC,GAAG,IAAIhB,OAAO,CAACgB,GAAD,CALvB;AAMD,OAPD,MAOO;AACL,aAAKpK,WAAL,CAAiBqK,cAAjB,CAAgC9I,IAAhC,EAAsC0I,IAAtC,CAA2CC,MAAM,IAAG;AAClD;AACA,eAAK/G,YAAL,GAAoB,EAApB;AACA,eAAKzB,QAAL,GAAgBwI,MAAhB;AACA,eAAKb,UAAL,GAAkB,KAAlB;AACAtF,iBAAO,CAAC,IAAD,CAAP;AACD,SAND,EAMGoG,KANH,CAMSC,GAAG,IAAIhB,OAAO,CAACgB,GAAD,CANvB;AAOD;AACF,KAzCM,CAAP;AA0CD;;AAIDE,WAAS;AACP,WAAO,IAAIxG,OAAJ,CAA8CC,OAAO,IAAG;AAC7D,YAAM9D,KAAK,GAAe,KAAKA,KAAL,CAAWsK,MAAX,CAAkB;AAC1C/G,eAAO,EAAE,KAAKrD,eAAL,CAAqBsD,SAArB,CAA+B,kCAA/B,CADiC;AAE1CC,iBAAS,EAAE,KAAKvD,eAAL,CAAqBsD,SAArB,CAA+B,sBAA/B,CAF+B;AAG1C+G,gBAAQ,EAAE,CACR;AACEC,eAAK,EAAE,KAAKtK,eAAL,CAAqBsD,SAArB,CAA+B,aAA/B,CADT;AAEEnC,cAAI,EAAE,MAFR;AAGEoJ,iBAAO,EAAE,KAAKrB,UAHhB;AAIEsB,iBAAO,EAAE,MAAK;AACZ1K,iBAAK,CAAC2K,OAAN;AACA7G,mBAAO,CAAC;AAAE8G,kBAAI,EAAE,IAAR;AAAcC,kBAAI,EAAE;AAApB,aAAD,CAAP;AACD;AAPH,SADQ,EAUR;AACEL,eAAK,EAAE,KAAKtK,eAAL,CAAqBsD,SAArB,CAA+B,QAA/B,CADT;AAEEkH,iBAAO,EAAE,MAAK;AACZ1K,iBAAK,CAAC2K,OAAN;AACA7G,mBAAO,CAAC;AAAE8G,kBAAI,EAAE,KAAR;AAAeC,kBAAI,EAAE;AAArB,aAAD,CAAP;AACD;AALH,SAVQ,EAiBR;AACEL,eAAK,EAAE,KAAKtK,eAAL,CAAqBsD,SAArB,CAA+B,MAA/B,CADT;AAEEnC,cAAI,EAAE,SAFR;AAGEqJ,iBAAO,EAAE,MAAK;AACZ1K,iBAAK,CAAC2K,OAAN;AACA7G,mBAAO,CAAC;AAAE8G,kBAAI,EAAE,KAAR;AAAeC,kBAAI,EAAE;AAArB,aAAD,CAAP;AACD;AANH,SAjBQ;AAHgC,OAAlB,CAA1B;AA8BD,KA/BM,CAAP;AAgCD;;AACDC,QAAM;AACJ,SAAKT,SAAL,GAAiBL,IAAjB,CAAsB,CAAC;AAAEY,UAAF;AAAQC;AAAR,KAAD,KAAmB;AACvC,WAAKE,QAAL,GAAgBF,IAAhB;;AACA,UAAIA,IAAJ,EAAU;AACR,YAAID,IAAJ,EAAU;AACR,eAAK1B,QAAL,GAAgBc,IAAhB,CAAqB,MAAM,KAAKlK,MAAL,CAAYkL,aAAZ,CAA0B,+CAA1B,CAA3B;AACD,SAFD,MAEO,KAAKlL,MAAL,CAAYkL,aAAZ,CAA0B,+CAA1B;AACR;AACF,KAPD;AAQD;;AAEDC,iBAAe,CAACC,YAAD,EAAuCC,YAAvC,EAA0EC,SAA1E,EAAyG;AACtH,QAAI,CAAC,KAAKL,QAAV,EAAoB;AAClB,WAAKV,SAAL,GAAiBL,IAAjB,CAAsB,CAAC;AAAEY,YAAF;AAAQC;AAAR,OAAD,KAAmB;AACvC,aAAKE,QAAL,GAAgBF,IAAhB;;AACA,YAAIA,IAAJ,EAAU;AACR,cAAID,IAAJ,EAAU;AACR,iBAAK1B,QAAL,GAAgBc,IAAhB,CAAqB,MAAM,KAAKlK,MAAL,CAAYkL,aAAZ,CAA0BI,SAAS,CAACC,GAApC,CAA3B;AACD,WAFD,MAEO,KAAKvL,MAAL,CAAYkL,aAAZ,CAA0BI,SAAS,CAACC,GAApC;AACR;AACF,OAPD;AAQD;;AAAC,WAAO,KAAKN,QAAZ;AACH;AACD;;;AACAO,iBAAe,CAACC,QAAD,EAAS;AACtB,SAAKrI,YAAL,CAAkBqC,IAAlB,CAAuBgG,QAAQ,CAACC,MAAhC,EADsB,CAEtB;;AACA,QAAInJ,KAAK,GAAG,KAAKa,YAAL,CAAkBuI,SAAlB,CAA4BjH,IAAI,IAAIA,IAAI,IAAI+G,QAAQ,CAACG,MAArD,CAAZ;AACA,QAAIrJ,KAAK,IAAI,CAAC,CAAd,EAAiB,KAAKa,YAAL,CAAkBsE,MAAlB,CAAyBnF,KAAzB,EAAgC,CAAhC;AAClB;AACD;;;AACAY,oBAAkB,CAAC0I,MAAD,EAAc;AAC9B,QAAIA,MAAM,CAAClH,MAAX,EAAmB;AACjB,WAAKrE,OAAL,CAAawL,eAAb,CAA6BD,MAA7B;AACD;AACF;;AA7wB6B;;;mBAAnBhM,qBAAmBb,+DAAAA,CAAAA,4DAAAA,GAAAA,+DAAAA,CAAAA,mDAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,+DAAAA,GAAAA,+DAAAA,CAAAA,2DAAAA,GAAAA,+DAAAA,CAAAA,mFAAAA,GAAAA,+DAAAA,CAAAA,sDAAAA,GAAAA,+DAAAA,CAAAA,uDAAAA;AAAA;;;QAAnBa;AAAmBkM;AAAAC;AAAAC;AAAAC;AAAAzC;AAAA;ACdhCzK,MAAAA,4DAAAA;AAAwCA,MAAAA,wDAAAA;AAAA,eAASmN,YAAT;AAAiB,OAAjB;AACpCnN,MAAAA,uDAAAA;AAA+CA,MAAAA,oDAAAA;;AACnDA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAAGA,MAAAA,oDAAAA;;AAA6BA,MAAAA,0DAAAA;AACpCA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAiBAA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAC6BA,MAAAA,wDAAAA;AAAA,eAASmN,cAAT;AAAmB,OAAnB;AACzBnN,MAAAA,uDAAAA;AACAA,MAAAA,oDAAAA;;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAAA,eAASmN,aAAT;AAAkB,OAAlB;AACAnN,MAAAA,uDAAAA;AACAA,MAAAA,oDAAAA;;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AAC6BA,MAAAA,wDAAAA;AAAA,eAASmN,WAAT;AAAgB,OAAhB;AACzBnN,MAAAA,uDAAAA;AACAA,MAAAA,oDAAAA;;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACAA,MAAAA,4DAAAA;AAAyDA,MAAAA,wDAAAA;AAAA,eAASmN,kBAAT;AAAuB,OAAvB;AAKrDnN,MAAAA,4DAAAA;AAAoCA,MAAAA,wDAAAA;AAAA,eAASE,wBAAT;AAAiC,OAAjC;AAChCF,MAAAA,4DAAAA;AAAuEA,MAAAA,wDAAAA;AAAA,eAAUmN,iBAAV;AAAuB,OAAvB,EAAwB,WAAxB,EAAwB;AAAA,eAC9EA,uBAD8E;AAC3D,OADmC,EAAwB,aAAxB,EAAwB;AAAA,eACdA,2BADc;AACS,OADjC;AAEvEnN,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AAEAA,MAAAA,4DAAAA;AACIA,MAAAA,4DAAAA;AACIA,MAAAA,wDAAAA;AAoIJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;AACJA,MAAAA,0DAAAA;;;;AApMmDA,MAAAA,uDAAAA;AAAAA,MAAAA,gEAAAA,KAAAA,yDAAAA;AAGfA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;AAErBA,MAAAA,uDAAAA;AAAAA,MAAAA,+DAAAA,CAAAA,yDAAAA;AAGGA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;AAkBoEA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA,8BAAwB,UAAxB,EAAwBmN,eAAxB;AAGlEnN,MAAAA,uDAAAA;AAAAA,MAAAA,gEAAAA,MAAAA,yDAAAA;AAIkEA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;AAGlEA,MAAAA,uDAAAA;AAAAA,MAAAA,gEAAAA,MAAAA,yDAAAA;AAImEA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA,gCAA0B,UAA1B,EAA0BmN,eAA1B;AAGnEnN,MAAAA,uDAAAA;AAAAA,MAAAA,gEAAAA,MAAAA,yDAAAA;AAWYA,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA,iCAA2B,UAA3B,EAA2BmN,aAA3B,EAA2B,aAA3B,EAA2BA,eAA3B;AAOenN,MAAAA,uDAAAA;AAAAA,MAAAA,wDAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DA;AACc;AACN;AACU;AAEC;AACrB;AACS;AAEsB;AACE;;;AAE9E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAmB;QAC9B,aAAa,EAAE,CAAC,2EAAY,CAAC;KAC9B;CACF;AAgBM,MAAM,gBAAgB;;gFAAhB,gBAAgB;6GAAhB,gBAAgB;iHAXlB;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,sFAAgB;YAChB,uDAAW;YACX,gEAAe;YACf,uDAAW;YACX,+DAAmB;YACnB,sFAAmB;SACpB;mIAEU,gBAAgB,mBAbZ,sEAAmB,aAGhC,yDAAY,6DAEZ,sFAAgB;QAChB,uDAAW;QACX,gEAAe;QACf,uDAAW;QACX,+DAAmB;QACnB,sFAAmB","sources":["./src/app/cafe/desktop/menu/management/design/design-menu/menu-template/template16/template16.component.ts","./src/app/cafe/desktop/menu/management/design/design-menu/menu-template/template16/template16.component.html","./src/app/cafe/desktop/menu/management/design/design-menu/menu-template/template16/template16.module.ts"],"sourcesContent":["import { AfterViewChecked, AfterViewInit, ChangeDetectorRef, Component, OnDestroy } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport domToImage from \"dom-to-image\";\r\nimport { VhAlgorithm, VhAuth, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalRef, NzModalService } from 'ng-zorro-antd/modal';\r\nimport printJS from 'print-js';\r\nimport { Observable } from 'rxjs';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-template16',\r\n  templateUrl: './template16.component.html',\r\n  styleUrls: ['./template16.component.scss']\r\n})\r\nexport class Template16Component implements OnDestroy, AfterViewInit, AfterViewChecked {\r\n  dataSave: any;\r\n  imageWaiting: string[] = []\r\n  editStatus: boolean = true;\r\n  theme: \"1\" | \"2\" | \"3\" = \"1\"\r\n  themeTemp: \"1\" | \"2\" | \"3\" = \"1\"\r\n  color1: string = '#ffffff'\r\n  color2: string = '#0d7d3f'\r\n\r\n  dataMenu: Array<any> = [\r\n    {\r\n      _id: 0,\r\n      titleMenu: {\r\n        value: \"MENU\",\r\n        style: {\r\n          align: 'left',\r\n          fontBold: false,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 52,\r\n          fontColor: this.color2\r\n        }\r\n      },\r\n      img: [\r\n        {\r\n          src: \"assets/icon/management/menu/template6/menu1.jpg\",\r\n          ratio: 1\r\n        },\r\n        {\r\n          src: \"assets/icon/management/menu/template6/cover.jpg\",\r\n          ratio: 1\r\n        },\r\n        {\r\n          src: \"assets/icon/management/menu/template6/menu3.jpg\",\r\n          ratio: 1\r\n        }\r\n      ],\r\n      address: {\r\n        value: \"Địa chỉ: 161/3 Ni Sư Huỳnh Liên, p.10, Q. Tân Bình, Tp.HCM\",\r\n        style: {\r\n          align: 'left',\r\n          fontBold: false,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 14,\r\n          fontColor: \"#373737\"\r\n        }\r\n      },\r\n      type: 'cover'\r\n    },\r\n    {\r\n      _id: 1,\r\n      data: [[], [], []],\r\n      type: 'page'\r\n    }\r\n  ]\r\n  imgPage: any[] = [\r\n    {\r\n      1: {\r\n        src: \"assets/icon/management/menu/template16/menu1.jpg\",\r\n        shape: 'rectangle_radius',\r\n        ratio: 1\r\n      },\r\n      2: {\r\n        src: \"assets/icon/management/menu/template16/menu2.jpg\",\r\n        shape: 'rectangle_radius',\r\n        ratio: 1\r\n      }\r\n    }\r\n  ]\r\n  titleMenu: any = {\r\n    value: \"Nhà hàng Viethas\",\r\n    style: {\r\n      align: 'center',\r\n      fontBold: false,\r\n      fontItalic: false,\r\n      fontUnderline: false,\r\n      font: 'Arial',\r\n      fontSize: 28,\r\n      fontColor: '#fff685'\r\n    }\r\n  }\r\n\r\n  phone: any = {\r\n    value: 'Hotline: 0 329 086 925',\r\n    style: {\r\n      align: 'center',\r\n      fontBold: false,\r\n      fontItalic: false,\r\n      fontUnderline: false,\r\n      font: 'Arial',\r\n      fontSize: 14,\r\n      fontColor: this.color1\r\n    }\r\n  }\r\n\r\n  dataAttribute: any = null\r\n  classRows: any = null;\r\n  exportStatus: boolean = false;\r\n  applyStatus: boolean = false\r\n  saveStatus: boolean = false\r\n  constructor(\r\n    private cdRef: ChangeDetectorRef,\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private modal: NzModalService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhImage: VhImage\r\n  ) {\r\n    this.dataSave = this.router.getCurrentNavigation().extras.state\r\n    // kiểm tra bản lưu \r\n    if (this.dataSave) {\r\n      this.imgPage = this.dataSave['img']\r\n      this.theme = this.dataSave['theme']\r\n      this.themeTemp = this.dataSave['theme']\r\n      this.dataMenu[0] = this.dataSave['cover']\r\n      this.titleMenu = this.dataSave['title']\r\n      this.phone = this.dataSave['subtitle']\r\n    }\r\n    this.getData()\r\n  }\r\n\r\n  myTrackByFunction(element, index) {\r\n    return element.index ? element.index : index;\r\n  }\r\n  myTrackByFunctionID(element, index) {\r\n    return element._id ? element._id : index;\r\n  }\r\n\r\n\r\n\r\n  ngAfterViewInit() {\r\n    document.getElementById(\"template-container\").addEventListener(\"fullscreenchange\", (ev) => {\r\n      this.editStatus = !this.editStatus\r\n    })\r\n\r\n    this.dataMenu = this.transformData(this.dataMenu)\r\n\r\n    document.getElementById(\"mainTitle\").focus()\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    document.getElementById(\"template-container\").removeEventListener(\"fullscreenchange\", (ev) => { })\r\n\r\n    this.deleteImageWaiting(this.imageWaiting)\r\n  }\r\n\r\n\r\n  ngAfterViewChecked() {\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  changeTheme(theme) {\r\n    this.modal.confirm({\r\n      nzTitle: this.languageService.translate(\"Are you sure to change this theme?\"),\r\n      nzContent: this.languageService.translate(\"Changing the theme will change your editing\"),\r\n      nzOkText: 'OK',\r\n      nzCancelText: this.languageService.translate(\"Cancel\"),\r\n      nzOnOk: () =>\r\n        new Promise((resolve, reject) => {\r\n          this.theme = theme;\r\n          switch (theme) {\r\n            case \"1\":\r\n              this.color1 = '#ffffff'\r\n              this.color2 = '#0d7d3f'\r\n              break\r\n            case \"2\":\r\n              this.color1 = '#ffffff'\r\n              this.color2 = '#a81f23'\r\n              break\r\n            case \"3\":\r\n              this.color1 = '#ffffff'\r\n              this.color2 = '#00486b'\r\n              break\r\n          }\r\n          // set toàn bộ màu sắc\r\n          this.titleMenu.style.fontColor = '#fff685'\r\n          this.phone.style.fontColor = this.color1\r\n          this.dataMenu.forEach((page, index) => {\r\n            if (index > 0) {\r\n              page.data[0].forEach(row => {\r\n                row.style.fontColor = row.class == \"category-lines\" ? '#fff685' : this.color1\r\n              });\r\n              page.data[1].forEach(row => {\r\n                row.style.fontColor = row.class == \"category-lines\" ? '#fff685' : this.color1\r\n              });\r\n              page.data[2].forEach(row => {\r\n                row.style.fontColor = row.class == \"category-lines\" ? '#fff685' : this.color1\r\n              });\r\n            } else {\r\n              page.titleMenu.style.fontColor = this.color2\r\n              page.address.style.fontColor = \"#373737\"\r\n            }\r\n          })\r\n          resolve()\r\n        }),\r\n      nzOnCancel: () => {\r\n        return new Promise((resolve) => {\r\n          this.themeTemp = this.theme\r\n          resolve()\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n\r\n  getData() {\r\n    let categories = this.vhQueryCafe.getlocalCategorys(1)\r\n    let foods = this.vhQueryCafe.getlocalProducts(1).filter(item => !item.delete_hidden)\r\n    let ingredients = this.vhQueryCafe.getlocalProducts(3).filter(item => !item.delete_hidden)\r\n    let sideDishes = this.vhQueryCafe.getlocalProducts(4).filter(item => !item.delete_hidden)\r\n    let combos = this.vhQueryCafe.getlocalProducts(5).filter(item => !item.delete_hidden)\r\n    let index = 0; // đánh dấu index món ăn\r\n    let rowStyle: any;\r\n    // kiểm tra có bản lưu hay không?\r\n    if (this.dataSave) rowStyle = this.dataSave['rowStyle']\r\n\r\n    // combo\r\n    if (combos.length) {\r\n      let styleCategory: any = rowStyle ? rowStyle['combo'] : null;\r\n      this.dataMenu[1].data[0].push({\r\n        name: this.languageService.translate(\"Combo\"), class: 'category-lines', index, _id: 'combo',\r\n        style: styleCategory ? styleCategory : {\r\n          align: 'left',\r\n          fontBold: true,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 14,\r\n          fontColor: \"#fff685\",\r\n        }\r\n      })\r\n      index++;\r\n      for (let combo of combos) {\r\n        let styleFood: any = rowStyle ? rowStyle[combo._id] : null;\r\n        this.dataMenu[1].data[0].push({\r\n          name: combo.name, price: combo.price, class: 'food-lines-price', index, _id: combo._id,\r\n          style: styleFood ? styleFood : {\r\n            align: 'left',\r\n            fontBold: false,\r\n            fontItalic: false,\r\n            fontUnderline: false,\r\n            font: 'Arial',\r\n            fontSize: 12,\r\n            fontColor: this.color1\r\n          }\r\n        })\r\n        index++;\r\n\r\n        let styleSub: any = rowStyle ? rowStyle[`subs-${combo._id}`] : null;\r\n        this.dataMenu[1].data[0].push({\r\n          name: this.getSubCombo(combo.combos), class: 'combo-subs-lines', index, _id: `subs-${combo._id}`,\r\n          style: styleSub ? styleSub : {\r\n            align: 'left',\r\n            fontBold: false,\r\n            fontItalic: false,\r\n            fontUnderline: false,\r\n            font: 'Arial',\r\n            fontSize: 10,\r\n            fontColor: this.color1\r\n          }\r\n        })\r\n        index++;\r\n      }\r\n    }\r\n\r\n    // món ăn\r\n    for (let category of categories) {\r\n      let styleCategory: any = rowStyle ? rowStyle[category._id] : null;\r\n\r\n      this.dataMenu[1].data[0].push({\r\n        name: category.name, class: 'category-lines', index, _id: category._id,\r\n        style: styleCategory ? styleCategory : {\r\n          align: 'left',\r\n          fontBold: true,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 14,\r\n          fontColor: '#fff685'\r\n        }\r\n      })\r\n\r\n      index++;\r\n\r\n      for (let food of foods) {\r\n        if (food.id_category == category._id) {\r\n          if (food.subs && food.subs.length > 0) {\r\n            let styleFood: any = rowStyle ? rowStyle[food._id] : null;\r\n            this.dataMenu[1].data[0].push({\r\n              name: food.name, class: 'food-lines-noprice', index, _id: food._id,\r\n              style: styleFood ? styleFood : {\r\n                align: 'left',\r\n                fontBold: false,\r\n                fontItalic: false,\r\n                fontUnderline: false,\r\n                font: 'Arial',\r\n                fontSize: 12,\r\n                fontColor: this.color1\r\n              }\r\n            })\r\n            index++;\r\n            for (let subs of food.subs) {\r\n              let styleSub: any = rowStyle ? rowStyle[subs._id] : null;\r\n              this.dataMenu[1].data[0].push({\r\n                name: subs.name, price: subs.price, class: 'subs-lines', index, _id: subs._id,\r\n                style: styleSub ? styleSub : {\r\n                  align: 'left',\r\n                  fontBold: false,\r\n                  fontItalic: false,\r\n                  fontUnderline: false,\r\n                  font: 'Arial',\r\n                  fontSize: 12,\r\n                  fontColor: this.color1\r\n                }\r\n              })\r\n              index++;\r\n            }\r\n          } else {\r\n            let styleFood: any = rowStyle ? rowStyle[food._id] : null;\r\n            this.dataMenu[1].data[0].push({\r\n              name: food.name, price: food.price, class: 'food-lines-price', index, _id: food._id,\r\n              style: styleFood ? styleFood : {\r\n                align: 'left',\r\n                fontBold: false,\r\n                fontItalic: false,\r\n                fontUnderline: false,\r\n                font: 'Arial',\r\n                fontSize: 12,\r\n                fontColor: this.color1\r\n              }\r\n            })\r\n            index++;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // món phụ cho bán\r\n    if (sideDishes.length) {\r\n      let styleCategory: any = rowStyle ? rowStyle['sideDish'] : null;\r\n      this.dataMenu[1].data[0].push({\r\n        name: this.languageService.translate(\"Side dishes\"), class: 'category-lines', index, _id: 'sideDish',\r\n        style: styleCategory ? styleCategory : {\r\n          align: 'left',\r\n          fontBold: true,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 14,\r\n          fontColor: \"#fff685\",\r\n        }\r\n      })\r\n      index++;\r\n      for (let sideDish of sideDishes) {\r\n        let styleSideDishes: any = rowStyle ? rowStyle[sideDish._id] : null;\r\n        this.dataMenu[1].data[0].push({\r\n          name: sideDish.name, price: sideDish.price, class: 'food-lines-price', index, _id: sideDish._id,\r\n          style: styleSideDishes ? styleSideDishes : {\r\n            align: 'left',\r\n            fontBold: false,\r\n            fontItalic: false,\r\n            fontUnderline: false,\r\n            font: 'Arial',\r\n            fontSize: 12,\r\n            fontColor: this.color1\r\n          }\r\n        })\r\n        index++;\r\n      }\r\n    }\r\n\r\n    // nguyên liệu cho bán\r\n    if (ingredients.length) {\r\n      let styleCategory: any = rowStyle ? rowStyle['ingredient'] : null;\r\n      this.dataMenu[1].data[0].push({\r\n        name: this.languageService.translate(\"Ingredient\"), class: 'category-lines', index, _id: 'ingredient',\r\n        style: styleCategory ? styleCategory : {\r\n          align: 'left',\r\n          fontBold: true,\r\n          fontItalic: false,\r\n          fontUnderline: false,\r\n          font: 'Arial',\r\n          fontSize: 14,\r\n          fontColor: '#fff685',\r\n        }\r\n      })\r\n      index++;\r\n      for (let ingredient of ingredients) {\r\n        let styleIngredient: any = rowStyle ? rowStyle[ingredient._id] : null;\r\n        this.dataMenu[1].data[0].push({\r\n          name: ingredient.name, price: ingredient.price, class: 'food-lines-price', index, _id: ingredient._id,\r\n          style: styleIngredient ? styleIngredient : {\r\n            align: 'left',\r\n            fontBold: false,\r\n            fontItalic: false,\r\n            fontUnderline: false,\r\n            font: 'Arial',\r\n            fontSize: 12,\r\n            fontColor: this.color1\r\n          }\r\n        })\r\n        index++;\r\n      }\r\n    }\r\n  }\r\n  // phân trang trước khi load dữ liệu\r\n  transformData(dataMenuRaw: any) {\r\n    let data: any[] = [\r\n      this.dataMenu[0],\r\n      {\r\n        _id: 1,\r\n        data: [[], [], []],\r\n        type: 'page'\r\n      }\r\n    ]\r\n    let i: number = this.dataMenu.length - 1;\r\n    let j: number = 0;\r\n    let countUnit: number = 0;\r\n    const transfer = (distance: number) => {\r\n      countUnit += distance\r\n      if (countUnit > 297 && j == 0) {\r\n        // dư thừa đưa sang cột kế bên\r\n        let temp = data[i].data[j].pop()\r\n        j += 1;\r\n        countUnit = distance\r\n        data[i].data[j].push(temp)\r\n      }\r\n      if (countUnit > 514 && j == 1) {\r\n        // dư thừa đưa sang cột kế bên\r\n        let temp = data[i].data[j].pop()\r\n        j += 1;\r\n        countUnit = distance\r\n        data[i].data[j].push(temp)\r\n      }\r\n      if (countUnit > 380 && j == 2) {\r\n        // dư thừa đưa sang trang kế tiếp\r\n        let temp = data[i].data[j].pop()\r\n        i++;\r\n        j = 0;\r\n        countUnit = distance\r\n        data.push({\r\n          _id: i,\r\n          data: [[temp], [], []],\r\n          type: 'page'\r\n        })\r\n\r\n        if (this.imgPage.length < i) {\r\n          this.imgPage.push({\r\n            1: {\r\n              src: \"assets/icon/management/menu/template16/menu1.jpg\",\r\n              shape: 'rectangle_radius',\r\n              ratio: 1\r\n            },\r\n            2: {\r\n              src: \"assets/icon/management/menu/template16/menu2.jpg\",\r\n              shape: 'rectangle_radius',\r\n              ratio: 1\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let rows of dataMenuRaw[1].data[0]) {\r\n      let node = document.getElementById(\"page-row-\" + rows.index)\r\n      data[i].data[j].push(rows)\r\n      transfer(node.clientHeight)\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  // phân trang sau khi đã load dữ liệu\r\n  async changeStyle(returnData?: { style: any, class: string }) {\r\n    this.applyStatus = true\r\n    let countUnit: number = 0;\r\n    const transfer = async (pageIdCurrent: number, columnCurrent: number, rowCurrent: number, distance: number) => {\r\n      // lấy dữ liệu trang tiếp theo đưa về lại trang đầu\r\n      const fetchDataNextPage: any = () => {\r\n        if (rowCurrent == numberItem - 1) {// cuối cột nhưng chưa lấp đầy cột\r\n          if (this.dataMenu[pageIdCurrent + 1]) { // TH đổ dữ liệu trang tiếp theo về lại trang cũ \r\n            if (this.dataMenu[pageIdCurrent + 1].data[0].length > 0) { // nếu cột 1 trang tiếp còn rows\r\n              let temp: any = this.dataMenu[pageIdCurrent + 1].data[0].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[columnCurrent].push(temp)\r\n              // console.log(\"page \" + pageIdCurrent + \" - \" + rowCurrent + \" \" + countUnit)\r\n            } else if (this.dataMenu[pageIdCurrent + 1].data[1].length > 0) { // nếu cột 2 trang tiếp còn rows\r\n              let temp: any = this.dataMenu[pageIdCurrent + 1].data[1].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[columnCurrent].push(temp)\r\n            } else if (this.dataMenu[pageIdCurrent + 1].data[2].length > 0) {// nếu cột 3 trang tiếp còn rows\r\n              let temp: any = this.dataMenu[pageIdCurrent + 1].data[2].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[columnCurrent].push(temp)\r\n            } else {\r\n              // console.log(\"xóa trang thừa \" + pageIdCurrent + \" - \" + rowCurrent + \" \" + countUnit)\r\n              this.dataMenu.splice(pageIdCurrent + 1, 1); // xóa các trang thừa\r\n              this.imgPage.pop()\r\n              // kiểm tra lại một lần nữa xem còn trang thừa nào không?\r\n              transfer(pageIdCurrent, columnCurrent, rowCurrent, 0)\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      countUnit += distance\r\n      let numberItem: number = this.dataMenu[pageIdCurrent].data[columnCurrent].length\r\n      if (columnCurrent == 0) {\r\n        if (countUnit > 297) {\r\n          // dư thừa đưa sang cột kế bên\r\n          let temp = this.dataMenu[pageIdCurrent].data[0].splice(rowCurrent, numberItem - rowCurrent)\r\n          this.dataMenu[pageIdCurrent].data[1] = temp.concat(this.dataMenu[pageIdCurrent].data[1])\r\n          countUnit = 0\r\n        } else {\r\n          if (rowCurrent == numberItem - 1) {// cuối cột nhưng chưa lấp đầy cột\r\n            if (this.dataMenu[pageIdCurrent].data[1].length > 0) { // nếu cột 2 tiếp theo có rows\r\n              let temp: any = this.dataMenu[pageIdCurrent].data[1].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[0].push(temp)\r\n            } else if (this.dataMenu[pageIdCurrent].data[2].length > 0) { // nếu cột 3 tiếp theo có rows\r\n              let temp: any = this.dataMenu[pageIdCurrent].data[2].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[0].push(temp)\r\n            } else fetchDataNextPage()\r\n          }\r\n        }\r\n      }\r\n\r\n      if (columnCurrent == 1) {\r\n        if (countUnit > 514) {\r\n          // dư thừa đưa sang cột kế bên\r\n          let temp = this.dataMenu[pageIdCurrent].data[1].splice(rowCurrent, numberItem - rowCurrent)\r\n          this.dataMenu[pageIdCurrent].data[2] = temp.concat(this.dataMenu[pageIdCurrent].data[2])\r\n          countUnit = 0\r\n        } else {\r\n          if (rowCurrent == numberItem - 1) {// cuối cột nhưng chưa lấp đầy cột\r\n            if (this.dataMenu[pageIdCurrent].data[2].length > 0) { // nếu cột 3 tiếp theo có rows\r\n              let temp: any = this.dataMenu[pageIdCurrent].data[2].shift()\r\n              if (temp) this.dataMenu[pageIdCurrent].data[1].push(temp)\r\n            } else fetchDataNextPage()\r\n          }\r\n        }\r\n      }\r\n\r\n      if (columnCurrent == 2) {\r\n        if (countUnit > 380) {\r\n          let temp: any[] = this.dataMenu[pageIdCurrent].data[2].splice(rowCurrent, numberItem - rowCurrent)\r\n          // chuyển dữ liệu thừa sang page tiếp theo\r\n          if (this.dataMenu[pageIdCurrent + 1]) // có tồn tại page 2\r\n            this.dataMenu[pageIdCurrent + 1].data[0] = temp.concat(this.dataMenu[pageIdCurrent + 1].data[0])\r\n          else {\r\n            this.dataMenu.push({\r\n              _id: this.dataMenu.length,\r\n              data: [temp, [], []],\r\n              type: 'page'\r\n            })\r\n            this.imgPage.push({\r\n              1: {\r\n                src: \"assets/icon/management/menu/template16/menu1.jpg\",\r\n                shape: 'rectangle_radius',\r\n                ratio: 1\r\n              },\r\n              2: {\r\n                src: \"assets/icon/management/menu/template16/menu2.jpg\",\r\n                shape: 'rectangle_radius',\r\n                ratio: 1\r\n              }\r\n            })\r\n          }\r\n          countUnit = 0\r\n        } else fetchDataNextPage()\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < this.dataMenu.length; i++) {\r\n      for (let j = 0; j < this.dataMenu[i].data.length; j++) {\r\n        for (let k = 0; k < this.dataMenu[i].data[j].length; k++) {\r\n          if (returnData) {\r\n            if (returnData.class == this.dataMenu[i].data[j][k].class) {\r\n              this.dataMenu[i].data[j][k].style = { ...returnData.style, outline: 'none' }\r\n              await this.timeout(10)\r\n            }\r\n          }\r\n          let node = document.getElementById(\"page-row-\" + this.dataMenu[i].data[j][k].index)\r\n          // đang kiểm tra rows đang xét\r\n          this.dataMenu[i]._id = this.dataMenu[i - 1]._id + 1  //set lại id sau nhiều lần xóa các trang thừa\r\n          transfer(i, j, k, node.clientHeight)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (returnData) this.outOfElement()\r\n    this.applyStatus = false\r\n  }\r\n\r\n  renderSize(size: \"A4\" | \"A3\" | \"A5\") {\r\n    switch (size) {\r\n      case \"A3\": return \"4.5px\"\r\n      case \"A5\": return \"7.5px\"\r\n      default: return \"6.5px\"\r\n    }\r\n  }\r\n\r\n  print() {\r\n    this.outOfElement()\r\n    this.exportStatus = true\r\n\r\n    setTimeout(async () => {\r\n      let data = new Array(this.dataMenu.length)\r\n      for (let [index, item] of this.dataMenu.entries()) {\r\n        data[index] = await domToImage.toSvg(document.getElementById(\"menu-book-\" + item._id), { quality: 1 })\r\n      }\r\n\r\n      printJS({\r\n        printable: data,\r\n        type: 'image',\r\n        imageStyle: 'width: 100%',\r\n        style: '@page { margin: 0 !important; padding: 0 !important; }'\r\n      })\r\n      this.exportStatus = false\r\n    }, 10)\r\n  }\r\n\r\n  preview() {\r\n    this.outOfElement()\r\n    document.getElementById(\"template-container\").requestFullscreen()\r\n  }\r\n\r\n  // chỉnh sửa\r\n  edit(style: any, rowClass?: string, color: string = \"white\") {\r\n    style.outline = '1px ' + color + ' dashed'\r\n    if (this.dataAttribute) {\r\n      this.outOfElement()\r\n      this.dataAttribute = style\r\n      this.classRows = rowClass\r\n    } else {\r\n      setTimeout(() => {\r\n        this.dataAttribute = style\r\n        this.classRows = rowClass\r\n      }, 200)\r\n    }\r\n  }\r\n  outOfElement() {\r\n    // xóa dữ liệu Input\r\n    if (this.dataAttribute) {\r\n      this.dataAttribute.outline = 'none'\r\n      this.dataAttribute = null\r\n    }\r\n  }\r\n\r\n  timeout(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  /**Lưu menu */\r\n  saveMenu() {\r\n    return new Promise<boolean>((resolve, rejects) => {\r\n      this.saveStatus = true\r\n      let rowStyle: Object = new Object({})\r\n      // lưu trữ style các dòng\r\n      for (let i = 1; i < this.dataMenu.length; i++) {\r\n        for (let j = 0; j < this.dataMenu[i].data.length; j++) {\r\n          this.dataMenu[i].data[j].forEach(row => {\r\n            rowStyle[row._id] = row.style\r\n          });\r\n        }\r\n      }\r\n\r\n      let data: any = {\r\n        rowStyle,\r\n        id_editor: this.vhAuth.getUser()._id,\r\n        template: 16,\r\n        pattern: 14,\r\n        date: (new Date()).toISOString(),\r\n        theme: this.theme,\r\n        cover: this.dataMenu[0],\r\n        title: this.titleMenu,\r\n        subtitle: this.phone,\r\n        img: this.imgPage\r\n      }\r\n\r\n      if (this.dataSave) {\r\n        this.vhQueryCafe.updatePatternMenu(this.dataSave._id, data).then(result => {\r\n          // reset lại ban đầu\r\n          this.imageWaiting = []\r\n          this.saveStatus = false\r\n          resolve(true)\r\n        }).catch(err => rejects(err))\r\n      } else {\r\n        this.vhQueryCafe.addPatternMenu(data).then(result => {\r\n          // reset lại ban đầu\r\n          this.imageWaiting = []\r\n          this.dataSave = result\r\n          this.saveStatus = false\r\n          resolve(true)\r\n        }).catch(err => rejects(err))\r\n      }\r\n    })\r\n  }\r\n\r\n  /**Check Exit Page */\r\n  exitPage: boolean = false;\r\n  popUpExit() {\r\n    return new Promise<{ save: boolean, exit: boolean }>(resolve => {\r\n      const modal: NzModalRef = this.modal.create({\r\n        nzTitle: this.languageService.translate(\"This menu has not been saved yet\"),\r\n        nzContent: this.languageService.translate(\"Do you want to exit?\"),\r\n        nzFooter: [\r\n          {\r\n            label: this.languageService.translate(\"Save & Exit\"),\r\n            type: 'text',\r\n            loading: this.saveStatus,\r\n            onClick: () => {\r\n              modal.destroy()\r\n              resolve({ save: true, exit: true })\r\n            }\r\n          },\r\n          {\r\n            label: this.languageService.translate(\"Cancel\"),\r\n            onClick: () => {\r\n              modal.destroy()\r\n              resolve({ save: false, exit: false })\r\n            }\r\n          },\r\n          {\r\n            label: this.languageService.translate(\"Exit\"),\r\n            type: 'primary',\r\n            onClick: () => {\r\n              modal.destroy()\r\n              resolve({ save: false, exit: true })\r\n            }\r\n          }\r\n        ]\r\n      })\r\n    })\r\n  }\r\n  goBack() {\r\n    this.popUpExit().then(({ save, exit }) => {\r\n      this.exitPage = exit;\r\n      if (exit) {\r\n        if (save) {\r\n          this.saveMenu().then(() => this.router.navigateByUrl(\"/cafe/dashboard/management/design/design-menu\"))\r\n        } else this.router.navigateByUrl(\"/cafe/dashboard/management/design/design-menu\")\r\n      }\r\n    })\r\n  }\r\n\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    if (!this.exitPage) {\r\n      this.popUpExit().then(({ save, exit }) => {\r\n        this.exitPage = exit;\r\n        if (exit) {\r\n          if (save) {\r\n            this.saveMenu().then(() => this.router.navigateByUrl(nextState.url))\r\n          } else this.router.navigateByUrl(nextState.url)\r\n        }\r\n      })\r\n    } return this.exitPage;\r\n  }\r\n  /**Lưu tạm các ảnh đã up nhưng chưa lưu menu */\r\n  addImageWaiting(photoURL) {\r\n    this.imageWaiting.push(photoURL.newSrc)\r\n    // xóa url cũ \r\n    let index = this.imageWaiting.findIndex(item => item == photoURL.oldSrc)\r\n    if (index != -1) this.imageWaiting.splice(index, 1)\r\n  }\r\n  /**Xóa ảnh lưu tạm vì không lưu menu */\r\n  deleteImageWaiting(images: any[]) {\r\n    if (images.length) {\r\n      this.vhImage.deleteThumbnail(images)\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"design-menu-header\" [nzGutter]=\"16\" nz-row>\r\n        <div nz-col nzSpan=\"6\" class=\"left-all-content title-header\">\r\n            <b>{{'Menu design' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"18\" class=\"right-all-content title-header button\">\r\n            <div *ngIf=\"themeTemp\">\r\n                <nz-radio-group [(ngModel)]=\"themeTemp\" nzButtonStyle=\"outline\" nzSize=\"default\"\r\n                    [nzDisabled]=\"applyStatus\" (ngModelChange)=\"changeTheme($event)\">\r\n                    <label class=\"theme-btn\" nz-radio-button nzValue=\"1\" style=\"background-color: #0d7d3f\">\r\n                        <i nz-icon nzType=\"check\" nzTheme=\"outline\"\r\n                            [ngStyle]=\"{'visibility': theme == '1' ? 'initial' : 'hidden', color: '#ffffff'}\"></i>\r\n                    </label>\r\n                    <label class=\"theme-btn\" nz-radio-button nzValue=\"2\" style=\"background-color: #a81f23\">\r\n                        <i nz-icon nzType=\"check\" nzTheme=\"outline\"\r\n                            [ngStyle]=\"{'visibility': theme == '2' ? 'initial' : 'hidden', color: '#ffffff'}\"></i>\r\n                    </label>\r\n                    <label class=\"theme-btn\" nz-radio-button nzValue=\"3\" style=\"background-color: #00486b\">\r\n                        <i nz-icon nzType=\"check\" nzTheme=\"outline\"\r\n                            [ngStyle]=\"{'visibility': theme == '3' ? 'initial' : 'hidden', color: '#ffffff'}\"></i>\r\n                    </label>\r\n                </nz-radio-group>\r\n            </div>\r\n            <div>\r\n                <button class=\"center-all-content btn-add\" nz-button nzType=\"default\" [nzLoading]=\"saveStatus\"\r\n                    [disabled]=\"applyStatus\" (click)=\"saveMenu()\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Save' | translate}}\r\n                </button>\r\n            </div>\r\n            <div>\r\n                <button class=\"center-all-content btn-add\" nz-button nzType=\"default\" [disabled]=\"applyStatus\"\r\n                    (click)=\"preview()\">\r\n                    <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i>\r\n                    {{'Preview' | translate}}\r\n                </button>\r\n            </div>\r\n            <div>\r\n                <button class=\"center-all-content btn-down\" nz-button nzType=\"default\" [nzLoading]=\"exportStatus\"\r\n                    [disabled]=\"applyStatus\" (click)=\"print()\">\r\n                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Print / Download menu' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"24\" class=\"container ant-table-body\" (click)=\"outOfElement()\" id=\"template-container\">\r\n        <!-- <nz-tabset nzSelectedIndex=\"{{indexTab}}\">\r\n            <nz-tab (nzSelect)=\"areaChanged(tab._id)\" *ngFor=\"let tab of listTab\" nzTitle=\"{{ tab.name |translate}}\">\r\n            </nz-tab>\r\n        </nz-tabset> -->\r\n        <div class=\"design-menu-properties\" (click)=\"$event.stopPropagation()\">\r\n            <app-menu-customize [attribute]=\"dataAttribute\" [classRow]=\"classRows\" (change)=\"changeStyle()\"\r\n                (changeAll)=\"changeStyle($event)\" [applyStatus]=\"applyStatus\" (changeImage)=\"addImageWaiting($event)\">\r\n            </app-menu-customize>\r\n        </div>\r\n\r\n        <div style=\"width: 100%; text-align: -webkit-center\" class=\"edit-main\">\r\n            <div id=\"menu-book\">\r\n                <ng-container *ngFor=\"let page of dataMenu\">\r\n                    <div [id]=\"'menu-book-'+ page._id\" class=\"page cover-page\" *ngIf=\"page.type == 'cover'\"\r\n                        [ngClass]=\"'theme-' + theme\">\r\n                        <div class=\"cover-page-title\">\r\n                            <input id=\"mainTitle\" (focus)=\"edit(page.titleMenu.style,null ,'black');\"\r\n                                (click)=\"$event.stopPropagation()\"\r\n                                [ngClass]=\"{'fontBold': page.titleMenu.style.fontBold, 'fontItalic': page.titleMenu.style.fontItalic, 'fontUnderline': page.titleMenu.style.fontUnderline}\"\r\n                                [ngStyle]=\"{'fontSize': page.titleMenu.style.fontSize + 'px','fontFamily': page.titleMenu.style.font, 'color': page.titleMenu.style.fontColor, 'textAlign': page.titleMenu.style.align, 'outline': page.titleMenu.style.outline ? page.titleMenu.style.outline : 'none'}\"\r\n                                [(ngModel)]=\"page.titleMenu.value\" [disabled]=\"!editStatus\" />\r\n                        </div>\r\n                        <div class=\"cover-page-image1\"\r\n                            [ngStyle]=\"{'outline': page.img[0].outline ? page.img[0].outline : 'none'}\">\r\n                            <img src=\"{{page.img[0].src}}\" alt=\"\" [ngClass]=\"page.img[0].shape\"\r\n                                [ngStyle]=\"{'transform': 'scale('+ page.img[0].ratio +')'}\"\r\n                                (click)=\"editStatus ? edit( page.img[0], null ,'black') : null; $event.stopPropagation()\"\r\n                                title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n                        </div>\r\n                        <div class=\"cover-page-image2\"\r\n                            [ngStyle]=\"{'outline': page.img[1].outline ? page.img[1].outline : 'none'}\">\r\n                            <img src=\"{{page.img[1].src}}\" alt=\"\" [ngClass]=\"page.img[1].shape\"\r\n                                [ngStyle]=\"{'transform': 'scale('+ page.img[1].ratio +')'}\"\r\n                                (click)=\"editStatus ? edit( page.img[1], null ,'black') : null; $event.stopPropagation()\"\r\n                                title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n                        </div>\r\n                        <div class=\"cover-page-image3\"\r\n                            [ngStyle]=\"{'outline': page.img[2].outline ? page.img[2].outline : 'none'}\">\r\n                            <img src=\"{{page.img[2].src}}\" alt=\"\" [ngClass]=\"page.img[2].shape\"\r\n                                [ngStyle]=\"{'transform': 'scale('+ page.img[2].ratio +')'}\"\r\n                                (click)=\"editStatus ? edit( page.img[2], null ,'black') : null; $event.stopPropagation()\"\r\n                                title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n                        </div>\r\n                        <div class=\"cover-page-address\">\r\n                            <input (focus)=\"edit(page.address.style, null ,'black');\" (click)=\"$event.stopPropagation()\"\r\n                                [ngClass]=\"{'fontBold': page.address.style.fontBold, 'fontItalic': page.address.style.fontItalic, 'fontUnderline': page.address.style.fontUnderline}\"\r\n                                [ngStyle]=\"{'fontSize': page.address.style.fontSize + 'px', 'fontFamily': page.address.style.font, 'color': page.address.style.fontColor, 'textAlign': page.address.style.align, 'outline': page.address.style.outline ? page.address.style.outline : 'none'}\"\r\n                                [(ngModel)]=\"page.address.value\" [disabled]=\"!editStatus\" />\r\n                        </div>\r\n                    </div>\r\n                    <div [id]=\"'menu-book-'+ page._id\" class=\"menu-page page\" *ngIf=\"page.type == 'page'\"\r\n                        [ngClass]=\"'theme-' + theme\">\r\n                        <!-- <div class=\"menu-page-dish-image\">\r\n                            <img src=\"{{page.img}}\" (click)=\"editStatus ? editImage(page._id.toString()) : null\"\r\n                                title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n\r\n                        </div> -->\r\n                        <div class=\"menu-page-dish\">\r\n\r\n                            <div class=\"menu-page-dish-list\">\r\n                                <div class=\"menu-page-title\">\r\n                                    <input (focus)=\"edit(titleMenu.style);\" (click)=\"$event.stopPropagation()\"\r\n                                        [ngClass]=\"{'fontBold': titleMenu.style.fontBold, 'fontItalic': titleMenu.style.fontItalic, 'fontUnderline': titleMenu.style.fontUnderline}\"\r\n                                        [ngStyle]=\"{'fontSize': titleMenu.style.fontSize + 'px','fontFamily': titleMenu.style.font, 'color': titleMenu.style.fontColor, 'textAlign': titleMenu.style.align, 'outline': titleMenu.style.outline ? titleMenu.style.outline : 'none'}\"\r\n                                        [(ngModel)]=\"titleMenu.value\" [disabled]=\"!editStatus\" />\r\n                                </div>\r\n                                <div class=\"menu-page-phone\">\r\n                                    <input (focus)=\"edit(phone.style);\" (click)=\"$event.stopPropagation()\"\r\n                                        [ngClass]=\"{'fontBold': phone.style.fontBold, 'fontItalic': phone.style.fontItalic, 'fontUnderline': phone.style.fontUnderline}\"\r\n                                        [ngStyle]=\"{'fontSize': phone.style.fontSize + 'px','fontFamily': phone.style.font, 'color': phone.style.fontColor, 'textAlign': phone.style.align, 'outline': phone.style.outline ? phone.style.outline : 'none'}\"\r\n                                        [(ngModel)]=\"phone.value\" [disabled]=\"!editStatus\" />\r\n                                </div>\r\n                                <div style=\"height: 59%; padding: 8px 0\">\r\n                                    <div class=\"{{page.data ? line.class : ''}}\" id=\"page-row-{{line.index}}\"\r\n                                        (click)=\"editStatus ? edit(line.style, line.class) : null; $event.stopPropagation()\"\r\n                                        [ngClass]=\"{'fontBold': line.style.fontBold, 'fontItalic': line.style.fontItalic, 'fontUnderline': line.style.fontUnderline}\"\r\n                                        [ngStyle]=\"{'fontSize': line.style.fontSize + 'px', 'color': line.style.fontColor, 'textAlign': line.style.align, 'outline': line.style.outline ? line.style.outline : 'none'}\"\r\n                                        *ngFor=\"let line of page.data[0];trackBy: myTrackByFunction\">\r\n                                        <div [ngStyle]=\"{'fontFamily': line.style.font}\">\r\n                                            {{line.name}}\r\n                                        </div>\r\n                                        <div [ngStyle]=\"{'fontFamily': line.style.font}\" *ngIf=\"line.price\"\r\n                                            style=\"text-align: right;\">\r\n                                            {{vhAlgorithm.vhcurrencyunit_symbol(line.price)}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"menu-page-dish-list-image-1\"\r\n                                    [ngStyle]=\"{'outline': imgPage[page._id - 1][1].outline ? imgPage[page._id - 1][1].outline : 'none'}\">\r\n                                    <img src=\"{{imgPage[page._id - 1] ? imgPage[page._id - 1][1].src : ''}}\"\r\n                                        [ngClass]=\"imgPage[page._id - 1][1].shape\"\r\n                                        [ngStyle]=\"{'transform': 'scale('+ imgPage[page._id - 1][1].ratio +')'}\"\r\n                                        (click)=\"editStatus ? edit(imgPage[page._id - 1][1]) : null; $event.stopPropagation()\"\r\n                                        title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div class=\"menu-page-dish-list\" style=\"padding: 8px 0\">\r\n                                <div class=\"{{page.data ? line.class : ''}}\" id=\"page-row-{{line.index}}\"\r\n                                    (click)=\"editStatus ? edit(line.style, line.class) : null; $event.stopPropagation()\"\r\n                                    [ngClass]=\"{'fontBold': line.style.fontBold, 'fontItalic': line.style.fontItalic, 'fontUnderline': line.style.fontUnderline}\"\r\n                                    [ngStyle]=\"{'fontSize': line.style.fontSize + 'px', 'color': line.style.fontColor, 'textAlign': line.style.align, 'outline': line.style.outline ? line.style.outline : 'none'}\"\r\n                                    *ngFor=\"let line of page.data[1];trackBy: myTrackByFunction\">\r\n                                    <div [ngStyle]=\"{'fontFamily': line.style.font}\">\r\n                                        {{line.name}}\r\n                                    </div>\r\n                                    <div [ngStyle]=\"{'fontFamily': line.style.font}\" *ngIf=\"line.price\"\r\n                                        style=\"text-align: right;\">\r\n                                        {{vhAlgorithm.vhcurrencyunit_symbol(line.price)}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"menu-page-dish-list\">\r\n                                <div class=\"menu-page-dish-list-image-2\"\r\n                                    [ngStyle]=\"{'outline': imgPage[page._id - 1][2].outline ? imgPage[page._id - 1][2].outline : 'none'}\">\r\n                                    <img src=\"{{imgPage[page._id - 1] ? imgPage[page._id - 1][2].src : ''}}\"\r\n                                        [ngClass]=\"imgPage[page._id - 1][2].shape\"\r\n                                        [ngStyle]=\"{'transform': 'scale('+ imgPage[page._id - 1][2].ratio +')'}\"\r\n                                        (click)=\"editStatus ? edit(imgPage[page._id - 1][2]) : null; $event.stopPropagation()\"\r\n                                        title=\"{{(editStatus ? 'Click to change image' : '') | translate}}\">\r\n                                </div>\r\n                                <div style=\"height: 75%; padding: 8px 0\">\r\n                                    <div class=\"{{page.data ? line.class : ''}}\" id=\"page-row-{{line.index}}\"\r\n                                        (click)=\"editStatus ? edit(line.style, line.class) : null; $event.stopPropagation()\"\r\n                                        [ngClass]=\"{'fontBold': line.style.fontBold, 'fontItalic': line.style.fontItalic, 'fontUnderline': line.style.fontUnderline}\"\r\n                                        [ngStyle]=\"{'fontSize': line.style.fontSize + 'px', 'color': line.style.fontColor, 'textAlign': line.style.align, 'outline': line.style.outline ? line.style.outline : 'none'}\"\r\n                                        *ngFor=\"let line of page.data[2];trackBy: myTrackByFunction\">\r\n                                        <div [ngStyle]=\"{'fontFamily': line.style.font}\">\r\n                                            {{line.name}}\r\n                                        </div>\r\n                                        <div [ngStyle]=\"{'fontFamily': line.style.font}\" *ngIf=\"line.price\"\r\n                                            style=\"text-align: right;\">\r\n                                            {{vhAlgorithm.vhcurrencyunit_symbol(line.price)}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"height: 16px;\"></div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Template16Component } from './template16.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CanLeavePage } from 'src/app/cafe/desktop/canLeavePage';\r\n\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { MenuCustomizeModule } from '../menu-customize/menu-customize.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: Template16Component,\r\n    canDeactivate: [CanLeavePage]\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [Template16Component],\r\n  \r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MenuCustomizeModule\r\n  ]\r\n})\r\nexport class Template16Module { }\r\n"],"names":["domToImage","printJS","i0","ctx_r0","$event","ctx_r14","ctx_r16","ctx_r18","page_r5","ctx_r32","ctx_r38","ctx_r44","ctx_r54","ctx_r56","ctx_r7","Template16Component","constructor","cdRef","router","vhQueryCafe","modal","vhAlgorithm","languageService","vhAuth","vhImage","_id","titleMenu","value","style","align","fontBold","fontItalic","fontUnderline","font","fontSize","fontColor","color2","img","src","ratio","address","type","data","shape","color1","dataSave","getCurrentNavigation","extras","state","imgPage","theme","themeTemp","dataMenu","phone","getData","myTrackByFunction","element","index","myTrackByFunctionID","ngAfterViewInit","document","getElementById","addEventListener","ev","editStatus","transformData","focus","ngOnDestroy","removeEventListener","deleteImageWaiting","imageWaiting","ngAfterViewChecked","detectChanges","changeTheme","confirm","nzTitle","translate","nzContent","nzOkText","nzCancelText","nzOnOk","Promise","resolve","reject","forEach","page","row","class","nzOnCancel","getSubCombo","arr","subName","item","length","quantity","name","categories","getlocalCategorys","foods","getlocalProducts","filter","delete_hidden","ingredients","sideDishes","combos","rowStyle","styleCategory","push","combo","styleFood","price","styleSub","category","food","id_category","subs","sideDish","styleSideDishes","ingredient","styleIngredient","dataMenuRaw","i","j","countUnit","transfer","distance","temp","pop","rows","node","clientHeight","changeStyle","returnData","applyStatus","pageIdCurrent","columnCurrent","rowCurrent","fetchDataNextPage","numberItem","shift","splice","concat","k","Object","outline","timeout","outOfElement","renderSize","size","print","exportStatus","setTimeout","Array","entries","toSvg","quality","printable","imageStyle","preview","requestFullscreen","edit","rowClass","color","dataAttribute","classRows","ms","saveMenu","rejects","saveStatus","id_editor","getUser","template","pattern","date","Date","toISOString","cover","title","subtitle","updatePatternMenu","then","result","catch","err","addPatternMenu","popUpExit","create","nzFooter","label","loading","onClick","destroy","save","exit","goBack","exitPage","navigateByUrl","checkDeactivate","currentRoute","currentState","nextState","url","addImageWaiting","photoURL","newSrc","findIndex","oldSrc","images","deleteThumbnail","selectors","decls","vars","consts","ctx"],"sourceRoot":"webpack:///"}