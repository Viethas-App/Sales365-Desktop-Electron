{"version":3,"file":"src_app_cafe_desktop_menu_management_dishes_topping_topping_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/dishes/topping/add/add.component.ts","./src/app/cafe/desktop/menu/management/dishes/topping/add/add.component.html","./src/app/cafe/desktop/menu/management/dishes/topping/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/dishes/topping/detail/detail.component.html","./src/app/cafe/desktop/menu/management/dishes/topping/topping.component.ts","./src/app/cafe/desktop/menu/management/dishes/topping/topping.component.html","./src/app/cafe/desktop/menu/management/dishes/topping/topping.module.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport Cleave from 'cleave.js';\r\nimport { VhAlgorithm, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  public foodList: any[] = this.vhQueryCafe.getlocalProducts(13)\r\n  public searchList: any[] = [];\r\n  public connectFoods: any[] = [];\r\n  toppingForm: FormGroup;\r\n  value: any = 0;\r\n  public price: any;\r\n  priceDef: any;\r\n  priceDef2: any;\r\n  createProd: boolean = false\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  list_menu = this.vhQueryCafe.getlocalCategorys().filter(item => item.type == 4)\r\n  management_product_price2: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').management_product_price2\r\n  constructor(\r\n    private router: Router,\r\n    private vhImage: VhImage,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initForm()\r\n  }\r\n\r\n  /**\r\n   * tạo barcode tự động\r\n   * @example this.setBarcode()\r\n   */\r\n  setBarcode() {\r\n    let newbarcode = '';\r\n    for (let index = 0; index < 12; index++) {\r\n      newbarcode += Math.floor(Math.random() * 10)\r\n    }\r\n    if(!this.checkQrCode(newbarcode))\r\n    this.toppingForm.controls['barcode'].setValue(newbarcode) \r\n  } \r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.priceDef = this.vhAlgorithm.vhnumeral(\".price\");\r\n      if(this.management_product_price2) this.priceDef2 = this.vhAlgorithm.vhnumeral(\".price2\");\r\n    })\r\n  }\r\n  ngOnDestroy() {\r\n    if (!this.createProd && this.toppingForm.value['img'])\r\n      this.vhImage.deleteThumbnail([this.toppingForm.value['img']]).then(() => { })\r\n  }\r\n\r\n  /**\r\n   * khởi tạo các trường của topping vào form\r\n   * @example this.initForm()\r\n   */\r\n  initForm() {\r\n    this.toppingForm = new FormGroup({\r\n      name: new FormControl(\"\", [Validators.required]),\r\n      id_category: new FormControl('',Validators.required),\r\n      img: new FormControl(\"\"),\r\n      price: new FormControl(0, [Validators.required]),\r\n      price2: new FormControl(0, [Validators.required]),\r\n      // allow_sell: new FormControl(true),\r\n      delete_hidden: new FormControl(false),\r\n      barcode: new FormControl(''),\r\n      unit: new FormControl('', [Validators.required]),\r\n      time_warning: new FormControl(0),\r\n      describe: new FormControl('')\r\n    })\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/dishes/topping'], { state: this.dataRestore });\r\n  }\r\n  /**\r\n   * kiểm tra barcode đã tồn tại chưa\r\n   * @example this.checkQrCode('123456')\r\n   */\r\n  checkQrCode(barcode: string): boolean {\r\n    let detailproduct = this.vhQueryCafe.getlocalDetailProduct_byBarcode_Cafe(barcode)\r\n    console.log(detailproduct);\r\n    if (detailproduct == null) {\r\n      return false\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n  /**\r\n   * thêm topping vào DB\r\n   * @example this.saveDish({})\r\n   */\r\n  saveDish(data) {\r\n    data['units'] = [{\r\n      price: parseFloat(this.priceDef.getRawValue()),\r\n      price2: this.management_product_price2 ?  parseFloat(this.priceDef2.getRawValue())  : 0,\r\n      barcode: data.barcode,\r\n      unit: data.unit,\r\n      ratio: 1,\r\n      default: true\r\n    }]\r\n    delete data.unit;\r\n    delete data.price;\r\n    delete data.price2;\r\n    delete data.barcode;\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      if (this.checkQrCode(data.barcode)) {\r\n        this.vhComponent.hideLoading(0).then(() => this.vhComponent.showToast(1500, this.languageService.translate(\"QR code already exists\"), \"alert-toast\"))\r\n      } else {\r\n        this.vhQueryCafe.addProduct_Cafe({ ...data, time_warning: data.time_warning ? parseFloat(data.time_warning) : 0, type: 4,  })\r\n        .then(({ name }:any) => {\r\n          this.createProd = true;\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.vhComponent.showToast(1000, name + \" \" + (this.languageService.translate(\"has been added successfully\")), \"success-toast\");\r\n            this.goBack();\r\n          })\r\n        }).catch(err => {\r\n          this.vhComponent.hideLoading(0).then(() => this.vhComponent.showToast(1500, this.languageService.translate(\"An error occurred while adding product. Please try again\"), \"alert-toast\"))\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 128, 128, \"products\", this.toppingForm.value.img || null).then(\r\n      photoURL => {\r\n        this.toppingForm.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), \"success-toast\");\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), \"alert-toast\");\r\n      }\r\n    );\r\n  }\r\n    \r\n    \r\n    \r\n  /** Nếu là true thì là đang thêm danh mục, dùng để hiển thị trạng thái loading, tránh bị nhấn nhiều lần */\r\n  isAddingCategory: boolean = false;\r\n  /** Input nhập tên danh mục */\r\n  @ViewChild('categoryName') categoryName;\r\n\r\n  /**\r\n   * Thêm danh mục\r\n   */\r\n  addCategory(categoryName: any) {\r\n    const value = categoryName.value ? categoryName.value?.toString()?.trim() : '';\r\n    if (value) {\r\n      // Kiểm tra xem danh mục đã tồn tại hay chưa\r\n      let index = this.vhQueryCafe.getlocalCategorys()\r\n                    .filter(res => res.type == VhType.TOPPING)\r\n                    .findIndex(item => this.vhAlgorithm.changeAlias(item.name).toLowerCase() == this.vhAlgorithm.changeAlias(value).toLowerCase());\r\n\r\n      // Đã tồn tại\r\n      if (index !== -1) {\r\n        this.vhComponent.showToast(1500, this.languageService.translate(\"Category existed\"), 'alert-toast');\r\n        return;\r\n      }\r\n\r\n      // Chưa tồn tại thì thêm\r\n      this.isAddingCategory = true;\r\n      this.vhQueryCafe.addCategory({ name: value, type: VhType.TOPPING }).then((res: any) => {\r\n        this.categoryName.nativeElement.value = ''; // Reset input\r\n        this.list_menu.unshift(res); // Thêm vào đầu danh sách\r\n        this.toppingForm.controls['id_category'].setValue(res._id); // Chọn cái mới thêm\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Category has been added successfully\")), 'success-toast');\r\n      }, err => {\r\n        console.log(err);\r\n        this.vhComponent.showToast(1500, this.languageService.translate(\"An eror occured while adding category. Please try again\"), 'alert-toast');\r\n      }).finally(() => {\r\n        this.isAddingCategory = false;\r\n      });\r\n    }\r\n    else {\r\n      this.vhComponent.showToast(1500, this.languageService.translate('Category name is required'), 'alert-toast');\r\n    }\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n  <nz-content class=\"topping\">\r\n    <div class=\"topping-name\">\r\n      <div nz-row [nzGutter]=\"16\">\r\n        <div nz-col nzSpan=\"20\" class=\"title left-all-content\">\r\n          <b>{{'Add topping' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"add-button\">\r\n          <button class=\"center-all-content\" nz-button nzType=\"default\" (click)=\"saveDish(toppingForm.value)\"\r\n            [disabled]=\"toppingForm.invalid\" [ngStyle]=\"{opacity: (toppingForm.invalid) ? 0.5 : 1}\">\r\n            <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n            {{'Save' | translate}}</button>\r\n        </div>\r\n      </div>\r\n      <div style=\"height: calc(100% - 56px); overflow-x: hidden; overflow-y: auto; margin: 8px 0;\"\r\n        class=\"custom-scroll-bar\">\r\n        <form nz-form [formGroup]=\"toppingForm\">\r\n          <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n              <div nz-row [nzGutter]=\"[16, 8]\">\r\n                <div nz-col nzSpan=\"24\" style=\"text-align: -webkit-center;\">\r\n                  <div class=\"bg-img center-all-content\" (click)=\"getFile()\" style=\"cursor: pointer;\">\r\n                    <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                      (change)=\"onUpload($event)\" />\r\n                    <img [ngStyle]=\"{width: toppingForm.value.img ? '100%' : '60px'}\"\r\n                      onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"toppingForm.value.img\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div nz-row [nzGutter]=\"[16, 8]\">\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Side dish name' | translate}}*</b></div>\r\n                  <nz-form-item style=\"margin-bottom: 3%;\">\r\n                    <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                      <nz-input-group>\r\n                        <input formControlName=\"name\" nz-input placeholder=\"{{'Enter side dish name' | translate}}\"\r\n                          required />\r\n                        <ng-template #combineTplName let-control>\r\n                          <ng-container *ngIf=\"control.hasError('required')\">{{'Side dish name is required' |\r\n                            translate}}\r\n                          </ng-container>\r\n                        </ng-template>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Topping category' | translate}}*</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"'Please select category' | translate\">\r\n                      <!-- Thanh chọn -->\r\n                      <nz-select formControlName=\"id_category\" \r\n                          [nzDropdownRender]=\"addCategoryTemplate\"\r\n                          nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Please select category' | translate\">\r\n                          <nz-option *ngFor=\"let option of list_menu\" [nzValue]=\"option._id\" [nzLabel]=\"option.name\"></nz-option>\r\n                      </nz-select>\r\n                      <!-- Thêm danh mục -->\r\n                      <ng-template #addCategoryTemplate>\r\n                          <nz-divider></nz-divider>\r\n                          <div style=\"display: flex; align-items: center; justify-content: space-between; gap: 6px; padding: 0px 6px 11px 6px\">\r\n                              <!-- Input nhập tên -->\r\n                              <input #categoryName [placeholder]=\"'Enter category name' | translate\" nz-input type=\"text\" />\r\n                              <!-- Nút thêm -->\r\n                              <button (click)=\"addCategory(categoryName)\" nz-button\r\n                                  [nzLoading]=\"isAddingCategory\"\r\n                                  [disabled]=\"!categoryName.value || categoryName.value.trim() === '' || isAddingCategory\">\r\n                                  {{'Add' | translate}}\r\n                              </button>\r\n                          </div>\r\n                      </ng-template>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n              </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Price' | translate}}*</b></div>\r\n                  <nz-form-item style=\"margin-bottom: 3%;\">\r\n                    <nz-form-control [nzErrorTip]=\"combineTplPrice\">\r\n                      <nz-input-group>\r\n                        <input formControlName=\"price\" nz-input placeholder=\"{{'Enter price' | translate}}\"\r\n                          class=\"price\" required />\r\n                        <ng-template #combineTplPrice let-control>\r\n                          <ng-container *ngIf=\"control.hasError('required')\">{{'Price is required' | translate}}\r\n                          </ng-container>\r\n                        </ng-template>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'QR Code' | translate}}</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control>\r\n                      <nz-input-group>\r\n                        <input #qr (blur)=\"checkQrCode(qr.value)\" formControlName=\"barcode\" nz-input class=\"barcode\"\r\n                          placeholder=\"{{'Enter QR code'|translate}}\" />\r\n                          <i style=\"margin: 8px 0 0 8px;\" nz-icon nzType=\"reload\" nzTheme=\"outline\" (click)=\"setBarcode()\" nz-tooltip nzTooltipTitle=\"{{'Generate barcodes automatically' | translate}}\" nzTooltipPlacement=\"bottom\"></i>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\" *ngIf=\"management_product_price2\">\r\n                  <div><b>{{'Price' | translate}} 2*</b></div>\r\n                  <nz-form-item style=\"margin-bottom: 3%;\">\r\n                    <nz-form-control [nzErrorTip]=\"combineTplPrice\">\r\n                      <nz-input-group>\r\n                        <input formControlName=\"price2\" nz-input placeholder=\"{{'Enter price' | translate}}\"\r\n                          class=\"price2\" required />\r\n\r\n                        <ng-template #combineTplPrice let-control>\r\n                          <ng-container *ngIf=\"control.hasError('required')\">{{'Price is required' | translate}}\r\n                          </ng-container>\r\n                        </ng-template>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Unit' | translate}}*</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control>\r\n                      <nz-input-group>\r\n                        <input formControlName=\"unit\" nz-input placeholder=\"{{'Enter unit'|translate}}\" />\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Description' | translate}}</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control>\r\n                      <nz-input-group>\r\n                        <textarea nz-input formControlName=\"describe\" placeholder=\"{{'Description' | translate}}\"\r\n                          [nzAutosize]=\"{ minRows: 2, maxRows: 2 }\"></textarea>\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                  <div><b>{{'Warning timeout (minute)' | translate}}</b></div>\r\n                  <nz-form-item>\r\n                    <nz-form-control>\r\n                      <nz-input-group>\r\n                        <input formControlName=\"time_warning\" nz-input type=\"number\"\r\n                          placeholder=\"{{'Enter warning timeout (minutes)'|translate}}\" />\r\n                      </nz-input-group>\r\n                    </nz-form-control>\r\n                  </nz-form-item>\r\n                </div>\r\n              </div>\r\n              <!-- <div nz-row [nzGutter]=\"[16, 8]\">\r\n                <div nz-col nzSpan=\"24\">\r\n                  <label nz-checkbox formControlName=\"allow_sell\">\r\n                    {{'Available to sell' | translate}}\r\n                  </label>\r\n                </div>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </nz-content>\r\n</nz-layout>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport Cleave from 'cleave.js';\r\nimport { VhAlgorithm, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  management_product_price2: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').management_product_price2\r\n  toppingForm: FormGroup;\r\n  checked: boolean = true;\r\n  data: any;\r\n  value: any = 0;\r\n  public price: any;\r\n  priceDef: any;\r\n  priceDef2: any;\r\n  isVisibleAddOption: boolean = false;\r\n  qr_code: boolean = false\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  list_menu = this.vhQueryCafe.getlocalCategorys().filter(item => item.type == 4)\r\n  constructor(\r\n    private router: Router,\r\n    private vhImage: VhImage,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) {\r\n    this.data = this.router.getCurrentNavigation().extras.state.data;\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.data)\r\n    this.initForm()\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.priceDef = this.vhAlgorithm.vhnumeral(\".price\");\r\n      if (this.management_product_price2) this.priceDef2 = this.vhAlgorithm.vhnumeral(\".price2\");\r\n    })\r\n  }\r\n\r\n  /**\r\n   * gán giá trị của topping vào form\r\n   * @example this.initForm()\r\n   */\r\n  initForm() {\r\n    this.toppingForm = new FormGroup({\r\n      name: new FormControl(this.data.name, [Validators.required]),\r\n      id_category: new FormControl(this.data.id_category, Validators.required),\r\n      img: new FormControl(this.data.img),\r\n      allow_sell: new FormControl(this.data.delete_hidden ? false : true),\r\n      delete_hidden: new FormControl(this.data.delete_hidden),\r\n      price: new FormControl(this.data.units[0].price ? this.data.units[0].price : 0, [Validators.required]),\r\n      price2: new FormControl(this.data.units[0].price2 ? this.data.units[0].price2 : 0, [Validators.required]),\r\n      barcode: new FormControl(this.data.units[0].barcode),\r\n      unit: new FormControl(this.data.units[0].unit),\r\n      time_warning: new FormControl(this.data.time_warning),\r\n      describe: new FormControl(this.data.describe)\r\n    })\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/dishes/topping'], { state: this.dataRestore });\r\n  }\r\n\r\n  /**\r\n   * kiểm tra barcode có trùng hay ko\r\n   * @param barcode \r\n   * @returns \r\n   */\r\n  checkQrCode(barcode: string): boolean {\r\n    let detailproduct = this.vhQueryCafe.getlocalDetailProduct_byBarcode_Cafe(barcode)\r\n    if (detailproduct == null) {\r\n      return false\r\n    } else {\r\n      if (detailproduct._id == this.data._id) return false\r\n      return true\r\n    }\r\n\r\n  }\r\n  // DELETE\r\n  isVisible = false;\r\n  /**\r\n   * mở modal xác nhận xóa topping\r\n   * @example this.showModal()\r\n   */\r\n  showModal(): void {\r\n    this.isVisible = true;\r\n  }\r\n  /**\r\n   * đóng modal xác nhận xóa topping và xóa topping\r\n   * @example this.showModal()\r\n   */\r\n  handleOk(): void {\r\n    this.isVisible = false;\r\n    this.deleteSideDishes();\r\n  }\r\n  /**\r\n   * đóng modal xác nhận xóa topping\r\n   * @example this.handleCancel()\r\n   */\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  /**\r\n   * xóa topping khỏi DB\r\n   */\r\n  deleteSideDishes() {\r\n    this.isVisible = false;\r\n    Promise.all([\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\"),\r\n      this.vhQueryCafe.deleteProduct_Cafe(this.data._id)\r\n    ]).then(([loading, rsp]: any) => {\r\n      if (rsp.vcode === 0) {\r\n        if (this.toppingForm.value[\"img\"]) {\r\n          this.vhImage.deleteThumbnail(this.toppingForm.value[\"img\"]).then(() => {\r\n            this.vhComponent.showToast(2000, (this.languageService.translate(\"Product has been deleted successfully\")), \"success-toast\");\r\n            this.vhComponent.hideLoading(0);\r\n            setTimeout(() => {\r\n              this.isVisible = false;\r\n              this.goBack();\r\n            }, 300);\r\n          })\r\n        } else {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.alertMessageDesktop(\"success\", (this.languageService.translate(\"Product has been deleted successfully\")));\r\n          setTimeout(() => {\r\n            this.isVisible = false;\r\n            this.goBack();\r\n          }, 300);\r\n        }\r\n      } else if (rsp.vcode === 1) {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.alertMessageDesktop(\"error\", (this.languageService.translate(\"Bạn không thể xóa, vì sản phẩm đang liên kết với sản phẩm combo khác\")));\r\n        // this.goBack();\r\n      } else if (rsp.vcode === 2) {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.alertMessageDesktop(\"error\", (this.languageService.translate(\"Bạn không thể xóa, vì sản phẩm này đã phát sinh hóa đơn\")));\r\n        // this.goBack();\r\n      } else if (rsp.vcode === 3) {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.alertMessageDesktop(\"error\", (this.languageService.translate(\"Bạn không thể xóa, bạn phải xóa topping này trong các sản phẩm trước\")));\r\n      }\r\n    },error =>{\r\n      console.log('error deleteSideDishes', error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * tạo barcode tự động\r\n   */\r\n  setBarcode() {\r\n    let newbarcode = '';\r\n    for (let index = 0; index < 12; index++) {\r\n      newbarcode += Math.floor(Math.random() * 10)\r\n    }\r\n    if (!this.checkQrCode(newbarcode)) {\r\n      this.toppingForm.controls['barcode'].setValue(newbarcode)\r\n      this.updateUnits()\r\n    }\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n  //update\r\n  updateTopping(value) {\r\n    if (value.hasOwnProperty('allow_sell')) {\r\n      value = { delete_hidden: !value.allow_sell }\r\n    }\r\n    if (this.toppingForm.valid) {\r\n      if (this.checkQrCode(this.toppingForm.value.barcode)) {\r\n        this.vhComponent.showToast(1500, this.languageService.translate(\"QR code already exists\"), \"alert-toast\")\r\n      } else {\r\n        console.log(value);\r\n\r\n        this.vhQueryCafe.updateProduct_Cafe(this.data._id, value)\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * update units của topping\r\n   */\r\n  updateUnits() {\r\n    let units = [\r\n      {\r\n        unit: this.toppingForm.value.unit,\r\n        price: parseFloat(this.priceDef.getRawValue() ? this.priceDef.getRawValue() : '0'),\r\n        price2: parseFloat(this.management_product_price2 && this.priceDef2.getRawValue() ? this.priceDef2.getRawValue() : '0'),\r\n        barcode: this.toppingForm.value.barcode,\r\n        ratio: 1,\r\n        default: true\r\n      }\r\n    ]\r\n    this.updateTopping({ units: units })\r\n  }\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 128, 128, \"products\", this.toppingForm.value.img || null).then(\r\n      photoURL => {\r\n        this.toppingForm.controls[\"img\"].setValue(photoURL);\r\n        this.updateTopping({ img: photoURL });\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), \"success-toast\");\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), \"alert-toast\");\r\n      }\r\n    );\r\n  }\r\n      \r\n      \r\n      \r\n  /** Nếu là true thì là đang thêm danh mục, dùng để hiển thị trạng thái loading, tránh bị nhấn nhiều lần */\r\n  isAddingCategory: boolean = false;\r\n  /** Input nhập tên danh mục */\r\n  @ViewChild('categoryName') categoryName;\r\n\r\n  /**\r\n   * Thêm danh mục\r\n   */\r\n  addCategory(categoryName: any) {\r\n    const value = categoryName.value ? categoryName.value?.toString()?.trim() : '';\r\n    if (value) {\r\n      // Kiểm tra xem danh mục đã tồn tại hay chưa\r\n      let index = this.vhQueryCafe.getlocalCategorys()\r\n                    .filter(res => res.type == VhType.TOPPING)\r\n                    .findIndex(item => this.vhAlgorithm.changeAlias(item.name).toLowerCase() == this.vhAlgorithm.changeAlias(value).toLowerCase());\r\n\r\n      // Đã tồn tại\r\n      if (index !== -1) {\r\n        this.vhComponent.showToast(1500, this.languageService.translate(\"Category existed\"), 'alert-toast');\r\n        return;\r\n      }\r\n\r\n      // Chưa tồn tại thì thêm\r\n      this.isAddingCategory = true;\r\n      this.vhQueryCafe.addCategory({ name: value, type: VhType.TOPPING }).then((res: any) => {\r\n        console.log(res);\r\n        this.categoryName.nativeElement.value = ''; // Reset input\r\n        this.list_menu.unshift(res); // Thêm vào đầu danh sách\r\n        this.toppingForm.controls['id_category'].setValue(res._id); // Chọn cái mới thêm\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Category has been added successfully\")), 'success-toast');\r\n      }, err => {\r\n        console.log(err);\r\n        this.vhComponent.showToast(1500, this.languageService.translate(\"An eror occured while adding category. Please try again\"), 'alert-toast');\r\n      }).finally(() => {\r\n        this.isAddingCategory = false;\r\n      });\r\n    }\r\n    else {\r\n      this.vhComponent.showToast(1500, this.languageService.translate('Category name is required'), 'alert-toast');\r\n    }\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"topping\">\r\n        <div class=\"topping-name\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"20\" class=\"title left-all-content\">\r\n                    <b>{{'Update topping' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"add-button\">\r\n                    <button class=\"center-all-content\" nz-button nzType=\"default\" (click)=\"showModal()\">\r\n                        <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                        {{'Delete' | translate}}</button>\r\n                </div>\r\n            </div>\r\n            <div style=\"height: calc(100% - 56px); overflow-x: hidden; overflow-y: auto; margin: 8px 0;\"\r\n                class=\"custom-scroll-bar\">\r\n                <form nz-form [formGroup]=\"toppingForm\">\r\n                    <div nz-row>\r\n                        <div nz-col nzSpan=\"24\">\r\n                            <div nz-row [nzGutter]=\"[16, 8]\">\r\n                                <div nz-col nzSpan=\"24\" style=\"text-align: -webkit-center;\">\r\n                                    <div class=\"bg-img center-all-content\" (click)=\"getFile()\" style=\"cursor: pointer;\">\r\n                                        <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                            (change)=\"onUpload($event)\" />\r\n                                        <img [ngStyle]=\"{width: toppingForm.value.img ? '100%' : '60px'}\"\r\n                                            onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                            [src]=\"toppingForm.value.img\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row [nzGutter]=\"[16, 8]\">\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'Side dish name' | translate}}*</b></div>\r\n                                    <nz-form-item style=\"margin-bottom: 3%;\">\r\n                                        <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                            <nz-input-group>\r\n                                                <input formControlName=\"name\" nz-input\r\n                                                    (blur)=\"updateTopping({name : toppingForm.value.name})\"\r\n                                                    placeholder=\"{{'Enter side dish name' | translate}}\" required />\r\n                                                <ng-template #combineTplName let-control>\r\n                                                    <ng-container *ngIf=\"control.hasError('required')\">\r\n                                                        {{'Side dish name is required' | translate}}\r\n                                                    </ng-container>\r\n                                                </ng-template>\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                  <div><b>{{'Topping category' | translate}}*</b></div>\r\n                                  <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"'Please select category' | translate\">\r\n                                        <!-- Thanh chọn -->\r\n                                        <nz-select formControlName=\"id_category\" \r\n                                          (ngModelChange)=\"updateTopping({id_category: $event})\"\r\n                                          [nzDropdownRender]=\"addCategoryTemplate\"\r\n                                          nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Please select category' | translate\">\r\n                                          <nz-option *ngFor=\"let option of list_menu\" [nzValue]=\"option._id\" [nzLabel]=\"option.name\"></nz-option>\r\n                                        </nz-select>\r\n                                        <!-- Thêm danh mục -->\r\n                                        <ng-template #addCategoryTemplate>\r\n                                          <nz-divider></nz-divider>\r\n                                          <div style=\"display: flex; align-items: center; justify-content: space-between; gap: 6px; padding: 0px 6px 11px 6px\">\r\n                                            <!-- Input nhập tên -->\r\n                                            <input #categoryName [placeholder]=\"'Enter category name' | translate\" nz-input type=\"text\" />\r\n                                            <!-- Nút thêm -->\r\n                                            <button (click)=\"addCategory(categoryName)\" nz-button\r\n                                              [nzLoading]=\"isAddingCategory\"\r\n                                              [disabled]=\"!categoryName.value || categoryName.value.trim() === '' || isAddingCategory\">\r\n                                              {{'Add' | translate}}\r\n                                            </button>\r\n                                          </div>\r\n                                        </ng-template>\r\n                                    </nz-form-control>\r\n                                  </nz-form-item>\r\n                              </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'Price' | translate}}*</b></div>\r\n                                    <nz-form-item style=\"margin-bottom: 3%;\">\r\n                                        <nz-form-control [nzErrorTip]=\"combineTplPrice\">\r\n                                            <nz-input-group>\r\n                                                <input formControlName=\"price\" nz-input\r\n                                                    (blur)=\"updateUnits()\"\r\n                                                    placeholder=\"{{'Enter price' | translate}}\" class=\"price\"\r\n                                                    required />\r\n                                                <ng-template #combineTplPrice let-control>\r\n                                                    <ng-container *ngIf=\"control.hasError('required')\">\r\n                                                        {{'Price is required' | translate}}\r\n                                                    </ng-container>\r\n                                                </ng-template>\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'QR Code' | translate}}</b></div>\r\n                                    <nz-form-item>\r\n                                        <nz-form-control>\r\n                                            <nz-input-group>\r\n                                                <input #qr (keyup)=\"checkQrCode(qr.value)\" formControlName=\"barcode\"\r\n                                                    (blur)=\"updateUnits()\" nz-input class=\"barcode\"\r\n                                                    placeholder=\"{{'Enter QR code'|translate}}\" />\r\n                                                    <i style=\"margin: 8px 0 0 8px;\" nz-icon nzType=\"reload\" nzTheme=\"outline\" (click)=\"setBarcode()\" nz-tooltip nzTooltipTitle=\"{{'Generate barcodes automatically' | translate}}\" nzTooltipPlacement=\"bottom\"></i>\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\"  *ngIf=\"management_product_price2\">\r\n                                    <div><b>{{'Price' | translate}} 2*</b></div>\r\n                                    <nz-form-item style=\"margin-bottom: 3%;\">\r\n                                        <nz-form-control [nzErrorTip]=\"combineTplPrice\">\r\n                                            <nz-input-group>\r\n                                                <input formControlName=\"price2\" nz-input\r\n                                                    (blur)=\"updateUnits()\"\r\n                                                    placeholder=\"{{'Enter price' | translate}}\" class=\"price2\"\r\n                                                    required />\r\n                                                <ng-template #combineTplPrice let-control>\r\n                                                    <ng-container *ngIf=\"control.hasError('required')\">\r\n                                                        {{'Price is required' | translate}}\r\n                                                    </ng-container>\r\n                                                </ng-template>\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'Unit' | translate}}</b></div>\r\n                                    <nz-form-item>\r\n                                        <nz-form-control>\r\n                                            <nz-input-group>\r\n                                                <input formControlName=\"unit\" nz-input\r\n                                                    (blur)=\"updateUnits()\"\r\n                                                    placeholder=\"{{'Enter unit'|translate}}\" />\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'Description' | translate}}</b></div>\r\n                                    <nz-form-item>\r\n                                        <nz-form-control>\r\n                                            <nz-input-group>\r\n                                                <textarea nz-input formControlName=\"describe\"\r\n                                                    (blur)=\"updateTopping({describe : toppingForm.value.describe})\"\r\n                                                    placeholder=\"{{'Description' | translate}}\"\r\n                                                    [nzAutosize]=\"{ minRows: 2, maxRows: 2 }\"></textarea>\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"small-size\">\r\n                                    <div><b>{{'Warning timeout (minute)' | translate}}</b></div>\r\n                                    <nz-form-item>\r\n                                        <nz-form-control>\r\n                                            <nz-input-group>\r\n                                                <input formControlName=\"time_warning\" nz-input type=\"number\"\r\n                                                    (blur)=\"updateTopping({time_warning : toppingForm.value.time_warning})\"\r\n                                                    placeholder=\"{{'Enter warning timeout (minutes)'|translate}}\" />\r\n                                            </nz-input-group>\r\n                                        </nz-form-control>\r\n                                    </nz-form-item>\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row [nzGutter]=\"[16, 8]\">\r\n                                <div nz-col nzSpan=\"24\">\r\n                                    <label nz-checkbox formControlName=\"allow_sell\"\r\n                                        (ngModelChange)=\"updateTopping({allow_sell : toppingForm.value.allow_sell})\">\r\n                                        {{'Available to sell' | translate}}\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\"\r\n    (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <p *nzModalContent>{{'Are you sure to delete this product?' | translate}}</p>\r\n</nz-modal>\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'app-topping',\r\n  templateUrl: './topping.component.html',\r\n  styleUrls: ['./topping.component.scss']\r\n})\r\nexport class ToppingComponent implements OnInit {\r\n\r\n  keySearch: any = '';\r\n  selectedValue: any = '1'; //theo menu\r\n  selectedIndex: number = 0; // theo index của tab\r\n  list_toppings: any = [];\r\n  heightScroll: string;\r\n  countLink: any = []\r\n  list_show: any = [];\r\n  sub_listShow: any = [];\r\n  listTabs = ['Allow sale', 'Not allow sale']\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhComponent: VhComponent\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#topping-list\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".topping-list-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#topping-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".topping-list-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 80 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/dishes']);\r\n  }\r\n  /**get data product, category */\r\n  getData() {\r\n    console.log(this.vhQueryCafe.getlocalProducts().filter(item => item.type == 4));\r\n    \r\n    this.list_toppings = this.vhQueryCafe.getlocalProducts().filter(item => item.type == 4).filter(item => !item.delete_hidden).map(map => {\r\n      return {\r\n        ...map,\r\n        name_category: this.vhQueryCafe.getlocalCategory(map.id_category) ? this.vhQueryCafe.getlocalCategory(map.id_category).name : '',\r\n        ...this.vhQueryCafe.getUnit_byRatio(map.units, 1)\r\n      }\r\n    })\r\n    if (this.dataRestore) {\r\n      this.keySearch = this.dataRestore.keySearch\r\n      this.selectedValue = this.dataRestore.selectedValue,\r\n        this.selectedIndex = this.dataRestore.selectedIndex\r\n    }\r\n    this.filterByAllowSell(this.selectedIndex);\r\n  }\r\n\r\n  /**\r\n   * Khi thay đổi tab\r\n   * @example this.changeTab('1');\r\n   */\r\n  changeTab(value) {\r\n    this.filterByAllowSell(value);\r\n    if (value == '1') {\r\n      this.getHiddenProducts();\r\n    }\r\n  }\r\n  /** lọc danh sách sản phẩm theo allow_sell */\r\n  filterByAllowSell(index) {\r\n    if (this.list_toppings) {\r\n      if (index == 0) this.list_show = this.list_toppings.filter(item => !item.delete_hidden)\r\n     \r\n      this.sub_listShow = this.list_show\r\n      this.search_DishesByText(this.keySearch)\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n  list_toppings_hidden = []\r\n  list_show_toppings_hidden = []\r\n  /**\r\n   * Lấy danh sách sản phẩm đã ẩn\r\n   */\r\n  getHiddenProducts() {\r\n    this.vhQueryCafe.refreshLocalProducts_Delete_Hidden(VhType.TOPPING).then(() => {\r\n      this.list_show_toppings_hidden = this.vhQueryCafe.getlocalProducts(VhType.TOPPING).filter(item => item.delete_hidden).map(map => {\r\n        return {\r\n          ...map,\r\n          name_category: this.vhQueryCafe.getlocalCategory(map.id_category) ? this.vhQueryCafe.getlocalCategory(map.id_category).name : '',\r\n          ...this.vhQueryCafe.getUnit_byRatio(map.units, 1)\r\n        }\r\n      })\r\n      this.list_toppings_hidden = this.list_show_toppings_hidden\r\n\r\n      this.search_DishesHiddenByText(this.keySearch);\r\n\r\n    });\r\n  }\r\n  /**\r\n   * cập nhật sp theo trường truyền vào\r\n   * @example this.updateProductByField({name: ''})\r\n   */\r\n  updateProductByField(id, value, parent?, is_sub?) {\r\n    console.log('value', value);\r\n    console.log('id', id);\r\n\r\n\r\n    this.vhQueryCafe.updateProduct(id, value).then((res) => {\r\n      console.log(res);\r\n      this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Update successfully\"), 2000);\r\n      if (!value.delete_hidden) {\r\n        this.list_toppings_hidden = this.list_toppings_hidden.filter(item => item._id != id);\r\n        this.list_show_toppings_hidden = this.list_show_toppings_hidden.filter(item => item._id != id);\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    }).catch(e => {\r\n      console.log(e);\r\n    })\r\n\r\n\r\n  }\r\n  search_DishesByText(value) {\r\n    this.list_show = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value.toLowerCase()),\r\n      this.sub_listShow, [\"name\"]\r\n    );\r\n  }\r\n  search_DishesHiddenByText(value) {\r\n    this.list_show_toppings_hidden = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value.toLowerCase()),\r\n      this.list_toppings_hidden, [\"name\"]\r\n    );\r\n  }\r\n  gotoAdd() {\r\n    let dataRestore = { keySearch: this.keySearch, selectedValue: this.selectedValue, selectedIndex: this.selectedIndex }\r\n    this.router.navigate(['/cafe/dashboard/management/dishes/topping/add'], { state: { dataRestore } });\r\n  }\r\n  gotoToppingDetail(data) {\r\n    let dataRestore = { keySearch: this.keySearch, selectedValue: this.selectedValue, selectedIndex: this.selectedIndex }\r\n    this.router.navigate(['/cafe/dashboard/management/dishes/topping/detail'], {\r\n      state: {\r\n        data: data,\r\n        dataRestore\r\n      }\r\n    });\r\n  }\r\n  listExport: any = [];\r\n  getIndex(value) {\r\n    if (value == 0) this.listExport = this.list_show.filter(item => !item.delete_hidden == true)\r\n    else this.listExport = this.list_show.filter(item => !item.delete_hidden == false)\r\n  }\r\n\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  nameCol = false;\r\n  unitCol = false;\r\n  name_categoryCol = false;\r\n  priceCol = false;\r\n  barcodeCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collect\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName) {\r\n    switch (colName) {\r\n      case 'barcode':\r\n        if (this.barcodeCol) {\r\n          this.list_show = this.vhAlgorithm.sortStringbyASC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        } else {\r\n          this.list_show = this.vhAlgorithm.sortStringbyDESC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        }\r\n        break;\r\n      case 'unit':\r\n        if (this.unitCol) {\r\n          this.list_show = this.vhAlgorithm.sortStringbyASC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        } else {\r\n          this.list_show = this.vhAlgorithm.sortStringbyDESC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        }\r\n        break;\r\n      case 'name':\r\n        if (this.nameCol) {\r\n          this.list_show = this.vhAlgorithm.sortStringbyASC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        } else {\r\n          this.list_show = this.vhAlgorithm.sortStringbyDESC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        }\r\n        break;\r\n      case 'name_category':\r\n        if (this.name_categoryCol) {\r\n          this.list_show = this.vhAlgorithm.sortStringbyASC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        } else {\r\n          this.list_show = this.vhAlgorithm.sortStringbyDESC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        }\r\n        break;\r\n      case 'price':\r\n        if (this.priceCol) {\r\n          this.list_show = this.vhAlgorithm.sortNumberbyASC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        } else {\r\n          this.list_show = this.vhAlgorithm.sortNumberbyDESC(\r\n            [...this.list_show],\r\n            colName\r\n          );\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"topping-list\" class=\"height-layout\">\r\n  <div nz-row class=\"topping-list-header\">\r\n    <div nz-col nzSpan=\"5\" class=\"title left-all-content\">\r\n      <b>{{'Topping list'|translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n      <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n        <input [(ngModel)]=\"keySearch\" type=\"text\" nz-input placeholder=\"{{'Search for side dish name' |translate}}\"\r\n          (keyup)=\"search_DishesByText(keySearch)\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"9\" class=\"right-all-content\">\r\n      <div>\r\n        <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"gotoAdd()\">\r\n          <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n          {{'Add'|translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" (nzSelectChange)=\"changeTab($event.index)\">\r\n      <nz-tab  class=\"small-size\" nzTitle=\"{{'Allow sale' | translate}}\">\r\n        <div nz-row class=\"total-item small-size\">\r\n          {{'Total' | translate}} &nbsp;<span style=\"color: var(--ion-color-vh-red);\">\r\n            {{list_show.length}}&nbsp; </span> {{'side dishes' | translate}}\r\n        </div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n          #allowSale nzShowPagination nzShowSizeChanger [nzData]=\"list_show\">\r\n          <thead>\r\n            <tr>\r\n              <th nzWidth=\"12%\" nzAlign='center'><b></b></th>\r\n              <th nzWidth=\"25%\" class=\"small-size\" style=\"cursor: pointer;\"\r\n                (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n                <b>{{'Side dish name' | translate}}</b>\r\n                <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\" (click)=\"unitCol = !unitCol;sortTable('unit')\">\r\n                <b>{{'Unit' | translate}}</b>\r\n                <i nz-icon [nzType]=\"unitCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\" (click)=\"barcodeCol = !barcodeCol;sortTable('barcode')\">\r\n                <b>{{'Barcode' | translate}}</b>\r\n                <i nz-icon [nzType]=\"barcodeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\"\r\n                (click)=\"name_categoryCol = !name_categoryCol;sortTable('name_category')\">\r\n                <b>{{'Category' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_categoryCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzAlign='right' nzWidth=\"20%\" class=\"small-size\" style=\"cursor: pointer;\"\r\n                (click)=\"priceCol = !priceCol;sortTable('price')\">\r\n                <b>{{'Price' | translate}}</b>\r\n                <i nz-icon [nzType]=\"priceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let data of allowSale.data\" (click)=\"gotoToppingDetail(data)\" style=\"cursor: pointer;\">\r\n              <td style=\"padding: 0;\" nzAlign='center'>\r\n                <img style=\"width: 36px;\" [src]=\"data.img ? data.img : './assets/icon/management/noimage.svg'\">\r\n              </td>\r\n              <td style=\"color: var(--ion-color-vh-green);\" class=\"small-size\">{{ data.name }}</td>\r\n              <td>{{ data.unit }}</td>\r\n              <td>{{ data.barcode }}</td>\r\n              <td>{{ data.name_category }}</td>\r\n              <td nzAlign='right' class=\"small-size money-right\">{{vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </nz-table>\r\n      </nz-tab>\r\n      <nz-tab  class=\"small-size\" nzTitle=\"{{'Hidden not allow sell' | translate}}\">\r\n        <div nz-row class=\"total-item small-size\">\r\n          {{'Total' | translate}} &nbsp;<span style=\"color: var(--ion-color-vh-red);\">\r\n            {{list_show_toppings_hidden.length}}&nbsp; </span> {{'side dishes' | translate}}\r\n        </div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n          #hiddenList nzShowPagination nzShowSizeChanger [nzData]=\"list_show_toppings_hidden\">\r\n          <thead>\r\n            <tr>\r\n              <th nzWidth=\"12%\" nzAlign='center'><b></b></th>\r\n              <th nzWidth=\"25%\" class=\"small-size\" style=\"cursor: pointer;\"\r\n                (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n                <b>{{'Side dish name' | translate}}</b>\r\n                <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\" (click)=\"unitCol = !unitCol;sortTable('unit')\">\r\n                <b>{{'Unit' | translate}}</b>\r\n                <i nz-icon [nzType]=\"unitCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\" (click)=\"barcodeCol = !barcodeCol;sortTable('barcode')\">\r\n                <b>{{'Barcode' | translate}}</b>\r\n                <i nz-icon [nzType]=\"barcodeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"14%\" style=\"cursor: pointer;\"\r\n                (click)=\"name_categoryCol = !name_categoryCol;sortTable('name_category')\">\r\n                <b>{{'Category' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_categoryCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzAlign='right' nzWidth=\"20%\" class=\"small-size\" style=\"cursor: pointer;\"\r\n                (click)=\"priceCol = !priceCol;sortTable('price')\">\r\n                <b>{{'Price' | translate}}</b>\r\n                <i nz-icon [nzType]=\"priceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"17%\" nzAlign='right'>\r\n                <b>{{'Hidden not for sale' | translate}}</b>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let data of hiddenList.data\"  >\r\n              <td style=\"padding: 0;\" nzAlign='center'>\r\n                <img style=\"width: 36px;\" [src]=\"data.img ? data.img : './assets/icon/management/noimage.svg'\">\r\n              </td>\r\n              <td style=\"color: var(--ion-color-vh-green);\" class=\"small-size\">{{ data.name }}</td>\r\n              <td>{{ data.unit }}</td>\r\n              <td>{{ data.barcode }}</td>\r\n              <td>{{ data.name_category }}</td>\r\n              <td nzAlign='right' class=\"small-size money-right\">{{vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n              <td class=\"money-right\">\r\n                <nz-switch   [(ngModel)]=\"data.delete_hidden\"\r\n                  (ngModelChange)=\"updateProductByField(data._id,{delete_hidden: data.delete_hidden})\">\r\n                </nz-switch>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </nz-table>\r\n      </nz-tab>\r\n    </nz-tabset>\r\n  </div>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { ToppingComponent } from './topping.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component:  ToppingComponent\r\n  },\r\n  {\r\n    path: 'add',\r\n    component:  AddComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component:  DetailComponent\r\n  },\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ToppingComponent,\r\n    AddComponent,\r\n    DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    ScrollingModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    IonicModule\r\n  ]\r\n})\r\nexport class ToppingModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}