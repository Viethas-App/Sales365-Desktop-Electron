{"version":3,"file":"src_app_cafe_desktop_menu_management_invoice_temporary-order-invoice_temporary-order-invoice_-c310f0.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/invoice/temporary-order-invoice/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-order-invoice/detail/detail.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-order-invoice/temporary-order-invoice.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-order-invoice/temporary-order-invoice.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-order-invoice/temporary-order-invoice.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhOrderInvoice, VhOrderInvoiceDetail, VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { SalesK57Col3Component } from 'src/app/cafe/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/cafe/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesA5Component } from 'src/app/cafe/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/cafe/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA4Component } from 'src/app/cafe/components/print/sales/sales-a4/sales-a4.component';\r\nimport { ProductService } from 'src/app/cafe/services/product.service';\r\nimport { VhType } from 'src/app/cafe/interface/vh-type';\r\nimport { DatePipe } from '@angular/common';\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices\r\n  tableHeight: string;\r\n  printer: any;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  display_promotion_selling_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price;\r\n  show_discount_product = this.vhAuth.localStorageGET(\"show_discount_product\");\r\n  public VhType = VhType;\r\n\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    public FunctionService:FunctionService,\r\n    public productService: ProductService,\r\n    private datePipe: DatePipe,\r\n  ) {\r\n    let data = this.router.getCurrentNavigation().extras.state.data;\r\n    this.getDataInvoice(data._id)\r\n    this.init(data.bill_type)\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\") ? this.vhQueryCafe.getlocalPrinters().find(item => item.name == \"DESKTOP\").sales : { show_discount: true, show_fee: true, show_tax: true, show_note: true, show_rest: true }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-return-invoice-detail\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-return-invoice-detail-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#sales-return-invoice-detail\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-return-invoice-detail-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  init(invoice: VhOrderInvoice = null, invoiceDetail: VhOrderInvoiceDetail[] = null) {\r\n    console.log(invoiceDetail);\r\n    this.invoice = new VhOrderInvoices(invoice, invoiceDetail, this.vhQueryCafe);\r\n    if(this.invoice.getInvoiceDetail().length && this.productService.isContainServiceTime(this.invoice)) {\r\n      this.endTime = new Date();\r\n      // set lại price\r\n      this.invoice.getInvoiceDetail()?.forEach((item, index) => {\r\n        if (item.ptype === VhType.SERVICETIME && !item.is_paused) {\r\n          const newItem = { ...item, time_end_order: this.endTime };\r\n          const serviceTimePrice: any = this.productService.calculateServiceTimePrice(newItem, this.endTime, this.invoice.getPriceType());\r\n          newItem.price = serviceTimePrice.total_price;\r\n          newItem.price_origin = serviceTimePrice.total_price;\r\n          this.invoice.getInvoiceDetail()[index] = {...newItem};\r\n        }\r\n      });\r\n      // Tính lại total cho bill\r\n      this.invoice.setSubTotal();\r\n    }\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType()),\r\n        table: this.invoice.getIdArea() == \"go_home\" ? this.languageService.translate(\"Take away\") : `${this.vhQueryCafe.getlocalArea(this.invoice.getIdArea()).name} - ${this.vhQueryCafe.getlocalTable(this.invoice.getIdTable()).name}`\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        this.init(invoice, this.vhAlgorithm.sortDatebyASC(invoiceDetail, 'time_start_order'))\r\n        this.vhComponent.hideLoading(0)\r\n        console.log(this.invoice.getInvoiceDetail());\r\n      })\r\n    })\r\n  }\r\n\r\n  saveInvoice() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQueryCafe.saveBill_Billdetail(this.invoice.getID(), 1)\r\n        .then(() => {\r\n          console.log(\"success\");\r\n          this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Thanh toán hóa đơn thành công\"))\r\n          this.vhComponent.hideLoading(0)\r\n          if (this.invoice.getIdTable() != 'go_home') this.vhQueryCafe.updateTable(this.invoice.getIdTable(), { status: false })\r\n            .then((bool: any) => {\r\n              this.goBack();\r\n            }, error => {\r\n              console.log('error', error);\r\n            })\r\n          else this.goBack();\r\n        })\r\n    })\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/invoice/temporary-order-invoice'], {\r\n      state: this.dataRestore\r\n    });\r\n  }\r\n\r\n  goToCart() {\r\n    if (this.vhAuth.checkMyPermission('sell_enable_edit_bill')) {\r\n      this.router.navigate(['/cafe/dashboard/management/invoice/temporary-order-invoice/edit'],\r\n        {\r\n          state: {\r\n            invoiceDetail: this.invoice.getInvoiceDetail(),\r\n            invoice: this.invoice.getCreateUpdateInvoice(),\r\n            dataRestore: this.dataRestore\r\n          }\r\n        })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n\r\n  }\r\n\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Confirmed delete\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQueryCafe.deleteBill_Billdetail(this.invoice.getID()).then(() => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.vhComponent.showToast(2000,\r\n                  `${this.languageService.translate(\"Sales invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                this.router.navigate(['/cafe/dashboard/management/invoice/temporary-order-invoice'], {\r\n                  state: { ...this.dataRestore, reload: true }\r\n                });\r\n              })\r\n            })\r\n          })\r\n        }, () => { })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.updateServiceTime();\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer, invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`)\r\n      }\r\n    }, (err) => {\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/cafe/dashboard/printer']))\r\n    })\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  export() {\r\n    let data = new Array();\r\n    let name = this.languageService.translate(\"Sales invoice\");\r\n    for (let i in this.invoice.getInvoiceDetail()) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"No.\")] = parseInt(i) + 1;\r\n      item[this.languageService.translate(\"Product name\")] = this.invoice.getInvoiceDetail()[i].name;\r\n      // item[this.languageService.translate(\"Menu\")] = this.vhQueryCafe.getlocalCategory(this.invoice.getInvoiceDetail()[i].id_category).name;\r\n      if(this.invoice.getInvoiceDetail()[i].ptype !== VhType.SERVICETIME) {\r\n        item[this.languageService.translate(\"Unit\")] = this.getUnit(this.invoice.getInvoiceDetail()[i].units, this.invoice.getInvoiceDetail()[i].ratio);\r\n        item[this.languageService.translate(\"Quantity\")] = this.invoice.getInvoiceDetail()[i].quantity;\r\n        item[this.languageService.translate(\"Unit price\")] = this.vhAlgorithm.vhcurrencyunit(this.invoice.getInvoiceDetail()[i].price);\r\n      }\r\n      else {\r\n        item[this.languageService.translate(\"Quantity\")] = this.productService.generateTimeUseString(this.invoice.getInvoiceDetail()[i].time_start_order, this.invoice.getInvoiceDetail()[i].time_end_order);\r\n        item[this.languageService.translate(\"Unit price\")] = this.datePipe.transform(this.invoice.getInvoiceDetail()[i].time_start_order, 'HH:mm:ss dd/MM/yyyy') + \" - \" + this.datePipe.transform(this.invoice.getInvoiceDetail()[i].time_end_order, 'HH:mm:ss dd/MM/yyyy');\r\n      }\r\n      item[this.languageService.translate(\"Total\")] = this.vhAlgorithm.vhcurrencyunit(this.invoice.getInvoiceDetail()[i].quantity * this.invoice.getInvoiceDetail()[i].price)\r\n\r\n      data.push(item);\r\n    }\r\n    if (this.printer.show_tax) {\r\n      let tax: any = new Object();\r\n      tax[this.languageService.translate(\"No.\")] = \"\";\r\n      tax[this.languageService.translate(\"Product name\")] = \"\"\r\n      // tax[this.languageService.translate(\"Menu\")] = \"\";\r\n      tax[this.languageService.translate(\"Unit\")] = \"\";\r\n      tax[this.languageService.translate(\"Quantity\")] = this.languageService.translate(\"Tax\");\r\n      tax[this.languageService.translate(\"Unit price\")] = \"\";\r\n      tax[this.languageService.translate(\"Total\")] = `(${this.vhAlgorithm.vhpercent(this.invoice.getTax() / 100)})${this.vhAlgorithm.vhcurrencyunit(this.invoice.getTaxValue())}`;\r\n      data.push(tax);\r\n    }\r\n\r\n\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"No.\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = \"\";\r\n    // total[this.languageService.translate(\"Menu\")] = \"\";\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit price\")] = \"\";\r\n    total[this.languageService.translate(\"Total\")] = this.vhAlgorithm.vhcurrencyunit(this.invoice.getTotalATax())\r\n    data.push(total);\r\n    let date: any = new Object()\r\n    date[this.languageService.translate(\"No.\")] = this.languageService.translate(\"Date\");\r\n    date[this.languageService.translate(\"Product name\")] = this.FunctionService.formatDate(this.invoice.getDate())\r\n    // date[this.languageService.translate(\"Menu\")] = \"\";\r\n    date[this.languageService.translate(\"Unit\")] = \"\";\r\n    date[this.languageService.translate(\"Quantity\")] = \"\"\r\n    date[this.languageService.translate(\"Unit price\")] = \"\";\r\n    date[this.languageService.translate(\"Total\")] = \"\"\r\n    data.push(date);\r\n    this.vhAlgorithm.exportXLSX(data, name)\r\n  }\r\n\r\n\r\n\r\n  /* ---------------------------------------------------------- DỊCH VỤ THỜI GIAN --------------------------------------------------------- */\r\n\r\n  /** Thời gian mở bill, dùng để tính thời gian cho Dịch vụ thời gian */\r\n  endTime: Date = new Date();\r\n\r\n\r\n\r\n  /**\r\n   * Tính lại bill detail cho Dịch vụ thời gian và setSubTotal() cho invoice\r\n   */\r\n  updateServiceTime() {\r\n    if(!this.productService.isContainServiceTime(this.invoice)) return;\r\n    this.productService.updateServiceTimePriceInvoiceDetail(this.invoice.getInvoiceDetail(), this.invoice.getPriceType());\r\n    this.invoice.setSubTotal();\r\n    console.log('updateServiceTime', this.invoice.getInvoiceDetail());\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"sales-return-invoice-detail\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header sales-return-invoice-detail-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"8\" class=\"title\">\r\n                    <b>{{'Sales invoice'|translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n                    <button (click)=\"export()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                        nzType=\"default\">\r\n                        <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                        {{'Download' | translate}}\r\n                    </button>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n                    <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                        nzType=\"default\">\r\n                        <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                        {{'Print' | translate}}\r\n                    </button>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n                    <button (click)=\"goToCart()\" [disabled]=\"invoice.getBillType() == 4\"\r\n                        class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                        <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/Iconfeather-edit.svg\"></ion-icon>\r\n                        {{'Edit' | translate}}\r\n                    </button>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n                    <button [disabled]=\"invoice.getBillType() == 4\" (click)=\"deleteInvoice()\"\r\n                        class=\"btn-data nz-hover-border center-all-content\" nz-button nzType=\"default\">\r\n                        <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n                        {{'Delete' | translate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"custom-scroll-bar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" *ngIf=\"show_discount_product\" nzAlign='right'><b>{{'Discount value' |\r\n                                        translate}}</b></th>\r\n                                <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                                <ng-container *ngIf=\"item.id_promotion\">\r\n                                    <tr style=\"cursor: pointer;\">\r\n                                        <td colspan=\"5\"><b>{{item.name}}</b></td>\r\n                                    </tr>\r\n                                    <ng-container *ngFor=\"let data of item.products\">\r\n                                        <tr style=\"cursor: pointer;\" >\r\n                                            <td>\r\n                                                {{data.name}} <br>\r\n                                                <ng-container *ngIf=\"data.lots\">\r\n                                                    <div>{{getLotNumber(data.lots, data.id_lotproduct)}}</div> <br>\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"data.combos\">\r\n                                                    <span class=\"sub-name\" *ngFor=\"let combo of data.combos\">\r\n                                                        {{combo.quantity}}x {{combo.name}}\r\n                                                        ({{getUnit(combo.units,combo.ratio)}})\r\n                                                        <ng-container *ngIf=\"combo.lots\">\r\n                                                            <div\r\n                                                                style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                                        </ng-container>,\r\n                                                    </span>\r\n                                                </ng-container>\r\n                                            </td>\r\n                                            <td nzAlign='center'>\r\n                                                {{getUnit(data.units, data.ratio)}}\r\n                                            </td>\r\n                                            <td nzAlign='center'>{{data.quantity}}</td>\r\n                                            <td nzAlign='right'>\r\n                                                {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                                                <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                                                    {{data.price_origin > data.price ?\r\n                                                    vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                                </del>\r\n                                            </td>\r\n                                            <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                                            <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                                    data.price)}}</b></td>\r\n                                        </tr>\r\n                                        <tr style=\"cursor: pointer;\" *ngFor=\"let toping of data.toppings\">\r\n                                            <td>\r\n                                                <span class=\"sub-name\" style=\"padding-left:8px;\">{{toping.name}}</span>\r\n                                            </td>\r\n                                            <td nzAlign='center'>{{toping.quantity| number:'1.0-2'}}</td>\r\n                                            <td nzAlign='right'>\r\n                                                {{vhAlgorithm.vhcurrencyunit(toping.price)}}\r\n                                                <del style=\"font-size: 0.7rem;\">\r\n                                                    {{toping.price_origin > toping.price ?\r\n                                                    vhAlgorithm.vhcurrencyunit(toping.price_origin)\r\n                                                    : ''}}\r\n                                                </del>\r\n                                            </td>\r\n                                            <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(toping.price_origin > toping.price ? ((1 - toping.price/toping.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                                            <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(toping.quantity *\r\n                                                    toping.price)}}</b>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </ng-container>\r\n                                    <ng-container *ngFor=\"let data of item.products_gift\">\r\n                                        <tr  >\r\n                                            <td>{{data.name}} <i>({{'Gift' | translate}})</i><br>\r\n                                                <ng-container *ngIf=\"data.lots\">\r\n                                                    {{getLotNumber(data.lots, data.id_lotproduct)}} <br>\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"data.combos\">\r\n                                                    <span class=\"sub-name\"\r\n                                                        *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}}\r\n                                                        ({{getUnit(combo.units,combo.ratio)}})\r\n                                                        <ng-container *ngIf=\"combo.lots\">\r\n                                                            <div\r\n                                                                style=\"font-size:0.7rem !important;\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                                        </ng-container>,\r\n                                                    </span>\r\n                                                </ng-container>\r\n                                            </td>\r\n                                            <td nzAlign='center'>\r\n                                                {{getUnit(data.units, data.ratio)}}\r\n                                            </td>\r\n                                            <td nzAlign='center'>{{data.quantity}}</td>\r\n                                            <td nzAlign='right'>\r\n                                                {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                                                <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                                                    {{data.price_origin > data.price ?\r\n                                                    vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                                </del>\r\n                                            </td>\r\n                                            <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                                            <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                                    data.price)}}</b></td>\r\n                                        </tr>\r\n                                        <tr style=\"cursor: pointer;\" *ngFor=\"let toping of data.toppings\">\r\n                                            <td>\r\n                                                <span class=\"sub-name\" style=\"padding-left:8px;\">{{toping.name}}</span>\r\n                                            </td>\r\n                                            <td nzAlign='center'>{{toping.quantity| number:'1.0-2'}}</td>\r\n                                            <td nzAlign='right'>\r\n                                                {{vhAlgorithm.vhcurrencyunit(toping.price)}}\r\n                                                <del style=\"font-size: 0.7rem;\">\r\n                                                    {{toping.price_origin > toping.price ?\r\n                                                    vhAlgorithm.vhcurrencyunit(toping.price_origin)\r\n                                                    : ''}}\r\n                                                </del>\r\n                                            </td>\r\n                                            <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(toping.price_origin > toping.price ? ((1 - toping.price/toping.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                                            <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(toping.quantity *\r\n                                                    toping.price)}}</b>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </ng-container>\r\n                                   \r\n                                    \r\n                                </ng-container>\r\n                                <tr style=\"cursor: pointer;\" *ngIf=\"!item.id_promotion\">\r\n                                    <td>\r\n                                        {{item.name}}\r\n                                        <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                            <br><span>Số lô: {{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n                                        </ng-container>\r\n                                        <br>\r\n                                        <ng-container *ngIf=\"item.ptype == 5\">\r\n                                            <ng-container *ngIf=\"item.combos\">\r\n                                                <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n                                                    {{combo.quantity}}x {{combo.name}}\r\n                                                    ({{getUnit(combo.units,combo.ratio)}})\r\n                                                    <ng-container *ngIf=\"combo.lots\">\r\n                                                        <div\r\n                                                            style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</div>\r\n                                                    </ng-container>,\r\n                                                </span>\r\n                                            </ng-container>\r\n                                        </ng-container>\r\n                                        <ng-container *ngFor=\"let property of item.properties ? item.properties : [];\">\r\n                                            <span class=\"sub-name\">\r\n                                                {{property.name}} - {{property.selectedValue}}</span><br>\r\n                                        </ng-container>\r\n                                        <!-- Hàng thời gian -->\r\n                                        <div *ngIf=\"item.ptype === VhType.SERVICETIME\" class=\"bill-detail-area-item-time\">\r\n                                            <p *ngIf=\"item.time_start_order\">{{'Started at' | translate}}: {{item.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}}</p>\r\n                                            <p *ngIf=\"item.time_end_order\"\r\n                                                [ngStyle]=\"{'color': item.is_paused ? 'var(--ion-color-vh-orange)' : ''}\">\r\n                                                {{'Estimated until' | translate}}: {{item.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}\r\n                                            </p>\r\n                                            <ng-container *ngIf=\"productService.generateTimeUseString(item.time_start_order, item.time_end_order) as usedTime\">\r\n                                                <p>{{ 'Used' | translate }}: {{ usedTime }}</p>\r\n                                            </ng-container>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">({{getUnit(item.units,item.ratio)}})</ng-container>\r\n                                        <!-- <ng-container *ngIf=\"item.ptype === VhType.SERVICETIME\">({{getUnit(item.units,item.ratio) | translate}})</ng-container> -->\r\n                                    </td>\r\n                                    <td nzAlign='center'><ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">{{item.quantity | number:'1.0-2'}}</ng-container></td>\r\n                                    <td nzAlign='right'>\r\n                                        <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                            <del style=\"font-size: 0.7rem;\">\r\n                                                {{item.price_origin > item.price ?\r\n                                                vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                                : ''}}\r\n                                            </del>\r\n                                        </ng-container>\r\n                                    </td>\r\n                                    <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(item.price_origin > item.price ? ((1 - item.price/item.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity *\r\n                                            item.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr style=\"cursor: pointer;\" *ngFor=\"let data of item.toppings\">\r\n                                    <td>\r\n                                        <span class=\"sub-name\" style=\"padding-left:8px;\">{{data.name}}</span>\r\n                                        \r\n                                    </td>\r\n                                    <td> ({{getUnit(data.units,1)}})</td>\r\n                                    <td nzAlign='center'>{{data.quantity| number:'1.0-2'}}</td>\r\n                                    <td nzAlign='right'>\r\n                                        {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                                        <del style=\"font-size: 0.7rem;\">\r\n                                            {{data.price_origin > data.price ?\r\n                                            vhAlgorithm.vhcurrencyunit(data.price_origin)\r\n                                            : ''}}\r\n                                        </del>\r\n                                    </td>\r\n                                    <td nzAlign='center'  *ngIf=\"show_discount_product\">{{(data.price_origin > data.price ? ((1 - data.price/data.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                            data.price)}}</b>\r\n                                    </td>\r\n                                </tr>\r\n                                \r\n\r\n                            </ng-container>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Table' | translate}}</b>\r\n                    <div>{{invoiceInfo['table']}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.getRetailName()\" nz-col nzSpan=\"24\">\r\n                    {{invoice.getRetailName()}} - {{invoice.getRetailPhone()}} {{invoice.getRetailAddress() ? '-':\r\n                    ''}} {{invoice.getRetailAddress()}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n\r\n                <div class=\"bill-area-item\" *ngIf=\"invoice.getDiscountBill()\" nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;align-items: center;\">\r\n                    <div class=\"bill-area-item-title\">{{'Discount' | translate}}</div>\r\n                    \r\n                    <div class=\"bill-area-item-value\">\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getDiscountBill())}}\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"invoice.getDiscountPoint()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n                    <div>{{'Point payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountPoint())}}</div>\r\n                </div>\r\n                <div *ngIf=\"invoice.getDiscountCoupon()\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\"  style=\"display: flex;justify-content: space-between;align-items: center;\" >\r\n                    <div>{{'Coupon payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountCoupon())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\"  *ngIf=\"printer.show_fee\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"printer.show_tax\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\"  *ngIf=\"printer.show_rest\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\"  *ngIf=\"printer.show_note\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n@Component({\r\n  selector: 'app-temporary-order-invoice',\r\n  templateUrl: './temporary-order-invoice.component.html',\r\n  styleUrls: ['./temporary-order-invoice.component.scss']\r\n})\r\nexport class TemporaryOrderInvoiceComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()]; // biến khởi tạo ngày cho bộ chọn ngày\r\n  public invoices: any[]; // biến chứa dữ liệu hóa đơn, lấy từ db hoặc stage khi truyefn dữ liệu\r\n   \r\n  searchValue: any = ''; // biến chứa giá trị hi tìm dữ liệu\r\n  listFilter: Array<any> = [// biến chứa danh sách lọc cho dữ liệu\r\n    { value: 1, name: \"Latest\" },\r\n    { value: 2, name: \"Oldest\" },\r\n    { value: 3, name: \"Low to High value\" },\r\n    { value: 4, name: \"High to Low value\" }]\r\n  public filterType: 1 | 2 | 3 | 4 = 1; // biến chưa giá trị lọc select\r\n \r\n   \r\n  tableHeight: string; // biến bắt chìu cao cho table để scroll\r\n  invoiceShow: any = []; // biến chứa dữ liệu hóa đơn để show ra template\r\n  totalValInvoice: any = 0; // biến chưa tổng giá trị dữ liệu hóa đơn\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state // biến lấy lại giá trị khi chuyền stage qua lại\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public lang: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth,\r\n    private datePipe: DatePipe,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log(this.dataRestore);\r\n    \r\n    if (this.dataRestore) { // bắt dữ liệu khi có state\r\n      this.date = [new Date(this.dataRestore.startTime), new Date(this.dataRestore.endTime)];\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.filterType = this.dataRestore.filterType\r\n       \r\n       \r\n      this.invoices = this.dataRestore.invoice\r\n      this.invoiceShow = this.invoices\r\n      if (this.dataRestore.reload) this.getInvoices()\r\n    }\r\n    else {\r\n      this.filterType = 1;  \r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() { // bắt chìu cao để scroll\r\n    if (document.querySelector(\"#sales-return-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-tabs-nav\") && document.querySelector(\".invoice-header\")) {\r\n      this.tableHeight = document.querySelector(\"#sales-return-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".invoice-header\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - 60 + \"px\";\r\n      if (document.querySelector(\".ant-table-pagination\")) {\r\n        this.tableHeight = document.querySelector(\"#sales-return-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".invoice-header\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - 90 + \"px\";\r\n      }\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * get danh sách hóa đơn bán lưu tạm\r\n   * @example this.getInvoices()\r\n   */\r\n  getInvoices() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => {\r\n      this.vhQueryCafe.getBills_byFields({ date: { $gte: new Date(this.date[0]), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, bill_type: { $in: [5] }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }, {})\r\n        .then((invoice: any[]) => {\r\n          console.log(invoice);\r\n          \r\n          this.invoices = invoice.map(item => {\r\n            return { ...item, partner_name: this.renderPartner(item.id_customer), payment_name: this.renderPayment(item.payment_type, item.id_wallet),   employee_name: this.renderEmployee(item.id_employee) }\r\n          })\r\n          this.sortFilter(1)\r\n          this.vhComponent.hideLoading(0);\r\n        })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về tên khách hàng\r\n   * @example let customer = this.renderPartner('DKLJWNIUDHWIUHGDIWD')\r\n   */\r\n  renderPartner(id_partner: string) {\r\n    let customer: string = this.lang.translate(this.vhQueryCafe.getlocalCustomer(id_partner).name)\r\n    return customer ? customer : this.lang.translate(\"Not found\")\r\n  }\r\n\r\n  /**\r\n   * trả về tên nv tạo đơn\r\n   * @example let employee = this.renderEmployee('DNIWUHDNIKWUHDQOIUH')\r\n   */\r\n  renderEmployee(id_employee: string) {\r\n    let employee: string = this.vhAuth.getlocalEmployee(id_employee).name\r\n\r\n    return employee ? employee : this.lang.translate(\"Not found\")\r\n  }\r\n\r\n  /**\r\n   * trả về tên phương thức thanh toán\r\n   * @example let payment = this.renderPayment(1)\r\n   */\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.lang.translate('Cash')\r\n      case 2: return this.lang.translate('Debit')\r\n      case 3: return this.vhQueryCafe.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/invoice']);\r\n  }\r\n  \r\n  /**\r\n   * bắt sk thay đổi khoảng thời gian xem hóa đơn \r\n   * @param event \r\n   */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n      //this.getTransferList();\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.lang.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.lang.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n \r\n  /**\r\n   * sort invoiceSegment\r\n   * @example this.sortFilter(1)\r\n   */\r\n  sortFilter(filterType: 1 | 2 | 3 | 4) {\r\n    switch (filterType) {\r\n      case 1: this.invoices.sort((prev, next) => Date.parse(next.date) - Date.parse(prev.date));  break;\r\n      case 2: this.invoices.sort((prev, next) => Date.parse(prev.date) - Date.parse(next.date));  break;\r\n      case 3: this.invoices.sort((prev, next) => (prev.total * (1 + prev.tax / 100)) - (next.total * (1 + next.tax / 100))); break;\r\n      case 4: this.invoices.sort((prev, next) => (next.total * (1 + next.tax / 100)) - (prev.total * (1 + prev.tax / 100)));  break;\r\n    }\r\n\r\n    this.searchBill(this.searchValue)\r\n  }\r\n  /**\r\n   * lọc hóa đơn theo ['bill_code', 'partner_name', 'payment_name', 'name_employee', 'status']\r\n   * @param value \r\n   * @example this.searchBill('')\r\n   */\r\n  searchBill(value: string) {\r\n    if (value && value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoices, ['bill_code', 'partner_name', 'payment_name', \"employee_name\"])\r\n    } else this.invoiceShow = [...this.invoices]\r\n\r\n    this.totalValInvoice = this.getTotal()\r\n  }\r\n\r\n  getTotal() {\r\n    return this.invoiceShow.reduce((prev: number, next) => prev + next.total * (1 + next.tax / 100), 0)\r\n  }\r\n\r\n  goToDetail(data) {\r\n    let dataRestore = { startTime: this.date[0], endTime: this.date[1],  searchValue: this.searchValue, filterType: this.filterType, invoice: this.invoices }\r\n    this.router.navigate(['/cafe/dashboard/management/invoice/temporary-order-invoice/detail'], {\r\n      state: {\r\n        data: data,\r\n        dataRestore,\r\n      }\r\n    })\r\n  }\r\n  format_date(date, type) {\r\n    return this.datePipe.transform(date, type)\r\n  }\r\n  renderNameExcel(selectedIndex) {\r\n    switch (selectedIndex) {\r\n      case 0: return `${this.lang.translate('Sales invoice')} (${this.lang.translate('Sold')})`\r\n      case 1: return `${this.lang.translate('Sales invoice')} (${this.lang.translate('Cancelled')})`\r\n    }\r\n\r\n  }\r\n  //xuất excel hóa đơn\r\n  export() {\r\n    let data = [];\r\n    let name = `${this.lang.translate('Hoa_don_luu_tam_ban_hang')}_${this.lang.translate(\"_from\")}_${this.format_date(this.date[0], 'dd_MM_yyyy')}_${this.lang.translate(\"_to\")}_${this.format_date(this.date[0], 'dd_MM_yyyy')}_${this.vhAlgorithm.changeAlias(this.vhQueryCafe.getDefaultBranch().name).replace(/\\s/g, \"_\")}`;\r\n    let total: any = new Object();\r\n    total[this.lang.translate('Date')] = ''\r\n    total[this.lang.translate('Invoice code')] = this.lang.translate('Total')\r\n    total[this.lang.translate('Customer')] = ''\r\n    total[this.lang.translate('Payment method')] = ''\r\n    total[this.lang.translate('Employee')] = ''\r\n    total[this.lang.translate('Note')] = ''\r\n    total[this.lang.translate('Total')] = this.vhAlgorithm.vhcurrencyunit(this.totalValInvoice)\r\n    data.push(total)\r\n    for (let bill of this.invoiceShow) {\r\n      let item: any = new Object();\r\n      item[this.lang.translate('Date')] = this.format_date(bill.date, 'dd/MM/yyyy HH:mm')\r\n      item[this.lang.translate('Invoice code')] = bill.bill_code\r\n      item[this.lang.translate('Customer')] = bill.partner_name\r\n      item[this.lang.translate('Payment method')] = `${bill.payment_name} ${(bill.payment - bill.total < 0 && bill.payment_type != 2) ? `- ${this.lang.translate('Rest')} ${this.vhAlgorithm.vhcurrencyunit((bill.total * (1 + bill.tax / 100)) - bill.payment)}` : ''}`\r\n      item[this.lang.translate('Employee')] = bill.employee_name\r\n      item[this.lang.translate('Note')] = bill.note\r\n      item[this.lang.translate('Total')] = this.vhAlgorithm.vhcurrencyunit(bill.total * (1 + bill.tax / 100))\r\n      data.push(item);\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name)\r\n  }\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  payment_nameCol = false;\r\n  employee_nameCol = false;\r\n  totalCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collect\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if(this.partner_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.payment_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'employee_name':\r\n        if(this.employee_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortStringbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'total':\r\n        if(this.totalCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n  </div>\r\n  <nz-layout id=\"sales-return-invoice\">\r\n    <div nz-row class=\"invoice-header\">\r\n      <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n        <b>{{'_Temporary sales invoice' | translate}}</b>\r\n      </div>\r\n      <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n        <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n          <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n            placeholder=\"{{'Search for invoice code, customer name, payment, status, phone' | translate}}\" />\r\n        </nz-input-group>\r\n        <ng-template #suffixIconSearch>\r\n          <i nz-icon nzType=\"search\"></i>\r\n        </ng-template>\r\n      </div>\r\n      <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n        <nz-select [(ngModel)]=\"filterType\" (ngModelChange)=\"sortFilter($event)\" nzBorderless>\r\n          <nz-option *ngFor=\"let item of listFilter\" [nzValue]=\"item.value\" [nzLabel]=\"item.name | translate\">\r\n          </nz-option>\r\n        </nz-select>\r\n      </div>\r\n      <div nz-col nzSpan=\"6\" class=\"date-picker-cus\">\r\n        <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n      </div>\r\n      <div nz-col nzSpan=\"4\" class=\"right-all-content button-group\">\r\n        <div>\r\n          <button (click)=\"export()\" class=\"btn-confirm center-all-content\" nz-button nzType=\"default\">\r\n            <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n            {{'Download' | translate}}</button>\r\n        </div>\r\n        <div>\r\n          <button class=\"btn-green center-all-content ml-3\" nz-button nzType=\"default\" (click)=\"getInvoices()\">\r\n            <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n            {{'View' | translate}}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: tableHeight }\"\r\n        [nzData]=\"invoiceShow\" #tableSales nzShowPagination nzShowSizeChanger\r\n        >\r\n        <thead>\r\n          <tr>\r\n            <th nzWidth=\"14%\" nzAlign='left' style=\"cursor: pointer;\" (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n              <b>{{'Date' | translate}}</b>\r\n              <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n            </th>\r\n            <th nzWidth=\"14%\" nzAlign='left'>\r\n              <b>{{'Invoice code' | translate}}</b>\r\n            </th>\r\n            <th nzWidth=\"14%\" nzAlign='left' style=\"cursor: pointer;\"\r\n              (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n              <b>{{'Customer' | translate}}</b>\r\n              <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n            </th>\r\n            <th nzWidth=\"14%\" nzAlign='left' style=\"cursor: pointer;\"\r\n              (click)=\"payment_nameCol = !payment_nameCol;sortTable('payment_name')\">\r\n              <b>{{'Payment method' | translate}}</b>\r\n              <i nz-icon [nzType]=\"payment_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n            </th>\r\n            <th nzWidth=\"14%\" nzAlign='left' style=\"cursor: pointer;\"\r\n              (click)=\"employee_nameCol = !employee_nameCol;sortTable('employee_name')\">\r\n              <b>{{'Employee name' | translate}}</b>\r\n              <i nz-icon [nzType]=\"employee_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n            </th>\r\n            <th nzWidth=\"15%\" nzAlign='left' style=\"cursor: pointer;\">\r\n              <b>{{'Note' | translate}}</b>\r\n            </th>\r\n            <th nzWidth=\"15%\" nzAlign='left' tyle=\"cursor: pointer;\"\r\n              (click)=\"totalCol = !totalCol;sortTable('total')\">\r\n              <b>{{'Total' | translate}}</b>\r\n              <i nz-icon [nzType]=\"totalCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngIf=\"invoiceShow.length != 0\">\r\n            <td nzAlign='left' style=\"color: var(--ion-color-vh-green);\"><b>{{'Total' | translate}}</b>\r\n            </td>\r\n            <td></td>\r\n            <td></td>\r\n            <td></td>\r\n            <td></td>\r\n            <td></td>\r\n            <td nzAlign='left' class=\"money-right\">\r\n              {{vhAlgorithm.vhcurrencyunit_symbol(totalValInvoice)}}</td>\r\n          </tr>\r\n          <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice)\">\r\n            <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n            <td nzAlign='left'>{{invoice.bill_code}}</td>\r\n            <td nzAlign='left'>{{invoice.partner_name |translate}} <br>\r\n              <span *ngIf=\"invoice.retail_name\">({{invoice.retail_name}} -\r\n                {{invoice.retail_phone}} <span>{{invoice.retail_address ? '-':''}}</span>\r\n                {{invoice.retail_address}})</span>\r\n            </td>\r\n            <td nzAlign='left'>{{invoice.payment_name}} <span\r\n                *ngIf=\"(invoice.total*(1+invoice.tax/100) - invoice.payment ) != 0 && invoice.payment_type !=2\">\r\n                -\r\n                {{'Rest'|translate}}\r\n                <b>{{vhAlgorithm.vhcurrencyunit(invoice.total*(1+invoice.tax/100) -\r\n                  invoice.payment )}}</b>\r\n              </span>\r\n            </td>\r\n            <td nzAlign='left'>{{invoice.employee_name}}</td>\r\n            <td nzAlign='left'>{{invoice.note}}</td>\r\n            <td nzAlign='left' class=\"money-right\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total *\r\n              (1 + invoice.tax / 100))}}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </nz-table>\r\n    </div>\r\n  </nz-layout>\r\n  ","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TemporaryOrderInvoiceComponent } from './temporary-order-invoice.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TemporaryOrderInvoiceComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  },\r\n  {\r\n    path: 'edit',\r\n    loadChildren: () => import(\"./edit/edit.module\").then(m => m.EditModule)\r\n  }\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TemporaryOrderInvoiceComponent,DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class TemporaryOrderInvoiceModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}