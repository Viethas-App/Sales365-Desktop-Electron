{"version":3,"file":"src_app_cafe_desktop_menu_management_invoice_temporary-purchase-invoice_temporary-purchase-in-77d7bc.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/info-supplier/info-supplier.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/info-supplier/info-supplier.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/select-supplier/select-supplier.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/select-supplier/select-supplier.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/staff/staff.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/staff/staff.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/tax/tax.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/components/tax/tax.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/detail/detail.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/edit-temporary-purchase/edit-temporary-purchase.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/edit-temporary-purchase/edit-temporary-purchase.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/temporary-purchase-invoice.component.ts","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/temporary-purchase-invoice.component.html","./src/app/cafe/desktop/menu/management/invoice/temporary-purchase-invoice/temporary-purchase-invoice.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-info-supplier',\r\n  templateUrl: './info-supplier.component.html',\r\n  styleUrls: ['./info-supplier.component.scss']\r\n})\r\nexport class InfoSupplierComponent implements OnInit {\r\n\r\n  @Input(\"visibleInfoSupplier\") visibleInfoSupplier: boolean = false;\r\n  @Input(\"supplier\") supplier;\r\n  @Output(\"closeInfoSupplier\") closeInfoSupplier = new EventEmitter<any>();\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  goBack() {\r\n    this.closeInfoSupplier.emit(false)\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"400\" [nzTitle]=\"null\" [nzVisible]=\"visibleInfoSupplier\"\r\n    (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <h3>{{'Supplier information' | translate}}</h3>\r\n        <div class=\"info-customer\" nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <b>{{'Supplier name' | translate}}:</b><span> {{supplier.name}}</span>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <b>{{'Phone number' | translate}}:</b><span> {{supplier.phone}}</span>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <b>{{'Email' | translate}}:</b><span> {{supplier.email}}</span>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <b>{{'Address' | translate}}:</b><span> {{supplier.address}}</span>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <b>{{'Note' | translate}}:</b><span> {{supplier.note}}</span>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-select-supplier',\r\n  templateUrl: './select-supplier.component.html',\r\n  styleUrls: ['./select-supplier.component.scss']\r\n})\r\nexport class SelectSupplierComponent {\r\n  @Input(\"id_supplier\") id_supplier;\r\n  @Output() closeAndReceiveSupplier = new EventEmitter<any>();\r\n  public supplierList: any[] = this.vhQueryCafe.getlocalSuppliers();\r\n  public searchList: any[] = [];\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe\r\n  ) {\r\n    this.searchList = [...this.supplierList];\r\n  }\r\n  selectSuppliers(value) {\r\n    this.closeAndReceiveSupplier.emit(value);\r\n  }\r\n  search(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(tempVal, this.supplierList, ['name','phone'])\r\n    else this.searchList = this.supplierList\r\n  }\r\n}\r\n","<nz-select [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" [ngModel]=\"id_supplier\" (ngModelChange)=\"selectSuppliers($event)\" class=\"cus-select\" nzShowSearch nzPlaceHolder=\"{{'Please select a supplier'| translate}}\">\r\n    <nz-option *ngFor=\"let item of searchList\" nzValue=\"{{item._id}}\" nzLabel=\"{{item.name}} - {{item.phone}} \">\r\n    </nz-option>\r\n</nz-select>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-staff',\r\n  templateUrl: './staff.component.html',\r\n  styleUrls: ['./staff.component.scss']\r\n})\r\nexport class StaffComponent {\r\n  @Input(\"id_employee\") id_employee;\r\n  @Output(\"closeAndReceiveEmployee\") closeAndReceiveEmployee = new EventEmitter<any>();\r\n  public employeeList: any[] = this.vhAuth.getlocalEmployees();\r\n  public searchList: any[] = [];\r\n  search: string;\r\n  constructor(\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.searchList = [...this.employeeList];\r\n    if (!this.id_employee && this.searchList.length) {\r\n      this.id_employee = this.searchList[0]._id\r\n    }\r\n  }\r\n  cancel(value) {\r\n    if (value) this.closeAndReceiveEmployee.emit(value);\r\n  }\r\n  selectEmployees(value) {\r\n    if (value) this.vhComponent.hideModal(value)\r\n  }\r\n\r\n  searchBar(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.searchList = this.vhAlgorithm.searchList(tempVal, this.employeeList, ['name'])\r\n    else this.searchList = this.employeeList\r\n  }\r\n  goBack() {\r\n    this.closeAndReceiveEmployee.emit(false)\r\n  }\r\n\r\n}\r\n","<!-- <nz-modal [nzBodyStyle]=\"{height : '400px'}\" [nzFooter]=\"null\" (nzOnCancel)=\"goBack()\"\r\n    [(nzVisible)]=\"visible_list_employees\" [nzWidth]=\"400\" [nzTitle]=\"modalTitle\">\r\n    <ng-template #modalTitle>\r\n        <nz-input-group class=\"nz-hover-border input\">\r\n            <input class=\"nz-hover-border input\" style=\"font-size: 0.9rem; border-radius: 10px;\" type=\"text\" nz-input\r\n                [(ngModel)]=\"search\" (ngModelChange)=\"searchBar($event)\"\r\n                placeholder=\"{{'Search for employee name'|translate}}\" />\r\n        </nz-input-group>\r\n    </ng-template>\r\n    <ng-container *nzModalContent>\r\n        <nz-list id=\"search-product-item\" nzItemLayout=\"horizontal\">\r\n            <nz-list-item (click)=\"cancel(item)\" *ngFor=\"let item of searchList\" style=\"cursor: pointer;\">\r\n                <nz-list-item-meta nzAvatar=\"{{item.img ? item.img : 'assets/icon/management/noavatar.svg'}}\"\r\n                    nzDescription=\"{{item.name}}\">\r\n                    <nz-list-item-meta-title>\r\n                        {{item.phone}}\r\n                    </nz-list-item-meta-title>\r\n                </nz-list-item-meta>\r\n            </nz-list-item>\r\n            <nz-list-empty *ngIf=\"searchList.length === 0\"></nz-list-empty>\r\n        </nz-list>\r\n    </ng-container>\r\n</nz-modal> -->\r\n<nz-select nzPlaceHolder=\"{{'Select employee' | translate}}\" [ngModel]=\"id_employee\" (ngModelChange)=\"cancel($event)\"\r\n    nzBorderless class=\"cus-select\" nzShowSearch>\r\n    <nz-option *ngFor=\"let item of searchList\" nzValue=\"{{item._id}}\" nzLabel=\"{{item.name}}\">\r\n    </nz-option>\r\n</nz-select>","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-tax',\r\n  templateUrl: './tax.component.html',\r\n  styleUrls: ['./tax.component.scss']\r\n})\r\nexport class TaxComponent implements OnInit {\r\n  @Input(\"id_supplier\") id_supplier = 'id_retail';\r\n  @Input(\"payment_type\") payment_type = 1;\r\n  @Input(\"id_wallet\") id_wallet = 'id_cash';\r\n  @Output('closeAndGetValuePayment') closeAndGetValuePayment = new EventEmitter<any>();\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth\r\n  ) { }\r\n  ngOnInit(): void {\r\n    this.listWallets = this.vhQueryCafe.getlocalWallets().filter(wallet => wallet._id != 'id_cash' && wallet.id_branch == this.vhQueryCafe.getDefaultBranch()._id)\r\n      .map(wallet => { return { label: wallet.name, value: wallet._id, isLeaf: true } })\r\n    this.nzOptions[2].children = this.listWallets;\r\n    if (this.payment_type) {\r\n      if (this.payment_type == 2 || this.payment_type == 1) this.type_payment = [this.payment_type]\r\n      else if (this.payment_type == 3) this.type_payment = [3, this.id_wallet];\r\n    }\r\n  }\r\n  type_payment: any[]\r\n  listWallets: Array<any> = [];\r\n\r\n  nzOptions: NzCascaderOption[] = [\r\n    {\r\n      value: 1,\r\n      label: this.languageService.translate(\"Cash\"),\r\n      isLeaf: true\r\n    },\r\n    {\r\n      value: 2,\r\n      label: this.languageService.translate(\"Debit\"),\r\n      disabled: false,\r\n      isLeaf: true\r\n    },\r\n    {\r\n      value: 3,\r\n      label: this.languageService.translate(\"Account\"),\r\n      children: []\r\n    }]\r\n\r\n  onChanges(event) {\r\n    this.closeAndGetValuePayment.emit(event);\r\n  }\r\n\r\n}\r\n","<nz-cascader [nzOptions]=\"nzOptions\" [nzAllowClear]=\"false\" [(ngModel)]=\"type_payment\"\r\n    nzPlaceHolder=\"{{'Payment method' | translate}}\" (ngModelChange)=\"onChanges($event)\"> </nz-cascader>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQueryCafe, VhAuth, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhPurchaseInvoice, VhPurchaseInvoiceDetail, VhPurchaseInvoices } from 'src/app/cafe/interface/vh-purchase-invoice';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  public invoice: VhPurchaseInvoices\r\n  dataRestore: any;\r\n  printer: any\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService\r\n  ) {\r\n    let data = this.router.getCurrentNavigation().extras.state\r\n    let print = this.vhQueryCafe.getlocalPrinters().find(item => item.desktop)\r\n    this.printer =print  ? print.desktop.purchase[print.desktop.purchase.type] : {discount_hidden :false, note_hidden: false, fee_hidden: false, tax_hidden: false, debt_hidden: false };\r\n    this.dataRestore = data.dataRestore\r\n    this.getDataInvoice(data.data._id)\r\n    this.init(data.data.bill_type)\r\n  }\r\n\r\n  init(invoice: VhPurchaseInvoice = null, invoiceDetail: VhPurchaseInvoiceDetail[] = null) {\r\n    this.invoice = new VhPurchaseInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalSupplier(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhPurchaseInvoiceDetail[] = invoiceDetail\r\n        invoiceDetailFresh = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetailFresh, 'name');\r\n        this.init(invoice, invoiceDetailFresh)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  getLotNumber(lots, _id){\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' +  this.fncService.formatDate(lot.date_exp)\r\n  } \r\n\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"purchase_enable_cancel_bill_temp\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the purchase invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQueryCafe.deleteBill_Billdetail(this.invoice.getID()).then(() => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.vhComponent.showToast(2000,\r\n                  `${this.languageService.translate(\"Purchase invoice\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                this.goBack();\r\n              })\r\n            })\r\n          })\r\n        }, () => { })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public goToCart() {\r\n    if (this.vhAuth.checkMyPermission(\"purchase_enable_edit_bill_temp\")) {\r\n      this.vhQueryCafe.getValidityDate(new Date(this.invoice.getDate())).then((validitydate) => {\r\n        if (validitydate == null) this.router.navigate(['/cafe/dashboard/management/invoice/temporary-purchase-invoice/edit-temporary'], { state: { invoiceDetail: this.invoice.getInvoiceDetail(), invoice: this.invoice.getCreateUpdateInvoice(), dataRestore :this.dataRestore } })\r\n        else this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 4000)\r\n      })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n \r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/invoice/temporary-purchase-invoice'], { state: this.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#temporary-purchase-invoice-detail\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-invoice-detail-today-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#temporary-purchase-invoice-detail\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-invoice-detail-today-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"temporary-purchase-invoice-detail\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header sales-invoice-detail-today-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"18\" class=\"title\">\r\n                    <b>{{'Temporary purchase invoice' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n                    <div style=\"margin-right: 4px;\">\r\n                        <button (click)=\"goToCart()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/Iconfeather-edit.svg\"></ion-icon>\r\n                            {{'Edit' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <div>\r\n                        <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n                            {{'Delete' | translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                                <td>{{item.name}}\r\n                                    <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                        <pre>{{getLotNumber(item.lots, item.id_lotproduct)}}</pre> <br>\r\n                                      </ng-container>\r\n                                </td>\r\n                                <td nzAlign='center'>{{item.quantity}}</td>\r\n                                <td nzAlign='right'>\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    <del style=\"font-size: 0.7rem;\">\r\n                                        {{item.price_origin > item.price ?\r\n                                        vhAlgorithm.vhcurrencyunit(item.price_origin): ''}}\r\n                                    </del>\r\n                                </td>\r\n                                <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Employee' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Purchase date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Supplier information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner\" nz-col nzSpan=\"24\">\r\n                    <div>\r\n                        <p>{{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone | translate}}</p>\r\n                        <p>{{renderAddress(invoiceInfo.partner)}}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"!printer.discount_hidden\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"!printer.fee_hidden\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"!printer.tax_hidden\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"!printer.debt_hidden\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"!printer.note_hidden\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhQueryCafe, VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { PurchaseA4Component } from 'src/app/cafe/components/print/purchase/purchase-a4/purchase-a4.component';\r\nimport { PurchaseA5Component } from 'src/app/cafe/components/print/purchase/purchase-a5/purchase-a5.component';\r\nimport { PurchaseK80Col4Component } from 'src/app/cafe/components/print/purchase/purchase-k80-col4/purchase-k80-col4.component';\r\nimport { PurchaseK80Col3Component } from 'src/app/cafe/components/print/purchase/purchase-k80-col3/purchase-k80-col3.component';\r\nimport { PurchaseK57Col3Component } from 'src/app/cafe/components/print/purchase/purchase-k57-col3/purchase-k57-col3.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhPurchaseInvoices, VhPurchaseInvoiceDetail } from 'src/app/cafe/interface/vh-purchase-invoice';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-edit-temporary-purchase',\r\n  templateUrl: './edit-temporary-purchase.component.html',\r\n  styleUrls: ['./edit-temporary-purchase.component.scss']\r\n})\r\nexport class EditTemporaryPurchaseComponent implements OnInit {\r\n\r\n  invoice: VhPurchaseInvoices = new VhPurchaseInvoices()\r\n  listTax: any[] = this.vhQueryCafe.getlocalTaxs().filter(tax => tax.status);\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  employee: any = {};\r\n  pickerTime = new Date();\r\n  supplier: any;\r\n  printer: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n    private cd: ChangeDetectorRef,\r\n    private nzModalService:NzModalService\r\n  ) {\r\n    let invoice = this.router.getCurrentNavigation().extras.state\r\n    if (invoice.invoice) {\r\n      this.invoice = new VhPurchaseInvoices(invoice.invoice, invoice.invoiceDetail);\r\n      this.note = this.invoice.getNote();\r\n      this.pickerTime = new Date(this.invoice.getDate());\r\n    } else {\r\n      // set nhân viên mặc định\r\n      if (!this.invoice.getIdEmployee())\r\n        this.invoice.setIdEmployee(this.vhAuth.getUser()._id)\r\n      this.employee = this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee());\r\n      this.invoice.setIdBranch(this.vhQueryCafe.getDefaultBranch()._id)\r\n    }\r\n    // ------bắt sự kiện nhấn phím nóng-----\r\n    this.eventKeypress();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.invoice.getID() && this.listTax.length > 0) {\r\n      this.id_tax = this.listTax.find(item => item.value == this.invoice.getTax())._id;\r\n    } else {\r\n      let tax = this.listTax.find(item => item.default);\r\n      if (tax) {\r\n        this.id_tax = tax._id\r\n        this.invoice.setTax(tax['value']);\r\n      }\r\n    }\r\n    let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_purchase')\r\n    this.printer = printer ? printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] : { discount_hidden: false, note_hidden: false, fee_hidden: false, tax_hidden: false, debt_hidden: false };\r\n  }\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n  }\r\n  checkPrinter: boolean = false;\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n      else if (this.invoice.getInvoiceDetail().length > 0 && this.invoice.getIdPartner()) {\r\n        switch (keycode) {\r\n          case 112: this.payInvoice(2, false)\r\n            break;\r\n          case 113: {\r\n            if (this.checkPrinter) this.payInvoice(2, true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  ngAfterViewInit() {\r\n    this.checkPrinter = this.printer.enable;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      if (document.querySelector(\".discount-price\")) this.discount_price = this.vhAlgorithm.vhnumeral(\".discount-price\");\r\n      if (document.querySelector(\".invoice-fee\")) this.invoice_fee = this.vhAlgorithm.vhnumeral(\".invoice-fee\")\r\n    })\r\n    this.cd.detectChanges()\r\n  }\r\n  deleteGoods(detail: VhPurchaseInvoiceDetail, index) {\r\n    this.vhComponent.alertConfirm(\"\", \"\", `${this.languageService.translate(\"Delete\")} ${detail.name}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        if (!this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').show_product_mutil_line_purchase)\r\n          this.invoice.removeInvoiceDetail(detail.id_product)\r\n        else\r\n          this.invoice.getInvoiceDetail().splice(index, 1);\r\n        this.invoice.setSubTotal();\r\n      }, () => { })\r\n  }\r\n  searchProductList: boolean = false;\r\n  openSearchProductList() {\r\n    this.searchProductList = true;\r\n  }\r\n  closeSearchProductList(data) {\r\n    if (data) {\r\n      if (data.manylot && !data.lot_number) this.openModalChooseLot(data)\r\n      else\r\n        if (!this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').show_product_mutil_line_purchase)\r\n          this.invoice.addInvoiceDetail(data);\r\n        else this.invoice.addInvoiceDetailMutilLine(data);\r\n    }\r\n    this.searchProductList = false;\r\n  }\r\n  goBack() {\r\n    this.vhComponent.alertConfirm(`${this.languageService.translate(\"Confirm\")}`, \"\", `${this.languageService.translate(\"Are you sure to cancel the purchase order\")}?`, \"OK\", this.languageService.translate('Cancel'))\r\n      .then(() => { this.isExit = true; this.router.navigate([\"/cafe/dashboard/management/invoice/temporary-purchase-invoice\"], { state: this.dataRestore }) }, () => { })\r\n  }\r\n  checkQuantityProduct(product: VhPurchaseInvoiceDetail, event) {\r\n    if (!event) product.quantity = 1;\r\n    this.invoice.setSubTotal();\r\n  }\r\n  changeUnit(ev, item) {\r\n    let unit = this.vhQueryCafe.getUnit_byRatio(item.units, ev);\r\n    if (unit) {\r\n      item.unit = unit.unit\r\n      item.price = parseFloat(unit.price_import)\r\n      item.ratio = parseFloat(unit.ratio)\r\n      item.price_origin = parseFloat(unit.price_import)\r\n    }\r\n    this.invoice.setSubTotal()\r\n  }\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhPurchaseInvoiceDetail;\r\n  openEditUnitPrice(detail: VhPurchaseInvoiceDetail) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.invoice.setSubTotal();\r\n      this.isVisibleEditUnitPrice = false;\r\n    } else { this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n  // -------set employee-------\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.setIdEmployee(event);\r\n    }\r\n  }\r\n  // ----set supplier-----\r\n  closeAndReceiveSupplier(event) {\r\n    if (event) {\r\n      this.invoice.setIdPartner(event);\r\n    }\r\n  }\r\n  closeAndGetValuePayment(event) {\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0])\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n    }\r\n  }\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.setPaymentType(type)\r\n    switch (type) {\r\n      case 1: this.invoice.setIdWallet('id_cash'); this.invoice.setPayment(); break;\r\n      case 2: this.invoice.setPayment(0); this.invoice.setIdWallet(null); break\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.setIdWallet(id_wallet)\r\n          this.invoice.setPayment()\r\n        }\r\n      }\r\n    }\r\n  }\r\n  setPickerTime(event) {\r\n\r\n    if (event.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 8000)\r\n      this.pickerTime = new Date(this.invoice.getDate())\r\n      this.invoice.setDate(this.pickerTime);\r\n    }\r\n    else\r\n      this.vhQueryCafe.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n        if (validitydate == null) this.invoice.setDate(event);\r\n        else {\r\n          this.pickerTime = new Date(this.invoice.getDate())\r\n          this.invoice.setDate(this.pickerTime);\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n        }\r\n      })\r\n  }\r\n  // -------change tax------\r\n  id_tax: string;\r\n  changeTax(event) {\r\n    let tax = this.listTax.find(item => item._id == event);\r\n    this.invoice.setTax(tax.value);\r\n  }\r\n  discount_price: any;\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0) {\r\n      this.invoice.setDiscount(parseFloat(this.discount_price.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.getDiscount();\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n  }\r\n  invoice_fee: any;\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.setFee(parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.getFee();\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n  }\r\n  // -------modal edit pay---------\r\n  edit_pay: boolean = false;\r\n  edit_paytotal: any;\r\n  showModalEditTotalPay() {\r\n    if (this.invoice.getPaymentType() != 2) {\r\n      this.vhAlgorithm.waitingStack().then(() => {\r\n        this.edit_paytotal = this.vhAlgorithm.vhnumeral(\".edit-pay\");\r\n      })\r\n      this.edit_pay = true;\r\n    }\r\n  }\r\n  handleEditPay() {\r\n    if (this.edit_paytotal.getRawValue() >= 0 && this.edit_paytotal.getRawValue() <= this.invoice.getTotalATax()) {\r\n      this.invoice.setPayment(parseFloat(this.edit_paytotal.getRawValue()))\r\n    }\r\n    this.edit_pay = false;\r\n  }\r\n  handleCancelEditPay() {\r\n    this.edit_pay = false;\r\n  }\r\n\r\n  handle() {\r\n    this.dataRestore.invoice = this.dataRestore.invoice.filter(item => item._id != this.invoice.getID())\r\n    this.isExit = true;\r\n    this.router.navigate(['/cafe/dashboard/management/invoice/temporary-purchase-invoice'], { state: this.dataRestore })\r\n  }\r\n  note: string;\r\n  edit_note() {\r\n    if (this.note) {\r\n      this.invoice.setNote(this.note)\r\n    }\r\n  }\r\n\r\n  //--------------visible drawer info customer-----------\r\n  visibleInfoSupplier: boolean = false;\r\n  openInfoSupplier() {\r\n    if (this.invoice.getIdPartner()) {\r\n      this.supplier = this.vhQueryCafe.getlocalSupplier(this.invoice.getIdPartner());\r\n      this.visibleInfoSupplier = true;\r\n    }\r\n  }\r\n  closeInfoSupplier(event) {\r\n    this.visibleInfoSupplier = false;\r\n  }\r\n  payInvoice(bill_type: 2, print?) {\r\n    if (this.vhAuth.checkMyPermission(\"purchase_enable_payment\")) {\r\n      this.vhComponent.alertConfirm(print ? `${this.languageService.translate(\"Save & Print\")}?` : `${this.languageService.translate(\"Save\")}?`,\r\n        \"\", \"\", \"OK\", this.languageService.translate(\"Cancel\")\r\n      ).then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          var arrayProcess: any[] = [this.createOrUpdate(bill_type)];\r\n          Promise.all(arrayProcess).then(bill => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              this.vhComponent.showToast(2000,\r\n                `${this.languageService.translate(\"Purchase invoice\")} ${bill[0].bill_code || this.invoice.getBillCode()} ${this.languageService.translate(\"has been created successfully\")}`, \"success-toast\"\r\n              )\r\n              if (print) this.handlePrint()\r\n              else this.handle()\r\n            })\r\n          })\r\n        })\r\n      }, () => { })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  createOrUpdate(bill_type: 2) {\r\n    return this.vhQueryCafe.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(bill_type), this.invoice.getCreateUpdateInvoiceDetail())\r\n  }\r\n\r\n  updateProduct(billDetail: VhPurchaseInvoiceDetail[], arrayUpdate) {\r\n    if (billDetail.length) {\r\n      for (let i in billDetail) {\r\n        arrayUpdate.push(\r\n          this.vhQueryCafe.updateProduct(billDetail[i].id_product, { price_import: billDetail[i].price })\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQueryCafe.getLocalPrintPage('page_desktop_purchase')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  handlePrint() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer, invoice: this.invoice.getCreateUpdateInvoice() , invoice_detail: this.invoice.getInvoiceDetail()}, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.handle())\r\n        })\r\n    }, (err) => this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n      .then(() => this.handle()))\r\n  }\r\n\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return (PurchaseK57Col3Component)\r\n      case 'print_size_k80_3c': return (PurchaseK80Col3Component)\r\n      case 'print_size_k80_4c': return (PurchaseK80Col4Component)\r\n      case 'print_size_a5': return (PurchaseA5Component)\r\n      case 'print_size_a4': return (PurchaseA4Component)\r\n      default: return (PurchaseA4Component)\r\n    }\r\n  }\r\n  // ------thoát trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n\r\n  show_modal_select_lots = false;\r\n  show_modal_add_lot = false;\r\n  formAddLot: FormGroup;\r\n  disabledAddLot = false;\r\n  list_search_lot = [];\r\n\r\n  getLotNumber(lots, _id){\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number  \r\n  } \r\n  searchLot(value) {\r\n    this.tempDetail.lots = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.list_search_lot, ['lot_number'])\r\n  }\r\n  openModalChooseLot(data) {\r\n    this.show_modal_select_lots = true;\r\n    this.tempDetail = data ;\r\n    this.tempDetail.days_import_warning = this.vhQueryCafe.getlocalDetailProduct(data.id_subproduct ? data.id_subproduct  : data.id_product).days_import_warning\r\n    this.list_search_lot = this.tempDetail.lots\r\n  }\r\n\r\n  changeLot(e) {\r\n    this.tempDetail.lot_number = this.tempDetail.lots.find(item => item._id == e).lot_number\r\n  }\r\n\r\n  handleChooseLot() {\r\n    this.tempDetail.lots = this.list_search_lot;\r\n    let lot = this.tempDetail.lots.find(e => e._id == this.tempDetail.id_lotproduct);\r\n    if (lot && this.getNumberOfDay(new Date(lot.date_exp), new Date()) > this.tempDetail.days_import_warning) {\r\n      if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n      this.show_modal_select_lots = false;\r\n    }\r\n    else {\r\n      this.nzModalService.confirm({\r\n        nzTitle: this.languageService.translate(\"Lô hàng chưa đủ điều kiện!\"),\r\n        nzContent: this.languageService.translate(\"Số lô hàng hiện tại chưa đáp ứng đủ điều kiện nhập hàng, yêu cầu lô hàng phải có hạn sử dụng còn lại tối thiểu là\") + ' ' + this.tempDetail.days_import_warning + ' ' + this.languageService.translate(\"days\") + '.' + this.languageService.translate(\"Xác nhận tiếp tục?\"),\r\n        nzOnCancel: () => { this.tempDetail.id_lotproduct = '' },\r\n        nzOnOk: () => {\r\n          this.show_modal_select_lots = false;\r\n          if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n        }\r\n      })\r\n    }\r\n  }\r\n  /**\r\n     * trả về khoảng cách giữa 2 ngày \r\n     * vd : getNumberOfDay(15/02/2022, 10/02/2022) => return 5\r\n     * */\r\n  getNumberOfDay(date1, date2) {\r\n    return (date1.getTime() - date2.getTime()) / (24 * 3600 * 1000) > 0 ? (date1.getTime() - date2.getTime()) / (24 * 3600 * 1000) : 0\r\n  }\r\n\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.tempDetail.lots = this.list_search_lot;\r\n    if(!this.tempDetail.lot_number) this.deleteGoods(this.tempDetail, this.invoice.getInvoiceDetail().findIndex(e => e.id_product == this.tempDetail.id_product || e.id_subproduct == this.tempDetail.id_subproduct))\r\n  }\r\n\r\n  openAddLot() {\r\n    this.disabledAddLot = false;\r\n    this.show_modal_add_lot = true;\r\n    this.formAddLot = new FormGroup({\r\n      date_mfg: new FormControl(new Date(new Date().setHours(0, 0, 0,)), Validators.compose([Validators.required])),\r\n      date_exp: new FormControl(new Date(new Date().setHours(23, 59, 59,)), Validators.compose([Validators.required])),\r\n      lot_number: new FormControl('', Validators.compose([Validators.required])),\r\n      hidden: new FormControl(false),\r\n      barcode: new FormControl(''),\r\n    })\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      document.getElementById('lotNumberError').style.display = 'none';\r\n    })\r\n  }\r\n\r\n  exist_barcode = false\r\n  checkBarcode() {\r\n    let detailproduct = this.vhQueryCafe.getlocalDetailProduct_byBarcode_Cafe(this.formAddLot.value.barcode);\r\n    if (detailproduct) {\r\n      this.exist_barcode = true;\r\n      this.disabledAddLot = true;\r\n    }\r\n    else {\r\n      this.disabledAddLot = false;\r\n      this.exist_barcode = false;\r\n    }\r\n  }\r\n\r\n  handleAddLot() {\r\n    if (!this.fncService.checkExitsLotNumber(this.formAddLot.value.lot_number)) {\r\n      this.show_modal_add_lot = false;\r\n      console.log(this.tempDetail);\r\n      this.tempDetail.lots = this.tempDetail.lots.concat(this.formAddLot.value)\r\n      if (this.tempDetail.id_subproduct) {\r\n        this.vhQueryCafe.addLotProduct_Cafe(this.tempDetail.id_subproduct,this.formAddLot.value)\r\n          .then((lot: any) => { \r\n            setTimeout(() => {\r\n              this.tempDetail.lots[this.tempDetail.lots.length -1]._id = lot\r\n              this.tempDetail.lot_number = this.formAddLot.value.lot_number;\r\n              console.log('updateProduct', lot);\r\n              this.tempDetail.id_lotproduct = lot\r\n              this.list_search_lot = this.tempDetail.lots\r\n            }, 200);\r\n          }, error => {\r\n            console.log('error', error);\r\n          })\r\n      }\r\n      else {\r\n        this.vhQueryCafe.addLotProduct_Cafe(this.tempDetail.id_product ? this.tempDetail.id_product : this.tempDetail._id, this.formAddLot.value)\r\n          .then((lot: any) => {\r\n            setTimeout(() => {\r\n              this.tempDetail.lots[this.tempDetail.lots.length -1]._id = lot\r\n              this.tempDetail.lot_number = this.formAddLot.value.lot_number;\r\n              console.log('updateProduct', lot);\r\n              this.tempDetail.id_lotproduct = lot\r\n              this.list_search_lot = this.tempDetail.lots\r\n            }, 200);\r\n\r\n          }, error => {\r\n            console.log('error', error);\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      document.getElementById('lotNumberError').style.display = 'block';\r\n      this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Số lô này đã tồn tại\"))\r\n    }\r\n\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{\"Select product\" | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <div>\r\n                        <button class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"openSearchProductList()\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search (F4)' | translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"!invoice.getInvoiceDetail().length\" class=\"no-data\">\r\n                    <p>{{'Please select a product' | translate}}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getInvoiceDetail(),index as i\">\r\n                    <div nz-row>\r\n                        <div (click)=\"deleteGoods(item,i)\" nz-col nzSpan=\"1\" class=\"center-col\">\r\n                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\" class=\"center-col\">\r\n                            <p class=\"max-width-two-line\">\r\n                                <b>{{item.name}}</b>\r\n                                <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                   <br> <span  style=\"color:var(--ion-color-vh-green);cursor: pointer;\"  (click)=\"openModalChooseLot(item)\">{{getLotNumber(item.lots, item.id_lotproduct)}}</span> <br>\r\n                                  </ng-container>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"3\" style=\"align-self: center;\">\r\n                            <nz-select style=\"width: 100%;\" [(ngModel)]=\"item.ratio\" (ngModelChange)=\"changeUnit($event,item)\">\r\n                                <!-- <nz-option [nzLabel]=\"item.unit\" [nzValue]=\"-1\"></nz-option> -->\r\n                                <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n                            </nz-select>\r\n                        </div>\r\n                        <div class=\"text-align-self\" nz-col nzSpan=\"4\">\r\n                            <nz-input-number [nzMax]=\"9999999999\" [nzMin]=\"0.1\" [nzStep]=\"1\" [(ngModel)]=\"item.quantity\"\r\n                                (ngModelChange)=\"checkQuantityProduct(item,$event)\"></nz-input-number>\r\n                        </div>\r\n                        <div (click)=\"openEditUnitPrice(item)\" class=\"invoiceDetail-item-quantity text-end\" nz-col\r\n                            nzSpan=\"4\">\r\n                            <p class=\"max-width-two-line\"><span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                <del style=\"font-size: 0.7rem;\">\r\n                                    {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                    : ''}}\r\n                                </del>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"4\" class=\"money-sub\">\r\n                            <p class=\"max-width-two-line\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Employee' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.getIdEmployee()\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Purchase date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Supplier information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <app-select-supplier [id_supplier]=\"invoice.getIdPartner()\"\r\n                        (closeAndReceiveSupplier)=\"closeAndReceiveSupplier($event)\"></app-select-supplier>\r\n                    <i (click)=\"openInfoSupplier()\" [ngClass]=\"invoice.getIdPartner() ? 'active' : 'deactive'\"\r\n                        style=\"cursor: pointer;\" nz-icon nzType=\"info-circle\" nzTheme=\"outline\"></i>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"!printer.discount_hidden\">\r\n                    <div>{{'Discount' | translate}}</div>\r\n                    <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getDiscount())\"\r\n                        class=\"nz-no-border discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"!printer.fee_hidden\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getFee())\"\r\n                        class=\"nz-no-border invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"!printer.tax_hidden\">\r\n                    <div>{{'Tax' | translate}}</div>\r\n                    <div>\r\n                        <nz-select *ngIf=\"listTax.length\" [(ngModel)]=\"id_tax\" (ngModelChange)=\"changeTax($event)\"\r\n                            nzBorderless>\r\n                            <nz-option *ngFor=\"let item of listTax\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Pay' | translate}}</b></div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit(invoice.getPayment())}}<img (click)=\"showModalEditTotalPay()\"\r\n                            *ngIf=\"invoice.getPaymentType() != 2\" style=\"width: 16px;margin-left:10px\"\r\n                            src=\"assets/icon/Iconfeather-edit.svg\" /></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\" *ngIf=\"!printer.debt_hidden\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div> {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() -\r\n                        invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <app-tax [payment_type]=\"invoice.getPaymentType()\" [id_wallet]=\"invoice.getIdWallet()\"\r\n                        [id_supplier]=\"invoice.getIdPartner()\"\r\n                        (closeAndGetValuePayment)=\"closeAndGetValuePayment($event)\">\r\n                    </app-tax>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\" *ngIf=\"!printer.note_hidden\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"note\" (blur)=\"edit_note()\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!invoice.getInvoiceDetail().length || !invoice.getIdPartner() || !checkPrinter\"\r\n                    (click)=\"payInvoice(2,true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Save & Print\"|translate}} (F2)\r\n                </button>\r\n                <button [disabled]=\"!invoice.getInvoiceDetail().length || !invoice.getIdPartner()\"\r\n                    (click)=\"payInvoice(2,false)\" nz-button class=\"order\">\r\n                    {{\"Save\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- -----nz-drawer list-product-------- -->\r\n<app-search-product-import *ngIf=\"searchProductList\" [searchProductList]=\"searchProductList\"\r\n    (closeSearchProductList)=\"closeSearchProductList($event)\">\r\n</app-search-product-import>\r\n\r\n<!--Modal edit inut price-->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice\" *ngIf=\"isVisibleEditUnitPrice\" [(nzVisible)]=\"isVisibleEditUnitPrice\"\r\n    nzTitle=\"{{'Edit unit price' | translate}}\" (nzOnCancel)=\"handleCancelEditUnit()\" (nzOnOk)=\"handleEditUnit()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Unit price' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input class=\"unit_price\" type=\"text\" maxlength=\"15\" [value]=\"tempDetail.price\" nz-input\r\n                    placeholder=\"{{'Enter unit price' | translate}}\" />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditUnit()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditUnit()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!--Modal edit pay-->\r\n<nz-modal [(nzVisible)]=\"edit_pay\" [nzFooter]=\"modalFooterEditPay\" nzTitle=\"{{'Edit' | translate}}\"\r\n    (nzOnCancel)=\"handleCancelEditPay()\" (nzOnOk)=\"handleEditPay()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Pay' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input [value]=\"vhAlgorithm.vhcurrencyunit(invoice.getPayment())\" class=\"edit-pay\" type=\"text\"\r\n                    maxlength=\"15\" nz-input />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditPay>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditPay()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditPay()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- --------------visible drawer info supplier----------- -->\r\n<app-info-supplier *ngIf=\"visibleInfoSupplier\" [visibleInfoSupplier]=\"visibleInfoSupplier\" [supplier]=\"supplier\"\r\n    (closeInfoSupplier)=\"closeInfoSupplier($event)\"></app-info-supplier>\r\n\r\n<!-- modal chọn lô/HSD -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"tempDetail.id_lotproduct\" (ngModelChange)=\"changeLot($event)\" style=\"width:100%;\">\r\n            <div nz-row *ngFor=\"let item of tempDetail.lots\" >\r\n                <div nz-col nzSpan=\"24\">\r\n                    <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;padding: 8px 0;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"8\">\r\n                                {{item.lot_number}}\r\n                            </div>\r\n                            \r\n                            <div nz-col nzSpan=\"8\">\r\n                                NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                             </div>\r\n                             <div nz-col nzSpan=\"8\">\r\n                                HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                             </div>\r\n                        </div>\r\n                        \r\n                    </label>\r\n                </div>\r\n                \r\n            </div>\r\n        </nz-radio-group>\r\n        <div  *ngIf=\"!tempDetail.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <div style=\"display:flex;justify-content: space-between;\">\r\n            <button nz-button class=\"nz-hover-border\" nzType=\"default\" (click)=\"openAddLot()\">{{\"Add\"\r\n                |translate}}</button>\r\n            <div>\r\n                <button nz-button class=\"nz-hover-border\"\r\n                    style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\"\r\n                    nzType=\"default\" (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n                    |translate}}</button>\r\n                <button nz-button class=\"nz-hover-border\" [disabled]=\"!tempDetail.id_lotproduct\"\r\n                    style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n                    class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- modal add lô -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice3\" *ngIf=\"show_modal_add_lot\" [(nzVisible)]=\"show_modal_add_lot\"\r\n    nzTitle=\"{{'Add new lot' | translate}}\" (nzOnCancel)=\"show_modal_add_lot = false\" (nzOnOk)=\"handleAddLot()\">\r\n    <ng-container *nzModalContent>\r\n        <form nz-form [formGroup]=\"formAddLot\">\r\n            <div nz-row>\r\n                <div nz-col [nzSpan]=\"24\">\r\n                    <nz-form-item style=\"margin:0 0 4px;\">\r\n                        <nz-form-label [nzSpan]=\"24\"><b>{{'Lot number' | translate}}*</b></nz-form-label>\r\n                        <nz-form-control [nzSpan]=\"24\" [nzErrorTip]=\"errorSubsName\">\r\n                            <input nz-input formControlName=\"lot_number\" placeholder=\"{{'Enter lot number' | translate}}\" />\r\n                            <ng-template #errorSubsName let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Please enter lot number' | translate}}\r\n                                </ng-container> \r\n                            </ng-template>\r\n                            <div class=\"validation-errors\" id=\"lotNumberError\">\r\n                                <ng-container>\r\n                                    <div class=\"error-message\">\r\n                                        <ion-text color=\"vh-red\">{{'Lot number already exists'|translate}}\r\n                                        </ion-text>\r\n                                    </div>\r\n                                </ng-container>\r\n                            </div>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                    <div nz-row>\r\n                        <div nz-col [nzSpan]=\"12\">\r\n                            <nz-form-item style=\"margin:0 0 4px;\">\r\n                                <nz-form-label [nzSpan]=\"24\"><b>{{'Date of manufacture' | translate}}*</b></nz-form-label>\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-date-picker formControlName=\"date_mfg\"></nz-date-picker>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col [nzSpan]=\"12\">\r\n                            <nz-form-item style=\"margin:0 0 4px;\">\r\n                                <nz-form-label [nzSpan]=\"24\"><b>{{'Expiration date' | translate}}*</b></nz-form-label>\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-date-picker formControlName=\"date_exp\"></nz-date-picker>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                    <nz-form-item style=\"margin:0 0 4px;\">\r\n                        <nz-form-label [nzSpan]=\"24\"><b>{{'Barcode' | translate}}</b></nz-form-label>\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <input nz-input formControlName=\"barcode\" placeholder=\"{{'Enter barcode' | translate}}\"\r\n                                (keyup)=\"checkBarcode()\" />\r\n                                <ng-container *ngIf=\"exist_barcode\">\r\n                                    <span>{{'This barcode already exists' | translate}}</span>\r\n                                </ng-container>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"show_modal_add_lot = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleAddLot()\"\r\n            [disabled]=\"disabledAddLot || formAddLot.invalid\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQueryCafe, VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhPurchaseInvoice } from 'src/app/cafe/interface/vh-purchase-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-temporary-purchase-invoice',\r\n  templateUrl: './temporary-purchase-invoice.component.html',\r\n  styleUrls: ['./temporary-purchase-invoice.component.scss']\r\n})\r\nexport class TemporaryPurchaseInvoiceComponent implements OnInit {\r\n\r\n  public date: Date[] = [new Date(), new Date()];\r\n  public searchValue: string = ''\r\n  public invoiceShow: any[] = []\r\n  private invoiceFilter: any[] = []\r\n  suppliers = this.vhQueryCafe.getlocalSuppliers()\r\n  public invoices: VhPurchaseInvoice[];\r\n  tableHeight: string;\r\n  totalValInvoice: number = 0;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < this.minDate.getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  minDate: Date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 30)\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.filterType = this.dataRestore.filterType\r\n      this.date = [new Date(this.dataRestore.startTime), new Date(this.dataRestore.endTime)];\r\n      this.invoices = this.dataRestore.invoice\r\n      this.sortFilter(this.filterType)\r\n      this.getMinDate()\r\n      if (this.dataRestore.reload) this.getInvoices()\r\n    }\r\n    else { this.filterType = 'all';  this.getMinDate() }\r\n\r\n    //this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => this.getInvoices())\r\n  }\r\n  /**\r\n  * Lấy ngày giới hạn được xem báo cáo\r\n */\r\n  getMinDate() {\r\n    let date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 61)\r\n    this.vhQueryCafe.getValidityDate(date).then((validitydate: Date) => {\r\n      this.minDate = validitydate\r\n    })\r\n  }\r\n  /**\r\n   * get danh sách hóa đơn nhập lưu tạm\r\n   * @example this.getInvoices()\r\n   */\r\n  getInvoices() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => {\r\n      this.vhQueryCafe.getBills_byFields({ date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, bill_type: { $in: [6] }, id_branch: { $eq: this.vhQueryCafe.getDefaultBranch()._id } }, {})\r\n        .then((invoice: any[]) => {\r\n          this.invoices = invoice.map(item => {\r\n            return { ...item, employee_name: this.vhAuth.getlocalEmployee(item.id_employee).name, partner_name: this.renderPartner(item.id_supplier), payment_name: this.renderPayment(item.payment_type, item.id_wallet) }\r\n          })\r\n          console.log(this.invoices)\r\n          this.sortFilter(this.filterType)\r\n          this.vhComponent.hideLoading(0);\r\n        }, err => {\r\n          this.vhComponent.hideLoading(0);\r\n        })\r\n    })\r\n  }\r\n  /**\r\n   * trả về tên ncc\r\n   * @example let supplier = this.renderPartner('DKLJWNIUDHWIUHGDIWD')\r\n   */\r\n  renderPartner(id_partner: string) {\r\n    let supplier: string = this.vhQueryCafe.getlocalSupplier(id_partner).name\r\n\r\n    return supplier ? supplier : this.languageService.translate(\"Not found\")\r\n  }\r\n  goToDetail(data) {\r\n    let dataRestore = { searchValue: this.searchValue, filterType: this.filterType, startTime: this.date[0], endTime: this.date[1], invoice: this.invoices }\r\n    if (this.vhAuth.checkMyPermission(\"purchase_enable_view_bill_temp\")) this.router.navigate([\"/cafe/dashboard/management/invoice/temporary-purchase-invoice/detail\"], { state: { data, dataRestore } })\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  public filterType = 'all'\r\n  /**\r\n   * lọc hóa đơn theo ncc\r\n   * @param filterType \r\n   */\r\n  sortFilter(filterType ) {\r\n    if(filterType == 'all') {\r\n      this.invoiceFilter = this.invoices\r\n    }\r\n    else{\r\n      this.invoiceFilter = this.invoices.filter(item => item.id_supplier == filterType)\r\n    }\r\n\r\n    this.searchBill(this.searchValue)\r\n  }\r\n  /**\r\n   * lọc hóa đơn theo ['bill_code', 'partner_name', 'payment_name', 'name_employee', 'status']\r\n   * @param value \r\n   * @example this.searchBill('')\r\n   */\r\n  searchBill(value: string) {\r\n    if (value) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoiceFilter, ['bill_code', 'partner_name', 'payment_name', 'name_employee'])\r\n    } else this.invoiceShow = [...this.invoiceFilter]\r\n\r\n    this.totalValInvoice = this.getTotal()\r\n  }\r\n  /**\r\n   * trả về tổng doanh số của danh sách hóa đơn đang hiển thị\r\n   * @returns number\r\n   * @example let total = this.getTotal()\r\n   */\r\n  getTotal() {\r\n    return this.invoiceShow.reduce((prev: number, next) => prev + next.total * (1 + next.tax / 100), 0);\r\n  }\r\n\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#temporary-purchase-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".invoice-header\")) {\r\n      this.tableHeight = document.querySelector(\"#temporary-purchase-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".invoice-header\").clientHeight - 95 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * trả về tên phương thức thanh toán\r\n   * @example let payment = this.renderPayment(1)\r\n   */\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.languageService.translate('Cash')\r\n      case 2: return this.languageService.translate('Debit')\r\n      case 3: return this.vhQueryCafe.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/cafe/dashboard/management/invoice\"])\r\n  }\r\n  copyBillCode(billCode) {\r\n    this.vhComponent.copyValue(billCode)\r\n  }\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  payment_nameCol = false;\r\n  name_employeeCol = false;\r\n  sumPriceCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if(this.partner_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.payment_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'name_employee':\r\n        if(this.name_employeeCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'sumPrice':\r\n        if(this.sumPriceCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  searchFilter(value){\r\n    this.suppliers = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value),this.vhQueryCafe.getlocalSuppliers(),['name'])\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"temporary-purchase-invoice\">\r\n  <div nz-row class=\"invoice-header\">\r\n    <div nz-col nzSpan=\"5\" class=\"title left-all-content\">\r\n      <b>{{'Temporary purchase invoice'| translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n      <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n        <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n          placeholder=\"{{'Search for invoice code, supplier name, payment, status' | translate}}\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n      <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"searchFilter($event)\" [(ngModel)]=\"filterType\"\r\n        (ngModelChange)=\"sortFilter($event)\" nzBorderless>\r\n        <nz-option [nzValue]=\"'all'\" nzLabel=\"{{'All' | translate}}\">\r\n        </nz-option>\r\n        <nz-option *ngFor=\"let item of suppliers\" [nzValue]=\"item._id\" [nzLabel]=\"item.name| translate\">\r\n        </nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div nz-col nzSpan=\"6\" class=\"date-picker-cus\">\r\n      <nz-range-picker nzFormat='dd/MM/yyyy' [nzDisabledDate]=\"disabledDate\" [(ngModel)]=\"date\">\r\n      </nz-range-picker>\r\n    </div>\r\n    <div nz-col nzSpan=\"2\" class=\"right-all-content button-group\">\r\n      <div>\r\n        <button class=\"btn-green center-all-content ml-3\" nz-button nzType=\"default\" (click)=\"getInvoices()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div style=\"margin-top: 20px;\">\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: tableHeight }\"\r\n      [nzData]=\"invoiceShow\" #tableSales nzShowPagination nzShowSizeChanger\r\n      >\r\n      <thead>\r\n        <tr>\r\n          <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n            <b>{{'Date' | translate}}</b>\r\n            <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"14%\" nzAlign='left'>\r\n            <b>{{'Invoice code' | translate}}</b>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left'\r\n            (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n            <b>{{'Customer' | translate}}</b>\r\n            <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left'\r\n            (click)=\"payment_nameCol = !payment_nameCol;sortTable('payment_name')\">\r\n            <b>{{'Payment method' | translate}}</b>\r\n            <i nz-icon [nzType]=\"payment_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left'\r\n            (click)=\"name_employeeCol = !name_employeeCol;sortTable('name_employee')\">\r\n            <b>{{'Employee' | translate}}</b>\r\n            <i nz-icon [nzType]=\"name_employeeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th nzWidth=\"15%\" nzAlign='left'><b>{{'Note' | translate}}</b></th>\r\n          <th style=\"cursor: pointer;\" nzWidth=\"15%\" nzAlign='right'\r\n            (click)=\"sumPriceCol = !sumPriceCol;sortTable('sumPrice')\">\r\n            <b>{{'Total' | translate}}</b>\r\n            <i nz-icon [nzType]=\"sumPriceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngIf=\"invoiceShow.length != 0\">\r\n          <td style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n          <td></td>\r\n          <td nzAlign='right' class=\"money-right\">{{vhAlgorithm.vhcurrencyunit_symbol(totalValInvoice)}}</td>\r\n        </tr>\r\n        <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice)\">\r\n          <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n          <td nzAlign='left' (click)=\"$event.stopPropagation();copyBillCode(invoice.bill_code)\">\r\n            {{invoice.bill_code}} <i nz-icon nzType=\"copy\" nzTheme=\"outline\"></i></td>\r\n          <td nzAlign='left'>{{invoice.partner_name}}</td>\r\n          <td nzAlign='left'>{{invoice.payment_name}} <span\r\n              *ngIf=\"invoice.payment - invoice.total < 0 && invoice.payment_type !=2\"> -\r\n              {{'Rest'|translate}} <b>{{vhAlgorithm.vhcurrencyunit((invoice.total*(1+invoice.tax/100)) -\r\n                invoice.payment )}}</b>\r\n            </span></td>\r\n          <td nzAlign='left'>{{invoice.employee_name}}</td>\r\n          <td nzAlign='left'>{{invoice.note}}</td>\r\n          <td nzAlign='right' class=\"money-right\">\r\n            {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TemporaryPurchaseInvoiceComponent } from './temporary-purchase-invoice.component';\r\nimport { EditTemporaryPurchaseComponent } from './edit-temporary-purchase/edit-temporary-purchase.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { TaxComponent } from './components/tax/tax.component';\r\nimport { InfoSupplierComponent } from './components/info-supplier/info-supplier.component';\r\nimport { SelectSupplierComponent } from './components/select-supplier/select-supplier.component';\r\nimport { StaffComponent } from './components/staff/staff.component';\r\nimport { SearchModule } from 'src/app/cafe/components/search/search.module';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: TemporaryPurchaseInvoiceComponent\r\n      },\r\n      {\r\n        path: \"detail\",\r\n        component: DetailComponent\r\n      },\r\n      {\r\n        path: \"edit-temporary\",\r\n        component: EditTemporaryPurchaseComponent,\r\n      },\r\n    ]\r\n  },\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TemporaryPurchaseInvoiceComponent,\r\n    EditTemporaryPurchaseComponent,\r\n    DetailComponent,\r\n    StaffComponent, SelectSupplierComponent, TaxComponent, InfoSupplierComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ScrollingModule,\r\n    SearchModule\r\n  ]\r\n})\r\nexport class TemporaryPurchaseInvoiceModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}