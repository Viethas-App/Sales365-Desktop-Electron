{"version":3,"file":"src_app_cafe_desktop_menu_management_partner_customer-group_customer-group_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/partner/customer-group/customer-group.component.ts","./src/app/cafe/desktop/menu/management/partner/customer-group/customer-group.component.html","./src/app/cafe/desktop/menu/management/partner/customer-group/customer-group.module.ts","./src/app/cafe/desktop/menu/management/partner/customer-group/detail-group/detail-group.component.html","./src/app/cafe/desktop/menu/management/partner/customer-group/detail-group/detail-group.component.ts","./src/app/cafe/desktop/menu/management/partner/customer-group/edit-group/edit-group.component.ts","./src/app/cafe/desktop/menu/management/partner/customer-group/edit-group/edit-group.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery,   VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-customer-group',\r\n  templateUrl: './customer-group.component.html',\r\n  styleUrls: ['./customer-group.component.scss']\r\n})\r\nexport class CustomerGroupComponent implements OnInit {\r\n  newNameGroup: any;\r\n  customer_group: any = this.vhQueryCafe.getlocalCustomerClasss();\r\n  list_discount_bills: any[] = [];\r\n  list_discount_saless: any = [];\r\n  list_earning_point_bills: any = [];\r\n  list_earning_points_products: any = [];\r\n  formAdd: FormGroup;\r\n  formEdit: FormGroup;\r\n  earned_points_clear_auto = {\r\n    enable: false,\r\n    month_of_year: '12'\r\n  }\r\n  payment: any = {\r\n    points: '1',\r\n    money: '1000',\r\n    enable: false\r\n  }\r\n  symbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhQuery: VhQuery,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private nzModalService: NzModalService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.customer_group);\r\n    \r\n    this.getData();\r\n    this.initFormAdd()\r\n  }\r\n\r\n  /**\r\n   * khởi tạo các trường cho form để lưu hạng khách hàng\r\n   * @example this.initFormAdd()\r\n   */\r\n  initFormAdd() {\r\n    this.formAdd = new FormGroup({\r\n      name: new FormControl('', Validators.required),\r\n      id_discount_bill: new FormControl(null),\r\n      id_discount_sales: new FormControl(null),\r\n      id_earning_points_bill: new FormControl(null),\r\n      id_earning_points_product: new FormControl(null),\r\n      exchange_coupon_enable: new FormControl(false),\r\n      exchange_voucher_enable: new FormControl(false),\r\n      exchange_payment_card_enable: new FormControl(false),\r\n    })\r\n    this.earned_points_clear_auto = {\r\n      enable: false,\r\n      month_of_year: '12'\r\n    }\r\n\r\n    this.payment = {\r\n      points: '1',\r\n      money: '1000',\r\n      enable: false\r\n    }\r\n\r\n  }\r\n  /**\r\n   * gán các giá trị của hạng được chọn vào form để cập nhật\r\n   * @param data \r\n   * @example this.initFormEdit(customer_class_selected)\r\n   */\r\n  initFormEdit(data) {\r\n    this.formEdit = new FormGroup({\r\n      name: new FormControl(data.name, Validators.required),\r\n      id_discount_bill: new FormControl(data.id_discount_bill),\r\n      id_discount_sales: new FormControl(data.id_discount_sales),\r\n      id_earning_points_bill: new FormControl(data.id_earning_points_bill),\r\n      id_earning_points_product: new FormControl(data.id_earning_points_product),\r\n      exchange_coupon_enable: new FormControl(data.exchange_coupon_enable),\r\n      exchange_voucher_enable: new FormControl(data.exchange_voucher_enable),\r\n      exchange_payment_card_enable: new FormControl(data.exchange_payment_card_enable),\r\n    })\r\n    this.earned_points_clear_auto = {\r\n      enable: data.earned_points_clear_auto['enable'],\r\n      month_of_year: data.earned_points_clear_auto['month_of_year']\r\n    }\r\n    this.payment = {\r\n      points: data.payment.points,\r\n      money: data.payment.money,\r\n      enable: data.payment.enable,\r\n    }\r\n  }\r\n  /**\r\n   * get dữ liệu liên quan tới hạng(chiết khấu, tích điểm) để gán vào hạng khách hàng\r\n   * @example this.getData()\r\n   */\r\n  getData() {\r\n    Promise.all([\r\n      this.vhQueryCafe.getDiscount_saless(),\r\n      this.vhQueryCafe.getEarningPointsBills(),\r\n      this.vhQueryCafe.getEarningPointsProducts(),\r\n    ])\r\n      .then(([discount_saless, earning_point_bills, earning_points_products]) => {\r\n        this.customer_group = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name').map(item => {\r\n          return {\r\n            ...item,\r\n            id_discount_bill: item.id_discount_bill ? item.id_discount_bill : '',\r\n            id_discount_sales: item.id_discount_sales ? item.id_discount_sales : '',\r\n            id_earning_points_bill: item.id_earning_points_bill ? item.id_earning_points_bill : '',\r\n            id_earning_points_product: item.id_earning_points_product ? item.id_earning_points_product : '',\r\n            number_customer: this.vhQueryCafe.getlocalCustomers().filter(item => item.type != 3).filter(i => i.id_customer_class == item._id).length\r\n          }\r\n        })\r\n        this.list_discount_bills = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalDiscount_bills(), 'name')\r\n        this.list_discount_saless = discount_saless;\r\n        this.list_earning_point_bills = earning_point_bills;\r\n        this.list_earning_points_products = earning_points_products;\r\n      })\r\n\r\n  }\r\n \r\n\r\n  /**Kiểm tra tồn tại tên danh mục */\r\n  checkExistGroup(groupName: string): Promise<boolean> {\r\n    return new Promise<any>((resolve, reject) => {\r\n      let index = this.customer_group.findIndex(item =>\r\n        this.vhAlgorithm.changeAlias(item.name).toLowerCase() == this.vhAlgorithm.changeAlias(groupName).toLowerCase())\r\n      if (index == -1) resolve(false)\r\n      else resolve(true);\r\n    });\r\n  }\r\n\r\n\r\n  /*----Add group product----*/\r\n  addGroupForm: FormGroup;\r\n  visible_add = false; //biến cờ trạng thái show/hide popup thêm danh mục\r\n  /**\r\n   * mở drawer thêm hạng khách hàng\r\n   * @example this.openAdd()\r\n   */\r\n  openAdd(): void {\r\n    this.visible_add = true;\r\n    this.formAdd.reset();\r\n  }\r\n   /**\r\n   * đóng drawer thêm hạng khách hàng\r\n   * @example this.closeAdd()\r\n   */\r\n  closeAdd(): void {\r\n    this.visible_add = false;\r\n  }\r\n  /**\r\n   * gán tên combo từ input tên combo (ko thể dùng ngModal trong drawer nên phải dùng cách này)\r\n   * @example this.getValue('danh muc combo')\r\n   */\r\n  getValue(value) {\r\n    this.newNameGroup = value;\r\n  }\r\n  /**\r\n   * thêm hạng khách hàng vào DB\r\n   * @example this.addGroup()\r\n   */\r\n  addGroup() {\r\n    if (this.newNameGroup) {\r\n      this.checkExistGroup(this.newNameGroup)\r\n        .then((res) => {\r\n          if (res) {\r\n            this.vhComponent.showToast(1500, this.languageService.translate(\"Group existed\"), 'alert-toast');\r\n            return;\r\n          } else {\r\n            let data = this.formAdd.value\r\n            data['earned_points_clear_auto'] = {\r\n              enable: this.earned_points_clear_auto.enable,\r\n              month_of_year: parseInt(this.earned_points_clear_auto.month_of_year)\r\n            }\r\n            data['payment'] = {\r\n              points: parseFloat(this.payment.points),\r\n              money: parseFloat(this.payment.money),\r\n              enable: this.payment.enable\r\n            }\r\n            this.vhQueryCafe.addCustomerClass(data).then((response: any) => {\r\n              this.customer_group.push({ ...response, number_customer: 0 });\r\n              this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"Thêm hạng khách hàng thành công\"))\r\n              this.closeAdd();\r\n            }, error => {\r\n              console.log('error', error);\r\n            })\r\n          }\r\n        }, err => { })\r\n    }\r\n    else this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Vui lòng nhập tên\"))\r\n  }\r\n\r\n  /** ----Edit group product----- */\r\n  visible_detail = false;\r\n  data_selected: any;\r\n  _id: any;\r\n  /**\r\n   * mở drawer edit hạng khách hàng\r\n   * @param item \r\n   * @example this.openEdit({})\r\n   */\r\n  openEdit(item): void {\r\n    this.visible_detail = true;\r\n    this._id = item._id;\r\n    this.initFormEdit(item);\r\n    this.data_selected = item\r\n  }\r\n  /**\r\n   * đóng drawer edit hạng khách hàng và ko lưu\r\n   * @example this.closeEdit()\r\n   */\r\n  closeEdit(): void {\r\n    this.visible_detail = false;\r\n  }\r\n  /**\r\n   * cập nhật lại hạng khách hàng đã edit và đóng drawer\r\n   */\r\n  editGroup() {\r\n    if (this.formEdit.valid) {\r\n      let data = this.formEdit.value;\r\n      data.id_discount_bill = data.id_discount_bill ? data.id_discount_bill : null;\r\n      data.id_discount_sales = data.id_discount_sales ? data.id_discount_sales : null;\r\n      data.id_earning_points_bill = data.id_earning_points_bill ? data.id_earning_points_bill : null;\r\n      data.id_earning_points_product = data.id_earning_points_product ? data.id_earning_points_product : null;\r\n\r\n      data['earned_points_clear_auto'] = {\r\n        enable: this.earned_points_clear_auto.enable,\r\n        month_of_year: parseInt(this.earned_points_clear_auto.month_of_year)\r\n      }\r\n      data['payment'] = {\r\n        points: parseFloat(this.payment.points),\r\n        money: parseFloat(this.payment.money),\r\n        enable: this.payment.enable\r\n      }\r\n      this.vhQueryCafe.updateCustomerClass(this._id, data)\r\n        .then((bool) => {\r\n          if (bool) {\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].name = this.formEdit.value.name;\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].id_discount_bill = this.formEdit.value.id_discount_bill ? this.formEdit.value.id_discount_bill : '';\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].id_discount_sales = this.formEdit.value.id_discount_sales ? this.formEdit.value.id_discount_sales : '';\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].id_earning_points_bill = this.formEdit.value.id_earning_points_bill ? this.formEdit.value.id_earning_points_bill : '';\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].id_earning_points_product = this.formEdit.value.id_earning_points_product ? this.formEdit.value.id_earning_points_product : '';\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].earned_points_clear_auto = this.earned_points_clear_auto;\r\n\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].exchange_coupon_enable = this.formEdit.value.exchange_coupon_enable;\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].exchange_voucher_enable = this.formEdit.value.exchange_voucher_enable;\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].exchange_payment_card_enable = this.formEdit.value.exchange_payment_card_enable;\r\n            this.customer_group[this.customer_group.findIndex(item => item._id == this._id)].payment = this.payment;\r\n            this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Cập nhật hạng khách hàng thành công\"))\r\n          }\r\n\r\n          this.closeEdit();\r\n        }, error => {\r\n          console.log('error', error);\r\n        })\r\n    } else this.closeEdit()\r\n  }\r\n  /**------------------------------------- */\r\n\r\n  /** ------ Modal Zorro Delete Group---- */\r\n  isVisible = false;\r\n  _id_delete: any;\r\n  /**\r\n   * mở modal xác nhận xóa hạng khách hàng\r\n   * @param item \r\n   */\r\n  showModal(item): void {\r\n    this.isVisible = true;\r\n    this._id_delete = item._id;\r\n  }\r\n  /**\r\n   * xử lý nhấn ok modal xóa hạng khách hàng\r\n   * @example this.handleOk()\r\n   */\r\n  handleOk(): void {\r\n    this.deleteGroup(this._id_delete);\r\n    this.handleCancel();\r\n  }\r\n\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  /** ------------------------- */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner']);\r\n  }\r\n  /**\r\n   * xóa hạng khách hàng khỏi DB\r\n   * @param data \r\n   * @example this.deleteGroup({_id:'DFPLOKMCOOPYQOWA'})\r\n   */\r\n  deleteGroup(data) {\r\n    if (data.number_customer) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: this.languageService.translate(\"Nhóm này đang có khách hàng! Đồng ý xóa?\"),\r\n        nzOnOk: () => {\r\n          this.vhComponent.showLoading('').then(() => {\r\n            this.vhQueryCafe.deleteCustomerClass(data._id).then(bool => {\r\n              if (bool) {\r\n                let customers = this.vhQueryCafe.getlocalCustomers().filter(item => item.type != 3).filter(i => i.id_customer_class == data._id);\r\n                let promise = [];\r\n                for (let i in customers) {\r\n                  promise[i] = this.vhQueryCafe.updateCustomer(customers[i]._id, { id_customer_class: '' })\r\n                }\r\n                this.vhQuery.asyncPromiseAll(promise).then((array) => {\r\n                  this.customer_group.splice(this.customer_group.indexOf(data), 1)\r\n                  this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"Xóa hạng khách hàng thành công\"))\r\n                  this.vhComponent.hideLoading(0)\r\n                }, error => { console.log(error); })\r\n              }\r\n            })\r\n          })\r\n        },\r\n        nzCancelText: this.languageService.translate(\"Cancel\")\r\n      })\r\n    }\r\n    else {\r\n      this.vhComponent.showLoading('').then(() => {\r\n        this.vhQueryCafe.deleteCustomerClass(data._id).then(bool => {\r\n          if (bool) {\r\n            this.customer_group.splice(this.customer_group.indexOf(data), 1)\r\n            this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"Xóa hạng khách hàng thành công\"))\r\n          }\r\n        }).finally(() => this.vhComponent.hideLoading(0))\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  gotoDetailGroup(data) {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer-group/detail'], { state: { group: data } });\r\n  }\r\n\r\n  /**\r\n   * bỏ ký tự đặc biệt cho trường money và points\r\n   * @param field \r\n   * @param value \r\n   */\r\n  changePaymentBill(field, value) {\r\n    this.payment[field] = value.replaceAll(/[.*+?^${}()|[\\]\\\\,a-zA-Z]/g, '')\r\n  }\r\n\r\n  gotoAddDiscountInvoice() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/discount-customer/invoice-discount/list-discount'])\r\n  }\r\n  gotoAddDiscountSales() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/discount-customer/sales-discount/list-discount'])\r\n  }\r\n\r\n  gotoAddPointInvoice() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/reward-points/by-bill'])\r\n  }\r\n\r\n  gotoAddPointProduct() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/reward-points/by-product'])\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back'|translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <b>{{'Customer tier' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n            <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"openAdd()\">\r\n                <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                {{'Add'|translate}}</button>\r\n        </div>\r\n    </div>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" *ngFor=\"let data of customer_group\">\r\n            <nz-list style=\"width: 95%;\">\r\n                <nz-list-item style=\"cursor: pointer;\">\r\n                    <ng-container>\r\n                        <nz-list-item-meta-title style=\"width:95%; overflow: hidden;\" (click)=\"gotoDetailGroup(data)\">\r\n                            <b>{{data.name |slice : 0 : 100}} {{data.name.length>100 ? \"...\" : \"\"}}</b>\r\n                            <div class=\"quantity\">\r\n                                {{'Quantity' | translate}}: <span>{{data.number_customer}}</span>\r\n                            </div>\r\n                        </nz-list-item-meta-title>\r\n                        <ul nz-list-item-actions>\r\n                            <nz-list-item-action>\r\n                                <i class=\"cus-icon\" nz-icon nzType=\"form\" nzTheme=\"outline\"\r\n                                    (click)=\"openEdit(data)\"></i>\r\n                            </nz-list-item-action>\r\n                            <nz-list-item-action>\r\n                                <i class=\"cus-icon\" nz-icon nzType=\"delete\" nzTheme=\"outline\" nz-popconfirm\r\n                                    nzPopconfirmTitle=\"{{'Delete' | translate}}?\" (nzOnConfirm)=\"deleteGroup(data)\"\r\n                                    nzPopconfirmPlacement=\"top\"></i>\r\n                            </nz-list-item-action>\r\n                        </ul>\r\n                    </ng-container>\r\n                </nz-list-item>\r\n                <nz-divider></nz-divider>\r\n            </nz-list>\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"!customer_group.length\">\r\n        <div nz-col nzSpan=\"24\" style=\"text-align: center;margin-top: 100px;\">\r\n            <div>{{'Not group yet'| translate}}</div>\r\n        </div>\r\n    </div>\r\n    <div>\r\n\r\n    </div>\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\"\r\n    (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <p *nzModalContent>{{'Are you sure to delete this group?'|translate}}</p>\r\n</nz-modal>\r\n\r\n<!----------------------------- Add group product ------------------------->\r\n<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzWidth]=\"'40vw'\" [nzVisible]=\"visible_add\"\r\n    nzTitle=\"{{'Add customer tier' | translate}}\" [nzFooter]=\"footerTplAdd\" (nzOnClose)=\"closeAdd()\">\r\n    <form nz-form *nzDrawerContent [formGroup]=\"formAdd\">\r\n        <div nz-row [nzGutter]=\"8\">\r\n            <div nz-col nzSpan=\"24\">\r\n\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Tier name' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-input-group>\r\n                            <input (blur)=\"getValue(box.value)\" formControlName=\"name\" #box nz-input\r\n                                placeholder=\"{{'Enter tier name' | translate}}\" />\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <div>\r\n                    <b style=\"font-size: 0.9rem;\">{{'Invoice discount formula' | translate}}</b>\r\n                    <span nz-icon nzType=\"plus\" nzTheme=\"outline\" (click)=\"gotoAddDiscountInvoice()\"></span>\r\n                </div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_discount_bill\"\r\n                            nzPlaceHolder=\"{{'Select invoice discount formula' | translate}}\">\r\n                            <nz-option *ngFor=\"let item of list_discount_bills\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div>\r\n                    <b style=\"font-size: 0.9rem;\">{{'Sales discount formula' | translate}}</b>\r\n                    <span nz-icon nzType=\"plus\" nzTheme=\"outline\" (click)=\"gotoAddDiscountSales()\"></span>\r\n                </div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_discount_sales\"\r\n                            nzPlaceHolder=\"{{'Select sales discount formula' | translate}}\">\r\n                            <nz-option *ngFor=\"let item of list_discount_saless\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div>\r\n                    <b style=\"font-size: 0.9rem;\">{{'Invoice point accumulation formula' | translate}}</b>\r\n                    <span nz-icon nzType=\"plus\" nzTheme=\"outline\" (click)=\"gotoAddPointInvoice()\"></span>\r\n                </div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_earning_points_bill\"\r\n                            nzPlaceHolder=\"{{'Select invoice point accumulation formula' | translate}}\">\r\n                            <nz-option *ngFor=\"let item of list_earning_point_bills\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div>\r\n                    <b style=\"font-size: 0.9rem;\">{{'Product point accumulation formula' | translate}}</b>\r\n                    <span nz-icon nzType=\"plus\" nzTheme=\"outline\" (click)=\"gotoAddPointProduct()\"></span>\r\n                </div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_earning_points_product\"\r\n                            nzPlaceHolder=\"{{'Select product point accumulation formula' | translate}}\">\r\n                            <nz-option *ngFor=\"let item of list_earning_points_products\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_coupon_enable\">\r\n                            {{'Allow exchange points for coupon' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_voucher_enable\">\r\n                            {{'Allow exchange points for voucher' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_payment_card_enable\">\r\n                            {{'Allow exchange points for prepaid card' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox [(ngModel)]=\"payment.enable\"\r\n                            [ngModelOptions]=\"{standalone: true}\">\r\n                            {{'Allow payment by points' | translate}}\r\n                        </label>\r\n                        <input class=\"price\" style=\"text-align: start;width: 30%;\" nz-input\r\n                            [value]=\"payment.points\" placeholder=\"{{'Enter point' | translate}}\"\r\n                            #points1 (keyup)=\"changePaymentBill('points',points1.value)\" /> {{'point' | translate}}\r\n                        =\r\n                        <input #box1 class=\"price\" style=\"text-align: start;width: 30%;\" nz-input\r\n                            (keyup)=\"changePaymentBill('money',box1.value)\"\r\n                            [value]=\"vhAlgorithm.vhcurrencyunit(payment.money)\"\r\n                            placeholder=\"{{'Enter money' | translate}}\" /> {{symbol}}\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\" style=\"display:flex ;\">\r\n                        <label nz-checkbox [(ngModel)]=\"earned_points_clear_auto.enable\"\r\n                            [ngModelOptions]=\"{standalone: true}\">\r\n                            {{'Delete all accumulated points of customers at the end of the month' | translate}}\r\n                        </label> \r\n                        <input #box [value]=\"earned_points_clear_auto.month_of_year\"\r\n                            (keyup)=\"earned_points_clear_auto.month_of_year = box.value\" class=\"price\"\r\n                            style=\"text-align: start;width: 20%;\" nz-input\r\n                            placeholder=\"{{'Enter value' | translate}}\" /> {{'each year' | translate}}\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <ng-template #footerTplAdd>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"btn-cancel\" style=\"margin-right: 8px;\" (click)=\"closeAdd()\">{{'Cancel' |\r\n                translate}}</button>\r\n            <button class=\"btn-add\" nz-button (click)=\"addGroup()\">OK</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n\r\n<!----------------------------- Edit group product ------------------------->\r\n<nz-drawer *ngIf=\"visible_detail\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzWidth]=\"'40vw'\" [nzVisible]=\"visible_detail\"\r\n    nzTitle=\"{{'Update customer tier' | translate}}\" [nzFooter]=\"footerTplDetail\" (nzOnClose)=\"closeEdit()\">\r\n    <form nz-form *nzDrawerContent [formGroup]=\"formEdit\">\r\n        <div nz-row [nzGutter]=\"8\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Tier name' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-input-group>\r\n                            <input formControlName=\"name\" #box nz-input placeholder=\"{{'Enter tier name' | translate}}\"\r\n                                (blur)=\"getValue(box.value)\" />\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Invoice discount formula' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_discount_bill\"\r\n                            nzPlaceHolder=\"{{'Select invoice discount formula' | translate}}\">\r\n                            <nz-option nzValue=\"\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of list_discount_bills\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Sales discount formula' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_discount_sales\"\r\n                            nzPlaceHolder=\"{{'Select sales discount formula' | translate}}\">\r\n                            <nz-option nzValue=\"\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of list_discount_saless\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Invoice point accumulation formula' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_earning_points_bill\"\r\n                            nzPlaceHolder=\"{{'Select invoice point accumulation formula' | translate}}\">\r\n                            <nz-option nzValue=\"\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of list_earning_point_bills\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n\r\n                <div><b style=\"font-size: 0.9rem;\">{{'Product point accumulation formula' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-select formControlName=\"id_earning_points_product\"\r\n                            nzPlaceHolder=\"{{'Select product point accumulation formula' | translate}}\">\r\n                            <nz-option nzValue=\"\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of list_earning_points_products\" [nzValue]=\"item._id\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_coupon_enable\">\r\n                            {{'Allow exchange points for coupon' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_voucher_enable\">\r\n                            {{'Allow exchange points for voucher' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox formControlName=\"exchange_payment_card_enable\">\r\n                            {{'Allow exchange points for prepaid card' | translate}}\r\n                        </label>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <label nz-checkbox [(ngModel)]=\"payment.enable\"\r\n                            [ngModelOptions]=\"{standalone: true}\">\r\n                            {{'Allow payment by points' | translate}}\r\n                        </label>\r\n                        <input class=\"price\" style=\"text-align: start;width: 30%;\" nz-input\r\n                            [value]=\"payment.points\" placeholder=\"{{'Enter point' | translate}}\"\r\n                            #points3 (keyup)=\"changePaymentBill('points',points3.value)\" /> {{'point' | translate}}\r\n                        =\r\n                        <input #box3 class=\"price\" style=\"text-align: start;width: 30%;\" nz-input\r\n                            (keyup)=\"changePaymentBill('money',box3.value)\"\r\n                            [value]=\"vhAlgorithm.vhcurrencyunit(payment.money)\"\r\n                            placeholder=\"{{'Enter money' | translate}}\" /> {{symbol}}\r\n                    </nz-form-control>\r\n                </nz-form-item> \r\n                <nz-form-item style=\"margin:0 0 8px;\">\r\n                    <nz-form-control [nzSpan]=\"24\" style=\"display: flex;\">\r\n                        <label nz-checkbox [(ngModel)]=\"earned_points_clear_auto.enable\"\r\n                            [ngModelOptions]=\"{standalone: true}\">\r\n                            {{'Delete all accumulated points of customers at the end of the month' | translate}}\r\n                        </label> \r\n                        <input #box5 [value]=\"earned_points_clear_auto.month_of_year\"\r\n                            (keyup)=\"earned_points_clear_auto.month_of_year = box5.value\" class=\"price\"\r\n                            style=\"text-align: start;width: 20%;\" nz-input\r\n                            placeholder=\"{{'Enter value' | translate}}\" /> {{'each year' | translate}}\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <ng-template #footerTplDetail>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"btn-cancel\" style=\"margin-right: 8px;\" (click)=\"closeEdit()\">{{'Cancel' |\r\n                translate}}</button>\r\n            <button class=\"btn-add\" nz-button (click)=\"editGroup()\">OK</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router'; \r\nimport { CustomerGroupComponent } from './customer-group.component';\r\nimport { DetailGroupComponent } from './detail-group/detail-group.component';\r\nimport { EditGroupComponent } from './edit-group/edit-group.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomerGroupComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailGroupComponent\r\n  },\r\n  {\r\n    path: 'edit',\r\n    component: EditGroupComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CustomerGroupComponent,\r\n    DetailGroupComponent,\r\n    EditGroupComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    ScrollingModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    IonicModule\r\n  ]\r\n})\r\nexport class CustomerGroupModule { }\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"detail-group-customers\">\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"8\" class=\"title max-width-overflow detail-group-customers-header\">\r\n            <b>{{group.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"right-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input #box type=\"text\" (keyup)=\"searchCustomer(box.value)\" nz-input [value]=\"keySearch ? keySearch : ''\" placeholder=\"{{'Search for customer name, phone number' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"right-all-content\">\r\n            <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"openModal();\">\r\n                <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                {{'Select customer' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <div nz-row class='total-item'>\r\n            {{'Total' | translate}} &nbsp;<span style=\"color: var(--ion-color-vh-red);\">\r\n        {{list_customer.length}}&nbsp; </span> {{'Customer' | translate}}\r\n        </div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\" [nzData]=\"list_customer\" #dataCustomer nzShowPagination nzShowSizeChanger [nzNoResult]=\"'Not customer yet' |translate\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth='10%' nzAlign=\"center\"><b>{{'Image' | translate}}</b></th>\r\n                    <th nzWidth='25%'><b>{{'Customer name' | translate}}</b></th>\r\n                    <th nzWidth='20%'><b>{{ 'Phone number' | translate}}</b></th>\r\n                    <th nzWidth='20%'><b>{{ 'Email' | translate}}</b></th>\r\n                    <th nzWidth='25%'><b>{{ 'Address' | translate}}</b></th>\r\n                    <th nzWidth='25%'><b>{{ 'Customer tier' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let data of dataCustomer.data\" style=\"cursor: pointer;\">\r\n                    <td nzAlign=\"center\" style=\"padding: 0;\">\r\n                        <img style=\"width: 40px; border-radius: 100%;\" src=\"{{data.img?data.img:'assets/icon/management/noavatar.svg'}}\">\r\n                    </td>\r\n                    <td>{{ data.name }}</td>\r\n                    <td>{{ data.phone }}</td>\r\n                    <td>{{ data.email }}</td>\r\n                    <td>{{ data.address }}</td>\r\n                    <td (click)=\"$event.stopPropagation()\">\r\n                        <nz-select nzShowSearch [nzAllowClear]=\"false\" [(ngModel)]=\"data.id_customer_class\" (ngModelChange)=\"groupChange($event,data)\" style=\"width: 100%;\">\r\n                            <nz-option [nzValue]=\"''\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>\r\n\r\n<nz-modal [nzStyle]=\"{'top' : '20px'}\" [(nzVisible)]=\"isVisibleModalAdd\" nzTitle=\"{{'Select customer' | translate}}\"\r\n    nzCancelText=\"{{'Cancel'| translate}}\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\" nzWidth=\"70vw\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row style=\"padding: 8px 0;\">\r\n            <div nz-col nzSpan=\"12\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input #search (keyup)=\"searchCustomerModal(search.value)\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for customer name, phone number'| translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <div nz-col nzSpan=\"1\"></div>\r\n            \r\n        </div>\r\n        <!-- <nz-checkbox-group style=\"display: grid;\" [(ngModel)]=\"list_customer\"></nz-checkbox-group> -->\r\n        <nz-table [nzBordered]=\"true\"  [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '350px' }\"\r\n         #allowSale nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"list_customer_valid\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth='25%'><b>{{'Customer name' | translate}} </b></th>\r\n                    <th nzWidth='20%'><b>{{ 'Phone number' | translate}}</b></th>\r\n                    <th nzWidth='20%'><b>{{ 'Email' | translate}}</b></th>\r\n                    <th nzWidth='20%'><b>{{ 'Address' | translate}}</b></th>\r\n                    <th nzWidth='15%' nzAlign=\"center\"><b>{{ 'Functions' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let data of allowSale.data\">\r\n                    <td>{{ data.name }}</td>\r\n                    <td>{{ data.phone }}</td>\r\n                    <td>{{ data.email }}</td>\r\n                    <td>{{ data.address }}</td>\r\n                    <td nzAlign=\"center\">\r\n                        <nz-switch [(ngModel)]=\"data.checked\"></nz-switch>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>","import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhQueryCafe, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-detail-group',\r\n  templateUrl: './detail-group.component.html',\r\n  styleUrls: ['./detail-group.component.scss']\r\n})\r\nexport class DetailGroupComponent {\r\n\r\n  list_customer: any = [];\r\n  list_search_customer: any = [];\r\n  isVisibleModalAdd = false;\r\n  group: any;\r\n  keySearch: any; //biến lưu tạm key search\r\n  customerGroups: any[] = [];\r\n  list_customer_valid = this.vhQueryCafe.getlocalCustomers().filter(item => !item.id_customer_class || item._id != 'id_retail')\r\n  list_search_customer_valid: any = [];\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private lang: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery: VhQuery,\r\n    private vhComponent: VhComponent\r\n\r\n  ) {\r\n    this.group = this.router.getCurrentNavigation().extras.state.group\r\n  }\r\n  ngAfterViewInit() {\r\n    this.doRefreshData()\r\n    this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name')\r\n  }\r\n  /**\r\n   * get các khách hàng thuộc hạng nhận dc từ state truyền qua\r\n   * @example this.doRefreshData()\r\n  */\r\n  doRefreshData() {\r\n    this.list_customer = this.vhQueryCafe.getlocalCustomers().filter(item => item.id_customer_class == this.group._id )\r\n    this.list_search_customer = this.list_customer\r\n  }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#detail-group-customers\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".detail-group-customers-header\")) {\r\n      this.heightScroll = document.querySelector(\"#detail-group-customers\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".detail-group-customers-header\").clientHeight - 110 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer-group']);\r\n  }\r\n\r\n  // gotoDetailCustomer(data){\r\n  //   this.router.navigate(['/cafe/dashboard/management/partner/customer-group/edit'],{state:{data:data, group : this.group}});\r\n  // }\r\n\r\n  /*---tìm kiếm khách hàng theo tên và email---*/\r\n  searchCustomer(event) { \r\n    this.list_customer = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(event.toLowerCase()),\r\n      this.list_search_customer,\r\n      [\"name\", \"phone\", \"email\"]\r\n    );\r\n  }\r\n  /*---tìm kiếm khách hàng theo tên và email---*/\r\n  searchCustomerModal(event) {\r\n    let value = this.vhAlgorithm.changeAlias(event.toLowerCase()); \r\n    this.list_customer_valid = this.vhAlgorithm.searchList(\r\n      value,\r\n      this.list_search_customer_valid,\r\n      [\"name\", \"phone\", \"email\"]\r\n    );\r\n  }\r\n\r\n  /**\r\n   * cập nhật lại hạng của khách hàng được chọn\r\n   * @param ev id_customerclass được chọn\r\n   * @param data khách được chọn\r\n   * @example this.groupChange('DNWJHDBHUYWGDWGDUWY',customer_selected)\r\n   */\r\n  groupChange(ev, data) {\r\n    this.vhQueryCafe.updateCustomer(data._id, { id_customer_class: ev ? ev : null })\r\n      .catch((err) => { console.error(err) })\r\n  }\r\n\r\n  /**\r\n   * tắt modal chọn khách hàng vào hạng\r\n   * @example this.handleCancel()\r\n   */\r\n  handleCancel() {\r\n    this.isVisibleModalAdd = false;\r\n\r\n  }\r\n\r\n  /**\r\n   * xử lý sk nhấn nút ok modal chọn khách hàng vào hạng\r\n   * @example this.handleOk() \r\n   */\r\n  handleOk() {\r\n    this.vhComponent.showLoading('')\r\n      .then(() => {\r\n        let promise = new Array();\r\n        let arr = this.list_customer_valid.filter(item => item.checked)\r\n        for (let i = 0; i < arr.length; i++) {\r\n          promise[i] = this.vhQueryCafe.updateCustomer(arr[i]._id, { id_customer_class: this.group._id })\r\n        }\r\n        this.vhQuery.asyncPromiseAll(promise)\r\n          .then((array) => {\r\n            this.vhComponent.hideLoading(0)\r\n            this.doRefreshData()\r\n            this.isVisibleModalAdd = false;\r\n          }, error => { console.log(error); })\r\n      })\r\n\r\n  }\r\n\r\n  /**\r\n   * mở modal chọn khách hàng vào hạng\r\n   * @example this.openModal()\r\n   */\r\n  openModal() {\r\n    this.isVisibleModalAdd = true;\r\n    this.list_customer_valid = this.vhQueryCafe.getlocalCustomers().filter(item => !item.id_customer_class && item._id != 'id_retail').map(ele => { return { ...ele, checked: false } })\r\n    this.list_search_customer_valid = this.list_customer_valid\r\n  }\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-edit-group',\r\n  templateUrl: './edit-group.component.html',\r\n  styleUrls: ['./edit-group.component.scss']\r\n})\r\nexport class EditGroupComponent implements OnInit {\r\n\r\n  detailCustomer: FormGroup;\r\n  data: any;\r\n  selectedValue: any;\r\n  customerGroups :any = [];\r\n  group : any;\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    private vhAlgorithm:VhAlgorithm,\r\n    private functionService: FunctionService,\r\n  ) {\r\n    this.data = this.router.getCurrentNavigation().extras.state.data;\r\n    this.group = this.router.getCurrentNavigation().extras.state.group;\r\n    this.countryCode = this.data.countryCode ?? this.functionService.defaultCountryCode;\r\n    this.callingCode = this.functionService.getCallingCodeFromCountryCode(this.countryCode) ?? this.functionService.defaultCallingCode;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.data.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailCustomer = new FormGroup({\r\n      img: new FormControl(this.data.img),\r\n      name: new FormControl(this.data.name, Validators.required),\r\n      email: new FormControl(this.data.email),\r\n      gender: new FormControl(this.data.gender),\r\n      datebirth: new FormControl(this.data.datebirth),\r\n      phone: new FormControl(this.formattedPhone, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(this.data.address),\r\n      country: new FormControl(this.data.country),\r\n      province: new FormControl(this.data.province),\r\n      district: new FormControl(this.data.district),\r\n      note: new FormControl(this.data.note),\r\n      debt_enable: new FormControl(this.data.debt_enable),\r\n      id_customer_class : new FormControl(this.data.id_customer_class ? this.data.id_customer_class : null ),\r\n      isBusiness: new FormControl(this.data.isBusiness),\r\n      taxcode: new FormControl(this.data.taxcode ),\r\n    });\r\n    this.selectedValue = this.data.gender\r\n    // taxcode required khi isBusiness = true\r\n    if(this.data.isBusiness) {\r\n      this.detailCustomer.get('taxcode').setValidators([Validators.required]);\r\n      this.detailCustomer.get('taxcode').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name')\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer-group/detail'],{state: {group :this.group}});\r\n  }\r\n\r\n  deleteCustomer() {\r\n    this.vhQueryCafe.deleteCustomer(this.data._id)\r\n      .then(bool => {\r\n        if (bool) {\r\n          if (this.detailCustomer.value[\"img\"]) {\r\n            this.vhImage.deleteThumbnail(this.detailCustomer.value[\"img\"]).then(() => {\r\n              this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n              setTimeout(() => {\r\n                this.isVisible = false;\r\n                this.goBack();\r\n              }, 300);\r\n            })\r\n          } else {\r\n            this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n            setTimeout(() => {\r\n              this.isVisible = false;\r\n              this.goBack();\r\n            }, 300);\r\n          }\r\n\r\n        } else {\r\n          this.vhComponent.showToast(2000, (this.languageService.translate(\"Can't delete this customer\")), 'alert-toast');\r\n        }\r\n      });\r\n  }\r\n\r\n  groupChange(value){\r\n    this.selectedValue = value;\r\n    this.detailCustomer.value.id_customer_class = this.selectedValue;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n\r\n  genderChange(value) {\r\n    this.selectedValue = value;\r\n    this.detailCustomer.value.gender = this.selectedValue;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  changeDebtEnable(value) {\r\n    this.detailCustomer.value.debt_enable = value;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  onChangeDatePicker(value) {\r\n    this.detailCustomer.value.datebirth = value;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  /** ------ Modal Zorro---- */\r\n  isVisible = false;\r\n\r\n  showModal(): void {\r\n    this.isVisible = true;\r\n  }\r\n\r\n  handleOk(): void {\r\n    this.deleteCustomer();\r\n  }\r\n\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  \r\n\r\n  updateCustomer(value) {\r\n    if (this.detailCustomer.valid) {\r\n      let customer = { ...value };\r\n\r\n      const phoneNumberValue = customer.phone;\r\n      customer.countryCode = this.countryCode;\r\n      customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n      customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n      \r\n      if(customer.isBusiness) {\r\n        delete customer.gender;\r\n        delete customer.datebirth;\r\n      }\r\n      else {\r\n        delete customer.taxcode;\r\n      }\r\n\r\n      this.vhQueryCafe.updateCustomer(this.data._id, customer)\r\n        .then((res: any) => {\r\n          if(res.vcode == 1) {\r\n            //This phone number is already in use with another customer\r\n            this.isExitsPhone = true;\r\n            this.vhComponent.showToast(1500, this.languageService.translate('This phone number is already in use with another customer'), 'alert-toast');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"customers\", this.detailCustomer.value[\"img\"] || null).then(\r\n      photoURL => {\r\n        this.detailCustomer.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateCustomer(this.detailCustomer.value);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'success-toast');\r\n      }\r\n    );\r\n  }\r\n  \r\n  \r\n  \r\n  /** Kiểm tra số điện thoại đã tồn tại ha chưa để hiển thị thông báo */\r\n  isExitsPhone: boolean = false;\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  \r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  \r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.detailCustomer.value.phone, this.countryCode as CountryCode);\r\n      this.detailCustomer.get('phone')?.markAsTouched();\r\n      this.detailCustomer.get('phone')?.markAsDirty();\r\n      this.detailCustomer.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.detailCustomer.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n            <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"showModal()\">\r\n        <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n        {{'Delete'|translate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <form nz-form [formGroup]=\"detailCustomer\">\r\n            <div nz-row style=\"padding-top: 8px;\">\r\n                <div nz-col nzSpan=\"24\" class=\"center-all-content\" style=\"padding-bottom:8px;\">\r\n                    <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                        <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\" (change)=\"onUpload($event)\" />\r\n                        <img [ngStyle]=\"{width: detailCustomer.value.img ? '100%' : '60px'}\" onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"detailCustomer.value.img\" />\r\n                    </div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                <ng-template #combineTplName let-control>\r\n                                    <!-- <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' | translate}}\r\n                  </ng-container> -->\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                            <nz-input-group>\r\n                                <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                                    <span>+{{callingCode}}</span>\r\n                                    <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                </div>\r\n                                <input formControlName=\"phone\"\r\n                                    (input)=\"formatPhoneNumber($event)\"\r\n                                    [value]=\"formattedPhone\"\r\n                                    [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required\r\n                                    (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                <ng-template #combineTplPhone let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                            <div *ngIf=\"isExitsPhone\"\r\n                                class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n                                ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n                                <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                                    {{'Phone number already exists' | translate}}\r\n                                </div>\r\n                            </div>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Email' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"email\" nz-input placeholder=\"{{'Enter customer mail' | translate}}\" (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Address' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div nz-row>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n                            <nz-select nzDisabled nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n                                formControlName=\"isBusiness\">\r\n                                <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n                                <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n                            </nz-select>\r\n                        </div>\r\n                        <ng-container *ngIf=\"detailCustomer.value.isBusiness\">\r\n                            <div nz-col nzSpan=\"16\">\r\n                                <div><b class='label'>{{'Tax code' | translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"taxcode\">\r\n                                        <nz-input-group>\r\n                                            <input formControlName=\"taxcode\" (blur)=\"updateCustomer({taxcode: detailCustomer.value.taxcode})\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                                            <ng-template #taxcode let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"!detailCustomer.value.isBusiness\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div nz-row>\r\n                                    <div nz-col nzSpan=\"12\">\r\n                                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                                        <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\" (ngModelChange)=\"genderChange($event)\">\r\n                                            <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n                                            <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n                                        </nz-select>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"12\">\r\n                                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                                        <nz-date-picker formControlName=\"datebirth\" nzPlaceHolder=\"{{'Select date of birth' | translate}}\" (ngModelChange)=\"onChangeDatePicker($event)\"></nz-date-picker>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </ng-container>\r\n          \r\n                    </div>\r\n                </div>\r\n\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div nz-row>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'Country' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 80%;\" formControlName=\"country\" nz-input placeholder=\"{{'Enter country' | translate}}\" (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'Province' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 80%;\" formControlName=\"province\" nz-input placeholder=\"{{'Enter province' | translate}}\" (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'District' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 70%;\" formControlName=\"district\" nz-input placeholder=\"{{'Enter district' | translate}}\" (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Member tier' | translate}}</b></div>\r\n                    <nz-form-control>\r\n                        <nz-select nzShowSearch [nzAllowClear]=\"false\" formControlName=\"id_customer_class\" (ngModelChange)=\"groupChange($event)\">\r\n                            <nz-option [nzValue]=\"null\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n\r\n                    </nz-form-control>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Note' | translate}}</b></div>\r\n                    <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\" formControlName=\"note\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n\r\n                <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n                    <div></div>\r\n                    <label nz-checkbox (ngModelChange)=\"changeDebtEnable($event)\" formControlName=\"debt_enable\">{{'Debit permission' | translate}}</label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <p *nzModalContent>{{'Are you sure to delete this customer?' | translate}}</p>\r\n</nz-modal>\r\n"],"names":["FormGroup","FormControl","Validators","i0","item_r20","item_r21","item_r22","item_r23","_r17","_r18","item_r49","item_r50","item_r51","item_r52","_r46","_r47","ctx_r6","_r39","CustomerGroupComponent","constructor","router","vhQueryCafe","vhQuery","vhAlgorithm","vhComponent","languageService","nzModalService","getlocalCustomerClasss","enable","month_of_year","points","money","JSON","parse","localStorage","getItem","symbol","text","ngOnInit","console","log","customer_group","getData","initFormAdd","formAdd","name","required","id_discount_bill","id_discount_sales","id_earning_points_bill","id_earning_points_product","exchange_coupon_enable","exchange_voucher_enable","exchange_payment_card_enable","earned_points_clear_auto","payment","initFormEdit","data","formEdit","Promise","all","getDiscount_saless","getEarningPointsBills","getEarningPointsProducts","then","discount_saless","earning_point_bills","earning_points_products","sortStringbyASC","map","item","number_customer","getlocalCustomers","filter","type","i","id_customer_class","_id","length","list_discount_bills","getlocalDiscount_bills","list_discount_saless","list_earning_point_bills","list_earning_points_products","checkExistGroup","groupName","resolve","reject","index","findIndex","changeAlias","toLowerCase","openAdd","visible_add","reset","closeAdd","getValue","value","newNameGroup","addGroup","res","showToast","translate","parseInt","parseFloat","addCustomerClass","response","push","Object","alertMessageDesktop","error","err","openEdit","visible_detail","data_selected","closeEdit","editGroup","valid","updateCustomerClass","bool","showModal","isVisible","_id_delete","handleOk","deleteGroup","handleCancel","goBack","navigate","confirm","nzTitle","nzOnOk","showLoading","deleteCustomerClass","customers","promise","updateCustomer","asyncPromiseAll","array","splice","indexOf","hideLoading","nzCancelText","finally","gotoDetailGroup","state","group","changePaymentBill","field","replaceAll","gotoAddDiscountInvoice","gotoAddDiscountSales","gotoAddPointInvoice","gotoAddPointProduct","selectors","decls","vars","consts","template","ctx","_r4","item_r8","$event","data_r6","ctx_r5","DetailGroupComponent","lang","cdRef","getCurrentNavigation","extras","ngAfterViewInit","doRefreshData","customerGroups","list_customer","list_search_customer","ngAfterViewChecked","document","querySelector","heightScroll","clientHeight","detectChanges","searchCustomer","event","searchList","searchCustomerModal","list_customer_valid","list_search_customer_valid","groupChange","ev","catch","isVisibleModalAdd","Array","arr","checked","openModal","ele"],"sourceRoot":"webpack:///"}