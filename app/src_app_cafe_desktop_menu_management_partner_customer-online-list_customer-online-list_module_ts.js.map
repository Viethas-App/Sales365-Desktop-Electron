{"version":3,"file":"src_app_cafe_desktop_menu_management_partner_customer-online-list_customer-online-list_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/partner/customer-online-list/customer-online-list.component.ts","./src/app/cafe/desktop/menu/management/partner/customer-online-list/customer-online-list.component.html","./src/app/cafe/desktop/menu/management/partner/customer-online-list/customer-online-list.module.ts","./src/app/cafe/desktop/menu/management/partner/customer-online-list/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/partner/customer-online-list/detail/detail.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VhAlgorithm, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n@Component({\r\n  selector: 'app-customer-online-list',\r\n  templateUrl: './customer-online-list.component.html',\r\n  styleUrls: ['./customer-online-list.component.scss']\r\n})\r\nexport class CustomerOnlineListComponent implements OnInit {\r\n  customerGroups: any = this.vhQueryCafe.getlocalCustomerClasss();\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public translate: TranslateService,\r\n    public languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery: VhQuery\r\n  ) {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      this.keySearch = this.router.getCurrentNavigation().extras.state.keySearch;\r\n      this.sortby = this.router.getCurrentNavigation().extras.state.sortby;\r\n      this.list_customers_search = this.router.getCurrentNavigation().extras.state.list_customers_search;\r\n      this.list_customers = this.list_customers_search\r\n    }\r\n  }\r\n  list_customers: any = [];\r\n  list_customers_search: any = [];\r\n  keySearch: any = ''; //biến lưu tạm key search\r\n  sortby: any = '1';\r\n  ngOnInit(): void {\r\n    this.getRefreshData()\r\n  }\r\n\r\n\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\") && document.querySelector(\".count-quantity\")) {\r\n      this.heightScroll = document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".count-quantity\").clientHeight - 100 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**--------------------- */\r\n\r\n  groupChange(ev, data) {\r\n    this.vhQueryCafe.updateCustomer(data._id, { id_customer_class: ev })\r\n      .catch((err) => { console.error(err) })\r\n  }\r\n\r\n  /**\r\n   * get tối đa 1000 khách hàng online\r\n   * @example  this.getRefreshData()\r\n   */\r\n  getRefreshData() {\r\n    this.vhQueryCafe.getCustomers().then((customers: any[])=>{\r\n      console.log('getCustomers', customers);\r\n      this.list_customers = customers.filter(filter => filter.type == 3).map(item => {\r\n        let customerGroup = this.customerGroups.find(f => f._id == item.id_customer_class)\r\n        if (customerGroup) {\r\n          item['name_customerGroup'] = customerGroup.name;\r\n        } else {\r\n          item['name_customerGroup'] = 'Không xác định'\r\n        }\r\n        return { ...item }\r\n      });\r\n      this.list_customers_search = this.list_customers\r\n      this.searchCustomer(this.keySearch)\r\n    }, error =>{\r\n      console.log('error', error);\r\n    })\r\n\r\n  }\r\n\r\n  /*---tìm kiếm khách hàng theo tên và email---*/\r\n  searchCustomer(event) {\r\n    let value = this.vhAlgorithm.changeAlias(event.toLowerCase());\r\n    this.keySearch = value;\r\n    this.list_customers = this.vhAlgorithm.searchList(\r\n      value,\r\n      this.list_customers_search,\r\n      [\"name\", \"phone\", \"email\"]\r\n    );\r\n    this.sortData(this.sortby);\r\n\r\n  }\r\n  /**\r\n   * sắp xếp khách hàng bằng tên theo bảng chữ cái anphabet\r\n   * @param event giá trị sắp xếp\r\n   */\r\n  changeSort(event) {\r\n    this.sortby = event;\r\n    this.sortData(this.sortby);\r\n  }\r\n\r\n  /**\r\n   * sắp xếp khách hàng theo tên\r\n   * @example this.sortData(\"1\")\r\n   */\r\n  sortData(sortby: any) {\r\n    console.log([...this.list_customers]);\r\n\r\n    if (sortby === \"1\") {\r\n      //sắp xếp từ A -> Z\r\n      this.list_customers = this.vhAlgorithm.sortStringbyASC([...this.list_customers], \"name\");\r\n    } else {\r\n      //sắp xếp từ Z -> A\r\n      this.list_customers = this.vhAlgorithm.sortStringbyDESC([...this.list_customers], \"name\");\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner']);\r\n  }\r\n  gotoDetailCustomer(data) {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer-online-list/detail'], {\r\n      state: {\r\n        data: data,\r\n        keySearch: this.keySearch,\r\n        sortby: this.sortby,\r\n        list_customers_search: this.list_customers_search\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  nameCol = false;\r\n  phoneCol = false;\r\n  emailCol = false;\r\n  addressCol = false;\r\n  name_customerGroupCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'name':\r\n        if(this.nameCol){\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyASC([...this.list_customers], colName);\r\n        }else{\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyDESC([...this.list_customers], colName);\r\n        }\r\n        break;\r\n      case 'phone':\r\n        if(this.phoneCol){\r\n          this.list_customers = this.vhAlgorithm.sortNumberbyASC([...this.list_customers], colName);\r\n        }else{\r\n          this.list_customers = this.vhAlgorithm.sortNumberbyDESC([...this.list_customers], colName);\r\n        }\r\n        break;\r\n      case 'email':\r\n        if(this.emailCol){\r\n          this.list_customers = this.vhAlgorithm.sortStringbyASC([...this.list_customers], colName);\r\n        }else{\r\n          this.list_customers = this.vhAlgorithm.sortStringbyDESC([...this.list_customers], colName);\r\n        }\r\n        break;\r\n      case 'address':\r\n        if(this.addressCol){\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyASC([...this.list_customers], colName);\r\n        }else{\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyDESC([...this.list_customers], colName);\r\n        }\r\n        break;\r\n      case 'name_customerGroup':\r\n        if(this.name_customerGroupCol){\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyASC([...this.list_customers], colName);\r\n        }else{\r\n          this.list_customers = this.vhAlgorithm.sortVietnamesebyDESC([...this.list_customers], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n  <div nz-row class=\"height-header\">\r\n    <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n      <b>{{'Customer from web/app' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"8\" class=\"right-all-content\">\r\n      <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n        <input #box type=\"text\" (keyup)=\"searchCustomer(box.value)\" nz-input [value]=\"keySearch ? keySearch : ''\"\r\n          placeholder=\"{{'Search for customer name, phone number' | translate}}\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n      <nz-select [ngModel]=\"sortby\" (ngModelChange)=\"changeSort($event)\" nzBorderless>\r\n        <nz-option nzValue=\"1\" nzLabel=\"A - Z\"></nz-option>\r\n        <nz-option nzValue=\"2\" nzLabel=\"Z - A\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n    <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n      <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"getRefreshData()\">\r\n        <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i>\r\n        {{'View'|translate}}</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div style=\"padding-top: 8px;\">\r\n    <div nz-row class=\"total-item small-size count-quantity\" *ngIf=\"list_customers.length\">\r\n      {{'Total' | translate}} &nbsp;<span style=\"color: var(--ion-color-vh-red);\">\r\n        {{list_customers.length}}&nbsp; </span> {{'customers' | translate}}\r\n    </div>\r\n    <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n      [nzData]=\"list_customers\" #dataCustomer nzShowPagination nzShowSizeChanger\r\n      >\r\n      <thead>\r\n        <tr>\r\n          <th nzWidth='10%' nzAlign=\"center\"><b>{{'Image' | translate}}</b></th>\r\n          <th style=\"cursor: pointer;\" nzWidth='30%' (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n            <b>{{'Customer name' | translate}}</b>\r\n            <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth='15%' (click)=\"phoneCol = !phoneCol;sortTable('phone')\">\r\n            <b>{{ 'Phone number' | translate}}</b>\r\n            <i nz-icon [nzType]=\"phoneCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth='15%' (click)=\"emailCol = !emailCol;sortTable('email')\">\r\n            <b>{{ 'Email' | translate}}</b>\r\n            <i nz-icon [nzType]=\"emailCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth='15%' (click)=\"addressCol = !addressCol;sortTable('address')\">\r\n            <b>{{ 'Address' | translate}}</b>\r\n            <i nz-icon [nzType]=\"addressCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n          <th style=\"cursor: pointer;\" nzWidth='15%'\r\n            (click)=\"name_customerGroupCol = !name_customerGroupCol;sortTable('name_customerGroup')\">\r\n            <b>{{ 'Customer tier' | translate}}</b>\r\n            <i nz-icon [nzType]=\"name_customerGroupCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let data of dataCustomer.data\" style=\"cursor: pointer;\" (click)=\"gotoDetailCustomer(data)\">\r\n          <td nzAlign=\"center\" style=\"padding: 0;\">\r\n            <img style=\"width: 40px; border-radius: 100%;\"\r\n              src=\"{{data.img?data.img:'assets/icon/management/noavatar.svg'}}\">\r\n          </td>\r\n          <td>{{ data.name }}</td>\r\n          <td>{{ data.phone }}</td>\r\n          <td>{{ data.email }}</td>\r\n          <td>{{ data.address }}</td>\r\n          <td>\r\n            {{data.name_customerGroup}}\r\n            <!-- (click)=\"$event.stopPropagation()\"\r\n                        <nz-select nzShowSearch [nzAllowClear]=\"false\" [(ngModel)]=\"data.id_customer_class\"\r\n                            (ngModelChange)=\"groupChange($event,data)\" style=\"width: 100%;\">\r\n                            <nz-option [nzValue]=\"''\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select> -->\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </nz-table>\r\n  </div>\r\n</nz-layout>\r\n","import { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router'; \r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CustomerOnlineListComponent } from './customer-online-list.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomerOnlineListComponent\r\n  }, \r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  }, \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CustomerOnlineListComponent,\r\n    DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class CustomerOnlineListModule { }\r\n","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  detailCustomer: FormGroup;\r\n  data: any;\r\n  selectedValue: any;\r\n  sortby: any;\r\n  keySearch: any;\r\n  customerGroups: any = []\r\n  data_extras ={\r\n    sortby:'',\r\n    keySearch:'',\r\n    list_customers_search : []\r\n  }\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private nzModalService: NzModalService,\r\n    private functionService: FunctionService,\r\n  ) {\r\n    this.data = this.router.getCurrentNavigation().extras.state.data;\r\n    this.data_extras.sortby = this.router.getCurrentNavigation().extras.state.sortby;\r\n    this.data_extras.keySearch = this.router.getCurrentNavigation().extras.state.keySearch;\r\n    this.data_extras.list_customers_search = this.router.getCurrentNavigation().extras.state.list_customers_search;\r\n    this.countryCode = this.data.countryCode ?? this.functionService.defaultCountryCode;\r\n    this.callingCode = this.functionService.getCallingCodeFromCountryCode(this.countryCode) ?? this.functionService.defaultCallingCode;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.data.phone, this.countryCode as CountryCode);\r\n    \r\n    this.detailCustomer = new FormGroup({\r\n      img: new FormControl(this.data.img),\r\n      name: new FormControl(this.data.name, Validators.required),\r\n      email: new FormControl(this.data.email),\r\n      gender: new FormControl(this.data.gender),\r\n      datebirth: new FormControl(this.data.datebirth),\r\n      phone: new FormControl(this.formattedPhone, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(this.data.address),\r\n      country: new FormControl(this.data.country),\r\n      province: new FormControl(this.data.province),\r\n      district: new FormControl(this.data.district),\r\n      note: new FormControl(this.data.note),\r\n      debt_enable: new FormControl(this.data.debt_enable),\r\n      id_customer_class: new FormControl(this.data.id_customer_class ? this.data.id_customer_class : ''),\r\n      type: new FormControl(this.data.type),\r\n      id_branch: new FormControl(this.data.id_branch),\r\n      isBusiness: new FormControl(this.data.isBusiness),\r\n      taxcode: new FormControl(this.data.taxcode),\r\n    });\r\n    this.selectedValue = this.data.gender;\r\n    // taxcode required khi isBusiness = true\r\n    if(this.data.isBusiness) {\r\n      this.detailCustomer.get('taxcode').setValidators([Validators.required]);\r\n      this.detailCustomer.get('taxcode').updateValueAndValidity();\r\n    }\r\n  }\r\n  ngOnInit(): void {\r\n    this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name')\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer-online-list'], {\r\n      state: {\r\n        ...this.data_extras\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * xóa khách hàng khỏi DB\r\n   * @example this.deleteCustomer()\r\n   */\r\n  deleteCustomer() {\r\n    this.vhQueryCafe.deleteCustomer(this.data._id)\r\n      .then(bool => {\r\n        if (bool) {\r\n          if (this.detailCustomer.value[\"img\"]) {\r\n            this.vhImage.deleteThumbnail(this.detailCustomer.value[\"img\"]).then(() => {\r\n              this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n              this.data_extras.list_customers_search = this.data_extras.list_customers_search.filter(item => item._id != this.data._id)\r\n              setTimeout(() => {\r\n                this.isVisible = false;\r\n                this.goBack();\r\n              }, 300);\r\n            })\r\n          } else {\r\n            this.data_extras.list_customers_search = this.data_extras.list_customers_search.filter(item => item._id != this.data._id)\r\n            this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n            setTimeout(() => {\r\n              this.isVisible = false;\r\n              this.goBack();\r\n            }, 300);\r\n          }\r\n\r\n        } else {\r\n          this.vhComponent.showToast(2000, (this.languageService.translate(\"Can't delete this customer\")), 'alert-toast');\r\n        }\r\n      });\r\n  }\r\n\r\n  groupChange(value) {\r\n    this.selectedValue = value;\r\n    this.detailCustomer.value.id_customer_class = this.selectedValue;\r\n    this.vhQueryCafe.updateCustomer(this.data._id, { id_customer_class: value ? value : null })\r\n  }\r\n\r\n  genderChange(value) {\r\n    this.selectedValue = value;\r\n    this.detailCustomer.value.gender = this.selectedValue;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  changeDebtEnable(value) {\r\n    this.detailCustomer.value.debt_enable = value;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  onChangeDatePicker(value) {\r\n    this.detailCustomer.value.datebirth = value;\r\n    this.updateCustomer(this.detailCustomer.value);\r\n  }\r\n  /** ------ Modal Zorro---- */\r\n  isVisible = false;\r\n\r\n  /**\r\n   * mở modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  showModal(): void {\r\n    this.isVisible = true;\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút ok modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  handleOk(): void {\r\n    this.deleteCustomer();\r\n  }\r\n\r\n  /**\r\n   * tắt modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  /**\r\n   * chuyển từ khách online sang thành viên\r\n   */\r\n  becomeMember() {\r\n    this.nzModalService.confirm({\r\n      nzTitle: this.languageService.translate(\"Chuyển khách hàng này là thành viên?\"),\r\n      nzOnOk: () => {\r\n        this.vhQueryCafe.updateCustomer(this.data._id, { type: 1 })\r\n          .then((res) => {\r\n            if (res) {\r\n              this.data_extras.list_customers_search = this.data_extras.list_customers_search.filter(item => item._id != this.data._id)\r\n              this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Cập nhật thành công\"))\r\n              this.goBack();\r\n            }\r\n          })\r\n      }\r\n    })\r\n  }\r\n\r\n  \r\n\r\n  /**\r\n   * cập nhật khách hàng theo trường truyền vào\r\n   * @param value \r\n   * @example this.updateCustomer({name : 'nguyen van a'})\r\n   */\r\n  updateCustomer(value) {\r\n    if (this.detailCustomer.valid) {\r\n      let customer = { ...value };\r\n\r\n      const phoneNumberValue = customer.phone;\r\n      customer.countryCode = this.countryCode;\r\n      customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n      customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n\r\n      if(customer.isBusiness) {\r\n        delete customer.gender;\r\n        delete customer.datebirth;\r\n      }\r\n      else {\r\n        delete customer.taxcode;\r\n      }\r\n\r\n      this.vhQueryCafe.updateCustomer(this.data._id, customer)\r\n        .then((res: any) => {\r\n          if(res.vcode == 1) {\r\n            //This phone number is already in use with another customer\r\n            this.isExitsPhone = true;\r\n            this.vhComponent.showToast(1500, this.languageService.translate('This phone number is already in use with another customer'), 'alert-toast');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * mở folder chọn file\r\n   * @example this.getFile()\r\n   */\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"customers\", this.detailCustomer.value[\"img\"] || null).then(\r\n      photoURL => {\r\n        this.detailCustomer.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateCustomer(this.detailCustomer.value);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'success-toast');\r\n      }\r\n    );\r\n  }\r\n  \r\n  \r\n  \r\n  /** Kiểm tra số điện thoại đã tồn tại ha chưa để hiển thị thông báo */\r\n  isExitsPhone: boolean = false;\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  \r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  \r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.detailCustomer.value.phone, this.countryCode as CountryCode);\r\n      this.detailCustomer.get('phone')?.markAsTouched();\r\n      this.detailCustomer.get('phone')?.markAsDirty();\r\n      this.detailCustomer.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.detailCustomer.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n            <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"showModal()\">\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <form nz-form [formGroup]=\"detailCustomer\">\r\n            <div nz-row style=\"padding-top: 8px;\">\r\n                <div nz-col nzSpan=\"24\" class=\"center-all-content\" style=\"padding-bottom:8px;\">\r\n                    <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                        <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                            (change)=\"onUpload($event)\" />\r\n                        <img [ngStyle]=\"{width: detailCustomer.value.img ? '100%' : '60px'}\"\r\n                            onerror=\"this.src='assets/icon/management/noavatar.svg'\" [src]=\"detailCustomer.value.img\" />\r\n                    </div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"name\" nz-input\r\n                                    placeholder=\"{{'Enter customer name' | translate}}\" required\r\n                                    (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                <ng-template #combineTplName let-control>\r\n                                    <!-- <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' | translate}}\r\n                    </ng-container> -->\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                            <nz-input-group>\r\n                                <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                                    <span>+{{callingCode}}</span>\r\n                                    <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                </div>\r\n                                <input formControlName=\"phone\"\r\n                                    (input)=\"formatPhoneNumber($event)\"\r\n                                    [value]=\"formattedPhone\"\r\n                                    [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required\r\n                                    (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                <ng-template #combineTplPhone let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                            <div *ngIf=\"isExitsPhone\"\r\n                                class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n                                ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n                                <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                                    {{'Phone number already exists' | translate}}\r\n                                </div>\r\n                            </div>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Email' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"email\" nz-input\r\n                                    placeholder=\"{{'Enter customer mail' | translate}}\"\r\n                                    (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Address' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\"\r\n                                    (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div nz-row>\r\n                      <div nz-col nzSpan=\"8\">\r\n                        <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n                        <nz-select nzDisabled nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n                          formControlName=\"isBusiness\">\r\n                          <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n                          <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n                        </nz-select>\r\n                      </div>\r\n                      <ng-container *ngIf=\"detailCustomer.value.isBusiness\">\r\n                        <div nz-col nzSpan=\"16\">\r\n                          <div><b class='label'>{{'Tax code' | translate}}*</b></div>\r\n                          <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"taxcode\">\r\n                              <nz-input-group>\r\n                                <input formControlName=\"taxcode\" (blur)=\"updateCustomer(detailCustomer.value)\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                                <ng-template #taxcode let-control>\r\n                                  <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                                  </ng-container>\r\n                                </ng-template>\r\n                              </nz-input-group>\r\n                            </nz-form-control>\r\n                          </nz-form-item>\r\n                        </div>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"!detailCustomer.value.isBusiness\">\r\n                        <div nz-col nzSpan=\"12\">\r\n                          <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\"\r\n                                    formControlName=\"gender\" (ngModelChange)=\"genderChange($event)\">\r\n                                    <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n                                    <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n                                </nz-select>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                                <nz-date-picker formControlName=\"datebirth\"\r\n                                    nzPlaceHolder=\"{{'Select date of birth' | translate}}\"\r\n                                    (ngModelChange)=\"onChangeDatePicker($event)\"></nz-date-picker>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </ng-container>\r\n          \r\n                    </div>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div nz-row>\r\n\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'Country' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 80%;\" formControlName=\"country\" nz-input\r\n                                            placeholder=\"{{'Enter country' | translate}}\"\r\n                                            (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'Province' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 80%;\" formControlName=\"province\" nz-input\r\n                                            placeholder=\"{{'Enter province' | translate}}\"\r\n                                            (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <div><b class='label'>{{'District' | translate}}</b></div>\r\n                            <nz-form-item>\r\n                                <nz-form-control>\r\n                                    <nz-input-group>\r\n                                        <input style=\"width: 70%;\" formControlName=\"district\" nz-input\r\n                                            placeholder=\"{{'Enter district' | translate}}\"\r\n                                            (blur)=\"updateCustomer(detailCustomer.value)\" />\r\n                                    </nz-input-group>\r\n                                </nz-form-control>\r\n                            </nz-form-item>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Member tier' | translate}}</b></div>\r\n                    <nz-form-control>\r\n                        <nz-select nzShowSearch [nzAllowClear]=\"false\" formControlName=\"id_customer_class\"\r\n                            (ngModelChange)=\"groupChange($event)\">\r\n                            <nz-option [nzValue]=\"''\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                            </nz-option>\r\n                            <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n\r\n                    </nz-form-control>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Note' | translate}}</b></div>\r\n                    <textarea nz-input placeholder=\"{{'Enter note' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\" formControlName=\"note\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n\r\n                <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n                    <div></div>\r\n                    <label nz-checkbox (ngModelChange)=\"changeDebtEnable($event)\" formControlName=\"debt_enable\">{{'Debit permission' | translate}}</label>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col>\r\n                    <button class=\"btn-exchange center-all-content\" nz-button nzType=\"default\"\r\n                        (click)=\"becomeMember()\">\r\n                        <i nz-icon nzType=\"sync\" nzTheme=\"outline\"></i>\r\n                        {{'Convert to member customer' | translate}}</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\"\r\n    (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <p *nzModalContent>{{'Are you sure to delete this customer?' | translate}}</p>\r\n</nz-modal>"],"names":[],"sourceRoot":"webpack:///"}