{"version":3,"file":"src_app_cafe_desktop_menu_management_partner_customer_customer_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/partner/customer/add-customer/add-customer.component.ts","./src/app/cafe/desktop/menu/management/partner/customer/add-customer/add-customer.component.html","./src/app/cafe/desktop/menu/management/partner/customer/create-data-customers/create-data-customers.component.ts","./src/app/cafe/desktop/menu/management/partner/customer/create-data-customers/create-data-customers.component.html","./src/app/cafe/desktop/menu/management/partner/customer/customer.component.ts","./src/app/cafe/desktop/menu/management/partner/customer/customer.component.html","./src/app/cafe/desktop/menu/management/partner/customer/customer.module.ts","./src/app/cafe/desktop/menu/management/partner/customer/detail-customer/detail-customer.component.ts","./src/app/cafe/desktop/menu/management/partner/customer/detail-customer/detail-customer.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhImage, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-add-customer',\r\n  templateUrl: './add-customer.component.html',\r\n  styleUrls: ['./add-customer.component.scss']\r\n})\r\nexport class AddCustomerComponent {\r\n\r\n  stateObj: any;\r\n  selectedValue: any;\r\n  addCustomerForm: FormGroup;\r\n  \r\n  phone: any;\r\n  createProd: boolean = false;\r\n  customerGroups: any = [];\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public lang: LanguageService,\r\n    private vhImage: VhImage,\r\n    private functionService: FunctionService,\r\n  ) {\r\n    this.stateObj = this.router.getCurrentNavigation().extras.state.stateObj;\r\n   \r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.initaddCustomerForm();\r\n    this.customerGroups = this.vhQueryCafe.getlocalCustomerClasss()\r\n  }\r\n\r\n\r\n\r\n  ngOnDestroy() {\r\n    if (!this.createProd && this.addCustomerForm.value['img']) {\r\n      this.vhImage.deleteThumbnail([this.addCustomerForm.value['img']])\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * khởi tạo form lưu các trường của customer\r\n   * @example  this.initaddCustomerForm();\r\n   */\r\n  initaddCustomerForm() {\r\n    this.addCustomerForm = new FormGroup({\r\n      img: new FormControl(null),\r\n      name: new FormControl(null, Validators.compose([Validators.required])),\r\n      email: new FormControl(null, Validators.compose([Validators.email])),\r\n      gender: new FormControl(null),\r\n      datebirth: new FormControl(null),\r\n      phone: new FormControl(null, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(null),\r\n      country: new FormControl(null),\r\n      province: new FormControl(null),\r\n      district: new FormControl(null),\r\n      note: new FormControl(null),\r\n      debt_enable: new FormControl(true),\r\n      id_customer_class : new FormControl(null),\r\n      type : new FormControl(1),\r\n      id_branch : new FormControl(this.vhQueryCafe.getDefaultBranch()._id),\r\n      time_for_payment : new FormControl(0, Validators.compose([Validators.required])),\r\n      delete_hidden: new FormControl(false),\r\n      isBusiness: new FormControl(false),\r\n      taxcode: new FormControl(null),\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * quay về trang danh sách khách hàng\r\n   * @example this.goBack();\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer'], {\r\n      state: {\r\n        stateObj: this.stateObj,\r\n         \r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  isExitsPhone: boolean = false;\r\n  /**\r\n   * add customer lên DB\r\n   * @example this.addCustomer()\r\n   */\r\n  addCustomer() {\r\n    this.vhComponent.showLoading(\"\").then(() => {\r\n      let customer: any = { ...this.addCustomerForm.value };\r\n      // xử lý số điện thoại\r\n      const phoneNumberValue = customer.phone;\r\n      customer.countryCode = this.countryCode;\r\n      customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n      customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n\r\n      customer.date = new Date().toISOString();\r\n\r\n      if(customer.isBusiness) {\r\n        delete customer.gender;\r\n        delete customer.datebirth;\r\n      }\r\n      else {\r\n         delete customer.taxcode;\r\n      }\r\n\r\n      this.vhQueryCafe.addCustomer(customer)\r\n        .then((rsp:any) => {\r\n          this.vhComponent.hideLoading(0);\r\n          if(rsp.vcode == 0){\r\n            //addCustomer thành công\r\n            setTimeout(() => {\r\n              this.vhComponent.showToast(1500, `${this.lang.translate(\"Customer\")} ${customer.name} ${this.lang.translate(\"has been added successfully\")}`, \"success-toast\")\r\n              this.createProd = true;\r\n              this.goBack();\r\n            }, 300);\r\n           }else if(rsp.vcode == 1){\r\n            //This phone number is already in use with another customer\r\n            this.isExitsPhone = true;\r\n            this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another customer\"), 'alert-toast')\r\n           }\r\n         \r\n        }, error => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"An error occurred while adding customer. Please try again\"), 'alert-toast')\r\n        })\r\n    })\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * mở giao diện chọn file để upload ảnh\r\n   * @example getFile()\r\n   */\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n\r\n  \r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"customers\", this.addCustomerForm.value[\"img\"] || '').then(\r\n      photoURL => {\r\n        this.addCustomerForm.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.lang.translate(\"Image was loaded successfully\")), 'success-toast');\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.lang.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  } \r\n\r\n\r\n\r\n  /**\r\n   * thay đổi cho phép nợ hay ko\r\n   * @example changeDebt()\r\n   */\r\n  changeDebt(){\r\n    if(this.addCustomerForm.value.debt_enable) {\r\n      this.addCustomerForm.addControl('time_for_payment', new FormControl(null, [Validators.required]));\r\n    }\r\n    else {\r\n      this.addCustomerForm.removeControl('time_for_payment');\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi thay đổi Loại khách hàng\r\n   */\r\n  changeBusiness(event) {\r\n    // taxcode required khi isBusiness = true\r\n    if (event) {\r\n      this.addCustomerForm.get('taxcode')?.setValidators([Validators.required]);\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    } \r\n    else {\r\n      this.addCustomerForm.get('taxcode')?.clearValidators();\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.addCustomerForm.value.phone, this.countryCode as CountryCode);\r\n      this.addCustomerForm.get('phone')?.markAsTouched();\r\n      this.addCustomerForm.get('phone')?.markAsDirty();\r\n      this.addCustomerForm.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      // console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.addCustomerForm.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n  <div nz-row>\r\n    <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n      <b>{{'Add customer' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n      <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"addCustomer()\"\r\n        [disabled]=\"addCustomerForm.invalid\" [ngStyle]=\"{opacity: addCustomerForm.invalid ? 0.5 : 1}\">\r\n        <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n        {{'Save'|translate}}</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div>\r\n    <form nz-form [formGroup]=\"addCustomerForm\">\r\n      <div nz-row style=\"padding-top:8px;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\" style=\"padding-bottom:8px;\">\r\n          <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n              (change)=\"onUpload($event)\" />\r\n            <img [ngStyle]=\"{width: addCustomerForm.value.img ? '100%' : '60px'}\"\r\n              onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"addCustomerForm.value.img\" />\r\n          </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n              <nz-input-group>\r\n                <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n                <ng-template #combineTplName let-control>\r\n                  <!-- <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' | translate}}\r\n                  </ng-container> -->\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <!-- Số điện thoại -->\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n              <nz-input-group>\r\n                <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                  <span>+{{callingCode}}</span>\r\n                  <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                </div>\r\n                <input formControlName=\"phone\"\r\n                  (input)=\"formatPhoneNumber($event)\"\r\n                  [value]=\"formattedPhone\"\r\n                  [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required />\r\n                <ng-template #combineTplPhone let-control>\r\n                  <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n              <div *ngIf=\"isExitsPhone\"\r\n                class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n                ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n                <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                  {{'Phone number already exists' | translate}} </div>\r\n              </div>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Email' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n              <nz-input-group>\r\n                <input type=\"email\" formControlName=\"email\" nz-input\r\n                  placeholder=\"{{'Enter customer mail' | translate}}\" />\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Address' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control>\r\n              <nz-input-group>\r\n                <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n      <div nz-row>\r\n\r\n        <div nz-col nzSpan=\"12\">\r\n          <div nz-row>\r\n            <!-- Loại khách hàng -->\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n              <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n                formControlName=\"isBusiness\" \r\n                (ngModelChange)=\"changeBusiness($event)\">\r\n                <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n                <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n              </nz-select>\r\n            </div>\r\n\r\n            <!-- Mã số thuế -->\r\n            <ng-container *ngIf=\"addCustomerForm.value.isBusiness\">\r\n              <div nz-col nzSpan=\"15\">\r\n                <div><b class='label'>{{'Tax code' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                  <nz-form-control [nzErrorTip]=\"taxcode\">\r\n                    <nz-input-group>\r\n                      <input formControlName=\"taxcode\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                      <ng-template #taxcode let-control>\r\n                        <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                        </ng-container>\r\n                      </ng-template>\r\n                    </nz-input-group>\r\n                  </nz-form-control>\r\n                </nz-form-item>\r\n              </div>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"!addCustomerForm.value.isBusiness\">\r\n              <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                  <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\"\r\n                      [(ngModel)]=\"selectedValue\" formControlName=\"gender\">\r\n                      <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n                      <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n                    </nz-select>\r\n                  </div>\r\n                  <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                    <nz-date-picker formControlName=\"datebirth\" nzPlaceHolder=\"{{'Select date of birth' | translate}}\">\r\n                    </nz-date-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n\r\n          </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div nz-row>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Country' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 80%;\" formControlName=\"country\" nz-input\r\n                      placeholder=\"{{'Enter country' | translate}}\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Province' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 80%;\" formControlName=\"province\" nz-input\r\n                      placeholder=\"{{'Enter province' | translate}}\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'District' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 70%;\" formControlName=\"district\" nz-input\r\n                      placeholder=\"{{'Enter district' | translate}}\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <div nz-row> -->\r\n        <!-- <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Note' | translate}}</b></div>\r\n          <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n            formControlName=\"note\"></textarea>\r\n        </div> -->\r\n        <div nz-row>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div class=\"medium-size\"><b>{{'Member tier' | translate}}</b></div>\r\n            <nz-form-control>\r\n              <nz-select  nzShowSearch [nzAllowClear]=\"false\"\r\n                formControlName=\"id_customer_class\">\r\n                <nz-option  [nzValue]=\"null\" nzLabel=\"{{'Undefined' | translate}}\">\r\n                </nz-option>\r\n                <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n                </nz-option>\r\n              </nz-select> \r\n            </nz-form-control>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Note' | translate}}</b></div>\r\n            <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n              formControlName=\"note\"></textarea>\r\n          </div>\r\n        </div>\r\n        \r\n      <!-- </div> -->\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div></div>\r\n          <label nz-checkbox formControlName=\"debt_enable\" (ngModelChange)=\"changeDebt()\">{{'Debit permission' | translate}}</label>\r\n        </div>\r\n      </div>\r\n      <div nz-row *ngIf=\"addCustomerForm.value.debt_enable\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div><b class='label'>{{'Payment term' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplTime\">\r\n              <nz-input-group>\r\n                <nz-input-number style=\"width: 90%;\" formControlName=\"time_for_payment\"   nzPlaceHolder=\"{{'Enter number of days' | translate}}\"   [nzMin]=\"0\"></nz-input-number>\r\n                <ng-template #combineTplTime let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'This field is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</nz-layout>","import { Component } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhQueryCafe, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-create-data-customers',\r\n  templateUrl: './create-data-customers.component.html',\r\n  styleUrls: ['./create-data-customers.component.scss']\r\n})\r\nexport class CreateDataCustomersComponent {\r\n\r\n  formData: FormGroup[] = [];\r\n  localCustomer: any[] = this.vhQueryCafe.getlocalCustomers().filter(item => item.type != 3).filter(item => item['_id'] != \"id_retail\")\r\n  nameFile: string = \"\";\r\n  url: any = \"/assets/documents/list-customer/\" + this.languageService.translate(\"Customer list\") + \".xlsx\";\r\n\r\n\r\n\r\n  stateObj: any;\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private router: Router,\r\n    private languageService: LanguageService,\r\n    private nzModalService: NzModalService,\r\n    private platform: Platform,\r\n    private functionService: FunctionService,\r\n  ) {\r\n    this.stateObj = this.router.getCurrentNavigation().extras.state.stateObj;\r\n  }\r\n\r\n\r\n\r\n  /**Chọn file */\r\n  openFile() {\r\n    document.getElementById(\"file_excel_customer\")['value'] = '';\r\n    document.getElementById(\"file_excel_customer\").click()\r\n  }\r\n\r\n\r\n\r\n  validation_messages = {\r\n    name: [\r\n      { type: \"required\", message: this.languageService.translate(\"Name is required\") }\r\n    ],\r\n    status_name: [\r\n      { message: this.languageService.translate(\"Invalid name\") }\r\n    ],\r\n    email: [\r\n      { type: \"required\", message: this.languageService.translate(\"Email is required\") },\r\n      { type: \"email\", message: this.languageService.translate(\"Invalid email\") }\r\n    ],\r\n    status_email: [\r\n      { message: this.languageService.translate(\"Invalid email\") }\r\n    ],\r\n    phone: [\r\n      { type: \"required\", message: this.languageService.translate(\"Phone number is required\") },\r\n      { type: \"pattern\", message: this.languageService.translate(\"Invalid phone number\") },\r\n      { type: \"invalidPhone\", message: this.languageService.translate(\"_Invalid phone number\") },\r\n      { type: \"exited\", message: this.languageService.translate(\"Exited phone number\") },\r\n      { type: \"notInternational\", message: this.languageService.translate(\"Phone number must start with '+' for international format\") }\r\n    ],\r\n    status_phone: [{ message: this.languageService.translate(\"Invalid phone number\") }\r\n    ],\r\n  };\r\n\r\n\r\n\r\n  /**\r\n   * trả về form lưu các trường để thêm khách hàng\r\n   * @example this.initForm({name : '',...} , 1)\r\n   */\r\n  initForm(data, index) {\r\n    return new FormGroup({\r\n      id: new FormControl(index),\r\n      type: new FormControl(1),\r\n      name: new FormControl(data[this.languageService.translate(\"_customer_name\")], [Validators.required]),\r\n      gender: new FormControl(data[this.languageService.translate(\"_gender\")]),\r\n      email: new FormControl(data[this.languageService.translate(\"_email\")] ? data[this.languageService.translate(\"_email\")] : ''),\r\n      status_email: new FormControl(false), // trạng thái tên true: trùng / false: oke\r\n      phone: new FormControl(\r\n        data[this.languageService.translate(\"Phone number\")] ? data[this.languageService.translate(\"Phone number\")] : '',\r\n        [\r\n          Validators.required,\r\n          this.functionService.internationalPhoneValidator(),\r\n          this.functionService.phoneValidator(() => this.functionService.getCountryCodeFromPhoneNumberInternational(data[this.languageService.translate(\"Phone number\")])),\r\n        ]\r\n      ),\r\n      status_phone: new FormControl(false), // trạng thái tên true: trùng / false: oke\r\n      address: new FormControl(data[this.languageService.translate(\"_address\")]),\r\n      district: new FormControl(data[this.languageService.translate(\"_district\")]),\r\n      province: new FormControl(data[this.languageService.translate(\"_province\")]),\r\n      country: new FormControl(data[this.languageService.translate(\"_country\")]),\r\n      time_for_payment: new FormControl(0),\r\n      delete_hidden: new FormControl(false),\r\n      exited_phone: new FormControl(data['exited_phone']), // trạng thái tên true: trùng / false: oke\r\n    });\r\n  }\r\n\r\n   /**\r\n   * trả về form lưu các trường để thêm khách hàng cho trường hợp đã add và check trùng sdt\r\n   * @example this.initForm({name : '',...} , 1)\r\n   */\r\n   initFormExitPhone(data, index) {\r\n    return new FormGroup({\r\n      id: new FormControl(index),\r\n      type: new FormControl(1),\r\n      name: new FormControl(data['name'], [Validators.required]),\r\n      gender: new FormControl(data[\"gender\"]),\r\n      email: new FormControl(data[\"email\"] ? data['email'] : ''),\r\n      status_email: new FormControl(false), // trạng thái tên true: trùng / false: oke\r\n      phone: new FormControl(\r\n        data['phoneNumber'] ? data['phoneNumber'] : '',\r\n        [\r\n          Validators.required,\r\n          this.functionService.internationalPhoneValidator(),\r\n          this.functionService.phoneValidator(() => this.functionService.getCountryCodeFromPhoneNumberInternational(data['phoneNumber'])),\r\n        ]\r\n      ),\r\n      status_phone: new FormControl(false), // trạng thái tên true: trùng / false: oke\r\n      address: new FormControl(data['address']),\r\n      district: new FormControl(data['district']),\r\n      province: new FormControl(data['province']),\r\n      country: new FormControl(data['country']),\r\n      time_for_payment: new FormControl(0),\r\n      delete_hidden: new FormControl(false),\r\n      exited_phone: new FormControl(data['exited_phone']), // trạng thái tên true: trùng / false: oke\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * lọc toàn bộ mảng từ file excel và set lại trường status_phone\r\n   * @example this.checkModelChange()\r\n   */\r\n  checkModelChange() {\r\n    this.formData.forEach((form, index) => {\r\n      let status: any = this.checkEmailAndPhone(form['value']['phone'], form['value']['id'])\r\n      form.controls['status_phone'].setValue(status[0] ? true : status[1])\r\n    })\r\n  }\r\n\r\n\r\n\r\n  /**Check phone đã tồn tại chưa và lấy id_customer\r\n   *  @example this.checkEmailAndPhone(0123456, 1)\r\n  */\r\n  checkEmailAndPhone(phone, id_form?: any) {\r\n    if (phone != \"\") {\r\n      let checkPhoneDB: any = this.localCustomer.find(item => item['phone'].trim() == phone.toString().trim());\r\n      let checkPhone: any = this.formData.filter(item => item['value'].phone.trim() == phone.trim() && item['value']['id'] != id_form).length == 0 ? false : true;\r\n      return [checkPhoneDB ? checkPhoneDB['_id'] : null, checkPhone]\r\n    } else return [null];\r\n  }\r\n\r\n\r\n\r\n  /**Mở CSVFile */\r\n  openXLSXFile(events) {\r\n    if (events.target.files[0]) {\r\n      // lưu tên file\r\n      this.nameFile = events.target.files[0]['name'].slice(0, events.target.files[0]['name'].lastIndexOf(\".\"))\r\n\r\n      this.vhAlgorithm.importXLSX(events.target.files[0]).then((data: any) => {\r\n        if (data.length > 200) {\r\n          this.vhComponent.alertMessage(\"\", this.languageService.translate(\"Only 200 customers can be imported at a time\"), \"\", \"OK\").then(() => {\r\n            this.formData = []\r\n          })\r\n        } else {\r\n          this.formData = []\r\n          if (data.length) {\r\n            this.vhComponent.showLoading(\"\").then(() => {\r\n              data.forEach((item, index) => {\r\n                this.formData.push(this.initForm(item, index))\r\n                if (index == data.length - 1) {\r\n                  this.vhComponent.hideLoading(0)\r\n                  this.checkModelChange();\r\n                }\r\n              })\r\n            })\r\n          }\r\n        }\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0)\r\n        this.formData = [];\r\n        this.vhComponent.alertMessage(this.languageService.translate(\"Error\"), this.languageService.translate(\"Fail file format\"), \"\", this.languageService.translate(\"Cancel\"))\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /** Xuất ra file CSV hoặc tải về file mẫu */\r\n  status: boolean = false;\r\n  exportXLSXFile() {\r\n    if (this.formData.length) {\r\n      let XLSXData: any[] = [];\r\n      this.formData.forEach((item, index) => {\r\n        let row: Object = new Object;\r\n\r\n        row[this.languageService.translate(\"_customer_name\")] = item['value']['name']\r\n        row[this.languageService.translate(\"_gender\")] = item['value']['gender']\r\n        row[this.languageService.translate(\"_email\")] = item['value']['email']\r\n        row[this.languageService.translate(\"Phone number\")] = item['value']['phone']\r\n        row[this.languageService.translate(\"_address\")] = item['value']['address']\r\n        row[this.languageService.translate(\"_district\")] = item['value']['district']\r\n        row[this.languageService.translate(\"_province\")] = item['value']['province']\r\n        row[this.languageService.translate(\"_country\")] = item['value']['country']\r\n\r\n        XLSXData.push(row)\r\n        if (index == this.formData.length - 1) {\r\n          this.vhAlgorithm.exportXLSX(XLSXData, this.nameFile).then(() => this.status = true).catch(err => this.status = true)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**Check dữ liệu trước khi tạo dữ liệu */\r\n  checkForm(): boolean {\r\n    for (let i = 0; i < this.formData.length; i++) {\r\n      if (this.formData[i].invalid || this.formData[i]['value'].status_email == true || this.formData[i]['value'].status_phone == true) {\r\n        this.vhComponent.alertMessage(this.languageService.translate(\"Error\"), `${this.languageService.translate(\"Error line\")} ${i + 1}`, \"\", this.languageService.translate(\"Cancel\"))\r\n        return false;\r\n      }\r\n      if(this.formData[i]['value'].exited_phone) return false;\r\n      if (i == this.formData.length - 1) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  createdError: string = \"\";\r\n  /**\r\n   * bắt sk nhấn nút lưu\r\n   * @example this.createDataCustomer() \r\n   */\r\n  createDataCustomer() {\r\n    if (this.checkForm()) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Create customer data\"), \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(res => {\r\n          this.createCustomer();\r\n        }, () => { })\r\n    }\r\n    else {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Please check the data again\"),)\r\n     \r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * tạo khách hàng lên DB\r\n   * @example this.createCustomer();\r\n   */\r\n  createCustomer() {\r\n    this.vhComponent.showLoading(\"\", \"current-loading\").then(() => {\r\n      const data: any[] = this.formData.map(form => {\r\n        let customerVal: any = { ...form['value'] };\r\n        customerVal['gender'] = this.languageService.translate(form['value']['gender'] ? form['value']['gender'] : '');\r\n        delete customerVal['status_email'];\r\n        delete customerVal['status_phone'];\r\n        customerVal['countryCode'] = this.functionService.getCountryCodeFromPhoneNumberInternational(customerVal['phone']);\r\n        customerVal['phone'] = this.functionService.getNationalPhoneNumber(customerVal['phone'], customerVal['countryCode']);\r\n        customerVal['phoneNumber'] = this.functionService.getInternationalPhoneNumber(customerVal['phone'], customerVal['countryCode']);\r\n        customerVal['isBusiness'] = false;\r\n        return customerVal;\r\n      });\r\n      console.log([...data]);\r\n      this.vhQueryCafe.addCustomers([...data]).then((customer: any) => {\r\n        console.log(customer);\r\n        this.localCustomer = [...this.localCustomer.concat([...customer.data])];\r\n        this.showLog([...data], [...customer.data]);\r\n      }, error => {\r\n        console.error(error)\r\n      }).finally(() => this.vhComponent.hideLoading(0));\r\n    })\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * hiển thị modal lỗi thêm khách hàng nếu có\r\n   * @param data mảng khách hàng cần thêm\r\n   * @param dataSuccess mảng khách hàng đã thêm lên DB thành công\r\n   * @example this.showLog([...data], [...customer])\r\n   */\r\n  showLog(data: any[], dataSuccess: any[]) {\r\n    this.createdError = \"\"\r\n    if (data.length != dataSuccess.length) {\r\n      let array = []\r\n      for (let customer of data) {\r\n        if (!dataSuccess.some(item => item.phone == customer.phone))\r\n          // this.createdError += `<span> - ${customer.name}(${customer.phone})</span><br/>`\r\n        array.push({...customer, exited_phone: true})\r\n      }\r\n      console.log(array);\r\n      \r\n      // this.nzModalService.error({\r\n      //   nzTitle: this.languageService.translate(\"Customers have been created failed\"),\r\n      //   nzContent: this.createdError\r\n      // });\r\n      this.formData = []\r\n      array.forEach((item, index) => {\r\n        this.formData.push(this.initFormExitPhone(item, index))\r\n        if (index == data.length - 1) {\r\n          // this.vhComponent.hideLoading(0)\r\n          // this.checkModelChange();\r\n        }\r\n      })\r\n    } else {\r\n      this.vhComponent.showToast(1500, `${this.languageService.translate(\"Customers\")} ${this.languageService.translate(\"has been added successfully\")}`, \"success-toast\")\r\n      this.goBack()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /** Tải file mẫu */\r\n  downloadSampleFile() {\r\n    if (this.platform.is(\"electron\")) {\r\n      let urlEn = \"https://github.com/Viethas-App/Download-Sample-File/releases/download/Download-Sample-File/Customer-list.xlsx\"\r\n      let urlVI = \"https://github.com/Viethas-App/Download-Sample-File/releases/download/Download-Sample-File/Danh-sach-khach-hang.xlsx\"\r\n      let appLang: any = localStorage.getItem(\"vh-sales-language\")\r\n      if (appLang == 'vi') window.open(urlVI, '_blank', 'location=yes,height=250,width=250,scrollbars=yes,status=yes,title=Download')\r\n      else window.open(urlEn, '_blank', 'location=yes,height=250,width=250,scrollbars=yes,status=yes,title=Download')\r\n    } else {\r\n      document.getElementById(\"download_customer\").click()\r\n    }\r\n  }\r\n\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer'], {\r\n      state: {\r\n        stateObj: this.stateObj,\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back'|translate}}\r\n</div>\r\n<nz-layout>\r\n  <div nz-row style=\"padding-bottom: 16px;z-index: 99;\">\r\n    <div nz-col nzSpan=\"8\" class=\"title left-all-content\">\r\n      <b>{{'Create customer data' |translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"16\" class=\"right-all-content\">\r\n      <div>\r\n        <button (click)=\"downloadSampleFile()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n          {{'Download sample file' | translate}}</button>\r\n      </div>\r\n      <div>\r\n        <button (click)=\"exportXLSXFile()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"export\" nzTheme=\"outline\"></i>\r\n          {{'Export file'|translate}}</button>\r\n      </div>\r\n      <div>\r\n        <button (click)=\"openFile()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"upload\" nzTheme=\"outline\"></i>\r\n          {{'Import file'|translate}}</button>\r\n      </div>\r\n      <div>\r\n        <button (click)=\"createDataCustomer()\" [disabled]=\"!formData.length\" class=\"btn-add center-all-content\"\r\n          nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n          {{'Create data'|translate}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div nz-row class='table'>\r\n    <table>\r\n      <thead>\r\n        <tr id=\"importCSV-header\">\r\n          <th style=\"max-width: 3% !important; width: 3%;\">#</th>\r\n          <th style=\"max-width: 22% !important; width: 22%;\">{{\"_customer_name\"| translate}}</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_gender\"| translate}}</th>\r\n          <th style=\"max-width: 15% !important; width: 15%;\">{{\"_email\"| translate}}</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_phone\"| translate}} <br> ({{'international format' | translate}})</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_address\"| translate}}</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_district\"| translate}}</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_province\"| translate}}</th>\r\n          <th style=\"max-width: 10% !important; width: 10%;\">{{\"_country\"| translate}}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let form of formData ? formData : []; let i = index\" [formGroup]=\"form\">\r\n          <td style=\"max-width: 3% !important; width: 3%;\">{{i+ 1}}</td>\r\n          <td style=\"max-width: 22% !important; width: 22%;\">\r\n            <input type=\"text\" formControlName=\"name\" (change)=\"checkModelChange()\"\r\n              placeholder=\"{{ '_customer_name'| translate}}\" />\r\n            <ng-container *ngFor=\"let validation of validation_messages.name\">\r\n              <div class=\"error-message error-font\" *ngIf=\"form.value['name'] == true\">\r\n                <ion-text color=\"default_red\">{{ validation.message }}</ion-text>\r\n              </div>\r\n            </ng-container>\r\n            <ng-container *ngFor=\"let validation of validation_messages.status_name\">\r\n              <div class=\"error-message error-font\" *ngIf=\"form.value['status_name'] == true\">\r\n                <ion-text color=\"default_red\">{{ validation.message }}</ion-text>\r\n              </div>\r\n            </ng-container>\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%; text-align: center;\">\r\n            <select formControlName=\"gender\">\r\n              <option value=\"{{'Male' | translate}}\">{{\"Male\" | translate}}</option>\r\n              <option value=\"{{'Female' | translate}}\">{{\"Female\" | translate}}</option>\r\n            </select>\r\n          </td>\r\n          <td style=\"max-width: 15% !important; width: 15%;\">\r\n            <input type=\"text\" formControlName=\"email\" (change)=\"checkModelChange()\"\r\n              placeholder=\"{{ '_email'| translate}}\" />\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%;\">\r\n            <input type=\"text\" formControlName=\"phone\" (input)=\"checkModelChange();form.controls['exited_phone'].setValue(false)\"\r\n              placeholder=\"{{ '_phone'| translate}}\" />\r\n            <ng-container *ngFor=\"let validation of validation_messages.phone\">\r\n              <div class=\"error-message error-font\" *ngIf=\"form.get('phone').hasError(validation.type)\">\r\n                <ion-text color=\"default_red\">{{ validation.message }}</ion-text>\r\n              </div>\r\n            </ng-container>\r\n            <ng-container *ngFor=\"let validation of validation_messages.status_phone\">\r\n              <div class=\"error-message error-font\" *ngIf=\"form.value['status_phone'] == true\">\r\n                <ion-text color=\"default_red\">{{ validation.message }}</ion-text>\r\n              </div>\r\n            </ng-container>\r\n            <div class=\"error-message error-font\" *ngIf=\"form.value['exited_phone'] == true\">\r\n              <ion-text color=\"default_red\">{{ 'Phone number already exists' | translate }}</ion-text>\r\n            </div>\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%;\">\r\n            <input type=\"text\" formControlName=\"address\" placeholder=\"{{ '_address'| translate}}\" />\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%;\">\r\n            <input type=\"text\" formControlName=\"district\" placeholder=\"{{ '_district'| translate}}\" />\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%;\">\r\n            <input type=\"text\" formControlName=\"province\" placeholder=\"{{ '_province'| translate}}\" />\r\n          </td>\r\n          <td style=\"max-width: 10% !important; width: 10%;\">\r\n            <input type=\"text\" formControlName=\"country\" placeholder=\"{{ '_country'| translate}}\" />\r\n          </td>\r\n\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</nz-layout>\r\n<a style=\"display: none;\" id=\"download_customer\" [href]=\"url\" download></a>\r\n<input type=\"file\" style=\"display: none;\" id=\"file_excel_customer\"\r\n  accept=\".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n  (change)=\"openXLSXFile($event)\" />","import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VhAlgorithm, VhQueryCafe, VhQuery } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-customer',\r\n  templateUrl: './customer.component.html',\r\n  styleUrls: ['./customer.component.scss']\r\n})\r\nexport class CustomerComponent {\r\n   customerGroups: any = [];\r\n    private observableCustomers: any;\r\n    stateObj = {\r\n      /** Từ khoá tìm kiếm */\r\n      keySearch: '',\r\n      /** id của danh mục được chọn */\r\n      selectedValue: '1',\r\n      /** Tab được chọn */\r\n      tab: 0,\r\n      /** Trang hiện tại */\r\n      nzPageIndex: 1,\r\n      /** Danh sách customer hidden đã get để ko cần get lại  */\r\n      list_customers_hidden : []\r\n    }\r\n    /** Danh sách tất cả khách hàng */\r\n    list_customers: any = [];\r\n    /** Danh sách khách hàng sẽ hiển thị lên table */\r\n    list_customers_show: any = [];\r\n    /** Danh sách tất cả khách hàng */\r\n    list_customers_hidden: any = [];\r\n    /** Danh sách khách hàng sẽ hiển thị lên table */\r\n    list_customers_hidden_show: any = [];\r\n  \r\n  \r\n  \r\n    constructor(\r\n      private router: Router,\r\n      private vhQueryCafe: VhQueryCafe,\r\n      public vhAlgorithm: VhAlgorithm,\r\n      public translate: TranslateService,\r\n      public languageService: LanguageService,\r\n      private cdRef: ChangeDetectorRef,\r\n      private vhComponent: VhComponent\r\n    ) {\r\n      if (this.router.getCurrentNavigation().extras.state) {\r\n        let stateObj = this.router.getCurrentNavigation().extras.state.stateObj;\r\n        this.stateObj.tab = stateObj.tab;\r\n        this.stateObj.list_customers_hidden = stateObj.list_customers_hidden;\r\n        this.stateObj.keySearch = stateObj.keySearch;\r\n        this.stateObj.nzPageIndex = stateObj.nzPageIndex;\r\n        if(this.stateObj.tab == 1) this.getHiddenCustomers();\r\n      }\r\n    }\r\n  \r\n  \r\n    \r\n    ngOnInit() {\r\n      this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name');\r\n      this.getRefreshData();\r\n       \r\n      console.log(this.vhQueryCafe.getlocalCustomers());\r\n      \r\n    }\r\n  \r\n  \r\n  \r\n    heightScroll: string;\r\n    ngAfterViewChecked() {\r\n      if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\") && document.querySelector(\".count-quantity\")) {\r\n        this.heightScroll = document.querySelector(\".height-layout\").clientHeight -\r\n          document.querySelector(\".height-header\").clientHeight -\r\n          document.querySelector(\".ant-table-thead\").clientHeight -\r\n          document.querySelector(\".count-quantity\").clientHeight - 100 + \"px\";\r\n      }\r\n      this.cdRef.detectChanges();\r\n    }\r\n  \r\n  \r\n  \r\n    ngOnDestroy() {\r\n      this.observableCustomers.unsubscribe();\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * get các dữ liệu cần thiết để hiển thị\r\n     * @example    this.getRefreshData();\r\n     */\r\n    getRefreshData() {\r\n      // this.vhQuery.getDocs('customer_classs').then((response) => {\r\n        this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name');\r\n        this.observableCustomers = this.vhQueryCafe.getObservableLocalCustomers().subscribe((localcustomers: any) => {\r\n          this.list_customers = localcustomers.filter(res => !res.delete_hidden).filter(res => res._id != \"id_retail\").map(item => this.processCustomer(item));\r\n          this.searchCustomer(this.stateObj.keySearch);\r\n        })\r\n      // });\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * Xử lí dữ liệu của khách hàng (customerGroup)\r\n     * @param item \r\n     * @returns \r\n     */\r\n    processCustomer(item: any): any {\r\n      let customerGroup = this.customerGroups.find(f => f._id == item.id_customer_class);\r\n      item['name_customerGroup'] = customerGroup ? customerGroup.name : 'Không xác định';\r\n      return item;\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * Lấy danh sách sản phẩm đã ẩn\r\n     */\r\n    getHiddenCustomers() {\r\n      this.vhQueryCafe.refreshLocalCustomers_Delete_Hidden().then((res) => {\r\n        const hiddenProducts = this.vhQueryCafe.getlocalCustomers().filter(item => item.delete_hidden);\r\n        this.list_customers_hidden = hiddenProducts.map(item => this.processCustomer(item));\r\n        if (this.stateObj.keySearch) {\r\n          this.searchCustomerHidden(this.stateObj.keySearch);\r\n        }\r\n        else {\r\n          this.list_customers_hidden_show = this.list_customers_hidden;\r\n        }\r\n        this.stateObj.list_customers_hidden = this.list_customers_hidden;\r\n      })\r\n      \r\n    }\r\n  \r\n  \r\n    /**\r\n     * cập nhật customer theo trường truyền vào\r\n     * @example this.updateProductByField({name: ''})\r\n     */\r\n    updateCustomerByField(id, value, ) {\r\n      console.log('value', value);\r\n      console.log('id', id);\r\n  \r\n  \r\n      this.vhQueryCafe.updateCustomer(id, value).then((res) => {\r\n        console.log(res);\r\n        this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Update successfully\"), 2000);\r\n        if (!value.delete_hidden) {\r\n          this.list_customers_hidden = this.list_customers_hidden.filter(item => item._id != id);\r\n          this.list_customers_hidden_show = this.list_customers_hidden.filter(item => item._id != id);\r\n        }\r\n      }, error => {\r\n        console.log(error);\r\n      }).catch(e => {\r\n        console.log(e);\r\n      })\r\n  \r\n  \r\n    }\r\n  \r\n    /**\r\n     * Tìm kiếm khách hàng theo name, phone, email\r\n     * @param event \r\n     */\r\n    searchCustomer(event) {\r\n      let value = this.vhAlgorithm.changeAlias(event.toLowerCase());\r\n      this.stateObj.keySearch = value;\r\n      this.list_customers_show = this.vhAlgorithm.searchList(\r\n        value,\r\n        this.list_customers,\r\n        [\"name\", \"phone\", \"email\"]\r\n      );\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * Tìm kiếm khách hàng (tab Đã ẩn) theo name, phone, email\r\n     * @param event \r\n     */\r\n    searchCustomerHidden(event) {\r\n      let value = this.vhAlgorithm.changeAlias(event.toLowerCase());\r\n      this.stateObj.keySearch = value;\r\n      this.list_customers_hidden_show = this.vhAlgorithm.searchList(\r\n        value,\r\n        this.list_customers_hidden,\r\n        ['name', 'phone', 'email']\r\n      );\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * Khi thay đổi tab\r\n     */\r\n    changeTab(value) {\r\n      this.stateObj.tab = value;\r\n       if(value == '1') this.getHiddenCustomers();\r\n    }\r\n  \r\n  \r\n  \r\n    goBack() {\r\n      this.router.navigate(['/cafe/dashboard/management/partner']);\r\n    }\r\n  \r\n  \r\n    /**\r\n     * router qua trang thêm khách hàng thành viên\r\n     * @example this.gotoAddCustomer()\r\n     */\r\n    gotoAddCustomer() {\r\n      this.router.navigate(['/cafe/dashboard/management/partner/customer/add'], {\r\n        state: {\r\n           stateObj: this.stateObj,\r\n        }\r\n      });\r\n    }\r\n  \r\n  \r\n    /**\r\n     * router qua trang chi tiết khách hàng thành viên\r\n     * @param data item trong mảng list_customers\r\n     * @example this.gotoDetailCustomer(customer_selected)\r\n     */\r\n    gotoDetailCustomer(data, isFromHidden?: boolean) {\r\n      const state = {\r\n        data: data,\r\n        stateObj: this.stateObj,\r\n      }\r\n      if(isFromHidden) {\r\n        state['isFromHidden'] = true;\r\n      }\r\n      this.router.navigate(['/cafe/dashboard/management/partner/customer/detail'], {\r\n        state: state\r\n      });\r\n    }\r\n  \r\n  \r\n    /**\r\n     * router qua trang tạo khách hàng bằng excel\r\n     * @example this.gotoCreateDataCustomer()\r\n     */\r\n    gotoCreateDataCustomer() {\r\n      this.router.navigate(['/cafe/dashboard/management/partner/customer/create-data'], {\r\n        state: {\r\n           stateObj: this.stateObj,\r\n        }\r\n      });\r\n    }\r\n  \r\n  \r\n  \r\n    /**\r\n     * tải danh sách kh về file excel\r\n     * @example this.exportListCustomer()\r\n     */\r\n    exportListCustomer() {\r\n      let productExcel: Array<any> = [];\r\n      let data = this.vhQueryCafe.getlocalCustomers().filter(item => item.type != 3).filter(res => res._id != \"id_retail\")\r\n      data.forEach((customer, index) => {\r\n        let row: Object = new Object()\r\n        row[this.languageService.translate(\"_customer_name\")] = customer['name'] ? customer['name'] : ''\r\n        row[this.languageService.translate(\"_gender\")] = customer['gender'] ? this.languageService.translate(customer['gender']) : ''\r\n        row[this.languageService.translate(\"_email\")] = customer['email'] ? customer['email'] : ''\r\n        row[this.languageService.translate(\"_phone\")] = customer['phoneNumber'] ? customer['phoneNumber'] : ''\r\n        row[this.languageService.translate(\"_address\")] = customer['address'] ? customer['address'] : ''\r\n        row[this.languageService.translate(\"_district\")] = customer['district'] ? customer['district'] : ''\r\n        row[this.languageService.translate(\"_province\")] = customer['province'] ? customer['province'] : ''\r\n        row[this.languageService.translate(\"_country\")] = customer['country'] ? customer['country'] : ''\r\n        productExcel.push(row)\r\n        if (index == data.length - 1) {\r\n          this.vhAlgorithm.exportXLSX(productExcel, this.languageService.translate(\"Customer list\"))\r\n        }\r\n      })\r\n    }\r\n  \r\n  \r\n    /** hàm sort cho các cột */\r\n    name_col = false;\r\n    phone_col = false;\r\n    email_col = false;\r\n    address_col = false;\r\n    name_customerGroup_col = false;\r\n    /** \r\n     * Hàm thực hiện sắp xếp theo collection\r\n     * @param colName       // tên cột muôn sắp xếp\r\n     */\r\n    sortTable(colName) {\r\n      let methodName = colName === 'phone' \r\n                        ? 'sortNumberby' \r\n                        : colName === 'email'\r\n                          ? 'sortStringby'\r\n                          : 'sortVietnameseby';\r\n      let direction = this[colName + '_col'] ? 'ASC' : 'DESC';\r\n  \r\n      this.list_customers_show = this.vhAlgorithm[methodName + direction]([...this.list_customers_show], colName);\r\n      this.list_customers_hidden_show = this.vhAlgorithm[methodName + direction]([...this.list_customers_hidden_show], colName);\r\n    }\r\n  \r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n  <div nz-row class=\"height-header\">\r\n    <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n      <b>{{'Customer' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n      <nz-input-group nzSearch  [nzAddOnAfter]=\"suffixButton\">\r\n        <input #searchInput type=\"text\" nz-input\r\n          (keyup)=\"searchCustomer(searchInput.value); stateObj.tab === 1 ? searchCustomerHidden(searchInput.value) : '';\"\r\n          [value]=\"stateObj.keySearch ? stateObj.keySearch : ''\"\r\n          [placeholder]=\"'Search for customer name, phone number' | translate\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixButton>\r\n        <button nz-button nzSize=\"large\"  nzType=\"primary\"  nzSearch>{{'Tìm nâng cao' | translate}}</button>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n      <div>\r\n        <button (click)=\"exportListCustomer()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"export\" nzTheme=\"outline\"></i>\r\n          {{'Export data' | translate}}\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <button class=\"btn-data\" nz-button nzType=\"default\" (click)=\"gotoCreateDataCustomer()\">\r\n          <i nz-icon nzType=\"appstore-add\" nzTheme=\"outline\"></i>\r\n          {{'Create data' | translate}}\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"gotoAddCustomer()\">\r\n          <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n          {{'Add' | translate}}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  <div>\r\n    <nz-tabset [(nzSelectedIndex)]=\"stateObj.tab\" (nzSelectChange)=\"changeTab($event.index)\">\r\n      <!-- Tab Cho bán -->\r\n      <nz-tab [nzTitle]=\"'Active' | translate\">\r\n        <div nz-row class=\"total-item small-size count-quantity\">\r\n          {{'Total' | translate}}&nbsp;<span\r\n            style=\"color: var(--ion-color-vh-red);\">{{list_customers_show.length}}</span>&nbsp;{{'customers' |\r\n          translate}}\r\n        </div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n          [nzData]=\"list_customers_show\" #dataCustomer nzShowPagination nzShowSizeChanger\r\n          [nzNoResult]=\"'Not customer yet' |translate\">\r\n          <thead>\r\n            <tr>\r\n              <th nzWidth='10%' nzAlign=\"center\"><b>{{'Image' | translate}}</b></th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%' (click)=\"name_col = !name_col; sortTable('name')\">\r\n                <b>{{'Customer name' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='20%' (click)=\"phone_col = !phone_col; sortTable('phone')\">\r\n                <b>{{ 'Phone number' | translate}}</b>\r\n                <i nz-icon [nzType]=\"phone_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='20%' (click)=\"email_col = !email_col; sortTable('email')\">\r\n                <b>{{ 'Email' | translate}}</b>\r\n                <i nz-icon [nzType]=\"email_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%' (click)=\"address_col = !address_col; sortTable('address')\">\r\n                <b>{{ 'Address' | translate}}</b>\r\n                <i nz-icon [nzType]=\"address_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%'\r\n                (click)=\"name_customerGroup_col = !name_customerGroup_col; sortTable('name_customerGroup')\">\r\n                <b>{{ 'Customer tier' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_customerGroup_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let data of dataCustomer.data\" style=\"cursor: pointer;\" (click)=\"gotoDetailCustomer(data)\">\r\n              <td nzAlign=\"center\" style=\"padding: 0;\">\r\n                <img style=\"width: 40px; border-radius: 100%;\"\r\n                  src=\"{{data.img?data.img:'assets/icon/management/noavatar.svg'}}\">\r\n              </td>\r\n              <td>{{ data.name }}</td>\r\n              <td>{{ data.phone }}</td>\r\n              <td>{{ data.email }}</td>\r\n              <td>{{ data.address }}</td>\r\n              <td>{{data.name_customerGroup}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </nz-table>\r\n      </nz-tab>\r\n      <!-- Tab Đã ẩn -->\r\n      <nz-tab [nzTitle]=\"'Hidden' | translate\">\r\n        <div nz-row class=\"total-item small-size count-quantity\">\r\n          {{'Total' | translate}}&nbsp;<span\r\n            style=\"color: var(--ion-color-vh-red);\">{{list_customers_hidden_show.length}}&nbsp;</span>{{'customers' |\r\n          translate}}\r\n        </div>\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\"\r\n          [nzData]=\"list_customers_hidden_show\" #dataCustomerHidden nzShowPagination nzShowSizeChanger\r\n          [nzNoResult]=\"'Not customer yet' |translate\">\r\n          <thead>\r\n            <tr>\r\n              <th nzWidth='10%' nzAlign=\"center\"><b>{{'Image' | translate}}</b></th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%' (click)=\"name_col = !name_col; sortTable('name')\">\r\n                <b>{{'Customer name' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='20%' (click)=\"phone_col = !phone_col; sortTable('phone')\">\r\n                <b>{{ 'Phone number' | translate}}</b>\r\n                <i nz-icon [nzType]=\"phone_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='20%' (click)=\"email_col = !email_col; sortTable('email')\">\r\n                <b>{{ 'Email' | translate}}</b>\r\n                <i nz-icon [nzType]=\"email_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%' (click)=\"address_col = !address_col; sortTable('address')\">\r\n                <b>{{ 'Address' | translate}}</b>\r\n                <i nz-icon [nzType]=\"address_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th style=\"cursor: pointer;\" nzWidth='25%'\r\n                (click)=\"name_customerGroup_col = !name_customerGroup_col; sortTable('name_customerGroup')\">\r\n                <b>{{ 'Customer tier' | translate}}</b>\r\n                <i nz-icon [nzType]=\"name_customerGroup_col == true ? 'caret-down' : 'caret-up'\" nzTheme=\"outline\"></i>\r\n              </th>\r\n              <th nzWidth=\"17%\" nzAlign='right'>\r\n                <b>{{'Hide activity' | translate}}</b>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <!-- <tr *ngIf=\"!dataCustomerHidden.data.length\" style=\"cursor: pointer;\">\r\n              <td colSpan=\"7\"  nzAlign=\"center\" style=\"padding: 0;\">\r\n                <button nz-button nzType=\"primary\" (click)=\"getHiddenCustomers()\">\r\n                  <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i>\r\n                  {{'View' | translate}}\r\n                </button>\r\n              </td>\r\n            </tr> -->\r\n\r\n            <tr *ngFor=\"let data of dataCustomerHidden.data\" style=\"cursor: pointer;\" >\r\n              <td nzAlign=\"center\" style=\"padding: 0;\">\r\n                <img style=\"width: 40px; border-radius: 100%;\"\r\n                  src=\"{{data.img?data.img:'assets/icon/management/noavatar.svg'}}\">\r\n              </td>\r\n              <td>{{ data.name }}</td>\r\n              <td>{{ data.phone }}</td>\r\n              <td>{{ data.email }}</td>\r\n              <td>{{ data.address }}</td>\r\n              <td>{{data.name_customerGroup}}</td>\r\n              <td class=\"money-right\">\r\n                <nz-switch   [(ngModel)]=\"data.delete_hidden\"\r\n                  (ngModelChange)=\"updateCustomerByField(data._id,{delete_hidden: data.delete_hidden})\">\r\n                </nz-switch>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </nz-table>\r\n      </nz-tab>\r\n    </nz-tabset>\r\n  </div>\r\n\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CustomerComponent } from './customer.component';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { AddCustomerComponent } from './add-customer/add-customer.component';\r\nimport { DetailCustomerComponent } from './detail-customer/detail-customer.component';\r\nimport { CreateDataCustomersComponent } from './create-data-customers/create-data-customers.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CustomerComponent\r\n  },\r\n  {\r\n    path: 'add',\r\n    component: AddCustomerComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailCustomerComponent\r\n  },\r\n  {\r\n    path: 'create-data',\r\n    component: CreateDataCustomersComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CustomerComponent,\r\n    AddCustomerComponent,\r\n    DetailCustomerComponent,\r\n    CreateDataCustomersComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule.withConfig({warnOnNgModelWithFormControl: 'never'}),\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class CustomerModule { }\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhImage, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-detail-customer',\r\n  templateUrl: './detail-customer.component.html',\r\n  styleUrls: ['./detail-customer.component.scss']\r\n})\r\nexport class DetailCustomerComponent {\r\n\r\n  detailCustomer: FormGroup;\r\n  data: any;\r\n  dataRestore = this.router.getCurrentNavigation().extras.state;\r\n  customerGroups :any = [];\r\n  /** detail được mở từ tab Đã ẩn hay không */\r\n  isFromHidden: boolean;\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    private vhQuery: VhQuery,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private functionService: FunctionService,\r\n  ) {\r\n    this.data = this.router.getCurrentNavigation().extras.state.data;\r\n    this.isFromHidden = this.router.getCurrentNavigation().extras.state.isFromHidden;\r\n    this.countryCode = this.data.countryCode ?? this.functionService.defaultCountryCode;\r\n    this.callingCode = this.functionService.getCallingCodeFromCountryCode(this.countryCode) ?? this.functionService.defaultCallingCode;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.data.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailCustomer = new FormGroup({\r\n      img: new FormControl(this.data.img),\r\n      name: new FormControl(this.data.name, Validators.required),\r\n      email: new FormControl(this.data.email),\r\n      gender: new FormControl(this.data.gender),\r\n      datebirth: new FormControl(this.data.datebirth),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.functionService.phoneValidator(() => this.countryCode)]),\r\n      address: new FormControl(this.data.address),\r\n      country: new FormControl(this.data.country),\r\n      province: new FormControl(this.data.province),\r\n      district: new FormControl(this.data.district),\r\n      note: new FormControl(this.data.note),\r\n      debt_enable: new FormControl(this.data.debt_enable),\r\n      id_customer_class : new FormControl(this.data.id_customer_class ? this.data.id_customer_class : '' ),\r\n      type : new FormControl(this.data.type),\r\n      id_branch : new FormControl(this.data.id_branch),\r\n      time_for_payment: new FormControl(this.data.time_for_payment),\r\n      delete_hidden: new FormControl(this.data.delete_hidden),\r\n      isBusiness: new FormControl(this.data.isBusiness),\r\n      taxcode: new FormControl(this.data.taxcode ),\r\n    });\r\n    // taxcode required khi isBusiness = true\r\n    if(this.data.isBusiness) {\r\n      this.detailCustomer.get('taxcode').setValidators([Validators.required]);\r\n      this.detailCustomer.get('taxcode').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.customerGroups = this.vhAlgorithm.sortStringbyASC(this.vhQueryCafe.getlocalCustomerClasss(), 'name')\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * trở về trang danh sách khách hàng\r\n   * @example this.goBack()\r\n   * \r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/partner/customer'], {\r\n      state: this.dataRestore\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * xóa khách hàng khỏi DB\r\n   * @example this.deleteCustomer()\r\n   */\r\n  deleteCustomer() {\r\n    this.vhQueryCafe.deleteCustomer(this.data._id)\r\n      .then(bool => {\r\n        if (bool) {\r\n          if (this.detailCustomer.value[\"img\"]) {\r\n            this.vhImage.deleteThumbnail([this.detailCustomer.value[\"img\"]]).then(() => {\r\n              this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n              setTimeout(() => {\r\n                this.isVisible = false;\r\n                this.goBack();\r\n              }, 300);\r\n            })\r\n          } else {\r\n            this.vhComponent.showToast(2000, (this.languageService.translate(\"Customer has been deleted successfully\")), 'success-toast');\r\n            setTimeout(() => {\r\n              this.isVisible = false;\r\n              this.goBack();\r\n            }, 300);\r\n          }\r\n        } \r\n        else {\r\n          // this.vhComponent.showToast(2000, (this.languageService.translate(\"Can't delete this customer\")), 'alert-toast');\r\n          this.isVisible = false;\r\n          this.vhComponent.showToast(4000, this.languageService.translate('You cannot delete this customer because it has generated invoices, but you can hide it and only see it in the reports.'), 'alert-toast');\r\n          // this.functionService.confirmUpdateHidden('customer').then(() => {\r\n          //   this.vhQueryCafe.updateCustomer(this.data._id, { delete_hidden: true }).then(() => {\r\n          //     this.vhComponent.showToast(3000, (this.languageService.translate('Successfully hidden!')), 'success-toast');\r\n          //     setTimeout(() => {\r\n          //       this.goBack();\r\n          //     }, 300);\r\n          //   }).catch((err) => { \r\n          //     console.log(err);\r\n          //   });\r\n          // }).catch(() => { });\r\n        }\r\n      });\r\n  }\r\n \r\n\r\n \r\n  /**\r\n   * xử lý thay đổi trường cho phép nợ của khách hàng\r\n   * @param value \r\n   * @example this.changeDebtEnable(true)\r\n   */\r\n  changeDebtEnable(value) {\r\n    this.detailCustomer.value.debt_enable = value;\r\n    this.updateCustomer({debt_enable: this.detailCustomer.value.debt_enable});\r\n    if(value)   this.detailCustomer.addControl('time_for_payment', new FormControl(0, [Validators.required]))\r\n    else    this.detailCustomer.removeControl('time_for_payment');\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * xử lý thay đổi trường ngày sinh của khách hàng\r\n   * @param value \r\n   * @example this.changeDebtEnable(true)\r\n   */\r\n  onChangeDatePicker(value) {\r\n    this.detailCustomer.value.datebirth = value;\r\n    this.updateCustomer({datebirth: this.detailCustomer.value.datebirth});\r\n  }\r\n\r\n\r\n\r\n  /** ------ Modal Zorro---- */\r\n  isVisible = false;\r\n\r\n\r\n\r\n  /**\r\n   * mở modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  showModal(): void {\r\n    this.isVisible = true;\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * bắt sk nhấn nút ok modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  handleOk(): void {\r\n    this.deleteCustomer();\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * tắt modal xác nhận xóa khách hàng\r\n   * @example this.showModal()\r\n   */\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n  \r\n\r\n  isExitsPhone: boolean = false;\r\n  /**\r\n   * cập nhật khách hàng theo trường truyền vào\r\n   * @param value \r\n   * @example this.updateCustomer({name : 'nguyen van a'})\r\n   */\r\n  updateCustomer(value) {\r\n    if (this.detailCustomer.valid) {\r\n      let customer = { ...value };\r\n      if(value.phone) {\r\n        customer.countryCode = this.countryCode;\r\n        customer.phone = this.functionService.getNationalPhoneNumber(customer.phone, this.countryCode);\r\n        customer.phoneNumber = this.functionService.getInternationalPhoneNumber(customer.phone, this.countryCode);\r\n      }\r\n      console.log(customer);\r\n      \r\n      this.vhQueryCafe.updateCustomer(this.data._id, customer).then((rsp:any) => {\r\n        if(rsp.vcode == 0) this.isExitsPhone = false;\r\n        else if(rsp.vcode == 1) {\r\n         //This phone number is already in use with another customer\r\n          this.isExitsPhone = true;\r\n          this.vhComponent.showToast(1500, this.languageService.translate(\"This phone number is already in use with another customer\"), 'alert-toast')\r\n        }\r\n      }, (error:any) => {\r\n        console.log('error', error);\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * mở folder chọn file\r\n   * @example this.getFile()\r\n   */\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"customers\", this.detailCustomer.value[\"img\"] || '').then(\r\n      photoURL => {\r\n        this.detailCustomer.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateCustomer({img: this.detailCustomer.value.img});\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'success-toast');\r\n      }\r\n    );\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string;\r\n  /** Calling code */\r\n  callingCode: string;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string;\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.detailCustomer.value.phone, this.countryCode as CountryCode);\r\n      this.detailCustomer.get('phone')?.markAsTouched();\r\n      this.detailCustomer.get('phone')?.markAsDirty();\r\n      this.detailCustomer.get('phone')?.updateValueAndValidity();\r\n      this.updateCustomer({phone: this.detailCustomer.value.phone});\r\n    }).catch((error) => {\r\n      // console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.detailCustomer.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n  <div nz-row>\r\n    <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n      <b>{{'Customer information' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n      <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"showModal()\">\r\n        <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n        {{'Delete'|translate}}</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div>\r\n    <form nz-form [formGroup]=\"detailCustomer\">\r\n      <div nz-row style=\"padding-top: 8px;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\" style=\"padding-bottom:8px;\">\r\n          <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n              (change)=\"onUpload($event)\" />\r\n            <img [ngStyle]=\"{width: detailCustomer.value.img ? '100%' : '60px'}\"\r\n              onerror=\"this.src='assets/icon/management/noavatar.svg'\" [src]=\"detailCustomer.value.img\" />\r\n          </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n              <nz-input-group>\r\n                <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required\r\n                  (blur)=\"updateCustomer({name: detailCustomer.value.name})\" />\r\n                <ng-template #combineTplName let-control>\r\n                  <!-- <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' | translate}}\r\n                  </ng-container> -->\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n\r\n        <!-- Số điện thoại -->\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n              <nz-input-group>\r\n                <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                  <span>+{{callingCode}}</span>\r\n                  <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                </div>\r\n                <input formControlName=\"phone\"\r\n                  (input)=\"formatPhoneNumber($event)\"\r\n                  [value]=\"formattedPhone\"\r\n                  [placeholder]=\"'Enter customer phone' | translate\" nz-input required \r\n                  (blur)=\"updateCustomer({phone: detailCustomer.value.phone})\" />\r\n                <ng-template #combineTplPhone let-control>\r\n                  <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n              <div *ngIf=\"isExitsPhone\"\r\n                class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n                ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n                <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                  {{'Phone number already exists' | translate}} </div>\r\n              </div>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        \r\n      </div>\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Email' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n              <nz-input-group>\r\n                <input formControlName=\"email\" nz-input placeholder=\"{{'Enter customer mail' | translate}}\"\r\n                  (blur)=\"updateCustomer({email: detailCustomer.value.email})\" />\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Address' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control>\r\n              <nz-input-group>\r\n                <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\"\r\n                  (blur)=\"updateCustomer({address: detailCustomer.value.address})\" />\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div nz-row>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n              <nz-select nzDisabled nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n                formControlName=\"isBusiness\">\r\n                <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n                <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n              </nz-select>\r\n            </div>\r\n            <ng-container *ngIf=\"detailCustomer.value.isBusiness\">\r\n              <div nz-col nzSpan=\"16\">\r\n                <div><b class='label'>{{'Tax code' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                  <nz-form-control [nzErrorTip]=\"taxcode\">\r\n                    <nz-input-group>\r\n                      <input formControlName=\"taxcode\" (blur)=\"updateCustomer({taxcode: detailCustomer.value.taxcode})\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                      <ng-template #taxcode let-control>\r\n                        <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                        </ng-container>\r\n                      </ng-template>\r\n                    </nz-input-group>\r\n                  </nz-form-control>\r\n                </nz-form-item>\r\n              </div>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!detailCustomer.value.isBusiness\">\r\n              <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                  <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                    <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\"\r\n                      formControlName=\"gender\" (ngModelChange)=\"updateCustomer({gender: detailCustomer.value.gender})\">\r\n                      <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n                      <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n                    </nz-select>\r\n                  </div>\r\n                  <div nz-col nzSpan=\"12\">\r\n                    <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                    <nz-date-picker formControlName=\"datebirth\" nzPlaceHolder=\"{{'Select date of birth' | translate}}\"\r\n                      (ngModelChange)=\"onChangeDatePicker($event)\"></nz-date-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n\r\n          </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div nz-row>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Country' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 80%;\" formControlName=\"country\" nz-input\r\n                      placeholder=\"{{'Enter country' | translate}}\" (blur)=\"updateCustomer({country: detailCustomer.value.country})\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'Province' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 80%;\" formControlName=\"province\" nz-input\r\n                      placeholder=\"{{'Enter province' | translate}}\" (blur)=\"updateCustomer({province: detailCustomer.value.province})\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n              <div><b class='label'>{{'District' | translate}}</b></div>\r\n              <nz-form-item>\r\n                <nz-form-control>\r\n                  <nz-input-group>\r\n                    <input style=\"width: 70%;\" formControlName=\"district\" nz-input\r\n                      placeholder=\"{{'Enter district' | translate}}\" (blur)=\"updateCustomer({district: detailCustomer.value.district})\" />\r\n                  </nz-input-group>\r\n                </nz-form-control>\r\n              </nz-form-item>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div class=\"medium-size\"><b>{{'Member tier' | translate}}</b></div>\r\n          <nz-form-control>\r\n            <nz-select  nzShowSearch [nzAllowClear]=\"false\"\r\n              formControlName=\"id_customer_class\" (ngModelChange)=\"updateCustomer({id_customer_class: detailCustomer.value.id_customer_class})\">\r\n              <nz-option  [nzValue]=\"''\" nzLabel=\"{{'Undefined' | translate}}\">\r\n              </nz-option>\r\n              <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n              </nz-option>\r\n            </nz-select> \r\n\r\n          </nz-form-control>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n          <div><b class='label'>{{'Note' | translate}}</b></div>\r\n          <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n            formControlName=\"note\" (blur)=\"updateCustomer({note: detailCustomer.value.note})\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n     \r\n     \r\n      <div nz-row>\r\n         <!-- cho phép nợ -->\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div></div>\r\n          <label nz-checkbox (ngModelChange)=\"changeDebtEnable($event)\" formControlName=\"debt_enable\">{{'Debit permission' | translate}}</label>\r\n        </div>\r\n         <!-- Ẩn hoạt động -->\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div></div>\r\n          <label nz-checkbox (ngModelChange)=\"updateCustomer({delete_hidden: detailCustomer.value.delete_hidden})\" formControlName=\"delete_hidden\">{{'Hide activity' | translate}}</label>\r\n        </div>\r\n      </div>\r\n      <div nz-row *ngIf=\"detailCustomer.value.debt_enable\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div><b class='label'>{{'Payment term' | translate}}*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplTime\">\r\n              <nz-input-group> \r\n                <nz-input-number style=\"width: 90%;\" formControlName=\"time_for_payment\"   nzPlaceHolder=\"{{'Enter number of days' | translate}}\" (nzBlur)=\"updateCustomer({time_for_payment : detailCustomer.value.time_for_payment})\"  [nzMin]=\"0\"></nz-input-number>\r\n                <ng-template #combineTplTime let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'This field is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\"\r\n  (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n  <p *nzModalContent>{{'Are you sure to delete this customer?' | translate}}</p>\r\n</nz-modal>"],"names":[],"sourceRoot":"webpack:///"}