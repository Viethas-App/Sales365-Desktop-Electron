{"version":3,"file":"src_app_cafe_desktop_menu_management_reports_sales-table_detail-table_detail_detail_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/reports/sales-table/detail-table/detail/detail-bill/detail-bill.component.ts","./src/app/cafe/desktop/menu/management/reports/sales-table/detail-table/detail/detail-bill/detail-bill.component.html","./src/app/cafe/desktop/menu/management/reports/sales-table/detail-table/detail/detail.component.ts","./src/app/cafe/desktop/menu/management/reports/sales-table/detail-table/detail/detail.component.html","./src/app/cafe/desktop/menu/management/reports/sales-table/detail-table/detail/detail.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhOrderInvoice, VhOrderInvoiceDetail, VhOrderInvoices } from 'src/app/cafe/interface/vh-order-invoice';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-bill',\r\n  templateUrl: './detail-bill.component.html',\r\n  styleUrls: ['./detail-bill.component.scss']\r\n})\r\nexport class DetailBillComponent {\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhOrderInvoices;\r\n  heightScroll: any;\r\n  dataTrans: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {\r\n    this.dataTrans = this.router.getCurrentNavigation().extras.state\r\n\r\n    this.getDataInvoice(this.dataTrans.id_bill)\r\n\r\n    this.init()\r\n  }\r\n\r\n  init(invoice: VhOrderInvoice = null, invoiceDetail: VhOrderInvoiceDetail[] = null) {\r\n    this.invoice = new VhOrderInvoices(invoice, invoiceDetail,this.vhQueryCafe)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQueryCafe.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType()),\r\n        table: this.invoice.getIdArea() == \"go_home\" ? this.languageService.translate(\"Take away\") : `${this.vhQueryCafe.getlocalArea(this.invoice.getIdArea()).name} - ${this.vhQueryCafe.getlocalTable(this.invoice.getIdTable()).name}`\r\n      }\r\n\r\n      this.invoice.getInvoiceDetail().forEach(item => {\r\n        this.mapOfExpandedData[item._id] = this.convertTreeToList(item);\r\n      });\r\n\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQueryCafe.getBill(id),\r\n        this.vhQueryCafe.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhOrderInvoiceDetail[] = invoiceDetail.map(item => {\r\n          if (item.toppings) {\r\n            return {\r\n              ...item,\r\n              name: this.getNameFood(item.id_product, item.id_subproduct),\r\n              toppings: item.toppings.map(element => {\r\n                return { ...element, name: this.getNameFood(element.id_product, element.id_subproduct) }\r\n              })\r\n            }\r\n          } if (item.combos) {\r\n            let combo: any = {\r\n              ...item,\r\n              name: this.getNameFood(item.id_product, item.id_subproduct),\r\n              combos: item.combos.map(element => {\r\n                return { ...element, name: this.getNameFood(element.id_product, element.id_subproduct) }\r\n              })\r\n            }\r\n\r\n            return { ...combo, subComboName: this.getSubCombo(combo.combos) }\r\n          } else\r\n            return {\r\n              ...item,\r\n              name: this.getNameFood(item.id_product, item.id_subproduct)\r\n            }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  getNameFood(id_prod: string, id_subProd: string) {\r\n    let food = this.vhQueryCafe.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = food.subs.find(item => item._id == id_subProd)\r\n    return `${food ? food.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}`\r\n  }\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/report/sales-table/detail-table/detail'], { state: { product: this.dataTrans.product, table: this.dataTrans.table, stateObj: this.dataTrans.stateObj, page2Details: this.dataTrans.page2Details, page3Details: this.dataTrans.page3Details } })\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQueryCafe.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#detail-report-sales-table\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".detail-report-sales-table-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#detail-report-sales-table\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".detail-report-sales-table-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /*****************************************************ANT TABLE********************************************************** */\r\n  mapOfExpandedData: { [key: string]: any[] } = {};\r\n  statusExpandAll: boolean = false\r\n  /**Mở rộng/thu nhỏ 1 phần tử */\r\n  collapse(array: any[], data: any, $event: boolean): void {\r\n    if (!$event) {\r\n      if (data.toppings) {\r\n        data.toppings.forEach(d => {\r\n          const target = array.find(a => a.id_product === d.id_product)!;\r\n          target.expand = false;\r\n          //console.log(target)\r\n          this.collapse(array, target, false);\r\n        });\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n  /** Chuyển đổi dữ liệu sang dạng cây */\r\n  convertTreeToList(root: any): any[] {\r\n    const stack: any[] = [];\r\n    const array: any[] = [];\r\n    const hashMap = {};\r\n    stack.push({ ...root, level: 0, expand: false });\r\n\r\n    while (stack.length !== 0) {\r\n      const node = stack.pop()!;\r\n      //console.log(target)\r\n      this.visitNode(node, hashMap, array);\r\n      if (node.toppings) {\r\n        for (let i = node.toppings.length - 1; i >= 0; i--) {\r\n          stack.push({ ...node.toppings[i], level: node.level! + 1, expand: false, parent: node });\r\n        }\r\n      }\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  visitNode(node: any, hashMap: { [id_product: string]: boolean }, array: any[]): void {\r\n    if (!hashMap[node.id_product]) {\r\n      hashMap[node.id_product] = true;\r\n      //console.log(target)\r\n      array.push(node);\r\n    }\r\n  }\r\n  /**Mở rộng / thu nhỏ tất cả */\r\n  expandAll() {\r\n    this.statusExpandAll = !this.statusExpandAll\r\n    this.invoice.getInvoiceDetail().forEach((detail, index) => {\r\n      this.mapOfExpandedData[detail._id].forEach(item => item.expand = this.statusExpandAll)\r\n    })\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"detail-report-sales-table\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header detail-report-sales-table-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"20\" class=\"title\">\r\n                    <b>{{'Sales invoice'|translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n                </div>\r\n            </div>\r\n            <div class=\"custom-scroll-bar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: heightScroll }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\">\r\n                                    <i (click)=\"expandAll()\" nz-icon\r\n                                        nzType=\"{{statusExpandAll ? 'minus-square' : 'plus-square'}}\"\r\n                                        nzTheme=\"outline\"></i> <b>{{\" \" + ('Product name' | translate)}}</b>\r\n                                </th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor=\"let data of rowSelectionTable.data\">\r\n                                <ng-container *ngFor=\"let item of mapOfExpandedData[data._id]\">\r\n                                    <tr *ngIf=\"(item.parent && item.parent.expand) || !item.parent\">\r\n                                        <td [nzIndentSize]=\"item.level! * 20\" [nzShowExpand]=\"!!item.toppings\"\r\n                                            [(nzExpand)]=\"item.expand\"\r\n                                            (nzExpandChange)=\"collapse(mapOfExpandedData[data._id], item, $event)\">\r\n                                            {{item.name}} <br>\r\n                                            <ng-container *ngIf=\"item.ptype == 5\">\r\n                                                <span class=\"sub-name\">{{item.subComboName}}</span><br>\r\n                                            </ng-container>\r\n                                            <ng-container\r\n                                                *ngFor=\"let property of item.properties ? item.properties : [];\">\r\n                                                <span class=\"sub-name\">\r\n                                                    {{property.name}} - {{property.selectedValue}}</span><br>\r\n                                            </ng-container>\r\n                                        </td>\r\n                                        <td nzAlign='center'>{{item.quantity | number:'1.0-2'}}</td>\r\n                                        <td nzAlign='right'>\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                            <del style=\"font-size: 0.7rem;\">\r\n                                                {{item.price_origin > item.price ?\r\n                                                vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                                : ''}}\r\n                                            </del>\r\n                                        </td>\r\n                                        <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity *\r\n                                                item.price)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </ng-container>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.getBillCode()}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Table' | translate}}</b>\r\n                    <div>{{invoiceInfo['table']}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.getRetailName()\" nz-col nzSpan=\"24\">\r\n                    {{invoice.getRetailName()}} - {{invoice.getRetailPhone()}} {{invoice.getRetailAddress() ? '-':\r\n                    ''}} {{invoice.getRetailAddress()}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Tax' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n                    <div>\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.getNote()}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { SalesComponent } from 'src/app/cafe/components/bill-detail/sales/sales.component';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n  page2Detail: any;\r\n  product: any;\r\n  stateObj: any;\r\n  table: any;\r\n  reportConfig: any =  {\r\n    sales_btax : this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').show_btax_report_sales_table\r\n  }\r\n  //vị trí hiện tại của trang\r\n  details: any = { quantity: 0, sales_atax: 0, sales_btax: 0, docs: [] };\r\n  widthScroll: any;\r\n  heightScroll: any;\r\n  constructor(\r\n    private router: Router,\r\n    public languageService: LanguageService,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private datePipe: DatePipe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhComponent:VhComponent\r\n  ) {\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n    if (data) {\r\n      this.product = data.product;\r\n      this.table = data.table;\r\n      this.stateObj = data.stateObj;\r\n      this.page2Detail = data.page2Details\r\n      if (data.page3Details) this.details = data.page3Details\r\n      else this.getSalesDetail(this.product);\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight) - 90 + \"px\";\r\n    }\r\n    if (document.querySelector(\".height-layout\")) {\r\n      this.widthScroll = document.querySelector(\".height-layout\").clientWidth + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * get dử liệu báo cáo\r\n   * @param product nhận từ sate truyền qua\r\n   * @example this.getSalesDetail(this.product);\r\n   */\r\n  getSalesDetail(product) {\r\n    // this.vhQueryCafe.getReportSales_Tables_byProduct(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], this.table.id_table, product.id_product, this.stateObj['id_branch_report'])\r\n    //   .then((res) => {\r\n    //     this.details = { ...res }\r\n    //   }).catch(err => console.error(err))\r\n\r\n      if (product.ptype) {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQueryCafe.getReportSales_Tables_byProduct(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], this.table.id_table, product.id_subproduct ? product.id_subproduct : product.id_product, this.stateObj.id_branch_report)\r\n            .then((res) => {\r\n              this.details = { ...res }\r\n            }).catch(err => console.error(err))\r\n            .finally(() => this.vhComponent.hideLoading(0))\r\n        })\r\n      }\r\n      if (product.id_payment_card) {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQueryCafe.getReportSales_Tables_byPaymentCard(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], this.table.id_table, product.id_payment_card, this.stateObj.id_branch_report)\r\n            .then((res) => {\r\n              this.details = { ...res }\r\n            }).catch(err => console.error(err))\r\n            .finally(() => this.vhComponent.hideLoading(0))\r\n        })\r\n      }\r\n      if (product.id_voucher) {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQueryCafe.getReportSales_Tables_byVoucher(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], this.table.id_table, product.id_voucher, this.stateObj.id_branch_report)\r\n            .then((res) => {\r\n              this.details = { ...res }\r\n            }).catch(err => console.error(err))\r\n            .finally(() => this.vhComponent.hideLoading(0))\r\n        })\r\n      }\r\n  }\r\n\r\n  goToDetail(item) {\r\n    this.vhComponent.showModal(SalesComponent,{id_bill : item.id_bill}, false, false, 'bill-detail')\r\n    .then(modal => {\r\n      modal.onWillDismiss().then(dataReturn => console.log(dataReturn)) \r\n    })\r\n    // setTimeout(() => this.router.navigate([`/dashboard/management/report/sales-table/detail-table/detail/detail-bill`], { state: { id_bill: item['id_bill'], product: this.product, table: this.table, stateObj: this.stateObj, page2Details: this.page2Detail, page3Details: this.details } }), 100)\r\n  }\r\n\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n\r\n  status: boolean = false;\r\n  /**\r\n   * xuất dữ liệu sang file excel và tải về\r\n   */\r\n  export() {\r\n    this.status = true;\r\n    let data = [];\r\n\r\n    let name = `${this.languageService.translate(\"_product_sales_report\")}_${this.vhAlgorithm.changeAlias(this.product.product_name ? this.product.product_name : this.product.name).replace(/\\s/g, \"_\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.stateObj.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.stateObj.endTime)}`\r\n\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.details['quantity']\r\n    total[this.languageService.translate(\"Price\")] = \"\";\r\n    total[this.languageService.translate(\"Tax (%)\")] = \"\";\r\n    if (this.reportConfig.sales_btax)\r\n      total[this.languageService.translate(\"Sales before tax\")] = this.details['sales_btax']\r\n    total[this.languageService.translate(\"Sales after tax\")] = this.details['sales_atax']\r\n    total[this.languageService.translate(\"Employee\")] = \"\";\r\n    total[this.languageService.translate(\"Barcode\")] = \"\";\r\n    data.push(total);\r\n\r\n    for (let _rows of this.details['docs']) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"Invoice code\")] = _rows.bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_date(_rows.date);\r\n      item[this.languageService.translate(\"Product name\")] =  _rows.lots ? _rows.name +' :' + _rows.lots[0].lot_number + ' :' + this.format_date(_rows.lots[0].date_mfg) + ' - ' +this.format_date(_rows.lots[0].date_exp) : _rows.name\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Quantity\")] = _rows.quantity\r\n      item[this.languageService.translate(\"Price\")] = _rows.price;\r\n      item[this.languageService.translate(\"Tax (%)\")] = _rows.tax;\r\n      if (this.reportConfig.sales_btax)\r\n        item[this.languageService.translate(\"Sales before tax\")] = _rows.sales_btax\r\n      item[this.languageService.translate(\"Sales after tax\")] = _rows.sales_atax\r\n      item[this.languageService.translate(\"Employee\")] = _rows.salesman;\r\n      item[this.languageService.translate(\"Barcode\")] = _rows.barcode;\r\n\r\n      data.push(item);\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/report/sales-table/detail-table'], { state: { table: this.table, stateObj: this.stateObj, page2Detail: this.page2Detail } })\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"21\" class=\"title\">\r\n            <p><b>{{product.name}}</b></p>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"title center-all-content\">\r\n            <button (click)=\"export()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n                <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                {{'Download' | translate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <nz-table [nzScroll]=\"{ x: widthScroll, y: heightScroll }\" #detailData nzShowPagination nzShowSizeChanger\r\n            nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"details.docs\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzLeft nzWidth=\"120px\"><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"120px\"><b>{{'Date' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"200px\"><b>{{'Products' | translate}}</b></th>\r\n                    <th nzWidth=\"80px\"><b> {{'Unit'|translate}} </b></th>\r\n                    <th nzWidth=\"100px\" nzAlign='center'><b> {{'Quantity'|translate}} </b></th>\r\n                    <th nzWidth=\"100px\"><b> {{'Selling price'|translate}} </b></th>\r\n                    <th nzWidth=\"80px\" nzAlign='center'><b> {{'Tax'|translate}} </b></th>\r\n                    <th *ngIf=\"reportConfig.sales_btax\" nzWidth=\"200px\" nzAlign='right'>\r\n                        <b> {{'Sales before tax'|translate}} </b>\r\n                    </th>\r\n                    <th nzWidth=\"200px\" nzAlign='right'><b> {{'Sales after tax'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Employee'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Customer'|translate}} </b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\">{{details['quantity'] | number:'1.0-2'}}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td [ngStyle]=\"{display: !reportConfig.sales_btax ? 'none' : ''}\" nzAlign='right'\r\n                        style=\"color: var(--ion-color-vh-green);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_btax'])}}\r\n                    </td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_atax'])}}\r\n                    </td>\r\n                    <td></td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr *ngFor=\"let data of detailData.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(data)\">\r\n                    <td nzLeft>{{ data.bill_code}}</td>\r\n                    <td nzLeft> {{data.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nzLeft>{{ data.name }}</td>\r\n                    <td>{{ data.unit }}</td>\r\n                    <td nzAlign='center'>{{ data.quantity  | number:'1.0-2'}}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n                    <td nzAlign='center'>{{ data.tax }}%</td>\r\n                    <td [ngStyle]=\"{display: !reportConfig.sales_btax ? 'none' : ''}\" nzAlign='right'>\r\n                        {{ vhAlgorithm.vhcurrencyunit(data.sales_btax)}}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.sales_atax)}}</td>\r\n                    <td>{{ data.salesman }}</td>\r\n                    <td>{{ data.customer |translate}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DetailComponent } from './detail.component';\r\nimport { DetailBillComponent } from './detail-bill/detail-bill.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BillDetailModule } from 'src/app/cafe/components/bill-detail/bill-detail.module';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetailComponent\r\n  },\r\n  {\r\n    path: 'detail-bill',\r\n    component: DetailBillComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [DetailComponent, DetailBillComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    BillDetailModule\r\n  ],\r\n  providers :[VhComponent]\r\n})\r\nexport class DetailModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}