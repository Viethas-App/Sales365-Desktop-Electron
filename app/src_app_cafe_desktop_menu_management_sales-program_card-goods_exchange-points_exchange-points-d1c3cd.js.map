{"version":3,"file":"src_app_cafe_desktop_menu_management_sales-program_card-goods_exchange-points_exchange-points-d1c3cd.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/management/sales-program/card-goods/exchange-points/exchange-points.component.ts","./src/app/cafe/desktop/menu/management/sales-program/card-goods/exchange-points/exchange-points.component.html","./src/app/cafe/desktop/menu/management/sales-program/card-goods/exchange-points/exchange-points.module.ts","./src/app/cafe/desktop/menu/management/sales-program/card-goods/exchange-points/to-cards/to-cards.component.ts","./src/app/cafe/desktop/menu/management/sales-program/card-goods/exchange-points/to-cards/to-cards.component.html"],"sourcesContent":["import { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n@Component({\r\n  selector: 'app-exchange-points',\r\n  templateUrl: './exchange-points.component.html',\r\n  styleUrls: ['./exchange-points.component.scss']\r\n})\r\nexport class ExchangePointsComponent implements OnInit {\r\n  list_customer: any = [];\r\n  list_search_customer: any = [];\r\n  customer_classs: any = this.vhQueryCafe.getlocalCustomerClasss()\r\n  list_filter_customer: any = [];\r\n  filter_value = 'all'\r\n  search_value = ''\r\n  default_branch = this.vhQueryCafe.getDefaultBranch()._id\r\n  constructor(\r\n    private router: Router,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private modal:NzModalService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.list_customer = this.vhQueryCafe.getlocalCustomers().filter(item => item.type != 3).filter(item => item._id != 'id_retail')\r\n    this.list_customer = this.vhAlgorithm.sortNumberbyASC(this.list_customer.filter(e => e.id_customer_class), 'name').map(item => { return { ...item, point_validity: this.vhQueryCafe.getlocalCustomerPoints(item._id) } })\r\n    this.list_search_customer = this.list_customer;\r\n    this.list_filter_customer = this.list_customer;\r\n  }\r\n\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\")) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - 50 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/card-goods'])\r\n  }\r\n  /*---tìm kiếm khách hàng theo tên và email---*/\r\n  searchCustomer(event) {\r\n    let value = this.vhAlgorithm.changeAlias(event.toLowerCase());\r\n    this.list_customer = this.vhAlgorithm.searchList(\r\n      value,\r\n      this.list_search_customer,\r\n      [\"name\", \"phone\"]\r\n    );\r\n  }\r\n\r\n  /**\r\n   * lọc khách hàng theo hạng khách hàng\r\n   * @example this.filterCustomer('all')\r\n   */\r\n  filterCustomer(event) {\r\n    this.filter_value = event;\r\n    if (event == 'all') {\r\n      this.list_search_customer = this.list_filter_customer\r\n    }\r\n    else {\r\n      this.list_search_customer = this.list_filter_customer.filter(item => item.id_customer_class == event)\r\n    }\r\n    this.searchCustomer(this.search_value)\r\n  }\r\n\r\n  gotoEdit(data) {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/card-goods/exchange-points'], { state: data })\r\n  }\r\n\r\n  gotoExchangeToVouchers(data) {\r\n    if (this.customer_classs.find(item => item._id == data.id_customer_class).exchange_payment_card_enable)\r\n      this.router.navigate(['/cafe/dashboard/management/sales-program/card-goods/exchange-points/to-cards'], { state: data })\r\n    else this.modal.info({\r\n      nzTitle : this.languageService.translate(\"Hạng khách hàng này chưa được cho phép đổi điểm sang thẻ trả trước\"),\r\n      nzOnOk : ()=>{\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  nameCol = false;\r\n  phoneCol = false;\r\n  point_validityCol = false;\r\n  name_employeeCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'name':\r\n        if(this.nameCol){\r\n          this.list_customer = this.vhAlgorithm.sortVietnamesebyASC([...this.list_customer], colName);\r\n        }else{\r\n          this.list_customer = this.vhAlgorithm.sortVietnamesebyDESC([...this.list_customer], colName);\r\n        }\r\n        break;\r\n      case 'phone':\r\n        if(this.phoneCol){\r\n          this.list_customer = this.vhAlgorithm.sortStringbyASC([...this.list_customer], colName);\r\n        }else{\r\n          this.list_customer = this.vhAlgorithm.sortStringbyDESC([...this.list_customer], colName);\r\n        }\r\n        break;\r\n      case 'point_validity':\r\n        if(this.point_validityCol){\r\n          this.list_customer = this.vhAlgorithm.sortNumberbyASC([...this.list_customer], colName);\r\n        }else{\r\n          this.list_customer = this.vhAlgorithm.sortNumberbyDESC([...this.list_customer], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n  <div nz-row class=\"product-list-header\">\r\n    <div nz-col nzSpan=\"8\" class=\"title left-all-content\">\r\n      <b>{{'Redeem accumulated points' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"8\" class=\"title left-all-content\">\r\n      <nz-input-group [nzSuffix]=\"suffixIconSearch\" style=\" width: 90%;\">\r\n        <input type=\"text\" [(ngModel)]=\"search_value\" (ngModelChange)=\"searchCustomer($event)\" nz-input\r\n          placeholder=\"{{'Search for customer name, phone number' | translate}}\" />\r\n      </nz-input-group>\r\n      <ng-template #suffixIconSearch>\r\n        <i nz-icon nzType=\"search\"></i>\r\n      </ng-template>\r\n    </div>\r\n    <div nz-col nzSpan=\"8\" class=\"title left-all-content\">\r\n      <nz-select style=\"width: 100%;\" nzPlaceHolder=\"{{'Filter by card status' | translate}}\" nzShowSearch\r\n        [nzServerSearch]=\"true\" nzBorderless [(ngModel)]=\"filter_value\" (ngModelChange)=\"filterCustomer($event)\">\r\n        <nz-option nzLabel=\"{{'All' | translate}}\" nzValue=\"{{'all'}}\"></nz-option>\r\n        <nz-option *ngFor=\"let option of customer_classs\" nzLabel=\"{{option.name}}\"\r\n          nzValue=\"{{option._id}}\"></nz-option>\r\n      </nz-select>\r\n    </div>\r\n  </div>\r\n  <nz-table [nzScroll]=\"{ y: heightScroll  }\" #dataShow [nzShowPagination]=\"false\"\r\n   nzShowSizeChanger\r\n   [nzData]=\"list_customer\">\r\n    <thead>\r\n      <tr>\r\n        <th style=\"cursor: pointer;\" (click)=\"nameCol = !nameCol;sortTable('name')\" nzWidth=\"25%\">\r\n          <b>{{'Customer name' | translate}}</b>\r\n          <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n        </th>\r\n        <th style=\"cursor: pointer;\" (click)=\"phoneCol = !phoneCol;sortTable('phone')\">\r\n          <b>{{'Phone' | translate}}</b>\r\n          <i nz-icon [nzType]=\"phoneCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n        </th>\r\n        <th style=\"cursor: pointer;\" (click)=\"point_validityCol = !point_validityCol;sortTable('point_validity')\">\r\n          <b>{{'Accumulated points' | translate}}</b>\r\n          <i nz-icon [nzType]=\"point_validityCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n        </th>\r\n        <th nzAlign=\"center\"><b>{{'Exchange for prepaid card' | translate}}</b></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let data of dataShow.data\">\r\n        <td>\r\n          {{ data.name}}\r\n        </td>\r\n        <td> {{ data.phone}}</td>\r\n        <td>\r\n          {{data.point_validity}}\r\n        </td>\r\n        <td nzAlign=\"center\">\r\n          <i style=\" font-size: 1.5rem;color:  var(--ion-color-vh-green);\" nz-icon nzType=\"gift\" nzTheme=\"outline\"\r\n            (click)=\"gotoExchangeToVouchers(data)\"></i>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </nz-table>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ExchangePointsComponent } from './exchange-points.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { FormsModule } from '@angular/forms'; \r\nimport { ToCardsComponent } from './to-cards/to-cards.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExchangePointsComponent\r\n  },  \r\n  {\r\n    path: 'to-cards',\r\n    component: ToCardsComponent\r\n  },  \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ExchangePointsComponent, \r\n     ToCardsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ExchangePointsModule { }\r\n","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component, OnInit, HostListener } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-to-cards',\r\n  templateUrl: './to-cards.component.html',\r\n  styleUrls: ['./to-cards.component.scss']\r\n})\r\nexport class ToCardsComponent implements OnInit {\r\n\r\n  searchValue: string = ''\r\n  list_coupons: any = [];\r\n  root: any;\r\n  exchange_points: number = 0;\r\n\r\n  default_branch = this.vhQueryCafe.getDefaultBranch()._id;\r\n  point_validity: number = 0;\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuery: VhQuery,\r\n    private languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private modal: NzModalService\r\n  ) {\r\n    this.root = this.router.getCurrentNavigation().extras.state\r\n    this.point_validity = this.vhQueryCafe.getlocalCustomerPoints(this.root._id)\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/cafe/dashboard/management/sales-program/card-goods/exchange-points'])\r\n  }\r\n\r\n  /**\r\n   * tìm thẻ theo mã code\r\n   */\r\n  searchCoupons(value) {\r\n    if (value)\r\n      this.vhQueryCafe.getPaymentCard_Code_Name_Release_byCode(value)\r\n        .then((product_codes: any) => {\r\n          if (product_codes && !this.list_coupons.find(item => item.code == value))\r\n            switch (product_codes.status) {\r\n              case 1: {\r\n                if (new Date() < new Date(product_codes.date_expire)) {\r\n                  if (product_codes.units[0].points == 0) {\r\n                    this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Bạn không thể đổi thẻ trả trước này!\"), 8000)\r\n                  }\r\n                  else {\r\n                    if (this.point_validity - this.exchange_points - product_codes.units[0].points >= 0) {\r\n                      product_codes.name = product_codes.name_payment_card;\r\n                      this.list_coupons = this.list_coupons.concat(product_codes);\r\n                      this.exchange_points += product_codes.units[0].points;\r\n                    }\r\n                    else {\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vượt quá giới hạn điểm cho phép quy đổi!\"), 8000)\r\n                    }\r\n                  }\r\n                }\r\n                else {\r\n                  this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Thẻ này đã hết hạn sử dụng!\"), 8000)\r\n                }\r\n                break;\r\n              }\r\n              case 2: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Thẻ này đã bán\"), 8000)\r\n                break;\r\n              }\r\n              case 3: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Thẻ này đã được quy đổi từ điểm tích lũy\"), 8000)\r\n                break;\r\n              }\r\n              case 4: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Thẻ này đã được sử dụng\"), 8000)\r\n                break;\r\n              }\r\n\r\n            }\r\n          if (!product_codes) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Không tìm thấy thẻ này\"), 8000)\r\n          setTimeout(() => {\r\n            this.searchValue = ''\r\n          }, 200);\r\n        })\r\n\r\n    else {\r\n\r\n    }\r\n  }\r\n\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\")) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - 50 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * xác nhận đổi điểm lấy thẻ\r\n   */\r\n  save() {\r\n    this.vhComponent.showLoading('')\r\n      .then(() => {\r\n        let array: string[] = this.list_coupons.map(item => {\r\n          return {\r\n            id_payment_card_code: item._id, points: item.units[0].points, products: item.products.map(item_prod => {\r\n              return {\r\n                id_product: item_prod.id_product, price: 0,\r\n                ptype: item_prod.ptype,\r\n                ratio: item_prod.ratio,\r\n                quantity: item_prod.quantity,\r\n                id_subproduct: item_prod.id_subproduct, outquantity: 0\r\n              }\r\n            })\r\n          }\r\n        })\r\n        this.vhQueryCafe.exchangePaymentCardCode_byEarningPoints(array, this.root._id, this.exchange_points)\r\n          .then((bool) => {\r\n            console.log('exchangeCouponCode_byEarningPoints', bool);\r\n            this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Đổi thẻ trả trước thành công\"));\r\n\r\n            this.goBack();\r\n          }, error => {\r\n            console.log('error', error);\r\n          })\r\n          .catch(error => {\r\n            console.log('error', error);\r\n          })\r\n          .finally(() => this.vhComponent.hideLoading(0))\r\n      })\r\n  }\r\n  /**\r\n   * xóa thẻ trả trước đã get về trong mảng local\r\n   * @param item \r\n   * @param index \r\n   */\r\n  deleteCoupon(item, index) {\r\n    this.list_coupons = this.list_coupons.filter(ele => ele._id != item._id)\r\n    this.exchange_points -= item.units[0].points\r\n  }\r\n\r\n  barcode: string = ''\r\n  barcode_array = [];\r\n  @HostListener(\"window: keypress\", [\"$event\"])\r\n  /**\r\n   * Sự kiện nhận barcode\r\n   */\r\n  getKeyUp(_event: KeyboardEvent) {\r\n    if (this.router.url === \"/dashboard/management/sales-program/card-goods/exchange-points/to-cards\") {\r\n      // if (!this.showSearchBar && !this.showPayInfo) {\r\n      if (_event.key == \"Enter\") {\r\n        this.barcode_array.forEach((i, index) => {\r\n          if (i == \"Shift\") {\r\n            this.barcode_array[index + 1] = this.barcode_array[\r\n              index + 1\r\n            ].toUpperCase();\r\n            this.barcode_array.splice(index, 1);\r\n          }\r\n        });\r\n        // this.scanBarcode(this.barcode_array.join(\"\"));\r\n        this.barcode = this.barcode_array.join(\"\");\r\n        setTimeout(() => {\r\n          this.barcode_array = [];\r\n          this.searchValue = this.barcode\r\n        }, 200);\r\n      } else {\r\n        this.barcode_array.push(_event.key);\r\n      }\r\n      // }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\"\r\n        style=\"grid-template-rows: 10% 90%;display: grid; grid-template-columns: 1fr;\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <div nz-row style=\"padding-bottom: 8px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n                    <b>{{'Đổi điểm sang thẻ trả trước' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n                    <nz-input-group [nzSuffix]=\"suffixIconSearch\" style=\" width: 90%;\">\r\n                        <input type=\"text\" [(ngModel)]=\"searchValue\" nz-input (keyup.enter)=\"searchCoupons(searchValue)\"\r\n                            placeholder=\"{{'Enter coupon code or scan barcode' | translate}}\" />\r\n                    </nz-input-group>\r\n                    <ng-template #suffixIconSearch>\r\n                        <i nz-icon nzType=\"search\" (click)=\"searchCoupons(searchValue)\"></i>\r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n            <nz-table [nzScroll]=\"{ y: heightScroll  }\" #dataShow [nzShowPagination]=\"false\"\r\n                nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"list_coupons\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"10%\"></th>\r\n                        <th nzWidth=\"35%\"><b>{{'Card name' | translate}}</b></th>\r\n                        <th nzAlign=\"center\"><b>{{'Card code' | translate}}</b></th>\r\n                        <th nzAlign=\"right\"><b>{{'Value' | translate}}</b></th>\r\n                        <th nzAlign=\"center\"><b>{{'Expiration_date' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let data of dataShow.data, index as i\">\r\n                        <td>\r\n                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"  nz-popconfirm\r\n                            nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{data.name}}\"\r\n                            (nzOnConfirm)=\"deleteCoupon(data,i)\" nzPopconfirmPlacement=\"bottomLeft\" \r\n                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                        <td>\r\n                            {{ data.name}} <br>  {{data.points}} điểm\r\n                        </td>\r\n                        <td nzAlign=\"center\">\r\n                            {{data.code}}\r\n                        </td>\r\n                        <td nzAlign=\"right\"> {{ vhAlgorithm.vhcurrencyunit(data.units[0].price)}}</td>\r\n                       \r\n                        <td nzAlign=\"center\">\r\n                            {{ data.date_expire | date:\"dd/MM/yyyy\"}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n    <div class=\"infor\">\r\n        <div class=\" product-list-header\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n            <div>\r\n                {{\"Customer name\"| translate}} : {{root.name}}\r\n            </div>\r\n            <div>\r\n                {{'Accumulated points' | translate}} : {{point_validity}}\r\n            </div>\r\n            <div>\r\n                {{'Exchange points' | translate}} : {{exchange_points}}\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex;justify-content: space-between;align-items: center;\" class=\" product-list-header\">\r\n            <b>Tổng phiếu quy đổi</b>\r\n            <b style=\"padding-right: 8px;\">{{list_coupons.length}}</b>\r\n        </div>\r\n        <button  [disabled]=\"!list_coupons.length\" class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"save()\">\r\n            {{'Confirm' | translate}}</button>\r\n    </div>\r\n\r\n</nz-layout>"],"names":[],"sourceRoot":"webpack:///"}