{"version":3,"file":"src_app_cafe_desktop_menu_settings_e-invoice_e-invoice_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/menu/settings/e-invoice/e-invoice.component.ts","./src/app/cafe/desktop/menu/settings/e-invoice/e-invoice.component.html","./src/app/cafe/desktop/menu/settings/e-invoice/e-invoice.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { VhAlgorithm, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-e-invoice',\r\n  templateUrl: './e-invoice.component.html',\r\n  styleUrls: ['./e-invoice.component.scss']\r\n})\r\nexport class EInvoiceComponent {\r\n\r\n  /** Ký tự động ngay khi gửi hóa đơn lên Cơ quan thuế */\r\n  cqt_invoice_auto_sign: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_invoice_auto_sign;\r\n  /** Gửi hóa đơn lên Cơ quan thuế ngay khi thanh toán */\r\n  cqt_submit_invoice_immediately : boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_submit_invoice_immediately;\r\n  /** Hàng khuyến mãi được phép xuất 0đ */\r\n  cqt_vat_ecommerce_allow_promotional_items_zero_price: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_vat_ecommerce_allow_promotional_items_zero_price;\r\n  /** Xuất riêng chiết khấu/giảm giá của sản phẩm thành 1 dòng riêng khi gửi CQT */\r\n  cqt_vat_ecommerce_separate_discount_line: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_vat_ecommerce_separate_discount_line;\r\n  /** Vẫn giữ hàng xuất bán cho sản phẩm tặng/khuyến mãi khi gửi CQT */\r\n  cqt_vat_ecommerce_keep_promotional_items_as_sold: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_vat_ecommerce_keep_promotional_items_as_sold;\r\n  /** Mã sản phẩm khi gửi CQT là mã vạch sản phẩm */\r\n  cqt_vat_ecommerce_item_code_is_barcode: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_vat_ecommerce_item_code_is_barcode;\r\n  /** Giá hàng hóa, dịch vụ... gửi CQT là giá bán đã giảm */\r\n  cqt_vat_ecommerce_item_price_is_discounted: boolean = this.vhQueryCafe.getLocalAppSettingNameBranch('permission_branch').cqt_vat_ecommerce_item_price_is_discounted;\r\n\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQueryCafe: VhQueryCafe,\r\n    public lang: LanguageService,\r\n  ) { }\r\n\r\n\r\n\r\n  /**\r\n   * update phân quyền chi nhánh lên DB\r\n   */\r\n  updateShowTypePrice(value) {\r\n    // trường hợp cqt_vat_ecommerce_allow_promotional_items_zero_price = true thì cqt_vat_ecommerce_keep_promotional_items_as_sold = false\r\n    if(value.hasOwnProperty('cqt_vat_ecommerce_allow_promotional_items_zero_price')) {\r\n      if (value.cqt_vat_ecommerce_allow_promotional_items_zero_price === true) {\r\n        this.cqt_vat_ecommerce_keep_promotional_items_as_sold = false;\r\n        value.cqt_vat_ecommerce_keep_promotional_items_as_sold = false;\r\n      }\r\n    }\r\n\r\n    // trường hợp cqt_vat_ecommerce_keep_promotional_items_as_sold = true thì cqt_vat_ecommerce_allow_promotional_items_zero_price = false\r\n    if(value.hasOwnProperty('cqt_vat_ecommerce_keep_promotional_items_as_sold')) {\r\n      if (value.cqt_vat_ecommerce_keep_promotional_items_as_sold === true) {\r\n        this.cqt_vat_ecommerce_allow_promotional_items_zero_price = false;\r\n        value.cqt_vat_ecommerce_allow_promotional_items_zero_price = false;\r\n      }\r\n    }\r\n\r\n    this.vhQueryCafe.updateAppSettingNameBranch('permission_branch', value).then((bool) => {\r\n\r\n    })\r\n  }\r\n \r\n}\r\n\r\n","<nz-layout>\r\n    <div>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <span><b>{{'E-Invoice' | translate}}</b></span>\r\n                <nz-list>\r\n                    <!-- Gửi hóa đơn lên Cơ quan thuế ngay khi thanh toán -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Gửi hóa đơn lên Cơ quan thuế ngay khi thanh toán' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"cqt_submit_invoice_immediately\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_submit_invoice_immediately:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Ký tự động ngay khi gửi hóa đơn lên Cơ quan thuế -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Ký tự động ngay khi gửi hóa đơn lên Cơ quan thuế' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"cqt_invoice_auto_sign\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_invoice_auto_sign:$event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Xuất riêng chiết khấu/giảm giá của sản phẩm thành 1 dòng riêng khi gửi CQT -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span>{{'Xuất riêng chiết khấu/giảm giá của sản phẩm thành 1 dòng riêng khi gửi CQT' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" \r\n                            (click)=\"$event.stopPropagation()\" \r\n                            [(ngModel)]=\"cqt_vat_ecommerce_separate_discount_line\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_vat_ecommerce_separate_discount_line: $event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Hàng khuyến mãi được phép xuất 0đ -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span nz-tooltip [nzTooltipTitle]=\"'Khi bật cấu hình này thì cấu hình Vẫn giữ hàng xuất bán cho sản phẩm tặng/khuyến mãi khi gửi CQT sẽ tự động tắt. Bạn chỉ có thể chọn 1 trong 2.' | translate\">{{'Hàng khuyến mãi được phép xuất 0đ' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" \r\n                            (click)=\"$event.stopPropagation()\" \r\n                            [(ngModel)]=\"cqt_vat_ecommerce_allow_promotional_items_zero_price\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_vat_ecommerce_allow_promotional_items_zero_price: $event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Vẫn giữ hàng xuất bán cho sản phẩm tặng/khuyến mãi khi gửi CQT -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span nz-tooltip [nzTooltipTitle]=\"'Khi bật cấu hình này thì cấu hình Hàng khuyến mãi được phép xuất 0đ sẽ tự động tắt. Bạn chỉ có thể chọn 1 trong 2.' | translate\">{{'Vẫn giữ hàng xuất bán cho sản phẩm tặng/khuyến mãi khi gửi CQT' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" \r\n                            (click)=\"$event.stopPropagation()\" \r\n                            [(ngModel)]=\"cqt_vat_ecommerce_keep_promotional_items_as_sold\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_vat_ecommerce_keep_promotional_items_as_sold: $event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Mã sản phẩm khi gửi CQT là mã vạch sản phẩm -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span>{{'Mã sản phẩm khi gửi CQT là mã vạch sản phẩm' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"cqt_vat_ecommerce_item_code_is_barcode\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_vat_ecommerce_item_code_is_barcode: $event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- Giá hàng hóa, dịch vụ... gửi CQT là giá bán đã giảm -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span>{{'Giá hàng hóa, dịch vụ... gửi CQT là giá bán đã giảm' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"cqt_vat_ecommerce_item_price_is_discounted\"\r\n                            (ngModelChange)=\"updateShowTypePrice({cqt_vat_ecommerce_item_price_is_discounted: $event})\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EInvoiceComponent } from './e-invoice.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: EInvoiceComponent\r\n      }, \r\n    ]\r\n  }\r\n]\r\n@NgModule({\r\n  declarations: [\r\n    EInvoiceComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class EInvoiceModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}