{"version":3,"file":"src_app_cafe_desktop_prepaid-card_prepaid-card_module_ts.js","mappings":"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","sources":["./src/app/cafe/desktop/prepaid-card/account-information/account-information.component.ts","./src/app/cafe/desktop/prepaid-card/account-information/account-information.component.html","./src/app/cafe/desktop/prepaid-card/config-print/config-print.component.ts","./src/app/cafe/desktop/prepaid-card/config-print/config-print.component.html","./src/app/cafe/desktop/prepaid-card/prepaid-card.component.ts","./src/app/cafe/desktop/prepaid-card/prepaid-card.component.html","./src/app/cafe/desktop/prepaid-card/prepaid-card.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhAlgorithm, VhAuth, VhImage } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n\r\n@Component({\r\n  selector: 'app-account-information',\r\n  templateUrl: './account-information.component.html',\r\n  styleUrls: ['./account-information.component.scss']\r\n})\r\nexport class AccountInformationComponent {\r\n  @Input() modalAccountInfo: boolean = false\r\n  @Output() closeAccount = new EventEmitter<any>()\r\n  detailEmployee: FormGroup;\r\n  employee: any;\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.countryCode = this.employee.countryCode ?? this.fncService.defaultCountryCode;\r\n    this.callingCode = this.fncService.getCallingCodeFromCountryCode(this.countryCode) ?? this.fncService.defaultCallingCode;\r\n    this.formattedPhone = this.fncService.getFormattedPhoneNumber(this.employee.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailEmployee = new FormGroup({\r\n      img: new FormControl(this.employee.img),\r\n      name: new FormControl(this.employee.name, Validators.compose([Validators.required, Validators.compose([Validators.minLength(6)])])),\r\n      email: new FormControl(this.employee.email, Validators.email),\r\n      password: new FormControl(this.employee.password, Validators.compose([Validators.minLength(5), Validators.required])),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.fncService.phoneValidator(() => this.countryCode)]),\r\n      gender: new FormControl(this.employee.gender),\r\n      address: new FormControl(this.employee.address),\r\n      dateofbirth: new FormControl(this.employee.dateofbirth),\r\n      datework: new FormControl(this.employee.datework),\r\n      contract: new FormControl(this.employee.contract),\r\n    });\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"employees\", this.detailEmployee.value[\"img\"] || null).then(\r\n      photoURL => {\r\n        this.detailEmployee.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateEmployee(this.detailEmployee);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeAccount.emit(false)\r\n  }\r\n\r\n  /**Cập nhật thông tin thay đổi */\r\n  updateEmployee(formValue) {\r\n    if (formValue.valid) {\r\n      let value = { ...formValue.value };\r\n      if(value.phone) {\r\n        value.countryCode = this.countryCode;\r\n        value.phone = this.fncService.getNationalPhoneNumber(value.phone, this.countryCode);\r\n        value.phoneNumber = this.fncService.getInternationalPhoneNumber(value.phone, this.countryCode);\r\n      }\r\n      this.vhAuth.updateEmployee(this.employee._id, value).catch(err => { console.error(err) })\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string = this.fncService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.fncService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n}\r\n","<nz-modal nzWidth=\"60vw\" [(nzVisible)]=\"modalAccountInfo\" nzTitle=\"{{'Account information' | translate}}\"\r\n    [nzFooter]=\"null\" (nzOnOk)=\"closeModal()\" (nzOnCancel)=\"closeModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            <form id=\"layout-employee-form\" class=\"ant-table-body\" nz-form [formGroup]=\"detailEmployee\">\r\n                <div nz-row [nzGutter]=\"24\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                (change)=\"onUpload($event)\" />\r\n                            <img [ngStyle]=\"{width: detailEmployee.value.img ? '100%' : '60px'}\"\r\n                                onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                [src]=\"detailEmployee.value.img\" />\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Employee name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter employee name' | translate}}\" minlength=\"5\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Employee name is required'\r\n                                            | translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Email' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"email\" formControlName=\"email\" nz-input\r\n                                        placeholder=\"{{'Enter email' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Password' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly formControlName=\"password\" type=\"password\" nz-input\r\n                                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <div class=\"calling-code\">\r\n                                      <span>+{{callingCode}}</span>\r\n                                      <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                    </div>\r\n                                    <input formControlName=\"phone\" readonly\r\n                                      [placeholder]=\"'Enter phone number' | translate\" type=\"tel\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                        <nz-date-picker (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"dateofbirth\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Address'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter address' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"employee.owner =='boss'\">\r\n                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                        <nz-select style=\"border: none !important;\" nzShowSearch\r\n                            (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                            nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\">\r\n                            <nz-option nzLabel=\"{{'Female' | translate}}\" nzValue=\"Female\"></nz-option>\r\n                            <nz-option nzLabel=\"{{'Male' | translate}}\" nzValue=\"Male\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Starting date'|translate}}</b></div>\r\n                                <nz-date-picker style=\"width: 95%;\" (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                                    formControlName=\"datework\">\r\n                                </nz-date-picker>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Contract' | translate}}</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control>\r\n                                        <nz-input-group>\r\n                                            <input style=\"width: 95%;\" (blur)=\"updateEmployee(detailEmployee)\"\r\n                                                formControlName=\"contract\" nz-input\r\n                                                placeholder=\"{{'Enter contract' | translate}}\" />\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { VhQueryCafe, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { ExchangePaymentCardK57Col3Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k57-col3/exchange-payment-card-k57-col3.component';\r\nimport { ExchangePaymentCardK80Col3Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k80-col3/exchange-payment-card-k80-col3.component';\r\nimport { ExchangePaymentCardK80Col4Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k80-col4/exchange-payment-card-k80-col4.component';\r\nimport { ExchangePaymentCardA5Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-a5/exchange-payment-card-a5.component';\r\nimport { ExchangePaymentCardA4Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-a4/exchange-payment-card-a4.component';\r\nimport { VhSaleInvoicesExchangePaymentCard } from 'src/app/cafe/interface/vh-sale-payment-card-invoice';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n \r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQueryCafe: VhQueryCafe,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQueryCafe.getLocalPrintPage(\"page_desktop_exchange_payment_card\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() { \r\n  }\r\n  \r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  \r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  addPrinter() { \r\n    this.vhComponent.showLoading('').then(() => { \r\n      this.vhQueryCafe.addPrintPage('page_desktop_exchange_payment_card',{...this.exchange_payment_card} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0] \r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n \r\n  // dữ liệu dùng để thêm máy in\r\n  \r\n  exchange_payment_card = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_exchange_payment_card',\r\n    print_sizes: [{\r\n      _id: 'print_size_a4',\r\n      name: 'A4',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_a5',\r\n      name: 'A5',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_k80_4c',\r\n      name: 'K80 - 4 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k80_3c',\r\n      name: 'K80 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k57_3c',\r\n      name: 'K57 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQueryCafe.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    let invoice = new VhSaleInvoicesExchangePaymentCard(this.tempBillSalesCard, this.bill_details_ExchangeCard,  );\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(this.item._id), { printer: this.item, invoice: invoice }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n  \r\n  private renderPrintSalesPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangePaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangePaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangePaymentCardK80Col4Component\r\n      case 'print_size_a5': return ExchangePaymentCardA5Component\r\n      case 'print_size_a4': return ExchangePaymentCardA4Component\r\n      default: return ExchangePaymentCardA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- dữ liệu mẫu --------- */\r\n \r\n  // bán payment card\r\n  tempBillSalesCard: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 50,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"Đây là hoá đơn in thử...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n  }\r\n\r\n  bill_details_SalesCard = [\r\n    {\r\n      name: \"Thẻ trả trước\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      price: 191000,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          quantity: 1,\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n  ]\r\n\r\n  bill_details_ExchangeCard = [\r\n    {\r\n      name: \"Thẻ trả trước 1\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      ptype: 1,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      name: \"Thẻ trả trước 2\",\r\n      code: \"J6JLTT0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      ptype: 1,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        }\r\n      ],\r\n    },\r\n  ]\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Configure prepaid card exchange print page' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    \r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Router } from '@angular/router';\r\nimport {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhQueryCafe } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VhComponent } from 'src/app/cafe/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/cafe/services/language.service';\r\nimport { VhBillType51Add } from 'src/app/cafe/components/bill-type/bill-type-51/bill-type51-interface';\r\nimport { ExchangePaymentCardK57Col3Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k57-col3/exchange-payment-card-k57-col3.component';\r\nimport { ExchangePaymentCardK80Col3Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k80-col3/exchange-payment-card-k80-col3.component';\r\nimport { ExchangePaymentCardK80Col4Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-k80-col4/exchange-payment-card-k80-col4.component';\r\nimport { ExchangePaymentCardA5Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-a5/exchange-payment-card-a5.component';\r\nimport { ExchangePaymentCardA4Component } from 'src/app/cafe/components/print/prepaid-card/exchange-payment-card-a4/exchange-payment-card-a4.component';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nexport interface TreeNodeInterface {\r\n  key: string;\r\n  name: string;\r\n  code?: number;\r\n  level?: number;\r\n  expand?: boolean;\r\n  price?: number;\r\n  children?: TreeNodeInterface[];\r\n  parent?: TreeNodeInterface;\r\n  products: Array<any>;\r\n  unit: string;\r\n  ratio: number;\r\n  quantity: number;\r\n  restquantity: number;\r\n  quantity_use: number;\r\n  stock: number;\r\n  id_payment_card_code?: string;\r\n  outquantity: number;\r\n  id_lotproduct?: string;\r\n  lots?: Array<any>;\r\n  name_payment_card? :string;\r\n  name_payment_card_release? : string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-prepaid-card',\r\n  templateUrl: './prepaid-card.component.html',\r\n  styleUrls: ['./prepaid-card.component.scss'],\r\n})\r\nexport class PrepaidCardComponent implements OnInit {\r\n  public user: any = this.vhAuth.getUser(); // thông tin tài khoản hiện tại\r\n  public modalAccountInfo: boolean = false; // show/hide moal thông tin tài khoản\r\n  currentDate: Date = new Date();\r\n  code: string = '';\r\n  heightScroll: string = '';\r\n  list_products: any[] = [];\r\n  product_codes: any[] = [];\r\n  showConfigPrint = false;\r\n  showConfig = false;\r\n  public langList: any[] = [\r\n    {\r\n      name: 'Vietnamese',\r\n      value: 'vi',\r\n      img: 'assets/icon/settings/language/vi.svg',\r\n    },\r\n    {\r\n      name: 'English',\r\n      value: 'en',\r\n      img: 'assets/icon/settings/language/en.svg',\r\n    },\r\n  ];\r\n  public lang: string = localStorage.getItem('vh-sales-language');\r\n  size: any = [12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n  customer: any;\r\n  list_payment_cards: any[] = [];\r\n  templates: { name: string; url: string; giai_thich: string; }[] = [];\r\n  store_main_sector = '';\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n\r\n  constructor(\r\n    public vhQueryCafe: VhQueryCafe,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    public router: Router,\r\n    public cdRef: ChangeDetectorRef,\r\n    private translateService: TranslateService,\r\n    private modal: NzModalService,\r\n    private http: HttpClient,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.store_main_sector = this.vhAuth.getStore().main_sector; // Lấy main_sector của cửa hàng\r\n    this.http.get(`assets/documents/configuration/template/${this.country_code}/${this.store_main_sector}.json`).subscribe((templates) => {\r\n      this.templates = templates[this.language];\r\n    }); // Lấy giao diện theo main_sector của cửa hàng\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (\r\n      document.querySelector('#content') &&\r\n      document.querySelector('.button')\r\n    ) {\r\n      this.heightScroll =\r\n        document.querySelector('#content').clientHeight -\r\n        document.querySelector('.button').clientHeight -\r\n        180 +\r\n        'px';\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  gotoSellingPage(page) {\r\n    this.router.navigate([page]);\r\n  }\r\n  gotoHome() {\r\n    this.router.navigate(['/cafe/dashboard/overviews'], { state: { isSync: true } });\r\n  }\r\n\r\n  logout() {\r\n    this.vhAuth.signOut().then(\r\n      () => {\r\n        this.vhQueryCafe.closeSyncCollections();\r\n        this.vhQueryCafe.clearDefaultBranch(); //xóa branchDefault trước khi thoát app\r\n        this.router.navigate(['/login']);\r\n      },\r\n      (error) => {\r\n        console.error('error', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCard(code) {\r\n    if (code.length >= 8)\r\n      this.vhQueryCafe\r\n        .getPaymentCard_Code_Name_Release_byCode(code)\r\n        .then((product_codes: any) => {\r\n          if (product_codes) {\r\n            if (!this.product_codes.find((item) => item.code == code)) {\r\n              if (\r\n                this.vhQueryCafe.getBranch_Management_Scope()\r\n                  .sales_program_scope &&\r\n                product_codes.id_branch !=\r\n                this.vhQueryCafe.getDefaultBranch()._id\r\n              ) {\r\n                this.vhComponent.alertMessageDesktop(\r\n                  'error',\r\n                  this.languageService.translate(\r\n                    'Chi nhánh hiện tại không thể sử dụng thẻ này!'\r\n                  )\r\n                );\r\n                return;\r\n              }\r\n              let status = product_codes.status;\r\n              if (status == 1) {\r\n                this.vhComponent.alertMessageDesktop(\r\n                  'error',\r\n                  this.languageService.translate('Thẻ chưa được bán !')\r\n                );\r\n              } else {\r\n                if (this.currentDate > new Date(product_codes.date_expire)) {\r\n                  this.vhComponent.alertMessageDesktop(\r\n                    'error',\r\n                    this.languageService.translate('Thẻ đã hết hạn !')\r\n                  );\r\n                } else {\r\n                  this.handleCard(product_codes);\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              this.vhComponent.alertMessageDesktop(\r\n                'warning',\r\n                this.languageService.translate('Đang sử dụng thẻ này!')\r\n              );\r\n            }\r\n\r\n          } else {\r\n            this.code = '';\r\n            this.vhComponent.alertMessageDesktop(\r\n              'error',\r\n              this.languageService.translate('Không tìm thấy thẻ này !')\r\n            );\r\n          }\r\n        });\r\n  }\r\n\r\n  /**\r\n   * get card = card.id_card\r\n   * láy các sản phẩm trong card\r\n   * @param card product_code của card {id_card, id_release_detail}\r\n   */\r\n  handleCard(card: any) {\r\n    card.products = card.products.map((item) => {\r\n      return {\r\n        id_payment_card: card.id_payment_card,\r\n        ...item,\r\n        name: this.vhQueryCafe.getlocalProduct(item.id_product).name,\r\n        restquantity: item.quantity - item.outquantity,\r\n        quantity_use:item.quantity == item.outquantity ? 0 : 1,\r\n        outquantity: item.outquantity,\r\n        stock: this.vhQueryCafe.getlocalProduct(item.id_product).quantity_branch ? this.vhQueryCafe.getlocalProduct(item.id_product).quantity_branch[this.vhQueryCafe.getDefaultBranch()._id] : 0,\r\n      };\r\n    });\r\n    this.customer = this.vhQueryCafe.getlocalCustomer(card.id_customer);\r\n    if (\r\n      card.products.filter((item) => item.restquantity == 0).length ==\r\n      card.products.length\r\n    ) {\r\n      this.modal.confirm({\r\n        nzTitle: this.languageService.translate('Đã sử dụng hết!'),\r\n        nzContent: this.languageService.translate(\r\n          'Thẻ này đã sữ dụng hết số lượng hàng hóa có thể sử dụng!'\r\n        ),\r\n        nzOnOk: () => this.cancel(),\r\n        nzCancelText: null,\r\n      });\r\n    } else {\r\n      this.product_codes =this.product_codes.concat([card])\r\n      for (let item of this.product_codes) {\r\n        // check xem products có sp có lots hay ko\r\n        if (item['products'].filter(pro => pro.ptype == 1 && pro.lots && pro.lots.length).length) {\r\n          console.log('sp có lots');\r\n          this.show_modal_select_lots_combo = true;\r\n          this.tempDetail = this.tempDetail.concat(item['products'].filter(pro => pro.lots && pro.lots.length))\r\n        }\r\n\r\n        // check trong products có combo có lots ko\r\n        for (let i of item['products'].filter(pro => pro.ptype == 5)) {\r\n          if (i.combos.filter(e => e.lots && e.lots.length).length) this.tempDetail.push(i)\r\n        }\r\n      }\r\n      console.log(this.product_codes);\r\n    }\r\n  }\r\n\r\n\r\n  handleQuantityUse(item) {\r\n    // this.product_codes\r\n    //   .find((prod_code) => prod_code.code == item.code)\r\n    //   .products.find(\r\n    //     (prod) => prod.id_product == item.id_product\r\n    //   ).quantity_use = item.quantity_use;\r\n  }\r\n\r\n  //  xử lý đổi voucher và mở thông báo\r\n  exchangeVoucher() {\r\n\r\n    if (this.product_codes.length)\r\n      this.vhComponent.showLoading('').then(() => {\r\n        let billDetails = this.product_codes.map((m) => {\r\n          // bill details\r\n          m = {\r\n            id_payment_card: m.id_payment_card,\r\n            id_payment_card_code: m._id,\r\n            pctype: 1,\r\n            quantity: 1,\r\n            products: m.products\r\n            .filter((item_prod) => item_prod.quantity_use)\r\n            .map((prod) => {\r\n              let data_add = {\r\n                id_product: prod.id_product,\r\n                quantity: prod.quantity_use,\r\n                restquantity: prod.restquantity,\r\n                outquantity: prod.outquantity + prod.quantity_use,\r\n                price: 0,\r\n                ptype: prod.ptype,\r\n                ratio: prod.ratio,\r\n              }\r\n              if (prod.id_lotproduct) data_add['id_lotproduct'] = prod.id_lotproduct\r\n              if (prod.id_subproduct) data_add['id_subproduct'] = prod.id_subproduct\r\n              if (prod.ptype == 5) {\r\n                data_add['combos'] = prod.combos.map(combo => {\r\n                  let data_combo = {\r\n                    id_product: combo.id_product,\r\n                    price: combo.price,\r\n                    quantity: combo.quantity,\r\n                    ptype: combo.ptype,\r\n                    ratio: combo.ratio ? combo.ratio : 1,\r\n                  }\r\n                  if (combo.id_lotproduct) data_combo['id_lotproduct'] = combo.id_lotproduct\r\n                  if (combo.id_subproduct) data_combo['id_subproduct'] = combo.id_subproduct\r\n                  return data_combo\r\n                })\r\n              }\r\n              return data_add;\r\n            }),\r\n          };\r\n          return m;\r\n        });\r\n        // bill\r\n        let bill : VhBillType51Add= {\r\n          bill_type: 51,\r\n          id_employee: this.vhAuth.getUser()._id,\r\n          id_branch: this.vhQueryCafe.getDefaultBranch()._id,\r\n          id_customer: this.product_codes[0].id_customer,\r\n          note: '',\r\n          date: new Date(),\r\n          tax : 0\r\n        };\r\n        console.log(billDetails);\r\n        // this.vhComponent.hideLoading(0);\r\n        this.vhQueryCafe.createBill_Billdetail(bill, billDetails).then(\r\n          (bill: any) => {\r\n            this.product_codes[0].bill_code = bill.bill_code;\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.alertMessageDesktop(\r\n              'success',\r\n              this.languageService.translate('Sử dụng thành công!')\r\n            );\r\n            this.handlePrint(bill.bill_code);\r\n\r\n          },\r\n          (error: any) => {\r\n            console.log('error ', error);\r\n          }\r\n        );\r\n\r\n      });\r\n  }\r\n\r\n  gotoChangeVoucher() {\r\n    this.router.navigateByUrl('/cafe/exchange-voucher');\r\n  }\r\n\r\n  handlePrint(bill_code) {\r\n    let data = this.product_codes.map((m) => {\r\n      // bill details\r\n      m = {\r\n        id_payment_card: m.id_payment_card,\r\n        id_payment_card_code: m._id,\r\n        code: m.code,\r\n        name_payment_card: m.name_payment_card,\r\n        products: m.products\r\n          .filter((item_prod) => item_prod.quantity_use)\r\n          .map((prod) => {\r\n            return {\r\n              id_product: prod.id_product,\r\n              quantity: prod.quantity_use,\r\n              restquantity: prod.restquantity,\r\n              outquantity: prod.outquantity + prod.quantity_use,\r\n              price: prod.price,\r\n              ptype: prod.ptype,\r\n              unit: this.getUnit(prod.units, prod.ratio),\r\n              name: prod.name,\r\n              ratio: prod.ratio,\r\n              combos : prod.combos? prod.combos : [],\r\n              id_lotproduct : prod.id_lotproduct\r\n            };\r\n          }),\r\n      };\r\n      return m;\r\n    });\r\n    let invoice = {\r\n      id_employee: this.vhAuth.getUser()._id,\r\n      id_customer: this.customer._id,\r\n      date: new Date(),\r\n      bill_code: bill_code,\r\n    }\r\n\r\n    let print = this.vhQueryCafe.getLocalPrintPage('page_desktop_exchange_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer = print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer, invoice: invoice , invoice_detail : data}, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.cancel())\r\n        })\r\n      }\r\n    } else {\r\n      this.cancel()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangePaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangePaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangePaymentCardK80Col4Component\r\n      case 'print_size_a5': return ExchangePaymentCardA5Component\r\n      case 'print_size_a4': return ExchangePaymentCardA4Component\r\n      default: return ExchangePaymentCardA4Component\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Đổi thẻ\r\n   */\r\n  save() {\r\n    this.modal.confirm({\r\n      nzTitle: 'Xác sử dụng thẻ',\r\n      nzOkText: 'Xác nhận và In',\r\n      nzOkType: 'primary',\r\n      nzOkDanger: true,\r\n      nzOnOk: () => this.exchangeVoucher(),\r\n      nzCancelText: this.languageService.translate('Cancel'),\r\n      nzOnCancel: () => { },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * hủy dùng thẻ\r\n   */\r\n  cancel() {\r\n    this.tempDetail = [];\r\n    this.list_products = [];\r\n    this.product_codes = [];\r\n    this.customer = null;\r\n  }\r\n  show_modal_choose_interface = false;\r\n  /**\r\n   * thiết lập giao diện trang bán hàng\r\n   * @param type sale-pos | sale-desktop\r\n   */\r\n  public updateInterface() {\r\n    if (this.vhAuth.checkMyPermission('selling_display_page')) {\r\n      if (!this.default_selling_page) this.show_modal_choose_interface = true;\r\n      else\r\n        this.vhAuth\r\n          .updateEmployee(this.vhAuth.getUser()._id, {\r\n            default_display_page: 'selling_display_page',\r\n          })\r\n          .then((bool) => {\r\n            this.router.navigate(['/cafe/'+this.default_selling_page], {\r\n              state: { isSync: true },\r\n            });\r\n          });\r\n    } else\r\n      this.vhComponent.alertMessageDesktop(\r\n        'error',\r\n        this.languageService.translate('You do not have this rights')\r\n      );\r\n  }\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName(\r\n    'default_selling_page'\r\n  );\r\n  /**\r\n   * thiết lập giao diện trang bán hàng  sale-pos | sale-desktop\r\n   *\r\n   */\r\n  updateSalesInterface() {\r\n    this.vhAuth\r\n      .updateMyPermission({\r\n        default_selling_page: this.default_selling_page,\r\n        default_display_page: 'selling_display_page',\r\n      })\r\n      .then((bool) => {\r\n        this.router.navigate(['/cafe/'+this.default_selling_page], {\r\n          state: { isSync: true },\r\n        });\r\n      });\r\n  }\r\n  /////////////------------------------FONT_SIZE---------------------------//////////////\r\n  public fontSize: number = parseFloat(\r\n    localStorage.getItem('vh-sales-system-fontsize')\r\n  );\r\n  public setFontSize(value) {\r\n    localStorage.setItem('vh-sales-system-fontsize', JSON.stringify(value));\r\n    this.fontSize = value;\r\n    document.documentElement.style.fontSize = value + 'px';\r\n  }\r\n  /////////////------------------------COLOR---------------------------//////////////\r\n  changeColor(theme, event) {\r\n    this.vhAuth.changeTheme(theme, event);\r\n  }\r\n  public selectLang(value: string) {\r\n    let lang = this.langList.find(item => item.value == value)\r\n    this.vhAuth.localStorageSET('language_code', value)\r\n    this.vhAuth.localStorageSET('country_code', lang.country_code)\r\n    localStorage.setItem('vh-sales-language', value);\r\n    this.translateService.use(value);\r\n    this.languageService.switchLanguage(value);\r\n  }\r\n\r\n  /**Đóng modal và get lại thông tin user */\r\n  closeAccountInfo(event) {\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.modalAccountInfo = false;\r\n  }\r\n\r\n  gotoSalesVoucher() {\r\n    this.router.navigateByUrl('/cafe/sales-voucher')\r\n  }\r\n\r\n  gotoSalesPrepaidCard() {\r\n    this.router.navigateByUrl('/cafe/sales-payment-card')\r\n  }\r\n\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQueryCafe.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  tempDetail: any = []\r\n  show_modal_select_lots_combo = false;\r\n  handleChooseLotCombo() {\r\n    let check = false;\r\n    for (let i of this.tempDetail) {\r\n      if (i.ptype == 1 && !i.id_lotproduct) check = true;\r\n      if (i.ptype == 5 && i.combos.filter(item => item.lots && !item.id_lotproduct).length) check = true;\r\n    }\r\n    if (check)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Please select the lot for the product!\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      // this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n  gotoSalesOrder(){\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order')\r\n  }\r\n  gotoSalesOrderVoucher(){\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-voucher')\r\n  }\r\n    gotoExchangeOrderVoucher(){\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-voucher')\r\n  }\r\n  gotoSalesOrderPrepaidCard(){\r\n    this.router.navigateByUrl('/cafe/bill-web-app/sales-order-payment-card')\r\n  }\r\n  gotoExchangeOrderCard(){\r\n    this.router.navigateByUrl('/cafe/bill-web-app/exchange-order-payment-card')\r\n  }\r\n}\r\n","<nz-layout style=\"height: 100%;\">\r\n    <nz-header class=\"header\">\r\n        <div class=\"sales-invoice-today-header\" nz-row>\r\n            <div nz-col nzSpan=\"4\" class=\" flex-between\">\r\n                <b class=\"title\">{{'Prepaid card' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n                <b style=\"margin-right: 16px;\">{{'Enter card code' | translate}}*</b>\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\" style=\"width: 70%; padding: 0 0 0 11px;\">\r\n                    <input type=\"text\" [(ngModel)]=\"code\" nz-input placeholder=\"{{'Please scan or enter code' | translate}} \" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <button style=\"color: #fff;\" nz-button nzType=\"primary\" nzSize=\"large\" nzSearch [disabled]=\"!code.length\" [ngStyle]=\"{opacity: !code.length ? 0.5 : 1}\" (click)=\"getCard(code)\">{{'Apply' | translate}}</button>\r\n                </ng-template>\r\n            </div>\r\n\r\n            <div nz-col nzSpan=\"10\" class=\"info right-all-content\">\r\n                <div class=\"select-branch center-all-content\">\r\n                    <ion-icon src=\"assets/icon/global/location.svg\" style=\"margin-right: 8px;\"></ion-icon>\r\n                    <div class=\"select-branch-name\">{{vhQueryCafe.getDefaultBranch().name}}</div>\r\n                </div>\r\n                <div class=\"center-div\" style=\"cursor: pointer;height: 100%;display: flex; align-items: center;\" nz-dropdown [nzDropdownMenu]=\"menu\" nzTrigger=\"click\">\r\n                    <div style=\"white-space: nowrap;font-size: 0.9rem; margin-right: 4px; text-transform: capitalize;\">\r\n                        {{user.name}}</div>\r\n                    <nz-avatar [nzSrc]=\"user.img ? user.img : 'https://raw.githubusercontent.com/Viethas-App/Sales365-Desktop-Electron/refs/heads/main/assets/template/avatar-shop.png'\"></nz-avatar>\r\n                </div>\r\n                <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n                    <ul nz-menu nzSelectable>\r\n                        <li nz-menu-item (click)=\"updateInterface()\"><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i> {{'Sales' | translate}}</li>\r\n                        <li nz-menu-item (click)=\"gotoHome()\" [nzDisabled]=\"!vhAuth.checkMyPermission('admin_display_page')\"><i nz-icon nzType=\"home\" nzTheme=\"outline\"></i> <span style=\"margin-left: 3px;\">{{'Administrator'|\r\n                                translate}}</span></li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplSalesVoucher\">\r\n                            <ng-template #titleTplSalesVoucher><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Sell voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Sell voucher' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Sell prepaid card' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                            <ng-template #titleTpl><i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Exchange voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoChangeVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Exchange voucher for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item style=\"color: var(--ion-color-vh-green);\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Exchange prepaid card for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplWebAPp\">\r\n                            <ng-template #titleTplWebAPp><span nz-icon nzType=\"global\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Order from web/app' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrder()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Orders' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Voucher purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Voucher exchange order for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card exchange order for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"modalAccountInfo =true\" nz-menu-item><i nz-icon nzType=\"user\" nzTheme=\"outline\"></i> {{'Account information' | translate}}\r\n                        </li>\r\n                        <li nz-submenu nzTitle=\"{{'Configure card exchange page' | translate}}\" nzIcon=\"setting\">\r\n                            <ul style=\"min-width: 125px;\">\r\n                                <li nz-menu-item (click)=\"showConfigPrint = true\">\r\n                                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Print page' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"showConfig = true\">\r\n                                    <i nz-icon nzType=\"setting\" nzTheme=\"outline\"></i> {{'Others'| translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"logout()\" nz-menu-item><i nz-icon nzType=\"logout\" nzTheme=\"outline\"></i> {{'Log out' | translate}}\r\n                        </li>\r\n                    </ul>\r\n                </nz-dropdown-menu>\r\n            </div>\r\n        </div>\r\n    </nz-header>\r\n    <nz-content id=\"content\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\">\r\n                <b style=\"margin-right: 16px\">{{'Sales employee:' | translate}}</b> {{user.name}}\r\n            </div>\r\n            <div class=\"center-all-content\" nz-col nzSpan=\"8\">\r\n                <b style=\"margin-right: 16px\">{{'Exchange date' | translate}}:</b> {{currentDate |date: 'dd/MM/yyyy HH:mm'}}\r\n            </div>\r\n            <div class=\"center-all-content\" nz-col nzSpan=\"8\" *ngIf=\"customer\">\r\n                <b style=\"margin-right: 16px\">{{'Customer information:' | translate}}</b> {{customer.name}} - {{customer.phone}}\r\n            </div>\r\n        </div>\r\n\r\n        <nz-table #expandTable nzTableLayout=\"fixed\" nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"product_codes\" nzShowSizeChanger nzShowPagination [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign=\"center\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Initial quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Usable quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Used quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"right\"><b>{{'Remaining' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of product_codes\">\r\n                    <tr (click)=\"data.expand = !data.expand\">\r\n\r\n                        <td colspan=\"6\">\r\n                            <i style=\"cursor: pointer;\" nz-icon [nzType]=\"!data.expand ? 'minus' : 'plus'\" nzTheme=\"outline\"></i>\r\n                            <b>{{data.name_payment_card_release}} ({{data.name_payment_card}})</b>: {{data.code}}\r\n                        </td>\r\n                    </tr>\r\n                    <ng-container *ngIf=\"!data.expand\">\r\n                        <tr *ngFor=\"let item of data['products']\">\r\n                            <td>\r\n                                {{item.name}} <br>\r\n                                <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                    <pre style=\"color:var(--ion-color-vh-green);cursor: pointer;\" (click)=\"show_modal_select_lots_combo = true\">{{getLotNumber(item.lots, item.id_lotproduct)}}</pre>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"item.ptype == 1\">\r\n                                    {{'Stock' | translate}}: {{item.stock}}\r\n                                </ng-container>\r\n                            </td>\r\n                            <td nzAlign=\"center\">\r\n                                {{getUnit(item.units, item.ratio)}}\r\n                            </td>\r\n                            <td nzAlign=\"center\">\r\n                                {{item.quantity}}\r\n                            </td>\r\n                            <td nzAlign=\"center\">{{item.restquantity}}</td>\r\n                            <td nzAlign=\"center\">\r\n                                <nz-input-number [(ngModel)]=\"item.quantity_use\" [nzMin]=\"0\" (ngModelChange)=\"handleQuantityUse(item)\" [nzMax]=\"item.restquantity\" [nzStep]=\"1\">\r\n                                </nz-input-number>\r\n                            </td>\r\n                            <td nzAlign=\"right\">\r\n                                <ng-container>\r\n                                    {{item.restquantity - item.quantity_use}}\r\n                                </ng-container>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n        <div class=\"button\" nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button (click)=\"save()\" [disabled]=\"!product_codes.length\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n                    {{'Use card' | translate}}\r\n                </button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button [disabled]=\"!product_codes\" class=\"btn-cancel center-all-content\" nz-button nzType=\"default\" nz-popconfirm nzPopconfirmTitle=\"{{'Confirm cancel card usage!' | translate}}\" (nzOnConfirm)=\"cancel()\">\r\n                    {{'Cancel' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </nz-content>\r\n</nz-layout>\r\n\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal nzWidth=\"70vw\" *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\" [(nzVisible)]=\"show_modal_select_lots_combo\" nzTitle=\"{{'Select lot number for products in voucher' | translate}}: {{tempDetail.name}}\" (nzOnCancel)=\"handleChooseLotCombo()\"\r\n    (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\">{{\"Product name\" | translate}}</th>\r\n                    <th nzWidth=\"30%\"> {{'Lot number' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Unit' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Quantity' | translate}}</th>\r\n                    <th nzAlign=\"right\" nzWidth=\"20%\">{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n\r\n                    <ng-container *ngIf=\"data.combos\">\r\n                        <tr>\r\n                            <td colspan=\"4\">{{ data.name }}</td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let item of data.combos\">\r\n                            <tr *ngIf=\"item.lots\">\r\n                                <td style=\"padding-left: 16px !important;\">{{ item.name }}</td>\r\n                                <td>\r\n                                    <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"item.id_lotproduct\">\r\n                                        <nz-option *ngFor=\"let element of item.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                    </nz-select>\r\n                                </td>\r\n                                <td>{{getUnit(item.units, item.ratio)}}</td>\r\n                                <td>{{ item.quantity }}</td>\r\n                                <td nzAlign=\"right\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price) }}\r\n\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!data.combos\">\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"data.id_lotproduct\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td nzAlign=\"right\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\" (click)=\"handleChooseLotCombo()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\" class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- ---------------------modal chọn giao diện bán hàng ------------------- -->\r\n<nz-modal [nzStyle]=\"{ top: '45%', transform: 'translateY(-50%)' }\" [nzBodyStyle]=\"{'max-height': '70vh'}\" nzWidth=\"60vw\" [(nzVisible)]=\"show_modal_choose_interface\" [nzOkDisabled]=\"!default_selling_page\" (nzOnOk)=\"updateSalesInterface()\" (nzOnCancel)=\"show_modal_choose_interface = false\" [nzTitle]=\"'Sales interface' | translate\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\" style=\"justify-content: start !important;\">\r\n            <div *ngFor=\"let template of templates\" nz-col nzSpan=\"12\" class=\"bottom-right\">\r\n                <div class=\"thumbnail\" (click)=\"default_selling_page = template.url\" [class.active]=\" default_selling_page == template.url\">\r\n                    <img [src]=\"template.image\" style=\"width: 100%;\" />\r\n\r\n                </div>\r\n                <div style=\"text-align: center;\">\r\n                    {{template.name | translate}} <i *ngIf=\"default_selling_page == template.url\" style=\"color: var(--ion-color-vh-green);\" nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<!-- ---------------------modal cấu hình------------------- -->\r\n<nz-modal nzCentered nzWidth=\"50vw\" [(nzVisible)]=\"showConfig\" (nzOnCancel)=\"showConfig = false\" [nzTitle]=\"'Other settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list nzSize=\"default\">\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Language'| translate}}</span>\r\n                    <nz-select style=\"width: 100%;\" class=\"select-lang\" [(ngModel)]=\"lang\" (ngModelChange)=\"selectLang($event)\" [nzCustomTemplate]=\"defaultTemplate\">\r\n                        <nz-option *ngFor=\"let item of langList\" nzLabel=\"{{item.name | translate}}\" nzCustomContent [nzValue]=\"item.value\">\r\n                            <img style=\"width: 24px;\" [src]=\"item.img\" /> {{item.name}}\r\n                        </nz-option>\r\n                    </nz-select>\r\n                    <ng-template #defaultTemplate let-selected>\r\n                        <img style=\"width: 24px;\" src=\"assets/icon/settings/language/{{selected.nzValue}}.svg\" /> {{selected.nzLabel}}\r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Font size'| translate}}</span>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <nz-select [(ngModel)]=\"fontSize\" (ngModelChange)=\"setFontSize($event)\">\r\n                            <nz-option *ngFor=\"let item of size\" [nzValue]=\"item\" [nzLabel]=\"item\"></nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div nz-row class=\"row\">\r\n                <span class='sub-title'> {{'Color'| translate}}</span>\r\n                <nz-list-item class=\"no-border\">\r\n                    <div id='color-picker'>\r\n                        <div class='color gray-theme' (click)=\"changeColor('gray-theme', $event)\" style=\"background-color: #7F7F7F;\">\r\n                        </div>\r\n                        <div class='color brown-theme' (click)=\"changeColor('brown-theme', $event)\" style=\"background-color: #880015;\">\r\n                        </div>\r\n                        <div class=\"color red-theme\" (click)=\"changeColor('red-theme', $event)\" style=\"background-color: #ED1B24;\">\r\n                        </div>\r\n                        <div class='color orange-theme' (click)=\"changeColor('orange-theme', $event)\" style=\"background-color: #FF7F26;\"></div>\r\n                        <div class=\"color yellow-theme\" (click)=\"changeColor('yellow-theme', $event)\" style=\"background-color: #f1c40f;\"></div>\r\n                        <div class='color vh-theme' (click)=\"changeColor('vh-theme', $event)\" style=\"background-color: #23B14D;\"></div>\r\n                        <div class='color sky-theme' (click)=\"changeColor('sky-theme', $event)\" style=\"background-color: #00A3E8;\">\r\n                        </div>\r\n                        <div class='color blue-theme' (click)=\"changeColor('blue-theme', $event)\" style=\"background-color: #3F47CC;\">\r\n                        </div>\r\n                        <div class='color purple-theme' (click)=\"changeColor('purple-theme', $event)\" style=\"background-color: #A349A3;\"></div>\r\n                    </div>\r\n                </nz-list-item>\r\n            </div>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<!-- modal hiễn thị cấu hình in -->\r\n<app-config-print [showConfigPrint]=\"showConfigPrint\" (hide)=\"showConfigPrint = false\"></app-config-print>\r\n\r\n<!-- modal thông tin tài khoản -->\r\n<app-account-information *ngIf=\"modalAccountInfo\" [modalAccountInfo]=\"modalAccountInfo\" (closeAccount)=\"closeAccountInfo($event)\"></app-account-information>\r\n","import { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PrepaidCardComponent } from './prepaid-card.component';\r\nimport { NgZorroAntModule } from '../ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ConfigPrintComponent } from './config-print/config-print.component';\r\nimport { AccountInformationComponent } from './account-information/account-information.component';\r\nimport { ComponentsModule } from '../exchange-voucher/components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PrepaidCardComponent, \r\n  }\r\n]\r\n@NgModule({\r\n  declarations: [\r\n    PrepaidCardComponent,ConfigPrintComponent,AccountInformationComponent\r\n  ],\r\n  imports: [\r\n    CommonModule, \r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    ComponentsModule\r\n  ]\r\n})\r\nexport class PrepaidCardModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}