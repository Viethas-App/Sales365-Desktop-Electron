{"version":3,"file":"src_app_dealer_dashboard_extended-use_extended-use_module_ts.js","mappings":"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","sources":["./src/app/dealer/dashboard/extended-use/extended-use.component.ts","./src/app/dealer/dashboard/extended-use/extended-use.component.html","./src/app/dealer/dashboard/extended-use/extended-use.module.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\n\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { VhAuth, VhQuerySales, VhQueryDealer } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-extended-use',\r\n  templateUrl: './extended-use.component.html',\r\n  styleUrls: ['./extended-use.component.scss']\r\n})\r\nexport class ExtendedUseComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  /// panigatior ///\r\n  searchValue = '';\r\n  public date: Date[] = [new Date(), new Date()];\r\n  pageIndex: number = 0;\r\n  pageSize: number = 20;\r\n  lowValue: number = 0;\r\n  highValue: number = 20;\r\n  pageSizeOption: any = [20, 50, 100, 200, 500];\r\n  data: any = [];\r\n\r\n  loading: boolean = false;\r\n  isVisibleExtendUse = false;\r\n  isVisibleHistory = false;\r\n  key_code = ''\r\n  id_branch = ''\r\n  customer: any\r\n  customer_branchs = []\r\n  historys = []\r\n  constructor(\r\n\r\n    public dialog: MatDialog,\r\n    private _snackBar: MatSnackBar,\r\n    private vhQueryDealer: VhQueryDealer,\r\n    private vhAuth: VhAuth,\r\n    private nzModalService: NzModalService,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getEndUsersAPP_byTime_byDealer(loading) {\r\n    if (loading) this.loading = true;\r\n    this.data = [];\r\n    console.log(this.vhAuth.getDealer()._id)\r\n    console.log(new Date(this.date[0].setHours(0, 0, 0, 0)))\r\n    console.log(new Date(this.date[1].setHours(23, 59, 59, 59)))\r\n    this.vhQueryDealer.getStoresAPP_byTime(new Date(this.date[0].setHours(0, 0, 0, 0)), new Date(this.date[1].setHours(23, 59, 59, 59)), this.vhAuth.getDealer()._id)\r\n      .then((data: any) => {\r\n        this.loading = false;\r\n        if (data) {\r\n          this.data = data.map((item, index) => {\r\n            return { ...item, no: (index += 1) };\r\n          });\r\n          console.log(data)\r\n        }\r\n      },\r\n        (err) => {\r\n          console.log(err), (this.loading = false);\r\n        }\r\n      );\r\n  }\r\n\r\n\r\n\r\n\r\n  openZalo(customer) {\r\n    window.open(`https://zalo.me/${customer}`);\r\n  }\r\n  // slice panigator\r\n  getPaginatorData(event: PageEvent): PageEvent {\r\n    this.lowValue = event.pageIndex * event.pageSize;\r\n    this.highValue = this.lowValue + event.pageSize;\r\n    return event;\r\n  }\r\n\r\n  public copyValue(value) {\r\n    navigator.clipboard.writeText(value);\r\n    this._snackBar.open('Copied', value, {\r\n      horizontalPosition: 'center',\r\n      verticalPosition: 'top',\r\n      duration: 2000\r\n    });\r\n  }\r\n\r\n  /**\r\n   * mở modal gia hạn nhập key và chọn chi nhánh\r\n   */\r\n  openModalExtendedUse(customer) {\r\n    this.vhQueryDealer.getBranchs_byIDstore(customer._id)\r\n      .then((branchs: any) => {\r\n        console.log('getBranchs_byIDstore', branchs);\r\n        this.customer_branchs = branchs\r\n        this.customer = customer;\r\n        this.isVisibleExtendUse = true;\r\n        this.key_code = ''\r\n      })\r\n  }\r\n  /**\r\n   * hàm thực hiện xử lý gia hạn cho tài khoản và chi nhánh đã chọn từ modal ExtendedUse\r\n   */\r\n  handleExtendUse() {\r\n    console.log(this.id_branch)\r\n    this.nzModalService.confirm({\r\n      nzTitle: this.languageService.translate(\"Xác nhận kích hoạt gia hạn?\"),\r\n      nzContent: this.languageService.translate(`\"Xác nhận kích hoạt gia hạn cho tài khoản ${this.customer.email}?\"`),\r\n      nzOnOk: () => {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          /**\r\n           * cập nhật các trường cần thiết lên DB\r\n           */\r\n          this.vhQueryDealer.extendLicenseValidaty_byLicenseKEY(this.customer._id, this.id_branch, this.key_code,)\r\n            .then((response: any) => {\r\n              console.log('updateLicenseKEY', response);\r\n              if (response.vcode = 0) {\r\n                // thông báo thành công và tắt modal\r\n                this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Kích hoạt thành công\"))\r\n              }\r\n              if (response.vcode = 1) {\r\n                // thông báo thành công và tắt modal\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"License KEY không thuộc về Store\"))\r\n              } if (response.vcode = 2) {\r\n                // thông báo thành công và tắt modal\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"License KEY đã được kích hoạt trước đây\"))\r\n              } if (response.vcode = 3) {\r\n                // thông báo thành công và tắt modal\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"License KEY đã bị vô hiệu hóa\"))\r\n              } if (response.vcode = 4) {\r\n                // thông báo thành công và tắt modal\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"License KEY không thể kích hoạt do khác gói! Vui lòng liên hệ VIETHAS 0934.606060\"))\r\n              }\r\n              this.vhComponent.hideLoading(0)\r\n              this.isVisibleExtendUse = false;\r\n\r\n            }, error => {\r\n              // thông báo thất bại và tắt modal\r\n              this.isVisibleExtendUse = false;\r\n              this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(`\"Kích hoạt thất bại! Lỗi: ${error.error}\"`), 5000)\r\n              this.vhComponent.hideLoading(0)\r\n              console.log('error', error);\r\n            }).catch(() => {\r\n              this.isVisibleExtendUse = false;\r\n              this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Kích hoạt thất bại vui lòng thử lại\"), 5000)\r\n              this.vhComponent.hideLoading(0)\r\n            })\r\n        })\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * mở modal xem lịch sử gia hạn của tài khoản đã chọn\r\n   */\r\n  openModalHistory(customer) {\r\n    this.isVisibleHistory = true\r\n    this.historys = [];\r\n\r\n    this.vhQueryDealer.getLicenseKEYs({ id_store: { $eq: customer._id } }, {}, {}, 0)\r\n      .then((data: any) => {\r\n        this.loading = false;\r\n        if (data) {\r\n          this.historys = data.map((item, index) => {\r\n            return { ...item, no: (index += 1) };\r\n          });\r\n\r\n        }\r\n      },\r\n        (err) => {\r\n          console.log(err), (this.loading = false);\r\n        }\r\n      );\r\n  }\r\n\r\n  searchUser(event) {\r\n\r\n  }\r\n}\r\n","<div style=\"height: 100%;\">\r\n    <div style=\"height: 8%;display: flex; width: 100%; align-items: center;justify-content: space-between;\">\r\n\r\n        <b>Danh sách tài khoản</b>\r\n\r\n        <div style=\"display: flex; align-items: center; width: 40%;justify-content: center;\">\r\n            <nz-input-group   [nzSuffix]=\"suffixIconSearch\" >\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchUser($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for customer email/phone' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div style=\"display: flex; align-items: center; width: 40%;justify-content: end;\">\r\n\r\n            <nz-range-picker nzFormat='dd/MM/yyyy'  nzFormat=\"dd/MM/yyyy\"  [(ngModel)]=\"date\">\r\n            </nz-range-picker>\r\n\r\n            <button style=\"margin-left: 8px;   \" nz-button nzType=\"primary\"\r\n                (click)=\"getEndUsersAPP_byTime_byDealer(true)\" class=\"bg-success text-white px-3 mx-2 btn-view\">\r\n                Xem\r\n            </button>\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n    <div style=\"height: 91%; margin-top: 1%; overflow-y: hidden;\">\r\n        <div class=\"body-tab\" style=\"height: 92%;\">\r\n            <mat-spinner color=\"warn\" *ngIf=\"loading\" style=\"top: 50%; left: 50%; position: absolute;\"></mat-spinner>\r\n            <div style=\"top: 50%; left: 50%; position: absolute;\" *ngIf=\"!data.length && !loading\">Không có dữ liệu\r\n            </div>\r\n\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"width: 4%\" scope=\"col\">#</th>\r\n                        <th style=\"width: 11%\" scope=\"col\">Ngày đk</th>\r\n                        <th style=\"width: 8%\" scope=\"col\">Tên</th>\r\n                        <th style=\"width: 10%\" scope=\"col\">Email</th>\r\n                        <th style=\"width: 14%\" scope=\"col\">Điện thoại</th>\r\n                        <th style=\"width: 8%\" scope=\"col\">Công ty</th>\r\n                        <th style=\"width: 14%\" scope=\"col\">Địa chỉ</th>\r\n\r\n\r\n                        <th style=\"width: 20%\" style=\"text-align: center;\" scope=\"col\">CSKH</th>\r\n                        <!-- <th style=\"text-align: center;\" scope=\"col\">Đại lý</th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let customer of data | slice: lowValue : highValue; let i = index\">\r\n                        <td style=\"word-break: break-word;width: 4%;\">{{customer.no}}</td>\r\n                        <td style=\"word-break: break-word;width: 11%;\">{{customer.registrationdate |\r\n                            date:'dd/MM/yyyy,HH:mm'}}</td>\r\n                        <td style=\"word-break: break-word;width: 8%;\">{{customer.name}}</td>\r\n                        <td matTooltip=\"Click to copy\" matTooltipPosition=\"above\"\r\n                            style=\"word-break: break-word;width: 10%; cursor: pointer;\"\r\n                            (click)=\"copyValue(customer.email)\">{{customer.email}}</td>\r\n                        <td style=\"word-break: break-word;width: 14%; cursor: pointer;\"\r\n                            (click)=\"copyValue(0+customer.phone)\">\r\n                            <span matTooltip=\"Click to copy\" matTooltipPosition=\"above\">\r\n                                {{customer.countrycode}}{{customer.phone}}</span>\r\n                            <i nz-icon nzType=\"phone\" nzTheme=\"outline\" matTooltip=\"Click to open Zalo\"\r\n                                matTooltipPosition=\"above\"\r\n                                (click)=\"openZalo(customer.countrycode +customer.phone )\"></i>\r\n                            <!-- <mat-icon matTooltip=\"Click to open Zalo\" matTooltipPosition=\"above\"\r\n                                (click)=\"openZalo(customer.countrycode +customer.phone )\"\r\n                                style=\"margin: auto; cursor: pointer; color: #00A859;\">whatsapp</mat-icon> -->\r\n                        </td>\r\n                        <td style=\"word-break: break-word;width: 8%;\">{{customer.company}}</td>\r\n                        <td style=\"word-break: break-word;width: 14%;\">{{customer.address}}</td>\r\n\r\n                        <td style=\"word-break: break-word;width: 20%;\">\r\n                            <button style=\"margin-right: 10px;\" nz-button nzType=\"primary\"\r\n                                (click)=\"openModalExtendedUse(customer)\">Gia hạn</button>\r\n                            <button nz-button nzType=\"default\" (click)=\"openModalHistory(customer)\">Xem lịch sử</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style=\"height: 8%;width: 100%;\">\r\n            <mat-paginator [length]=\"data.length\" [pageSizeOptions]=\"pageSizeOption\" [pageSize]=\"pageSize\"\r\n                showFirstLastButtons=\"false\" (page)=\"getPaginatorData($event)\">\r\n            </mat-paginator>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<nz-modal [(nzVisible)]=\"isVisibleExtendUse\" nzTitle=\"{{'Gia hạn phần mềm' | translate}}\"\r\n    (nzOnCancel)=\"isVisibleExtendUse = false\" (nzOnOk)=\"handleExtendUse()\">\r\n    <ng-container *nzModalContent>\r\n        <div>{{'Nhập KEY bản quyền' | translate}}</div>\r\n        <input nz-input placeholder=\"{{'Nhập KEY vd: VIETHAS123'  | translate}}\" [(ngModel)]=\"key_code\" />\r\n        <div>{{'Chọn chi nhánh' | translate}}</div>\r\n        <nz-select nzPlaceHolder=\"{{'Chọn 1 chi nhánh' | translate}}\" style=\"width : 100%\" [(ngModel)]=\"id_branch\">\r\n            <nz-option *ngFor=\"let item of customer_branchs\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\"></nz-option>\r\n        </nz-select>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n<nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"isVisibleHistory\" nzTitle=\"{{'Gia hạn phần mềm' | translate}}\"\r\n    (nzOnCancel)=\"isVisibleHistory = false\" (nzOnOk)=\"isVisibleHistory = false\">\r\n    <ng-container *nzModalContent>\r\n        <table class=\"table\" style=\"min-height: 300px;\">\r\n            <thead>\r\n                <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Ngày kích hoạt </th>\r\n                    <th scope=\"col\">Mã KEY</th>\r\n                    <th scope=\"col\">Trạng thái</th>\r\n                    <th scope=\"col\">Gói mua</th>\r\n                    <th scope=\"col\">Ngày hết hạn</th>\r\n\r\n                    <!-- <th style=\"width: 20%\" style=\"text-align: center;\" scope=\"col\">Chức năng</th> -->\r\n                    <!-- <th style=\"text-align: center;\" scope=\"col\">Đại lý</th> -->\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let customer of historys | slice: lowValue : highValue; let i = index\">\r\n                    <td style=\"word-break: break-word;\">{{customer.no}}</td>\r\n                    <td style=\"word-break: break-word;\">{{customer.activate_date | date:'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nz-tooltip nzTooltipTitle=\"Click to copy\" style=\"word-break: break-word; cursor: pointer;\"\r\n                        (click)=\"copyValue(customer._id)\">{{customer._id}}</td>\r\n                    <td style=\"word-break: break-word;\"\r\n                        [style.color]=\"customer.activated ? 'var(--ion-color-vh-green)' : 'black'\">\r\n                        {{(customer.activated ? 'Đã kích hoạt' : 'Chưa kích hoạt' ) | translate}}</td>\r\n\r\n                    <td style=\"word-break: break-word;\">{{customer.day}} {{ 'day'| translate}}</td>\r\n                    <td style=\"word-break: break-word;\">{{(customer.deactivate_date | date:'dd/MM/yyyy HH:mm') ||\r\n                        ('Chưa có' | translate)}}</td>\r\n\r\n                    <!-- <td style=\"word-break: break-word;width: 20%;\">\r\n                        <button nz-button nzType=\"primary\" (click)=\"openModalExtendedUse(customer)\">Gia hạn</button>\r\n                        <button nz-button nzType=\"default\">Xem lịch sử</button>\r\n                    </td> -->\r\n                </tr>\r\n                <tr *ngIf=\"historys.length == 0\">\r\n                    <td colspan=\"6\" style=\"text-align: center;\">{{ 'No data'| translate}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </ng-container>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { NgZorroAntModule } from 'src/app/cafe/desktop/ng-zorro-ant.module';\r\nimport { ExtendedUseComponent } from './extended-use.component';\r\nimport { MaterialModule } from '../../material.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExtendedUseComponent,\r\n  },\r\n\r\n]\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ExtendedUseComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    RouterModule.forChild(routes),\r\n    MaterialModule\r\n  ]\r\n})\r\nexport class ExtendedUseModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}