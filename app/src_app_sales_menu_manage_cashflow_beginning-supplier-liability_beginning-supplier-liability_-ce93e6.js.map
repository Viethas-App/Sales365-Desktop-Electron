{"version":3,"file":"src_app_sales_menu_manage_cashflow_beginning-supplier-liability_beginning-supplier-liability_-ce93e6.js","mappings":"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","sources":["./src/app/sales/menu/manage/cashflow/beginning-supplier-liability/beginning-supplier-liability.component.ts","./src/app/sales/menu/manage/cashflow/beginning-supplier-liability/beginning-supplier-liability.component.html","./src/app/sales/menu/manage/cashflow/beginning-supplier-liability/beginning-supplier-liability.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-beginning-supplier-liability',\r\n  templateUrl: './beginning-supplier-liability.component.html',\r\n  styleUrls: ['./beginning-supplier-liability.component.scss']\r\n})\r\nexport class BeginningSupplierLiabilityComponent implements OnInit {\r\n\r\n  private observableSuppliers: any;\r\n\r\n  list_suppliers: any = [];\r\n  supplierListShow: any = [];\r\n  /**biến lưu tổng công nợ */\r\n  total: number = 0;\r\n  keySearch: any = \"\";\r\n  heightScroll: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhComponent: VhComponent,\r\n    public languageService: LanguageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    let id_branch = this.vhQuerySales.getDefaultBranch()._id;\r\n    this.observableSuppliers = this.vhQuerySales.getObservableLocalSuppliers().subscribe((localSuppliers: any) => {\r\n\r\n      this.list_suppliers = [];\r\n      this.total = 0;\r\n      // tính công nợ trước thuế cho từng customer và gán vào trường tạm bDebt để show ra trên giao diện\r\n      for (let i = 0; i < localSuppliers.length; i++) {\r\n        if ((localSuppliers[i][id_branch] != undefined) && (localSuppliers[i][id_branch].debt_beginning != undefined)) {\r\n          localSuppliers[i].bDebt = localSuppliers[i][id_branch].debt_beginning;\r\n        } else {\r\n          localSuppliers[i].bDebt = 0;\r\n        }\r\n        this.total += localSuppliers[i].bDebt;\r\n        this.list_suppliers.push({ ...localSuppliers[i] })\r\n      }\r\n      this.supplierListShow = this.vhAlgorithm.sortVietnamesebyASC(this.list_suppliers, 'name')\r\n      \r\n\r\n    })\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.observableSuppliers.unsubscribe();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    // tính chiều cao của table để scroll\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * Tìm kiếm ncc theo trường tên bằng với giá trị truyền vào\r\n   * @example this.searchSupplier('Nguyen Van A')\r\n   */\r\n  searchSupplier(value) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n    this.supplierListShow = this.vhAlgorithm.searchList(val.trim().toLowerCase(), this.list_suppliers, ['name'])\r\n  }\r\n\r\n  /**\r\n * Xuất ra file .xlxs và tự động tải về máy\r\n * @example this.exportCSV()\r\n */\r\n  exportCSV() {\r\n    let data = new Array();\r\n\r\n    // gán tên file tải về vào biến name\r\n    let name = `${this.languageService.translate('cong_no_nha_cung_cap_dau_ki_')}_${this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.vhQuerySales.getDefaultBranch()._id).name).replace(/\\s/g, \"_\")}`;\r\n\r\n    // dòng đầu tiên trong file \r\n    let total: any = new Object();\r\n    total[this.languageService.translate('No.')] = \"\";\r\n    total[this.languageService.translate('Supplier name')] = this.languageService.translate(\"Total\");;\r\n    total[this.languageService.translate('Amount debt')] = this.vhAlgorithm.vhcurrencyunit_symbol(this.total);\r\n\r\n\r\n    data.push(total);\r\n    // các dòng dữ liệu danh sách ncc\r\n    for (let i in this.supplierListShow) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate('No.')] = parseInt(i) + 1;\r\n      item[this.languageService.translate('Supplier name')] = this.supplierListShow[i].name;\r\n      item[this.languageService.translate('Amount debt')] = this.vhAlgorithm.vhcurrencyunit(this.supplierListShow[i].bDebt);\r\n      data.push(item);\r\n    }\r\n    // xuất ra file .xlxs và tải xuống\r\n    this.vhAlgorithm.exportXLSX(data, name)\r\n  }\r\n  /**Cập nhật tiền nợ đầu kì ncc lên DB\r\n  * @example this.saveDebtPrice(supplier)\r\n */\r\n  saveDebtPrice(supplier) {\r\n    this.vhQuerySales.updateDebtAtBeginningSupplier(supplier._id, this.vhQuerySales.getDefaultBranch()._id, parseFloat(this.debt_price.getRawValue()))\r\n      .then(() => {\r\n        this.vhComponent.showToast(2000, this.languageService.translate(\"Updated successfully\"), \"success-toast\")\r\n      })\r\n  }\r\n  /**\r\n    * trở về trang dòng tiền\r\n    * @example this.goBack()\r\n    */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow']);\r\n  }\r\n\r\n  /* -----Pagination----- */\r\n  list_show_supplier: any;\r\n  /**\r\n   * \r\n   * @param value : vị trí trang của table\r\n   * @example this.onCurrentPageDataChange(1)\r\n   */\r\n  onCurrentPageDataChange(value) {\r\n    this.list_show_supplier = value;\r\n  }\r\n  /**--------------------- */\r\n\r\n  /**Show modal edit price */\r\n  isVisibleEditPrice = false;\r\n  supplier: any = ''\r\n  debt_price: any;\r\n  /**\r\n  * hiển thị modal chỉnh sửa công nợ đầu kì\r\n  * @param data : ncc dc chọn\r\n  * @example this.showModal(supplier)\r\n  */\r\n  showModal(data): void {\r\n    this.isVisibleEditPrice = true;\r\n    this.supplier = { ...data };\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.debt_price = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n\r\n  /**\r\n  * bắt sk nhấn nút ok của modal chỉnh sửa công nợ đầu kì\r\n  * @example this.handleOk()\r\n  */\r\n  handleOk(): void {\r\n    this.isVisibleEditPrice = false;\r\n    if (parseFloat(this.debt_price.getRawValue()) >= 0) this.saveDebtPrice(this.supplier);\r\n  }\r\n  /**\r\n  * bắt sk nhấn nút hủy của modal chỉnh sửa công nợ đầu kì\r\n  * @example this.handleCancel()\r\n  */\r\n  handleCancel(): void {\r\n    this.isVisibleEditPrice = false;\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  nameCol = false;\r\n  amountCol = false;\r\n  /** Hàm thực hiện sắp xếp theo tên trường cần sort\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   * @example this.sortTable('name')\r\n   */\r\n  sortTable(colName) {\r\n    switch (colName) {\r\n      case 'name':\r\n        if (this.nameCol) {\r\n          this.supplierListShow = this.vhAlgorithm.sortVietnamesebyASC([...this.supplierListShow], colName);\r\n        } else {\r\n          this.supplierListShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.supplierListShow], colName);\r\n        }\r\n        break;\r\n      case 'bDebt':\r\n        if (this.amountCol) {\r\n          this.supplierListShow = this.vhAlgorithm.sortNumberbyASC([...this.supplierListShow], colName);\r\n        } else {\r\n          this.supplierListShow = this.vhAlgorithm.sortNumberbyDESC([...this.supplierListShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\">\r\n        <div nz-col nzSpan=\"10\" class=\"title left-all-content\">\r\n            <b>{{'Supplier liability at the beginning of the period' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input #box type=\"text\" nz-input placeholder=\"{{'Search for supplier name, phone number'|translate}}\" (keyup)=\"searchSupplier(box.value)\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n          \r\n            <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"exportCSV()\">\r\n                <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                {{'Download' | translate}}</button>\r\n        </div>\r\n        <div nz-col nzSpan=\"2\"></div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\" #rowSelectionTable nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\" (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\"\r\n            [nzData]=\"supplierListShow\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"medium-size\" (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n                        <b>{{'Supplier' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th class=\"medium-size\" (click)=\"amountCol = !amountCol;sortTable('bDebt')\">\r\n                        <b>{{'Amount debt'|translate}}</b>\r\n                        <i nz-icon [nzType]=\"amountCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngIf=\"list_suppliers.length >0\">\r\n                    <td class=\"color-green medium-size\">{{'Total' | translate}}</td>\r\n                    <td class=\"color-green medium-size\">{{vhAlgorithm.vhcurrencyunit_symbol(total)}}</td>\r\n                </tr>\r\n                <tr *ngFor=\"let data of list_show_supplier\">\r\n                    <td class=\"medium-size\">{{ data.name}}</td>\r\n                    <td>\r\n                        <button class=\"btn-price medium-size\" nz-button (click)=\"showModal(data)\">{{vhAlgorithm.vhcurrencyunit_symbol(data.bDebt ? data.bDebt : 0)}}</button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>\r\n<!--Modal edit quantity-->\r\n<nz-modal nzCancelText=\"{{'Cancel' | translate}}\" [(nzVisible)]=\"isVisibleEditPrice\" [nzTitle]=\"supplier.name\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Amount debt' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input class=\"price\" type=\"text\" maxlength=\"15\" id=\"debt_price\" [value]=\"supplier.bDebt ? supplier.bDebt : 0\" nz-input placeholder=\"{{'Enter amount' | translate}}\" />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { BeginningSupplierLiabilityComponent } from './beginning-supplier-liability.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BeginningSupplierLiabilityComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BeginningSupplierLiabilityComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule\r\n  ]\r\n})\r\nexport class BeginningSupplierLiabilityModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}