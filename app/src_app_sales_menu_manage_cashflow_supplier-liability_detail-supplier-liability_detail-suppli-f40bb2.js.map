{"version":3,"file":"src_app_sales_menu_manage_cashflow_supplier-liability_detail-supplier-liability_detail-suppli-f40bb2.js","mappings":"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","sources":["./src/app/sales/interface/vh-purchase-invoice.ts","./src/app/sales/interface/vh-supplier-return-invoice.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/create-expenses/create-expenses.component.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/create-expenses/create-expenses.component.html","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-bill-supplier-return/detail-bill-supplier-return.component.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-bill-supplier-return/detail-bill-supplier-return.component.html","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-invoice/detail-invoice.component.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-invoice/detail-invoice.component.html","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-receipt-expenses/detail-receipt-expenses.component.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-receipt-expenses/detail-receipt-expenses.component.html","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-supplier-liability.component.ts","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-supplier-liability.component.html","./src/app/sales/menu/manage/cashflow/supplier-liability/detail-supplier-liability/detail-supplier-liability.module.ts"],"sourcesContent":["export interface VhPurchaseInvoiceDetail {\r\n    id_bill?: string;\r\n    _id?: string;\r\n    name?: string;\r\n    id_product: string;\r\n    quantity: number;\r\n    price: number;\r\n    price_origin?: number;\r\n    unit?: string;\r\n    units?: any[];\r\n    ratio?: number,\r\n    ptype: number;\r\n    id_subproduct?: string;\r\n    lots?: any[];\r\n    lot_number?: string;\r\n    id_lotproduct?: string;\r\n    days_import_warning? : number;\r\n}\r\nexport interface VhPurchaseInvoice {\r\n    bill_type: 2 | 6 | 22;\r\n    payment_type: 1 | 2 | 3;\r\n    id_supplier: string;\r\n    id_branch: string;\r\n    id_employee: string;\r\n    id_wallet: 'id_cash' | string;\r\n    date: string,\r\n    total: number;\r\n    payment: number;\r\n    tax: number;\r\n    discount: number;\r\n    fee: number;\r\n    note: string;\r\n    _id?: string;\r\n    bill_code?: string\r\n\r\n    partner_name?: string\r\n    payment_name?: string\r\n}\r\nexport class VhPurchaseInvoices {\r\n    private date: Date = new Date();\r\n    private invoice: VhPurchaseInvoice = {\r\n        payment_type: 1,\r\n        date: this.date.toISOString(),\r\n        id_supplier: null,\r\n        id_branch: null,\r\n        id_employee: null,\r\n        id_wallet: 'id_cash',\r\n        total: 0,\r\n        payment: 0,\r\n        tax: 0,\r\n        discount: 0,\r\n        fee: 0,\r\n        bill_type: null,\r\n        note: '',\r\n        _id: null\r\n    };\r\n    private subTotal?: number = 0;\r\n    private taxValue?: number = 0;\r\n    protected invoiceDetail?: VhPurchaseInvoiceDetail[] = [];\r\n    constructor(invoice: any = null, invoiceDetail: any[] = []) {\r\n\r\n        if (invoice) {\r\n            this.invoice.bill_code = invoice['bill_code'] ? invoice['bill_code'] : null\r\n            this.invoice.payment_type = invoice['payment_type'] ? invoice['payment_type'] : 1\r\n            this.invoice.id_supplier = invoice['id_supplier'] ? invoice['id_supplier'] : null\r\n            this.invoice.id_branch = invoice['id_branch'] ? invoice['id_branch'] : null\r\n            this.invoice.id_employee = invoice['id_employee'] ? invoice['id_employee'] : null\r\n            this.invoice.id_wallet = invoice['id_wallet'] ? invoice['id_wallet'] : 'id_cash'\r\n            this.invoice.total = invoice['total'] ? invoice['total'] : 0\r\n            this.invoice.payment = invoice['payment'] ? invoice['payment'] : 0\r\n            this.invoice.tax = invoice['tax'] ? invoice['tax'] : 0\r\n            this.invoice.discount = invoice['discount'] ? invoice['discount'] : 0\r\n            this.invoice.fee = invoice['fee'] ? invoice['fee'] : 0\r\n            this.invoice.bill_type = invoice['bill_type'] ? invoice['bill_type'] : null\r\n            this.invoice.date = invoice['date'] ? invoice['date'] : this.date.toISOString()\r\n            this.invoice.note = invoice['note'] ? invoice['note'] : ''\r\n            this.invoice._id = invoice['_id'] ? invoice['_id'] : null\r\n            this.invoiceDetail = invoice['invoiceDetail'] ? invoice['invoiceDetail'] : []\r\n\r\n            this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        }\r\n\r\n        if (invoiceDetail) {\r\n            this.invoiceDetail = invoiceDetail\r\n            this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        }\r\n    }\r\n    /******************************Xu ly invoice *******************************/\r\n    public getID(): string {\r\n        return this.invoice._id;\r\n    }\r\n    public getBillType(): 2 | 6 | 22 {\r\n        return this.invoice.bill_type\r\n    }\r\n    public setBillType(value: 2 | 6 | 22) {\r\n        this.invoice.bill_type = value\r\n    }\r\n    public getDate(): string {\r\n        return this.invoice.date\r\n    }\r\n    public setDate(value: Date | string) {\r\n        this.invoice.date = typeof (value) == 'string' ? value : value.toISOString()\r\n    }\r\n    public getBillCode(): string {\r\n        return this.invoice.bill_code\r\n    }\r\n    public setBillCode(value) {\r\n        this.invoice.bill_code = value\r\n    }\r\n    public getPaymentType(): 1 | 2 | 3 {\r\n        return this.invoice.payment_type\r\n    }\r\n    public setPaymentType(value: 1 | 2 | 3) {\r\n        this.invoice.payment_type = value\r\n    }\r\n    public getIdPartner(): string {\r\n        return this.invoice.id_supplier\r\n    }\r\n    public setIdPartner(value: string) {\r\n        this.invoice.id_supplier = value\r\n    }\r\n    public getIdEmployee(): string {\r\n        return this.invoice.id_employee\r\n    }\r\n    public setIdEmployee(value: string) {\r\n        this.invoice.id_employee = value\r\n    }\r\n    public getIdBranch(): string {\r\n        return this.invoice.id_branch\r\n    }\r\n    public setIdBranch(value: string) {\r\n        this.invoice.id_branch = value\r\n    }\r\n    public getIdWallet(): string {\r\n        return this.invoice.id_wallet\r\n    }\r\n    public setIdWallet(value: string) {\r\n        this.invoice.id_wallet = value\r\n    }\r\n    public getNote(): string {\r\n        return this.invoice.note\r\n    }\r\n    public setNote(value: string) {\r\n        this.invoice.note = value\r\n    }\r\n    public getTax(): number {\r\n        return this.invoice.tax\r\n    }\r\n    public setTax(value: number) {\r\n        this.invoice.tax = value\r\n        this.setTaxValue()\r\n    }\r\n    public getTaxValue(): number {\r\n        return this.taxValue\r\n    }\r\n    public setTaxValue() {\r\n        this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        this.setPayment()\r\n    }\r\n    public getDiscount(): number {\r\n        return this.invoice.discount\r\n    }\r\n    public setDiscount(value: number) {\r\n        this.invoice.discount = value\r\n        this.setTotal()\r\n    }\r\n    public getFee(): number {\r\n        return this.invoice.fee\r\n    }\r\n    public setFee(value: number) {\r\n        this.invoice.fee = value\r\n        this.setTotal()\r\n    }\r\n    public getSubTotal(): number {\r\n        return this.subTotal\r\n    }\r\n    public setSubTotal() {\r\n        this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        this.setTotal()\r\n    }\r\n    public getTotal(): number {\r\n        return this.invoice.total\r\n    }\r\n    public setTotal() {\r\n        this.invoice.total = this.getSubTotal() - this.getDiscount() + this.getFee()\r\n        this.setTaxValue()\r\n    }\r\n    public getTotalATax(): number {\r\n        return this.getTotal() + this.getTaxValue()\r\n    }\r\n\r\n    public getPayment(): number {\r\n        return this.invoice.payment\r\n    }\r\n    public setPayment(value?: number) {\r\n\r\n        if (this.invoice.payment_type == 2) {\r\n            this.invoice.payment = 0\r\n        } else {\r\n            if (value != null)\r\n                this.invoice.payment = value\r\n            else\r\n                this.invoice.payment = this.getTotal() + this.getTaxValue()\r\n        }\r\n    }\r\n    /******************************Xu ly invoice detail *******************************/\r\n    /**Thêm sản phẩm vô bill detail */\r\n    public addInvoiceDetail(value: any) {\r\n        if (value['id_subproduct']) {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                    this.setSubTotal()\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_subproduct'] == value['id_subproduct'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                    this.setSubTotal()\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                    this.setSubTotal()\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == value['_id'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                    this.setSubTotal()\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    addBill_Detail(value) {\r\n        this.invoiceDetail.unshift({\r\n            name: value.name,\r\n            id_product: value._id,\r\n            quantity: 1,\r\n            unit: value.unit,\r\n            units: value.units,\r\n            ratio: value.ratio ? value.ratio : 1,\r\n            ptype: value.type,\r\n            price: value.price_import,\r\n            price_origin: value.price_import,\r\n            id_subproduct: value.id_subproduct,\r\n            lots: value.lots,\r\n            lot_number: value.lot_number,\r\n            id_lotproduct: value.id_lotproduct,\r\n            days_import_warning : value.days_import_warning\r\n        })\r\n\r\n        this.setSubTotal()\r\n    }\r\n    /**Thêm sản phẩm vô bill detail */\r\n    public addInvoiceDetailMutilLine(value: any) {\r\n        this.invoiceDetail.push({\r\n            name: value.name,\r\n            id_product: value._id,\r\n            quantity: 1,\r\n            unit: value.unit,\r\n            units: value.units,\r\n            ratio: value.ratio ? value.ratio : 1,\r\n            ptype: value.type,\r\n            price: value.price_import,\r\n            price_origin: value.price_import,\r\n            id_subproduct: value.id_subproduct,\r\n            lots: value.lots,\r\n            lot_number: value.lot_number,\r\n            id_lotproduct: value.id_lotproduct,\r\n            days_import_warning : value.days_import_warning\r\n        })\r\n\r\n        this.setSubTotal()\r\n\r\n    }\r\n    /** Xóa invoice detail */\r\n    public removeInvoiceDetail(id: string) {\r\n        let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == id)\r\n        if (index != -1) {\r\n            this.invoiceDetail.splice(index, 1);\r\n            this.setSubTotal()\r\n        }\r\n    }\r\n    /** Lấy toàn bộ bill detail */\r\n    public getInvoiceDetail() {\r\n        return this.invoiceDetail;\r\n    }\r\n    /******************************create - update - delete invoice / detail *******************************/\r\n    /** Lấy bill dùng để tạo cho database */\r\n    public getCreateUpdateInvoice(bill_type: 2 | 6 | 22 | null = null) {\r\n        if (bill_type) this.setBillType(bill_type)\r\n        return this.invoice\r\n    }\r\n    /** Lấy tất cả bill detail để tạo cho database */\r\n    public getCreateUpdateInvoiceDetail(): VhPurchaseInvoiceDetail[] {\r\n        return this.invoiceDetail.map(item => {\r\n            let detail: VhPurchaseInvoiceDetail = {\r\n                id_product: item.id_product,\r\n                price: item.price,\r\n                quantity: item.quantity,\r\n                ptype: item.ptype,\r\n                ratio: item.ratio ? item.ratio : 1,\r\n                price_origin : item.price_origin\r\n            }\r\n            if (item['id_lotproduct']) detail['id_lotproduct'] = item.id_lotproduct\r\n            if (item['id_subproduct']) detail['id_subproduct'] = item.id_subproduct\r\n             \r\n            return detail\r\n        })\r\n    }\r\n}\r\n","export interface VhSupplierReturnInvoiceDetail {\r\n    id_bill?: string;\r\n    _id?: string;\r\n    name?: string;\r\n    id_product: string;\r\n    quantity: number;\r\n    price: number;\r\n    price_origin?: number;\r\n    unit?: string;\r\n    units?: any[];\r\n    ratio?: number,\r\n    ptype: number;\r\n    id_subproduct?: string;\r\n    lots?: any[];\r\n    lot_number?: string;\r\n    id_lotproduct?: string;\r\n}\r\nexport interface VhSupplierReturnInvoice {\r\n    bill_type: 10 | 24;\r\n    payment_type: 1 | 2 | 3;\r\n    id_supplier: string;\r\n    id_branch: string;\r\n    id_employee: string;\r\n    id_wallet: 'id_cash' | string;\r\n    date: string,\r\n    total: number;\r\n    payment: number;\r\n    tax: number;\r\n    discount: number;\r\n    fee: number;\r\n    note: string;\r\n    _id?: string;\r\n    bill_code?: string\r\n\r\n    partner_name?: string\r\n    payment_name?: string\r\n}\r\nexport class VhSupplierReturnInvoices {\r\n    private date: Date = new Date();\r\n    private invoice: VhSupplierReturnInvoice = {\r\n        payment_type: 1,\r\n        date: this.date.toISOString(),\r\n        id_supplier: null,\r\n        id_branch: null,\r\n        id_employee: null,\r\n        id_wallet: 'id_cash',\r\n        total: 0,\r\n        payment: 0,\r\n        tax: 0,\r\n        discount: 0,\r\n        fee: 0,\r\n        bill_type: null,\r\n        note: '',\r\n        _id: null\r\n    };\r\n    private subTotal?: number = 0;\r\n    private taxValue?: number = 0;\r\n    protected invoiceDetail?: VhSupplierReturnInvoiceDetail[] = [];\r\n    constructor(invoice: any = null, invoiceDetail: any[] = []) {\r\n\r\n        if (invoice) {\r\n            this.invoice.bill_code = invoice['bill_code'] ? invoice['bill_code'] : null\r\n            this.invoice.payment_type = invoice['payment_type'] ? invoice['payment_type'] : 1\r\n            this.invoice.id_supplier = invoice['id_supplier'] ? invoice['id_supplier'] : null\r\n            this.invoice.id_branch = invoice['id_branch'] ? invoice['id_branch'] : null\r\n            this.invoice.id_employee = invoice['id_employee'] ? invoice['id_employee'] : null\r\n            this.invoice.id_wallet = invoice['id_wallet'] ? invoice['id_wallet'] : 'id_cash'\r\n            this.invoice.total = invoice['total'] ? invoice['total'] : 0\r\n            this.invoice.payment = invoice['payment'] ? invoice['payment'] : 0\r\n            this.invoice.tax = invoice['tax'] ? invoice['tax'] : 0\r\n            this.invoice.discount = invoice['discount'] ? invoice['discount'] : 0\r\n            this.invoice.fee = invoice['fee'] ? invoice['fee'] : 0\r\n            this.invoice.bill_type = invoice['bill_type'] ? invoice['bill_type'] : null\r\n            this.invoice.date = invoice['date'] ? invoice['date'] : this.date.toISOString()\r\n            this.invoice.note = invoice['note'] ? invoice['note'] : ''\r\n            this.invoice._id = invoice['_id'] ? invoice['_id'] : null\r\n            this.invoiceDetail = invoice['invoiceDetail'] ? invoice['invoiceDetail'] : []\r\n\r\n            this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        }\r\n\r\n        if (invoiceDetail) {\r\n            this.invoiceDetail = invoiceDetail\r\n            this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        }\r\n    }\r\n    /******************************Xu ly invoice *******************************/\r\n    public getID(): string {\r\n        return this.invoice._id;\r\n    }\r\n    public getBillType(): 10 | 24 {\r\n        return this.invoice.bill_type\r\n    }\r\n    public setBillType(value: 10 | 24) {\r\n        this.invoice.bill_type = value\r\n    }\r\n    public getDate(): string {\r\n        return this.invoice.date\r\n    }\r\n    public setDate(value: Date | string) {\r\n        this.invoice.date = typeof (value) == 'string' ? value : value.toISOString()\r\n    }\r\n    public getBillCode(): string {\r\n        return this.invoice.bill_code\r\n    }\r\n    public getPaymentType(): 1 | 2 | 3 {\r\n        return this.invoice.payment_type\r\n    }\r\n    public setPaymentType(value: 1 | 2 | 3) {\r\n        this.invoice.payment_type = value\r\n    }\r\n    public getIdPartner(): string {\r\n        return this.invoice.id_supplier\r\n    }\r\n    public setIdPartner(value: string) {\r\n        this.invoice.id_supplier = value\r\n    }\r\n    public getIdEmployee(): string {\r\n        return this.invoice.id_employee\r\n    }\r\n    public setIdEmployee(value: string) {\r\n        this.invoice.id_employee = value\r\n    }\r\n    public getIdBranch(): string {\r\n        return this.invoice.id_branch\r\n    }\r\n    public setIdBranch(value: string) {\r\n        this.invoice.id_branch = value\r\n    }\r\n    public getIdWallet(): string {\r\n        return this.invoice.id_wallet\r\n    }\r\n    public setIdWallet(value: string) {\r\n        this.invoice.id_wallet = value\r\n    }\r\n    public getNote(): string {\r\n        return this.invoice.note\r\n    }\r\n    public setNote(value: string) {\r\n        this.invoice.note = value\r\n    }\r\n    public getTax(): number {\r\n        return this.invoice.tax\r\n    }\r\n    public setTax(value: number) {\r\n        this.invoice.tax = value\r\n        this.setTaxValue()\r\n    }\r\n    public getTaxValue(): number {\r\n        return this.taxValue\r\n    }\r\n    public setTaxValue() {\r\n        this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n        this.setPayment()\r\n    }\r\n    public getDiscount(): number {\r\n        return this.invoice.discount\r\n    }\r\n    public setDiscount(value: number) {\r\n        this.invoice.discount = value\r\n        this.setTotal()\r\n    }\r\n    public getFee(): number {\r\n        return this.invoice.fee\r\n    }\r\n    public setFee(value: number) {\r\n        this.invoice.fee = value\r\n        this.setTotal()\r\n    }\r\n    public getSubTotal(): number {\r\n        return this.subTotal\r\n    }\r\n    public setSubTotal() {\r\n        this.subTotal = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        this.setTotal()\r\n    }\r\n    public getTotal(): number {\r\n        return this.invoice.total\r\n    }\r\n    public setTotal() {\r\n        this.invoice.total = this.getSubTotal() - this.getDiscount() + this.getFee()\r\n        this.setTaxValue()\r\n    }\r\n    public getTotalATax(): number {\r\n        return this.getTotal() + this.getTaxValue()\r\n    }\r\n    public getPayment(): number {\r\n        return this.invoice.payment\r\n    }\r\n    public setPayment(value?: number) {\r\n\r\n        if (this.invoice.payment_type == 2) {\r\n            this.invoice.payment = 0\r\n        } else {\r\n            if (value != null)\r\n                this.invoice.payment = value\r\n            else\r\n                this.invoice.payment = this.getTotal() + this.getTaxValue()\r\n        }\r\n    }\r\n    /******************************Xu ly invoice detail *******************************/\r\n    public addInvoiceDetail(value: any) {\r\n        if (value['id_subproduct']) {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_subproduct'] == value['id_subproduct'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (value.lot_number) {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n            else {\r\n                let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == value['_id'] && detail['ratio'] == value['ratio'])\r\n                if (index != -1) {\r\n                    if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n                } else {\r\n                    this.addBill_Detail(value)\r\n                }\r\n            }\r\n        }\r\n\r\n        this.setSubTotal()\r\n    }\r\n\r\n    addBill_Detail(value) {\r\n        this.invoiceDetail.unshift({\r\n            name: value.name,\r\n            id_product: value._id,\r\n            quantity: 1,\r\n            ptype: value.type,\r\n            unit: value.unit,\r\n            units: value.units,\r\n            ratio: value.ratio ? value.ratio : 1,\r\n            price: value.price_import,\r\n            price_origin: value.price_import,\r\n            id_subproduct: value.id_subproduct,\r\n            lots: value.lots,\r\n            lot_number: value.lot_number,\r\n            id_lotproduct: value.id_lotproduct,\r\n        })\r\n    }\r\n\r\n    public addInvoiceDetailMutilLine(value: any) {\r\n        this.invoiceDetail.push({\r\n            name: value.name,\r\n            id_product: value._id,\r\n            quantity: 1,\r\n            ptype: value.type,\r\n            unit: value.unit,\r\n            units: value.units,\r\n            ratio: value.ratio ? value.ratio : 1,\r\n            price: value.price_import,\r\n            price_origin: value.price_import,\r\n            id_subproduct: value.id_subproduct,\r\n            lots: value.lots,\r\n            lot_number: value.lot_number,\r\n            id_lotproduct: value.id_lotproduct,\r\n        })\r\n\r\n        this.setSubTotal()\r\n    }\r\n    public removeInvoiceDetail(id: string) {\r\n        let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == id)\r\n        if (index != -1) {\r\n            this.invoiceDetail.splice(index, 1);\r\n            this.setSubTotal()\r\n        }\r\n    }\r\n\r\n    public getInvoiceDetail() {\r\n        return this.invoiceDetail;\r\n    }\r\n    /******************************create - update - delete invoice / detail *******************************/\r\n    public getCreateUpdateInvoice(bill_type: 10 | 24 | null = null) {\r\n        if (bill_type) this.setBillType(bill_type)\r\n        return this.invoice\r\n    }\r\n    public getCreateUpdateInvoiceDetail(): VhSupplierReturnInvoiceDetail[] {\r\n        return this.invoiceDetail.map(item => {\r\n            let detail: VhSupplierReturnInvoiceDetail = {\r\n                id_product: item.id_product,\r\n                price: item.price,\r\n                quantity: item.quantity,\r\n                ptype: item.ptype,\r\n                ratio: item.ratio ? item.ratio : 1,\r\n            }\r\n            if (item['id_lotproduct']) detail['id_lotproduct'] = item.id_lotproduct\r\n            if (item['id_subproduct']) detail['id_subproduct'] = item.id_subproduct\r\n            if (item.price < item.price_origin) detail['price_origin'] = item.price_origin\r\n            return detail\r\n        })\r\n    }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NavController } from '@ionic/angular';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { ExpenseA4Component } from 'src/app/sales/components/print/expenses/expense-a4/expense-a4.component';\r\nimport { ExpensesA5Component } from 'src/app/sales/components/print/expenses/expenses-a5/expenses-a5.component';\r\nimport { ExpenseK80Col4Component } from 'src/app/sales/components/print/expenses/expense-k80-col4/expense-k80-col4.component';\r\nimport { ExpenseK80Col3Component } from 'src/app/sales/components/print/expenses/expense-k80-col3/expense-k80-col3.component';\r\nimport { ExpenseK57Col3Component } from 'src/app/sales/components/print/expenses/expense-k57-col3/expense-k57-col3.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-create-expenses',\r\n  templateUrl: './create-expenses.component.html',\r\n  styleUrls: ['./create-expenses.component.scss']\r\n})\r\nexport class CreateExpensesComponent implements OnInit {\r\n  @ViewChild('nameGroup') nameGroup; // biến lấy tên nhóm (form kg cho dùng ngmodel)\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state;\r\n  listPaymentBank: any = [];\r\n  list_suppliers: any = [];\r\n  money_currency: any;\r\n  radioValue: any = 'A';\r\n  addExpensesForm: FormGroup;\r\n  type: any = '12'; // Biến lưu loại phiếu chi được chọn -> 12: Phiếu chi công nợ nhà cung cấp\r\n  nzOptions: any;\r\n  billInfo: any = { employee: this.vhAuth.getUser() };\r\n  expendGroup: any = this.vhQuerySales.getlocalSpending_groups() // nhóm chi\r\n\r\n  /**Giới hạn thời gian cho tạo bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < (new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000)) return true\r\n    return false\r\n  }\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    private vhQuery: VhQuery,\r\n    public languageService: LanguageService,\r\n    private navCtrl: NavController,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getPaymentBankList();\r\n    let options = [\r\n      {\r\n        value: '1',\r\n        label: this.languageService.translate('Cash'),\r\n        isLeaf: true\r\n      },\r\n      {\r\n        value: '3',\r\n        label: this.languageService.translate('Account'),\r\n        children: this.listPaymentBank\r\n      }\r\n    ]\r\n    this.nzOptions = options;\r\n  }\r\n  checkPrinter: boolean = false;\r\n  ngOnInit(): void {\r\n    this.list_suppliers = this.vhQuerySales.getlocalSuppliers();\r\n    this.initForm();\r\n    let printer =  this.vhQuerySales.getLocalPrintPage('page_desktop_expense')\r\n     \r\n    if (printer ) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)] .enable;\r\n   \r\n  }\r\n  ngAfterViewInit() {\r\n      // tạo cleavejs cho input price\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * khởi tạo form có các trường được required trong bill\r\n   * @example initForm()\r\n   */\r\n  initForm() { \r\n    this.addExpensesForm = new FormGroup({\r\n      date: new FormControl(new Date().toISOString()),\r\n      customer: new FormControl(this.dataRestore.data._id, Validators.compose([Validators.required])),\r\n      total: new FormControl(\"\", Validators.compose([Validators.required, Validators.pattern(\"(^[0?=[.]] |^[^.,-][,0-9]*)(([.](?=[0-9]){1}[0-9]{0,5})|)\")])),\r\n      content: new FormControl(\"\"),\r\n      payment_type: new FormControl('1'),\r\n      wallet: new FormControl(null),\r\n      type_receipt: new FormControl(this.type),\r\n      id_group: new FormControl( null)\r\n    });\r\n  }\r\n  /**\r\n   * check validate hợp lệ\r\n   * @param $event date\r\n   */\r\n  changeDate(event) {\r\n    this.vhQuerySales.getValidityDate(event)\r\n      .then((validitydate: any) => {\r\n        if (validitydate) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n          this.addExpensesForm.controls['date'].setValue(new Date())\r\n        }\r\n      })\r\n  }\r\n\r\n  \r\n   /**Get tk ngân hàng và gán váo biến listPaymentBank\r\n   * @example this.getPaymentBankList()\r\n  */\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQuerySales.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQuerySales.getDefaultBranch()._id);\r\n    this.listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n  }\r\n\r\n  \r\n  /**bắt sk thay đổi loại phiếu chi, khởi tạo lại các giá trị mặc định của form\r\n   * @example this.chooseType(1)\r\n  */\r\n  chooseType(value) {\r\n    this.initForm();\r\n  }\r\n\r\n\r\n \r\n  /**Khởi tạo các trường chuẩn của bill để lưu DB\r\n   * @example  const bill = this.exportBill(bill, '070623F001')\r\n   * @returns bill\r\n  */\r\n  exportBill(formValue,bill_code) {\r\n    const bill: any = {\r\n      bill_code: bill_code,\r\n      date: new Date(formValue[\"date\"]),\r\n      id_employee: this.billInfo['employee']._id,\r\n      id_branch: this.vhQuerySales.getDefaultBranch()._id,\r\n      bill_type: parseInt(this.type),\r\n      content: formValue[\"content\"],\r\n      payment_type: formValue[\"payment_type\"],\r\n      tax: 0,\r\n      total: parseFloat(this.money_currency.getRawValue()),\r\n      payment: parseFloat(this.money_currency.getRawValue())\r\n    }\r\n    if (bill['payment_type'][0] == '3') {\r\n      bill['id_wallet'] = bill['payment_type'][1];\r\n      bill['payment_type'] = 3;\r\n    } else {\r\n      bill['payment_type'] = 1;\r\n      bill['id_wallet'] = 'id_cash';\r\n    }\r\n    if (this.type == 12) {\r\n      bill['id_supplier'] = formValue['customer'],\r\n        this.billInfo['supplier'] = this.vhQuerySales.getlocalSupplier(formValue['customer'])\r\n    }\r\n    else {\r\n      bill.name = formValue[\"customer\"]\r\n      bill.id_group = formValue[\"id_group\"]\r\n    }\r\n    return bill;\r\n  }\r\n\r\n  /**Hàm tạo phiếu chi */\r\n  addExpenses(print) {\r\n    Promise.all([\r\n      this.vhQuerySales.createBillCode(new Date(this.addExpensesForm['value'][\"date\"]),parseInt(this.type)),\r\n      this.vhComponent.showLoading(\"\")\r\n    ])\r\n    .then(([bill_code, loading]) => {\r\n      const bill = this.exportBill(this.addExpensesForm['value'],bill_code)\r\n      this.vhQuerySales\r\n        .createBill(bill)\r\n        .then((res: any) => {\r\n          this.billInfo = { ...this.billInfo, ...bill, id: res._id }   \r\n          this.dataRestore.data.json.docs.push({...res, debt : 0,rest :-bill.total })\r\n          this.dataRestore.data.json.rest -= bill.total\r\n          this.dataRestore.data.rest -= bill.total\r\n          this.vhComponent.showToast(1500, (this.languageService.translate(\"Expenses has been created successfully\")));\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            if (print) this.showPrint();\r\n            else setTimeout(() => this.goBack(true), 200)\r\n          })\r\n        }, err => { })\r\n    })\r\n  }\r\n\r\n  \r\n  /** trở về trang danh sách phiếu chi\r\n   * @example this.goBack()\r\n   */\r\n  goBack(value?) {\r\n    let data = { ...this.dataRestore }\r\n    data.check = true\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability'], {\r\n      state: value ? data : this.dataRestore\r\n    });\r\n  }\r\n\r\n  /**Zorro modal save*/\r\n  isPrint: boolean\r\n  isVisible = false;\r\n  /**\r\n   * mở modal hiển thị xác nhận tạo phiếu chi\r\n   * @param value : biến cờ check in hay ko\r\n   * @example this.showModal(true)\r\n   */\r\n  showModal(value): void {\r\n    this.isVisible = true;\r\n    this.isPrint = value\r\n  }\r\n  /**\r\n   * bắt sk nhấn nút ok của modal\r\n   * @example this.showModal(true)\r\n   */\r\n  handleOk(): void {\r\n    this.isVisible = false;\r\n    this.addExpenses(this.isPrint);\r\n  }\r\n  /**\r\n   * bắt sk nhấn nút hủy của modal\r\n   * @example this.showModal(true)\r\n   */\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { billInfo: this.billInfo, printer: printer }, false, false, `modal-print-${printer['_id']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { this.goBack(true) })\r\n          })\r\n      }\r\n    }, err => { this.goBack(true) })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExpenseK57Col3Component\r\n      case 'print_size_k80_3c': return ExpenseK80Col3Component\r\n      case 'print_size_k80_4c': return ExpenseK80Col4Component\r\n      case 'print_size_a5': return ExpensesA5Component\r\n      case 'print_size_a4': return ExpenseA4Component\r\n      default: return ExpenseA4Component\r\n    }\r\n  }\r\n\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_expense')\r\n      if (printer  && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n\r\n  /***********Thêm xóa sủa nhóm chi********** */\r\n  isVisiblelist: boolean = false; // popup danh sách nhóm\r\n  activeButton: boolean = false\r\n /**\r\n   * tạo nhóm chi lên DB\r\n   * @param nameGroup : tên nhóm chi khác\r\n   * @example this.addGroup('Tiền mua nội thất')\r\n   */\r\n  addGroup(nameGroup): void {\r\n    this.activeButton = true\r\n    let index = this.expendGroup.findIndex(item => item.default)\r\n    let value = {\r\n      name: nameGroup.value,\r\n      default: index != -1 ? false : true\r\n    }\r\n    if (value.name != \"\") {\r\n      this.vhQuerySales.addSpending_group(value).then((res) => {\r\n        this.expendGroup = [...this.expendGroup, res];\r\n        this.nameGroup.nativeElement.value = '';\r\n        this.activeButton = false\r\n      })\r\n    } else this.vhComponent.alertMessageDesktop(\"warning\", \"Chưa nhập tên nhóm\")\r\n  }\r\n\r\n  /**\r\n   * Cập nhật trường default của nhóm chi\r\n   * @param item : nhóm chi đã chọn\r\n   * @example this.setDefault(spending_group)\r\n   */\r\n  setDefault(item) {\r\n    let index = this.expendGroup.findIndex(item => item.default)\r\n    item.default = true\r\n    if (index != -1) {\r\n      this.expendGroup[index].default = false;\r\n      Promise.all([this.vhQuerySales.updateSpending_group(item._id, item), this.vhQuerySales.updateSpending_group(this.expendGroup[index]._id, this.expendGroup[index])])\r\n        .then(() => { })\r\n    } else {\r\n      this.vhQuerySales.updateSpending_group(item._id, item).then(() => { })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * mở modal chọn nhóm chi\r\n   * @example this.openLisGroup()\r\n   */\r\n  openLisGroup() {\r\n    let id = this.expendGroup.length ? this.expendGroup.filter(item => item.default == true) : []\r\n    this.isVisiblelist = true\r\n    this.addExpensesForm['value'].id_group = id.length ? id[0]._id : null\r\n  }\r\n\r\n  /**\r\n   * tắt modal chọn nhóm chi\r\n   * @example this.handleCancellist()\r\n   */\r\n  handleCancellist() {\r\n    this.isVisiblelist = false;\r\n  }\r\n\r\n  changeEdit: any = ''\r\n   /**\r\n   * gán _id của nhóm chi đã chọn vào biến changeEdit để update css ở giao diện\r\n   * @param _id : _id của nhóm chi đã chọn\r\n   */\r\n  editGroup(_id) {\r\n    this.changeEdit = _id\r\n  }\r\n  /**\r\n   * cập nhật tên nhóm chi\r\n   * @param item nhóm chi đã chọn\r\n   * @example this.saveEditGroup(item)\r\n   */\r\n  saveEditGroup(item) {\r\n    let value = {\r\n      name: item.name\r\n    }\r\n    this.vhQuerySales.updateSpending_group(item._id, value).then(() => {\r\n      this.changeEdit = \"\"\r\n    })\r\n  }\r\n\r\n  /**\r\n   * xóa nhóm chi lên DB và local\r\n   * @param _id : _id của nhóm chi đã chọn\r\n   * @param index : vị trí của nhóm chi trong mảng local\r\n   * @example this.deleteGroup('BDUWYHDIWUFRIWUHDE', 1)\r\n   */\r\n  deleteGroup(_id, index) {\r\n    this.vhQuerySales.deleteSpending_group(_id).then((bool) => {\r\n      if (bool) {\r\n        this.expendGroup.splice(index, 1)\r\n        this.initForm()\r\n      }\r\n      else this.vhComponent.alertMessageDesktop(\"error\", \"Không xóa được nhóm này\")\r\n    })\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Expenses'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button [disabled]=\"addExpensesForm.invalid || !checkPrinter\" class=\"btn-data center-all-content\"\r\n                    nz-button nzType=\"default\" (click)=\"showModal(true)\">\r\n                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Create & Print'|translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"showModal(false)\"\r\n                    [disabled]=\"addExpensesForm.invalid\" [ngStyle]=\"{opacity: addExpensesForm.invalid ? 0.5 : 1}\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Create'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"addExpensesForm\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"large-size\"><b>{{'Expenses type'|translate}}</b></div>\r\n                    <nz-form-item style=\"margin-top: 5px;\">\r\n                        <nz-radio-group formControlName=\"type_receipt\" [(ngModel)]=\"type\"\r\n                            (ngModelChange)=\"chooseType($event)\">\r\n                            <label nz-radio nzValue=\"12\">{{'Pay for supplier liabilities'|translate}}</label>\r\n                            <!-- <label nz-radio nzValue=\"8\">{{'Other expenses'|translate}}</label> -->\r\n                        </nz-radio-group>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"large-size\"><b>{{'Payment method'|translate}}</b></div>\r\n                    <nz-cascader [nzOptions]=\"nzOptions\" [nzAllowClear]=\"false\" formControlName=\"payment_type\"\r\n                        nzPlaceHolder=\"{{'Payment method'|translate}}\"> </nz-cascader>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div class=\"large-size\"><b> {{'Expenses information'|translate}}</b></div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                        <nz-date-picker [nzDisabledDate]=\"disabledDate\" formControlName=\"date\" nzFormat=\"dd/MM/yyyy\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\" (ngModelChange)=\"changeDate($event)\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control nzErrorTip=\"{{'Please enter amount of money' | translate}}\">\r\n                                <nz-input-group>\r\n                                    <input class=\"price\" type=\"text\" maxlength=\"15\" formControlName=\"total\" nz-input\r\n                                        placeholder=\"{{'Enter amount' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input type=\"text\" formControlName=\"content\" nz-input\r\n                                        placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type == 12\">\r\n                        <div class=\"medium-size\"><b>{{'Supplier name'|translate}}*</b></div>\r\n                        <nz-form-control nzErrorTip=\"{{'Supplier name is required' | translate}}\">\r\n                            <!-- <nz-select nzShowSearch [nzAllowClear]=\"false\" formControlName=\"customer\"\r\n                                nzPlaceHolder=\"{{'Select supplier' | translate}}\" required>\r\n                                <nz-option *ngFor=\"let option of list_suppliers\" nzLabel=\"{{option.name}}\"\r\n                                    nzValue=\"{{option._id}}\">\r\n                                </nz-option>\r\n                            </nz-select> -->\r\n                            <nz-input-group>\r\n                                <input type=\"text\" [value]=\"dataRestore.data.name\" nz-input disabled\r\n                                    placeholder=\"{{'Enter supplier name' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"type == 8\">\r\n                        <div class=\"medium-size\"><b>{{'Receiver'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control nzErrorTip=\"{{'Receiver name is required' | translate}}\">\r\n                                <nz-input-group>\r\n                                    <input type=\"text\" formControlName=\"customer\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n               \r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!--Modal save-->\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm' | translate}}\" (nzOnCancel)=\"handleCancel()\"\r\n    nzCancelText=\"{{'Cancel' | translate}}\" (nzOnOk)=\"handleOk()\">\r\n    <ng-container *nzModalContent>\r\n        <div>{{'Create this expenses?' | translate}}</div>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSupplierReturnInvoiceDetail, VhSupplierReturnInvoices } from 'src/app/sales/interface/vh-supplier-return-invoice';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-bill-supplier-return',\r\n  templateUrl: './detail-bill-supplier-return.component.html',\r\n  styleUrls: ['./detail-bill-supplier-return.component.scss']\r\n})\r\nexport class DetailBillSupplierReturnComponent {\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhSupplierReturnInvoices\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) {\r\n    let state: any = this.router.getCurrentNavigation().extras.state\r\n    if (state) {\r\n      this.data = state.data;\r\n      this.stateObj = state.stateObj;\r\n      this.bills = state.bills;\r\n    }\r\n    this.getDataInvoice(state._id)\r\n    this.init();\r\n  }\r\n  stateObj: any;\r\n  bills: any;\r\n  data: any;\r\n  totalQuantity: number = 0;\r\n  init(invoice: VhSupplierReturnInvoices = null, invoiceDetail: VhSupplierReturnInvoiceDetail[] = null) {\r\n    this.invoice = new VhSupplierReturnInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQuerySales.getlocalSupplier(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhSupplierReturnInvoiceDetail[] = invoiceDetail.map(item => {\r\n          let product = this.vhQuerySales.getlocalProduct(item.id_product)\r\n          return { ...item, name: product.name ? product.name : this.languageService.translate('Not found'), unit: product.unit }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public goToCart() {\r\n    this.router.navigate(['mobile/sales/cart'], { state: { invoiceDetail: this.invoice.getInvoiceDetail(), invoice: this.invoice.getCreateUpdateInvoice() } })\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability'], {\r\n      state: {\r\n        data: this.data,\r\n        stateObj: this.stateObj,\r\n        bills: this.bills\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"ng-add\">\r\n    <div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n        <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n    </div>\r\n    <div nz-row class=\"full-height\">\r\n        <div nz-col nzSpan=\"16\" class=\"full-height\">\r\n            <div class=\"bg bg-left\" style=\"height: 97%;padding: 16px;\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"title\">\r\n                        <b>{{'Return supplier' | translate}}</b>\r\n                    </div>\r\n                </div>\r\n                <div style=\"margin-top: 20px;\">\r\n                    <nz-table [nzScroll]=\"{ y: '310px' }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                        nzShowSizeChanger [nzNoResult]=\"'No data'\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let data of invoice.getInvoiceDetail()\" style=\"cursor: pointer;\">\r\n                                <td class=\"medium-size\">{{data.name}}</td>\r\n                                <td class=\"medium-size\">{{data.quantity}}</td>\r\n                                <td nzAlign='right' class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n                                <td nzAlign='right' class=\"medium-size\"><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                                        data.price)}}</b></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"full-height\">\r\n            <div nz-row style=\"height: 29%;\">\r\n                <div nz-col nzSpan=\"24\" class=\"full-height\">\r\n                    <div class=\"bg bg-right\" style=\"height: 100%;\">\r\n                        <div nz-row style=\"padding-bottom: 5px;\">\r\n                            <div nz-col nzSpan=\"15\" class=\"medium-size\">\r\n                                <b>{{'Invoice code' | translate}}</b>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"9\" class=\"right-div medium-size\">\r\n                                {{invoice.getBillCode()}}\r\n                            </div>\r\n                        </div>\r\n                        <div nz-row style=\"padding-bottom: 5px;\">\r\n                            <div nz-col nzSpan=\"15\" class=\"medium-size\">\r\n                                <b>{{'Employee' | translate}}</b>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"9\" class=\"right-div medium-size\">\r\n                                {{invoiceInfo.employee.name}}\r\n                            </div>\r\n                        </div>\r\n                        <div nz-row style=\"padding-bottom: 5px;\">\r\n                            <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                <b>{{'Date' | translate}}</b>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                {{this.invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}\r\n                            </div>\r\n                        </div>\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                <b>{{'Supplier' | translate}}</b>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\" class=\"right-div medium-size\" style=\"text-align: end;\">\r\n                                {{invoiceInfo.partner.name | translate}}\r\n                            </div>\r\n                        </div>\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                <b>{{'Address' | translate }}</b>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\" class=\"right-div medium-size\" style=\"text-align: end;\">\r\n                                {{renderAddress(invoiceInfo.partner)}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div nz-row style=\"height: 67%; margin-top: 5px;\">\r\n                <div nz-col nzSpan=\"24\" class=\"full-height\">\r\n                    <div class=\"bg bg-right\" style=\"height: 100%;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"24\" class=\"medium-size\">\r\n                                <b style=\"font-size: 1rem;\">{{'Payment information' | translate}}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"content\">\r\n                            <div nz-row style=\"padding-bottom: 5px;padding-top: 10px;\">\r\n                                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                    {{'Quantity' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                    {{totalQuantity}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                    {{'SubTotal' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                    {{'Discount' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                    {{'Fee' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"8\" class=\"medium-size\">\r\n                                    {{'Tax' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"8\" class=\"medium-size\">\r\n                                    {{vhAlgorithm.vhpercent(invoice.getTax() / 100)}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"8\" class=\"right-div medium-size\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                                    {{'Total' | translate}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" style=\"font-size: 1rem;\">\r\n                                    <b>{{'PAYMENT' | translate}}</b>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div price\" style=\"font-size: 1rem !important;\">\r\n                                    {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"12\" style=\"font-size: 1rem !important;\">\r\n                                    <b>{{'REST' | translate}}</b>\r\n                                </div>\r\n                                <div nz-col nzSpan=\"12\" class=\"right-div price\" style=\"font-size: 1rem !important;\">\r\n                                    {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}\r\n                                </div>\r\n                            </div>\r\n                            <div nz-row style=\"padding-bottom: 5px;\">\r\n                                <div nz-col nzSpan=\"24\">\r\n                                    <div class=\"medium-size\"><b>{{'Payment method' | translate}}:</b></div>\r\n                                    <div class=\"medium-size\">{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AnimationController } from '@ionic/angular';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhPurchaseInvoice, VhPurchaseInvoiceDetail, VhPurchaseInvoices } from 'src/app/sales/interface/vh-purchase-invoice';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-invoice',\r\n  templateUrl: './detail-invoice.component.html',\r\n  styleUrls: ['./detail-invoice.component.scss']\r\n})\r\nexport class DetailInvoiceComponent {\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhPurchaseInvoices\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    private animationCtrl: AnimationController,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) {\r\n    let state: any = this.router.getCurrentNavigation().extras.state\r\n    if (state) {\r\n      this.data = state.data;\r\n      this.stateObj = state.stateObj;\r\n      this.bills = state.bills;\r\n    }\r\n    this.getDataInvoice(state._id)\r\n    this.init();\r\n  }\r\n  stateObj: any;\r\n  bills: any;\r\n  data: any;\r\n  totalQuantity: number = 0;\r\n  init(invoice: VhPurchaseInvoice = null, invoiceDetail: VhPurchaseInvoiceDetail[] = null) {\r\n    this.invoice = new VhPurchaseInvoices(invoice, invoiceDetail)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        partner: this.vhQuerySales.getlocalSupplier(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType())\r\n      }\r\n      this.totalQuantity = this.invoice.getInvoiceDetail().reduce((prev: number, next) => prev + (next.quantity ? next.quantity : 0), 0);\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        let invoiceDetailFresh: VhPurchaseInvoiceDetail[] = invoiceDetail.map(item => {\r\n          let product = this.vhQuerySales.getlocalProduct(item.id_product)\r\n          return { ...item, name: product.name ? product.name : this.languageService.translate('Not found'), unit: product.unit }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n  type: 'show' | 'hide' = 'hide'\r\n  viewInfo(type: 'show' | 'hide' = 'show') {\r\n    this.type = type\r\n    if (type == 'show')\r\n      this.animationCtrl.create('view-info-popup-detail-show').addElement(document.querySelector('.view-info-popup-detail')).duration(300)\r\n        .easing('cubic-bezier(0.16, 1, 0.3, 1)')\r\n        .fromTo('transform', 'translateY(100%)', 'translateY(0)')\r\n        .fromTo('visibility', 'hidden', 'visible').play()\r\n\r\n    if (type == 'hide')\r\n      this.animationCtrl.create('view-info-popup-detail-hide').addElement(document.querySelector('.view-info-popup-detail')).duration(300)\r\n        .easing('cubic-bezier(0.16, 1, 0.3, 1)')\r\n        .fromTo('transform', 'translateY(0)', 'translateY(100%)')\r\n        .fromTo('visibility', 'visible', 'hidden').play()\r\n  }\r\n\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public goToCart() {\r\n    this.router.navigate(['mobile/sales/cart'], { state: { invoiceDetail: this.invoice.getInvoiceDetail(), invoice: this.invoice.getCreateUpdateInvoice() } })\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability'], {\r\n      state: {\r\n        data: this.data,\r\n        stateObj: this.stateObj,\r\n        bills: this.bills\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"ng-add\">\r\n  <div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n  </div>\r\n  <div nz-row class=\"full-height\">\r\n    <div nz-col nzSpan=\"16\" class=\"full-height\">\r\n      <div class=\"bg bg-left\" style=\"height: 97%;padding: 16px;\">\r\n        <div nz-row>\r\n          <div nz-col nzSpan=\"24\" class=\"title\">\r\n            <b>{{'Purchase invoice' | translate}}</b>\r\n          </div>\r\n        </div>\r\n        <div style=\"margin-top: 20px;\">\r\n          <nz-table [nzScroll]=\"{ y: '310px' }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n            nzShowSizeChanger [nzNoResult]=\"'No data'\">\r\n            <thead>\r\n              <tr>\r\n                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let data of invoice.getInvoiceDetail()\" style=\"cursor: pointer;\">\r\n                <td class=\"medium-size\">{{data.name}}</td>\r\n                <td class=\"medium-size\">{{data.quantity}}</td>\r\n                <td nzAlign='right' class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n                <td nzAlign='right' class=\"medium-size\"><b>{{vhAlgorithm.vhcurrencyunit(data.quantity *\r\n                    data.price)}}</b></td>\r\n              </tr>\r\n            </tbody>\r\n          </nz-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"8\" class=\"full-height\">\r\n      <div nz-row style=\"height: 25%;\">\r\n        <div nz-col nzSpan=\"24\" class=\"full-height\">\r\n          <div class=\"bg bg-right\" style=\"height: 100%;\">\r\n            <div nz-row style=\"padding-bottom: 5px;\">\r\n              <div nz-col nzSpan=\"15\" class=\"medium-size\">\r\n                <b>{{'Stocker' | translate}}</b>\r\n              </div>\r\n              <div nz-col nzSpan=\"9\" class=\"right-div medium-size\">\r\n                {{invoiceInfo.employee.name}}\r\n              </div>\r\n            </div>\r\n            <div nz-row style=\"padding-bottom: 5px;\">\r\n              <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                <b>{{'Purchase date' | translate}}</b>\r\n              </div>\r\n              <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                {{this.invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}\r\n              </div>\r\n            </div>\r\n            <div nz-row>\r\n              <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                <b>{{'Supplier' | translate}}</b>\r\n              </div>\r\n              <div nz-col nzSpan=\"12\" class=\"right-div medium-size\" style=\"text-align: end;\">\r\n                {{invoiceInfo.partner.name | translate}}\r\n              </div>\r\n            </div>\r\n            <div nz-row>\r\n              <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                <b>{{'Address' | translate }}</b>\r\n              </div>\r\n              <div nz-col nzSpan=\"12\" class=\"right-div medium-size\" style=\"text-align: end;\">\r\n                {{renderAddress(invoiceInfo.partner)}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div nz-row style=\"height: 71%;margin-top: 5px;\">\r\n        <div nz-col nzSpan=\"24\" class=\"full-height\">\r\n          <div class=\"bg bg-right\" style=\"height: 100%;\">\r\n            <div nz-row>\r\n              <div nz-col nzSpan=\"24\" class=\"medium-size\">\r\n                <b style=\"font-size: 1rem;\">{{'Payment information' | translate}}</b>\r\n              </div>\r\n            </div>\r\n            <div class=\"content\">\r\n              <div nz-row style=\"padding-bottom: 5px;padding-top: 10px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                  {{'Quantity' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                  {{totalQuantity}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                  {{'SubTotal' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                  {{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                  {{'Discount' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                  {{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                  {{'Fee' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                  {{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"8\" class=\"medium-size\">\r\n                  {{'Tax' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"8\" class=\"medium-size\">\r\n                  {{vhAlgorithm.vhpercent(invoice.getTax() / 100)}}\r\n                </div>\r\n                <div nz-col nzSpan=\"8\" class=\"right-div medium-size\">\r\n                  {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" class=\"medium-size\">\r\n                  {{'Total' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div medium-size\">\r\n                  {{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" style=\"font-size: 1rem;\">\r\n                  <b>{{'PAYMENT' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div price\" style=\"font-size: 1rem !important;\">\r\n                  {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"12\" style=\"font-size: 1rem !important;\">\r\n                  <b>{{'REST' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-div price\" style=\"font-size: 1rem !important;\">\r\n                  {{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() - invoice.getPayment())}}\r\n                </div>\r\n              </div>\r\n              <div nz-row style=\"padding-bottom: 5px;\">\r\n                <div nz-col nzSpan=\"24\">\r\n                  <div class=\"medium-size\"><b>{{'Payment method' | translate}}:</b></div>\r\n                  <div class=\"medium-size\">{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-receipt-expenses',\r\n  templateUrl: './detail-receipt-expenses.component.html',\r\n  styleUrls: ['./detail-receipt-expenses.component.scss']\r\n})\r\nexport class DetailReceiptExpensesComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n    this.billInfo = { ...this.router.getCurrentNavigation().extras.state };\r\n    this.data = this.billInfo.data;\r\n    this.stateObj = this.billInfo.stateObj;\r\n    this.bills = this.billInfo.bills;\r\n    this.billInfo['status_bill'] = this.checkBillType(this.billInfo.bill_type);\r\n    if (this.billInfo['id_wallet'] != \"id_cash\") {\r\n      this.billInfo['payment_type'] = 3;\r\n    }\r\n    else { this.billInfo['payment_type'] = 1 }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.list_suppliers = this.vhQuerySales.getlocalSuppliers();\r\n  }\r\n  stateObj: any;\r\n  bills: any;\r\n  billInfo: any;\r\n  data: any;\r\n  list_suppliers: any = [];\r\n\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 12: {\r\n        return (this.languageService.translate(\"Pay for supplier liabilities\"));\r\n      }\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability'], {\r\n      state: {\r\n        data: this.data,\r\n        stateObj: this.stateObj,\r\n        bills: this.bills\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n  <div nz-row>\r\n    <div nz-col nzSpan=\"10\" class=\"title left-all-content\">\r\n      <b>{{billInfo.status_bill}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"14\" class=\" center-all-content\">\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div style=\"padding-top: 20px;\">\r\n    <form nz-form>\r\n      <div nz-row>\r\n        <div nz-col nzSpan=\"24\">\r\n          <div class=\"large-size\"><b>{{'Payment method' | translate}}</b></div>\r\n          <nz-form-item style=\"margin-top: 5px;\">\r\n            <nz-radio-group [(ngModel)]=\"billInfo['payment_type']\" name=\"type\">\r\n              <label nz-radio [nzDisabled]=\"true\" [nzValue]=\"1\">{{'Cash' | translate}}</label>\r\n              <label nz-radio [nzDisabled]=\"true\" [nzValue]=\"3\"><b>{{'Account' |\r\n                  translate}}:</b>{{billInfo['payment_type'] == 3 ?\r\n                billInfo['wallet']['name'] : ''}}</label>\r\n            </nz-radio-group>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"large-size\"><b>{{'Expenses information' | translate}}</b></div>\r\n        <div nz-row>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div class=\"medium-size\"><b>{{'Date' | translate}}</b></div>\r\n            <nz-date-picker [(ngModel)]=\"billInfo.date\" name=\"date\" nzPlaceHolder=\"Chọn ngày chi\" [nzDisabled]=\"true\">\r\n            </nz-date-picker>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n            <nz-form-item>\r\n              <nz-form-control nzErrorTip=\"{{'Please enter amount of money' | translate}}\">\r\n                <nz-input-group>\r\n                  <input nz-input [value]=\"this.vhAlgorithm.vhcurrencyunit_symbol(billInfo['total'])\" disabled />\r\n                </nz-input-group>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n          </div>\r\n        </div>\r\n        <div nz-row>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n            <nz-form-item>\r\n              <nz-form-control>\r\n                <nz-input-group>\r\n                  <input nz-input [value]=\"billInfo['content']\" disabled />\r\n                </nz-input-group>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\" *ngIf=\"billInfo['bill_type'] == 12\">\r\n            <div class=\"medium-size\"><b>{{'Supplier name'|translate}}*</b></div>\r\n            <nz-form-item>\r\n              <nz-form-control>\r\n                <nz-input-group>\r\n                  <input nz-input [value]=\"billInfo['name']\" disabled />\r\n                </nz-input-group>\r\n              </nz-form-control>\r\n            </nz-form-item>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-supplier-liability',\r\n  templateUrl: './detail-supplier-liability.component.html',\r\n  styleUrls: ['./detail-supplier-liability.component.scss']\r\n})\r\nexport class DetailSupplierLiabilityComponent {\r\n  stateObj: any; // biến chưa dữ liệu từ supplier-liability, để truyền về lại bằng stage\r\n  data: any; // biến chưa dữ liệu như tên ncc, nợ lại (rest)\r\n  bills: any = new Object(); // biến chứa dữ liệu chi tiết, truyền qua từ supplier-liability(Json)\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n    public languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe\r\n  ) {\r\n\r\n    let state: any = this.router.getCurrentNavigation().extras.state\r\n    if (state) {\r\n      this.data = state.data; // lấy dữ liệu từ supplier-liability\r\n      this.stateObj = state.stateObj // lấy dữ liệu để truyền về\r\n      this.bills = this.data.json // lấy dữ liệu chi tiết \r\n    }\r\n  }\r\n\r\n\r\n  heightScroll: string; // biến bắt chìu cáo cho table để scroll\r\n  ngAfterViewChecked() {\r\n    // tính chiều cao của table để scroll\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".height-info\")) {\r\n      this.heightScroll = (document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - document.querySelector(\".height-info\").clientHeight) - 90 + 'px'\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n     * trở lại trang công nợ ncc\r\n     * @example this.goBack()\r\n     */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability'], {\r\n      state: { stateObj: this.stateObj } // back về truyền lại dữ liệu\r\n    });\r\n  }\r\n\r\n  //** hàm vô xem chi tiết từng hóa đơn */\r\n  goToBillDetail(itemDetail) {\r\n    let state = { // khai báo dữ liệu truyền đi cho từng trang chi tiêt\r\n      _id: itemDetail['_id'],\r\n      data: this.data,\r\n      stateObj: this.stateObj,\r\n      bills: { bills: this.bills }\r\n    }\r\n    if (itemDetail['bill_type'] == 12) { // phiếu chi trả nợ cho ncc\r\n      itemDetail['name'] = this.data['name']\r\n      if (itemDetail['id_wallet']) itemDetail['wallet'] = this.vhQuerySales.getlocalWallet(itemDetail['id_wallet'])\r\n      setTimeout(() => {\r\n        this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability/detail-receipt-expenses'], {\r\n          state: { ...itemDetail, ...state }\r\n        })\r\n      }, 100)\r\n    }\r\n    else if (itemDetail['bill_type'] == 10) { // trả hàng cho ncc\r\n      setTimeout(() => this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability/detail-bill-supplier-return'], {\r\n        state: state\r\n      }), 100)\r\n    }\r\n    else { // hóa đơn nhập hàng\r\n      setTimeout(() => this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability/detail-invoice'], {\r\n        state: state\r\n      }), 100)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * nhận sk click tạo phiếu chi, router qua trang tạo phiếu chi\r\n   * @example this.gotoCreateExpenses()\r\n   */\r\n  gotoCreateExpenses() {\r\n    let state = { // khai báo dữ liệu truyền đi cho từng trang chi tiêt\r\n      data: this.data,\r\n      stateObj: this.stateObj,\r\n      bills: { bills: this.bills }\r\n    }\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/supplier-liability/detail-supplier-liability/create-expenses'], {\r\n      state: state\r\n    })\r\n  }\r\n  /**\r\n    * chuyển dạng date '2023-06-07T01:33:38.033Z' sang string với format '07_06_2023'\r\n    * @param date \r\n    * @returns string date dạng dd_MM_yyyy\r\n    * @example this.format_date('2023-06-07T01:33:38.033Z')\r\n    */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n  /** biến cờ để check mỗi lần chỉ tải về 1 lần  */\r\n  status: boolean = false;\r\n  /**\r\n   * Xuát ra file .xlxs và tải xuống máy\r\n   * @example this.exportCSV()\r\n   */\r\n  exportCSV() {\r\n    this.status = true;\r\n    let data = new Array(); // iến chứa dữ liệu để xuất\r\n\r\n    // tên file\r\n    let name: any = `${this.languageService.translate(\"_supplier_liabilities_report\")}_${this.vhAlgorithm.changeAlias(this.data.name).replace(/\\s/g, \"_\")}_${this.stateObj.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.stateObj.id_branch_report).name).replace(/\\s/g, \"_\")}`;\r\n\r\n    // hàng 1\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"No.\")] = \"\";\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Employee\")] = \"\";\r\n    total[this.languageService.translate(\"Amount debt\")] = this.vhAlgorithm.vhcurrencyunit_symbol(this.bills.debt);\r\n    total[this.languageService.translate(\"Amount paid\")] = this.vhAlgorithm.vhcurrencyunit_symbol(this.bills.payment);\r\n    total[this.languageService.translate(\"Amount rest\")] = this.vhAlgorithm.vhcurrencyunit_symbol(this.bills.rest);\r\n    total[this.languageService.translate(\"Note\")] = \"\";\r\n    data.push(total);\r\n    // hàng 2\r\n    let beginning_debt: any = new Object()\r\n    beginning_debt[this.languageService.translate(\"No.\")] = \"\";\r\n    beginning_debt[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    beginning_debt[this.languageService.translate(\"Date\")] = this.languageService.translate(\"Debt at the beginning of the period\");\r\n    beginning_debt[this.languageService.translate(\"Employee\")] = \"\";\r\n    beginning_debt[this.languageService.translate(\"Amount debt\")] = this.vhAlgorithm.vhcurrencyunit_symbol(this.bills.debt_beginning);\r\n    beginning_debt[this.languageService.translate(\"Amount paid\")] = \"\";\r\n    beginning_debt[this.languageService.translate(\"Amount rest\")] = this.vhAlgorithm.vhcurrencyunit_symbol(this.bills.debt_beginning);\r\n    beginning_debt[this.languageService.translate(\"Note\")] = \"\"\r\n\r\n    data.push(beginning_debt);\r\n\r\n    // hàng 3\r\n    for (let i in this.bills.docs) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"No.\")] = parseInt(i) + 1;\r\n      item[this.languageService.translate(\"Invoice code\")] = this.bills.docs[i].bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_date(this.bills.docs[i].date);\r\n      item[this.languageService.translate(\"Employee\")] = this.vhAuth.getlocalEmployee(this.bills.docs[i].id_employee).name\r\n      item[this.languageService.translate(\"Amount debt\")] = this.vhAlgorithm.vhcurrencyunit(this.bills.docs[i].debt);\r\n      item[this.languageService.translate(\"Amount paid\")] = this.vhAlgorithm.vhcurrencyunit(this.bills.docs[i].payment);\r\n      item[this.languageService.translate(\"Amount rest\")] = this.vhAlgorithm.vhcurrencyunit(this.bills.docs[i].rest);\r\n      item[this.languageService.translate(\"Note\")] = this.bills.docs[i].content;\r\n      data.push(item);\r\n    }\r\n    // thực hiện xuất excel\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\">\r\n        <div nz-col nzSpan=\"7\" class=\"title left-all-content\">\r\n            <b>{{'Details of accounts'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"11\"></div>\r\n        <div nz-col nzSpan=\"3\" class=\"title center-all-content\">\r\n            <button class=\"btn-data center-all-content\" nz-button nzType=\"default\"(click)=\"gotoCreateExpenses()\">\r\n                <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                {{'Create expenses' | translate}}\r\n            </button>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"title center-all-content\">\r\n            <button class=\"btn-data center-all-content\" nz-button nzType=\"default\" *ngIf=\"!status\" (click)=\"exportCSV()\" [disabled]=\"bills.size == 0\">\r\n                <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                {{'Download' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"height-info\">\r\n        <div nz-row style=\"padding-top: 10px;\">\r\n            <div nz-col nzSpan=\"12\">\r\n                <div class=\"medium-size\"><b>{{'Supplier' | translate}}: </b><span style=\"padding-right: 8px;\">\r\n                        {{data.name}}</span>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div class=\"medium-size\"><b>{{'Time' | translate}}: </b>\r\n                    <span>{{stateObj.startTime | date: 'dd/MM/yyyy'}} - {{stateObj.endTime | date: 'dd/MM/yyyy'}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-row style=\"padding-top: 10px;\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div class=\"medium-size\"><b>{{'Amount rest' | translate}}: </b><span class=\"color-green\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit_symbol(data.rest)}}</b></span></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\" #dataDebt nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\" [nzData]=\"bills.docs\">\r\n            <thead class=\"header-table\">\r\n                <tr>\r\n                    <th class=\"medium-size\" nzWidth=\"5%\"><b>{{\"No.\" | translate}}</b></th>\r\n                    <th class=\"medium-size\" nzWidth=\"11%\"><b>{{\"Invoice code\" | translate}}</b></th>\r\n                    <th class=\"medium-size\" nzWidth=\"12%\"><b>{{'Date' | translate}}</b></th>\r\n                    <th class=\"medium-size\" nzWidth=\"11%\"><b>{{'Stocker' | translate}}</b></th>\r\n                    <th nzAlign=\"right\" nzWidth=\"11%\" class=\"medium-size\"><b>{{'Amount debt' | translate}}</b></th>\r\n                    <th nzAlign=\"right\" nzWidth=\"11%\" class=\"medium-size\"><b>{{'Amount paid' | translate}}</b></th>\r\n                    <th nzAlign=\"right\" nzWidth=\"11%\" class=\"medium-size\"><b>{{'Amount rest' | translate}}</b></th>\r\n                    <th class=\"medium-size\" nzWidth=\"15%\"><b>{{'Note' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td></td>\r\n                    <td class=\"color-green medium-size\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(bills.debt)}}</td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(bills.payment)}}</td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(bills.rest)}} </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr class=\"total\" *ngIf=\"bills.docs\">\r\n                    <td></td>\r\n                    <td colspan=\"3\" class=\"color-green medium-size\"><b>{{\"Debt at the beginning of the period\" |\r\n                            translate}}</b>\r\n                    </td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(bills.debt_beginning)}}\r\n                    </td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        <!-- {{vhAlgorithm.vhcurrencyunit_symbol(bills.debt_beginning)}} -->\r\n                    </td>\r\n                    <td nzAlign=\"right\" class=\"color-green medium-size\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(bills.debt_beginning) }}\r\n                    </td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr *ngFor=\"let data of dataDebt.data\" style=\"cursor: pointer;\" (click)=\"goToBillDetail(data)\">\r\n                    <td class=\"medium-size\">{{ data.index }}</td>\r\n                    <td class=\"medium-size\">{{ data.bill_code }}</td>\r\n                    <td class=\"medium-size\">{{ data.date | date: 'dd/MM/yyyy'}}</td>\r\n                    <td class=\"medium-size\">{{ vhAuth.getlocalEmployee(data.id_employee).name }}</td>\r\n                    <td nzAlign=\"right\" class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.debt)}}</td>\r\n                    <td nzAlign=\"right\" class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.payment)}}</td>\r\n                    <td nzAlign=\"right\" class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.rest)}} </td>\r\n                    <td class=\"medium-size\">{{ data.content }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DetailSupplierLiabilityComponent } from './detail-supplier-liability.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { DetailInvoiceComponent } from './detail-invoice/detail-invoice.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { DetailReceiptExpensesComponent } from './detail-receipt-expenses/detail-receipt-expenses.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DetailBillSupplierReturnComponent } from './detail-bill-supplier-return/detail-bill-supplier-return.component';\r\nimport { CreateExpensesComponent } from './create-expenses/create-expenses.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetailSupplierLiabilityComponent\r\n  },\r\n  {\r\n    path: 'detail-invoice',\r\n    component: DetailInvoiceComponent\r\n  },\r\n  {\r\n    path: 'detail-receipt-expenses',\r\n    component: DetailReceiptExpensesComponent\r\n  },\r\n  {\r\n    path: 'detail-bill-supplier-return',\r\n    component: DetailBillSupplierReturnComponent\r\n  },\r\n  {\r\n    path: 'create-expenses',\r\n    component: CreateExpensesComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DetailSupplierLiabilityComponent,\r\n    DetailInvoiceComponent,\r\n    DetailReceiptExpensesComponent,\r\n    DetailBillSupplierReturnComponent,\r\n    CreateExpensesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class DetailSupplierLiabilityModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}