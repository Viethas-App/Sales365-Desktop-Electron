{"version":3,"file":"src_app_sales_menu_manage_cashflow_transfers_transfers_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/cashflow/transfers/add/add.component.ts","./src/app/sales/menu/manage/cashflow/transfers/add/add.component.html","./src/app/sales/menu/manage/cashflow/transfers/detail/detail.component.ts","./src/app/sales/menu/manage/cashflow/transfers/detail/detail.component.html","./src/app/sales/menu/manage/cashflow/transfers/transfers.component.ts","./src/app/sales/menu/manage/cashflow/transfers/transfers.component.html","./src/app/sales/menu/manage/cashflow/transfers/transfers.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { TransferMoneyA4Component } from 'src/app/sales/components/print/transfer-money/transfer-money-a4/transfer-money-a4.component';\r\nimport { TransferMoneyA5Component } from 'src/app/sales/components/print/transfer-money/transfer-money-a5/transfer-money-a5.component';\r\nimport { TransferMoneyK80Col4Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k80-col4/transfer-money-k80-col4.component';\r\nimport { TransferMoneyK80Col3Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k80-col3/transfer-money-k80-col3.component';\r\nimport { TransferMoneyK57Col3Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k57-col3/transfer-money-k57-col3.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    private vhQuery: VhQuery,\r\n    public lang: LanguageService,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getPaymentBankList();\r\n    let options = [{ value: '1', label: this.lang.translate('Cash'), isLeaf: true }, { value: '3', label: this.lang.translate('Account'), children: this.listPaymentBank }]\r\n    this.nzOptions = options;\r\n    this.branchList = this.vhQuerySales.getlocalBranchs().filter(item => item._id != this.vhQuerySales.getDefaultBranch()._id)\r\n  }\r\n  checkPrinter: boolean = false;\r\n  branchList: Array<any> = []\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  listPaymentBank: any = [];\r\n  addTransfersForm: FormGroup;\r\n  nzOptions: any;\r\n  billInfo: any = { employee: this.vhAuth.getUser() };\r\n  money_currency: any;\r\n  selected_branch: any;\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n   \r\n    if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)]) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n  }\r\n  ngAfterViewInit() {\r\n    // tạo cleavejs cho input price\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * khởi tạo các trường mặc định trong addTransfersForm\r\n   * @example this.initForm() \r\n   */\r\n  initForm() {\r\n    this.addTransfersForm = new FormGroup({\r\n      date: new FormControl(new Date().toISOString()),\r\n      total: new FormControl(\"\", Validators.required),\r\n      content: new FormControl(\"\"),\r\n      payment_type: new FormControl('1'),\r\n      id_branch_receive: new FormControl(null, Validators.required)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * check validate hợp lệ\r\n   * @param $event date\r\n   */\r\n  changeDate(event) {\r\n    this.vhQuerySales.getValidityDate(event)\r\n      .then((validitydate: any) => {\r\n        if (validitydate) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.lang.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n          this.addTransfersForm.controls['date'].setValue(new Date())\r\n        }\r\n      })\r\n  }\r\n\r\n  /**Get payment bank list */\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQuerySales.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQuerySales.getDefaultBranch()._id);\r\n    this.listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * tạo phiếu chuyển tiền\r\n   * @param print : biến cờ check in hay ko\r\n   * @example this.onSubmit(true)\r\n   */\r\n  onSubmit(print) {\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", `${this.lang.translate(\"Create transfers note\")} ?`, \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.createBillCode(new Date(this.addTransfersForm['value'][\"date\"]),32),\r\n        this.vhComponent.showLoading(\"\")\r\n      ])\r\n      .then(([bill_code, loading]) => {\r\n        let bill: any = this.exportBill(this.addTransfersForm.value,bill_code)\r\n        Promise.all([this.vhQuerySales.createBill({ ...bill, bill_type: 32 })]).then((res: any) => {\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"Transfers note has been created successfully\"), \"success-toast\");\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            if (print) {\r\n              this.showPrint({ ...res[0], employee: res[0].id_employee })\r\n            }\r\n            else setTimeout(() => this.goBack(), 200)\r\n          })\r\n        })\r\n      })\r\n    }).catch(() => { })\r\n  }\r\n  \r\n \r\n  /**trở về trang chuyển tiền\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/transfers'], {\r\n      state: this.dataRestore\r\n    });\r\n  }\r\n\r\n\r\n  /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n  * @example this.showPrint() \r\n  */\r\n  showPrint(result) {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { billInfo: result, printer: printer }, false, false, `modal-print-${printer['_id']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { this.goBack() })\r\n          })\r\n      }\r\n    }, err => { this.goBack() })\r\n  }\r\n /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return TransferMoneyK57Col3Component\r\n      case 'print_size_k80_3c': return TransferMoneyK80Col3Component\r\n      case 'print_size_k80_4c': return TransferMoneyK80Col4Component\r\n      case 'print_size_a5': return TransferMoneyA5Component\r\n      case 'print_size_a4': return TransferMoneyA4Component\r\n      default: return TransferMoneyA4Component\r\n    }\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n      if (printer  && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  /**Thay đổi phương thức thanh toán */\r\n\r\n  \r\n  /**Khởi tạo các trường chuẩn của bill để lưu DB\r\n   * @example  const bill = this.exportBill(bill, '070623F001')\r\n   * @returns bill\r\n  */\r\n  exportBill(form,bill_code) {\r\n    const bill: any = {\r\n      bill_code: bill_code,\r\n      date: new Date(form[\"date\"]),\r\n      total: parseFloat(this.money_currency.getRawValue()),\r\n      payment: parseFloat(this.money_currency.getRawValue()),\r\n      content: form[\"content\"],\r\n      id_branch: this.vhQuerySales.getDefaultBranch()._id,\r\n      id_branch_receive: form['id_branch_receive'],\r\n      payment_type: +form['payment_type'][0],\r\n      id_wallet: +form['payment_type'][0] == 1 ? 'id_cash' : form['payment_type'][1],\r\n      id_employee: this.vhAuth.getUser()._id\r\n    }\r\n    return bill\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Create transfers note'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button (click)=\"onSubmit(true)\" [disabled]=\"addTransfersForm.invalid || !checkPrinter\"\r\n                    class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                    {{'Create & Print'|translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"onSubmit(false)\"\r\n                    [disabled]=\"addTransfersForm.invalid\" [ngStyle]=\"{opacity: addTransfersForm.invalid ? 0.5 : 1}\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Create'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"addTransfersForm\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                        <nz-date-picker formControlName=\"date\" nzFormat=\"dd/MM/yyyy\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\" (ngModelChange)=\"changeDate($event)\">\r\n                        </nz-date-picker>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Transfer method'|translate}}*</b></div>\r\n                        <nz-cascader [nzOptions]=\"nzOptions\" [nzAllowClear]=\"false\" formControlName=\"payment_type\"\r\n                            nzPlaceHolder=\"{{'Please select transfer method'|translate}} *\"> </nz-cascader>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAmount\">\r\n                            <nz-input-group>\r\n                                <input maxlength=\"15\" class=\"price\" type=\"price\" nz-input formControlName=\"total\"\r\n                                    placeholder=\"{{'Enter amount' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAmount let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Please enter amount of money' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'To branch'|translate}}*</b></div>\r\n                    <nz-select nzPlaceHolder=\"{{'Select branch' | translate}}\" formControlName=\"id_branch_receive\">\r\n                        <nz-option *ngFor=\"let item of branchList\" nzLabel=\"{{item.name | translate}}\"\r\n                            [nzValue]=\"item._id\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input type=\"text\" formControlName=\"content\" nz-input\r\n                                    placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { TransferMoneyA4Component } from 'src/app/sales/components/print/transfer-money/transfer-money-a4/transfer-money-a4.component';\r\nimport { TransferMoneyA5Component } from 'src/app/sales/components/print/transfer-money/transfer-money-a5/transfer-money-a5.component';\r\nimport { TransferMoneyK80Col4Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k80-col4/transfer-money-k80-col4.component';\r\nimport { TransferMoneyK80Col3Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k80-col3/transfer-money-k80-col3.component';\r\nimport { TransferMoneyK57Col3Component } from 'src/app/sales/components/print/transfer-money/transfer-money-k57-col3/transfer-money-k57-col3.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    public lang: LanguageService,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.getPaymentBankList();\r\n    let options = [{ value: 1, label: this.lang.translate('Cash'), isLeaf: true }, { value: 3, label: this.lang.translate('Account'), children: this.listPaymentBank }]\r\n    this.nzOptions = options;\r\n  }\r\n  checkPrinter: boolean = false;\r\n  branchList: Array<any> = this.vhQuerySales.getlocalBranchs().filter(item => item._id != this.vhQuerySales.getDefaultBranch()._id)\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  billDetail: any = this.router.getCurrentNavigation().extras.state.billDetail\r\n  listPaymentBank: any = [];\r\n  type_payment: any;\r\n  editTransfersForm: FormGroup;\r\n  nzOptions: any;\r\n  money_currency: any;\r\n  selected_branch: any;\r\n  ngOnInit(): void {\r\n    this.initForm();\r\n    let printer = this.vhQuerySales.getlocalPrinters().find(item => item.desktop)\r\n    if (printer) {\r\n      if (printer.delivery_receive_money) this.checkPrinter = printer.delivery_receive_money.enable //chưa có quyền máy in\r\n    }\r\n  }\r\n  ngAfterViewInit() {\r\n    // tạo cleavejs cho input price\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.money_currency = this.vhAlgorithm.vhnumeral(\".price\");\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n    * lấy các giá trị của bill khởi tạo cho form\r\n    * @example initForm()\r\n    */\r\n  initForm() {\r\n    let isDisable: boolean = this.billDetail['bill_type'] == 32 ? false : true\r\n    this.editTransfersForm = new FormGroup({\r\n      date: new FormControl({ value: this.billDetail['date'], disabled: isDisable }),\r\n      total: new FormControl({ value: this.billDetail['total'], disabled: isDisable }, Validators.required),\r\n      content: new FormControl({ value: this.billDetail['content'], disabled: isDisable }),\r\n      payment_type: new FormControl({ value: this.billDetail['payment_type'], disabled: isDisable }),\r\n      type_payment: new FormControl(null),\r\n      id_branch_receive: new FormControl({ value: this.billDetail['id_branch_receive'], disabled: isDisable }, Validators.required)\r\n    });\r\n    if (this.billDetail['payment_type'] == 1) this.editTransfersForm.controls['type_payment'].setValue([1])\r\n    else this.editTransfersForm.controls['type_payment'].setValue([3, this.billDetail[\"id_wallet\"]])\r\n  }\r\n\r\n  /**\r\n * check validate hợp lệ\r\n * @param $event date\r\n */\r\n  changeDate(event) {\r\n    this.vhQuerySales.getValidityDate(event)\r\n      .then((validitydate: any) => {\r\n        if (validitydate) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.lang.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n          this.editTransfersForm.controls['date'].setValue(new Date())\r\n        }\r\n        else this.updateBill({ date: this.editTransfersForm.value.date })\r\n      })\r\n\r\n  }\r\n\r\n  /**Get payment bank list */\r\n  getPaymentBankList() {\r\n    let listPayment = this.vhQuerySales.getlocalWallets().filter(item => item._id != 'id_cash' && item.id_branch == this.vhQuerySales.getDefaultBranch()._id);\r\n    this.listPaymentBank = listPayment.map(item => {\r\n      return { value: item._id, label: item.name, isLeaf: true }\r\n    })\r\n  }\r\n  \r\n   /**trở về trang chuyển tiền\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/transfers'], { state: this.dataRestore });\r\n  }\r\n  /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n  * @example this.showPrint() \r\n  */\r\n  showPrint() {\r\n    let billInfo: any = {\r\n      date: this.editTransfersForm.value.date || this.billDetail['date'],\r\n      total: this.editTransfersForm.value.total || this.billDetail['total'],\r\n      content: this.editTransfersForm.value.content || this.billDetail['content'],\r\n      payment_type: this.editTransfersForm.value.payment_type || this.billDetail['payment_type'],\r\n      id_branch_receive: this.editTransfersForm.value.id_branch_receive || this.billDetail['id_branch_receive'],\r\n      bill_code: this.billDetail['bill_code'],\r\n      id_wallet: this.billDetail[\"id_wallet\"],\r\n      employee: this.billDetail[\"id_employee\"],\r\n      id_branch: this.billDetail['id_branch']\r\n    }\r\n    this.checkPrint().then((printer) => {\r\n      if (printer) {\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { billInfo: billInfo, printer: printer }, false, false, `modal-print-${printer['_id']}`)\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => { })\r\n          })\r\n      }\r\n    }, (err) => {\r\n      let name: any = 'Transfer, receive money'\r\n      this.vhComponent.alertMessage(this.lang.translate(\"Function\"), \"\", this.lang.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/sales/dashboard/manage/printer', 'page_desktop_delivery_receive_money'], { state: name }))\r\n    })\r\n  }\r\n  /*----------Print------------------*/\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_delivery_receive_money')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n  /**\r\n    * trả về component của trang in tương ứng\r\n    * @example this.renderPrintPage('print_size_a4')\r\n    * @returns component\r\n    */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return TransferMoneyK57Col3Component\r\n      case 'print_size_k80_3c': return TransferMoneyK80Col3Component\r\n      case 'print_size_k80_4c': return TransferMoneyK80Col4Component\r\n      case 'print_size_a5': return TransferMoneyA5Component\r\n      case 'print_size_a4': return TransferMoneyA4Component\r\n      default: return TransferMoneyA4Component\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param : trường cần lưu\r\n   * @example this.updateBill({total : 20000})\r\n   */\r\n  updateBill(value) {\r\n    this.vhQuerySales.updateBill(this.billDetail['_id'], value).then((res) => { }).catch(err => console.error('update failed => ' + err))\r\n  }\r\n\r\n  /**\r\n   * cập nhật lại total và payment của bill khi có thay đổi\r\n   */\r\n  updateAmount() {\r\n    let amount = parseFloat(this.money_currency.getRawValue())\r\n    if (amount)\r\n      this.vhQuerySales.updateBill(this.billDetail['_id'], { total: amount, payment: amount }).then(() => { }).catch(err => console.error('update failed => ' + err))\r\n  }\r\n\r\n  /**\r\n   * xóa bill khỏi DB\r\n   * @example this.deleteBill()\r\n   */\r\n  deleteBill() {\r\n    this.vhComponent.alertConfirm(\"\", this.lang.translate(\"Confirm\"), this.lang.translate(\"Delete\"), \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"current-loading\").then(() => {\r\n        this.vhQuerySales.deleteBill(this.billDetail[\"_id\"]).then(() => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.goBack()\r\n            this.vhComponent.showToast(2000, `${this.lang.translate(\"Transfers money\")} ${this.billDetail['bill_code']} ${this.lang.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n          }\r\n          ).catch(err => { })\r\n        })\r\n      }).catch(() => { })\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\" class=\"title left-all-content\">\r\n            <b>{{'Money transfer receipt'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content margin\">\r\n            <div>\r\n                <button (click)=\"showPrint()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"print-outline\"></ion-icon>\r\n                    {{'Print'|translate}}\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"billDetail['bill_type'] == 32\">\r\n                <button (click)=\"deleteBill()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"trash-outline\"></ion-icon>\r\n                    {{'Delete'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <form nz-form [formGroup]=\"editTransfersForm\">\r\n            <div nz-row>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Date'|translate}}</b></div>\r\n                        <nz-date-picker (ngModelChange)=\"changeDate($event)\"\r\n                            formControlName=\"date\" nzFormat=\"dd/MM/yyyy\" nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <nz-form-item>\r\n                        <div class=\"medium-size\"><b>{{'Payment method' | translate}}*</b></div>\r\n                        <nz-cascader [nzDisabled]=\"true\" formControlName=\"type_payment\"\r\n                            nzPlaceHolder=\"{{'Payment method'|translate}}\" [nzOptions]=\"nzOptions\"\r\n                            [nzAllowClear]=\"false\" nzPlaceHolder=\"{{'Payment method'|translate}} *\">\r\n                        </nz-cascader>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Amount'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAmount\">\r\n                            <nz-input-group>\r\n                                <input maxlength=\"15\" [disabled]=\"billDetail['bill_type'] !=32\" (blur)=\"updateAmount()\"\r\n                                    class=\"price\" type=\"price\" nz-input formControlName=\"total\"\r\n                                    placeholder=\"{{'Enter amount' | translate}}\" />\r\n                            </nz-input-group>\r\n                            <ng-template #combineTplAmount let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Please enter amount of money' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'To branch'|translate}}*</b></div>\r\n                    <nz-select [disabled]=\"billDetail['bill_type'] !=32\"\r\n                        (ngModelChange)=\"updateBill({id_branch_receive : editTransfersForm.value.id_branch_receive})\"\r\n                        nzPlaceHolder=\"{{'Select branch' | translate}}\" formControlName=\"id_branch_receive\">\r\n                        <nz-option *ngFor=\"let item of branchList\" nzLabel=\"{{item.name | translate}}\"\r\n                            [nzValue]=\"item._id\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div class=\"item-form\" nz-col nzSpan=\"12\">\r\n                    <div class=\"medium-size\"><b>{{'Particulars' | translate}}</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <input (blur)=\"updateBill({content : editTransfersForm.value.content})\" type=\"text\"\r\n                                    formControlName=\"content\" nz-input\r\n                                    placeholder=\"{{'Enter particulars' | translate}}\" />\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuery, VhQuerySales, VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-transfers',\r\n  templateUrl: './transfers.component.html',\r\n  styleUrls: ['./transfers.component.scss']\r\n})\r\nexport class TransfersComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  public searchValue: string = ''\r\n  public listTransferShow: any[] = []\r\n  public listTransfer: any[] = []\r\n  public branchList: any[] = []\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  loadingStatus: boolean = false\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.date = [new Date(this.dataRestore.startTime), new Date(this.dataRestore.endTime)];\r\n      this.listTransfer = this.dataRestore.listTransfer\r\n      this.searchBill(this.searchValue)\r\n    }\r\n    \r\n  }\r\n\r\n  /**\r\n   * get danh sách hóa đơn chuyển tiền\r\n   * @example this.getTransferList()\r\n   */\r\n  getTransferList() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBills_byFields({ date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) }, bill_type: { $in: [32, 33] }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id } })\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.branchList = this.vhQuerySales.getlocalBranchs()\r\n          this.listTransfer = res[0].map(item => {\r\n            let element = { ...item, branch_name: this.checkBranchName(item.id_branch), branch_name_reception: this.checkBranchName(item.id_branch_receive), status: this.checkBillType(item.bill_type), payment_name: this.checkPayment(item.payment_type, item.payment_type == 3 ? item.id_wallet : null), }\r\n            return element\r\n          }).reverse()\r\n          \r\n          this.listTransferShow = this.listTransfer\r\n          this.searchBill(this.searchValue)\r\n          this.loadingStatus = true\r\n        })\r\n      }).catch(err => { this.vhComponent.hideLoading(0), console.error(err) })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về tên chi nhánh theo id truyền vào\r\n   * @param id id_branch\r\n   * @returns string : branch_name\r\n   * @example let branch_name = this.checkBranchName('IHIFUHOUIWHDIOWYUGIU')\r\n   */\r\n  checkBranchName(id) {\r\n    return this.vhQuerySales.getlocalBranch(id).name\r\n  }\r\n\r\n   /**\r\n   * trả vê tên phương thức thanh toán \r\n   * @param payment_type \r\n   * @param id_wallet \r\n   * @example payment_name =  this.checkPayment(1)\r\n   * @returns string\r\n   */\r\n  checkPayment(payment_type, id_wallet?) {\r\n    switch (payment_type) {\r\n      case 1: return this.lang.translate(\"Cash\")\r\n      case 3: return `${this.vhQuerySales.getlocalWallet(id_wallet)['name']}`\r\n    }\r\n  }\r\n\r\n   /**\r\n   * trả về tên loại hóa đơn theo bill-type của bill\r\n   * @param bill_type\r\n   * @example let bill_name = this.checkBillType(32)\r\n   */\r\n  checkBillType(bill_type) {\r\n    //kiểm tra loại hóa đơn\r\n    switch (bill_type) {\r\n      case 32: {\r\n        return (this.lang.translate(\"Transferring money\"));\r\n      }\r\n      case 33: { return (this.lang.translate(\"Transferred money\")); }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * router qua trang chuyển tiền\r\n   * @example this.addTransfers()\r\n   */\r\n  addTransfers() {\r\n    let dataRestore = { searchValue: this.searchValue, startTime: this.date[0], endTime: this.date[1],listTransfer:this.listTransfer }\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/transfers/add'], { state: { dataRestore, branchList: this.branchList } })\r\n  }\r\n\r\n  /**\r\n   * lọc listTransferShow theo bill-code\r\n   * @param value : giá trị của input search\r\n   * @example this.searchBill('080623A001')\r\n   */\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.listTransferShow = this.vhAlgorithm.searchList(val, this.listTransfer, ['bill_code'])\r\n    } else this.listTransferShow = [...this.listTransfer]\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n     // tính chiều cao của table để scroll\r\n    if (document.querySelector(\"#transfers-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".transfers-invoice-header\")) {\r\n      this.tableHeight = document.querySelector(\"#transfers-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".transfers-invoice-header\").clientHeight - 60 + \"px\";\r\n      if (document.querySelector(\".ant-table-pagination\")) {\r\n        this.tableHeight = document.querySelector(\"#transfers-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".transfers-invoice-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 60 + \"px\";\r\n      }\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  \r\n  /**\r\n   * router về trang dòng tiền\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/cashflow\"])\r\n  }\r\n\r\n\r\n   /**\r\n  * bắt sk khi thay đổi ngày xem báo cáo , kiểm tra hợp lệ và gán vào trường startTime,endTime của cashbook\r\n  * @example this.changeTime(['2023-06-07T01:33:38.033Z','2023-06-07T01:33:38.033Z'])\r\n  */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n      //this.getTransferList();\r\n    } else {\r\n      this.vhComponent.alertMessageDesktop(\"error\", this.lang.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.lang.translate(\"days\"))\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * router qua trang chi tiết hóa đơn chuyển tiền\r\n   * @param invoice : bill được chọn\r\n   * @example this.goToDetail(invoice) \r\n   */\r\n  goToDetail(invoice) {\r\n    let dataRestore = { searchValue: this.searchValue, startTime: this.date[0], endTime: this.date[1], listTransfer:this.listTransfer }\r\n    this.router.navigate(['/sales/dashboard/manage/cashflow/transfers/detail'], { state: { dataRestore, branchList: this.branchList, billDetail: invoice } })\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  branch_nameCol = false;\r\n  branch_name_receptionCol = false;\r\n  payment_nameCol = false;\r\n  statusCol = false;\r\n  totalCol = false;\r\n    /** Hàm thực hiện sắp xếp theo tên trường cần sort\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   * @example this.sortTable('name')\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortDatebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortDatebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortStringbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name':\r\n        if(this.branch_nameCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'branch_name_reception':\r\n        if(this.branch_name_receptionCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.payment_nameCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'status':\r\n        if(this.statusCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n      case 'total':\r\n        if(this.totalCol){\r\n          this.listTransferShow = this.vhAlgorithm.sortNumberbyASC([...this.listTransferShow], colName);\r\n        }else{\r\n          this.listTransferShow = this.vhAlgorithm.sortNumberbyDESC([...this.listTransferShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"transfers-invoice\">\r\n    <div nz-row class=\"transfers-invoice-header\">\r\n        <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n            <b>{{'Transfers money'| translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"title left-all-content\">\r\n            <nz-input-group style=\"margin-right : 8px;width: 100%;\" [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input placeholder=\"{{'Search for receipt code' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"date-picker-cus right-all-content\">\r\n            <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n        </div>\r\n        <div nz-col class=\"right-all-content\" nzSpan=\"6\">\r\n            <div>\r\n                <button class=\"btn-green center-all-content ml-3\" nz-button nzType=\"default\" (click)=\"getTransferList()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n            <div>\r\n                <button (click)=\"addTransfers()\" class=\"btn-green right-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon name=\"add-outline\"></ion-icon>\r\n                    {{'Create transfers note' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"!listTransferShow.length && loadingStatus\" style=\"height: 100%;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n            <p>{{'No data' | translate}}</p>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"listTransferShow.length\" style=\"margin-top: 16px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ x: '1300px', y: tableHeight }\" #detailData nzShowPagination nzShowSizeChanger [nzData]=\"listTransferShow\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"cursor: pointer;\" nzLeft nzWidth=\"150px\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n                        <b>{{'Date' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzLeft nzWidth=\"150px\" nzAlign='left' (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\">\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"200px\" nzAlign='left' (click)=\"branch_nameCol = !branch_nameCol;sortTable('branch_name')\">\r\n                        <b>{{'Delivery branch' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"branch_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"200px\" nzAlign='left' (click)=\"branch_name_receptionCol = !branch_name_receptionCol;sortTable('branch_name_reception')\">\r\n                        <b>{{'Receive branch' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"branch_name_receptionCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"200px\" nzAlign='left' (click)=\"payment_nameCol = !payment_nameCol;sortTable('payment_name')\">\r\n                        <b>{{'Payment method' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"payment_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"150px\" nzAlign='left' (click)=\"statusCol = !statusCol;sortTable('status')\">\r\n                        <b>{{'Status' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"150px\" nzAlign='right' (click)=\"totalCol = !totalCol;sortTable('total')\">\r\n                        <b>{{'Total' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"totalCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr (click)=\"goToDetail(invoice)\" *ngFor=\"let invoice of detailData.data;let i = index\" style=\"cursor: pointer;\">\r\n                    <td nzLeft nzAlign='left'>{{invoice.date | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                    <td nzLeft nzAlign='left'>{{invoice.bill_code}}</td>\r\n                    <td nzAlign='left'>{{invoice.branch_name}}</td>\r\n                    <td nzAlign='left'>{{invoice.branch_name_reception}}</td>\r\n                    <td nzAlign='left'>{{invoice.payment_name}}</td>\r\n                    <td nzAlign='left'>{{invoice.status}}</td>\r\n                    <td nzAlign='right' style=\"color:var(--ion-color-vh-green)\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</b>\r\n                    </td>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TransfersComponent } from './transfers.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { AddComponent } from './add/add.component';\r\nimport { CanLeavePage } from 'src/app/canLeavePage';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: TransfersComponent\r\n  },\r\n  {\r\n    path: \"add\",\r\n    component: AddComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [TransfersComponent, DetailComponent, AddComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class TransfersModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}