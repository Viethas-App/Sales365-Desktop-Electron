{"version":3,"file":"src_app_sales_menu_manage_delivery_services_ahamoveService_ahamove_service_ts-src_app_sales_m-e4c855.js","mappings":"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","sources":["./src/app/sales/components/bill-type/bill-type-3/lazada/add/add.component.ts","./src/app/sales/components/bill-type/bill-type-3/lazada/add/add.component.html","./src/app/sales/components/bill-type/bill-type-3/lazada/bill-type3-lazada.module.ts","./src/app/sales/components/bill-type/bill-type-3/lazada/detail/detail.component.ts","./src/app/sales/components/bill-type/bill-type-3/lazada/detail/detail.component.html","./src/app/sales/components/bill-type/bill-type-3/lazada/edit/edit.component.ts","./src/app/sales/components/bill-type/bill-type-3/lazada/edit/edit.component.html","./src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service.ts","./src/app/sales/menu/manage/delivery/services/ghnService/ghn.service.ts","./src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service.ts","./src/app/sales/menu/manage/delivery/services/vnpostPost/vnpost-service.service.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/add/add.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/add/add.component.html","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail-order/detail.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail-order/detail.component.html","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail/detail.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail/detail.component.html","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/edit/edit.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/edit/edit.component.html","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/issue-receive-goods.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/issue-receive-goods.component.html","./src/app/sales/menu/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/issue-receive-goods.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { SalesK57Col3Component } from 'src/app/sales/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/sales/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhReturnLazadaInvoiceAdd, VhReturnLazadaInvoiceDetail, VhReturnLazadaInvoiceDetailCombo } from '../lazada-interface';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'bill-type3-lazada-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n  invoice: VhReturnLazadaInvoiceAdd = {\r\n    bill_type: 3,\r\n    payment_type: 2,\r\n    id_customer: '',\r\n    id_branch: '',\r\n    id_employee: '',\r\n    id_wallet: 'id_cash',\r\n    date: '',\r\n    total: 0,\r\n    payment: 0,\r\n    tax: 0,\r\n    discount: 0,\r\n    fee: 0,\r\n    note: '',\r\n    price_type: 0,\r\n    order_number_ecommerce: '',\r\n    id_shop: '',\r\n  }\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore //nhớ dữ liệu truyền từ trang trước\r\n  billLazada: any = this.router.getCurrentNavigation().extras.state.billLazada\r\n  employee: any = {};\r\n  customer: any = {};\r\n  pickerTime = new Date();\r\n  checkPrinter: boolean = false;\r\n  closerBrower: any;\r\n  validProdDetail: boolean = true;//nếu biến này = false tức có sp lazada chưa được liên kết với app\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id\r\n  invoiceDetail = [];\r\n  subTotal = 0;\r\n  taxValue = 0\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n    private nzModalService: NzModalService,\r\n    private cdf: ChangeDetectorRef\r\n  ) {\r\n\r\n  }\r\n  /**Khởi tạo hóa đơn và merge sp của lazada vào billDetail */\r\n  initBill() {\r\n    this.invoice.date = this.pickerTime.toISOString();\r\n    this.invoice.id_employee = this.vhAuth.getUser()._id\r\n    this.employee = this.vhAuth.getlocalEmployee(this.invoice.id_employee);\r\n    this.invoice.id_branch = (this.vhQuerySales.getDefaultBranch()._id)\r\n    this.invoice.id_customer = (this.vhQuerySales.getlocalShopListLazada().find(item => item._id == this.dataRestore.id_shop_selected).data.id_customer)\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer)\r\n    this.invoice.payment_type = (2) //set bill công nợ\r\n    this.addInvoiceDetail(this.billLazada)\r\n    this.setSubTotal()\r\n    this.invoice.fee = 0\r\n    this.invoice.order_number_ecommerce = (this.billLazada['order_id'].toString())\r\n    this.invoice.id_shop = (this.dataRestore['id_shop_selected'])\r\n    this.invoice.note = (`${this.languageService.translate(\"Order number\")} Lazada ${this.billLazada.order_id}`)\r\n    for (let item of this.invoiceDetail) {\r\n      if (!item.id_product) {\r\n        this.validProdDetail = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * tính và gán lại cộng tiền (subTotal) của đơn\r\n   * @example this.setSubTotal()\r\n   */\r\n  setSubTotal() {\r\n    let subTotal = 0;\r\n    for (let i of this.invoiceDetail) {\r\n      subTotal += (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n    this.setTotal();\r\n  }\r\n\r\n  /**\r\n   * tính và gán lại tổng tiền (total) của đơn\r\n   * @example this.setTotal()\r\n   */\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount + this.invoice.fee > 0 ? this.subTotal - this.invoice.discount + this.invoice.fee : 0\r\n    this.cdf.detectChanges()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    \r\n\r\n    this.initBill()\r\n    this.eventKeypress()\r\n    let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.discount_price = this.vhAlgorithm.vhnumeral(\".discount-price\");\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral(\".invoice-fee\")\r\n    })\r\n  }\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    window.removeEventListener('beforeunload', this.closerBrower, false)\r\n  }\r\n  /**\r\n   * lắng nghe sk nhấn f1 f2 f3 f4 trên bàn phím\r\n   * @example \r\n   */\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113) event.preventDefault();\r\n      switch (keycode) {\r\n        case 112: this.payInvoice(false)\r\n          break;\r\n        case 113: {\r\n          if (this.checkPrinter) this.payInvoice(true)\r\n          break;\r\n        }\r\n        case 114: {\r\n          this.searchProductList = !this.searchProductList;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    //sự kiện f5, close tab...\r\n    this.closerBrower = (event: BeforeUnloadEvent) => {\r\n      (event || window.event).returnValue = 'Changes you made may not be saved';\r\n      return 'Changes you made may not be saved';\r\n    }\r\n    window.addEventListener('beforeunload', this.closerBrower)\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  /**\r\n   * trở về trang phát hành hóa đơn lazada\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.vhComponent.alertConfirm(`${this.languageService.translate(\"Confirm\")}`, \"\", `${this.languageService.translate(\"Bạn muốn thoát và không lưu đơn này\")}?`, \"OK\", this.languageService.translate('Cancel'))\r\n      .then(() => { this.isExit = true; this.router.navigate([\"/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods\"], { state: { dataRestore: this.dataRestore } }) }, () => { })\r\n  }\r\n  // -------set employee-------\r\n  /**\r\n   * nhận sk ouput từ component app-staff bắt sk thay đổi nv\r\n   * @param event : id_employee thay đổi\r\n   * @example this.closeAndReceiveEmployee('DNHWIUYGBDGUIWQYGD&W')\r\n   */\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.id_employee = (event);\r\n    }\r\n  }\r\n  /**\r\n   * bắt sk thay đổi date của hóa đơn , gán lại giá trị date mới cho đơn\r\n   * @example this.setPickerTime('2023-06-12T08:02:27.697Z')\r\n   */\r\n  setPickerTime(event) {\r\n    if (event.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 8000)\r\n      this.pickerTime = new Date(this.invoice.date)\r\n      this.invoice.date = (this.pickerTime.toISOString());\r\n    }\r\n    else\r\n      this.vhQuerySales.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n        \r\n        if (validitydate == null) this.invoice.date = (event);\r\n        else {\r\n          this.pickerTime = new Date(this.invoice.date)\r\n          this.invoice.date = (this.pickerTime.toISOString());\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n        }\r\n      })\r\n  }\r\n  discount_price: any;\r\n  /**\r\n   * bắt sk thay đổi giảm giá của hóa đơn , gán lại giá trị giảm giá mới cho đơn\r\n   * @example this.editDiscount()\r\n   */\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0) {\r\n      this.invoice.discount = (parseFloat(this.discount_price.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.discount;\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n    this.setTotal()\r\n  }\r\n  invoice_fee: any;\r\n  /**\r\n  * bắt sk thay đổi phí của hóa đơn , gán lại giá trị phí mới cho đơn\r\n  * @example this.editFee()\r\n  */\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.fee = (parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.fee;\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  /**\r\n   * so sánh subtotal trước khi tạo bill để chắc chắn có thay đổ bill_detail thì vẫn đúng số liệu\r\n   * @returns boolean \r\n   * @example let bool = this.compareSubTotal()\r\n   */\r\n  compareSubTotal() {\r\n    let sub = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n    if (sub == this.subTotal) return true\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * trả về danh sách bill_detail đã format theo đúng chuẩn các trường để lưu DB\r\n   * @returns array bill_detail\r\n   * @example let bill_details = getCreateUpdateInvoiceDetail()\r\n   */\r\n  getCreateUpdateInvoiceDetail(): VhReturnLazadaInvoiceDetail[] {\r\n    return this.invoiceDetail.map(item => {\r\n\r\n      let detail: VhReturnLazadaInvoiceDetail = {\r\n        id_product: item.id_product,\r\n        ptype: item.ptype,\r\n        price: item.price,\r\n        quantity: item.quantity,\r\n        ratio: item.ratio,\r\n      }\r\n      if (item.id_lotproduct) detail['id_lotproduct'] = item.id_lotproduct\r\n      if (item.id_subproduct) detail['id_subproduct'] = item.id_subproduct\r\n      if (item.price < item.price_origin) detail['price_origin'] = item.price_origin\r\n      if (item.price == item.price_origin) detail['price_origin'] = item.price\r\n\r\n      if (item.ptype == 5) {\r\n        detail['combos'] = item.combos.map(combo => {\r\n          let product: VhReturnLazadaInvoiceDetailCombo = {\r\n            id_product: combo.id_product,\r\n            price: combo.price,\r\n            quantity: combo.quantity,\r\n            ptype: combo.ptype,\r\n            ratio: combo.ratio ? combo.ratio : 1,\r\n          }\r\n          if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n          if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n          return product;\r\n        })\r\n      }\r\n      return detail\r\n\r\n    }).filter(item => item)\r\n\r\n  }\r\n  save_enable = true;\r\n  /**\r\n   * bắt sk nhấn nút thanh toán hóa đơn\r\n   * @param print biến check in hay ko\r\n   * @example this.payInvoice('print')\r\n   */\r\n  payInvoice(print?) {\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (this.compareSubTotal()) {\r\n        this.vhComponent.alertConfirm(\r\n          !print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`,\r\n          \"\", \"\", \"OK\", this.languageService.translate(\"Cancel\")\r\n        )\r\n          .then(() => {\r\n\r\n            if (this.save_enable) {\r\n              this.save_enable = false;\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.createOrUpdate(3).then((bill: any) => {\r\n                  this.save_enable = true;\r\n\r\n                  let update = async () => await\r\n                    this.vhQuerySales.updateSalesOrderLazada(this.dataRestore['id_shop_selected'], this.billLazada['order_id'].toString(), { id_bill_received_goods: bill._id })\r\n                  update()\r\n\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.vhComponent.showToast(2000,\r\n                      `${this.languageService.translate(\"Issue invoice\")} ${this.languageService.translate(\"Successfully\").toLocaleLowerCase()}`, \"success-toast\"\r\n                    )\r\n                    if (print) this.handlePrint()\r\n                    else this.handle(true)\r\n                  })\r\n                }).catch(err => { this.vhComponent.hideLoading(0); this.vhComponent.showToast(2000, err) })\r\n              })\r\n            }\r\n          }, () => { })\r\n\r\n      } else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"The total price of the product is not equal to the subtotal\"))\r\n\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n  /**\r\n   * tạo bill lên DB\r\n   * @returns Promise<any>\r\n   * @example  this.createOrUpdate()\r\n   * .then((bill: any) => { \r\n   *  \r\n   * })\r\n   */\r\n  createOrUpdate(bill_type: 3) {\r\n    return new Promise((resolve, reject) => {\r\n      this.vhQuerySales.createBill_Billdetail({ ...this.invoice }, this.getCreateUpdateInvoiceDetail()).then(res => resolve(res)).catch(err => reject(err))\r\n    })\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trờ về trang phát hành hóa đơn sau khi đã thanh toán xong\r\n   * @example this.handle(true)\r\n   */\r\n  handle(update?: boolean) {\r\n    this.isExit = true;\r\n    if (update) this.dataRestore['update'] = true\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods'], { state: { dataRestore: this.dataRestore } })\r\n  }\r\n\r\n  /**\r\n   * kiểm tra dữ liệu thông tin máy in và mở component in\r\n   * @example this.handlePrint()\r\n   */\r\n  handlePrint() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer, invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.handle(true))\r\n        })\r\n    }, (err) => this.handle(true))\r\n  }\r\n  // ------thoát trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n\r\n\r\n  searchProductList: boolean = false;\r\n  /**Phần thêm sản phẩm bổ sung\r\n  * Note : không tính tiền sản phẩm này\r\n  * @param data sản phẩm được chọn\r\n  * @example this.closeSearchProductList(data_product)\r\n  */\r\n  closeSearchProductList(data) {\r\n    if (data) {\r\n      if (data.manylot && !data.id_lotproduct) this.openModalChooseLot(data)\r\n      else\r\n        if (data.combos && data.combos.filter(e => e.lots && !e.id_lotproduct).length) {\r\n          this.tempDetail = data;\r\n          this.show_modal_select_lots_combo = true;\r\n        }\r\n        else\r\n          this.addInvoiceDetailExtraEcommerce(data);\r\n    }\r\n    this.searchProductList = false;\r\n  }\r\n\r\n  /**\r\n   * thêm sp vô mảng invoice_detail \r\n   * @param value \r\n   * @example  this.addInvoiceDetailExtraEcommerce(data_product);\r\n   */\r\n  addInvoiceDetailExtraEcommerce(value: any) {\r\n\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == value['_id'] && detail['free'])\r\n    if (index != -1) {\r\n      if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n    } else {\r\n      let detail: any = {\r\n        name: value.name,\r\n        id_product: value._id,\r\n        quantity: 1,\r\n        ptype: value.type,\r\n        unit: value.unit,\r\n        units: value.units,\r\n        ratio: value.ratio,\r\n        price: 0,\r\n        price_origin: value.price,\r\n        id_category: value.id_category,\r\n        free: true, //nếu có trường này thì được quyền chỉnh số lượng\r\n        id_subproduct: value.id_subproduct,\r\n        lots: value.lots,\r\n        id_lotproduct: value.id_lotproduct,\r\n      }\r\n\r\n      if (value.type == 5) {\r\n        detail['subComboName'] = value.subComboName\r\n        detail['combos'] = [...value.combos.map(item => {\r\n          let product: any = {\r\n            id_product: item.id_product, name: item.name, ptype: item.type,\r\n            price: 0, quantity: item.quantity, id_subproduct: item.id_subproduct,\r\n            lots: item.lots,\r\n            id_lotproduct: item.id_lotproduct, units: item.units, ratio: item.ratio,\r\n            free: true//nếu có trường này thì được quyền chỉnh số lượng\r\n          }\r\n          return product;\r\n        })]\r\n      }\r\n\r\n      this.invoiceDetail.unshift(detail)\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi quantity của bill_detail\r\n   * @param product bill-detail được chọn\r\n   * @param event số lượng thay đổi\r\n   * @example this.checkQuantityProduct(product, 1)\r\n   */\r\n  checkQuantityProduct(product: VhReturnLazadaInvoiceDetail, event) {\r\n    if (!event) product.quantity = 1;\r\n    else product.quantity = event\r\n    this.setSubTotal();\r\n    this.cdf.detectChanges()\r\n  }\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhReturnLazadaInvoiceDetail;\r\n  /**\r\n   * mở modal chỉnh sửa giá bán của bill_detail\r\n   * @param detail \r\n   * @example this.openEditUnitPrice(bill_detail)\r\n   */\r\n  openEditUnitPrice(detail: VhReturnLazadaInvoiceDetail) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  /**\r\n   * bắt sk nhấn nút ok của modal chỉnh sửa giá bán\r\n   * @example this.handleEditUnit()\r\n   */\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.isVisibleEditUnitPrice = false;\r\n      this.setSubTotal()\r\n    } else { this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  /**\r\n   * bắt sk nhấn nút xóa bill-detail\r\n   * @param detail \r\n   * @example this.deleteGoods(bill-detail)\r\n   */\r\n  deleteGoods(detail: VhReturnLazadaInvoiceDetail) {\r\n    this.vhComponent.alertConfirm(\"\", \"\", `${this.languageService.translate(\"Delete\")} ${detail.name}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => this.removeInvoiceDetail(detail.id_product), () => { })\r\n  }\r\n\r\n  /**\r\n   * xóa bill-detail trong mảng local invoice_detail\r\n   * @param id \r\n   * @example this.removeInvoiceDetail(bill_detail.id_product)\r\n   */\r\n  removeInvoiceDetail(id: string) {\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == id)\r\n    if (index != -1) {\r\n      this.invoiceDetail.splice(index, 1);\r\n      this.setSubTotal()\r\n    }\r\n  }\r\n  /**\r\n   * Thêm sản phẩm đã bán vào cart\r\n   * Công thức tính free ship max = 4,5% * (giá trị sp - giá trị NBH tài trợ) * 1.1 (tối đa 16.5k trên 1sp)\r\n   * Phí thanh toán = 2.002% x (giá sản phẩm – chi phí nhà bán hàng tài trợ + phí vận chuyển trả bởi khách hàng)\r\n   */\r\n  addInvoiceDetail(billLazada: any) {\r\n    let order_items: Array<any> = billLazada.order_items.filter(e => e.reason || e.status == \"shipped_back_success\")\r\n    let freeShipMax: number = 0\r\n    let paymet_fee: number = 0\r\n    let products: Array<any> = this.vhQuerySales.getlocalDetailProducts(VhType.PRODUCT).filter(e => !e.delete_hidden).filter(item => item[this.id_branch] && item[this.id_branch].lazadas && item[this.id_branch].lazadas.length >= 0)\r\n    for (let order_item of order_items) {\r\n      paymet_fee += parseFloat((0.02002 * (order_item.item_price - order_item.voucher_seller + order_item.shipping_amount)).toFixed(2))\r\n      freeShipMax += parseFloat((0.045 * (order_item.item_price - order_item.voucher_seller) * 1.1).toFixed(2))\r\n      let findSuccess: boolean = false;\r\n      for (let productApp of products) {\r\n        for (let productLazada of productApp[this.id_branch].lazadas) {\r\n          let findProd = productLazada.skus.find(sku => sku.SkuId == order_item.sku_id)\r\n          if (findProd) {\r\n            findSuccess = true;\r\n            this.addInvoiceDetailLazada(order_item.item_price, productApp, true)\r\n            break;\r\n          }\r\n        }\r\n        if (findSuccess) break;\r\n      }\r\n      if (!findSuccess) {\r\n        this.addInvoiceDetailLazada(order_item.item_price, { name: order_item.name }, false)\r\n        this.validProdDetail = false\r\n      }\r\n\r\n    }\r\n    let fee = parseFloat(freeShipMax.toFixed(2))\r\n    this.invoice.discount = ((fee > 16500 ? 16500 : fee) + parseFloat(paymet_fee.toFixed(2)) + billLazada.shipping_fee_discount_seller)\r\n  }\r\n  /**\r\n  * \r\n  * @param price \r\n  * @param product \r\n  * @param exist \r\n  * @example addInvoiceDetailLazada(price_on_lazada, product, false)\r\n  */\r\n  addInvoiceDetailLazada(price, product, exist) {\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == product['_id'] && product['_id'] != null)\r\n    if (index != -1) {\r\n      if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n    }\r\n    else {\r\n      if (exist) {\r\n        this.invoiceDetail.unshift({\r\n          name: product.name,\r\n          id_product: product._id,\r\n          quantity: 1,\r\n          ptype: product.type,\r\n          unit: product.unit,\r\n          ratio: 1,\r\n          units: product.units,\r\n          price: price,\r\n          price_origin: product.price_origin || null,\r\n          id_subproduct: product.id_subproduct,\r\n          lots: product.lots,\r\n          id_lotproduct: product.id_lotproduct,\r\n\r\n          free: false //nếu có trường này true thì được quyền chỉnh số lượng\r\n        })\r\n      } else {\r\n        this.invoiceDetail.unshift({\r\n          id_product: null,\r\n          quantity: 1,\r\n          price: price,\r\n          ptype: 1,\r\n\r\n          ratio: 1,\r\n          name: product.name\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  warning_lot_expried: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried\r\n  /**\r\n  * trả về tên unit của sp\r\n  * @param units mảng units của sp\r\n  * @param ratio ratio được chọn\r\n  * @returns string\r\n  * @example let unit_name = this.getUnit([], 1)\r\n  */\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units, ratio).unit\r\n  }\r\n\r\n  show_modal_select_lots = false;\r\n  list_search_lot = [];\r\n\r\n  /**\r\n   * trả về số lô của sp\r\n   * @param lots mảng lots của sp\r\n   * @param _id id của lô đã chọn\r\n   * @returns string\r\n   * @example let lot_name = this.getLotNumber([], 'SQOIUGDHBUWYGBDUEYTFTQ')\r\n   */\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  /**\r\n   * tìm kiếm lô theo tên lô\r\n   * @param value \r\n   * @example this.searchLot('') \r\n   */\r\n  searchLot(value) {\r\n    this.tempDetail.lots = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.list_search_lot, ['lot_number'])\r\n  }\r\n  /**\r\n   * mở modal chọn lô sp\r\n   * @param data bill-detail được chọn\r\n   * @example this.openModalChooseLot(data)\r\n   */\r\n  openModalChooseLot(data) {\r\n    this.tempDetail = data\r\n    this.list_search_lot = this.tempDetail.lots\r\n    if (!this.list_search_lot.length) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Sản phẩm này không có lô khả dụng để bán!\"))\r\n    else this.show_modal_select_lots = true;\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi id_lotnumber của bill-detail\r\n   * @param e id_lotnumber thay đổi\r\n   * @example this.changeLot('DNIUHWIDCHBIQOHSDOIHW')\r\n   */\r\n  changeLot(e) {\r\n    this.tempDetail.lot_number = this.tempDetail.lots.find(item => item._id == e).lot_number\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút ok của modal chọn lô sp\r\n   * @example this.handleChooseLot()\r\n   */\r\n  handleChooseLot() {\r\n    if (this.warning_lot_expried) {\r\n      let lot_select = this.list_search_lot.find(e => e._id == this.tempDetail.id_lotproduct)\r\n      if (new Date().getTime() >= new Date(lot_select.date_exp).getTime()) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Lô này đã hết hạn! Tiếp tục bán sản phẩm này?\"),\r\n          nzOnOk: () => {\r\n            this.show_modal_select_lots = false;\r\n            this.tempDetail.lots = this.list_search_lot;\r\n            if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n          },\r\n          nzOnCancel: () => {\r\n            // this.show_modal_select_lots = false;\r\n            // this.tempDetail.lots = this.list_search_lot;\r\n          }\r\n\r\n        })\r\n      }\r\n      else {\r\n        this.show_modal_select_lots = false;\r\n        this.tempDetail.lots = this.list_search_lot;\r\n        if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n      }\r\n    }\r\n    else {\r\n      this.show_modal_select_lots = false;\r\n      this.tempDetail.lots = this.list_search_lot;\r\n      if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút hủy modal chọn lô sp\r\n   * @example this.handleCancelChooseLot()\r\n   */\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.tempDetail.lots = this.list_search_lot\r\n  }\r\n\r\n  show_modal_select_lots_combo = false;\r\n  /** bắt sk nhấn nút ok modal chọn lô sp là combo\r\n   * @example this.handleChooseLotCombo()\r\n   */\r\n  handleChooseLotCombo() {\r\n    if (this.tempDetail.combos.filter(item => item.lots && !item.id_lotproduct).length)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Vui lòng chọn lô cho sản phẩm thuộc combo này\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{\"Order number\" | translate}}: <a target=\"_blank\"\r\n                            href=\"https://sellercenter.lazada.vn/apps/order/detail?spm=a1zawf.20980230.order_table_1.1.77a14edf58FSge&tradeOrderId={{billLazada.order_id}}\">{{billLazada.order_id}}</a></b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"searchProductList =true\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search (F4)' | translate}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoiceDetail\">\r\n                    <div nz-row>\r\n                        <div (click)=\"deleteGoods(item)\" nz-col nzSpan=\"1\">\r\n                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <p class=\"invoiceDetail-item-name\">\r\n                                <span class=\"invoiceDetail-item-name-linked\"\r\n                                    *ngIf=\"item.id_product\">{{item.name}}</span>\r\n                                    <ng-container *ngIf=\"item.lots\">\r\n                                        <span *ngIf=\"item.id_lotproduct\" style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(item)\">{{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n                                            <span *ngIf=\"!item.id_lotproduct\" style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(item)\">{{'Select lot' | translate}}</span>\r\n                                    </ng-container>\r\n                                    <span *ngFor=\"let combo of item.combos;index as i\"\r\n                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                    {{ i == item.combos.length-1 ? combo.quantity + 'x ' +\r\n                                    combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') ' :\r\n                                    combo.quantity + 'x ' + combo.name + ' (' +\r\n                                    getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                                    <ng-container *ngIf=\"combo.id_lotproduct\">\r\n                                        <span style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(combo)\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</span>\r\n                                    </ng-container>\r\n                                </span>\r\n                                <span *ngIf=\"!item.id_product\">{{item.name}}\r\n                                    <span class=\"invoiceDetail-item-name-notlinked\">({{\"The products have not been linked\" | translate}})</span></span>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"5\" style=\"text-align: right;\">\r\n                            <nz-input-number (ngModelChange)=\"checkQuantityProduct(item,$event)\"\r\n                                [(ngModel)]=\"item.quantity\" [nzMin]=\"0.1\">\r\n                            </nz-input-number>\r\n                        </div>\r\n                        <div (click)=\"openEditUnitPrice(item)\" class=\"invoiceDetail-item-price text-end\" nz-col\r\n                            nzSpan=\"5\">\r\n                            <p class=\"max-width-two-line\" style=\"border-bottom: 1px var(--ion-color-vh-gray) solid;\r\n              margin-left: 16px;\">\r\n                                <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                <del style=\"margin-left:5px;font-size: 0.8rem;\">\r\n                                    {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) :\r\n                                    ''}}\r\n                                </del>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"5\" style=\"text-align: right;\">\r\n                            <p class=\"max-width-two-line\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.id_employee\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\" class=\"sales-bills-customer-info\" nz-row>\r\n                    <b style=\"width: 100%;margin-bottom: 12px;\">{{'Customer information' | translate}}</b>\r\n                    <div class=\"sales-bills-customer-info-name\">\r\n                        {{customer.name}}\r\n                    </div>\r\n                    <div class=\"sales-bills-customer-info-phone\">\r\n                        {{customer.phone}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Platform fee' | translate}}<i\r\n                            style=\"font-size: 0.9rem;color: var(--ion-color-vh-red);;margin-left: 4px;\"\r\n                            nzTooltipTitle=\"{{'Vui lòng kiểm tra phí sàn chính xác trước khi phát hành hóa đơn'}}\"\r\n                            nzTooltipPlacement=\"top\" nz-tooltip nz-icon nzType=\"exclamation-circle\"\r\n                            nzTheme=\"outline\"></i></div>\r\n                    <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.discount)\"\r\n                        class=\"nz-no-border discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.fee)\"\r\n                        class=\"nz-no-border invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Pay' | translate}}</b></div>\r\n                    <div> <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div><b> {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total - invoice.payment)}}</b></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"invoice.note\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!validProdDetail || !checkPrinter\" (click)=\"payInvoice(true)\" nz-button\r\n                    class=\"order-and-print\">\r\n                    {{\"Save & Print\"|translate}} (F2)\r\n                </button>\r\n                <button [disabled]=\"!validProdDetail\" (click)=\"payInvoice(false)\" nz-button class=\"order\">\r\n                    {{\"Save\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<!-- search sp -->\r\n<!-- -----nz-drawer list-product-------- -->\r\n<app-search-product *ngIf=\"searchProductList\" [searchProductList]=\"searchProductList\"\r\n    (closeSearchProductList)=\"closeSearchProductList($event)\" [default_price_type]=\"1\">\r\n</app-search-product>\r\n\r\n\r\n<!--Modal edit unit price-->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice\" *ngIf=\"isVisibleEditUnitPrice\" [(nzVisible)]=\"isVisibleEditUnitPrice\"\r\n    nzTitle=\"{{'Edit unit price' | translate}}\" (nzOnCancel)=\"isVisibleEditUnitPrice = false\"\r\n    (nzOnOk)=\"handleEditUnit()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Unit price' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input class=\"unit_price\" type=\"text\" maxlength=\"15\" [value]=\"tempDetail.price\" nz-input\r\n                    placeholder=\"{{'Enter unit price' | translate}}\" />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"isVisibleEditUnitPrice = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditUnit()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- modal chọn lô/HSD -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue\r\n                    (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"tempDetail.id_lotproduct\" (ngModelChange)=\"changeLot($event)\" style=\"width:100%;\">\r\n            <div nz-row *ngFor=\"let item of tempDetail.lots\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"8\">\r\n                                {{item.lot_number}}\r\n                            </div>\r\n\r\n                            <div nz-col nzSpan=\"8\">\r\n                                NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"8\">\r\n                                HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </label>\r\n                </div>\r\n\r\n            </div>\r\n        </nz-radio-group>\r\n        <div *ngIf=\"!tempDetail.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" [disabled]=\"!tempDetail.id_lotproduct\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal  nzWidth=\"70vw\"  *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\"\r\n    [(nzVisible)]=\"show_modal_select_lots_combo\"\r\n    nzTitle=\"{{'Select lot number for products in combo' | translate}}: {{tempDetail.name}}\"\r\n    (nzOnCancel)=\"show_modal_select_lots_combo = false\" (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail.combos\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <th>{{'Lot number' | translate}}</th>\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n                    <ng-container *ngIf=\"data.lots\">\r\n\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                    [(ngModel)]=\"data.id_lotproduct\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\"  nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\"\r\n                                        [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td>\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"show_modal_select_lots_combo = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddComponent } from './add/add.component';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { ComponentsModule } from 'src/app/sales/sale-desktop/components/components.module';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SearchModule } from '../../../search/search.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddComponent,\r\n    EditComponent,\r\n    DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    SearchModule\r\n  ],\r\n  exports: [AddComponent,\r\n    EditComponent,\r\n    DetailComponent]\r\n})\r\nexport class BillType3LazadaModule { }\r\n"," \r\n\r\n\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { SalesK57Col3Component } from 'src/app/sales/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/sales/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { VhReturnLazadaInvoiceEdit, VhReturnLazadaInvoiceDetail } from '../lazada-interface';\r\n\r\n@Component({\r\n  selector: 'bill-type3-lazada-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent   {\r\n  tableHeight: string;\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  billLazada: any = this.router.getCurrentNavigation().extras.state.billLazada\r\n  public invoiceInfo: any;\r\n  public invoice: VhReturnLazadaInvoiceEdit = null;\r\n  invoice_detail : VhReturnLazadaInvoiceDetail[]\r\n  subTotal = 0;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private lang: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.id)\r\n\r\n     \r\n  }\r\n\r\n  /**\r\n   * gán bill và bill-detail get được vào biến và get các thông tin của nv, khách hàng, phương thức thanh toán\r\n   * @example this.init(bill, bill-deails)\r\n   */\r\n  init(invoice: VhReturnLazadaInvoiceEdit = null, invoiceDetail: VhReturnLazadaInvoiceDetail[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      } \r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu bill từ DB\r\n   * @param id : nhận từ state truyền qua\r\n   * @example this.getDataInvoice('DHIWHNXDIWODUHIWDHOWID')\r\n   */\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n        if (!invoiceDetail.length)\r\n          this.init(invoice, [])\r\n        else {\r\n          invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n          this.init(invoice, invoiceDetail)\r\n        }\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n  /**\r\n   * tính cộng tiền hóa đơn\r\n   * @example this.setSubTotal()\r\n   */\r\n  setSubTotal() {\r\n    let subTotal = 0;\r\n    for (let i of this.invoice_detail) {\r\n      subTotal +=  (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n    this.setTotal();\r\n  }\r\n  /**\r\n   * tính tổng tiền hóa đơn\r\n   * @example this.setTotal()\r\n   */\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount + this.invoice.fee > 0 ? this.subTotal - this.invoice.discount + this.invoice.fee : 0\r\n   \r\n  } \r\n  /**\r\n   * trả về tên phương thức thanh toán\r\n   * @param type \r\n   * @returns string\r\n   * @example this.setPaymentName(1)\r\n   */\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.lang.translate(\"Cash\")\r\n      case 2: return this.lang.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n  /**\r\n   * trả về tên unit của sản phẩm theo ratio truyền vào\r\n   * @param units \r\n   * @param ratio \r\n   * @returns string\r\n   * @example let unit_name = this.getUnit([object], 1)\r\n   */\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units,ratio).unit\r\n  }\r\n\r\n  /**\r\n   * trả về chuỗi thông tin lô theo id lô truyền vào\r\n   * @param lots \r\n   * @param _id \r\n   * @returns string\r\n   * @example let lot = this.getLotNumber([], 'DNIWUHNDKLJWHDIWUOH')\r\n   */\r\n  getLotNumber(lots, _id){\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' +  this.fncService.formatDate(lot.date_exp)\r\n  } \r\n  /**\r\n   * trả về chuỗi thông tin địa chỉ của customer\r\n   * @param partner \r\n   * @returns string\r\n   * @example let addr = this.renderAddress(customer_info)\r\n   */\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  /**\r\n   * kiểm tra thông tin dữ liệu trang in và mở component in\r\n   * @example this.printInvoice()\r\n   */\r\n  printInvoice() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer , invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`)\r\n    }, (err) => {\r\n      let name :any= 'Sales'\r\n      this.vhComponent.alertMessage(this.lang.translate(\"Function\"), \"\", this.lang.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/sales/dashboard/manage/printer','page_desktop_sales'],{state : name}))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n  /**\r\n   * trở về trang phát hành hóa đơn lazada\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods'], { state: { dataRestore: this.dataRestore } });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById('sales-invoice-detail-today') && document.querySelector(\".sales-cart-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.getElementById('sales-invoice-detail-today').clientHeight - document.querySelector(\".sales-cart-header\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * router trang cập nhật phát hành hóa đơn lazada\r\n   * @example this.goToCart()\r\n   */\r\n  public goToCart() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/edit'], { state: { dataRestore: this.dataRestore, invoiceDetail: this.invoice_detail, invoice: this.invoice, billLazada: this.billLazada } })\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout id=\"sales-invoice-detail-today\" *ngIf=\"invoice\">\r\n    <div class=\"sales\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{'Issue invoice' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <div>\r\n                        <button (click)=\"goToCart()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <span nz-icon nzType=\"edit\" nzTheme=\"outline\"></span>\r\n                            {{'Edit' | translate}}\r\n                        </button>\r\n                    </div>\r\n                    <div style=\"margin-left:4px\">\r\n                        <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border center-all-content\" nz-button\r\n                            nzType=\"default\">\r\n                            <span nz-icon nzType=\"printer\" nzTheme=\"outline\"></span>\r\n                            {{'Print' | translate}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\">\r\n                    <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail || []\" #rowSelectionTable\r\n                        nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                                <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                                <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                                <td>{{item.name}} <br>\r\n                                    <ng-container *ngIf=\"item.lots\">\r\n                                        <pre>{{getLotNumber(item.lots, item.id_lotproduct)}}</pre>\r\n                                    </ng-container>\r\n                                    <ng-container *ngIf=\"item.ptype == 5\">\r\n                                        <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">{{combo.quantity}}x\r\n                                            {{combo.name}}\r\n                                            ({{getUnit(combo.units,combo.ratio)}}), </span><br>\r\n                                    </ng-container>\r\n                                </td>\r\n                                <td nzAlign='center'>\r\n                                    {{getUnit(item.units, item.ratio)}}\r\n                                </td>\r\n                                <td nzAlign='center'>{{item.quantity}}</td>\r\n                                <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                                    <del style=\"font-size: 0.7rem;\">\r\n                                        {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin)\r\n                                        : ''}}\r\n                                    </del>\r\n                                </td>\r\n                                <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </nz-table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills not-continue-sell\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div>\r\n                    <b>{{'Invoice code' | translate}}</b>\r\n                    <div> {{invoice.bill_code}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Salesman' | translate}}</b>\r\n                    <div>{{invoiceInfo.employee.name}}</div>\r\n                </div>\r\n                <div>\r\n                    <b>{{'Sales date' | translate}}</b>\r\n                    <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n                <b>{{'Customer information' | translate}}</b>\r\n                <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n                </div>\r\n                <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n                    {{renderAddress(invoiceInfo.partner)}}\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <span>{{'SubTotal' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Discount' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Fee' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                </div>\r\n                <!-- <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n            <span>{{'Tax' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n            <div>\r\n              {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n          </div> -->\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Total' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Pay' | translate}}</span>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Rest' | translate}}</span>\r\n                    <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total -\r\n                        invoice.payment)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Payment method' | translate}}</span>\r\n                    <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <span>{{'Note' | translate}}</span>\r\n                    <div>{{invoice.note}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>"," \r\n \r\n\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Observable } from 'rxjs';\r\nimport { SalesK57Col3Component } from 'src/app/sales/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from 'src/app/sales/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhReturnLazadaInvoiceEdit, VhReturnLazadaInvoiceDetail, VhReturnLazadaInvoiceDetailCombo } from '../lazada-interface';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'bill-type3-lazada-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n}) \r\nexport class EditComponent implements OnInit {\r\n  invoice: VhReturnLazadaInvoiceEdit = this.router.getCurrentNavigation().extras.state.invoice\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore //nhớ dữ liệu truyền từ trang trước\r\n  billLazada: any = this.router.getCurrentNavigation().extras.state.billLazada\r\n  employee: any = {};\r\n  customer: any = {};\r\n  pickerTime = new Date();\r\n  checkPrinter: boolean = false;\r\n  closerBrower: any;\r\n  validProdDetail: boolean = true;//nếu biến này = false tức có sp lazada chưa được liên kết với app\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id\r\n  invoiceDetail = this.router.getCurrentNavigation().extras.state.invoiceDetail;\r\n  subTotal = 0;\r\n  taxValue = 0\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n    private nzModalService: NzModalService,\r\n    private cdf : ChangeDetectorRef\r\n  ) {\r\n\r\n  }\r\n  /**Khởi tạo hóa đơn và merge sp của lazada vào billDetail */\r\n  initBill() {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.invoice.id_employee);\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer)\r\n    this.setSubTotal()\r\n    this.pickerTime = new Date(this.invoice.date);\r\n  }\r\n  setSubTotal() {\r\n    let subTotal = 0;\r\n    for (let i of this.invoiceDetail) {\r\n      subTotal +=  (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n    this.setTotal();\r\n  }\r\n\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount + this.invoice.fee > 0 ? this.subTotal - this.invoice.discount + this.invoice.fee : 0\r\n    this.cdf.detectChanges()\r\n  } \r\n\r\n  ngOnInit(): void {\r\n    \r\n\r\n    this.initBill()\r\n    this.eventKeypress()\r\n    let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n    if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.discount_price = this.vhAlgorithm.vhnumeral(\".discount-price\");\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral(\".invoice-fee\")\r\n    })\r\n  }\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    window.removeEventListener('beforeunload', this.closerBrower, false)\r\n  }\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113) event.preventDefault();\r\n      switch (keycode) {\r\n        case 112: this.payInvoice(false)\r\n          break;\r\n        case 113: {\r\n          if (this.checkPrinter) this.payInvoice(true)\r\n          break;\r\n        }\r\n        case 114: {\r\n          this.searchProductList = !this.searchProductList;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    //sự kiện f5, close tab...\r\n    this.closerBrower = (event: BeforeUnloadEvent) => {\r\n      (event || window.event).returnValue = 'Changes you made may not be saved';\r\n      return 'Changes you made may not be saved';\r\n    }\r\n    window.addEventListener('beforeunload', this.closerBrower)\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n  goBack() {\r\n    this.vhComponent.alertConfirm(`${this.languageService.translate(\"Confirm\")}`, \"\", `${this.languageService.translate(\"Are you sure to cancel the sales order\")}?`, \"OK\", this.languageService.translate('Cancel'))\r\n      .then(() => { this.isExit = true; this.router.navigate([\"/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods\"], { state: { dataRestore: this.dataRestore } }) }, () => { })\r\n  }\r\n  // -------set employee-------\r\n  closeAndReceiveEmployee(event) {\r\n    if (event) {\r\n      this.invoice.id_employee = (event);\r\n    }\r\n  }\r\n  setPickerTime(event) {\r\n    if (event.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 8000)\r\n      this.pickerTime = new Date(this.invoice.date)\r\n      this.invoice.date = (this.pickerTime.toISOString());\r\n    }\r\n    else\r\n      this.vhQuerySales.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n        \r\n        if (validitydate == null) this.invoice.date = (event);\r\n        else {\r\n          this.pickerTime = new Date(this.invoice.date)\r\n          this.invoice.date = (this.pickerTime.toISOString());\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 8000)\r\n        }\r\n      })\r\n  }\r\n  discount_price: any;\r\n  editDiscount() {\r\n    if (this.discount_price.getRawValue() && this.discount_price.getRawValue() >= 0) {\r\n      this.invoice.discount = (parseFloat(this.discount_price.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"discount-price\")['value'] = this.invoice.discount;\r\n      this.discount_price = this.vhAlgorithm.vhnumeral('.discount-price');\r\n    }\r\n    this.setTotal()\r\n  }\r\n  invoice_fee: any;\r\n  editFee() {\r\n    if (this.invoice_fee.getRawValue() && this.invoice_fee.getRawValue() >= 0) {\r\n      this.invoice.fee = (parseFloat(this.invoice_fee.getRawValue()));\r\n    } else {\r\n      document.getElementById(\"invoice-fee\")['value'] = this.invoice.fee;\r\n      this.invoice_fee = this.vhAlgorithm.vhnumeral('.invoice-fee');\r\n    }\r\n    this.setTotal()\r\n  }\r\n\r\n  compareSubTotal() {\r\n    let sub = this.invoiceDetail.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n    if (sub == this.subTotal) return true\r\n    return false\r\n  }\r\n\r\n  getCreateUpdateInvoiceDetail(): VhReturnLazadaInvoiceDetail[] {\r\n    return this.invoiceDetail.map(item => {\r\n        if (!item.pmtype) {\r\n            let detail: VhReturnLazadaInvoiceDetail = {\r\n                id_product: item.id_product,\r\n                ptype: item.ptype,\r\n                price: item.price,\r\n                quantity: item.quantity,\r\n                ratio: item.ratio,\r\n            }\r\n            if (item.id_lotproduct) detail['id_lotproduct'] = item.id_lotproduct\r\n            if (item.id_subproduct) detail['id_subproduct'] = item.id_subproduct\r\n            if (item.price < item.price_origin) detail['price_origin'] = item.price_origin\r\n            if (item.price == item.price_origin) detail['price_origin'] = item.price\r\n\r\n            if (item.ptype == 5) {\r\n                detail['combos'] = item.combos.map(combo => {\r\n                    let product: VhReturnLazadaInvoiceDetailCombo = {\r\n                        id_product: combo.id_product,\r\n                        price: combo.price,\r\n                        quantity: combo.quantity,\r\n                        ptype: combo.ptype,\r\n                        ratio: combo.ratio ? combo.ratio : 1,\r\n                    }\r\n                    if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n                    if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n                    return product;\r\n                })\r\n            }\r\n            return detail\r\n        }\r\n    }).filter(item => item)\r\n\r\n}\r\n  payInvoice(print?) {\r\n    \r\n    \r\n    \r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (this.compareSubTotal()) {\r\n        this.vhComponent.alertConfirm(\r\n          !print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`,\r\n          \"\", \"\", \"OK\", this.languageService.translate(\"Cancel\")\r\n        )\r\n          .then(() => {\r\n            this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n              this.createOrUpdate(3).then((bill: any) => {\r\n\r\n\r\n                let update = async () => await\r\n                  this.vhQuerySales.updateSalesOrderLazada(this.dataRestore['id_shop_selected'], this.billLazada['order_id'].toString(), { id_bill_received_goods: bill._id })\r\n                update()\r\n\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.vhComponent.showToast(2000,\r\n                    `${this.languageService.translate(\"Issue invoice\")} ${this.languageService.translate(\"Successfully\").toLocaleLowerCase()}`, \"success-toast\"\r\n                  )\r\n                  if (print) this.handlePrint()\r\n                  else this.handle(true)\r\n                })\r\n              }).catch(err => { this.vhComponent.hideLoading(0); this.vhComponent.showToast(2000, err) })\r\n            })\r\n          }, () => { })\r\n      } else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"The total price of the product is not equal to the subtotal\"))\r\n\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n\r\n  createOrUpdate(bill_type: 3) {\r\n    return new Promise((resolve, reject) => {\r\n      this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.invoice , this.getCreateUpdateInvoiceDetail()).then(res => resolve(res)).catch(err => reject(err))\r\n    })\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  handle(update?: boolean) {\r\n    this.isExit = true;\r\n    if (update) this.dataRestore['update'] = true\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods'], { state: { dataRestore: this.dataRestore } })\r\n  }\r\n  handlePrint() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer, invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.handle(true))\r\n        })\r\n    }, (err) => this.handle(true))\r\n  }\r\n  // ------thoát trang-----\r\n  isExit: boolean = false;\r\n  checkDeactivate(currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot, nextState?: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\r\n    return nextState.url == '/login' ? true : (this.isExit ? this.isExit : this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to cancel the sales order\"), \"OK\", (this.languageService.translate(\"Cancel\"))).then(() => { return true }).catch(() => { return false }))\r\n  }\r\n  /**Phần thêm sản phẩm bổ sung\r\n   * Note : không tính tiền sản phẩm này\r\n   */\r\n  searchProductList: boolean = false;\r\n  closeSearchProductList(data) {\r\n    if (data) {\r\n      if (data.manylot && !data.id_lotproduct) this.openModalChooseLot(data)\r\n      else\r\n        if (data.combos && data.combos.filter(e => e.lots && !e.id_lotproduct).length) {\r\n          this.tempDetail = data;\r\n          this.show_modal_select_lots_combo = true;\r\n        }\r\n        else\r\n          this.addInvoiceDetailExtraEcommerce(data);\r\n    }\r\n    this.searchProductList = false;\r\n  }\r\n\r\n  addInvoiceDetailExtraEcommerce(value: any) {\r\n\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == value['_id'] && detail['free'])\r\n    if (index != -1) {\r\n      if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n    } else {\r\n      let detail: any = {\r\n        name: value.name,\r\n        id_product: value._id,\r\n        quantity: 1,\r\n        ptype: value.type,\r\n        unit: value.unit,\r\n        units: value.units,\r\n        ratio: value.ratio,\r\n        price: 0,\r\n        price_origin: value.price,\r\n        id_category: value.id_category,\r\n        free: true, //nếu có trường này thì được quyền chỉnh số lượng\r\n        id_subproduct: value.id_subproduct,\r\n        lots: value.lots,\r\n        id_lotproduct: value.id_lotproduct,\r\n      }\r\n\r\n      if (value.type == 5) {\r\n        detail['subComboName'] = value.subComboName\r\n        detail['combos'] = [...value.combos.map(item => {\r\n          let product: any = {\r\n            id_product: item.id_product, name: item.name, ptype: item.type,\r\n            price: 0, quantity: item.quantity, id_subproduct: item.id_subproduct,\r\n            lots: item.lots,\r\n            id_lotproduct: item.id_lotproduct, units: item.units, ratio: item.ratio,\r\n            free: true//nếu có trường này thì được quyền chỉnh số lượng\r\n          }\r\n          return product;\r\n        })]\r\n      }\r\n\r\n      this.invoiceDetail.unshift(detail)\r\n    }\r\n\r\n  }\r\n\r\n  checkQuantityProduct(product: VhReturnLazadaInvoiceDetail, event) {\r\n    if (!event) product.quantity = 1;\r\n    else product.quantity = event\r\n    this.setSubTotal();\r\n    this.cdf.detectChanges()\r\n  }\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhReturnLazadaInvoiceDetail;\r\n  openEditUnitPrice(detail: VhReturnLazadaInvoiceDetail) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n    });\r\n  }\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.isVisibleEditUnitPrice = false;\r\n      this.setSubTotal()\r\n    } else { this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\") }\r\n  }\r\n  deleteGoods(detail: VhReturnLazadaInvoiceDetail) {\r\n    this.vhComponent.alertConfirm(\"\", \"\", `${this.languageService.translate(\"Delete\")} ${detail.name}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => this.removeInvoiceDetail(detail.id_product), () => { })\r\n  }\r\n\r\n  removeInvoiceDetail(id: string) {\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == id)\r\n    if (index != -1) {\r\n      this.invoiceDetail.splice(index, 1);\r\n      this.setSubTotal()\r\n    }\r\n  }\r\n  /**\r\n   * Thêm sản phẩm đã bán vào cart\r\n   * Công thức tính free ship max = 4,5% * (giá trị sp - giá trị NBH tài trợ) * 1.1 (tối đa 16.5k trên 1sp)\r\n   * Phí thanh toán = 2.002% x (giá sản phẩm – chi phí nhà bán hàng tài trợ + phí vận chuyển trả bởi khách hàng)\r\n   */\r\n  addInvoiceDetail(billLazada: any) {\r\n    let order_items: Array<any> = billLazada.order_items.filter(e => e.reason  || e.status == \"shipped_back_success\")\r\n    let freeShipMax: number = 0\r\n    let paymet_fee: number = 0\r\n    let products: Array<any> = this.vhQuerySales.getlocalDetailProducts(VhType.PRODUCT).filter(e => !e.delete_hidden).filter(item => item[this.id_branch] && item[this.id_branch].lazadas && item[this.id_branch].lazadas.length >= 0)\r\n    for (let order_item of order_items) {\r\n      paymet_fee += parseFloat((0.02002 * (order_item.item_price - order_item.voucher_seller + order_item.shipping_amount)).toFixed(2))\r\n      freeShipMax += parseFloat((0.045 * (order_item.item_price - order_item.voucher_seller) * 1.1).toFixed(2))\r\n      let findSuccess: boolean = false;\r\n      for (let productApp of products) {\r\n        for (let productLazada of productApp[this.id_branch].lazadas) {\r\n          let findProd = productLazada.skus.find(sku => sku.SkuId == order_item.sku_id)\r\n          if (findProd) {\r\n            findSuccess = true;\r\n            this.addInvoiceDetailLazada(order_item.item_price, productApp, true)\r\n            break;\r\n          }\r\n        }\r\n        if (findSuccess) break;\r\n      }\r\n      if (!findSuccess) {\r\n        this.addInvoiceDetailLazada(order_item.item_price, { name: order_item.name }, false)\r\n        this.validProdDetail = false\r\n      }\r\n\r\n    }\r\n    let fee = parseFloat(freeShipMax.toFixed(2))\r\n    this.invoice.discount = ((fee > 16500 ? 16500 : fee) + parseFloat(paymet_fee.toFixed(2)) + billLazada.shipping_fee_discount_seller)\r\n  }\r\n  addInvoiceDetailLazada(price, product, exist) {\r\n    let index = this.invoiceDetail.findIndex(detail => detail['id_product'] == product['_id'] && product['_id'] != null)\r\n    if (index != -1) {\r\n      if (this.invoiceDetail[index]['quantity'] < 9999999999) this.invoiceDetail[index]['quantity'] += 1\r\n    }\r\n    else {\r\n      if (exist) {\r\n        this.invoiceDetail.unshift({\r\n          name: product.name,\r\n          id_product: product._id,\r\n          quantity: 1,\r\n          ptype: product.type,\r\n          unit: product.unit,\r\n          ratio: 1,\r\n          units: product.units,\r\n          price: price,\r\n          price_origin: product.price_origin || null,\r\n          id_subproduct: product.id_subproduct,\r\n          lots: product.lots,\r\n          id_lotproduct: product.id_lotproduct,\r\n\r\n          free: false //nếu có trường này true thì được quyền chỉnh số lượng\r\n        })\r\n      } else {\r\n        this.invoiceDetail.unshift({\r\n          id_product: null,\r\n          quantity: 1,\r\n          price: price,\r\n          ptype: 1,\r\n\r\n          ratio: 1,\r\n          name: product.name\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  warning_lot_expried: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units, ratio).unit\r\n  }\r\n\r\n  show_modal_select_lots = false;\r\n  list_search_lot = [];\r\n\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  searchLot(value) {\r\n    this.tempDetail.lots = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.list_search_lot, ['lot_number'])\r\n  }\r\n  openModalChooseLot(data) {\r\n    this.tempDetail = data\r\n    this.list_search_lot = this.tempDetail.lots\r\n    if (!this.list_search_lot.length) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Sản phẩm này không có lô khả dụng để bán!\"))\r\n    else this.show_modal_select_lots = true;\r\n  }\r\n\r\n  changeLot(e) {\r\n    this.tempDetail.lot_number = this.tempDetail.lots.find(item => item._id == e).lot_number\r\n  }\r\n\r\n  handleChooseLot() {\r\n    if (this.warning_lot_expried) {\r\n      let lot_select = this.list_search_lot.find(e => e._id == this.tempDetail.id_lotproduct)\r\n      if (new Date().getTime() >= new Date(lot_select.date_exp).getTime()) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Lô này đã hết hạn! Tiếp tục bán sản phẩm này?\"),\r\n          nzOnOk: () => {\r\n            this.show_modal_select_lots = false;\r\n            this.tempDetail.lots = this.list_search_lot;\r\n            if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n          },\r\n          nzOnCancel: () => {\r\n            // this.show_modal_select_lots = false;\r\n            // this.tempDetail.lots = this.list_search_lot;\r\n          }\r\n\r\n        })\r\n      }\r\n      else {\r\n        this.show_modal_select_lots = false;\r\n        this.tempDetail.lots = this.list_search_lot;\r\n        if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n      }\r\n    }\r\n    else {\r\n      this.show_modal_select_lots = false;\r\n      this.tempDetail.lots = this.list_search_lot;\r\n      if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n    }\r\n  }\r\n\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.tempDetail.lots = this.list_search_lot\r\n  }\r\n\r\n  show_modal_select_lots_combo = false;\r\n  handleChooseLotCombo() {\r\n    if (this.tempDetail.combos.filter(item => item.lots && !item.id_lotproduct).length)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Vui lòng chọn lô cho sản phẩm thuộc combo này\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n    <div class=\"sales hide-best-selling\">\r\n        <div class=\"sales-cart\">\r\n            <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b>{{\"Order number\" | translate}}: <a target=\"_blank\"\r\n                            href=\"https://sellercenter.lazada.vn/apps/order/detail?spm=a1zawf.20980230.order_table_1.1.77a14edf58FSge&tradeOrderId={{billLazada.order_id}}\">{{billLazada.order_id}}</a></b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n                    <div>\r\n                        <button style=\"width: 97%;\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                            (click)=\"searchProductList =true\">\r\n                            <i nz-icon nzType=\"search\" nzTheme=\"outline\"></i>\r\n                            {{'Search (F4)' | translate}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoiceDetail\">\r\n                    <div nz-row>\r\n                        <div (click)=\"deleteGoods(item)\" nz-col nzSpan=\"1\">\r\n                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                style=\"cursor: pointer;color: var(--ion-color-vh-red)\"></i>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"8\">\r\n                            <p class=\"invoiceDetail-item-name\">\r\n                                <span class=\"invoiceDetail-item-name-linked\"\r\n                                    *ngIf=\"item.id_product\">{{item.name}}</span>\r\n                                    <ng-container *ngIf=\"item.lots\">\r\n                                        <span *ngIf=\"item.id_lotproduct\" style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(item)\">{{getLotNumber(item.lots, item.id_lotproduct)}}</span>\r\n                                            <span *ngIf=\"!item.id_lotproduct\" style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(item)\">{{'Select lot' | translate}}</span>\r\n                                    </ng-container>\r\n                                    <span *ngFor=\"let combo of item.combos;index as i\"\r\n                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                    {{ i == item.combos.length-1 ? combo.quantity + 'x ' +\r\n                                    combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') ' :\r\n                                    combo.quantity + 'x ' + combo.name + ' (' +\r\n                                    getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                                    <ng-container *ngIf=\"combo.id_lotproduct\">\r\n                                        <span style=\"color:var(--ion-color-vh-green);cursor: pointer;\"\r\n                                            (click)=\"openModalChooseLot(combo)\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</span>\r\n                                    </ng-container>\r\n                                </span>\r\n                                <span *ngIf=\"!item.id_product\">{{item.name}}\r\n                                    <span class=\"invoiceDetail-item-name-notlinked\">({{\"The products have not been linked\" | translate}})</span></span>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"5\" style=\"text-align: right;\">\r\n                            <nz-input-number (ngModelChange)=\"checkQuantityProduct(item,$event)\"\r\n                                [(ngModel)]=\"item.quantity\" [nzMin]=\"0.1\">\r\n                            </nz-input-number>\r\n                        </div>\r\n                        <div (click)=\"openEditUnitPrice(item)\" class=\"invoiceDetail-item-price text-end\" nz-col\r\n                            nzSpan=\"5\">\r\n                            <p class=\"max-width-two-line\" style=\"border-bottom: 1px var(--ion-color-vh-gray) solid;\r\n              margin-left: 16px;\">\r\n                                <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                <del style=\"margin-left:5px;font-size: 0.8rem;\">\r\n                                    {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) :\r\n                                    ''}}\r\n                                </del>\r\n                            </p>\r\n                        </div>\r\n                        <div nz-col nzSpan=\"5\" style=\"text-align: right;\">\r\n                            <p class=\"max-width-two-line\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"sales-bills\">\r\n            <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div class=\"sales-bills-staff-name\">\r\n                        <b>{{'Salesman' | translate}}</b>\r\n                        <app-staff [id_employee]=\"invoice.id_employee\"\r\n                            (closeAndReceiveEmployee)=\"closeAndReceiveEmployee($event)\"></app-staff>\r\n                    </div>\r\n                    <div class=\"sales-bills-staff-time\" nz-col nzSpan=\"24\">\r\n                        <b>{{'Sales date' | translate}}</b>\r\n                        <nz-date-picker [(ngModel)]=\"pickerTime\" (ngModelChange)=\"setPickerTime($event)\" nzBorderless\r\n                            nzShowTime style=\"text-align-last: right;\" nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-customer hideScrollbar\">\r\n                <div nz-col nzSpan=\"24\" class=\"sales-bills-customer-info\" nz-row>\r\n                    <b style=\"width: 100%;margin-bottom: 12px;\">{{'Customer information' | translate}}</b>\r\n                    <div class=\"sales-bills-customer-info-name\">\r\n                        {{customer.name}}\r\n                    </div>\r\n                    <div class=\"sales-bills-customer-info-phone\">\r\n                        {{customer.phone}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n                <b>{{'Payment information' | translate}}</b>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Platform fee' | translate}}<i\r\n                            style=\"font-size: 0.9rem;color: var(--ion-color-vh-red);;margin-left: 4px;\"\r\n                            nzTooltipTitle=\"{{'Vui lòng kiểm tra phí sàn chính xác trước khi phát hành hóa đơn'}}\"\r\n                            nzTooltipPlacement=\"top\" nz-tooltip nz-icon nzType=\"exclamation-circle\"\r\n                            nzTheme=\"outline\"></i></div>\r\n                    <input (blur)=\"editDiscount()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.discount)\"\r\n                        class=\"nz-no-border discount-price\" type=\"text\" maxlength=\"15\" id=\"discount-price\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Fee' | translate}}</div>\r\n                    <input (blur)=\"editFee()\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice.fee)\"\r\n                        class=\"nz-no-border invoice-fee\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\" nz-input />\r\n                </div>\r\n                <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n                </div>\r\n                <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Pay' | translate}}</b></div>\r\n                    <div> <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div><b> {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total - invoice.payment)}}</b></div>\r\n                </div>\r\n                <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n                    <textarea class=\"nz-hover-border\" [(ngModel)]=\"invoice.note\" nz-input\r\n                        placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\"></textarea>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"sales-bills-button\">\r\n                <button [disabled]=\"!validProdDetail || !checkPrinter\" (click)=\"payInvoice(true)\" nz-button\r\n                    class=\"order-and-print\">\r\n                    {{\"Save & Print\"|translate}} (F2)\r\n                </button>\r\n                <button [disabled]=\"!validProdDetail\" (click)=\"payInvoice(false)\" nz-button class=\"order\">\r\n                    {{\"Save\"|translate}} (F1)</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<!-- search sp -->\r\n<!-- -----nz-drawer list-product-------- -->\r\n<app-search-product *ngIf=\"searchProductList\" [searchProductList]=\"searchProductList\"\r\n    (closeSearchProductList)=\"closeSearchProductList($event)\" [default_price_type]=\"1\">\r\n</app-search-product>\r\n\r\n\r\n<!--Modal edit unit price-->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice\" *ngIf=\"isVisibleEditUnitPrice\" [(nzVisible)]=\"isVisibleEditUnitPrice\"\r\n    nzTitle=\"{{'Edit unit price' | translate}}\" (nzOnCancel)=\"isVisibleEditUnitPrice = false\"\r\n    (nzOnOk)=\"handleEditUnit()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Unit price' | translate}}</div>\r\n            <div nz-col nzSpan=\"16\">\r\n                <input class=\"unit_price\" type=\"text\" maxlength=\"15\" [value]=\"tempDetail.price\" nz-input\r\n                    placeholder=\"{{'Enter unit price' | translate}}\" />\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"isVisibleEditUnitPrice = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditUnit()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- modal chọn lô/HSD -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue\r\n                    (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"tempDetail.id_lotproduct\" (ngModelChange)=\"changeLot($event)\" style=\"width:100%;\">\r\n            <div nz-row *ngFor=\"let item of tempDetail.lots\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"8\">\r\n                                {{item.lot_number}}\r\n                            </div>\r\n\r\n                            <div nz-col nzSpan=\"8\">\r\n                                NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                            <div nz-col nzSpan=\"8\">\r\n                                HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                            </div>\r\n                        </div>\r\n\r\n                    </label>\r\n                </div>\r\n\r\n            </div>\r\n        </nz-radio-group>\r\n        <div *ngIf=\"!tempDetail.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" [disabled]=\"!tempDetail.id_lotproduct\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal  nzWidth=\"70vw\"  *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\"\r\n    [(nzVisible)]=\"show_modal_select_lots_combo\"\r\n    nzTitle=\"{{'Select lot number for products in combo' | translate}}: {{tempDetail.name}}\"\r\n    (nzOnCancel)=\"show_modal_select_lots_combo = false\" (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail.combos\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <th>{{'Lot number' | translate}}</th>\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n                    <ng-container *ngIf=\"data.lots\">\r\n\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                    [(ngModel)]=\"data.id_lotproduct\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\"  nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\"\r\n                                        [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td>\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"show_modal_select_lots_combo = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AhamoveService {\r\n  private URL: string = this.vhQuerySales.getShippingAhamoveURL()\r\n  // api_key = '183a9baa5176ebbaa9c10fe67fc02161d63f6849'; //dev\r\n  api_key = 'fc0ee646897ef09f19fd61075337728c61bc9480'; //production\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n  getTokenAhaMove(phone) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": 'https://api.ahamove.com/v1/partner/register_account',\r\n        \"mobile\": phone,\r\n        \"api_key\": this.api_key,\r\n        \"name\": \"Viethas\",\r\n        \"address\": \"Khách hàng\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getAllServiceAhaMove(city_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/service_types?city_id=${city_id}`,\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  calculateFeeAhamove(data) {\r\n    \r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v2/order/estimated_fee\",\r\n      }\r\n    }\r\n    const body = {\r\n      \"token\": data.token,\r\n      \"order_time\": 0,\r\n      \"path\": data.path,\r\n      \"services\": data.services,\r\n      \"payment_method\": \"CASH\"\r\n    }\r\n    return this.http.post(this.URL, body, options).toPromise();\r\n  }\r\n  createOrderAhamove(data) {\r\n\r\n    let x = `[{\"address\":\"${data.pick_address}\",\"name\":\"${data.pick_name}\",\"mobile\":\"${data.pick_tel}\"},{\"address\":\"${data.address}\",\"name\":\"${data.name}\",\"mobile\":\"${data.phone}\",\"cod\":${data.cod},\"remarks\":\"${data.note}\"}]`;\r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v1/order/create\",\r\n        \"token\": data.token,\r\n        \"order_time\": data.order_time,\r\n        \"service_id\": data.service_id,\r\n        \"payment_method\": \"CASH\",\r\n        \"path\": x\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getDetailBillAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/detail`,\r\n        \"token\": token,\r\n        \"order_id\": order_id\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  cancelOrderAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/cancel`,\r\n        \"token\": token,\r\n        \"order_id\": order_id,\r\n        \"comment\": \"No comment\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhnService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  /**\r\n  * kiểm tra token của giao hàng nhanh có hợp lệ hay không\r\n  * @example : this.transportService.connectTokenGhn(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  connectTokenGhn(token) {\r\n    let urlGhn = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/all';\r\n    const options = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(urlGhn, options).toPromise();\r\n  }\r\n  /**\r\n  * get các tỉnh trong nước Việt Nam\r\n  * @param token\r\n  * @example this.transportService.getProvinceGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getProvinceGhn(token) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/province';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các huyện trong tỉnh của Việt Nam\r\n  * @param token ,province_id\r\n  * @example this.transportService.getDistrictGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getDistrictGhn(token, province_id?) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/district';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n\r\n      }),\r\n      params: {\r\n        \"province_id\": province_id ? province_id : 0\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các xã trong huyện của Việt Nam\r\n  * @param token ,district_id\r\n  * @example this.transportService.getWardGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getWardGhn(token, district_id) {\r\n    let url = `https://online-gateway.ghn.vn/shiip/public-api/master-data/ward?${district_id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"district_id\": district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính phí vận chuyển\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return\r\n  **/\r\n  calculate_delivery_fee(token, data) {\r\n    let url = \"https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n      params: {\r\n        \"service_id\": data.service_id,\r\n        \"to_ward_code\": data.to_ward_code,\r\n        \"from_district_id\": data.from_district_id,\r\n        \"height\": data.height,\r\n        \"length\": data.length,\r\n        \"weight\": data.weight,\r\n        \"width\": data.width,\r\n        \"insurance_value\": data.insurance_value,\r\n        \"to_district_id\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * chọn service : đi bộ, bay...\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return result { data : [service_id,short_name,service_type_id]}\r\n  **/\r\n  getServiceDelivery(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"shop_id\": data.shop_id,\r\n        \"from_district\": data.from_district_id,\r\n        \"to_district\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tạo đơn giao hàng\r\n  * @param data\r\n  * @example this.transportService.createOrderGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  createOrderGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/create';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Token\": data.token,\r\n        \"Content-Type\": \"application/json\",\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"to_name\": data.to_name,\r\n      \"to_phone\": data.to_phone,\r\n      \"to_address\": data.to_address,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"weight\": data.weight,\r\n      \"height\": data.height,\r\n      \"length\": data.length,\r\n      \"width\": data.width,\r\n      \"payment_type_id\": data.payment_type_id,\r\n      \"required_note\": data.required_note,\r\n      \"items\": data.items,\r\n      \"service_id\": data.service_id,\r\n      \"cod_amount\": data.cod_amount,\r\n      \"insurance_value\": data.insurance_value,\r\n      \"note\": data.note ? data.note : ''\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tính (đoán) ngày vận chuyển hàng hoàn thành\r\n  * @param data;\r\n  * @example : this.transportService.calculateTheExpectedDeliveryTime().then(res =>{})\r\n  * @return :\r\n  **/\r\n  calculateTheExpectedDeliveryTime(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"from_district_id\": data.from_district_id,\r\n      \"from_ward_code\": data.from_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"service_id\": data.service_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getInfoOrder(token, order_code) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_code\": order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  cancelOrder(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/switch-status/cancel';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": data.token,\r\n        \"ShopId\": data.shop_id.toString(),\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_codes\": data.order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getOtpGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateOTP';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\", //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  addStaffToStore(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateCreateWithShop';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\",  //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone,\r\n      \"otp\": data.otp,\r\n      \"shop_id\": data.shop_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhtkService {\r\n  private URL: string = this.vhQuerySales.getShippingGHTKURL()\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n\r\n  /**\r\n  * kiểm tra token của giao hàng tiết kiệm có hợp lệ hay không và lấy thông tin kho\r\n  * @example : this.transportService.connectTokenGhtk(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  getWareHouseGhtk(token) {\r\n    // let options:any = {\r\n    //   method: 'GET',\r\n    //   url: 'http://115.78.100.57:8013/miscellaneous/ghtk',                       \r\n    //   params: {\r\n    //     token:token,\r\n    //     url: 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n    //   }            \r\n    // };          \r\n    // return axios.request(options);\r\n    \r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  calculateFeeGhtk(data, transport) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": data.token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/fee\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"pick_address_id\": data.shop_id,\r\n      \"province\": data.province,\r\n      \"district\": data.district,\r\n      \"weight\": data.weight * 1000,\r\n      \"value\": data.insurance_value,\r\n      \"transport\": transport\r\n    }\r\n    \r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  createOrderGhtk(token, products, order) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/order/?ver=1.6.3\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"products\": products,\r\n      \"order\": order\r\n    }\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  getStatusBill(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/v2/${order_code}`\r\n      }\r\n    }\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  cancelOrder(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/cancel/${order_code}`\r\n      }\r\n    }\r\n    let params = {}\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VnpostService {\r\n  private URL_TEST = 'https://donhang-uat.vnpost.vn/api/api'\r\n  private URL_PRODUCT = 'https://donhang.vnpost.vn/api/api'\r\n  private URL_SERVER = 'https://us-central1-servers-1b3fe.cloudfunctions.net/app/shippingclouds/vietnampost'\r\n  private TenDangNhap: string = '0909925354'\r\n  private MatKhau: string = '123456'\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n\r\n  }\r\n  getTokenVnpost() {\r\n    let url = `${this.URL_PRODUCT}/MobileAuthentication/GetAccessToken`;\r\n    let json: any = {\r\n      TenDangNhap: this.TenDangNhap,\r\n      MatKhau: this.MatKhau\r\n    }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': 'none' }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Kiểm tra xem liệu khách hàng đã có mã CRM và đã ủy quyền cho Viethas đẩy đơn hay chưa\r\n   * @param token\r\n   * @param customer_code \r\n   * @returns \r\n   */\r\n  checkCustomerCode(token, customer_code) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CheckCustomerCode`;\r\n    let json: any = { CustomerCode: customer_code }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách tỉnh / thành phố theo Vnpost\r\n   * @returns \r\n   */\r\n  getProvinceVnpost() {\r\n    let url = `${this.URL_PRODUCT}/TinhThanh/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách quận/huyện theo Vnpost\r\n   * @returns \r\n   */\r\n  getDistrictVnpost() {\r\n    let url = `${this.URL_PRODUCT}/QuanHuyen/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách phường/xã theo Vnpost\r\n   * @returns \r\n   */\r\n  getWardVnpost() {\r\n    let url = `${this.URL_PRODUCT}/PhuongXa/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Hàm này lấy danh sách tên các phương thức vận chuyển\r\n   */\r\n  getServiceNameVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/TinhCuocTatCaDichVu`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n\r\n  /**\r\n   * Tạo order vnpost\r\n   */\r\n  createOrderVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CreateOrder`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tạo order vnpost\r\n   */\r\n  getDetailOrderById(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/Order/GetOrder/${Id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, null, opptions).toPromise()\r\n  }\r\n  /**\r\n   * Delelte order vnpost\r\n   */\r\n  deleteOrderVnpostByID(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CancelOrder`;\r\n    let json = { OrderId: Id }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise()\r\n  }\r\n\r\n  // --------------------------------CÁC HÀM XỬ LÝ DỮ LIỆU-------------------------------------------\r\n  /**\r\n   * Hàm này để custom dữ liệu cho hàm getServiceNameVnpost\r\n   */\r\n  renderFormatService(infoSend, infoRecei, infoProd, infoDeli, CustomerCode) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      Weight: infoProd.WeightEvaluation, Width: infoProd.WidthEvaluation,\r\n      Length: infoProd.LengthEvaluation, Height: infoProd.HeightEvaluation,\r\n      CodAmount: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmount: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false,\r\n      CustomerCode: CustomerCode\r\n    }\r\n  }\r\n  /**\r\n   * Hàm này để custom dữ liệu cho hàm createOrderVnpost\r\n   */\r\n  renderFormatCreateOrder(infoSend, infoRecei, infoProd, infoDeli, CustomerCode, bill_code) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      SenderTel: infoSend.SenderTel, SenderFullname: infoSend.SenderFullname, SenderAddress: infoSend.SenderAddress,\r\n      SenderWardId: infoSend.SenderWardId, ReceiverTel: infoRecei.ReceiverTel, ReceiverFullname: infoRecei.ReceiverFullname,\r\n      ReceiverAddress: infoRecei.ReceiverAddress, ReceiverWardId: infoRecei.ReceiverWardId,\r\n      ReceiverAddressType: infoDeli.ReceiverAddressType == 0 ? null : infoDeli.ReceiverAddressType, ServiceName: infoDeli.ServiceName, OrderCode: bill_code,\r\n      CustomerNote: infoDeli.CustomerNote, PickupType: 1,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      WeightEvaluation: infoProd.WeightEvaluation, WidthEvaluation: infoProd.WidthEvaluation,\r\n      LengthEvaluation: infoProd.LengthEvaluation, HeightEvaluation: infoProd.HeightEvaluation,\r\n      CodAmountEvaluation: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmountEvaluation: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      PickupPoscode: \"\", CustomerCode: CustomerCode,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false\r\n\r\n    }\r\n  }\r\n  renderFormatPrintOrder(delivery) {\r\n    \r\n    return {\r\n      created: delivery.CreateTime, customer_fullname: delivery.ReceiverFullname,\r\n      customer_tel: delivery.ReceiverTel, address: delivery.ReceiverFullAddress,\r\n      ship_money: delivery.TotalFreightIncludeVatEvaluation, insurance: 0,\r\n      is_freeship: delivery.IsReceiverPayFreight ? 0 : 1, CodAmountEvaluation: delivery.CodAmountEvaluation\r\n    }\r\n  }\r\n  // --------------------------------CÁC HÀM XỬ LÝ DỮ LIỆU-------------------------------------------\r\n}\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent   {\r\n \r\n}","<bill-type3-lazada-add></bill-type3-lazada-add>","import { VhQuerySales, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailOrderComponent implements OnInit {\r\n  bill: any;\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  price: number = 0;\r\n  payment_fee = 0;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public functionService: FunctionService\r\n  ) {\r\n    this.bill = this.router.getCurrentNavigation().extras.state.bill;\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  }\r\n  /**\r\n   * Công thức tính free ship max = 4,5% * (giá trị sp - giá trị NBH tài trợ) * 1.1 (tối đa 16.5k trên 1sp)\r\n   * Phí thanh toán = 2.002% x (giá sản phẩm – chi phí nhà bán hàng tài trợ + phí vận chuyển trả bởi khách hàng)\r\n   */\r\n  ngOnInit(): void {\r\n    \r\n    this.price = parseFloat(this.bill.price);\r\n    let freeShipMax: number = 0\r\n    let paymet_fee: number = 0\r\n    this.bill.order_items.forEach(element => {\r\n      this.payment_fee += 0.020002 * (element.item_price + element.shipping_amount + element.tax_amount)\r\n      paymet_fee += parseFloat((0.02002 * (element.item_price - element.voucher_seller + element.shipping_amount)).toFixed(2))\r\n      freeShipMax += parseFloat((0.045 * (element.item_price - element.voucher_seller) * 1.1).toFixed(2))\r\n    });\r\n    this.bill['paymet_fee'] = paymet_fee\r\n    this.bill['freeShipMax'] = freeShipMax\r\n    setTimeout(() => {\r\n      \r\n\r\n    }, 3000);\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-lazada\") && document.querySelector(\".order-status-lazada-header\") && document.querySelector(\"#bill-info\") && document.querySelector(\"#buyer-info\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-lazada\").clientHeight -\r\n        - document.querySelector(\".order-status-lazada-header\").clientHeight - document.querySelector(\"#bill-info\").clientHeight - document.querySelector(\"#buyer-info\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-lazada\"))\r\n      this.widthScroll = document.getElementById(\"order-status-lazada\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n\r\n  gotoPrint() {\r\n    this.router.navigate([\"/sales/dashboard/manage/ecommerce/lazada/print\"], { state: { bill: this.bill, dataRestore: this.dataRestore, path: this.router.url, info_Shop: this.vhQuerySales.getlocalShopListLazada()[this.vhQuerySales.getlocalShopListLazada().findIndex(item => item._id == this.dataRestore.id_shop_selected)] } })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-lazada\" *ngIf=\"bill\">\r\n    <div nz-row class=\"order-status-lazada-header\">\r\n        <div nz-col nzSpan=\"18\" class=\"title\">\r\n            <b>{{'Order_number' | translate}}: <span style=\"color: #ee2624;\"\r\n                    (click)=\"vhComponent.copyValue(bill.order_id)\"> #{{bill.order_id}} <i nz-icon nzType=\"copy\"\r\n                        nzTheme=\"outline\"></i></span></b>\r\n            <span class=\"sub-title\"> {{'Ngày đặt hàng'}} {{bill.created_at | date:\"dd/MM/yyyy\"}}</span>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n            <button style=\"width: 8vw;\" class=\" center-all-content\" nz-button nzType=\"default\" (click)=\"gotoPrint()\">\r\n                <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                {{'Print' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"bill-info\">\r\n        <div nz-col nzSpan=\"24\">\r\n            {{'Status' | translate}}: <b>{{bill.statuses[0] | translate}}</b>\r\n        </div>\r\n        <div *ngIf=\"bill.order_items[0]?.reason\" nz-col nzSpan=\"24\">\r\n            {{'Reason' | translate}}: <b>{{bill.order_items[0]?.reason | translate}}</b>\r\n        </div>\r\n\r\n        <div nz-col nzSpan=\"24\" class=\"bill-info-customer\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer-left\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"sub-title\">\r\n                        {{'Basic information' | translate}}\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Customer name' | translate}}</span> <br>\r\n                        {{bill.address_billing.first_name}}\r\n\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Customer ID' | translate}}</span> <br>\r\n                        {{bill.order_items[0].buyer_id}}\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer-right\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"sub-title\">\r\n                        {{'Shipping address' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"11\">\r\n                        <span class=\"sub-title\">{{'Detailed address' | translate}}</span> <br>\r\n                        {{bill.address_shipping.address1}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"1\"></div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Recipient name' | translate}}</span> <br>\r\n                        {{bill.address_shipping.first_name}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span class=\"sub-title\">{{'Recipient phone number' | translate}}</span> <br>\r\n                        {{bill.address_shipping.phone}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Thông tin thanh toán-->\r\n\r\n    <div nz-row id=\"bill-info\" style=\"margin-top: 20px;\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-right: 16px;\">\r\n            <div class=\"bill-info-customer\" nz-col nzSpan=\"24\">\r\n                <b>{{'My payment information' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Payment fee' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.paymet_fee)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Phí dịch vụ chương trình FreeShip MAX' |\r\n                        translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.freeShipMax)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Product value' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.price)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'total amount' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <b style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit(bill.price -\r\n                            bill.freeShipMax - bill.paymet_fee)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer\" nz-col nzSpan=\"24\">\r\n                <b>{{'Customer payment information' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Subtotal' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.price)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Shipping Fee' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text sub-title\">\r\n                        {{'Shipping Fee Original' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee_original)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        {{'Seller Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        - {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee_discount_platform)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <nz-divider></nz-divider>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Lazada Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        - {{vhAlgorithm.vhcurrencyunit(bill.voucher_seller)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Seller Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(bill.voucher_platform)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-divider></nz-divider>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Danh sách sản phẩm -->\r\n    <nz-table class=\"ant-scroll-table\" *ngIf=\"bill.order_items.length > 0\"\r\n        [nzScroll]=\"{  x : widthScroll, y: heightScroll }\" #salesOrder_show nzShowPagination nzShowSizeChanger\r\n        [nzData]=\"bill.order_items\" [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzLeft nzWidth=\"150px\"><b>{{'Image' | translate}}</b></th>\r\n                <th nzLeft nzWidth=\"250px\"><b>{{'Product information' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Product ID in the order' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Warehouse type' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Product code' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Delivery options' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Refund' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Status\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Total\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Shipping Fee' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Shipping fee promotion' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Reason\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Promotions' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Delivery_time' | translate}}</b></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let data of salesOrder_show.data\">\r\n                <td nzLeft nzWidth=\"150px\">\r\n                    <img src=\"{{data.product_main_image}}\" alt=\"\">\r\n                </td>\r\n                <td nzLeft nzWidth=\"250px\">\r\n                    <b (click)=\"vhComponent.copyValue(data.name)\"> {{data.name}}</b> <i\r\n                        (click)=\"vhComponent.copyValue(data.name)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n\r\n                    <span class=\"sub-title\">{{'SKU'}}: {{data.sku}}</span>\r\n                </td>\r\n                <td nzWidth=\"200px\">{{bill.order_id}}</td>\r\n                <td nzWidth=\"200px\">{{data.warehouse_code}}</td>\r\n                <td nzWidth=\"200px\">{{data.order_item_id}}</td>\r\n                <td nzWidth=\"200px\">{{data.shipping_provider_type}}</td>\r\n                <td nzWidth=\"200px\">{{0}}</td>\r\n                <td nzWidth=\"200px\">{{data.status}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.paid_price)}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.shipping_fee_original +\r\n                    data.shipping_service_cost)}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.shipping_fee_discount_platform +\r\n                    data.shipping_fee_discount_seller)}}</td>\r\n                <td nzWidth=\"200px\">{{data.reason}}</td>\r\n                <td nzWidth=\"200px\">{{data.voucher_amount}}</td>\r\n                <td nzWidth=\"200px\">{{data.sla_time_stamp | date:'dd/MM/yyyy HH:mm'}}</td>\r\n            </tr>\r\n        </tbody>\r\n    </nz-table>\r\n</nz-layout>","import { ChangeDetectorRef, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n\r\n}\r\n","<bill-type3-lazada-detail></bill-type3-lazada-detail>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<bill-type3-lazada-edit></bill-type3-lazada-edit>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-issue-receive-goods',\r\n  templateUrl: './issue-receive-goods.component.html',\r\n  styleUrls: ['./issue-receive-goods.component.scss']\r\n})\r\nexport class IssueReceiveGoodsComponent implements OnInit {\r\n\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  heightScroll: any;\r\n  public date: Date[] = [new Date(), new Date()];\r\n  load_status: boolean = false;\r\n  dataRestore: any = {};\r\n  bill_selected: any = {}\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < this.minDate.getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  minDate: Date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 30)\r\n  infoShop: any = {}\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state?.dataRestore || {}\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initState()\r\n\r\n  }\r\n  initState() {\r\n    if (this.dataRestore.id_shop_selected) {\r\n      this.date = this.dataRestore.date\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.salesOrder = this.dataRestore.salesOrder\r\n      this.salesSubOrder = this.salesOrder\r\n      if (this.dataRestore['update']) {\r\n        this.dataRestore['update'] = false;\r\n        this.showReport()\r\n      }\r\n      else\r\n        this.load_status = true;\r\n    }\r\n    this.infoShop = this.vhQuerySales.getlocalShopListLazada()[0];\r\n    this.getMinDate()\r\n  }\r\n  /** \r\n   * Lấy ngày giới hạn được xem báo cáo\r\n   * @example this.getMinDate()\r\n  */\r\n  getMinDate() {\r\n    let date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 100)\r\n    this.vhQuerySales.getValidityDate(date).then((validitydate: Date) => {\r\n      this.minDate = validitydate\r\n      if ((this.minDate.getTime()) < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n        this.disabledDate = (current: Date): boolean => {\r\n          if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n          return false\r\n        }\r\n      }\r\n    })\r\n  }\r\n  /**Tìm kiếm hóa đơn */\r\n  search(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.salesOrder = this.vhAlgorithm.searchList(val, this.salesSubOrder, ['order_id'])\r\n    } else this.salesOrder = [...this.salesSubOrder]\r\n  }\r\n  /**\r\n   * về trang quản lý phát hành hóa đơn\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n  /**\r\n   * bắt sự kiện thay đổi ngày xem báo cáo\r\n   * @example this.changeTime('2023-06-09T04:14:30.367Z')\r\n   */\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + 2678313600)]\r\n    }\r\n  }\r\n  /**\r\n   * get hóa đơn lazada\r\n   * @example this.showReport()\r\n   */\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    this.salesSubOrder = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getSalesOrderDetailListLazada(new Date(this.date[0].setHours(0, 0, 0)).toISOString(), new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString(), this.infoShop.access_token, this.infoShop._id)\r\n        .then((result: Array<any>) => {\r\n          result.forEach(item => {\r\n            if (item.statuses.length > 1) {\r\n              let count = 0\r\n              item.order_items.forEach(product => { if (product.status == 'canceled') count++ })\r\n              item.deliveredProduct = item.order_items.length - count\r\n              item.canceledProduct = count\r\n            }\r\n            if (item.verify_status_received_goods) this.salesOrder.push({ id_shop: this.infoShop._id, ...item, total_order: this.calculateTotal(item) })\r\n          })\r\n          this.salesSubOrder = [...this.salesOrder];\r\n          this.vhComponent.hideLoading(0);\r\n        }).catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n  /**\r\n   * tính lại tổng tiền\r\n   * @param bill \r\n   * @returns number\r\n   * @example let total = this.calculateTotal(bill)\r\n   */\r\n  calculateTotal(bill) {\r\n    return +bill['price'] - bill['voucher_platform'] - bill['voucher_seller'] + bill['shipping_fee']\r\n  }\r\n  changeShop(event) { }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#Lazada-issue-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".Lazada-issue-invoice-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#Lazada-issue-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".Lazada-issue-invoice-header\").clientHeight - 90 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param bill \r\n   */\r\n  gotoCreateBill(bill: any) {\r\n    //tìm customer để loại trừ bug khách hàng bị xóa rồi\r\n    let customer: any = this.vhQuerySales.getlocalCustomer(this.infoShop.data?.id_customer)\r\n    if (customer) {\r\n      this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/add'], {\r\n        state: { dataRestore: { ...this.dataRestore, searchValue: this.searchValue, id_shop_selected: this.infoShop._id, date: this.date, salesOrder: this.salesOrder }, billLazada: bill }\r\n      })\r\n    } else this.vhComponent.alertMessageDesktop('warning', this.lang.translate('Please update customer in settings'))\r\n  }\r\n  gotoDetail(bill: any) {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail'], {\r\n      state: { dataRestore: { ...this.dataRestore, searchValue: this.searchValue, id_shop_selected: this.infoShop._id, date: this.date, salesOrder: this.salesOrder }, id: bill.id_bill_received_goods, billLazada: bill }\r\n    })\r\n  }\r\n\r\n  renderStatus(status) {\r\n    switch (status) {\r\n\r\n      case 2: case 3: return this.lang.translate('Wait for confirmation');\r\n      case 6: return this.lang.translate('Delivering');\r\n      case 7: return this.lang.translate('Delivered');\r\n      case 11: case 12: case 14: case 15: case 19: return this.lang.translate('Trouble')\r\n      case 13: return this.lang.translate(\"Cancelled\");\r\n      case 8: return this.lang.translate(\"Completed\")\r\n      case 10: return this.lang.translate(\"Đóng\")\r\n      case 21: return this.lang.translate(\"Đang đổi trả\")\r\n      case 22: return this.lang.translate(\"Đổi trả thành công\")\r\n      case 23: return this.lang.translate(\"Chờ Lazada xử lý\")\r\n    }\r\n  }\r\n  gotoDetailLazada(bill) {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/issue-invoice/issue-receive-goods/detail-order'],\r\n      {\r\n        state: {\r\n          bill: bill,\r\n          dataRestore: {\r\n            salesOrder: this.salesOrder, searchValue: this.searchValue,\r\n            id_shop_selected: this.infoShop._id, listProduct: this.dataRestore.listProduct,\r\n            date: this.date,\r\n            salesSubOrder: this.salesSubOrder,\r\n          }\r\n        }\r\n      })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"Lazada-issue-invoice\">\r\n    <div nz-row nzGutter=\"4\" class=\"Lazada-issue-invoice-header\">\r\n        <div nz-col nzSpan=\"4\" class=\"title\">\r\n            <b>{{'Returned goods'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"5\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [nzDisabledDate]=\"disabledDate\" [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"Lazada-issue-invoice-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"text-align: center;\" nzWidth=\"8%\"><b>{{'No.' | translate}}</b></th>\r\n                        <th nzWidth=\"17%\"><b>{{'Date' | translate}}</b></th>\r\n                        <th nzWidth=\"20%\"><b>{{'Order number' | translate}}</b></th>\r\n                        <th nzWidth=\"20%\"><b>{{\"Status on Lazada\" | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" nzWidth=\"15%\"><b>{{\"Total\"| translate}}</b></th>\r\n\r\n                        <th nzAlign=\"center\" nzWidth=\"20%\"><b>{{\"Invoice\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"gotoDetailLazada(bill)\" *ngFor=\"let bill of salesOrder_show.data;let i =index\"\r\n                        style=\"cursor: pointer;\">\r\n                        <td style=\"text-align: center;\">{{i+1}}</td>\r\n                        <td>\r\n                            {{bill.created_at | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td>\r\n                            {{bill.order_id}} <i (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.order_id)\"\r\n                                nz-icon nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                        </td>\r\n                        <td>\r\n                            <span *ngIf=\"bill.statuses.length<2;else multiStatus\">{{bill.statuses[0]|\r\n                                translate}}</span>\r\n                            <ng-template #multiStatus>\r\n                                <div><span style=\"color:var(--ion-color-vh-green);\">{{bill.deliveredProduct}}</span>\r\n                                    sp giao thành công</div>\r\n                                <div><span style=\"color:var(--ion-color-vh-red);\">{{bill.canceledProduct}}</span> sp\r\n                                    giao thất bại</div>\r\n                            </ng-template>\r\n                        </td>\r\n                        <td style=\"text-align: right;\">\r\n                            <b>{{vhAlgorithm.vhcurrencyunit(bill.total_order)}}</b>\r\n                        </td>\r\n\r\n                        <td nzAlign=\"center\">\r\n                            <span (click)=\"$event.stopPropagation();gotoCreateBill(bill)\" class=\"invoice-create\"\r\n                                *ngIf=\"!bill.id_bill_received_goods\">\r\n                                <b>{{\"Create invoice\" |translate}}</b>\r\n                            </span>\r\n                            <span (click)=\"$event.stopPropagation();gotoDetail(bill)\" class=\"invoice-view\"\r\n                                *ngIf=\"bill.id_bill_received_goods\"><b>{{\"View invoice\" | translate}}</b></span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n\r\n        </div>\r\n    </div>\r\n    <ng-template #no_bill class=\"full-height\">\r\n        <div *ngIf=\"load_status\" nz-col nzSpan=\"24\" style=\"height: 60vh;\" class=\"center-all-content\">\r\n            <div>{{'No data'| translate}}</div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{\"Please click the view button\"|translate}}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #updateForControl let-params>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <span>{{\"Date\"| translate}}: </span>\r\n                <nz-date-picker nzFormat=\"dd/MM/yyyy\" style=\"margin-left:20px\" [(ngModel)]=\"bill_selected.date_control\">\r\n                </nz-date-picker>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IssueReceiveGoodsComponent } from './issue-receive-goods.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AddComponent } from './add/add.component'; \r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { DetailOrderComponent } from './detail-order/detail.component';\r\nimport { BillType3LazadaModule } from 'src/app/sales/components/bill-type/bill-type-3/lazada/bill-type3-lazada.module';\r\nimport { EditComponent } from './edit/edit.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: IssueReceiveGoodsComponent\r\n  },\r\n  {\r\n    path: \"add\",\r\n    component: AddComponent\r\n  },\r\n  {\r\n    path: \"edit\",\r\n    component: EditComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent\r\n  },\r\n  {\r\n    path: \"detail-order\",\r\n    component: DetailOrderComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    IssueReceiveGoodsComponent, AddComponent, DetailComponent, DetailOrderComponent, EditComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    BillType3LazadaModule\r\n  ]\r\n})\r\nexport class IssueReceiveGoodsModule { }\r\n"],"names":["SalesK57Col3Component","SalesK80Col3Component","SalesK80Col4Component","SalesA5Component","SalesA4Component","VhType","i0","ctx_r2","ctx_r6","AddComponent","constructor","router","vhComponent","languageService","vhQuerySales","vhAlgorithm","vhAuth","fncService","nzModalService","cdf","bill_type","payment_type","id_customer","id_branch","id_employee","id_wallet","date","total","payment","tax","discount","fee","note","price_type","order_number_ecommerce","id_shop","getCurrentNavigation","extras","state","dataRestore","billLazada","Date","getDefaultBranch","_id","getLocalAppSettingNameBranch","warning_lot_expried","initBill","invoice","pickerTime","toISOString","getUser","employee","getlocalEmployee","getlocalShopListLazada","find","item","id_shop_selected","data","customer","getlocalCustomer","addInvoiceDetail","setSubTotal","toString","translate","order_id","invoiceDetail","id_product","validProdDetail","subTotal","i","price","quantity","setTotal","detectChanges","ngOnInit","eventKeypress","printer","getLocalPrintPage","checkPrinter","print_sizes","findIndex","e","print_size_default","enable","waitingStack","then","discount_price","vhnumeral","invoice_fee","ngOnDestroy","document","removeEventListener","event","window","closerBrower","keycode","keyCode","preventDefault","payInvoice","searchProductList","returnValue","addEventListener","goBack","alertConfirm","isExit","navigate","closeAndReceiveEmployee","setPickerTime","getTime","getStore","registrationdate","alertMessageDesktop","formatDate","getValidityDate","validitydate","editDiscount","getRawValue","parseFloat","getElementById","editFee","compareSubTotal","sub","reduce","prev","next","getCreateUpdateInvoiceDetail","map","detail","ptype","ratio","id_lotproduct","id_subproduct","price_origin","combos","combo","product","filter","print","checkMyPermission","save_enable","showLoading","createOrUpdate","bill","update","updateSalesOrderLazada","id_bill_received_goods","hideLoading","showToast","toLocaleLowerCase","handlePrint","handle","catch","err","Promise","resolve","reject","createBill_Billdetail","Object","res","checkPrint","rejects","renderPrintPage","type","showModal","modal","onWillDismiss","checkDeactivate","currentRoute","currentState","nextState","url","closeSearchProductList","manylot","openModalChooseLot","lots","length","tempDetail","show_modal_select_lots_combo","addInvoiceDetailExtraEcommerce","value","index","name","unit","units","id_category","free","subComboName","unshift","checkQuantityProduct","openEditUnitPrice","isVisibleEditUnitPrice","unit_price","handleEditUnit","deleteGoods","removeInvoiceDetail","id","splice","order_items","reason","status","freeShipMax","paymet_fee","products","getlocalDetailProducts","PRODUCT","delete_hidden","lazadas","order_item","item_price","voucher_seller","shipping_amount","toFixed","findSuccess","productApp","productLazada","findProd","skus","sku","SkuId","sku_id","addInvoiceDetailLazada","shipping_fee_discount_seller","exist","getUnit","getUnit_byRatio","getLotNumber","lot","lot_number","searchLot","searchList","changeAlias","list_search_lot","show_modal_select_lots","changeLot","handleChooseLot","lot_select","date_exp","confirm","nzTitle","nzOnOk","nzOnCancel","handleCancelChooseLot","handleChooseLotCombo","selectors","decls","vars","consts","template","ctx","EditComponent","pmtype","updateBill_Billdetail"],"sourceRoot":"webpack:///"}