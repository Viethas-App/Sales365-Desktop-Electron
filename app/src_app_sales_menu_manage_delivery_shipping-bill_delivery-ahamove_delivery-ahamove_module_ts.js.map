{"version":3,"file":"src_app_sales_menu_manage_delivery_shipping-bill_delivery-ahamove_delivery-ahamove_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/add-address-customer-ahamove/add-address-customer-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/add-address-customer-ahamove/add-address-customer-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/choose-method-ahamove/choose-method-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/choose-method-ahamove/choose-method-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/edit-address-customer-ahamove/edit-address-customer-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/edit-address-customer-ahamove/edit-address-customer-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/list-address-customer-ahamove/list-address-customer-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/components/list-address-customer-ahamove/list-address-customer-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/create-bill-customer-ahamove/create-bill-customer-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/create-bill-customer-ahamove/create-bill-customer-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/create-bill-retail-ahamove/create-bill-retail-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/create-bill-retail-ahamove/create-bill-retail-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/delivery-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/delivery-ahamove.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/delivery-ahamove.module.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/detail-bill-ahamove/detail-bill-ahamove.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ahamove/detail-bill-ahamove/detail-bill-ahamove.component.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AhamoveService {\r\n  private URL: string = this.vhQuerySales.getShippingAhamoveURL()\r\n  // api_key = '183a9baa5176ebbaa9c10fe67fc02161d63f6849'; //dev\r\n  api_key = 'fc0ee646897ef09f19fd61075337728c61bc9480'; //production\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n  getTokenAhaMove(phone) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": 'https://api.ahamove.com/v1/partner/register_account',\r\n        \"mobile\": phone,\r\n        \"api_key\": this.api_key,\r\n        \"name\": \"Viethas\",\r\n        \"address\": \"Khách hàng\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getAllServiceAhaMove(city_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/service_types?city_id=${city_id}`,\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  calculateFeeAhamove(data) {\r\n    \r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v2/order/estimated_fee\",\r\n      }\r\n    }\r\n    const body = {\r\n      \"token\": data.token,\r\n      \"order_time\": 0,\r\n      \"path\": data.path,\r\n      \"services\": data.services,\r\n      \"payment_method\": \"CASH\"\r\n    }\r\n    return this.http.post(this.URL, body, options).toPromise();\r\n  }\r\n  createOrderAhamove(data) {\r\n\r\n    let x = `[{\"address\":\"${data.pick_address}\",\"name\":\"${data.pick_name}\",\"mobile\":\"${data.pick_tel}\"},{\"address\":\"${data.address}\",\"name\":\"${data.name}\",\"mobile\":\"${data.phone}\",\"cod\":${data.cod},\"remarks\":\"${data.note}\"}]`;\r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v1/order/create\",\r\n        \"token\": data.token,\r\n        \"order_time\": data.order_time,\r\n        \"service_id\": data.service_id,\r\n        \"payment_method\": \"CASH\",\r\n        \"path\": x\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getDetailBillAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/detail`,\r\n        \"token\": token,\r\n        \"order_id\": order_id\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  cancelOrderAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/cancel`,\r\n        \"token\": token,\r\n        \"order_id\": order_id,\r\n        \"comment\": \"No comment\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add-address-customer-ahamove',\r\n  templateUrl: './add-address-customer-ahamove.component.html',\r\n  styleUrls: ['./add-address-customer-ahamove.component.scss']\r\n})\r\nexport class AddAddressCustomerAhamoveComponent implements OnInit {\r\n  @Input(\"visible_add_address_ahamove\") visible_add_address_ahamove: boolean = false;\r\n  @Output(\"closeAndGetValueAddAddress\") closeAndGetValueAddAddress = new EventEmitter<any>();\r\n  @Input(\"data_add_address_ahamove\") data_add_address_ahamove;\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n  }\r\n  createAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create address Ahamove ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        let checkAddress: any = this.checkAddress(this.addInformation.value);\r\n        if (checkAddress.result) {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"This address already exists\"), \"alert-toast\")\r\n        } else {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.addAddress(this.exportAddress()).then(res => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                if (res) {\r\n                  this.closeAndGetValueAddAddress.emit(res);\r\n                }\r\n              })\r\n            })\r\n          })\r\n        }\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  exportAddress() {\r\n    let data = {\r\n      id_customer: this.data_add_address_ahamove.billInfo.id_customer,\r\n      type: 3,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      address: this.addInformation.value.address,\r\n      date: new Date().toISOString(),\r\n    }\r\n    return data;\r\n  }\r\n  /** \r\n  * hàm này dùng để check xem địa chỉ của khách hàng đã có trong database hay chưa\r\n  * result : true là địa chỉ đã được lưu không cần lưu lại, false tức là phải lưu địa chỉ đó lại\r\n  * */\r\n  checkAddress(data) {\r\n    let result: boolean = false;\r\n    let id_address;\r\n    //duyệt for trường hợp trùng địa chỉ thì return true để khỏi lưu lại\r\n    for (let i in this.data_add_address_ahamove.infoAddress) {\r\n      if (this.data_add_address_ahamove.infoAddress[i].address == data.address && this.data_add_address_ahamove.infoAddress[i].ward == data.ward) {\r\n        result = true;\r\n        id_address = this.data_add_address_ahamove.infoAddress[i]._id\r\n      }\r\n    }\r\n    return {\r\n      result: result,\r\n      id_address: id_address\r\n    };\r\n  }\r\n  goBack() {\r\n    this.closeAndGetValueAddAddress.emit(false);\r\n  }\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_add_address_ahamove\" nzTitle=\"{{'Create Address' | translate}}\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input\r\n                                    placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                <ng-template #combineTplAddress let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"province\" nz-input\r\n                                    placeholder=\"{{'Vd: Hồ Chí Minh' | translate}}\" required />\r\n                                <ng-template #combineTplProvince let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Province is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"district\" nz-input placeholder=\"{{'Vd: Tân Bình' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplDistrict let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWard\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"ward\" nz-input placeholder=\"{{'Example: Ward 4' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplWard let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"goBack()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"createAddress()\">{{\"Save\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-choose-method-ahamove',\r\n  templateUrl: './choose-method-ahamove.component.html',\r\n  styleUrls: ['./choose-method-ahamove.component.scss']\r\n})\r\nexport class ChooseMethodAhamoveComponent implements OnInit {\r\n  @Input(\"chooseMethodAhamove\") chooseMethodAhamove: boolean = false;\r\n  @Input(\"dataToGetMethodAhamove\") dataToGetMethodAhamove;\r\n  @Output(\"cancelModalMethodAhamove\") cancelModalMethodAhamove = new EventEmitter<any>();\r\n  setHeight = {\r\n    \"height\": \"500px\"\r\n  }\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ahamoveService: AhamoveService\r\n  ) { }\r\n  services_SGN: Array<any> = [{ \"_id\": \"SGN-BIKE\" }, { \"_id\": \"SGN-EXPRESS\" }, { \"_id\": \"SGN-POOL\" }, { \"_id\": \"SGN-SAMEDAY\" }, { \"_id\": \"SGN-TRICYCLE\" }, { \"_id\": \"SGN-TRUCK-500\" }, { \"_id\": \"SGN-TRUCK-2000\" }]\r\n  services_HAN: Array<any> = [{ \"_id\": \"HAN-BIKE\" }, { \"_id\": \"HAN-EXPRESS\" }, { \"_id\": \"HAN-POOL\" }, { \"_id\": \"HAN-SAMEDAY\" }];\r\n  listService: Array<any> = [];\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.ahamoveService.calculateFeeAhamove(this.prepareDataCalculate()).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.listService = res.map(item => {\r\n            let data = this.filterTitleServiceAhamove(item._id);\r\n            return {\r\n              name_service: data.title,\r\n              description: data.description,\r\n              ...item\r\n            }\r\n          })\r\n        }).catch(err => {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while getting data from Ahamove\"), \"alert-toast\")\r\n          this.vhComponent.hideLoading(0);\r\n        })\r\n      })\r\n    })\r\n  }\r\n  goBack() {\r\n    this.cancelModalMethodAhamove.emit(false)\r\n  }\r\n  chooseService(item) {\r\n    if (item.http_code == '406 INVALID_MAX_COD' || item.http_code == '406 INVALID_DISTANCE' || item.http_code == '406 Not Acceptable') {\r\n      this.vhComponent.showToast(2000, item.description, \"alert-toast\");\r\n    }\r\n    else {\r\n      this.cancelModalMethodAhamove.emit(item)\r\n    }\r\n  }\r\n  prepareDataCalculate() {\r\n    const data = {\r\n      token: this.dataToGetMethodAhamove.token,\r\n      services: this.dataToGetMethodAhamove.city_id == \"SGN\" ? this.services_SGN : this.services_HAN,\r\n      path: [\r\n        {\r\n          \"address\": this.dataToGetMethodAhamove.pick_address\r\n        },\r\n        {\r\n          \"address\": this.dataToGetMethodAhamove.receive_address,\r\n          \"cod\": this.dataToGetMethodAhamove.cod\r\n        }\r\n      ]\r\n    }\r\n    return data;\r\n  }\r\n  filterTitleServiceAhamove(id) {\r\n    let title = '';\r\n    let description = '';\r\n    switch (id) {\r\n      case 'SGN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'SGN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'SGN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'SGN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n      case 'SGN-TRICYCLE': title = 'Delivery tricycle'; description = 'Tricycle service description'; break;\r\n      case 'SGN-TRUCK-500': title = '500kg truck'; description = 'Delivered by small truck'; break;\r\n      case 'SGN-TRUCK-2000': title = '2000kg truct'; description = 'Delivered by big truck'; break;\r\n      case 'HAN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'HAN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'HAN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'HAN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n    }\r\n    return {\r\n      title: title,\r\n      description: description\r\n    };\r\n  }\r\n\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" (nzOnCancel)=\"goBack()\" [(nzVisible)]=\"chooseMethodAhamove\" [nzWidth]=\"400\"\r\n    [nzTitle]=\"modalTitle\" [nzFooter]=\"footerTpll\">\r\n    <ng-template #modalTitle>{{'Select service'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <ion-list>\r\n                <ion-item (click)=\"chooseService(item)\" *ngFor=\"let item of listService\" class=\"ion-no-padding\">\r\n                    <ion-label *ngIf=\"item.http_code != '406 INVALID_MAX_COD'\" mode=\"ios\"\r\n                        style=\"text-align: start; margin-left: 15px\">\r\n                        <ion-label mode=\"ios\" class=\"name-category\"\r\n                            style=\"font-size: 0.9rem; padding-bottom: 5px;text-transform: capitalize;\" color=\"vh-black\">\r\n                            <div style=\"font-weight: 700;\">{{item.name_service | translate}}</div>\r\n                            <div style=\"color:var(--ion-color-vh-gray);white-space: pre-line;\">{{item.description |\r\n                                translate}}</div>\r\n                        </ion-label>\r\n                    </ion-label>\r\n                    <ion-note style=\"font-size: 0.8rem; padding-bottom: 5px;margin-right: 10px;\" color=\"vh-green\"\r\n                        *ngIf=\"item.http_code != '406 INVALID_MAX_COD' && item.http_code !='406 INVALID_DISTANCE' && item.http_code != '406 Not Acceptable'\"\r\n                        slot=\"end\">\r\n                        {{vhAlgorithm.vhcurrencyunit(item.total_price)}}</ion-note>\r\n                    <ion-label class=\"description\" *ngIf=\"item.http_code == '406 INVALID_MAX_COD'\" mode=\"ios\"\r\n                        style=\"text-align: start;\">\r\n                        <div style=\"font-weight: 700;font-size: 0.9rem; padding-bottom: 5px;text-transform: capitalize;\"\r\n                            color=\"vh-black\">\r\n                            {{item.name_service | translate}}</div>\r\n                        <div style=\"color:var(--ion-color-vh-gray);white-space: pre-line;\">{{item.description |\r\n                            translate}}\r\n                        </div>\r\n                    </ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n\r\n    </ng-template>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-address-customer-ahamove',\r\n  templateUrl: './edit-address-customer-ahamove.component.html',\r\n  styleUrls: ['./edit-address-customer-ahamove.component.scss']\r\n})\r\nexport class EditAddressCustomerAhamoveComponent implements OnInit {\r\n  @Input(\"visible_edit_address_ahamove\") visible_edit_address_ahamove: boolean = false;\r\n  @Output(\"closeAndGetValueEditAddress\") closeAndGetValueEditAddress = new EventEmitter<any>();\r\n  @Input(\"data_edit_address_ahamove\") data_edit_address_ahamove;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl(this.data_edit_address_ahamove.infoAddressChose.address, Validators.required),\r\n      province: new FormControl(this.data_edit_address_ahamove.infoAddressChose.province, Validators.required),\r\n      district: new FormControl(this.data_edit_address_ahamove.infoAddressChose.district, Validators.required),\r\n      ward: new FormControl(this.data_edit_address_ahamove.infoAddressChose.ward, Validators.required),\r\n    })\r\n  }\r\n  exportAddress() {\r\n    let data = {\r\n      _id: this.data_edit_address_ahamove.infoAddressChose._id,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      address: this.addInformation.value.address,\r\n      type: 3,\r\n    }\r\n    return data;\r\n  }\r\n  goBack() {\r\n    this.closeAndGetValueEditAddress.emit(false);\r\n  }\r\n  updateAddress() {\r\n    this.vhQuerySales.updateAddress(this.data_edit_address_ahamove.infoAddressChose._id, this.exportAddress()).then((res) => {\r\n      if (res) {\r\n        this.closeAndGetValueEditAddress.emit( this.exportAddress());\r\n      } else {\r\n        this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while udpating address\"), \"alert-toast\")\r\n      }\r\n    })\r\n  }\r\n  deleteAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to delete address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.deleteAddress(this.data_edit_address_ahamove.infoAddressChose._id).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.vhComponent.showToast(2000, this.languageService.translate(\"This address has been deleted successfully\"), \"success-toast\")\r\n                this.closeAndGetValueEditAddress.emit(true);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_edit_address_ahamove\" nzTitle=\"{{'Edit Address' | translate}}\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input\r\n                                    placeholder=\"{{'Vd: 14A Cộng Hòa' | translate}}\" required />\r\n                                <ng-template #combineTplAddress let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"province\" nz-input\r\n                                    placeholder=\"{{'Vd: Hồ Chí Minh' | translate}}\" required />\r\n                                <ng-template #combineTplProvince let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Province is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"district\" nz-input placeholder=\"{{'Vd: Tân Bình' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplDistrict let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWard\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"ward\" nz-input placeholder=\"{{'Example: Ward 4' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplWard let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float:right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"goBack()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"deleteAddress()\">{{\"Delete\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"updateAddress()\">{{\"Update\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-list-address-customer-ahamove',\r\n  templateUrl: './list-address-customer-ahamove.component.html',\r\n  styleUrls: ['./list-address-customer-ahamove.component.scss']\r\n})\r\nexport class ListAddressCustomerAhamoveComponent implements OnInit {\r\n\r\n  @Input(\"visible_list_address\") visible_list_address: boolean = false;\r\n  @Output(\"onCloseListAddress\") onCloseListAddress = new EventEmitter<any>();\r\n  @Input(\"data_list_address_ahamove\") data_list_address_ahamove;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent\r\n  ) { }\r\n  infoAddress: Array<any> = [];\r\n  ngOnInit() {\r\n\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n      this.infoAddress = this.vhQuerySales.getlocalAddresss().filter(item => item.type == 3 && item.id_customer == this.data_list_address_ahamove.billInfo.id_customer).reverse();\r\n    })\r\n  }\r\n  goBack() {\r\n    this.onCloseListAddress.emit(false);\r\n  }\r\n  chooseAddress(item) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to use this address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.updateAddress(item._id, { date: new Date().toISOString() }).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.onCloseListAddress.emit(item);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  // -------drawer add adress-------\r\n  visible_add_address_ahamove: boolean = false;\r\n  data_add_address_ahamove: any;\r\n  addAddress() {\r\n    this.data_add_address_ahamove = {\r\n      billInfo: this.data_list_address_ahamove.billInfo,\r\n      data_delivery: this.data_list_address_ahamove.data_delivery,\r\n      infoAddress: this.infoAddress\r\n    }\r\n    this.visible_add_address_ahamove = true;\r\n  }\r\n  closeAndGetValueAddAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_add_address_ahamove = false;\r\n  }\r\n  // -------drawer add adress-------\r\n  visible_edit_address_ahamove: boolean = false;\r\n  data_edit_address_ahamove: any;\r\n  editAddress(item) {\r\n    this.data_edit_address_ahamove = {\r\n      billInfo: this.data_list_address_ahamove.billInfo,\r\n      data_delivery: this.data_list_address_ahamove.data_delivery,\r\n      infoAddress: this.infoAddress,\r\n      infoAddressChose: item\r\n    }\r\n    this.visible_edit_address_ahamove = true;\r\n  }\r\n  closeAndGetValueEditAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_edit_address_ahamove = false;\r\n  }\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\" [nzFooter]=\"footerTpl\"\r\n    [nzVisible]=\"visible_list_address\" nzTitle=\"{{'Address' | translate}}\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div class=\"no-data\" *ngIf=\"!infoAddress.length\">{{'No data'|translate}}\r\n        </div>\r\n        <ion-list class=\"custom-address-customer\">\r\n            <ion-item (click)=\"chooseAddress(item)\" class=\"ion-no-padding\" *ngFor=\"let item of infoAddress\">\r\n                <ion-label style=\"font-size: 0.9rem; color : var(--ion-color-vh-black);margin:0; padding-left:6px\"\r\n                    class=\"ion-text-wrap\">\r\n                    {{item.address}}, {{item.ward}} , {{item.district}}, {{item.province}}\r\n                </ion-label>\r\n                <ion-button (click)=\"$event.stopPropagation();editAddress(item)\" mode=\"ios\"\r\n                    style=\"color:var(--ion-color-vh-black)\" slot=\"end\" class=\"ion-no-padding ion-no-margin\"\r\n                    fill=\"clear\">\r\n                    <ion-icon name=\"create-outline\" slot=\"end\"></ion-icon>\r\n                </ion-button>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ng-container>\r\n    <ng-template #footerTpl>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black);margin:0 5px\"\r\n                nzType=\"default\" (click)=\"goBack()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white);margin:0 5px\"\r\n                class=\"nz-hover-border-green\" (click)=\"addAddress()\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n\r\n<!-- ----------drawer add address-------- -->\r\n<app-add-address-customer-ahamove *ngIf=\"visible_add_address_ahamove\"\r\n    [visible_add_address_ahamove]=\"visible_add_address_ahamove\" [data_add_address_ahamove]=\"data_add_address_ahamove\"\r\n    (closeAndGetValueAddAddress)=\"closeAndGetValueAddAddress($event)\">\r\n</app-add-address-customer-ahamove>\r\n<!-- ----------modal edit address-------- -->\r\n\r\n<app-edit-address-customer-ahamove *ngIf=\"visible_edit_address_ahamove\"\r\n    [visible_edit_address_ahamove]=\"visible_edit_address_ahamove\"\r\n    [data_edit_address_ahamove]=\"data_edit_address_ahamove\"\r\n    (closeAndGetValueEditAddress)=\"closeAndGetValueEditAddress($event)\">\r\n</app-edit-address-customer-ahamove>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-create-bill-customer-ahamove',\r\n  templateUrl: './create-bill-customer-ahamove.component.html',\r\n  styleUrls: ['./create-bill-customer-ahamove.component.scss']\r\n})\r\nexport class CreateBillCustomerAhamoveComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ahamoveService: AhamoveService\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  infoCustomer: any;\r\n  addInformation: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  data_delivery: any\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  invoice: VhSaleInvoices;\r\n  open_status: boolean = false;\r\n  currentAddress: any = {\r\n    address: '',\r\n    ward: '',\r\n    district: '',\r\n    province: ''\r\n  }\r\n  infoAddress: any;\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      note: new FormControl(''),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.vhQuerySales.getlocalAddresss(),\r\n      ]).then((res: any) => {\r\n        this.infoCustomer = this.vhQuerySales.getlocalCustomer(this.billInfo.id_customer);\r\n        if (this.infoCustomer) {\r\n          this.addInformation.controls.name.setValue(this.infoCustomer.name);\r\n          this.addInformation.controls.phone.setValue(this.infoCustomer.phone);\r\n        }\r\n        if (res[0]) {\r\n          this.billDetails = res[0].map(item => {\r\n            let name_product = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: name_product,\r\n            }\r\n          })\r\n          this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n        }\r\n        if (res[1]) {\r\n          let list_address_pickups = res[1].filter(item => item.id_delivery == this.data_delivery._id && item.type == 4);\r\n          if (list_address_pickups.length) {\r\n            let data_address_pickup = list_address_pickups.sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0];\r\n            this.data_delivery = {\r\n              ...this.data_delivery,\r\n              pick_name: data_address_pickup.name,\r\n              pick_tel: data_address_pickup.phone,\r\n              pick_address: data_address_pickup.address,\r\n              pick_province: data_address_pickup.province,\r\n              pick_district: data_address_pickup.district,\r\n              pick_ward: data_address_pickup.ward,\r\n            }\r\n          }\r\n          let infoAddress = res[1].filter(item => item.id_customer == this.billInfo.id_customer && item.type == 3);\r\n          if (infoAddress.length) {\r\n            this.infoAddress = infoAddress.reverse();\r\n            this.currentAddress = this.infoAddress[0];\r\n            this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n            this.addInformation.controls.province.setValue(this.currentAddress.province);\r\n            this.addInformation.controls.district.setValue(this.currentAddress.district);\r\n            this.addInformation.controls.ward.setValue(this.currentAddress.ward);\r\n          }\r\n        }\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n        this.open_status = true;\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting bills'), \"success-toast\")\r\n      })\r\n    }).finally(() => { this.vhComponent.hideLoading(0) })\r\n  }\r\n  checkPrinter: boolean = false;\r\n  goBack(success?) {\r\n    if (success) {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove\"], {\r\n        state: {\r\n          dataSearchAndDate: this.dataSearchAndDate\r\n        }\r\n      })\r\n    } else {\r\n      this.vhComponent\r\n        .alertConfirm(\r\n          (this.languageService.translate(\"Confirm\")),\r\n          (this.languageService.translate(\"Changes will not be saved\")),\r\n          \"\",\r\n          \"OK\",\r\n          (this.languageService.translate(\"Cancel\"))\r\n        )\r\n        .then(\r\n          () => {\r\n            this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove\"], {\r\n              state: {\r\n                dataSearchAndDate: this.dataSearchAndDate\r\n              }\r\n            })\r\n          },\r\n          () => { }\r\n        );\r\n    }\r\n  }\r\n  prepareOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      order_time: 0,\r\n      service_id: this.chooseService._id,\r\n      pick_address: this.formatAddress(this.data_delivery.pick_address, this.data_delivery.pick_ward, this.data_delivery.pick_district, this.data_delivery.pick_province),\r\n      address: this.formatAddress(this.addInformation.value.address, this.addInformation.value.ward, this.addInformation.value.district, this.addInformation.value.province),\r\n      pick_name: this.data_delivery.pick_name,\r\n      pick_tel: this.data_delivery.pick_tel,\r\n      phone: this.addInformation.value.phone,\r\n      name: this.addInformation.value.name,\r\n      note: this.deliveryInfo.value.note ? this.deliveryInfo.value.note : \"\",\r\n      cod: this.cod_amount.getRawValue()\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ahamoveService.createOrderAhamove(this.prepareOrder()).then((res: any) => {\r\n            \r\n            \r\n            this.invoice.setOrderCode(res.order_id);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then((data: any) => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                if (print) {\r\n                  this.showPrint(res);\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                }\r\n                else {\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"alert-toast\")\r\n                  this.goBack(true)\r\n                }\r\n              })\r\n            })\r\n          }).catch(err => {\r\n            \r\n            \r\n            this.vhComponent.hideLoading(0);\r\n            if (err.error.message == \"Request failed with status code 406\") {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"Để sử dụng dịch vụ tiền thu hộ vui lòng liên hệ với Viethas !\"), \"alert-toast\")\r\n            }\r\n            else {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while creating order, please check the information !\"), \"alert-toast\")\r\n            }\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  formatCityId(name) {\r\n    name = name.toLowerCase().trim();\r\n    let city_id = \"0\";\r\n    switch (name) {\r\n      case 'hochiminh': case 'hcm': case 'thành phố hồ chí minh': case 'tphcm': case 'hồ chí minh':\r\n      case 'thanh pho hcm': case 'thanh pho ho chi minh': case 'ho chi minh': case 'tp ho chi minh':\r\n      case 'tp hcm': case 'thanh pho hồ chí minh': case 'tp.hcm': case 'hồ chi minh': case 'hô chí minh': city_id = \"SGN\"; break;\r\n      case 'hanoi': case 'hn': case 'thành phố hà nội': 'thủ đô hà nội';break;\r\n      case 'thanh pho hn': case 'thanh pho ha noi': case 'ha noi': case 'tp ha noi':\r\n      case 'tp hn': case 'thanh pho hà nội': case 'tp.hn': case 'tphn': case 'hà nội':\r\n      case 'hà noi': case 'ha nội': case 'hà nội': city_id = \"HAN\"; break;\r\n      default: city_id = \"0\";\r\n    }\r\n    return city_id;\r\n  }\r\n  formatAddress(address, ward, district, province) {\r\n    return address + \", \" + ward + \", \" + district + \", \" + province;\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethodAhamove: boolean = false;\r\n  dataToGetMethodAhamove: any;\r\n  openChooseMethodAhamove() {\r\n    let pick = this.formatCityId(this.data_delivery.pick_province);\r\n    let receive = this.formatCityId(this.addInformation.value.province);\r\n    if (pick != \"0\" && receive != \"0\") {\r\n      this.dataToGetMethodAhamove = {\r\n        city_id: pick,\r\n        pick_address: this.formatAddress(this.data_delivery.pick_address, this.data_delivery.pick_ward, this.data_delivery.pick_district, this.data_delivery.pick_province),\r\n        receive_address: this.formatAddress(this.addInformation.value.address, this.addInformation.value.ward, this.addInformation.value.district, this.addInformation.value.province),\r\n        token: this.data_delivery.token,\r\n        cod: +this.cod_amount.getRawValue(),\r\n      }\r\n    }\r\n    this.chooseMethodAhamove = true;\r\n  }\r\n  cancelModalMethodAhamove(event) {\r\n    if (event) {\r\n      this.chooseService = event;\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService._id);\r\n    }\r\n    this.chooseMethodAhamove = false;\r\n  }\r\n  // ------drawer list address-----\r\n  visible_list_address: boolean = false;\r\n  data_list_address_ahamove: any;\r\n  gotoAddressCustomer() {\r\n    this.data_list_address_ahamove = {\r\n      billInfo: this.billInfo,\r\n      data_delivery: this.data_delivery\r\n    }\r\n    this.visible_list_address = true;\r\n  }\r\n  onCloseListAddress(event) {\r\n    \r\n    \r\n    if (event) {\r\n      this.addInformation.controls.address.setValue(event.address);\r\n      this.addInformation.controls.province.setValue(event.province);\r\n      this.addInformation.controls.district.setValue(event.district);\r\n      this.addInformation.controls.ward.setValue(event.ward);\r\n      this.currentAddress = event;\r\n      this.chooseService = {}\r\n    }\r\n    else {\r\n      if (this.currentAddress._id && this.vhQuerySales.getlocalAddress(this.currentAddress._id)) {\r\n        this.currentAddress = this.vhQuerySales.getlocalAddress(this.currentAddress._id);\r\n        this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n        this.addInformation.controls.province.setValue(this.currentAddress.province);\r\n        this.addInformation.controls.district.setValue(this.currentAddress.district);\r\n        this.addInformation.controls.ward.setValue(this.currentAddress.ward);\r\n        // this.chooseService = {}\r\n      }\r\n    }\r\n    this.visible_list_address = false;\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  showPrint(res) {\r\n    this.customDataBillInfo(res)\r\n    this.checkPrint().then((printer) => {\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetails,\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack(true);\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack(true)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type) {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  customDataBillInfo(res) {\r\n    this.billInfo = {\r\n      ...this.billInfo,\r\n      order_code: res.order_id,\r\n      data: {\r\n        created: res.order.order_time * 1000,\r\n        ship_money: res.order.total_fee,\r\n        insurance: 0,\r\n        pick_money: res.order.path[1].cod ? res.order.path[1].cod : 0,\r\n        customer_fullname: res.order.path[1].name,\r\n        customer_tel: res.order.path[1].mobile,\r\n        address: res.order.path[1].address,\r\n        is_freeship: 0\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack(false)\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <div>\r\n                            <button (click)=\"gotoAddressCustomer()\" nzType=\"text\" nz-button>\r\n                                <ion-icon name=\"create-outline\"></ion-icon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"currentAddress.ward\" class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <p>{{currentAddress.address}}, {{currentAddress.ward}}, {{currentAddress.district}},\r\n                            {{currentAddress.province}}</p>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Product information\" | translate}}</h6>\r\n                <form class=\"all-content-center\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"24\">\r\n                            <div nz-col nzSpan=\"24\">\r\n                                <div><b>{{'Pickup information'|translate}}*</b></div>\r\n                                <ion-item lines=\"none\" mode=\"md\" class=\"ion-no-padding custom-address-pickup\">\r\n                                    <ion-label *ngIf=\"open_status && data_delivery.pick_name\">\r\n                                        <div>{{data_delivery.pick_name}} - {{data_delivery.pick_tel}}</div>\r\n                                        <div>\r\n                                            {{data_delivery.pick_address}}, {{data_delivery.pick_ward}},\r\n                                            {{data_delivery.pick_district}} , {{data_delivery.pick_province}}\r\n                                        </div>\r\n                                    </ion-label>\r\n                                    <ion-label *ngIf=\"open_status && !data_delivery.pick_name\">{{\"You do not have pickup\r\n                                        information\" |\r\n                                        translate}}</ion-label>\r\n                                </ion-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"chooseService ={}\" class=\"cod_amount\" type=\"text\" maxlength=\"15\"\r\n                                        formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid|| !deliveryInfo.controls.cod.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group\r\n                            (click)=\"(!addInformation.valid|| !deliveryInfo.controls.cod.valid) ? '' : openChooseMethodAhamove()\"\r\n                            class=\"input-group all-content-center\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService._id\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p *ngIf=\"chooseService._id\"\r\n                                    style=\"display: inline-block;color:var(--ion-color-vh-green)\" class=\"nz-no-margin\">\r\n                                    {{chooseService.name_service | translate}} -\r\n                                    {{vhAlgorithm.vhcurrencyunit(chooseService.total_fee)}}\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin-top:10px\" nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService._id\">{{vhAlgorithm.vhcurrencyunit(chooseService.total_fee)}}</b>\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"!chooseService._id\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button (click)=\"createOrder(true)\"\r\n                    [disabled]=\"addInformation.invalid || deliveryInfo.invalid || !checkPrinter || !chooseService._id\"\r\n                    nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || deliveryInfo.invalid || !chooseService._id\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- ---------modal chọn dịch vụ ------------ -->\r\n<app-choose-method-ahamove *ngIf=\"chooseMethodAhamove\" [chooseMethodAhamove]=\"chooseMethodAhamove\"\r\n    [dataToGetMethodAhamove]=\"dataToGetMethodAhamove\" (cancelModalMethodAhamove)=\"cancelModalMethodAhamove($event)\">\r\n</app-choose-method-ahamove>\r\n<!-- ----------drawer list address ------------ -->\r\n<app-list-address-customer-ahamove *ngIf=\"visible_list_address\" (onCloseListAddress)=\"onCloseListAddress($event)\"\r\n    [visible_list_address]=\"visible_list_address\" [data_list_address_ahamove]=\"data_list_address_ahamove\">\r\n</app-list-address-customer-ahamove>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-create-bill-retail-ahamove',\r\n  templateUrl: './create-bill-retail-ahamove.component.html',\r\n  styleUrls: ['./create-bill-retail-ahamove.component.scss']\r\n})\r\nexport class CreateBillRetailAhamoveComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ahamoveService: AhamoveService,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  infoCustomer: any;\r\n  addInformation: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  data_delivery: any\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  invoice: VhSaleInvoices;\r\n  open_status: boolean = false;\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      note: new FormControl(''),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.vhQuerySales.getlocalAddresss(),\r\n      ]).then((res: any) => {\r\n        if (res[0]) {\r\n          this.billDetails = res[0].map(item => {\r\n            let name_product = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: name_product,\r\n            }\r\n          })\r\n          this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n        }\r\n        if (res[1]) {\r\n          let list_address_pickups = res[1].filter(item => item.id_delivery == this.data_delivery._id && item.type == 4);\r\n          if (list_address_pickups.length) {\r\n            let data_address_pickup = list_address_pickups.sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0]\r\n            this.data_delivery = {\r\n              ...this.data_delivery,\r\n              pick_name: data_address_pickup.name,\r\n              pick_tel: data_address_pickup.phone,\r\n              pick_address: data_address_pickup.address,\r\n              pick_province: data_address_pickup.province,\r\n              pick_district: data_address_pickup.district,\r\n              pick_ward: data_address_pickup.ward,\r\n            }\r\n          }\r\n        }\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n        this.open_status = true;\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting bills'), \"alert-toast\")\r\n      })\r\n    }).finally(() => { this.vhComponent.hideLoading(0) })\r\n  }\r\n  checkPrinter: boolean = false;\r\n  goBack(success?) {\r\n    if (success) {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove\"], {\r\n        state: {\r\n          dataSearchAndDate: this.dataSearchAndDate\r\n        }\r\n      })\r\n    } else {\r\n      this.vhComponent\r\n        .alertConfirm(\r\n          (this.languageService.translate(\"Confirm\")),\r\n          (this.languageService.translate(\"Changes will not be saved\")),\r\n          \"\",\r\n          \"OK\",\r\n          (this.languageService.translate(\"Cancel\"))\r\n        )\r\n        .then(\r\n          () => {\r\n            this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove\"], {\r\n              state: {\r\n                dataSearchAndDate: this.dataSearchAndDate\r\n              }\r\n            })\r\n          },\r\n          () => { }\r\n        );\r\n    }\r\n  }\r\n  prepareProducts() {\r\n    let data = this.billDetails.map(item => {\r\n      return {\r\n        name: item.name_product,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  prepareOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      order_time: 0,\r\n      service_id: this.chooseService._id,\r\n      pick_address: this.formatAddress(this.data_delivery.pick_address, this.data_delivery.pick_ward, this.data_delivery.pick_district, this.data_delivery.pick_province),\r\n      address: this.formatAddress(this.addInformation.value.address, this.addInformation.value.ward, this.addInformation.value.district, this.addInformation.value.province),\r\n      pick_name: this.data_delivery.pick_name,\r\n      pick_tel: this.data_delivery.pick_tel,\r\n      phone: this.addInformation.value.phone,\r\n      name: this.addInformation.value.name,\r\n      note: this.deliveryInfo.value.note ? this.deliveryInfo.value.note : \"\",\r\n      cod: this.cod_amount.getRawValue()\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ahamoveService.createOrderAhamove(this.prepareOrder()).then((res: any) => {\r\n            this.invoice.setOrderCode(res.order_id);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then((data: any) => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                if (print) {\r\n                  this.showPrint(res);\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                }\r\n                else {\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                  this.goBack(true)\r\n                }\r\n              })\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            if (err.error.message == \"Request failed with status code 406\") {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"Để sử dụng dịch vụ tiền thu hộ vui lòng liên hệ với Viethas !\"), \"alert-toast\")\r\n            }\r\n            else {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while creating order, please check the information !\"), \"alert-toast\")\r\n            }\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  showPrint(res) {\r\n    this.customDataBillInfo(res)\r\n    this.checkPrint().then((printer) => {\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetails,\r\n        data_delivery: this.data_delivery,\r\n        printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack(true);\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack(true)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type) {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  customDataBillInfo(res) {\r\n    this.billInfo = {\r\n      ...this.billInfo,\r\n      order_code: res.order_id,\r\n      data: {\r\n        created: res.order.order_time * 1000,\r\n        ship_money: res.order.total_fee,\r\n        insurance: 0,\r\n        pick_money: res.order.path[1].cod ? res.order.path[1].cod : 0,\r\n        customer_fullname: res.order.path[1].name,\r\n        customer_tel: res.order.path[1].mobile,\r\n        address: res.order.path[1].address,\r\n        is_freeship: 0\r\n      }\r\n    }\r\n  }\r\n  formatCityId(name) {\r\n    name = name.toLowerCase().trim();\r\n    let city_id = \"0\";\r\n    switch (name) {\r\n      case 'hochiminh': case 'hcm': case 'thành phố hồ chí minh': case 'tphcm': case 'hồ chí minh':\r\n      case 'thanh pho hcm': case 'thanh pho ho chi minh': case 'ho chi minh': case 'tp ho chi minh':\r\n      case 'tp hcm': case 'thanh pho hồ chí minh': case 'tp.hcm': case 'hồ chi minh': case 'hô chí minh': city_id = \"SGN\"; break;\r\n      case 'hanoi': case 'hn': case 'thành phố hà nội': 'thủ đô hà nội'; break;\r\n      case 'thanh pho hn': case 'thanh pho ha noi': case 'ha noi': case 'tp ha noi':\r\n      case 'tp hn': case 'thanh pho hà nội': case 'tp.hn': case 'tphn': case 'hà nội':\r\n      case 'hà noi': case 'ha nội': case 'hà nội': city_id = \"HAN\"; break;\r\n      default: city_id = \"0\";\r\n    }\r\n    return city_id;\r\n  }\r\n  formatAddress(address, ward, district, province) {\r\n    return address + \", \" + ward + \", \" + district + \", \" + province;\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethodAhamove: boolean = false;\r\n  dataToGetMethodAhamove: any;\r\n  openChooseMethodAhamove() {\r\n    let pick = this.formatCityId(this.data_delivery.pick_province);\r\n    let receive = this.formatCityId(this.addInformation.value.province);\r\n    if (pick != \"0\" && receive != \"0\") {\r\n      this.dataToGetMethodAhamove = {\r\n        city_id: pick,\r\n        pick_address: this.formatAddress(this.data_delivery.pick_address, this.data_delivery.pick_ward, this.data_delivery.pick_district, this.data_delivery.pick_province),\r\n        receive_address: this.formatAddress(this.addInformation.value.address, this.addInformation.value.ward, this.addInformation.value.district, this.addInformation.value.province),\r\n        token: this.data_delivery.token,\r\n        cod: +this.cod_amount.getRawValue(),\r\n      }\r\n    }\r\n    this.chooseMethodAhamove = true;\r\n  }\r\n  cancelModalMethodAhamove(event) {\r\n    if (event) {\r\n      this.chooseService = event;\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService._id);\r\n    }\r\n    this.chooseMethodAhamove = false;\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack(false)\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Example: 14A Cong Hoa Street' | translate}}\" required />\r\n                                    <ng-template #combineTplAddress let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Province'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"chooseService ={}\" formControlName=\"province\" nz-input\r\n                                        placeholder=\"{{'Vd: Hồ Chí Minh' | translate}}\" required />\r\n                                    <ng-template #combineTplProvince let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Province is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'District'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"chooseService = {}\" formControlName=\"district\" nz-input\r\n                                        placeholder=\"{{'Vd: Tân Bình' | translate}}\" required />\r\n                                    <ng-template #combineTplDistrict let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Ward'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"chooseService ={}\" formControlName=\"ward\" nz-input\r\n                                        placeholder=\"{{'Example: Ward 4' | translate}}\" required />\r\n                                    <ng-template #combineTplDistrict let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Product information\" | translate}}</h6>\r\n                <form class=\"all-content-center\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Pickup information'|translate}}*</b></div>\r\n                                <ion-item lines=\"none\" mode=\"md\" class=\"ion-no-padding custom-address-pickup\">\r\n                                    <ion-label style=\"font-size: 0.9rem !important;\"\r\n                                        *ngIf=\"open_status && data_delivery.pick_name\">\r\n                                        <div>{{data_delivery.pick_name}} - {{data_delivery.pick_tel}}</div>\r\n                                        <div>\r\n                                            {{data_delivery.pick_address}}, {{data_delivery.pick_ward}},\r\n                                            {{data_delivery.pick_district}} , {{data_delivery.pick_province}}\r\n                                        </div>\r\n                                    </ion-label>\r\n                                    <ion-label *ngIf=\"open_status && !data_delivery.pick_name\">{{\"You do not have pickup\r\n                                        information\" |\r\n                                        translate}}</ion-label>\r\n                                </ion-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"chooseService ={}\" class=\"cod_amount\" type=\"text\" maxlength=\"15\"\r\n                                        formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid|| !deliveryInfo.controls.cod.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group (click)=\"openChooseMethodAhamove()\" class=\"input-group all-content-center\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService._id\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p *ngIf=\"chooseService._id\"\r\n                                    style=\"display: inline-block;color:var(--ion-color-vh-green)\" class=\"nz-no-margin\">\r\n                                    {{chooseService.name_service | translate}} -\r\n                                    {{vhAlgorithm.vhcurrencyunit(chooseService.total_fee)}}\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin-top:10px\" nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService._id\">{{vhAlgorithm.vhcurrencyunit(chooseService.total_fee)}}</b>\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"!chooseService._id\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button (click)=\"createOrder(true)\"\r\n                    [disabled]=\"addInformation.invalid || deliveryInfo.invalid || !checkPrinter || !chooseService._id\"\r\n                    nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || deliveryInfo.invalid || !chooseService._id\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- ---------modal chọn dịch vụ ------------ -->\r\n<app-choose-method-ahamove *ngIf=\"chooseMethodAhamove\" [chooseMethodAhamove]=\"chooseMethodAhamove\"\r\n    [dataToGetMethodAhamove]=\"dataToGetMethodAhamove\" (cancelModalMethodAhamove)=\"cancelModalMethodAhamove($event)\">\r\n</app-choose-method-ahamove>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-delivery-ahamove',\r\n  templateUrl: './delivery-ahamove.component.html',\r\n  styleUrls: ['./delivery-ahamove.component.scss']\r\n})\r\nexport class DeliveryAhamoveComponent implements OnInit {\r\n\r\n  bills: Array<any> = [];\r\n  show_bills: any = [];\r\n  //Hôm nay 0h- 23h59\r\n  startDateTime = new Date();\r\n  subStartDateTime = new Date();\r\n  endDateTime = new Date();\r\n  subEndDateTime = new Date();\r\n  //biến cờ show\r\n  status_open: boolean = false;\r\n  data_delivery: any;\r\n  valueOfStatus: number = 0;\r\n  search: string = '';\r\n  list_status: Array<any> = [\r\n    { group: 0, name: \"All\" },\r\n    { group: 1, name: \"Not enough information\" },\r\n    { group: 2, name: \"Ready to pick\" },\r\n    { group: 3, name: \"Delivering\" },\r\n    { group: 4, name: \"Completed\" },\r\n    { group: 5, name: \"Assigning\" },\r\n    { group: 6, name: \"Cancelled\" }\r\n  ]\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  constructor(\r\n    public lang: LanguageService,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ahamoveService: AhamoveService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhQuery: VhQuery,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.startDateTime.setHours(0, 0, 0);\r\n    this.subStartDateTime = this.startDateTime;\r\n    this.endDateTime.setHours(23, 59, 59);\r\n    this.subEndDateTime = this.endDateTime;\r\n    this.getSearchAndDate()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill\"]);\r\n  }\r\n  getSearchAndDate() {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      let dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate;\r\n      this.search = dataSearchAndDate.search ? dataSearchAndDate.search : \"\";\r\n      this.startDateTime = dataSearchAndDate.startDateTime;\r\n      this.endDateTime = dataSearchAndDate.endDateTime;\r\n      this.subStartDateTime = this.startDateTime;\r\n      this.subEndDateTime = this.endDateTime;\r\n    }\r\n  }\r\n  /**\r\n    * Hàm lấy bill trong khoăng thời gian được set\r\n    */\r\n  getData(startTime, endTime) {\r\n    this.status_open = false;\r\n    this.data_delivery = this.vhQuerySales.getlocalDeliverys().filter(item => item.active && item.type == 3)[0];\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.bills = []\r\n      Promise.all([\r\n        this.getTokenAhamoveByPhone(this.data_delivery.phone),\r\n        this.vhQuerySales.getBills_byFields( { date: { $gte: startTime, $lte: endTime }, bill_type: { $eq: 1 }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id } }, {}, {}, 0),\r\n      ]).then((res: any) => {\r\n        if (res[0]) this.data_delivery['token'] = res[0];\r\n        if (res[1].length) {\r\n          let bills = res[1].filter(item => item.id_delivery == this.data_delivery._id);\r\n          \r\n          \r\n          this.bills = bills.reverse();\r\n          let process: Array<any> = []\r\n          this.bills.forEach(item => {\r\n            item.customer_name = this.vhQuerySales.getlocalCustomer(item.id_customer).name\r\n            if (item.order_code)\r\n              process.push(this.ahamoveService.getDetailBillAhamove(this.data_delivery['token'], item.order_code))\r\n            else {\r\n              item.name_group = 'Not enough information'\r\n              item.group = 1;\r\n            }\r\n          })\r\n          Promise.all(process).then((result: Array<any>) => {\r\n            result.forEach(item => {\r\n              \r\n              let data = this.filterGroupName(item.status);\r\n              let index = this.bills.findIndex(data => data.order_code == item._id)\r\n              this.bills[index] = { data: item, name_group: data.name_group, group: data.group, ...this.bills[index] }\r\n            })\r\n            this.status_open = true;\r\n            this.show_bills = [...this.bills];\r\n            this.vhComponent.hideLoading(0)\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0)\r\n            this.vhComponent.showToast(2000, this.lang.translate(\"An error occurred while getting data\"), \"alert-toast\")\r\n          })\r\n        }\r\n        else  this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n  getTokenAhamoveByPhone(phone) {\r\n    return new Promise<any>((resolve, rejects) => {\r\n      this.ahamoveService.getTokenAhaMove(phone).then((res: any) => resolve(res.token)).catch(() => rejects(\"error\"))\r\n    })\r\n  }\r\n  filterGroupName(status) {\r\n    let data: any = {\r\n      group: '',\r\n      name_group: ''\r\n    };\r\n    switch (status) {\r\n      case \"ASSIGNING\" :  data.name_group = 'ASSIGNING'; // chờ xác thực\r\n      data.group = 2;\r\n      break;\r\n      case 'ACCEPTED':\r\n        data.name_group = 'Ready to pick'; // chờ lấy hàng\r\n        data.group = 2;\r\n        break;\r\n      case 'IN PROCESS': case 'FAILED': case 'BOARDED': case 'COMPLETING': //đang giao hàng\r\n        data.name_group = 'Delivering';\r\n        data.group = 3\r\n        break;\r\n      case 'COMPLETED': //giao hàng thành công\r\n        data.group = 4,\r\n          data.name_group = 'Completed'\r\n        break;\r\n      case 'IDLE': case 'ASSIGNING': //chờ tiếp nhận\r\n        data.group = 5,\r\n          data.name_group = 'Assigning'\r\n        break;\r\n      case 'CANCELLED':  //hủy\r\n        data.group = 6;\r\n        data.name_group = 'Canceled';\r\n        break;\r\n    }\r\n    return data;\r\n  }\r\n  setStartTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.endDateTime = new Date(this.startDateTime.getTime() + 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.lang.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  setEndTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.startDateTime = new Date(this.endDateTime.getTime() - 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.lang.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  //searchbill\r\n  searchBill(value) {\r\n    this.show_bills = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value).toLowerCase(),\r\n      this.bills,\r\n      [\"bill_code\", \"order_code\"]\r\n    );\r\n  }\r\n  gotoCreateOrder(bill) {\r\n    if (bill.id_customer != \"id_retail\") {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove/order-bill-customer-ahamove\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove/order-bill-retail-ahamove\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  gotoBillDetail(bill) {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove/detail-bill\"],\r\n      {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      })\r\n  }\r\n  /**\r\n  * filter các trạng thái của bill \r\n  * */\r\n  filterStatus(value) {\r\n    value = parseInt(value);\r\n    if (value == 1) {\r\n      this.show_bills = this.bills.filter(item => !item.data);\r\n    }\r\n    else if (value == 0) {\r\n      this.show_bills = this.bills;\r\n    }\r\n    else if (value == 2) {\r\n      this.show_bills = this.bills.filter(item => item.group == 2)\r\n    }\r\n    else if (value == 3) {\r\n      this.show_bills = this.bills.filter(item => item.group == 3)\r\n    }\r\n    else if (value == 4) {\r\n      this.show_bills = this.bills.filter(item => item.group == 4)\r\n    }\r\n    else if (value == 5) {\r\n      this.show_bills = this.bills.filter(item => item.group == 5)\r\n    }\r\n    else if (value == 6) {\r\n      this.show_bills = this.bills.filter(item => item.group == 6)\r\n    }\r\n  }\r\n  onCurrentPageDataChange(event) { }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"table-delivery-ahamove\") && document.querySelector(\".delivery-ahamove-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.getElementById(\"table-delivery-ahamove\").clientHeight - document.querySelector(\".delivery-ahamove-header\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 150 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"table-delivery-ahamove\">\r\n    <div nzGutter=\"16\" class=\"delivery-ghn delivery-ghtk-header\" nz-row>\r\n        <div nz-col nzSpan=\"6\">\r\n            <h3 class=\"title nz-no-margin\">{{'Ahamove'|translate}}</h3>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"title center-all-content\">\r\n            <nz-input-group class=\"nz-hover-border\" [nzSuffix]=\"suffixIconSearch\">\r\n                <input class=\"medium-size\" type=\"text\" nz-input [(ngModel)]=\"search\"\r\n                    (ngModelChange)=\"searchBill($event)\"\r\n                    placeholder=\"{{'Search for bill code, order code'|translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\">\r\n            <nz-select nzBorderless class=\"nz-hover-border medium-size\" (ngModelChange)=\"filterStatus($event)\"\r\n                [(ngModel)]=\"valueOfStatus\">\r\n                <nz-option *ngFor=\"let option of list_status\" [nzLabel]=\"option.name | translate\"\r\n                    [nzValue]=\"option.group\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div class=\"center-all-content date-picker-cus\" nz-col nzSpan=\"6\">\r\n            <nz-date-picker [nzDisabledDate]=\"disabledDate\" nzFormat='dd/MM/yyyy' [(ngModel)]=\"startDateTime\"\r\n                (ngModelChange)=\"setStartTime($event)\" nzBorderless></nz-date-picker>\r\n            <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\r\n            <nz-date-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"endDateTime\" (ngModelChange)=\"setEndTime($event)\"\r\n                nzBorderless>\r\n            </nz-date-picker>\r\n        </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"24\">\r\n        <div class=\"table-delivery-ahamove\" nz-col nzSpan=\"24\">\r\n            <div class=\"medium-size\">{{'Total' |translate}}<span style=\"color: red;\"> {{show_bills.length}}\r\n                </span>{{'shipping bills' | translate}}\r\n            </div>\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" #tableDelvieryAhamove\r\n                [nzScroll]=\"{ y: heightScroll }\" nzShowPagination nzShowSizeChanger\r\n                (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\" [nzData]=\"show_bills\"\r\n                nzNoResult=\"{{'No data'| translate}}\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><b>{{'Time' | translate}}</b></th>\r\n                        <th><b>{{'Invoice code' | translate}}</b></th>\r\n                        <th><b>{{'Order code' | translate}}</b></th>\r\n                        <th><b>{{'Customer' | translate}}</b></th>\r\n                        <th><b>{{'COD' | translate}}</b></th>\r\n                        <th><b>{{'Status' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"item.data ? gotoBillDetail(item) : gotoCreateOrder(item)\"\r\n                        *ngFor=\"let item of show_bills\" style=\"cursor: pointer;\">\r\n                        <td>{{(item.date.seconds ? item.date.toDate() : item.date) | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                        <td>{{item.bill_code}}</td>\r\n                        <td>{{item.order_code ? item.order_code : \"\"}}</td>\r\n                        <td>{{(item.customer_name ? item.customer_name :\"Customer retail\") | translate}}</td>\r\n                        <td>{{item.data ? (item.data.path[1].cod ? vhAlgorithm.vhcurrencyunit(item.data.path[1].cod) :\r\n                            0) : \"\"}}</td>\r\n                        <td *ngIf=\"!item.data && status_open\">{{\"Not enough information\" | translate}}</td>\r\n                        <td *ngIf=\"item.group ==5 && status_open\">{{\"Assigning\" | translate}}</td>\r\n                        <td *ngIf=\"item.group ==2 && status_open\">{{\"Ready to pick\" | translate}}</td>\r\n                        <td *ngIf=\"item.group ==3 && status_open\">{{\"Delivering\" | translate}}</td>\r\n                        <td *ngIf=\"item.group ==4 && status_open\">{{\"Completed\" | translate}}</td>\r\n                        <td style=\"color : var(--ion-color-vh-orange)\" *ngIf=\"item.group ==6 && status_open\">\r\n                            {{\"Cancelled\" | translate}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeliveryAhamoveComponent } from './delivery-ahamove.component';\r\nimport { CreateBillRetailAhamoveComponent } from './create-bill-retail-ahamove/create-bill-retail-ahamove.component';\r\nimport { CreateBillCustomerAhamoveComponent } from './create-bill-customer-ahamove/create-bill-customer-ahamove.component';\r\nimport { DetailBillAhamoveComponent } from './detail-bill-ahamove/detail-bill-ahamove.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ChooseMethodAhamoveComponent } from './components/choose-method-ahamove/choose-method-ahamove.component';\r\nimport { ListAddressCustomerAhamoveComponent } from './components/list-address-customer-ahamove/list-address-customer-ahamove.component';\r\nimport { AddAddressCustomerAhamoveComponent } from './components/add-address-customer-ahamove/add-address-customer-ahamove.component';\r\nimport { EditAddressCustomerAhamoveComponent } from './components/edit-address-customer-ahamove/edit-address-customer-ahamove.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: DeliveryAhamoveComponent\r\n      },\r\n      {\r\n        path: \"order-bill-retail-ahamove\",\r\n        component: CreateBillRetailAhamoveComponent\r\n      },\r\n      {\r\n        path: \"order-bill-customer-ahamove\",\r\n        component: CreateBillCustomerAhamoveComponent\r\n      },\r\n      {\r\n        path: \"detail-bill\",\r\n        component: DetailBillAhamoveComponent\r\n      }\r\n    ]\r\n  }\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [DeliveryAhamoveComponent, CreateBillRetailAhamoveComponent, CreateBillCustomerAhamoveComponent, DetailBillAhamoveComponent, ChooseMethodAhamoveComponent, ListAddressCustomerAhamoveComponent, EditAddressCustomerAhamoveComponent, AddAddressCustomerAhamoveComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class DeliveryAhamoveModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-bill-ahamove',\r\n  templateUrl: './detail-bill-ahamove.component.html',\r\n  styleUrls: ['./detail-bill-ahamove.component.scss']\r\n})\r\nexport class DetailBillAhamoveComponent implements OnInit {\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ahamoveService: AhamoveService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhAuth: VhAuth,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  billInfo: any;\r\n  inforCustomer: any;\r\n  data_delivery: any;\r\n  billDetail: any;\r\n  dataSearchAndDate: any;\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.billDetail = res.map((item: any) => {\r\n            let name_product = this.vhQuerySales.getlocalProduct(item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: name_product,\r\n            }\r\n          })\r\n          this.billInfo.name_service = this.filterTitleServiceAhamove(this.billInfo.data.service._id);\r\n        })\r\n      })\r\n    })\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ahamove\"], {\r\n      state: { dataSearchAndDate: this.dataSearchAndDate }\r\n    })\r\n  }\r\n  cancelOrder() {\r\n    if (this.vhAuth.checkMyPermission(\"shipping_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate('Confirm'), \"\", this.languageService.translate(\"Do you want to delete shipping bill ?\"), \"Ok\", this.languageService.translate(\"Cancel\")).then(() => {\r\n        this.vhComponent.showLoading('', 'transparent-loading');\r\n        this.ahamoveService.cancelOrderAhamove(this.data_delivery.token, this.billInfo.order_code).then(() => {\r\n          this.vhComponent.hideLoading(0).then().then(() => {\r\n            this.vhComponent.showToast(2000, this.languageService.translate(\"Delete bill successfully\"), \"success-toast\")\r\n            this.goBack();\r\n          })\r\n        }).catch(err => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while deleting bill\"), \"alert-toast\")\r\n        })\r\n      }).catch(() => { })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n\r\n  }\r\n  filterTitleServiceAhamove(id) {\r\n    let title = '';\r\n    let description = '';\r\n    switch (id) {\r\n      case 'SGN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'SGN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'SGN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'SGN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n      case 'SGN-TRICYCLE': title = 'Delivery tricycle'; description = 'Tricycle service description'; break;\r\n      case 'SGN-TRUCK-500': title = '500kg truck'; description = 'Delivered by small truck'; break;\r\n      case 'SGN-TRUCK-2000': title = '2000kg truct'; description = 'Delivered by big truck'; break;\r\n      case 'HAN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'HAN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'HAN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'HAN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n    }\r\n    return title;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillDetail(this.billDetail);\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['type']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetail,\r\n        printer,\r\n        data_delivery: this.data_delivery\r\n      }, false, false, \"modal-print\")\r\n    }, (err) => {\r\n      let name :any= 'Sales'\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/sales/dashboard/manage/printer','page_desktop_sales'],{state : name}))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' |'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.order_time * 1000;\r\n    this.billInfo.data.ship_money = this.billInfo.data.total_fee;\r\n    this.billInfo.data.insurance = 0;\r\n    this.billInfo.data.pick_money = this.billInfo.data.path[1].cod ? this.billInfo.data.path[1].cod : 0;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.path[1].name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.path[1].mobile;\r\n    this.billInfo.data.address = this.billInfo.data.path[1].address;\r\n    this.billInfo.data.is_freeship = 0;\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"7\">\r\n                    <h3>{{\"Shipment bill\" | translate}}</h3>\r\n                </div>\r\n                <div nz-col nzSpan=\"17\" class=\"addInformation-button\">\r\n                    <button (click)=\"showPrint()\" nz-button class=\"nz-hover-border\">\r\n                        <ion-icon style=\"font-size: 0.9rem; margin-right: 4px; margin-bottom: -2px;\"\r\n                            src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                        {{\"Print shipping bill\"|translate}}\r\n                    </button>\r\n                    <button [disabled]=\"billInfo.group!=2 && billInfo.group !=5\" (click)=\"cancelOrder()\" nz-button\r\n                        class=\"nz-hover-border\">\r\n                        <ion-icon style=\"font-size: 0.9rem; margin-right: 4px; margin-bottom: -2px;\"\r\n                            name=\"trash-outline\"></ion-icon>\r\n                        {{\"Cancel\"|translate}}\r\n                    </button>\r\n                </div>\r\n                <div class=\"addInformation-info\" nz-col nzSpan=\"24\">\r\n                    <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                    <p><b>{{\"Bill code\" | translate}}</b>: {{billInfo.bill_code}}</p>\r\n                    <p><b>{{\"Order code\" | translate}}</b>: {{billInfo.order_code}}</p>\r\n                    <p><b>{{\"Name\" | translate}}</b>: {{billInfo.data.path[1].name}}</p>\r\n                    <p><b>{{\"Phone number\" | translate}}</b>: {{billInfo.data.path[1].mobile}}</p>\r\n                    <p *ngIf=\"billInfo.data\"><b>{{\"Address\" | translate}}</b>: {{billInfo.data.path[1].address}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <h6>{{\"Products information\" | translate}}</h6>\r\n            <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetail\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of rowSelectionTable.data\" class=\"choose-product\">\r\n                        <td style=\"text-align: left;\" colspan=\"7\">\r\n                            {{item.name_product}}\r\n                        </td>\r\n                        <td style=\"text-align: end;\" colspan=\"7\">\r\n                            {{item.quantity}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n            <div nz-row>\r\n                <div><b>{{'Pickup information'|translate}}*</b></div>\r\n                <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                    <ion-item lines=\"none\" mode=\"md\" class=\"ion-no-padding custom-address-pickup\">\r\n                        <ion-label *ngIf=\"billInfo.data\">\r\n                            <div>{{billInfo.data.path[0].name}} - {{billInfo.data.path[0].mobile}}</div>\r\n                            <div>\r\n                                {{billInfo.data.path[0].address}}\r\n                            </div>\r\n                        </ion-label>\r\n                    </ion-item>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo notReuseInfo\">\r\n            <div class=\"deliveryInfo-form ant-table-body\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <p><b>{{\"COD\" | translate}}</b>: {{billInfo.data.path[1].cod ?\r\n                    vhAlgorithm.vhcurrencyunit(billInfo.data.path[1].cod) : 0}}</p>\r\n                <p><b>{{\"Carriage\" | translate}}</b>: {{billInfo.name_service | translate}}\r\n                <p><b>{{\"Note\" | translate}}</b>: {{billInfo.data.path[1].remarks}}</p>\r\n            </div>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(billInfo.data.total_fee)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>"],"names":[],"sourceRoot":"webpack:///"}