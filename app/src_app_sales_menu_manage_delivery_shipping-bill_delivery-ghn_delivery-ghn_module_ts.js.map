{"version":3,"file":"src_app_sales_menu_manage_delivery_shipping-bill_delivery-ghn_delivery-ghn_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/delivery/services/ghnService/ghn.service.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/add-address-customer-ghn/add-address-customer-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/add-address-customer-ghn/add-address-customer-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-district-ghn/choose-district-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-district-ghn/choose-district-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-method-ghn/choose-method-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-method-ghn/choose-method-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-province-ghn/choose-province-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-province-ghn/choose-province-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-ward-ghn/choose-ward-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/choose-ward-ghn/choose-ward-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/edit-address-customer-ghn/edit-address-customer-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/edit-address-customer-ghn/edit-address-customer-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/list-address-customer-ghn/list-address-customer-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/list-address-customer-ghn/list-address-customer-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/shipping-bill-history/shipping-bill-history.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/components/shipping-bill-history/shipping-bill-history.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/create-bill-customer/create-bill-customer.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/create-bill-customer/create-bill-customer.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/create-bill-retail/create-bill-retail.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/create-bill-retail/create-bill-retail.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/delivery-ghn.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/delivery-ghn.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/delivery-ghn.module.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/detail-bill/detail-bill.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/detail-bill/detail-bill.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/reuse-bill-customer/reuse-bill-customer.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/reuse-bill-customer/reuse-bill-customer.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/reuse-bill-retail/reuse-bill-retail.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghn/reuse-bill-retail/reuse-bill-retail.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhnService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  /**\r\n  * kiểm tra token của giao hàng nhanh có hợp lệ hay không\r\n  * @example : this.transportService.connectTokenGhn(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  connectTokenGhn(token) {\r\n    let urlGhn = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/all';\r\n    const options = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(urlGhn, options).toPromise();\r\n  }\r\n  /**\r\n  * get các tỉnh trong nước Việt Nam\r\n  * @param token\r\n  * @example this.transportService.getProvinceGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getProvinceGhn(token) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/province';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các huyện trong tỉnh của Việt Nam\r\n  * @param token ,province_id\r\n  * @example this.transportService.getDistrictGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getDistrictGhn(token, province_id?) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/district';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n\r\n      }),\r\n      params: {\r\n        \"province_id\": province_id ? province_id : 0\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các xã trong huyện của Việt Nam\r\n  * @param token ,district_id\r\n  * @example this.transportService.getWardGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getWardGhn(token, district_id) {\r\n    let url = `https://online-gateway.ghn.vn/shiip/public-api/master-data/ward?${district_id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"district_id\": district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính phí vận chuyển\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return\r\n  **/\r\n  calculate_delivery_fee(token, data) {\r\n    let url = \"https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n      params: {\r\n        \"service_id\": data.service_id,\r\n        \"to_ward_code\": data.to_ward_code,\r\n        \"from_district_id\": data.from_district_id,\r\n        \"height\": data.height,\r\n        \"length\": data.length,\r\n        \"weight\": data.weight,\r\n        \"width\": data.width,\r\n        \"insurance_value\": data.insurance_value,\r\n        \"to_district_id\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * chọn service : đi bộ, bay...\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return result { data : [service_id,short_name,service_type_id]}\r\n  **/\r\n  getServiceDelivery(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"shop_id\": data.shop_id,\r\n        \"from_district\": data.from_district_id,\r\n        \"to_district\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tạo đơn giao hàng\r\n  * @param data\r\n  * @example this.transportService.createOrderGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  createOrderGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/create';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Token\": data.token,\r\n        \"Content-Type\": \"application/json\",\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"to_name\": data.to_name,\r\n      \"to_phone\": data.to_phone,\r\n      \"to_address\": data.to_address,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"weight\": data.weight,\r\n      \"height\": data.height,\r\n      \"length\": data.length,\r\n      \"width\": data.width,\r\n      \"payment_type_id\": data.payment_type_id,\r\n      \"required_note\": data.required_note,\r\n      \"items\": data.items,\r\n      \"service_id\": data.service_id,\r\n      \"cod_amount\": data.cod_amount,\r\n      \"insurance_value\": data.insurance_value,\r\n      \"note\": data.note ? data.note : ''\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tính (đoán) ngày vận chuyển hàng hoàn thành\r\n  * @param data;\r\n  * @example : this.transportService.calculateTheExpectedDeliveryTime().then(res =>{})\r\n  * @return :\r\n  **/\r\n  calculateTheExpectedDeliveryTime(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"from_district_id\": data.from_district_id,\r\n      \"from_ward_code\": data.from_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"service_id\": data.service_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getInfoOrder(token, order_code) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_code\": order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  cancelOrder(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/switch-status/cancel';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": data.token,\r\n        \"ShopId\": data.shop_id.toString(),\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_codes\": data.order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getOtpGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateOTP';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\", //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  addStaffToStore(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateCreateWithShop';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\",  //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone,\r\n      \"otp\": data.otp,\r\n      \"shop_id\": data.shop_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add-address-customer-ghn',\r\n  templateUrl: './add-address-customer-ghn.component.html',\r\n  styleUrls: ['./add-address-customer-ghn.component.scss']\r\n})\r\nexport class AddAddressCustomerGhnComponent implements OnInit {\r\n  @Input(\"visible_add_address_ghn\") visible_add_address_ghn: boolean = false;\r\n  @Output(\"closeAndGetValueAddAddress\") closeAndGetValueAddAddress = new EventEmitter<any>();\r\n  @Input(\"data_add_address_ghn\") data_add_address_ghn;\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  chooseService: any;\r\n  data_delivery: any;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.data_delivery = this.data_add_address_ghn.data_delivery;\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n  }\r\n  createAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create address Giao Hang Nhanh ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        let checkAddress: any = this.checkAddress(this.addInformation.value);\r\n        if (checkAddress.result) {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"This address already exists\"), \"alert-toast\")\r\n        } else {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.addAddress(this.exportAddress()).then(res => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                if (res) {\r\n                  this.vhComponent.showToast(2000, this.languageService.translate(\"This address has been created successfully\"), \"success-toast\")\r\n                  this.closeAndGetValueAddAddress.emit(res);\r\n                }\r\n              })\r\n            })\r\n          })\r\n        }\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  exportAddress() {\r\n    let data = {\r\n      id_customer: this.data_add_address_ghn.billInfo.id_customer,\r\n      type: 1,\r\n      province_id: this.addInformation.value.province,\r\n      province: this.province.ProvinceName,\r\n      district_id: this.addInformation.value.district,\r\n      district: this.district.DistrictName,\r\n      ward_id: this.addInformation.value.ward,\r\n      ward: this.ward.WardName,\r\n      address: this.addInformation.value.address,\r\n      date: new Date().toISOString(),\r\n    }\r\n    return data;\r\n  }\r\n  /** \r\n  * hàm này dùng để check xem địa chỉ của khách hàng đã có trong database hay chưa\r\n  * result : true là địa chỉ đã được lưu không cần lưu lại, false tức là phải lưu địa chỉ đó lại\r\n  * */\r\n  checkAddress(data) {\r\n    let result: boolean = false;\r\n    let id_address;\r\n    //duyệt for trường hợp trùng địa chỉ thì return true để khỏi lưu lại\r\n    for (let i in this.data_add_address_ghn.infoAddress) {\r\n      if (this.data_add_address_ghn.infoAddress[i].ward_id == data.ward && this.data_add_address_ghn.infoAddress[i].address == data.address) {\r\n        result = true;\r\n        id_address = this.data_add_address_ghn.infoAddress[i]._id\r\n      }\r\n    }\r\n    return {\r\n      result: result,\r\n      id_address: id_address\r\n    };\r\n  }\r\n  onClose() {\r\n    this.closeAndGetValueAddAddress.emit(false);\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.chooseService = '';\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.chooseService = '';\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_add_address_ghn\" nzTitle=\"{{'Create Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <h6>{{\"Receiver Information\" | translate}}</h6>\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input\r\n                                    placeholder=\"{{'Enter your address' | translate}}\" required />\r\n                                <ng-template #combineTplName let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"province.ProvinceName\" class=\"input-group all-content-center\"\r\n                        (click)=\"chooseProvince()\">\r\n                        {{province.ProvinceName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!province.ProvinceName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"chooseProvince()\"> {{\"Province\"\r\n                        | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n                <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\" [ngStyle]=\"{opacity: province.ProvinceName ? 1: 0.5}\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"district.DistrictName\" class=\"input-group all-content-center\"\r\n                        (click)=\"province.ProvinceName ? chooseDistrict():''\">\r\n                        {{district.DistrictName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!district.DistrictName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"province.ProvinceName ? chooseDistrict():''\"> {{\"District\"\r\n                        | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n                <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\" [ngStyle]=\"{opacity: district.DistrictName ? 1: 0.5}\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"ward.WardName\" class=\"input-group all-content-center\"\r\n                        (click)=\"district.DistrictName ? chooseWard():''\">\r\n                        {{ward.WardName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!ward.WardName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"district.DistrictName ? chooseWard():''\"> {{\"Ward\" | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"createAddress()\">{{\"Save\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n<!-- -------modal-------- -->\r\n<app-choose-province-ghn *ngIf=\"chooseProvinceGhn\" [chooseProvinceGhn]=\"chooseProvinceGhn\" [token]=\"data_delivery.token\"\r\n    (cancelModalProvinceGhn)=\"cancelModalProvinceGhn($event)\">\r\n</app-choose-province-ghn>\r\n<!-- --------modal chọn huyện--------- -->\r\n<app-choose-district-ghn *ngIf=\"chooseDistrictGhn\" [chooseDistrictGhn]=\"chooseDistrictGhn\" [token]=\"data_delivery.token\"\r\n    [province_idModal]=\"province_idModal\" (cancelModalDistrictGhn)=\"cancelModalDistrictGhn($event)\">\r\n</app-choose-district-ghn>\r\n<!-- --------modal chọn xã--------- -->\r\n<app-choose-ward-ghn *ngIf=\"chooseWardGhn\" [chooseWardGhn]=\"chooseWardGhn\" [token]=\"data_delivery.token\"\r\n    [district_idModal]=\"district_idModal\" (cancelModalWardGhn)=\"cancelModalWardGhn($event)\">\r\n</app-choose-ward-ghn>","import { Component, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { EventEmitter } from '@angular/core';\r\n@Component({\r\n  selector: 'app-choose-district-ghn',\r\n  templateUrl: './choose-district-ghn.component.html',\r\n  styleUrls: ['./choose-district-ghn.component.scss']\r\n})\r\nexport class ChooseDistrictGhnComponent implements OnInit {\r\n\r\n  @Input(\"chooseDistrictGhn\") chooseDistrictGhn;\r\n  @Input(\"token\") token;\r\n  @Input(\"province_idModal\") province_idModal;\r\n  @Output(\"cancelModalDistrictGhn\") cancelModalDistrictGhn = new EventEmitter<any>();\r\n  search: string = '';\r\n  constructor(\r\n    private ghnService: GhnService,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n  ngOnInit() {\r\n    this.getProvince();\r\n  };\r\n  list: any = [];\r\n  sublist: any = [];\r\n  setHeight = {\r\n    \"height\": \"400px\"\r\n  }\r\n  dismiss() {\r\n    this.cancelModalDistrictGhn.emit(false);\r\n  }\r\n  getProvince() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.ghnService.getDistrictGhn(this.token, this.province_idModal).then((res: any) => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.list = res.data;\r\n        this.sublist = this.list;\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occured while getting district !'), \"alert-toast\");\r\n      })\r\n    })\r\n  }\r\n  chooseDistrict(item) {\r\n    this.cancelModalDistrictGhn.emit(item);\r\n  }\r\n  searchBar(value) {\r\n    if (value.trim().length) {\r\n      this.list = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value.toLowerCase()), this.sublist, [\"DistrictName\"])\r\n    }\r\n    else {\r\n      this.list = this.sublist;\r\n    }\r\n  }\r\n\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" [nzFooter]=\"null\" (nzOnCancel)=\"dismiss()\" [(nzVisible)]=\"chooseDistrictGhn\"\r\n    [nzWidth]=\"400\" [nzTitle]=\"modalTitle\">\r\n    <ng-template #modalTitle>\r\n        <nz-input-group class=\"nz-hover-border input\">\r\n            <input class=\"nz-hover-border input\" style=\"font-size: 0.9rem; border-radius: 10px;\" type=\"text\" nz-input\r\n                [(ngModel)]=\"search\" (ngModelChange)=\"searchBar($event)\"\r\n                placeholder=\"{{'Search for district'|translate}}\" />\r\n        </nz-input-group>\r\n    </ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <div (click)=\"chooseDistrict(item)\" *ngFor=\"let item of list\">\r\n                <p>{{item.DistrictName}}</p>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-choose-method-ghn',\r\n  templateUrl: './choose-method-ghn.component.html',\r\n  styleUrls: ['./choose-method-ghn.component.scss']\r\n})\r\nexport class ChooseMethodGhnComponent implements OnInit {\r\n  @Input(\"dataToGetMethod\") dataToGetMethod;\r\n  @Input(\"chooseMethod\") chooseMethod;\r\n  @Output(\"cancelModalMethodGhn\") cancelModalMethodGhn = new EventEmitter<any>();\r\n  roadService: any;\r\n  flightService: any;\r\n  data: any = [];\r\n  setHeight = {\r\n    \"height\": \"400px\"\r\n  }\r\n  constructor(\r\n    private ghnService: GhnService,\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorythm: VhAlgorithm\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    for (let i in this.dataToGetMethod.service) {\r\n      if (this.dataToGetMethod.service[i].service_type_id == 1) {\r\n        this.getServiceFlight(this.dataToGetMethod.service[i].service_id);\r\n      }\r\n      else if (this.dataToGetMethod.service[i].service_type_id == 2) {\r\n        this.getServiceRoad(this.dataToGetMethod.service[i].service_id);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n  *Hàm trả về thông tin để chuẩn bị cho vào các hàm getService\r\n  **/\r\n  prepareInfo(service_id) {\r\n    let info = {\r\n      shop_id: this.dataToGetMethod.shop_id,\r\n      to_district_id: this.dataToGetMethod.to_district_id,\r\n      to_ward_code: this.dataToGetMethod.to_ward_code,\r\n      height: this.dataToGetMethod.height,\r\n      length: this.dataToGetMethod.length,\r\n      weight: this.dataToGetMethod.weight,\r\n      width: this.dataToGetMethod.width,\r\n      insurance_value: this.dataToGetMethod.insurance_value,\r\n      service_id: service_id,\r\n      from_district_id: this.dataToGetMethod.from_district_id,\r\n      from_ward_code: this.dataToGetMethod.from_ward_code\r\n    }\r\n    return info;\r\n  }\r\n  getServiceRoad(service_id) {\r\n    this.vhComponent.showLoading('');\r\n    let info = this.prepareInfo(service_id);\r\n    this.ghnService.calculate_delivery_fee(this.dataToGetMethod.token, info).then((res: any) => {\r\n      if (res.data) {\r\n        this.ghnService.calculateTheExpectedDeliveryTime(this.dataToGetMethod.token, info).then((i: any) => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.roadService = {\r\n            service_id: info.service_id,\r\n            sort_name: this.languageService.translate('Road'),\r\n            leadtime: new Date(i.data.leadtime * 1000),\r\n            ...res.data\r\n          }\r\n        }).catch(err => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\")\r\n        })\r\n      }\r\n    }).catch(\r\n      err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\")\r\n      }\r\n    )\r\n  }\r\n  getServiceFlight(service_id) {\r\n    let info = this.prepareInfo(service_id);\r\n    this.ghnService.calculate_delivery_fee(this.dataToGetMethod.token, info).then((res: any) => {\r\n      if (res.data) {\r\n        this.ghnService.calculateTheExpectedDeliveryTime(this.dataToGetMethod.token, info).then((i: any) => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.flightService = {\r\n            service_id: info.service_id,\r\n            sort_name: this.languageService.translate('Flight'),\r\n            leadtime: new Date(i.data.leadtime * 1000),\r\n            ...res.data\r\n          }\r\n        }).catch(err => {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\")\r\n        })\r\n      }\r\n    }).catch(\r\n      err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate(\"Invalid data, please check again\"), \"alert-toast\")\r\n      }\r\n    )\r\n  }\r\n  dismiss() {\r\n    this.cancelModalMethodGhn.emit(false);\r\n  }\r\n  chooseService(item) {\r\n    this.cancelModalMethodGhn.emit(item)\r\n  }\r\n\r\n\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" [nzFooter]=\"null\" (nzOnCancel)=\"dismiss()\" [(nzVisible)]=\"chooseMethod\"\r\n    [nzWidth]=\"400\" [nzTitle]=\"modalTitle\">\r\n    <ng-template #modalTitle>{{'Select service'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <ion-list>\r\n                <ion-item style=\"cursor: pointer;\" (click)=\"chooseService(flightService)\" class=\"ion-no-padding\"\r\n                    *ngIf=\"flightService\">\r\n                    <ion-label mode=\"ios\" style=\"text-align: start; margin-left: 15px\">\r\n                        <ion-label mode=\"ios\" class=\"name-category\"\r\n                            style=\"font-size: 0.9rem; font-weight: 700; padding-bottom: 5px;text-transform: capitalize;\"\r\n                            color=\"vh-black\">\r\n                            {{flightService.sort_name | translate}}</ion-label>\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem\" color=\"vh-gray\">\r\n                            <span>{{'Delivery time' | translate}} :{{flightService.leadtime | date :\r\n                                'dd/MM/yyyy'}}</span>\r\n                        </ion-label>\r\n                    </ion-label>\r\n                    <ion-label mode=\"ios\" style=\"text-align: end; margin-right: 0px\">\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem; padding-bottom: 5px;margin-right: 10px;\"\r\n                            color=\"vh-green\">\r\n                            {{vhAlgorythm.vhcurrencyunit(flightService.service_fee)}}\r\n                        </ion-label>\r\n                    </ion-label>\r\n                </ion-item>\r\n                <ion-item style=\"cursor: pointer;\" (click)=\"chooseService(roadService)\" class=\"ion-no-padding\"\r\n                    *ngIf=\"roadService\">\r\n                    <ion-label mode=\"ios\" style=\"text-align: start; margin-left: 15px\">\r\n                        <ion-label mode=\"ios\" class=\"name-category\"\r\n                            style=\"font-size: 0.9rem; font-weight: 700; padding-bottom: 5px;text-transform: capitalize;\"\r\n                            color=\"vh-black\">\r\n                            {{roadService.sort_name | translate}}</ion-label>\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem\" color=\"vh-gray\">\r\n                            <span>{{'Delivery time' | translate}}: {{roadService.leadtime | date :\r\n                                'dd/MM/yyyy'}}</span>\r\n                        </ion-label>\r\n                    </ion-label>\r\n                    <ion-label mode=\"ios\" style=\"text-align: end; margin-right: 0px;margin-right: 10px;\">\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem; padding-bottom: 5px\" color=\"vh-green\">\r\n                            {{vhAlgorythm.vhcurrencyunit(roadService.service_fee)}}\r\n                        </ion-label>\r\n                    </ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-choose-province-ghn',\r\n  templateUrl: './choose-province-ghn.component.html',\r\n  styleUrls: ['./choose-province-ghn.component.scss']\r\n})\r\nexport class ChooseProvinceGhnComponent implements OnInit {\r\n  @Input(\"chooseProvinceGhn\") chooseProvinceGhn;\r\n  @Input(\"token\") token;\r\n  @Output(\"cancelModalProvinceGhn\") cancelModalProvinceGhn = new EventEmitter<any>();\r\n  search: string = '';\r\n  constructor(\r\n    private ghnService: GhnService,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n  ngOnInit() {\r\n    this.getProvince();\r\n  };\r\n  list: any = [];\r\n  sublist: any = [];\r\n  setHeight = {\r\n    \"height\": \"400px\"\r\n  }\r\n  dismiss() {\r\n    this.cancelModalProvinceGhn.emit(false);\r\n  }\r\n  getProvince() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.ghnService.getProvinceGhn(this.token).then((res: any) => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.list = res.data;\r\n        this.sublist = this.list;\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occured while getting provinces !'), \"alert-toast\");\r\n      })\r\n    })\r\n  }\r\n  chooseProvince(item) {\r\n    this.cancelModalProvinceGhn.emit(item);\r\n  }\r\n  searchBar(value) {\r\n    if (value.trim().length) {\r\n      this.list = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value.toLowerCase()), this.sublist, [\"ProvinceName\"])\r\n    }\r\n    else {\r\n      this.list = this.sublist;\r\n    }\r\n  }\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" [nzFooter]=\"null\" (nzOnCancel)=\"dismiss()\" [(nzVisible)]=\"chooseProvinceGhn\"\r\n    [nzWidth]=\"400\" [nzTitle]=\"modalTitle\">\r\n    <ng-template #modalTitle>\r\n        <nz-input-group class=\"nz-hover-border input\">\r\n            <input class=\"nz-hover-border input\" style=\"font-size: 0.9rem; border-radius: 10px;\" type=\"text\" nz-input\r\n                [(ngModel)]=\"search\" (ngModelChange)=\"searchBar($event)\"\r\n                placeholder=\"{{'Search for province'|translate}}\" />\r\n        </nz-input-group>\r\n    </ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <div (click)=\"chooseProvince(item)\" *ngFor=\"let item of list\">\r\n                <p>{{item.ProvinceName}}</p>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { EventEmitter, Output } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-choose-ward-ghn',\r\n  templateUrl: './choose-ward-ghn.component.html',\r\n  styleUrls: ['./choose-ward-ghn.component.scss']\r\n})\r\nexport class ChooseWardGhnComponent implements OnInit {\r\n\r\n  @Input(\"chooseWardGhn\") chooseWardGhn;\r\n  @Input(\"district_idModal\") district_idModal;\r\n  @Input(\"token\") token;\r\n  @Output(\"cancelModalWardGhn\") cancelModalWardGhn = new EventEmitter<any>();\r\n  search: string = '';\r\n  constructor(\r\n    private ghnService: GhnService,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n  ngOnInit() {\r\n    this.getProvince();\r\n  };\r\n  list: any = [];\r\n  sublist: any = [];\r\n  setHeight = {\r\n    \"height\": \"400px\"\r\n  }\r\n  dismiss() {\r\n    this.cancelModalWardGhn.emit(false);\r\n  }\r\n  getProvince() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.ghnService.getWardGhn(this.token, this.district_idModal).then((res: any) => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.list = res.data;\r\n        this.sublist = this.list;\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occured while getting district !'), \"alert-toast\");\r\n      })\r\n    })\r\n  }\r\n  chooseProvince(item) {\r\n    this.cancelModalWardGhn.emit(item);\r\n  }\r\n  searchBar(value) {\r\n    if (value.trim().length) {\r\n      this.list = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value.toLowerCase()), this.sublist, [\"WardName\"])\r\n    }\r\n    else {\r\n      this.list = this.sublist;\r\n    }\r\n  }\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" [nzFooter]=\"null\" (nzOnCancel)=\"dismiss()\" [(nzVisible)]=\"chooseWardGhn\"\r\n    [nzWidth]=\"400\" [nzTitle]=\"modalTitle\">\r\n    <ng-template #modalTitle>\r\n        <nz-input-group class=\"nz-hover-border input\">\r\n            <input class=\"nz-hover-border input\" style=\"font-size: 0.9rem; border-radius: 10px;\" type=\"text\" nz-input\r\n                [(ngModel)]=\"search\" (ngModelChange)=\"searchBar($event)\"\r\n                placeholder=\"{{'Search for ward'|translate}}\" />\r\n        </nz-input-group>\r\n    </ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <div (click)=\"chooseProvince(item)\" *ngFor=\"let item of list\">\r\n                <p>{{item.WardName}}</p>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-address-customer-ghn',\r\n  templateUrl: './edit-address-customer-ghn.component.html',\r\n  styleUrls: ['./edit-address-customer-ghn.component.scss']\r\n})\r\nexport class EditAddressCustomerGhnComponent implements OnInit {\r\n\r\n  @Input(\"visible_edit_address_ghn\") visible_edit_address_ghn: boolean = false;\r\n  @Output(\"closeAndGetValueEditAddress\") closeAndGetValueEditAddress = new EventEmitter<any>();\r\n  @Input(\"data_edit_address_ghn\") data_edit_address_ghn;\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  chooseService: any;\r\n  data_delivery: any\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.data_delivery = this.data_edit_address_ghn.data_delivery;\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl(this.data_edit_address_ghn.infoAddressChose.address, Validators.required),\r\n      province: new FormControl(this.data_edit_address_ghn.infoAddressChose.province_id, Validators.required),\r\n      district: new FormControl(this.data_edit_address_ghn.infoAddressChose.district_id, Validators.required),\r\n      ward: new FormControl(this.data_edit_address_ghn.infoAddressChose.ward_id, Validators.required),\r\n    })\r\n    this.province.ProvinceName = this.data_edit_address_ghn.infoAddressChose.province;\r\n    this.district.DistrictName = this.data_edit_address_ghn.infoAddressChose.district;\r\n    this.ward.WardName = this.data_edit_address_ghn.infoAddressChose.ward;\r\n  }\r\n  /** \r\n  * hàm này dùng để check xem địa chỉ của khách hàng đã có trong database hay chưa\r\n  * result : true là địa chỉ đã được lưu không cần lưu lại, false tức là phải lưu địa chỉ đó lại\r\n  * */\r\n  checkAddress(data) {\r\n    let result: boolean = false;\r\n    let id_address;\r\n    //duyệt for trường hợp trùng địa chỉ thì return true để khỏi lưu lại\r\n    for (let i in this.data_edit_address_ghn.infoAddress) {\r\n      if (this.data_edit_address_ghn.infoAddress[i].ward_id == data.ward && this.data_edit_address_ghn.infoAddress[i].address == data.address) {\r\n        result = true;\r\n        id_address = this.data_edit_address_ghn.infoAddress[i]._id\r\n      }\r\n    }\r\n    return {\r\n      result: result,\r\n      id_address: id_address\r\n    };\r\n  }\r\n  prepareData() {\r\n    let data = {\r\n      id_customer: this.data_edit_address_ghn.billInfo.id_customer,\r\n      type: 1,\r\n      province_id: this.addInformation.value.province,\r\n      province: this.province.ProvinceName,\r\n      district_id: this.addInformation.value.district,\r\n      district: this.district.DistrictName,\r\n      ward_id: this.addInformation.value.ward,\r\n      ward: this.ward.WardName,\r\n      address: this.addInformation.value.address,\r\n      _id: this.data_edit_address_ghn.infoAddressChose._id\r\n    }\r\n    return data;\r\n  }\r\n  updateAddress() {\r\n    let checkAddress = this.checkAddress(this.addInformation.value);\r\n    if (checkAddress.result) {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"This address already exists\"), \"alert-toast\")\r\n    }\r\n    else {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.updateAddress(this.data_edit_address_ghn.infoAddressChose._id, this.prepareData()).then((res) => {\r\n          this.vhComponent.hideLoading(0).then(() =>{\r\n            this.closeAndGetValueEditAddress.emit(this.prepareData());\r\n          })\r\n         \r\n        })\r\n      })\r\n    }\r\n  }\r\n  deleteAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to delete address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.deleteAddress(this.data_edit_address_ghn.infoAddressChose._id).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.vhComponent.showToast(2000, this.languageService.translate(\"This address has been deleted successfully\"), \"success-toast\")\r\n                this.closeAndGetValueEditAddress.emit(true);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  goBack() {\r\n    this.closeAndGetValueEditAddress.emit(false);\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.chooseService = '';\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.chooseService = '';\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_edit_address_ghn\" nzTitle=\"{{'Create Address' | translate}}\" (nzOnClose)=\"goBack()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <h6>{{\"Receiver Information\" | translate}}</h6>\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input\r\n                                    placeholder=\"{{'Enter your address' | translate}}\" required />\r\n                                <ng-template #combineTplName let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"province.ProvinceName\" class=\"input-group all-content-center\"\r\n                        (click)=\"chooseProvince()\">\r\n                        {{province.ProvinceName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!province.ProvinceName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"chooseProvince()\"> {{\"Province\"\r\n                        | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n                <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\" [ngStyle]=\"{opacity: province.ProvinceName ? 1: 0.5}\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"district.DistrictName\" class=\"input-group all-content-center\"\r\n                        (click)=\"province.ProvinceName ? chooseDistrict():''\">\r\n                        {{district.DistrictName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!district.DistrictName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"province.ProvinceName ? chooseDistrict():''\"> {{\"District\"\r\n                        | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n                <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\" [ngStyle]=\"{opacity: district.DistrictName ? 1: 0.5}\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-input-group *ngIf=\"ward.WardName\" class=\"input-group all-content-center\"\r\n                        (click)=\"district.DistrictName ? chooseWard():''\">\r\n                        {{ward.WardName}}\r\n                    </nz-input-group>\r\n                    <nz-input-group *ngIf=\"!ward.WardName\" class=\"input-group all-content-center placeholder\"\r\n                        (click)=\"district.DistrictName ? chooseWard():''\"> {{\"Ward\" | translate}}\r\n                    </nz-input-group>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"goBack()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"deleteAddress()\">{{\"Delete\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"updateAddress()\">{{\"Update\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n<!-- -------modal-------- -->\r\n<app-choose-province-ghn *ngIf=\"chooseProvinceGhn\" [chooseProvinceGhn]=\"chooseProvinceGhn\" [token]=\"data_delivery.token\"\r\n    (cancelModalProvinceGhn)=\"cancelModalProvinceGhn($event)\">\r\n</app-choose-province-ghn>\r\n<!-- --------modal chọn huyện--------- -->\r\n<app-choose-district-ghn *ngIf=\"chooseDistrictGhn\" [chooseDistrictGhn]=\"chooseDistrictGhn\" [token]=\"data_delivery.token\"\r\n    [province_idModal]=\"province_idModal\" (cancelModalDistrictGhn)=\"cancelModalDistrictGhn($event)\">\r\n</app-choose-district-ghn>\r\n<!-- --------modal chọn xã--------- -->\r\n<app-choose-ward-ghn *ngIf=\"chooseWardGhn\" [chooseWardGhn]=\"chooseWardGhn\" [token]=\"data_delivery.token\"\r\n    [district_idModal]=\"district_idModal\" (cancelModalWardGhn)=\"cancelModalWardGhn($event)\">\r\n</app-choose-ward-ghn>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-list-address-customer-ghn',\r\n  templateUrl: './list-address-customer-ghn.component.html',\r\n  styleUrls: ['./list-address-customer-ghn.component.scss']\r\n})\r\nexport class ListAddressCustomerGhnComponent implements OnInit {\r\n  @Input(\"visible_list_address\") visible_list_address: boolean = false;\r\n  @Output(\"onCloseListAddress\") onCloseListAddress = new EventEmitter<any>();\r\n  @Input(\"data_list_address_ghn\") data_list_address_ghn;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n  infoAddress: Array<any> = [];\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  ionViewWillEnter() {\r\n  }\r\n  getData() {\r\n    this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n      this.infoAddress = this.vhQuerySales.getlocalAddresss().filter(item => item.type == 1 && item.id_customer == this.data_list_address_ghn.billInfo.id_customer).reverse();\r\n      \r\n      \r\n    })\r\n  }\r\n  chooseAddress(item) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to use this address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.updateAddress(item._id, { date: new Date().toISOString() }).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.onCloseListAddress.emit(item);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  onClose() {\r\n    this.onCloseListAddress.emit(false);\r\n  }\r\n\r\n  // -----modal add--------\r\n  visible_add_address_ghn: boolean = false;\r\n  data_add_address_ghn: any;\r\n  openAddAddressGhn() {\r\n    this.data_add_address_ghn = {\r\n      billInfo: this.data_list_address_ghn.billInfo,\r\n      data_delivery: this.data_list_address_ghn.data_delivery,\r\n      infoAddress: this.infoAddress\r\n    }\r\n    this.visible_add_address_ghn = true;\r\n  }\r\n  closeAndGetValueAddAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_add_address_ghn = false;\r\n  }\r\n  // -----modal edit--------\r\n  visible_edit_address_ghn: boolean = false;\r\n  data_edit_address_ghn: any;\r\n  openEditAddressGhn(item) {\r\n    this.data_edit_address_ghn = {\r\n      billInfo: this.data_list_address_ghn.billInfo,\r\n      data_delivery: this.data_list_address_ghn.data_delivery,\r\n      infoAddress: this.data_list_address_ghn.infoAddress,\r\n      infoAddressChose: item\r\n    }\r\n    this.visible_edit_address_ghn = true;\r\n  }\r\n  closeAndGetValueEditAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_edit_address_ghn = false;\r\n  }\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\" [nzFooter]=\"footerTpl\"\r\n    [nzVisible]=\"visible_list_address\" nzTitle=\"{{'Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div class=\"no-data\" *ngIf=\"!infoAddress.length\">{{'No data'|translate}}\r\n        </div>\r\n        <ion-list class=\"custom-address-customer\">\r\n            <ion-item (click)=\"chooseAddress(item)\" class=\"ion-no-padding\" *ngFor=\"let item of infoAddress\">\r\n                <ion-label style=\"font-size: 0.9rem; color : var(--ion-color-vh-black);margin:0; padding-left:6px\"\r\n                    class=\"ion-text-wrap\">\r\n                    {{item.address}}, {{item.ward}}, {{item.district}}, {{item.province}}\r\n                </ion-label>\r\n                <ion-button (click)=\"$event.stopPropagation();openEditAddressGhn(item)\" mode=\"ios\"\r\n                    style=\"color:var(--ion-color-vh-black)\" slot=\"end\" class=\"ion-no-padding ion-no-margin\"\r\n                    fill=\"clear\">\r\n                    <ion-icon name=\"create-outline\" slot=\"end\"></ion-icon>\r\n                </ion-button>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ng-container>\r\n    <ng-template #footerTpl>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black);margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white);margin:0 5px\"\r\n                class=\"nz-hover-border-green\" (click)=\"openAddAddressGhn()\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n<!-- ----------modal add address-------- -->\r\n<app-add-address-customer-ghn *ngIf=\"visible_add_address_ghn\" [visible_add_address_ghn]=\"visible_add_address_ghn\"\r\n    [data_add_address_ghn]=\"data_add_address_ghn\" (closeAndGetValueAddAddress)=\"closeAndGetValueAddAddress($event)\">\r\n</app-add-address-customer-ghn>\r\n<!-- ----------modal edit address-------- -->\r\n<app-edit-address-customer-ghn *ngIf=\"visible_edit_address_ghn\" [visible_edit_address_ghn]=\"visible_edit_address_ghn\"\r\n    [data_edit_address_ghn]=\"data_edit_address_ghn\" (closeAndGetValueEditAddress)=\"closeAndGetValueEditAddress($event)\">\r\n</app-edit-address-customer-ghn>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-shipping-bill-history',\r\n  templateUrl: './shipping-bill-history.component.html',\r\n  styleUrls: ['./shipping-bill-history.component.scss']\r\n})\r\nexport class ShippingBillHistoryComponent implements OnInit {\r\n  @Input(\"visible_history\") visible_history: boolean = false;\r\n  @Input(\"data_history_bills\") data_history_bills;\r\n  @Output(\"onCloseHistoryBill\") onCloseHistoryBill = new EventEmitter<any>();\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  onClose() {\r\n    this.onCloseHistoryBill.emit(false);\r\n  }\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"false\" [nzWidth]=\"400\" [nzVisible]=\"visible_history\"\r\n    nzTitle=\"{{'Shipping history' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div *ngIf=\"data_history_bills.history.length\" class=\"history_list\">\r\n            <div *ngFor=\"let item of data_history_bills.history\">\r\n                <!-- <span>{{item.updated_date | date : 'dd/MM/yyyy HH:mm'}}</span>\r\n                <span>{{item.status | translate}}</span> -->\r\n                <ion-item>{{item.updated_date | date : 'dd/MM/yyyy HH:mm'}} <ion-note slot=\"end\">{{item.status |\r\n                        translate}}</ion-note>\r\n                </ion-item>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"!data_history_bills.history.length\" class=\"history_list\">\r\n            <div *ngFor=\"let item of data_history_bills.history\">\r\n                <!-- <span>{{item.data.updated_date | date : 'dd/MM/yyyy HH:mm'}}</span>\r\n                <span>{{item.status | translate}}</span> -->\r\n                <ion-item>{{item.data.updated_date | date : 'dd/MM/yyyy HH:mm'}} <ion-note slot=\"end\">{{item.status |\r\n                        translate}}</ion-note>\r\n                </ion-item>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-drawer>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-create-bill-customer',\r\n  templateUrl: './create-bill-customer.component.html',\r\n  styleUrls: ['./create-bill-customer.component.scss']\r\n})\r\nexport class CreateBillCustomerComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private ghnService: GhnService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  infoAddress: any = [];\r\n  currentAddress: any = {\r\n    address: '',\r\n    ward: '',\r\n    district: '',\r\n    province: ''\r\n  }\r\n  infoAddressChose: any;\r\n  infoCustomer: any;\r\n  valueRequireNote: number = 1;\r\n  valueListPayment: number = 1;\r\n  listRequireNote: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Not allow to unpack\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Allow to try\")\r\n    },\r\n    {\r\n      value: 3,\r\n      name: this.languageService.translate(\"Allow to unpack & not to try\")\r\n    },\r\n  ]\r\n  listPaymentType: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n  ]\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      length: new FormControl('', [Validators.required, Validators.max(200)]),\r\n      width: new FormControl('', [Validators.required, Validators.max(200)]),\r\n      weight: new FormControl('', [Validators.required, Validators.max(1600000)]),\r\n      height: new FormControl('', [Validators.required, Validators.max(200)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      required_note: new FormControl('KHONGCHOXEMHANG', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.vhQuerySales.getlocalCustomer(this.billInfo.id_customer),\r\n        this.ghnService.connectTokenGhn(this.data_delivery.token),\r\n        this.vhQuerySales.getlocalAddresss()\r\n      ]).then((res: any) => {\r\n        if (res[0]) {\r\n          this.billDetails = res[0].map(item => {\r\n            let nameProduct = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: nameProduct\r\n            }\r\n          })\r\n          this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n        }\r\n        if (res[1]) {\r\n          this.infoCustomer = res[1];\r\n          this.addInformation.controls.name.setValue(this.infoCustomer.name);\r\n          this.addInformation.controls.phone.setValue(this.infoCustomer.phone);\r\n        }\r\n        if (res[2]) {\r\n          this.shops = res[2].data.shops;\r\n          for (let i in this.shops) {\r\n            if (this.shops[i]._id == this.data_delivery.shop_id) {\r\n              this.data_delivery = {\r\n                ...this.data_delivery,\r\n                name: this.shops[i].name,\r\n                phone: this.shops[i].phone,\r\n                address: this.shops[i].address,\r\n                district_id: this.shops[i].district_id,\r\n                ward_code: this.shops[i].ward_code\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (res[3]) {\r\n          let address = res[3].filter(item => item.type == 1 && item.id_customer == this.billInfo.id_customer).sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0];\r\n          if (address) {\r\n            this.currentAddress = address;\r\n            this.province.ProvinceName = this.currentAddress.province;\r\n            this.district.DistrictName = this.currentAddress.district;\r\n            this.ward.WardName = this.currentAddress.ward;\r\n            this.addInformation.controls.province.setValue(this.currentAddress.province_id);\r\n            this.addInformation.controls.district.setValue(this.currentAddress.district_id);\r\n            this.addInformation.controls.ward.setValue(this.currentAddress.ward_id);\r\n            this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n            this.getServive();\r\n          }\r\n        }\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n      })\r\n    }).finally(() => this.vhComponent.hideLoading(0))\r\n  }\r\n\r\n  checkPrinter: boolean = false;\r\n  //hàm này dùng để get về các phương thức giao hàng : đi bộ, bay , tiết kiệm\r\n  getServive() {\r\n    let data = {\r\n      shop_id: this.data_delivery.shop_id,\r\n      from_district_id: this.data_delivery.district_id,\r\n      to_district_id: this.addInformation.value.district\r\n    }\r\n    this.vhComponent.showLoading('');\r\n    this.ghnService.getServiceDelivery(this.data_delivery.token, data).then((res: any) => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.service = res.data.filter(item => {\r\n        return item.service_type_id == 1 || item.service_type_id == 2\r\n      });\r\n    }).catch(err => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting data !'), \"alert-toast\")\r\n    })\r\n  }\r\n  convertProducts() {\r\n    let data: Array<any> = [];\r\n    this.billDetails.forEach(item => {\r\n      data.push({\r\n        name: item.name_product,\r\n        quantity: item.quantity,\r\n        id: item.id_product\r\n      })\r\n    })\r\n    return data;\r\n  }\r\n  prepareDataToCreateOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_name: this.addInformation.value.name,\r\n      to_phone: this.addInformation.value.phone,\r\n      to_address: this.addInformation.value.address,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      to_district_id: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      width: this.productInfo.value.width,\r\n      payment_type_id: +this.deliveryInfo.value.payment_type_id,\r\n      required_note: this.deliveryInfo.value.required_note,\r\n      service_id: this.deliveryInfo.value.transport,\r\n      cod_amount: parseInt(this.cod_amount.getRawValue()),\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      items: this.convertProducts(),\r\n      note: this.deliveryInfo.value.note,\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghnService.createOrderGhn(this.prepareDataToCreateOrder()).then((res: any) => {\r\n            this.invoice.setOrderCode(res.data.order_code);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then(() => {\r\n              if (print) {\r\n                this.ghnService.getInfoOrder(this.data_delivery.token, res.data.order_code).then((ress: any) => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.billInfo.data = ress.data;\r\n                    this.billInfo.order_code = res.data.order_code;\r\n                    this.showPrint();\r\n                  })\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack();\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                });\r\n              }\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(err.error.message), \"alert-toast\");\r\n          })\r\n        })\r\n      }).catch(err => { })\r\n  }\r\n  blurFee() {\r\n    this.chooseService = {};\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 50000000) {\r\n      this.deliveryInfo.controls.cod.setValue('50,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 50,000,000\"), \"alert-toast\")\r\n    }\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 10000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('10,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 10,000,000\"), \"alert-toast\")\r\n    }\r\n    this.blurFee()\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.created_date;\r\n    this.billInfo.data.ship_money = this.chooseService.service_fee;\r\n    this.billInfo.data.insurance = this.chooseService.insurance_fee;\r\n    this.billInfo.data.pick_money = this.billInfo.data.cod_amount;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.to_name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.to_phone;\r\n    this.billInfo.data.address = this.addInformation.value.address + \", \" + this.ward.WardName + \", \" + this.district.DistrictName + \", \" + this.province.ProvinceName;\r\n    this.billInfo.data.is_freeship = this.billInfo.data.payment_type_id == 1 ? 1 : 0;\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn\"], {\r\n      state: {\r\n        dataSearchAndDate: this.dataSearchAndDate\r\n      }\r\n    })\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.resetService()\r\n      this.getServive();\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.resetService()\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n  paymentType(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n\r\n  chooseRequireNote(event) {\r\n    if (event == 1) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"KHONGCHOXEMHANG\");\r\n    } else if (event == 2) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOTHUHANG\");\r\n    } else if (event == 3) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOXEMHANGKHONGTHU\");\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhn() {\r\n    this.dataToGetMethod = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_district_id: this.addInformation.value.district,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      from_district_id: this.data_delivery.district_id,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      weight: this.productInfo.value.weight,\r\n      width: this.productInfo.value.width,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      service: this.service,\r\n      from_ward_code: this.data_delivery.ward_code\r\n    }\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhn(event) {\r\n    if (event) {\r\n      this.chooseService = event\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.service_id);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.customDataBillDetail(this.billInfo.data.items),\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack();\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type) {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  // ------drawer list address-----\r\n  visible_list_address: boolean = false;\r\n  data_list_address_ghn: any;\r\n  openListAddressCustomer() {\r\n    this.data_list_address_ghn = {\r\n      billInfo: this.billInfo,\r\n      data_delivery: this.data_delivery\r\n    }\r\n    this.visible_list_address = true;\r\n  }\r\n  onCloseListAddress(event) {\r\n    if (event) {\r\n      this.currentAddress = event;\r\n      this.province.ProvinceName = this.currentAddress.province;\r\n      this.district.DistrictName = this.currentAddress.district;\r\n      this.ward.WardName = this.currentAddress.ward;\r\n      this.addInformation.controls.province.setValue(this.currentAddress.province_id);\r\n      this.addInformation.controls.district.setValue(this.currentAddress.district_id);\r\n      this.addInformation.controls.ward.setValue(this.currentAddress.ward_id);\r\n      this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n      this.resetService()\r\n      this.getServive();\r\n    }\r\n    this.visible_list_address = false;\r\n  }\r\n  /**\r\n* Reset lại dịch vụ nếu có thay đổi các trường\r\n*/\r\n  resetService() {\r\n    this.chooseService = {}\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <div>\r\n                            <button nzType=\"text\" (click)=\"openListAddressCustomer()\" nz-button>\r\n                                <ion-icon name=\"create-outline\"></ion-icon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"currentAddress.ward\" class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <p>{{currentAddress.address}}<br />{{currentAddress.ward}}, {{currentAddress.district}},\r\n                            {{currentAddress.province}}</p>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(gram)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input (ngModelChange)=\"resetService()\" formControlName=\"weight\" nz-input\r\n                                                required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 1600kg' |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div nz-row nzGutter=\"16\">\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Length(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                                                <nz-input-group>\r\n                                                    <input (ngModelChange)=\"resetService()\" formControlName=\"length\"\r\n                                                        nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplLength let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Width(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"width\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplWidth let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Height(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                                                <nz-input-group>\r\n                                                    <input (ngModelChange)=\"resetService()\" formControlName=\"height\"\r\n                                                        nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplHeight let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" class=\"cod_amount\" type=\"text\"\r\n                                        maxlength=\"10\" formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input class=\"order_value_amount\" type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group style=\"cursor: pointer;\" class=\"input-group all-content-center\"\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' :chooseMethodGhn()\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\" | translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\"\r\n                                    *ngIf=\"chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    <b>{{chooseService.sort_name}} -\r\n                                        {{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                </p>\r\n                                <p style=\"float: right;\" *ngIf=\"chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    <span>{{\"Delivery time\" | translate}}:\r\n                                        {{chooseService.leadtime | date : 'dd/MM/yyyy'}}</span>\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueListPayment\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"paymentType($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentType\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Require note'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Require note'|translate}}\" [(ngModel)]=\"valueRequireNote\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"chooseRequireNote($event)\">\r\n                            <nz-option *ngFor=\"let option of listRequireNote\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.service_fee || 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee|| 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\">{{vhAlgorithm.vhcurrencyunit(chooseService.total||\r\n                                    0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid && !checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</nz-layout>\r\n\r\n\r\n<!-- ----drawer list address------ -->\r\n<app-list-address-customer-ghn *ngIf=\"visible_list_address\" [data_list_address_ghn]=\"data_list_address_ghn\"\r\n    [visible_list_address]=\"visible_list_address\" (onCloseListAddress)=\"onCloseListAddress($event)\">\r\n</app-list-address-customer-ghn>\r\n<!-- --------modal phương thức--------- -->\r\n<app-choose-method-ghn *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhn)=\"cancelModalMethodGhn($event)\">\r\n</app-choose-method-ghn>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-create-bill-retail',\r\n  templateUrl: './create-bill-retail.component.html',\r\n  styleUrls: ['./create-bill-retail.component.scss']\r\n})\r\nexport class CreateBillRetailComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private ghnService: GhnService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  valueRequireNote: number = 1;\r\n  valueListPayment: number = 1;\r\n  listRequireNote: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Not allow to unpack\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Allow to try\")\r\n    },\r\n    {\r\n      value: 3,\r\n      name: this.languageService.translate(\"Allow to unpack & not to try\")\r\n    },\r\n  ]\r\n  listPaymentType: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n  ]\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl(this.billInfo.retail_name, [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl(this.billInfo.retail_phone, [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      length: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      width: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      weight: new FormControl('', [Validators.required, Validators.max(200000)]),\r\n      height: new FormControl('', [Validators.required, Validators.max(100)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      required_note: new FormControl('KHONGCHOXEMHANG', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.ghnService.connectTokenGhn(this.data_delivery.token)\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          if (res[0]) {\r\n            this.billDetails = res[0].map(item => {\r\n              let nameProduct = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n              return {\r\n                ...item,\r\n                name_product: nameProduct,\r\n              }\r\n            })\r\n            this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n          }\r\n          if (res[1]) {\r\n            this.shops = res[1].data.shops;\r\n            for (let i in this.shops) {\r\n              if (this.shops[i]._id == this.data_delivery.shop_id) {\r\n                this.data_delivery = {\r\n                  ...this.data_delivery,\r\n                  name: this.shops[i].name,\r\n                  phone: this.shops[i].phone,\r\n                  address: this.shops[i].address,\r\n                  district_id: this.shops[i].district_id,\r\n                  ward_code: this.shops[i].ward_code\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n        \r\n        \r\n      })\r\n    })\r\n  }\r\n  checkPrinter: boolean = false;\r\n  //hàm này dùng để get về các phương thức giao hàng : đi bộ, bay , tiết kiệm\r\n  getServive() {\r\n    let data = {\r\n      shop_id: this.data_delivery.shop_id,\r\n      from_district_id: this.data_delivery.district_id,\r\n      to_district_id: this.addInformation.value.district\r\n    }\r\n    this.vhComponent.showLoading('');\r\n    this.ghnService.getServiceDelivery(this.data_delivery.token, data).then((res: any) => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.service = res.data.filter(item => {\r\n        return item.service_type_id == 1 || item.service_type_id == 2\r\n      });\r\n    }).catch(err => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting data !'), \"alert-toast\")\r\n    })\r\n  }\r\n  convertProducts() {\r\n    let data: Array<any> = [];\r\n    this.billDetails.forEach(item => {\r\n      data.push({\r\n        name: item.name_product,\r\n        quantity: item.quantity,\r\n        id: item.id_product\r\n      })\r\n    })\r\n    return data;\r\n  }\r\n  prepareDataToCreateOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_name: this.addInformation.value.name,\r\n      to_phone: this.addInformation.value.phone,\r\n      to_address: this.addInformation.value.address,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      to_district_id: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      width: this.productInfo.value.width,\r\n      payment_type_id: +this.deliveryInfo.value.payment_type_id,\r\n      required_note: this.deliveryInfo.value.required_note,\r\n      service_id: this.deliveryInfo.value.transport,\r\n      cod_amount: parseInt(this.cod_amount.getRawValue()),\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      items: this.convertProducts(),\r\n      note: this.deliveryInfo.value.note,\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghnService.createOrderGhn(this.prepareDataToCreateOrder()).then((res: any) => {\r\n            this.invoice.setOrderCode(res.data.order_code);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then(() => {\r\n              if (print) {\r\n                this.ghnService.getInfoOrder(this.data_delivery.token, res.data.order_code).then((ress: any) => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.billInfo.data = ress.data;\r\n                    this.billInfo.order_code = res.data.order_code;\r\n                    this.showPrint();\r\n                  })\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack();\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                });\r\n              }\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(err.error.message), \"alert-toast\");\r\n          })\r\n        })\r\n      }).catch(err => { })\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 50000000) {\r\n      this.deliveryInfo.controls.cod.setValue('50,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 50,000,000\"), \"alert-toast\")\r\n    }\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 10000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('10,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 10,000,000\"), \"alert-toast\")\r\n    }\r\n    this.resetService()\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.created_date;\r\n    this.billInfo.data.ship_money = this.chooseService.service_fee;\r\n    this.billInfo.data.insurance = this.chooseService.insurance_fee;\r\n    this.billInfo.data.pick_money = this.billInfo.data.cod_amount;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.to_name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.to_phone;\r\n    this.billInfo.data.address = this.addInformation.value.address + \", \" + this.ward.WardName + \", \" + this.district.DistrictName + \", \" + this.province.ProvinceName;\r\n    this.billInfo.data.is_freeship = this.billInfo.data.payment_type_id == 1 ? 1 : 0;\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn\"], {\r\n      state: {\r\n        dataSearchAndDate: this.dataSearchAndDate\r\n      }\r\n    })\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.resetService()\r\n      this.getServive();\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.resetService()\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.resetService()\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n  paymentType(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n\r\n  chooseRequireNote(event) {\r\n    if (event == 1) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"KHONGCHOXEMHANG\");\r\n    } else if (event == 2) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOTHUHANG\");\r\n    } else if (event == 3) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOXEMHANGKHONGTHU\");\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhn() {\r\n    this.dataToGetMethod = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_district_id: this.addInformation.value.district,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      from_district_id: this.data_delivery.district_id,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      weight: this.productInfo.value.weight,\r\n      width: this.productInfo.value.width,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      service: this.service,\r\n      from_ward_code: this.data_delivery.ward_code\r\n    }\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhn(event) {\r\n    if (event) {\r\n      this.chooseService = event\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.service_id);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.customDataBillDetail(this.billInfo.data.items),\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack();\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  /**\r\n* Reset lại dịch vụ nếu có thay đổi các trường\r\n*/\r\n  resetService() {\r\n    this.chooseService = {}\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter your address' | translate}}\" required />\r\n                                    <ng-template #combineTplAddress let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Province'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"province.ProvinceName\" class=\"input-group all-content-center\"\r\n                            (click)=\"chooseProvince()\">\r\n                            {{province.ProvinceName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!province.ProvinceName\"\r\n                            class=\"input-group all-content-center placeholder\" (click)=\"chooseProvince()\"> {{\"Province\"\r\n                            | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" [ngStyle]=\"{opacity: province.ProvinceName ? 1: 0.5}\">\r\n                        <div><b>{{'District'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"district.DistrictName\" class=\"input-group all-content-center\"\r\n                            (click)=\"province.ProvinceName ? chooseDistrict():''\">\r\n                            {{district.DistrictName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!district.DistrictName\"\r\n                            class=\"input-group all-content-center placeholder\"\r\n                            (click)=\"province.ProvinceName ? chooseDistrict():''\"> {{\"District\"\r\n                            | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" [ngStyle]=\"{opacity: district.DistrictName ? 1: 0.5}\">\r\n                        <div><b>{{'Ward'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"ward.WardName\" class=\"input-group all-content-center\"\r\n                            (click)=\"district.DistrictName ? chooseWard():''\">\r\n                            {{ward.WardName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!ward.WardName\" class=\"input-group all-content-center placeholder\"\r\n                            (click)=\"district.DistrictName ? chooseWard():''\"> {{\"Ward\" | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(gram)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input (ngModelChange)=\"resetService()\" formControlName=\"weight\" nz-input\r\n                                                required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 1600kg' |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div nz-row nzGutter=\"16\">\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Length(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                                                <nz-input-group>\r\n                                                    <input (ngModelChange)=\"resetService()\" formControlName=\"length\"\r\n                                                        nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplLength let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Width(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                                                <nz-input-group>\r\n                                                    <input (ngModelChange)=\"resetService()\" formControlName=\"width\"\r\n                                                        nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplWidth let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Height(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                                                <nz-input-group>\r\n                                                    <input (ngModelChange)=\"resetService()\" formControlName=\"height\"\r\n                                                        nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplHeight let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                        <ng-container *ngIf=\"control.hasError('max')\">{{'Vượt quá giá trị cho phép : 200cm' |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" class=\"cod_amount\" type=\"text\"\r\n                                        maxlength=\"10\" formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input class=\"order_value_amount\" type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group style=\"cursor: pointer;\" class=\"input-group all-content-center\"\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' :chooseMethodGhn()\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\"\r\n                                    *ngIf=\"chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    <b>{{chooseService.sort_name}} -\r\n                                        {{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                </p>\r\n                                <p style=\"float: right;\" *ngIf=\"chooseService.sort_name\" class=\"nz-no-margin\">\r\n                                    <span>{{\"Delivery time\" | translate}}:\r\n                                        {{chooseService.leadtime | date : 'dd/MM/yyyy'}}</span>\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueListPayment\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"paymentType($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentType\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Require note'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Require note'|translate}}\" [(ngModel)]=\"valueRequireNote\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"chooseRequireNote($event)\">\r\n                            <nz-option *ngFor=\"let option of listRequireNote\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea clas placeholder=\"{{'Enter note' | translate}}\" formControlName=\"note\"\r\n                                        rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.service_fee || 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee|| 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\">{{vhAlgorithm.vhcurrencyunit(chooseService.total||\r\n                                    0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid || !checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- --------modal chọn tỉnh--------- -->\r\n<app-choose-province-ghn *ngIf=\"chooseProvinceGhn\" [chooseProvinceGhn]=\"chooseProvinceGhn\" [token]=\"data_delivery.token\"\r\n    (cancelModalProvinceGhn)=\"cancelModalProvinceGhn($event)\">\r\n</app-choose-province-ghn>\r\n<!-- --------modal chọn huyện--------- -->\r\n<app-choose-district-ghn *ngIf=\"chooseDistrictGhn\" [chooseDistrictGhn]=\"chooseDistrictGhn\" [token]=\"data_delivery.token\"\r\n    [province_idModal]=\"province_idModal\" (cancelModalDistrictGhn)=\"cancelModalDistrictGhn($event)\">\r\n</app-choose-district-ghn>\r\n<!-- --------modal chọn xã--------- -->\r\n<app-choose-ward-ghn *ngIf=\"chooseWardGhn\" [chooseWardGhn]=\"chooseWardGhn\" [token]=\"data_delivery.token\"\r\n    [district_idModal]=\"district_idModal\" (cancelModalWardGhn)=\"cancelModalWardGhn($event)\">\r\n</app-choose-ward-ghn>\r\n<!-- --------modal phương thức--------- -->\r\n<app-choose-method-ghn *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhn)=\"cancelModalMethodGhn($event)\">\r\n</app-choose-method-ghn>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-delivery-ghn',\r\n  templateUrl: './delivery-ghn.component.html',\r\n  styleUrls: ['./delivery-ghn.component.scss']\r\n})\r\nexport class DeliveryGhnComponent implements OnInit {\r\n  bills: Array<any> = [];\r\n  show_bills: any = [];\r\n  //Hôm nay 0h- 23h59\r\n  startDateTime = new Date();\r\n  subStartDateTime = new Date();\r\n  endDateTime = new Date();\r\n  subEndDateTime = new Date();\r\n  //biến cờ show\r\n  status_open: boolean = false;\r\n  data_delivery: any;\r\n  valueOfStatus: number = 1;\r\n  search: string = '';\r\n  list_status: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: \"All\"\r\n    },\r\n    {\r\n      value: 0,\r\n      name: \"Not enough information\"\r\n    },\r\n    {\r\n      value: 2,\r\n      name: \"Ready to pick\"\r\n    },\r\n    {\r\n      value: 3,\r\n      name: \"Picked\"\r\n    },\r\n    {\r\n      value: 4,\r\n      name: \"Delivered\"\r\n    },\r\n    {\r\n      value: 5,\r\n      name: \"Returning\"\r\n    },\r\n    {\r\n      value: 6,\r\n      name: \"Returning\"\r\n    },\r\n  ]\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private router: Router,\r\n    private vhQuery: VhQuery,\r\n    private vhComponent: VhComponent,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghnService: GhnService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.startDateTime.setHours(0, 0, 0);\r\n    this.subStartDateTime = this.startDateTime;\r\n    this.endDateTime.setHours(23, 59, 59);\r\n    this.subEndDateTime = this.endDateTime;\r\n    this.getSearchAndDate();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill\"]);\r\n  }\r\n  getSearchAndDate() {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      let dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate;\r\n      this.search = dataSearchAndDate.search ? dataSearchAndDate.search : \"\";\r\n      this.startDateTime = dataSearchAndDate.startDateTime;\r\n      this.endDateTime = dataSearchAndDate.endDateTime;\r\n      this.subStartDateTime = this.startDateTime;\r\n      this.subEndDateTime = this.endDateTime;\r\n    }\r\n  }\r\n  /**\r\n   * Hàm lấy bill trong khoăng thời gian được set\r\n   */\r\n  getData(startTime, endTime) {\r\n    this.vhComponent.showLoading(\"\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBills_byFields( { date: { $gte: startTime, $lte: endTime }, bill_type: { $eq: 1 }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id } }, {}), //chưa bill_type\r\n        this.vhQuerySales.getlocalDeliverys()\r\n      ]).then((res: any) => {\r\n        if (res[1]) this.data_delivery = res[1].filter(item => item.active == true && item.type == 1)[0];\r\n        if (res[0]) {\r\n          this.bills = res[0].filter(item => item.id_delivery == this.data_delivery._id).reverse();\r\n          let process: Array<any> = []\r\n          this.bills.forEach(item => {\r\n            item.name_customer = this.vhQuerySales.getlocalCustomer(item.id_customer).name\r\n            if (item.order_code)\r\n              process.push(this.ghnService.getInfoOrder(this.data_delivery.token, item.order_code))\r\n          })\r\n          Promise.all(process).then((result: Array<any>) => {\r\n            result.forEach(item => {\r\n              let index = this.bills.findIndex(data => data.order_code == item.data.order_code)\r\n              if (index >= 0) {\r\n                this.bills[index].data = item.data\r\n                this.bills[index].group = this.filterGroup(item.data.status);\r\n              }\r\n            })\r\n            this.vhComponent.hideLoading(0);\r\n            this.show_bills = [...this.bills];\r\n            this.status_open = true;\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while getting data\"), \"alert-toast\")\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n  filterGroup(status) {\r\n    if (status == 'ready_to_pick' || status == 'picking' || status == 'money_collect_picking') return 2; // chờ lấy hàng\r\n    else if (status == 'picked' || status == 'storing' || status == 'transporting' || status == 'sorting' || status == 'delivering' ||\r\n      status == 'money_collect_delivering' || status == 'delivery_fail') return 3; //đang giao hàng\r\n    else if (status == 'delivered') return 4//giao hàng thành công\r\n    else if (status == 'waiting_to_return' || status == 'return' || status == 'return_transporting' || status == 'return_sorting'\r\n      || status == 'returning' || status == 'return_fail') return 5//đang hoàn hành\r\n    else if (status == 'returned') return 6; // hoàn hàng thành công\r\n    else if (status == 'cancel') return 7;\r\n    else return 0\r\n  }\r\n  setStartTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.endDateTime = new Date(this.startDateTime.getTime() + 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.languageService.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  setEndTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.startDateTime = new Date(this.endDateTime.getTime() - 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.languageService.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  //searchbill\r\n  searchBill(value) {\r\n    this.show_bills = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value).toLowerCase(),\r\n      this.bills,\r\n      [\"bill_code\", \"order_code\"]\r\n    );\r\n  }\r\n  gotoDetail(bill) {\r\n    if (bill.id_customer != \"id_retail\") {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn/order-bill-customer\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn/order-bill-retail\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  gotoBillDetail(bill) {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn/detail-bill\"],\r\n      {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      })\r\n  }\r\n  /**\r\n  * filter các trạng thái của bill \r\n  * */\r\n  filterStatus(value) {\r\n    value = parseInt(value);\r\n    if (value == 0) {\r\n      this.show_bills = this.bills.filter(item => !item.data);\r\n    }\r\n    else if (value == 1) {\r\n      this.show_bills = this.bills;\r\n    }\r\n    else if (value == 2) {\r\n      this.show_bills = this.bills.filter(item => item.group == 2)\r\n    }\r\n    else if (value == 3) {\r\n      this.show_bills = this.bills.filter(item => item.group == 3)\r\n    }\r\n    else if (value == 4) {\r\n      this.show_bills = this.bills.filter(item => item.group == 4)\r\n    }\r\n    else if (value == 5) {\r\n      this.show_bills = this.bills.filter(item => item.group == 5)\r\n    }\r\n    else if (value == 6) {\r\n      this.show_bills = this.bills.filter(item => item.group == 6)\r\n    }\r\n  }\r\n  onCurrentPageDataChange(event) { }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"table-delivery-ghn\") && document.querySelector(\".delivery-ghn-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.getElementById(\"table-delivery-ghn\").clientHeight - document.querySelector(\".delivery-ghn-header\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 150 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"table-delivery-ghn\">\r\n    <div nzGutter=\"16\" class=\"delivery-ghn delivery-ghn-header\" nz-row>\r\n        <div nz-col nzSpan=\"6\">\r\n            <h3 class=\"title nz-no-margin\">{{'Giao hang nhanh' | translate}}</h3>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"title center-all-content\">\r\n            <nz-input-group class=\"nz-hover-border\" [nzSuffix]=\"suffixIconSearch\">\r\n                <input class=\"medium-size\" type=\"text\" nz-input [(ngModel)]=\"search\"\r\n                    (ngModelChange)=\"searchBill($event)\"\r\n                    placeholder=\"{{'Search for bill code, order code'|translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\">\r\n            <nz-select nzBorderless class=\"nz-hover-border\" (ngModelChange)=\"filterStatus($event)\"\r\n                [(ngModel)]=\"valueOfStatus\">\r\n                <nz-option *ngFor=\"let option of list_status\" [nzLabel]=\"option.name | translate\"\r\n                    [nzValue]=\"option.value\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div class=\"center-all-content date-picker-cus\" nz-col nzSpan=\"6\">\r\n            <nz-date-picker [nzDisabledDate]=\"disabledDate\" nzFormat='dd/MM/yyyy' [(ngModel)]=\"startDateTime\"\r\n                (ngModelChange)=\"setStartTime($event)\" nzBorderless></nz-date-picker>\r\n            <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\r\n            <nz-date-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"endDateTime\" (ngModelChange)=\"setEndTime($event)\"\r\n                nzBorderless>\r\n            </nz-date-picker>\r\n        </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"24\">\r\n        <div class=\"table-delivery-ghn\" nz-col nzSpan=\"24\">\r\n            <div class=\"medium-size\">{{'Total' |translate}}<span style=\"color: red;\"> {{show_bills.length}}\r\n                </span>{{'shipping bills' | translate}}\r\n            </div>\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" #tableDelvieryGhn\r\n                [nzScroll]=\"{ y: heightScroll }\" nzShowPagination nzShowSizeChanger\r\n                (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\" [nzData]=\"show_bills\"\r\n                nzNoResult=\"{{'No data'| translate}}\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><b>{{'Time' | translate}}</b></th>\r\n                        <th><b>{{\"Invoice code\" | translate}}</b></th>\r\n                        <th><b>{{'Order code' | translate}}</b></th>\r\n                        <th><b>{{'Customer' | translate}}</b></th>\r\n                        <th><b>{{'COD' | translate}}</b></th>\r\n                        <th><b>{{'Status' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"item.data ? gotoBillDetail(item) : gotoDetail(item)\"\r\n                        *ngFor=\"let item of tableDelvieryGhn.data\" style=\"cursor: pointer;\">\r\n                        <td>{{item.date | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td>{{item.bill_code}}</td>\r\n                        <td>{{item.order_code ? item.order_code : \"\"}}</td>\r\n                        <td>{{(item.name_customer ? item.name_customer :\"Customer retail\") | translate}}</td>\r\n                        <td>{{item.data ? vhAlgorithm.vhcurrencyunit(item.data.cod_amount) : \"\"}}</td>\r\n                        <td *ngIf=\"!item.data && status_open\">{{\"Not enough information\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==2 && status_open\">{{\"Ready to pick\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==3 && status_open\">{{\"Delivering\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==4 && status_open\">{{\"Delivered\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==5 && status_open\">{{\"Returning\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==6 && status_open\">{{\"Returned\"|translate}}</td>\r\n                        <td style=\"color: var(--ion-color-vh-orange)\" *ngIf=\"item.group ==7 && status_open\">\r\n                            {{\"Cancelled\"|translate}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeliveryGhnComponent } from './delivery-ghn.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CreateBillRetailComponent } from './create-bill-retail/create-bill-retail.component';\r\nimport { CreateBillCustomerComponent } from './create-bill-customer/create-bill-customer.component';\r\nimport { ReuseBillRetailComponent } from './reuse-bill-retail/reuse-bill-retail.component';\r\nimport { ReuseBillCustomerComponent } from './reuse-bill-customer/reuse-bill-customer.component';\r\nimport { DetailBillComponent } from './detail-bill/detail-bill.component';\r\nimport { ChooseProvinceGhnComponent } from './components/choose-province-ghn/choose-province-ghn.component';\r\nimport { ChooseDistrictGhnComponent } from './components/choose-district-ghn/choose-district-ghn.component';\r\nimport { ChooseWardGhnComponent } from './components/choose-ward-ghn/choose-ward-ghn.component';\r\nimport { ChooseMethodGhnComponent } from './components/choose-method-ghn/choose-method-ghn.component';\r\nimport { AddAddressCustomerGhnComponent } from './components/add-address-customer-ghn/add-address-customer-ghn.component';\r\nimport { EditAddressCustomerGhnComponent } from './components/edit-address-customer-ghn/edit-address-customer-ghn.component';\r\nimport { ListAddressCustomerGhnComponent } from './components/list-address-customer-ghn/list-address-customer-ghn.component';\r\nimport { ShippingBillHistoryComponent } from './components/shipping-bill-history/shipping-bill-history.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: DeliveryGhnComponent\r\n      },\r\n      {\r\n        path: \"order-bill-retail\",\r\n        component: CreateBillRetailComponent\r\n      },\r\n      {\r\n        path: \"detail-bill\",\r\n        component: DetailBillComponent\r\n      },\r\n      {\r\n        path: 'order-bill-customer',\r\n        component: CreateBillCustomerComponent\r\n      },\r\n      {\r\n        path: 'reuse-info-retail',\r\n        component: ReuseBillRetailComponent\r\n      },\r\n      {\r\n        path: 'reuse-info-customer',\r\n        component: ReuseBillCustomerComponent\r\n      }\r\n    ]\r\n  },\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [DeliveryGhnComponent, CreateBillRetailComponent, CreateBillCustomerComponent, ReuseBillRetailComponent, ReuseBillCustomerComponent, DetailBillComponent, ChooseProvinceGhnComponent, ChooseDistrictGhnComponent, ChooseWardGhnComponent, ChooseMethodGhnComponent, AddAddressCustomerGhnComponent, EditAddressCustomerGhnComponent, ListAddressCustomerGhnComponent, ShippingBillHistoryComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class DeliveryGhnModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-bill',\r\n  templateUrl: './detail-bill.component.html',\r\n  styleUrls: ['./detail-bill.component.scss']\r\n})\r\nexport class DetailBillComponent implements OnInit {\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private router: Router,\r\n    private ghnService: GhnService,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate;\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  inforCustomer: any;\r\n  calculate_fee: any;\r\n  province: any;\r\n  district: any;\r\n  ward: any;\r\n  address: any;\r\n  data_province: any;\r\n  data_district: any;\r\n  data_ward: any;\r\n  data_delivery: any;\r\n  open_status: boolean = false;\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  exportDelivery() {\r\n    let info = {\r\n      shop_id: this.billInfo.data.shop_id,\r\n      to_district_id: this.billInfo.data.to_district_id,\r\n      to_ward_code: this.billInfo.data.to_ward_code,\r\n      height: this.billInfo.data.height,\r\n      length: this.billInfo.data.length,\r\n      weight: this.billInfo.data.weight,\r\n      width: this.billInfo.data.width,\r\n      insurance_value: this.billInfo.data.insurance_value,\r\n      service_id: this.billInfo.data.service_id,\r\n      from_district_id: this.billInfo.data.from_district_id,\r\n      from_ward_code: this.billInfo.data.from_ward_code\r\n    }\r\n    return info;\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading('', \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.ghnService.getProvinceGhn(this.data_delivery.token),\r\n        this.ghnService.getDistrictGhn(this.data_delivery.token),\r\n        this.ghnService.getWardGhn(this.data_delivery.token, +this.billInfo.data.to_district_id),\r\n        this.ghnService.calculate_delivery_fee(this.data_delivery.token, this.exportDelivery())\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.open_status = true;\r\n        if (res[1]) {\r\n          for (let i in res[1].data) {\r\n            if (res[1].data[i].DistrictID == this.billInfo.data.to_district_id) {\r\n              this.data_district = res[1].data[i];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (res[0]) {\r\n          for (let i in res[0].data) {\r\n            if (res[0].data[i].ProvinceID == this.data_district.ProvinceID) {\r\n              this.data_province = res[0].data[i];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (res[2]) {\r\n          for (let i in res[2].data) {\r\n            if (res[2].data[i].WardCode == this.billInfo.data.to_ward_code) {\r\n              this.data_ward = res[2].data[i];\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (res[3]) {\r\n          this.calculate_fee = res[3].data\r\n        }\r\n      }).catch(err => {\r\n        this.open_status = true;\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting data'), \"alert-toast\")\r\n      })\r\n    });\r\n\r\n  }\r\n  cancelOrder() {\r\n    if (this.vhAuth.checkMyPermission(\"shipping_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate('Confirm'), this.languageService.translate(\"Do you want to delete shipping bill ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\")).then(() => {\r\n        let data = {\r\n          token: this.data_delivery.token,\r\n          shop_id: this.billInfo.data.shop_id,\r\n          order_code: [this.billInfo.order_code],\r\n        }\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghnService.cancelOrder(data).then((res: any) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"Delete bill successfully\"), \"success-toast\");\r\n              this.goBack();\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while deleting bill\"), \"alert-toast\")\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  reuseInfo() {\r\n    let data: NavigationExtras = {\r\n      state: {\r\n        item: {\r\n          billInfo: this.billInfo,\r\n          calculate_fee: this.calculate_fee,\r\n          address: {\r\n            province: this.data_province,\r\n            district: this.data_district,\r\n            ward: this.data_ward\r\n          },\r\n          data_delivery: this.data_delivery\r\n        },\r\n        dataSearchAndDate: this.dataSearchAndDate\r\n      }\r\n    }\r\n    if (this.billInfo.id_customer == \"id_retail\") {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn/reuse-info-retail\"], data)\r\n    }\r\n    else {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn/reuse-info-customer\"], data)\r\n    }\r\n  }\r\n  gotoHistoryBill() {\r\n    this.router.navigate([\"/mobile/management/delivery/shipping-bill/delivery-ghn/detail-bill/history\"], {\r\n      state: {\r\n        item: {\r\n          history: this.billInfo.data.log ? this.billInfo.data.log : [],\r\n          billInfo: this.billInfo\r\n        }\r\n      }\r\n    })\r\n  }\r\n  // ------drawer history--------\r\n  visible_history: boolean = false;\r\n  data_history_bills: any;\r\n  onOpenHistoryBill() {\r\n    this.data_history_bills = {\r\n      history: this.billInfo.data.log ? this.billInfo.data.log : [],\r\n      billInfo: this.billInfo\r\n    }\r\n    this.visible_history = true;\r\n  }\r\n  onCloseHistoryBill(event) {\r\n    this.visible_history = false;\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.customDataBillDetail(this.billInfo.data.items),\r\n        data_delivery: this.data_delivery,\r\n        printer\r\n      }, false, false, \"modal-print\")\r\n\r\n    }, (err) => {\r\n      let name :any= 'Sales'\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/sales/dashboard/manage/printer','page_desktop_sales'],{state : name}))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' |'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.created_date;\r\n    this.billInfo.data.ship_money = this.calculate_fee.service_fee;\r\n    this.billInfo.data.insurance = this.calculate_fee.insurance_fee;\r\n    this.billInfo.data.pick_money = this.billInfo.data.cod_amount;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.to_name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.to_phone;\r\n    this.billInfo.data.address = this.billInfo.data.to_address + \", \" + this.data_ward.WardName + \", \" + this.data_district.DistrictName + \", \" + this.data_province.ProvinceName;\r\n    this.billInfo.data.is_freeship = this.billInfo.data.payment_type_id == 1 ? 1 : 0;\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn\"], {\r\n      state: {\r\n        dataSearchAndDate: this.dataSearchAndDate\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"7\">\r\n                    <h3>{{\"Shipment bill\" | translate}}</h3>\r\n                </div>\r\n                <div nz-col nzSpan=\"17\" class=\"all-content-center addInformation-button\">\r\n                    <button (click)=\"showPrint()\" nz-button class=\"nz-hover-border\">\r\n                        <ion-icon src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                        {{\"Print shipping bill\"|translate}}\r\n                    </button>\r\n                    <button [disabled]=\"billInfo.data.status == 'cancel'\" (click)=\"cancelOrder()\" nz-button\r\n                        class=\"nz-hover-border\">\r\n                        <ion-icon name=\"trash-outline\"></ion-icon>\r\n                        {{\"Cancel\"|translate}}\r\n                    </button>\r\n                    <button (click)=\"onOpenHistoryBill()\" nz-button class=\"nz-hover-border\">\r\n                        <ion-icon name=\"alarm-outline\"></ion-icon>\r\n                        {{\"Shipping history\"|translate}}\r\n                    </button>\r\n                </div>\r\n                <div class=\"addInformation-info\" nz-col nzSpan=\"24\">\r\n                    <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                    <p><b>{{\"Invoice code\" | translate}}</b>: {{billInfo.bill_code}}</p>\r\n                    <p><b>{{\"Order code\" | translate}}</b>: {{billInfo.order_code}}</p>\r\n                    <p><b>{{\"Name\" | translate}}</b>: {{billInfo.data.to_name}}</p>\r\n                    <p><b>{{\"Phone number\" | translate}}</b>: {{billInfo.data.to_phone}}</p>\r\n                    <p *ngIf=\"open_status\"><b>{{\"Address\" | translate}}</b>: {{billInfo.data.to_address}},\r\n                        {{data_ward.WardName}} ,\r\n                        {{data_district.DistrictName}} , {{data_province.ProvinceName}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <h6>{{\"Products information\" | translate}}</h6>\r\n            <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billInfo.data.items\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of billInfo.data.items\" class=\"choose-product\">\r\n                        <td style=\"text-align: left;\" colspan=\"7\">\r\n                            {{item.name}}\r\n                        </td>\r\n                        <td style=\"text-align: center;\" colspan=\"7\">\r\n                            {{item.quantity}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <p><b>{{\"Weight(gram)\" | translate}}</b>: {{billInfo.data.weight}}</p>\r\n                    <p><b>{{\"Size(cm)\" | translate}}</b>: {{billInfo.data.length}} x {{billInfo.data.width}} x\r\n                        {{billInfo.data.height}}</p>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\" [ngClass]=\"(billInfo.data.status == 'cancel') ? 'reuseInfo' : 'notReuseInfo' \">\r\n            <div class=\"deliveryInfo-form ant-table-body\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <p><b>{{\"COD\" | translate}}</b>: {{vhAlgorithm.vhcurrencyunit(billInfo.data.cod_amount)}}</p>\r\n                <p><b>{{\"Order value\" | translate}}</b>: {{vhAlgorithm.vhcurrencyunit(billInfo.data.insurance_value)}}\r\n                </p>\r\n                <p *ngIf=\"calculate_fee && billInfo.data.service_type_id == 2\"><b\r\n                        style=\"color:var(--ion-color-vh-green)\">{{\"Carriage\" |\r\n                        translate}}: {{ \"Road\"| translate}} -\r\n                        {{vhAlgorithm.vhcurrencyunit(calculate_fee.service_fee)}}</b>\r\n                </p>\r\n                <p *ngIf=\"calculate_fee && billInfo.data.service_type_id == 1\"><b>{{\"Carriage\" | translate}}</b>:\r\n                    {{ \"Road\"| translate}} - {{vhAlgorithm.vhcurrencyunit(calculate_fee.service_fee)}}\r\n                </p>\r\n                <p><b>{{\"Delivery time\" | translate}}</b>: {{billInfo.data.leadtime | date : \"dd/MM/yyyy\"}}\r\n                <p><b>{{\"Payment type\" | translate}}</b>: {{(billInfo.data.payment_type_id == 1 ? \"Paid by seller\" :\r\n                    \"Pay by receiver\")|translate}}</p>\r\n                <p><b>{{\"Require note\" | translate}}</b>: {{billInfo.data.required_note | translate}}</p>\r\n                <div>\r\n                    <b>{{\"Note\" | translate}}</b>:\r\n                    <div>{{billInfo.data.note}}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"calculate_fee\">{{vhAlgorithm.vhcurrencyunit(calculate_fee.service_fee)}}</b>\r\n                                <b *ngIf=\"!calculate_fee\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"calculate_fee\">{{vhAlgorithm.vhcurrencyunit(calculate_fee.insurance_fee)}}</b>\r\n                                <b *ngIf=\"!calculate_fee\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"calculate_fee\">{{vhAlgorithm.vhcurrencyunit(calculate_fee.total)}}</b>\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"!calculate_fee\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"billInfo.data.status == 'cancel'\" class=\"deliveryInfo-button-order all-content-center\">\r\n                <button (click)=\"reuseInfo()\" nz-button class=\"order-and-print\">\r\n                    {{\"Reuse information\"|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<!-- -----------drawer history=----------- -->\r\n<app-shipping-bill-history *ngIf=\"visible_history\" [visible_history]=\"visible_history\"\r\n    [data_history_bills]=\"data_history_bills\" (onCloseHistoryBill)=\"onCloseHistoryBill($event)\">\r\n</app-shipping-bill-history>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-reuse-bill-customer',\r\n  templateUrl: './reuse-bill-customer.component.html',\r\n  styleUrls: ['./reuse-bill-customer.component.scss']\r\n})\r\nexport class ReuseBillCustomerComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private ghnService: GhnService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.item.billInfo;\r\n    this.calculate_fee = this.router.getCurrentNavigation().extras.state.item.calculate_fee;\r\n    this.address = this.router.getCurrentNavigation().extras.state.item.address;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.item.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any;\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  infoAddress: any = [];\r\n  currentAddress: any = {\r\n    address: '',\r\n    ward: '',\r\n    district: '',\r\n    province: ''\r\n  }\r\n  infoAddressChose: any;\r\n  infoCustomer: any;\r\n  valueRequireNote: number = 1;\r\n  valueListPayment: number = 1;\r\n  calculate_fee: any;\r\n  address: any;\r\n  listRequireNote: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Not allow to unpack\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Allow to try\")\r\n    },\r\n    {\r\n      value: 3,\r\n      name: this.languageService.translate(\"Allow to unpack & not to try\")\r\n    },\r\n  ]\r\n  listPaymentType: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n  ]\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      length: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      width: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      weight: new FormControl('', [Validators.required, Validators.max(200000)]),\r\n      height: new FormControl('', [Validators.required, Validators.max(100)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      required_note: new FormControl('KHONGCHOXEMHANG', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.addInformation.controls.name.setValue(this.billInfo.data.to_name);\r\n    this.addInformation.controls.phone.setValue(this.billInfo.data.to_phone);\r\n    this.addInformation.controls.address.setValue(this.billInfo.data.to_address);\r\n    this.addInformation.controls.province.setValue(this.address.province.ProvinceID);\r\n    this.addInformation.controls.district.setValue(this.address.district.DistrictID);\r\n    this.addInformation.controls.ward.setValue(this.address.ward.WardCode);\r\n    this.productInfo.controls.weight.setValue(this.billInfo.data.weight);\r\n    this.productInfo.controls.height.setValue(this.billInfo.data.height);\r\n    this.productInfo.controls.length.setValue(this.billInfo.data.length);\r\n    this.productInfo.controls.width.setValue(this.billInfo.data.width);\r\n    this.province.ProvinceName = this.address.province.ProvinceName;\r\n    this.district.DistrictName = this.address.district.DistrictName;\r\n    this.ward.WardName = this.address.ward.WardName;\r\n    this.deliveryInfo.controls.cod.setValue(this.billInfo.data.cod_amount);\r\n    this.deliveryInfo.controls.orderValue.setValue(this.billInfo.data.insurance_value);\r\n    this.deliveryInfo.controls.required_note.setValue(this.billInfo.data.required_note);\r\n    this.deliveryInfo.controls.payment_type_id.setValue(this.billInfo.data.payment_type_id.toString());\r\n    this.deliveryInfo.controls.note.setValue(this.billInfo.data.note);\r\n    this.deliveryInfo.controls.transport.setValue(this.billInfo.data.service_id);\r\n    this.chooseService = {\r\n      service_id: this.billInfo.data.service_id,\r\n      service_type_id: this.billInfo.data.service_type_id,\r\n      insurance_fee: this.calculate_fee.insurance_fee,\r\n      total: this.calculate_fee.total,\r\n      service_fee: this.calculate_fee.service_fee,\r\n      sort_name: this.filterSortname(this.billInfo.data.service_type_id),\r\n      leadtime: this.billInfo.data.leadtime\r\n    }\r\n    this.currentAddress = {\r\n      address: this.billInfo.data.to_address,\r\n      ward: this.address.ward.WardName,\r\n      district: this.address.district.DistrictName,\r\n      province: this.address.district.ProvinceName\r\n    }\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.vhQuerySales.getlocalCustomer(this.billInfo.id_customer),\r\n        this.ghnService.connectTokenGhn(this.data_delivery.token),\r\n        this.vhQuerySales.getlocalAddresss()\r\n      ]).then((res: any) => {\r\n        if (res[0]) {\r\n          this.billDetails = res[0].map(item => {\r\n            let nameProduct = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: nameProduct\r\n            }\r\n          })\r\n          this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n        }\r\n        if (res[1]) {\r\n          this.infoCustomer = res[1];\r\n          // this.addInformation.controls.name.setValue(this.infoCustomer.name);\r\n          // this.addInformation.controls.phone.setValue(this.infoCustomer.phone);\r\n        }\r\n        if (res[2]) {\r\n          this.shops = res[2].data.shops;\r\n          for (let i in this.shops) {\r\n            if (this.shops[i]._id == this.data_delivery.shop_id) {\r\n              this.data_delivery = {\r\n                ...this.data_delivery,\r\n                name: this.shops[i].name,\r\n                phone: this.shops[i].phone,\r\n                address: this.shops[i].address,\r\n                district_id: this.shops[i].district_id,\r\n                ward_code: this.shops[i].ward_code\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (res[3]) {\r\n          let address = res[3].filter(item => item.type == 1 && item.id_customer == this.billInfo.id_customer).sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0];\r\n          if (address) {\r\n            this.currentAddress = address;\r\n            this.province.ProvinceName = this.currentAddress.province;\r\n            this.district.DistrictName = this.currentAddress.district;\r\n            this.ward.WardName = this.currentAddress.ward;\r\n            this.addInformation.controls.province.setValue(this.currentAddress.province_id);\r\n            this.addInformation.controls.district.setValue(this.currentAddress.district_id);\r\n            this.addInformation.controls.ward.setValue(this.currentAddress.ward_id);\r\n            this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n            this.getServive();\r\n          }\r\n        }\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n      })\r\n    }).finally(() => this.vhComponent.hideLoading(0))\r\n  }\r\n  checkPrinter: boolean = false;\r\n  filterSortname(type) {\r\n    let sortname = '';\r\n    if (type == 1) {\r\n      sortname = this.languageService.translate('Flight');\r\n    }\r\n    else if (type == 2) {\r\n      sortname = this.languageService.translate('Road');\r\n    }\r\n    return sortname;\r\n  }\r\n  //hàm này dùng để get về các phương thức giao hàng : đi bộ, bay , tiết kiệm\r\n  getServive() {\r\n    let data = {\r\n      shop_id: this.data_delivery.shop_id,\r\n      from_district_id: this.data_delivery.district_id,\r\n      to_district_id: this.addInformation.value.district\r\n    }\r\n    this.vhComponent.showLoading('');\r\n    this.ghnService.getServiceDelivery(this.data_delivery.token, data).then((res: any) => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.service = res.data.filter(item => {\r\n        return item.service_type_id == 1 || item.service_type_id == 2\r\n      });\r\n    }).catch(err => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting data !'), \"alert-toast\")\r\n    })\r\n  }\r\n  convertProducts() {\r\n    let data: Array<any> = [];\r\n    this.billDetails.forEach(item => {\r\n      data.push({\r\n        name: item.name_product,\r\n        quantity: item.quantity,\r\n        id: item.id_product\r\n      })\r\n    })\r\n    return data;\r\n  }\r\n  prepareDataToCreateOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_name: this.addInformation.value.name,\r\n      to_phone: this.addInformation.value.phone,\r\n      to_address: this.addInformation.value.address,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      to_district_id: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      width: this.productInfo.value.width,\r\n      payment_type_id: +this.deliveryInfo.value.payment_type_id,\r\n      required_note: this.deliveryInfo.value.required_note,\r\n      service_id: this.deliveryInfo.value.transport,\r\n      cod_amount: parseInt(this.cod_amount.getRawValue()),\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      items: this.convertProducts(),\r\n      note: this.deliveryInfo.value.note,\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghnService.createOrderGhn(this.prepareDataToCreateOrder()).then((res: any) => {\r\n            this.invoice.setOrderCode(res.data.order_code);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then(() => {\r\n              if (print) {\r\n                this.ghnService.getInfoOrder(this.data_delivery.token, res.data.order_code).then((ress: any) => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.billInfo.data = ress.data;\r\n                    this.billInfo.order_code = res.data.order_code;\r\n                    this.showPrint();\r\n                  })\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack();\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"success-toast\")\r\n                });\r\n              }\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(err.error.message), \"alert-toast\");\r\n          })\r\n        })\r\n      }).catch(err => { })\r\n  }\r\n  blurFee() {\r\n    this.chooseService = '';\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 50000000) {\r\n      this.deliveryInfo.controls.cod.setValue('50,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 50,000,000\"), \"alert-toast\")\r\n    }\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 10000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('10,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 10,000,000\"), \"alert-toast\")\r\n    }\r\n    this.blurFee()\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.created_date;\r\n    this.billInfo.data.ship_money = this.chooseService.service_fee;\r\n    this.billInfo.data.insurance = this.chooseService.insurance_fee;\r\n    this.billInfo.data.pick_money = this.billInfo.data.cod_amount;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.to_name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.to_phone;\r\n    this.billInfo.data.address = this.addInformation.value.address + \", \" + this.ward.WardName + \", \" + this.district.DistrictName + \", \" + this.province.ProvinceName;\r\n    this.billInfo.data.is_freeship = this.billInfo.data.payment_type_id == 1 ? 1 : 0;\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn\"], {\r\n      state: {\r\n        dataSearchAndDate: this.dataSearchAndDate\r\n      }\r\n    })\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.chooseService = '';\r\n      this.getServive();\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.chooseService = '';\r\n      this.deliveryInfo.controls.transport.setValue('');\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n  paymentType(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n\r\n  chooseRequireNote(event) {\r\n    if (event == 1) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"KHONGCHOXEMHANG\");\r\n    } else if (event == 2) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOTHUHANG\");\r\n    } else if (event == 3) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOXEMHANGKHONGTHU\");\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhn() {\r\n    this.dataToGetMethod = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_district_id: this.addInformation.value.district,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      from_district_id: this.data_delivery.district_id,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      weight: this.productInfo.value.weight,\r\n      width: this.productInfo.value.width,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      service: this.service,\r\n      from_ward_code: this.data_delivery.ward_code\r\n    }\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhn(event) {\r\n    if (event) {\r\n      this.chooseService = event\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.service_id);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.customDataBillDetail(this.billInfo.data.items),\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack();\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' |'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  // ------drawer list address-----\r\n  visible_list_address: boolean = false;\r\n  data_list_address_ghn: any;\r\n  openListAddressCustomer() {\r\n    this.data_list_address_ghn = {\r\n      billInfo: this.billInfo,\r\n      data_delivery: this.data_delivery\r\n    }\r\n    this.visible_list_address = true;\r\n  }\r\n  onCloseListAddress(event) {\r\n    if (event) {\r\n      this.currentAddress = event;\r\n      this.province.ProvinceName = this.currentAddress.province;\r\n      this.district.DistrictName = this.currentAddress.district;\r\n      this.ward.WardName = this.currentAddress.ward;\r\n      this.addInformation.controls.province.setValue(this.currentAddress.province_id);\r\n      this.addInformation.controls.district.setValue(this.currentAddress.district_id);\r\n      this.addInformation.controls.ward.setValue(this.currentAddress.ward_id);\r\n      this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n      this.chooseService = '';\r\n      this.getServive();\r\n    }\r\n    this.visible_list_address = false;\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <div>\r\n                            <button nzType=\"text\" (click)=\"openListAddressCustomer()\" nz-button>\r\n                                <ion-icon name=\"create-outline\"></ion-icon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"currentAddress.ward\" class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <p>{{currentAddress.address}}<br />{{currentAddress.ward}}, {{currentAddress.district}},\r\n                            {{currentAddress.province}}</p>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(gram)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input formControlName=\"weight\" nz-input required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div nz-row nzGutter=\"16\">\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Length(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"length\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplLength let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Width(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"width\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplWidth let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Height(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"height\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplHeight let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input class=\"cod_amount\" type=\"text\" maxlength=\"10\" formControlName=\"cod\" nz-input\r\n                                        required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input class=\"order_value_amount\" type=\"text\" maxlength=\"10\"\r\n                                        formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group style=\"cursor: pointer;\" class=\"input-group all-content-center\"\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' :chooseMethodGhn()\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\" | translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\" *ngIf=\"chooseService\"\r\n                                    class=\"nz-no-margin\">\r\n                                    <b>{{chooseService.sort_name}} -\r\n                                        {{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                </p>\r\n                                <p style=\"float: right;\" *ngIf=\"chooseService\" class=\"nz-no-margin\">\r\n                                    <span>{{\"Delivery time\" | translate}}:\r\n                                        {{chooseService.leadtime | date : 'dd/MM/yyyy'}}</span>\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueListPayment\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"paymentType($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentType\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Require note'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Require note'|translate}}\" [(ngModel)]=\"valueRequireNote\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"chooseRequireNote($event)\">\r\n                            <nz-option *ngFor=\"let option of listRequireNote\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                <b *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee)}}</b>\r\n                                <b *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.total)}}</b>\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid && !checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</nz-layout>\r\n\r\n\r\n<!-- ----drawer list address------ -->\r\n<app-list-address-customer-ghn *ngIf=\"visible_list_address\" [data_list_address_ghn]=\"data_list_address_ghn\"\r\n    [visible_list_address]=\"visible_list_address\" (onCloseListAddress)=\"onCloseListAddress($event)\">\r\n</app-list-address-customer-ghn>\r\n<!-- --------modal phương thức--------- -->\r\n<app-choose-method-ghn *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhn)=\"cancelModalMethodGhn($event)\">\r\n</app-choose-method-ghn>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-reuse-bill-retail',\r\n  templateUrl: './reuse-bill-retail.component.html',\r\n  styleUrls: ['./reuse-bill-retail.component.scss']\r\n})\r\nexport class ReuseBillRetailComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private ghnService: GhnService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.item.billInfo;\r\n    this.calculate_fee = this.router.getCurrentNavigation().extras.state.item.calculate_fee;\r\n    this.address = this.router.getCurrentNavigation().extras.state.item.address;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.item.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate;\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any;\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  valueRequireNote: number = 1;\r\n  valueListPayment: number = 1;\r\n  calculate_fee: any;\r\n  address: any;\r\n  listRequireNote: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Not allow to unpack\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Allow to try\")\r\n    },\r\n    {\r\n      value: 3,\r\n      name: this.languageService.translate(\"Allow to unpack & not to try\")\r\n    },\r\n  ]\r\n  listPaymentType: Array<any> = [\r\n    {\r\n      value: 1,\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    },\r\n    {\r\n      value: 2,\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n  ]\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      length: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      width: new FormControl('', [Validators.required, Validators.max(100)]),\r\n      weight: new FormControl('', [Validators.required, Validators.max(200000)]),\r\n      height: new FormControl('', [Validators.required, Validators.max(100)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl(0, [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      required_note: new FormControl('KHONGCHOXEMHANG', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.addInformation.controls.name.setValue(this.billInfo.data.to_name);\r\n    this.addInformation.controls.phone.setValue(this.billInfo.data.to_phone);\r\n    this.addInformation.controls.address.setValue(this.billInfo.data.to_address);\r\n    this.addInformation.controls.province.setValue(this.address.province.ProvinceID);\r\n    this.addInformation.controls.district.setValue(this.address.district.DistrictID);\r\n    this.addInformation.controls.ward.setValue(this.address.ward.WardCode);\r\n    this.productInfo.controls.weight.setValue(this.billInfo.data.weight);\r\n    this.productInfo.controls.height.setValue(this.billInfo.data.height);\r\n    this.productInfo.controls.length.setValue(this.billInfo.data.length);\r\n    this.productInfo.controls.width.setValue(this.billInfo.data.width);\r\n    this.province.ProvinceName = this.address.province.ProvinceName;\r\n    this.district.DistrictName = this.address.district.DistrictName;\r\n    this.ward.WardName = this.address.ward.WardName;\r\n    this.deliveryInfo.controls.cod.setValue(this.billInfo.data.cod_amount);\r\n    this.deliveryInfo.controls.orderValue.setValue(this.billInfo.data.insurance_value);\r\n    this.deliveryInfo.controls.required_note.setValue(this.billInfo.data.required_note);\r\n    this.deliveryInfo.controls.payment_type_id.setValue(this.billInfo.data.payment_type_id.toString());\r\n    this.deliveryInfo.controls.note.setValue(this.billInfo.data.note);\r\n    this.deliveryInfo.controls.transport.setValue(this.billInfo.data.service_id);\r\n    this.chooseService = {\r\n      service_id: this.billInfo.data.service_id,\r\n      service_type_id: this.billInfo.data.service_type_id,\r\n      insurance_fee: this.calculate_fee.insurance_fee,\r\n      total: this.calculate_fee.total,\r\n      service_fee: this.calculate_fee.service_fee,\r\n      sort_name: this.filterSortname(this.billInfo.data.service_type_id),\r\n      leadtime: this.billInfo.data.leadtime\r\n    }\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.ghnService.connectTokenGhn(this.data_delivery.token)\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          if (res[0]) {\r\n            this.billDetails = res[0].map(item => {\r\n              let nameProduct = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n              return {\r\n                ...item,\r\n                name_product: nameProduct,\r\n              }\r\n            })\r\n            this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails,this.vhQuerySales);\r\n          }\r\n          if (res[1]) {\r\n            this.shops = res[1].data.shops;\r\n            for (let i in this.shops) {\r\n              if (this.shops[i]._id == this.data_delivery.shop_id) {\r\n                this.data_delivery = {\r\n                  ...this.data_delivery,\r\n                  name: this.shops[i].name,\r\n                  phone: this.shops[i].phone,\r\n                  address: this.shops[i].address,\r\n                  district_id: this.shops[i].district_id,\r\n                  ward_code: this.shops[i].ward_code\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (this.addInformation.value.district) {\r\n            this.getServive();\r\n          }\r\n          let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n        })\r\n      })\r\n    })\r\n  }\r\n  checkPrinter: boolean = false;\r\n  filterSortname(type) {\r\n    let sortname = '';\r\n    if (type == 1) {\r\n      sortname = this.languageService.translate('Flight');\r\n    }\r\n    else if (type == 2) {\r\n      sortname = this.languageService.translate('Road');\r\n    }\r\n    return sortname;\r\n  }\r\n  //hàm này dùng để get về các phương thức giao hàng : đi bộ, bay , tiết kiệm\r\n  getServive() {\r\n    let data = {\r\n      shop_id: this.data_delivery.shop_id,\r\n      from_district_id: this.data_delivery.district_id,\r\n      to_district_id: this.addInformation.value.district\r\n    }\r\n    this.vhComponent.showLoading('');\r\n    this.ghnService.getServiceDelivery(this.data_delivery.token, data).then((res: any) => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.service = res.data.filter(item => {\r\n        return item.service_type_id == 1 || item.service_type_id == 2\r\n      });\r\n    }).catch(err => {\r\n      this.vhComponent.hideLoading(0);\r\n      this.vhComponent.showToast(2000, this.languageService.translate('An error occurred while getting data !'), \"alert-toast\")\r\n    })\r\n  }\r\n  convertProducts() {\r\n    let data: Array<any> = [];\r\n    this.billDetails.forEach(item => {\r\n      data.push({\r\n        name: item.name_product,\r\n        quantity: item.quantity,\r\n        id: item.id_product\r\n      })\r\n    })\r\n    return data;\r\n  }\r\n  prepareDataToCreateOrder() {\r\n    let data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_name: this.addInformation.value.name,\r\n      to_phone: this.addInformation.value.phone,\r\n      to_address: this.addInformation.value.address,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      to_district_id: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      width: this.productInfo.value.width,\r\n      payment_type_id: +this.deliveryInfo.value.payment_type_id,\r\n      required_note: this.deliveryInfo.value.required_note,\r\n      service_id: this.deliveryInfo.value.transport,\r\n      cod_amount: parseInt(this.cod_amount.getRawValue()),\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      items: this.convertProducts(),\r\n      note: this.deliveryInfo.value.note,\r\n    }\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghnService.createOrderGhn(this.prepareDataToCreateOrder()).then((res: any) => {\r\n            this.invoice.setOrderCode(res.data.order_code);\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail()).then(() => {\r\n              if (print) {\r\n                this.ghnService.getInfoOrder(this.data_delivery.token, res.data.order_code).then((ress: any) => {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.billInfo.data = ress.data;\r\n                    this.billInfo.order_code = res.data.order_code;\r\n                    this.showPrint();\r\n                  })\r\n                })\r\n              } else {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  this.goBack();\r\n                  this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), \"alert-toast\")\r\n                });\r\n              }\r\n            })\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.showToast(2000, this.languageService.translate(err.error.message), \"alert-toast\");\r\n          })\r\n        })\r\n      }).catch(err => { })\r\n  }\r\n  blurFee() {\r\n    this.chooseService = '';\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 50000000) {\r\n      this.deliveryInfo.controls.cod.setValue('50,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 50,000,000\"), \"alert-toast\")\r\n    }\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 10000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('10,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 10,000,000\"), \"alert-toast\")\r\n    }\r\n    this.blurFee()\r\n  }\r\n  customDataBillDetail(billDetails) {\r\n    let data: any = billDetails.map(item => {\r\n      return {\r\n        name_product: item.name,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  customDataBillInfo() {\r\n    this.billInfo.data.created = this.billInfo.data.created_date;\r\n    this.billInfo.data.ship_money = this.chooseService.service_fee;\r\n    this.billInfo.data.insurance = this.chooseService.insurance_fee;\r\n    this.billInfo.data.pick_money = this.billInfo.data.cod_amount;\r\n    this.billInfo.data.customer_fullname = this.billInfo.data.to_name;\r\n    this.billInfo.data.customer_tel = this.billInfo.data.to_phone;\r\n    this.billInfo.data.address = this.addInformation.value.address + \", \" + this.ward.WardName + \", \" + this.district.DistrictName + \", \" + this.province.ProvinceName;\r\n    this.billInfo.data.is_freeship = this.billInfo.data.payment_type_id == 1 ? 1 : 0;\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghn\"],\r\n      {\r\n        state: {\r\n          billInfo: this.billInfo,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: this.dataSearchAndDate\r\n        }\r\n      })\r\n  }\r\n  // ------modal province--------\r\n  chooseProvinceGhn: boolean = false;\r\n  chooseProvince() {\r\n    this.chooseProvinceGhn = true;\r\n  }\r\n  cancelModalProvinceGhn(event) {\r\n    if (event) {\r\n      this.province = event\r\n      this.addInformation.controls.province.setValue(this.province.ProvinceID);\r\n      this.ward = '';\r\n      this.district = '';\r\n    }\r\n    this.chooseProvinceGhn = false;\r\n  }\r\n  // ------modal district--------\r\n  chooseDistrictGhn: boolean = false;\r\n  province_idModal: any;\r\n  chooseDistrict() {\r\n    if (this.province.ProvinceName) {\r\n      this.chooseDistrictGhn = true;\r\n      this.province_idModal = this.province.ProvinceID ? this.province.ProvinceID : this.addInformation.value.province\r\n    }\r\n  }\r\n  cancelModalDistrictGhn(event) {\r\n    if (event) {\r\n      this.district = event;\r\n      this.ward = '';\r\n      this.addInformation.controls.district.setValue(this.district.DistrictID);\r\n      this.chooseService = '';\r\n      this.getServive();\r\n    }\r\n    this.chooseDistrictGhn = false;\r\n  }\r\n  // ------modal ward--------\r\n  chooseWardGhn: boolean = false;\r\n  district_idModal: any;\r\n  chooseWard() {\r\n    if (this.district.DistrictName) {\r\n      this.chooseWardGhn = true;\r\n      this.district_idModal = this.district.DistrictID ? this.district.DistrictID : this.addInformation.value.district\r\n    }\r\n  }\r\n  cancelModalWardGhn(event) {\r\n    if (event) {\r\n      this.ward = event\r\n      this.addInformation.controls.ward.setValue(this.ward.WardCode);\r\n      this.chooseService = '';\r\n      this.deliveryInfo.controls.transport.setValue('');\r\n    }\r\n    this.chooseWardGhn = false;\r\n  }\r\n  paymentType(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n\r\n  chooseRequireNote(event) {\r\n    if (event == 1) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"KHONGCHOXEMHANG\");\r\n    } else if (event == 2) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOTHUHANG\");\r\n    } else if (event == 3) {\r\n      this.deliveryInfo.controls.required_note.setValue(\"CHOXEMHANGKHONGTHU\");\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhn() {\r\n    this.dataToGetMethod = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      to_district_id: this.addInformation.value.district,\r\n      to_ward_code: this.addInformation.value.ward,\r\n      from_district_id: this.data_delivery.district_id,\r\n      height: this.productInfo.value.height,\r\n      length: this.productInfo.value.length,\r\n      weight: this.productInfo.value.weight,\r\n      width: this.productInfo.value.width,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n      service: this.service,\r\n      from_ward_code: this.data_delivery.ward_code\r\n    }\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhn(event) {\r\n    if (event) {\r\n      this.chooseService = event\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.service_id);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.customDataBillInfo();\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.customDataBillDetail(this.billInfo.data.items),\r\n        data_delivery: this.data_delivery,\r\n        printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack();\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' |'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter your address' | translate}}\" required />\r\n                                    <ng-template #combineTplAddress let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Province'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"province.ProvinceName\" class=\"input-group all-content-center\"\r\n                            (click)=\"chooseProvince()\">\r\n                            {{province.ProvinceName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!province.ProvinceName\"\r\n                            class=\"input-group all-content-center placeholder\" (click)=\"chooseProvince()\"> {{\"Province\"\r\n                            | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" [ngStyle]=\"{opacity: province.ProvinceName ? 1: 0.5}\">\r\n                        <div><b>{{'District'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"district.DistrictName\" class=\"input-group all-content-center\"\r\n                            (click)=\"province.ProvinceName ? chooseDistrict():''\">\r\n                            {{district.DistrictName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!district.DistrictName\"\r\n                            class=\"input-group all-content-center placeholder\"\r\n                            (click)=\"province.ProvinceName ? chooseDistrict():''\"> {{\"District\"\r\n                            | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" [ngStyle]=\"{opacity: district.DistrictName ? 1: 0.5}\">\r\n                        <div><b>{{'Ward'|translate}}*</b></div>\r\n                        <nz-input-group *ngIf=\"ward.WardName\" class=\"input-group all-content-center\"\r\n                            (click)=\"district.DistrictName ? chooseWard():''\">\r\n                            {{ward.WardName}}\r\n                        </nz-input-group>\r\n                        <nz-input-group *ngIf=\"!ward.WardName\" class=\"input-group all-content-center placeholder\"\r\n                            (click)=\"district.DistrictName ? chooseWard():''\"> {{\"Ward\" | translate}}\r\n                        </nz-input-group>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(gram)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input formControlName=\"weight\" nz-input required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div nz-row nzGutter=\"16\">\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Length(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"length\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplLength let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Width(cm)'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"width\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplWidth let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                    <div nz-col nzSpan=\"8\">\r\n                                        <div><b>{{'Height'|translate}}*</b></div>\r\n                                        <nz-form-item>\r\n                                            <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                                                <nz-input-group>\r\n                                                    <input formControlName=\"height\" nz-input required type=\"number\" />\r\n                                                    <ng-template #combineTplHeight let-control>\r\n                                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                                            required'\r\n                                                            |\r\n                                                            translate}}\r\n                                                        </ng-container>\r\n                                                    </ng-template>\r\n                                                </nz-input-group>\r\n                                            </nz-form-control>\r\n                                        </nz-form-item>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input class=\"cod_amount\" type=\"text\" maxlength=\"9\" formControlName=\"cod\" nz-input\r\n                                        required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input class=\"order_value_amount\" type=\"text\" maxlength=\"9\"\r\n                                        formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group style=\"cursor: pointer;\" class=\"input-group all-content-center\"\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' :chooseMethodGhn()\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\" *ngIf=\"chooseService\"\r\n                                    class=\"nz-no-margin\">\r\n                                    <b>{{chooseService.sort_name}} -\r\n                                        {{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                </p>\r\n                                <p style=\"float: right;\" *ngIf=\"chooseService\" class=\"nz-no-margin\">\r\n                                    <span>{{\"Delivery time\" | translate}}:\r\n                                        {{chooseService.leadtime | date : 'dd/MM/yyyy'}}</span>\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueListPayment\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"paymentType($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentType\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Require note'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Require note'|translate}}\" [(ngModel)]=\"valueRequireNote\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"chooseRequireNote($event)\">\r\n                            <nz-option *ngFor=\"let option of listRequireNote\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.service_fee)}}</b>\r\n                                <b *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee)}}</b>\r\n                                <b *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit(chooseService.total)}}</b>\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"!chooseService\">0</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid && checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</nz-layout>\r\n<!-- --------modal chọn tỉnh--------- -->\r\n<app-choose-province-ghn *ngIf=\"chooseProvinceGhn\" [chooseProvinceGhn]=\"chooseProvinceGhn\" [token]=\"data_delivery.token\"\r\n    (cancelModalProvinceGhn)=\"cancelModalProvinceGhn($event)\">\r\n</app-choose-province-ghn>\r\n<!-- --------modal chọn huyện--------- -->\r\n<app-choose-district-ghn *ngIf=\"chooseDistrictGhn\" [chooseDistrictGhn]=\"chooseDistrictGhn\" [token]=\"data_delivery.token\"\r\n    [province_idModal]=\"province_idModal\" (cancelModalDistrictGhn)=\"cancelModalDistrictGhn($event)\">\r\n</app-choose-district-ghn>\r\n<!-- --------modal chọn xã--------- -->\r\n<app-choose-ward-ghn *ngIf=\"chooseWardGhn\" [chooseWardGhn]=\"chooseWardGhn\" [token]=\"data_delivery.token\"\r\n    [district_idModal]=\"district_idModal\" (cancelModalWardGhn)=\"cancelModalWardGhn($event)\">\r\n</app-choose-ward-ghn>\r\n<!-- --------modal phương thức--------- -->\r\n<app-choose-method-ghn *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhn)=\"cancelModalMethodGhn($event)\">\r\n</app-choose-method-ghn>"],"names":[],"sourceRoot":"webpack:///"}