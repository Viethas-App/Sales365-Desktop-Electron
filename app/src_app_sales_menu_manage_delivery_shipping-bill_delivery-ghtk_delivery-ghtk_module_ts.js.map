{"version":3,"file":"src_app_sales_menu_manage_delivery_shipping-bill_delivery-ghtk_delivery-ghtk_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/add-adddress-customer-ghtk/add-adddress-customer-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/add-adddress-customer-ghtk/add-adddress-customer-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/choose-method-ghtk/choose-method-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/choose-method-ghtk/choose-method-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/edit-adddress-customer-ghtk/edit-adddress-customer-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/edit-adddress-customer-ghtk/edit-adddress-customer-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/list-adddress-customer-ghtk/list-adddress-customer-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/components/list-adddress-customer-ghtk/list-adddress-customer-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/create-bill-customer-ghtk/create-bill-customer-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/create-bill-customer-ghtk/create-bill-customer-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/create-bill-retail-ghtk/create-bill-retail-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/create-bill-retail-ghtk/create-bill-retail-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/delivery-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/delivery-ghtk.component.html","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/delivery-ghtk.module.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/detail-bill-ghtk/detail-bill-ghtk.component.ts","./src/app/sales/menu/manage/delivery/shipping-bill/delivery-ghtk/detail-bill-ghtk/detail-bill-ghtk.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhtkService {\r\n  private URL: string = this.vhQuerySales.getShippingGHTKURL()\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n\r\n  /**\r\n  * kiểm tra token của giao hàng tiết kiệm có hợp lệ hay không và lấy thông tin kho\r\n  * @example : this.transportService.connectTokenGhtk(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  getWareHouseGhtk(token) {\r\n    // let options:any = {\r\n    //   method: 'GET',\r\n    //   url: 'http://115.78.100.57:8013/miscellaneous/ghtk',                       \r\n    //   params: {\r\n    //     token:token,\r\n    //     url: 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n    //   }            \r\n    // };          \r\n    // return axios.request(options);\r\n    \r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  calculateFeeGhtk(data, transport) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": data.token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/fee\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"pick_address_id\": data.shop_id,\r\n      \"province\": data.province,\r\n      \"district\": data.district,\r\n      \"weight\": data.weight * 1000,\r\n      \"value\": data.insurance_value,\r\n      \"transport\": transport\r\n    }\r\n    \r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  createOrderGhtk(token, products, order) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/order/?ver=1.6.3\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"products\": products,\r\n      \"order\": order\r\n    }\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  getStatusBill(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/v2/${order_code}`\r\n      }\r\n    }\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  cancelOrder(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/cancel/${order_code}`\r\n      }\r\n    }\r\n    let params = {}\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-add-adddress-customer-ghtk',\r\n  templateUrl: './add-adddress-customer-ghtk.component.html',\r\n  styleUrls: ['./add-adddress-customer-ghtk.component.scss']\r\n})\r\nexport class AddAdddressCustomerGhtkComponent implements OnInit {\r\n\r\n  @Input(\"visible_add_address_ghtk\") visible_add_address_ghtk: boolean = false;\r\n  @Output(\"closeAndGetValueAddAddress\") closeAndGetValueAddAddress = new EventEmitter<any>();\r\n  @Input(\"data_add_address_ghtk\") data_add_address_ghtk;\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  chooseService: any;\r\n  data_delivery: any;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.data_delivery = this.data_add_address_ghtk.data_delivery;\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n      hamlet: new FormControl('', Validators.required)\r\n    })\r\n  }\r\n  createAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create address Giao Hang Tiet Kiem ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        let checkAddress: any = this.checkAddress(this.addInformation.value);\r\n        if (checkAddress.result) {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"This address already exists\"), \"alert-toast\")\r\n        } else {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.addAddress(this.exportAddress()).then(res => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                if (res) {\r\n                  this.closeAndGetValueAddAddress.emit(res);\r\n                }\r\n              })\r\n            })\r\n          })\r\n        }\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  exportAddress() {\r\n    let data = {\r\n      id_customer: this.data_add_address_ghtk.billInfo.id_customer,\r\n      type: 2,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      address: this.addInformation.value.address,\r\n      hamlet: this.addInformation.value.hamlet,\r\n      date: new Date().toISOString(),\r\n    }\r\n    return data;\r\n  }\r\n  /** \r\n  * hàm này dùng để check xem địa chỉ của khách hàng đã có trong database hay chưa\r\n  * result : true là địa chỉ đã được lưu không cần lưu lại, false tức là phải lưu địa chỉ đó lại\r\n  * */\r\n  checkAddress(data) {\r\n    let result: boolean = false;\r\n    let id_address;\r\n    //duyệt for trường hợp trùng địa chỉ thì return true để khỏi lưu lại\r\n    for (let i in this.data_add_address_ghtk.infoAddress) {\r\n      if (this.data_add_address_ghtk.infoAddress[i].address == data.address && this.data_add_address_ghtk.infoAddress[i].ward == data.ward && this.data_add_address_ghtk.infoAddress[i].hamlet == data.hamlet) {\r\n        result = true;\r\n        id_address = this.data_add_address_ghtk.infoAddress[i]._id\r\n      }\r\n    }\r\n    return {\r\n      result: result,\r\n      id_address: id_address\r\n    };\r\n  }\r\n  onClose() {\r\n    this.closeAndGetValueAddAddress.emit(false);\r\n  }\r\n\r\n\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_add_address_ghtk\" nzTitle=\"{{'Create Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <h6>{{\"Receiver Information\" | translate}}</h6>\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input placeholder=\"{{'Ex: No 2' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplAddress let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"province\" nz-input\r\n                                    placeholder=\"{{'Example: Dong Nai Province' | translate}}\" required />\r\n                                <ng-template #combineTplProvince let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"district\" nz-input\r\n                                    placeholder=\"{{'Example: Long Thanh District' | translate}}\" required />\r\n                                <ng-template #combineTplDistrict let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWard\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"ward\" nz-input placeholder=\"{{'Example: Cam Duong Commune' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplWard let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Hamlet'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplHamlet\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"hamlet\" nz-input placeholder=\"{{'Example: Hamlet 1' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplHamlet let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Hamlet is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"createAddress()\">{{\"Save\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-choose-method-ghtk',\r\n  templateUrl: './choose-method-ghtk.component.html',\r\n  styleUrls: ['./choose-method-ghtk.component.scss']\r\n})\r\nexport class ChooseMethodGhtkComponent implements OnInit {\r\n  @Input(\"chooseMethod\") chooseMethod: boolean = false;\r\n  @Input(\"dataToGetMethod\") data;\r\n  @Output(\"cancelModalMethodGhtk\") cancelModalMethodGhtk = new EventEmitter<any>();\r\n  roadService: any = {\r\n    fee: ''\r\n  };\r\n  flyService: any = {\r\n    fee: ''\r\n  };\r\n  setHeight = {\r\n    \"height\": \"400px\"\r\n  }\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghtkService: GhtkService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.ghtkService.calculateFeeGhtk(this.data, 'road'),\r\n        this.ghtkService.calculateFeeGhtk(this.data, 'fly')\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          if (res[0].success && res[0].fee.delivery) {\r\n            this.roadService = {\r\n              name_service: this.languageService.translate(\"Standard\"),\r\n              type: 1, //chuẩn\r\n              ...res[0].fee\r\n            }\r\n          }\r\n          else {\r\n            this.vhComponent.showToast(2000, this.languageService.translate('GHTK does not support delivery at this address, please check again'), \"alert-toast\");\r\n          }\r\n          if (res[1].success && res[1].fee.delivery) {\r\n            if (this.roadService.fee != res[1].fee.fee) {\r\n              this.flyService = {\r\n                name_service: this.languageService.translate(\"Fast\"),\r\n                type: 2,\r\n                ...res[1].fee\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }).catch(err => { console.error(err); this.vhComponent.hideLoading(0) });\r\n    })\r\n  }\r\n  goBack() {\r\n    this.cancelModalMethodGhtk.emit(false);\r\n  }\r\n  chooseService(item) {\r\n    this.cancelModalMethodGhtk.emit(item);\r\n  }\r\n\r\n}\r\n","<nz-modal [nzBodyStyle]=\"setHeight\" (nzOnCancel)=\"goBack()\" [(nzVisible)]=\"chooseMethod\" [nzWidth]=\"400\"\r\n    [nzTitle]=\"modalTitle\" [nzFooter]=\"footerTpll\">\r\n    <ng-template #modalTitle>{{'Select service'|translate}}</ng-template>\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modalGhn\">\r\n            <ion-list>\r\n                <ion-item (click)=\"chooseService(roadService)\" *ngIf=\"roadService.fee\" class=\"ion-no-padding\">\r\n                    <ion-label mode=\"ios\" style=\"text-align: start; margin-left: 15px\">\r\n                        <ion-label mode=\"ios\" class=\"name-category\"\r\n                            style=\"font-size: 0.9rem; font-weight: 700; padding-bottom: 5px;text-transform: capitalize;\"\r\n                            color=\"vh-black\">\r\n                            {{roadService.name_service| translate}}</ion-label>\r\n                    </ion-label>\r\n                    <ion-label mode=\"ios\" style=\"text-align: end; margin-right: 0px\">\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem; padding-bottom: 5px;margin-right: 10px;\"\r\n                            color=\"vh-green\">\r\n                            {{vhAlgorithm.vhcurrencyunit(roadService.fee)}}\r\n                        </ion-label>\r\n                    </ion-label>\r\n                </ion-item>\r\n                <ion-item (click)=\"chooseService(flyService)\" *ngIf=\"flyService.fee\" class=\"ion-no-padding\">\r\n                    <ion-label mode=\"ios\" style=\"text-align: start; margin-left: 15px\">\r\n                        <ion-label mode=\"ios\" class=\"name-category\"\r\n                            style=\"font-size: 0.9rem; font-weight: 700; padding-bottom: 5px;text-transform: capitalize;\"\r\n                            color=\"vh-black\">\r\n                            {{flyService.name_service| translate}}</ion-label>\r\n                    </ion-label>\r\n                    <ion-label mode=\"ios\" style=\"text-align: end; margin-right: 0px\">\r\n                        <ion-label mode=\"ios\" style=\"font-size: 0.8rem; padding-bottom: 5px;margin-right: 10px;\"\r\n                            color=\"vh-green\">\r\n                            {{vhAlgorithm.vhcurrencyunit(flyService.fee)}}\r\n                        </ion-label>\r\n                    </ion-label>\r\n                </ion-item>\r\n            </ion-list>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n\r\n    </ng-template>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-adddress-customer-ghtk',\r\n  templateUrl: './edit-adddress-customer-ghtk.component.html',\r\n  styleUrls: ['./edit-adddress-customer-ghtk.component.scss']\r\n})\r\nexport class EditAdddressCustomerGhtkComponent implements OnInit {\r\n\r\n  @Input(\"visible_edit_address_ghtk\") visible_edit_address_ghtk: boolean = false;\r\n  @Output(\"closeAndGetValueEditAddress\") closeAndGetValueEditAddress = new EventEmitter<any>();\r\n  @Input(\"data_edit_address_ghtk\") data_edit_address_ghtk;\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent\r\n  ) {\r\n  }\r\n  addInformation: FormGroup;\r\n  province: any = {\r\n    ProvinceName: ''\r\n  };\r\n  district: any = {\r\n    DistrictName: '',\r\n  };\r\n  ward: any = {\r\n    WardName: ''\r\n  };\r\n  chooseService: any;\r\n  data_delivery: any;\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.data_delivery = this.data_edit_address_ghtk.data_delivery;\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      address: new FormControl(this.data_edit_address_ghtk.infoAddressChose.address, Validators.required),\r\n      province: new FormControl(this.data_edit_address_ghtk.infoAddressChose.province, Validators.required),\r\n      district: new FormControl(this.data_edit_address_ghtk.infoAddressChose.district, Validators.required),\r\n      ward: new FormControl(this.data_edit_address_ghtk.infoAddressChose.ward, Validators.required),\r\n      hamlet: new FormControl(this.data_edit_address_ghtk.infoAddressChose.hamlet, Validators.required)\r\n    })\r\n  }\r\n  exportAddress() {\r\n    let data = {\r\n      _id: this.data_edit_address_ghtk.infoAddressChose._id,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      address: this.addInformation.value.address,\r\n      hamlet: this.addInformation.value.hamlet,\r\n      date: new Date().toISOString()\r\n    }\r\n    return data;\r\n  }\r\n  /** \r\n  * hàm này dùng để check xem địa chỉ của khách hàng đã có trong database hay chưa\r\n  * result : true là địa chỉ đã được lưu không cần lưu lại, false tức là phải lưu địa chỉ đó lại\r\n  * */\r\n  onClose() {\r\n    this.closeAndGetValueEditAddress.emit(false);\r\n  }\r\n  updateAddress() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.updateAddress(this.data_edit_address_ghtk.infoAddressChose._id, this.exportAddress()).then((res) => {\r\n        if (res) {\r\n          this.vhComponent.hideLoading(0)\r\n          this.closeAndGetValueEditAddress.emit(this.exportAddress());\r\n        } else {\r\n          this.vhComponent.hideLoading(0);\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"An error occurred while udpating address\"), \"alert-toast\")\r\n        }\r\n      })\r\n    })\r\n  }\r\n  deleteAddress() {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to delete address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.deleteAddress(this.data_edit_address_ghtk.infoAddressChose._id).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.vhComponent.showToast(2000, this.languageService.translate(\"This address has been deleted successfully\"), \"success-toast\")\r\n                this.closeAndGetValueEditAddress.emit(true);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n}\r\n","<nz-drawer [nzFooter]=\"footerTpll\" [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\"\r\n    [nzVisible]=\"visible_edit_address_ghtk\" nzTitle=\"{{'Create Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form [formGroup]=\"addInformation\">\r\n            <h6>{{\"Receiver Information\" | translate}}</h6>\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"address\" nz-input placeholder=\"{{'Ex: No 2' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplAddress let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Province'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"province\" nz-input\r\n                                    placeholder=\"{{'Example: Dong Nai Province' | translate}}\" required />\r\n                                <ng-template #combineTplProvince let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'District'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"district\" nz-input\r\n                                    placeholder=\"{{'Example: Long Thanh District' | translate}}\" required />\r\n                                <ng-template #combineTplDistrict let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Ward'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWard\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"ward\" nz-input placeholder=\"{{'Example: Cam Duong Commune' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplWard let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Hamlet'|translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplHamlet\">\r\n                            <nz-input-group>\r\n                                <input formControlName=\"hamlet\" nz-input placeholder=\"{{'Example: Hamlet 1' | translate}}\"\r\n                                    required />\r\n                                <ng-template #combineTplHamlet let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Hamlet is required' |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerTpll>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black) ;margin:0 5px\"\r\n                nzType=\"default\" (click)=\"deleteAddress()\">{{\"Delete\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) ;margin:0 5px\"\r\n                class=\"nz-hover-border-green\" [disabled]=\"addInformation.invalid\" (click)=\"updateAddress()\">{{\"Update\" |\r\n                translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-list-adddress-customer-ghtk',\r\n  templateUrl: './list-adddress-customer-ghtk.component.html',\r\n  styleUrls: ['./list-adddress-customer-ghtk.component.scss']\r\n})\r\nexport class ListAdddressCustomerGhtkComponent implements OnInit {\r\n\r\n  @Input(\"visible_list_address\") visible_list_address: boolean = false;\r\n  @Output(\"onCloseListAddress\") onCloseListAddress = new EventEmitter<any>();\r\n  @Input(\"data_list_address_ghtk\") data_list_address_ghtk;\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n  ) { }\r\n  infoAddress: Array<any> = [];\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n      this.infoAddress = this.vhQuerySales.getlocalAddresss().filter(item => item.type == 2 && item.id_customer == this.data_list_address_ghtk.billInfo.id_customer).reverse();\r\n    })\r\n  }\r\n  chooseAddress(item) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to use this address ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.updateAddress(item._id, { date: new Date().toISOString() }).then((res) => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              if (res) {\r\n                this.onCloseListAddress.emit(item);\r\n              }\r\n            })\r\n          })\r\n        })\r\n      })\r\n      .catch(() => { })\r\n  }\r\n  onClose() {\r\n    this.onCloseListAddress.emit(false);\r\n  }\r\n\r\n  // -----modal add--------\r\n  visible_add_address_ghtk: boolean = false;\r\n  data_add_address_ghtk: any;\r\n  openAddAddressGhtk() {\r\n    this.data_add_address_ghtk = {\r\n      billInfo: this.data_list_address_ghtk.billInfo,\r\n      data_delivery: this.data_list_address_ghtk.data_delivery,\r\n      infoAddress: this.infoAddress\r\n    }\r\n    this.visible_add_address_ghtk = true;\r\n  }\r\n  closeAndGetValueAddAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_add_address_ghtk = false;\r\n  }\r\n  // -----modal edit--------\r\n  visible_edit_address_ghtk: boolean = false;\r\n  data_edit_address_ghtk: any;\r\n  openEditAddressGhtk(item) {\r\n    this.data_edit_address_ghtk = {\r\n      billInfo: this.data_list_address_ghtk.billInfo,\r\n      data_delivery: this.data_list_address_ghtk.data_delivery,\r\n      infoAddress: this.data_list_address_ghtk.infoAddress,\r\n      infoAddressChose: item\r\n    }\r\n    this.visible_edit_address_ghtk = true;\r\n  }\r\n  closeAndGetValueEditAddress(event) {\r\n    if (event) {\r\n      this.getData();\r\n      this.onCloseListAddress.emit(event);\r\n    }\r\n    this.visible_edit_address_ghtk = false;\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\" [nzFooter]=\"footerTpl\"\r\n    [nzVisible]=\"visible_list_address\" nzTitle=\"{{'Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div class=\"no-data\" *ngIf=\"!infoAddress.length\">{{'No data'|translate}}\r\n        </div>\r\n        <ion-list class=\"custom-address-customer\">\r\n            <ion-item (click)=\"chooseAddress(item)\" class=\"ion-no-padding\" *ngFor=\"let item of infoAddress\">\r\n                <ion-label style=\"font-size: 0.9rem; color : var(--ion-color-vh-black);margin:0; padding-left:6px\"\r\n                    class=\"ion-text-wrap\">\r\n                    {{item.address}} - {{item.hamlet}}, {{item.ward}} , {{item.district}}, {{item.province}}\r\n                </ion-label>\r\n                <ion-button (click)=\"$event.stopPropagation();openEditAddressGhtk(item)\" mode=\"ios\"\r\n                    style=\"color:var(--ion-color-vh-black)\" slot=\"end\" class=\"ion-no-padding ion-no-margin\"\r\n                    fill=\"clear\">\r\n                    <ion-icon name=\"create-outline\" slot=\"end\"></ion-icon>\r\n                </ion-button>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ng-container>\r\n    <ng-template #footerTpl>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black);margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white);margin:0 5px\"\r\n                class=\"nz-hover-border-green\" (click)=\"openAddAddressGhtk()\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n\r\n<!-- ----------modal add address-------- -->\r\n<app-add-adddress-customer-ghtk *ngIf=\"visible_add_address_ghtk\" [visible_add_address_ghtk]=\"visible_add_address_ghtk\"\r\n    [data_add_address_ghtk]=\"data_add_address_ghtk\" (closeAndGetValueAddAddress)=\"closeAndGetValueAddAddress($event)\">\r\n</app-add-adddress-customer-ghtk>\r\n<!-- ----------modal edit address-------- -->\r\n<app-edit-adddress-customer-ghtk *ngIf=\"visible_edit_address_ghtk\"\r\n    [visible_edit_address_ghtk]=\"visible_edit_address_ghtk\" [data_edit_address_ghtk]=\"data_edit_address_ghtk\"\r\n    (closeAndGetValueEditAddress)=\"closeAndGetValueEditAddress($event)\">\r\n</app-edit-adddress-customer-ghtk>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-create-bill-customer-ghtk',\r\n  templateUrl: './create-bill-customer-ghtk.component.html',\r\n  styleUrls: ['./create-bill-customer-ghtk.component.scss']\r\n})\r\nexport class CreateBillCustomerGhtkComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghtkService: GhtkService\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n    \r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  infoCustomer: any;\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  infoAddress: any = [];\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  currentAddress: any = {\r\n    ward: ''\r\n  };\r\n  tags = [\r\n    {\r\n      name: 'Dễ vỡ',\r\n      value: 1\r\n    },\r\n    {\r\n      name: 'Nông sản/thực phẩm khô',\r\n      value: 7\r\n    },\r\n    {\r\n      name: 'Cho xem hàng',\r\n      value: 10\r\n    },\r\n    {\r\n      name: 'Cho thử hàng/ đồng kiểm',\r\n      value: 11\r\n    },\r\n    {\r\n      name: 'Gọi shop khi khách không nhận hàng, không liên lạc được, sai thông tin',\r\n      value: 13\r\n    },\r\n    {\r\n      name: 'Giao hàng 1 phần chọn sản phẩm',\r\n      value: 17\r\n    },\r\n    {\r\n      name: 'Giao hàng 1 phần đổi trả hàng',\r\n      value: 18\r\n    },\r\n    {\r\n      name: 'Không giao được thu',\r\n      value: 19\r\n    },\r\n    {\r\n      name: 'Hàng nguyên hộp',\r\n      value: 20\r\n    },\r\n    {\r\n      name: 'Thư tín, tài liệu',\r\n      value: 22\r\n    }\r\n  ]\r\n  not_delivered_fee = 5000 // phí thu nếu chọn tags là 19\r\n  tags_selected: number[] = []\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n      hamlet: new FormControl('', Validators.required)\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      weight: new FormControl('', [Validators.required, Validators.max(20)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.ghtkService.getWareHouseGhtk(this.data_delivery.token),\r\n        this.vhQuerySales.getlocalAddresss(),\r\n        this.vhQuerySales.getlocalCustomer(this.billInfo.id_customer)\r\n      ]).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          if (res[3]) {\r\n            this.infoCustomer = res[3];\r\n            this.addInformation.controls.name.setValue(this.infoCustomer.name);\r\n            this.addInformation.controls.phone.setValue(this.infoCustomer.phone);\r\n          }\r\n          if (res[2]) {\r\n            let infoAddress = res[2].filter(item => item.id_customer == this.billInfo.id_customer && item.type == 2);\r\n            if (infoAddress.length) {\r\n              this.infoAddress = infoAddress.reverse();\r\n              this.currentAddress = this.infoAddress[0];\r\n              this.addInformation.controls.address.setValue(this.currentAddress.address);\r\n              this.addInformation.controls.province.setValue(this.currentAddress.province);\r\n              this.addInformation.controls.district.setValue(this.currentAddress.district);\r\n              this.addInformation.controls.ward.setValue(this.currentAddress.ward);\r\n              this.addInformation.controls.hamlet.setValue(this.currentAddress.hamlet);\r\n            }\r\n          }\r\n          if (res[1]) {\r\n            this.shops = res[1].data;\r\n            for (let item of this.shops) {\r\n              if (item.pick_address_id == this.data_delivery.shop_id) {\r\n                let data = this.filterAddress(item.address);\r\n                this.data_delivery = {\r\n                  ...this.data_delivery,\r\n                  pick_name: item.pick_name,\r\n                  pick_tel: item.pick_tel,\r\n                  pick_address: data.pick_address,\r\n                  pick_province: data.pick_province,\r\n                  pick_district: data.pick_district,\r\n                  pick_ward: data.pick_ward,\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (res[0]) {\r\n            this.billDetails = res[0].map(item => {\r\n              let name_product = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n              return {\r\n                ...item,\r\n                name_product: name_product\r\n              }\r\n            })\r\n            this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n          }\r\n          let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n          if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n        })\r\n      })\r\n    })\r\n  }\r\n  checkPrinter: boolean = false;\r\n  valueOfPaymentTypeId = \"1\";\r\n  listPaymentTypeId: Array<any> = [\r\n    {\r\n      value: \"0\",\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n    {\r\n      value: \"1\",\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    }\r\n  ]\r\n  selectPaymentTypeId(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n  blurFee() {\r\n    this.chooseService = '';\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 20000000) {\r\n      this.deliveryInfo.controls.cod.setValue('20,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 20,000,000\"), 'alert-toast')\r\n    }\r\n    this.resetService()\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 20000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('20,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 20,000,000\"), 'alert-toast')\r\n    }\r\n    this.blurFee()\r\n  }\r\n  goBack(success?) {\r\n    if (success) {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk\"], {\r\n        state: {\r\n          dataSearchAndDate: this.dataSearchAndDate\r\n        }\r\n      })\r\n    } else {\r\n      this.vhComponent\r\n        .alertConfirm(\r\n          (this.languageService.translate(\"Confirm\")),\r\n          (this.languageService.translate(\"Changes will not be saved\")),\r\n          \"\",\r\n          \"OK\",\r\n          (this.languageService.translate(\"Cancel\"))\r\n        )\r\n        .then(\r\n          () => {\r\n            this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk\"], {\r\n              state: {\r\n                dataSearchAndDate: this.dataSearchAndDate\r\n              }\r\n            })\r\n          },\r\n          () => { }\r\n        );\r\n    }\r\n  }\r\n  prepareProducts() {\r\n    let data = this.billDetails.map(item => {\r\n      return {\r\n        name: item.name_product,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  prepareOrder() {\r\n    let data = {\r\n      id: this.billInfo.bill_code,\r\n      pick_name: this.data_delivery.pick_name,\r\n      pick_address_id: this.data_delivery.shop_id,\r\n      pick_address: this.data_delivery.pick_address,\r\n      pick_province: this.data_delivery.pick_province,\r\n      pick_district: this.data_delivery.pick_district,\r\n      pick_ward: this.data_delivery.pick_ward,\r\n      pick_tel: this.data_delivery.pick_tel,\r\n      tel: this.addInformation.value.phone,\r\n      name: this.addInformation.value.name,\r\n      address: this.addInformation.value.address,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      hamlet: this.addInformation.value.hamlet,\r\n      is_freeship: +this.deliveryInfo.value.payment_type_id,\r\n      pick_money: +this.cod_amount.getRawValue(),\r\n      note: this.deliveryInfo.value.note ? this.deliveryInfo.value.note : '',\r\n      value: +this.insurance_value.getRawValue(),\r\n      transport: this.chooseService.type == 1 ? 'road' : \"fly\",\r\n      total_weight: this.productInfo.value.weight,\r\n      tags: this.tags_selected\r\n    }\r\n    if (this.tags_selected.includes(19)) data['not_delivered_fee'] = this.not_delivered_fee\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghtkService.createOrderGhtk(this.data_delivery.token, this.prepareProducts(), this.prepareOrder()).then((res: any) => {\r\n            if (!res.success) {\r\n              this.vhComponent.hideLoading(0);\r\n              this.vhComponent.showToast(2000, res.message, 'alert-toast')\r\n            }\r\n            else {\r\n              this.invoice.setOrderCode(res.order.label);\r\n              this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail())\r\n                .then(() => {\r\n                  if (print) {\r\n                    this.ghtkService.getStatusBill(this.data_delivery.token, res.order.label).then((ress: any) => {\r\n                      this.vhComponent.hideLoading(0).then(() => {\r\n                        this.billInfo.data = ress.order;\r\n                        this.billInfo.order_code = res.order.label;\r\n                        this.showPrint();\r\n                      })\r\n                    })\r\n                  }\r\n                  else {\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), 'success-toast')\r\n                      this.goBack(true);\r\n                    })\r\n                  }\r\n                })\r\n            }\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  filterAddress(address) {\r\n    let pick_address: any = {};\r\n    let indexProvince = address.lastIndexOf(\",\");\r\n    let indexDistrict = address.lastIndexOf(\",\", indexProvince - 1);\r\n    pick_address.pick_province = address.slice(indexProvince + 1).trim();\r\n    pick_address.pick_district = address.slice(indexDistrict + 1, indexProvince).trim();\r\n    pick_address.pick_ward = address.slice(0, indexDistrict).trim();\r\n    pick_address.pick_address = pick_address.pick_ward;\r\n    return pick_address;\r\n  }\r\n  prepareDataService() {\r\n    let data: Object = {};\r\n    data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n    }\r\n    return data;\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n  * @example this.showPrint() \r\n  */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetails,\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack(true);\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack(true)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhtk() {\r\n    this.dataToGetMethod = this.prepareDataService();\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhtk(event) {\r\n    if (event) {\r\n      this.chooseService = event;\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.type);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  // ------drawer list address-----\r\n  visible_list_address: boolean = false;\r\n  data_list_address_ghtk: any;\r\n  gotoAddressCustomer() {\r\n    this.data_list_address_ghtk = {\r\n      billInfo: this.billInfo,\r\n      data_delivery: this.data_delivery\r\n    }\r\n    this.visible_list_address = true;\r\n  }\r\n  onCloseListAddress(event) {\r\n    if (event) {\r\n      this.addInformation.controls.address.setValue(event.address);\r\n      this.addInformation.controls.province.setValue(event.province);\r\n      this.addInformation.controls.district.setValue(event.district);\r\n      this.addInformation.controls.ward.setValue(event.ward);\r\n      this.addInformation.controls.hamlet.setValue(event.hamlet);\r\n      this.currentAddress = event;\r\n      this.resetService()\r\n    }\r\n    this.visible_list_address = false;\r\n  }\r\n  /**\r\n * Reset lại dịch vụ nếu có thay đổi các trường\r\n */\r\n  resetService() {\r\n    this.chooseService = {}\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack(false)\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Address'|translate}}*</b></div>\r\n                        <div>\r\n                            <button nzType=\"text\" (click)=\"gotoAddressCustomer()\" nz-button>\r\n                                <ion-icon name=\"create-outline\"></ion-icon>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf=\"currentAddress.ward\" class=\"addInformation-address\" nz-col nzSpan=\"24\">\r\n                        <p>{{currentAddress.address}}-{{currentAddress.hamlet}}, {{currentAddress.ward}},\r\n                            {{currentAddress.district}}, {{currentAddress.province}}</p>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Product information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(kg)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input (ngModelChange)=\"resetService()\" formControlName=\"weight\" nz-input\r\n                                                required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"control.hasError('max')\">{{'Maximun weight 20kg'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"checkedCod()\" class=\"cod_amount\" type=\"text\" maxlength=\"15\"\r\n                                        formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input class=\"order_value_amount\" type=\"text\" maxlength=\"15\"\r\n                                        formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' : chooseMethodGhtk()\"\r\n                            class=\"input-group all-content-center\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService.type\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\"\r\n                                    *ngIf=\"chooseService.type\" class=\"nz-no-margin\">\r\n                                    {{(chooseService.type == 1 ? 'Standard' : 'Fast') | translate}} -\r\n                                    {{vhAlgorithm.vhcurrencyunit(chooseService.fee)}}\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueOfPaymentTypeId\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"selectPaymentTypeId($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentTypeId\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order label' | translate}}*</b></div>\r\n                        <nz-select  [nzMaxTagCount]=\"2\" nzMode=\"multiple\" nzPlaceHolder=\"{{'Select goods type' | translate}}\" [(ngModel)]=\"tags_selected\"  \r\n                            [ngModelOptions]=\"{standalone: true}\"  >\r\n                            <nz-option *ngFor=\"let option of tags\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\" *ngIf=\"tags_selected.includes(19)\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input class=\"nz-hover-border\" placeholder=\"{{'Enter collection fee' | translate}}\"\r\n                                        [(ngModel)]=\"not_delivered_fee\"   nz-input />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'| translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.fee || 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee ||0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit((chooseService.insurance_fee\r\n                                    +chooseService.fee)||0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid || !checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- ----modal choose method-------- -->\r\n<app-choose-method-ghtk *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhtk)=\"cancelModalMethodGhtk($event)\"></app-choose-method-ghtk>\r\n<app-list-adddress-customer-ghtk *ngIf=\"visible_list_address\" [visible_list_address]=\"visible_list_address\"\r\n    [data_list_address_ghtk]=\"data_list_address_ghtk\" (onCloseListAddress)=\"onCloseListAddress($event)\">\r\n</app-list-adddress-customer-ghtk>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\n@Component({\r\n  selector: 'app-create-bill-retail-ghtk',\r\n  templateUrl: './create-bill-retail-ghtk.component.html',\r\n  styleUrls: ['./create-bill-retail-ghtk.component.scss']\r\n})\r\nexport class CreateBillRetailGhtkComponent implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghtkService: GhtkService\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  dataSearchAndDate: any;\r\n  billInfo: any;\r\n  billDetails: Array<any> = [];\r\n  infoCustomer: any;\r\n  addInformation: FormGroup;\r\n  productInfo: FormGroup;\r\n  deliveryInfo: FormGroup;\r\n  data_delivery: any; //data : shop_id,id,token,type,active\r\n  service: any;\r\n  chooseService: any = {};\r\n  cod_amount: any;\r\n  insurance_value: any;\r\n  infoAddress: any = [];\r\n  shops: any;\r\n  invoice: VhSaleInvoices;\r\n  tags = [\r\n    {\r\n      name: 'Dễ vỡ',\r\n      value: 1\r\n    },\r\n    {\r\n      name: 'Nông sản/thực phẩm khô',\r\n      value: 7\r\n    },\r\n    {\r\n      name: 'Cho xem hàng',\r\n      value: 10\r\n    },\r\n    {\r\n      name: 'Cho thử hàng/ đồng kiểm',\r\n      value: 11\r\n    },\r\n    {\r\n      name: 'Gọi shop khi khách không nhận hàng, không liên lạc được, sai thông tin',\r\n      value: 13\r\n    },\r\n    {\r\n      name: 'Giao hàng 1 phần chọn sản phẩm',\r\n      value: 17\r\n    },\r\n    {\r\n      name: 'Giao hàng 1 phần đổi trả hàng',\r\n      value: 18\r\n    },\r\n    {\r\n      name: 'Không giao được thu',\r\n      value: 19\r\n    },\r\n    {\r\n      name: 'Hàng nguyên hộp',\r\n      value: 20\r\n    },\r\n    {\r\n      name: 'Thư tín, tài liệu',\r\n      value: 22\r\n    }\r\n  ]\r\n  not_delivered_fee = 5000 // phí thu nếu chọn tags là 19\r\n  tags_selected: number[] = []\r\n  ngOnInit() {\r\n    this.initForm();\r\n  }\r\n  initForm() {\r\n    this.addInformation = new FormGroup({\r\n      name: new FormControl('', [Validators.required, Validators.minLength(6)]),\r\n      phone: new FormControl('', [Validators.required]),\r\n      address: new FormControl('', Validators.required),\r\n      province: new FormControl('', Validators.required),\r\n      district: new FormControl('', Validators.required),\r\n      ward: new FormControl('', Validators.required),\r\n      hamlet: new FormControl('', Validators.required)\r\n    })\r\n    this.productInfo = new FormGroup({\r\n      weight: new FormControl('', [Validators.required, Validators.max(20)]),\r\n    })\r\n    this.deliveryInfo = new FormGroup({\r\n      cod: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      orderValue: new FormControl('0', [Validators.required, Validators.pattern(\"^[0-9,]{1,10}$\")]),\r\n      transport: new FormControl('', Validators.required),\r\n      note: new FormControl(''),\r\n      payment_type_id: new FormControl('1', Validators.required),\r\n    })\r\n    this.getData();\r\n  }\r\n  ngAfterViewInit() {\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.cod_amount = this.vhAlgorithm.vhnumeral('.cod_amount');\r\n      this.insurance_value = this.vhAlgorithm.vhnumeral('.order_value_amount');\r\n    });\r\n  }\r\n  //lấy dữ liệu billDetail\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id),\r\n        this.ghtkService.getWareHouseGhtk(this.data_delivery.token)\r\n      ]).then((res: any) => {\r\n        if (res[0]) {\r\n          this.billDetails = res[0].map(item => {\r\n            let name_product = this.vhQuerySales.getlocalDetailProduct(item.id_subproduct ? item.id_subproduct : item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: name_product\r\n            }\r\n          })\r\n          this.invoice = new VhSaleInvoices(this.billInfo, this.billDetails, this.vhQuerySales);\r\n        }\r\n        if (res[1]) {\r\n          this.shops = res[1].data;\r\n          for (let item of this.shops) {\r\n            if (item.pick_address_id == this.data_delivery.shop_id) {\r\n              let data = this.filterAddress(item.address);\r\n              this.data_delivery = {\r\n                ...this.data_delivery,\r\n                pick_name: item.pick_name,\r\n                pick_tel: item.pick_tel,\r\n                pick_address: data.pick_address,\r\n                pick_province: data.pick_province,\r\n                pick_district: data.pick_district,\r\n                pick_ward: data.pick_ward,\r\n              }\r\n            }\r\n          }\r\n        }\r\n        let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n        if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n      })\r\n    }).finally(() => this.vhComponent.hideLoading(0))\r\n  }\r\n  checkPrinter: boolean = false;\r\n  // choosePaymentTypeId() {\r\n  //   this.vhComponent.actionSheet(\"\", \"\", [\r\n  //     { attribute: { text: this.languageService.translate(\"Pay by receiver\"), icon: \"\", cssClass: 'action-sheet-current' }, value: \"0\" },\r\n  //     { attribute: { text: this.languageService.translate(\"Paid by seller\"), icon: \"\", cssClass: 'action-sheet-current' }, value: \"1\" }\r\n  //   ]).then(res => {\r\n  //     this.deliveryInfo.controls.payment_type_id.setValue(res);\r\n  //   })\r\n  // }\r\n  valueOfPaymentTypeId = \"1\";\r\n  listPaymentTypeId: Array<any> = [\r\n    {\r\n      value: \"0\",\r\n      name: this.languageService.translate(\"Pay by receiver\")\r\n    },\r\n    {\r\n      value: \"1\",\r\n      name: this.languageService.translate(\"Paid by seller\")\r\n    }\r\n  ]\r\n  selectPaymentTypeId(event) {\r\n    this.deliveryInfo.controls.payment_type_id.setValue(event);\r\n  }\r\n  blurFee() {\r\n    this.chooseService = {};\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n  checkedCod() {\r\n    if (parseInt(this.cod_amount.getRawValue()) > 20000000) {\r\n      this.deliveryInfo.controls.cod.setValue('20,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun cod is 20,000,000\"), 'alert-toast')\r\n    }\r\n    this.resetService()\r\n  }\r\n  checkedInsurance_value() {\r\n    if (parseInt(this.insurance_value.getRawValue()) > 20000000) {\r\n      this.deliveryInfo.controls.orderValue.setValue('20,000,000')\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Maximun insurance value is 20,000,000\"), 'alert-toast')\r\n    }\r\n    this.blurFee()\r\n  }\r\n  goBack(success?) {\r\n    if (success) {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk\"], {\r\n        state: {\r\n          dataSearchAndDate: this.dataSearchAndDate\r\n        }\r\n      })\r\n    } else {\r\n      this.vhComponent\r\n        .alertConfirm(\r\n          (this.languageService.translate(\"Confirm\")),\r\n          (this.languageService.translate(\"Changes will not be saved\")),\r\n          \"\",\r\n          \"OK\",\r\n          (this.languageService.translate(\"Cancel\"))\r\n        )\r\n        .then(\r\n          () => {\r\n            this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk\"], {\r\n              state: {\r\n                dataSearchAndDate: this.dataSearchAndDate\r\n              }\r\n            })\r\n          },\r\n          () => { }\r\n        );\r\n    }\r\n  }\r\n  prepareProducts() {\r\n    let data = this.billDetails.map(item => {\r\n      return {\r\n        name: item.name_product,\r\n        quantity: item.quantity\r\n      }\r\n    })\r\n    return data;\r\n  }\r\n  prepareOrder() {\r\n    let data = {\r\n      id: this.billInfo.bill_code,\r\n      pick_name: this.data_delivery.pick_name,\r\n      pick_address_id: this.data_delivery.shop_id,\r\n      pick_address: this.data_delivery.pick_address,\r\n      pick_province: this.data_delivery.pick_province,\r\n      pick_district: this.data_delivery.pick_district,\r\n      pick_ward: this.data_delivery.pick_ward,\r\n      pick_tel: this.data_delivery.pick_tel,\r\n      tel: this.addInformation.value.phone,\r\n      name: this.addInformation.value.name,\r\n      address: this.addInformation.value.address,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      ward: this.addInformation.value.ward,\r\n      hamlet: this.addInformation.value.hamlet,\r\n      is_freeship: +this.deliveryInfo.value.payment_type_id,\r\n      pick_money: +this.cod_amount.getRawValue(),\r\n      note: this.deliveryInfo.value.note ? this.deliveryInfo.value.note : '',\r\n      value: +this.insurance_value.getRawValue(),\r\n      transport: this.chooseService.type == 1 ? 'road' : \"fly\",\r\n      total_weight: this.productInfo.value.weight,\r\n      tags: this.tags_selected\r\n    }\r\n    if (this.tags_selected.includes(19)) data['not_delivered_fee'] = this.not_delivered_fee\r\n    return data;\r\n  }\r\n  createOrder(print?) {\r\n    this.vhComponent.alertConfirm(\"\", this.languageService.translate(\"Do you want to create order ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghtkService.createOrderGhtk(this.data_delivery.token, this.prepareProducts(), this.prepareOrder()).then((res: any) => {\r\n            if (!res.success) {\r\n              this.vhComponent.hideLoading(0);\r\n              this.vhComponent.showToast(2000, res.message, 'alert-toast')\r\n            }\r\n            else {\r\n              this.invoice.setOrderCode(res.order.label);\r\n              this.vhQuerySales.updateBill_Billdetail(this.invoice.getID(), this.invoice.getCreateUpdateInvoice(1), this.invoice.getCreateUpdateInvoiceDetail())\r\n                .then(() => {\r\n                  if (print) {\r\n                    this.ghtkService.getStatusBill(this.data_delivery.token, res.order.label).then((ress: any) => {\r\n                      this.vhComponent.hideLoading(0).then(() => {\r\n                        this.billInfo.data = ress.order;\r\n                        this.billInfo.order_code = res.order.label;\r\n                        this.showPrint();\r\n                      })\r\n                    })\r\n                  }\r\n                  else {\r\n                    this.vhComponent.hideLoading(0).then(() => {\r\n                      this.vhComponent.showToast(2000, this.languageService.translate('Create order successfully !'), 'success-toast')\r\n                      this.goBack(true);\r\n                    })\r\n                  }\r\n                })\r\n            }\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n  }\r\n  filterAddress(address) {\r\n    let pick_address: any = {};\r\n    let indexProvince = address.lastIndexOf(\",\");\r\n    let indexDistrict = address.lastIndexOf(\",\", indexProvince - 1);\r\n    pick_address.pick_province = address.slice(indexProvince + 1).trim();\r\n    pick_address.pick_district = address.slice(indexDistrict + 1, indexProvince).trim();\r\n    pick_address.pick_ward = address.slice(0, indexDistrict).trim();\r\n    pick_address.pick_address = pick_address.pick_ward;\r\n    return pick_address;\r\n  }\r\n  prepareDataService() {\r\n    let data: Object = {};\r\n    data = {\r\n      token: this.data_delivery.token,\r\n      shop_id: this.data_delivery.shop_id,\r\n      province: this.addInformation.value.province,\r\n      district: this.addInformation.value.district,\r\n      weight: this.productInfo.value.weight,\r\n      insurance_value: parseInt(this.insurance_value.getRawValue()),\r\n    }\r\n    return data;\r\n  }\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetails,\r\n        data_delivery: this.data_delivery, printer\r\n      }, false, false, \"modal-print\").then(modal => {\r\n        modal.onWillDismiss().then(() => {\r\n          this.goBack(true);\r\n        })\r\n      })\r\n\r\n    }, (err) => {\r\n      this.goBack(true)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' | 'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n  // ------modal choose--------\r\n  chooseMethod: boolean = false;\r\n  dataToGetMethod: any;\r\n  chooseMethodGhtk() {\r\n    this.dataToGetMethod = this.prepareDataService();\r\n    this.chooseMethod = true;\r\n  }\r\n  cancelModalMethodGhtk(event) {\r\n    if (event) {\r\n      this.chooseService = event;\r\n      this.deliveryInfo.controls.transport.setValue(this.chooseService.type);\r\n    }\r\n    this.chooseMethod = false;\r\n  }\r\n  /**\r\n   * Reset lại dịch vụ nếu có thay đổi các trường\r\n   */\r\n  resetService() {\r\n    this.chooseService = {}\r\n    this.deliveryInfo.controls.transport.setValue('');\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack(false)\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <form [formGroup]=\"addInformation\">\r\n                <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                <div nz-row [nzGutter]=\"16\">\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter full name' | translate}}\" minlength=\"6\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Name is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Phone number'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"phone\" nz-input\r\n                                        placeholder=\"{{'Enter your phone number' | translate}}\" required />\r\n                                    <ng-template #combineTplPhone let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Address(Apartment Number)'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                <nz-input-group>\r\n                                    <input formControlName=\"address\" nz-input placeholder=\"{{'Ex: No 2' | translate}}\"\r\n                                        required />\r\n                                    <ng-template #combineTplAddress let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Address is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b>{{'Province'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplProvince\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" formControlName=\"province\" nz-input\r\n                                        placeholder=\"{{'Example: Dong Nai Province' | translate}}\" required />\r\n                                    <ng-template #combineTplProvince let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Province is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <div><b>{{'District'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" formControlName=\"district\" nz-input\r\n                                        placeholder=\"{{'Example: Long Thanh District' | translate}}\" required />\r\n                                    <ng-template #combineTplDistrict let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'District is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <div><b>{{'Ward'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplDistrict\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" formControlName=\"ward\" nz-input\r\n                                        placeholder=\"{{'Example: Cam Duong Commune' | translate}}\" required />\r\n                                    <ng-template #combineTplDistrict let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Ward is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <div><b>{{'Hamlet'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplAddress\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"resetService()\" formControlName=\"hamlet\" nz-input\r\n                                        placeholder=\"{{'Example: Hamlet 1' | translate}}\" required />\r\n                                    <ng-template #combineTplAddress let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Hamlet is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <div nz-row>\r\n                <h6>{{\"Product information\" | translate}}</h6>\r\n                <form class=\"all-content-center\" [formGroup]=\"productInfo\">\r\n                    <div class=\"productInfo-table\" nz-col nzSpan=\"24\">\r\n                        <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                            nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetails\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor=\"let item of billDetails\" class=\"choose-product\">\r\n                                    <td style=\"text-align: left;\" colspan=\"7\">\r\n                                        {{item.name_product}}\r\n                                    </td>\r\n                                    <td style=\"text-align: right;\" colspan=\"7\">\r\n                                        {{item.quantity}}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </div>\r\n                    <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                        <div nz-row nzGutter=\"16\">\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b>{{'Weight(kg)'|translate}}*</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                        <nz-input-group>\r\n                                            <input (ngModelChange)=\"resetService()\" formControlName=\"weight\" nz-input\r\n                                                required type=\"number\" />\r\n                                            <ng-template #combineTplWeight let-control>\r\n                                                <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                                    required'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                                <ng-container *ngIf=\"control.hasError('max')\">{{'Maximun weight 20kg'\r\n                                                    |\r\n                                                    translate}}\r\n                                                </ng-container>\r\n                                            </ng-template>\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo\">\r\n            <form class=\"deliveryInfo-form\" [formGroup]=\"deliveryInfo\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <div nz-row nzGutter=\"8\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'COD'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplCod\">\r\n                                <nz-input-group>\r\n                                    <input (ngModelChange)=\"checkedCod()\" class=\"cod_amount\" type=\"text\" maxlength=\"15\"\r\n                                        formControlName=\"cod\" nz-input required />\r\n                                    <ng-template #combineTplCod let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Cod is required' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order value'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplOrder\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"checkedInsurance_value()\" class=\"order_value_amount\" type=\"text\"\r\n                                        maxlength=\"15\" formControlName=\"orderValue\" nz-input\r\n                                        placeholder=\"{{'Enter order value' | translate}}\" required />\r\n                                    <ng-template #combineTplOrder let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Order value is required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\"\r\n                        [ngStyle]=\"{opacity : (!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? 0.5 : 1}\">\r\n                        <div><b>{{'Carriage'|translate}}*</b></div>\r\n                        <nz-input-group\r\n                            (click)=\"(!addInformation.valid || !productInfo.valid || !deliveryInfo.controls.cod.valid || !deliveryInfo.controls.orderValue.valid) ? '' : chooseMethodGhtk()\"\r\n                            class=\"input-group all-content-center\">\r\n                            <div class=\"input-group all-content-center\"\r\n                                style=\"padding: 4px 11px;border: 1px solid #c8c7cc !important;border-radius: 5px;\">\r\n                                <p *ngIf=\"!chooseService.type\" class=\"nz-no-margin\">\r\n                                    {{\"Select service\"| translate}}</p>\r\n                                <p style=\"display: inline-block;color:var(--ion-color-vh-green)\"\r\n                                    *ngIf=\"chooseService.type\" class=\"nz-no-margin\">\r\n                                    {{(chooseService.type == 1 ? 'Standard' : 'Fast') | translate}} -\r\n                                    {{vhAlgorithm.vhcurrencyunit(chooseService.fee)}}\r\n                                </p>\r\n                            </div>\r\n                        </nz-input-group>\r\n                    </div>\r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Payment type'|translate}}*</b></div>\r\n                        <nz-select nzPlaceHolder=\"{{'Payment type'|translate}}\" [(ngModel)]=\"valueOfPaymentTypeId\"\r\n                            [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"selectPaymentTypeId($event)\">\r\n                            <nz-option *ngFor=\"let option of listPaymentTypeId\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    \r\n                    <div style=\"margin: 15px 0;\" nz-col nzSpan=\"24\">\r\n                        <div><b>{{'Order label' | translate}}*</b></div>\r\n                        <nz-select  [nzMaxTagCount]=\"2\" nzMode=\"multiple\" nzPlaceHolder=\"{{'Select goods type' | translate}}\" [(ngModel)]=\"tags_selected\"  \r\n                            [ngModelOptions]=\"{standalone: true}\"  >\r\n                            <nz-option *ngFor=\"let option of tags\" [nzLabel]=\"option.name\"\r\n                                [nzValue]=\"option.value\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\" *ngIf=\"tags_selected.includes(19)\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input class=\"nz-hover-border\" placeholder=\"{{'Enter collection fee' | translate}}\"\r\n                                        [(ngModel)]=\"not_delivered_fee\"   nz-input />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <textarea class=\"nz-hover-border\" placeholder=\"{{'Enter note' | translate}}\"\r\n                                        formControlName=\"note\" rows=\"2\" nz-input></textarea>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'| translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.fee || 0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(chooseService.insurance_fee ||0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\"\r\n                                    *ngIf=\"chooseService\">{{vhAlgorithm.vhcurrencyunit((chooseService.insurance_fee\r\n                                    +chooseService.fee)||0)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class=\"deliveryInfo-button-order all-content-center\">\r\n                <button\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid || !checkPrinter\"\r\n                    (click)=\"createOrder(true)\" nz-button class=\"order-and-print\">\r\n                    {{\"Create bill & Print\"|translate}}\r\n                </button>\r\n                <button (click)=\"createOrder(false)\"\r\n                    [disabled]=\"addInformation.invalid || productInfo.invalid || deliveryInfo.invalid\" nz-button\r\n                    class=\"order\"> {{\"Create bill\"|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- ----modal choose method-------- -->\r\n<app-choose-method-ghtk *ngIf=\"chooseMethod\" [chooseMethod]=\"chooseMethod\" [dataToGetMethod]=\"dataToGetMethod\"\r\n    (cancelModalMethodGhtk)=\"cancelModalMethodGhtk($event)\"></app-choose-method-ghtk>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-delivery-ghtk',\r\n  templateUrl: './delivery-ghtk.component.html',\r\n  styleUrls: ['./delivery-ghtk.component.scss']\r\n})\r\nexport class DeliveryGhtkComponent implements OnInit {\r\n  bills: Array<any> = [];\r\n  show_bills: any = [];\r\n  //Hôm nay 0h- 23h59\r\n  startDateTime = new Date();\r\n  subStartDateTime = new Date();\r\n  endDateTime = new Date();\r\n  subEndDateTime = new Date();\r\n  //biến cờ show\r\n  status_open: boolean = false;\r\n  data_delivery: any;\r\n  valueOfStatus: number = 1;\r\n  search: string = '';\r\n  list_status: Array<any> = [\r\n    {\r\n      group: 1,\r\n      name: \"All\"\r\n    },\r\n    {\r\n      group: 0,\r\n      name: \"Not enough information\"\r\n    },\r\n    {\r\n      group: 2,\r\n      name: \"Ready to pick\"\r\n    },\r\n    {\r\n      group: 3,\r\n      name: \"Delivering\"\r\n    },\r\n    {\r\n      group: 4,\r\n      name: \"delivered\"\r\n    },\r\n    {\r\n      group: 5,\r\n      name: \"Returning\"\r\n    },\r\n    {\r\n      group: 6,\r\n      name: \"Returned\"\r\n    },\r\n    {\r\n      group: 7,\r\n      name: \"Cancelled\"\r\n    },\r\n    {\r\n      group: 8,\r\n      name: \"Can not get the goods\"\r\n    }\r\n  ]\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  constructor(\r\n    public lang: LanguageService,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghtkService: GhtkService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhQuery: VhQuery,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.startDateTime.setHours(0, 0, 0);\r\n    this.subStartDateTime = this.startDateTime;\r\n    this.endDateTime.setHours(23, 59, 59);\r\n    this.subEndDateTime = this.endDateTime;\r\n    this.getSearchAndDate()\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill\"]);\r\n  }\r\n  getSearchAndDate() {\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      let dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate;\r\n      this.search = dataSearchAndDate.search ? dataSearchAndDate.search : \"\";\r\n      this.startDateTime = dataSearchAndDate.startDateTime;\r\n      this.endDateTime = dataSearchAndDate.endDateTime;\r\n      this.subStartDateTime = this.startDateTime;\r\n      this.subEndDateTime = this.endDateTime;\r\n    }\r\n  }\r\n  /**\r\n   * Hàm lấy bill trong khoăng thời gian được set\r\n   */\r\n  getData(startTime, endTime) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getlocalDeliverys(),\r\n        this.vhQuerySales.getBills_byFields( { date: { $gte: startTime, $lte: endTime }, bill_type: { $eq: 1 }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id } }, {}), //chưa bill_type\r\n      ]).then((res: any) => {\r\n        if (res[0]) this.data_delivery = res[0].filter(item => item.active == true && item.type == 2)[0];\r\n        if (res[1]) {\r\n          let bills = res[1].filter(item => item.id_delivery == this.data_delivery._id);\r\n          this.bills = bills.reverse();\r\n          let process: Array<any> = []\r\n          this.bills.forEach(item => {\r\n            item.name_customer = this.vhQuerySales.getlocalCustomer(item.id_customer) ? this.vhQuerySales.getlocalCustomer(item.id_customer).name : 'Not found'\r\n            if (item.order_code) process.push(this.ghtkService.getStatusBill(this.data_delivery.token, item.order_code))\r\n          })\r\n          Promise.all(process).then((result: Array<any>) => {\r\n            result.forEach(item => {\r\n              let index = this.bills.findIndex(bill => bill.order_code == item.order.label_id)\r\n              this.bills[index].data = item.order\r\n              let data = this.filterGroup(this.bills[index].data?.status);\r\n              this.bills[index].name_group = data.name;\r\n              this.bills[index].group = data.group\r\n            })\r\n            this.status_open = true;\r\n            this.show_bills = [...this.bills];\r\n            this.vhComponent.hideLoading(0)\r\n          }).catch(err => {\r\n            this.vhComponent.hideLoading(0)\r\n            this.vhComponent.showToast(2000, this.lang.translate(\"An error occurred while getting data\"), \"alert-toast\")\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n  filterGroup(status) {\r\n    let data: any = {\r\n      group: '',\r\n      name: ''\r\n    };\r\n    switch (status) {\r\n      case 1: case 2: case 8: case 12: case 128:\r\n        data.name = 'Ready to pick';\r\n        data.group = 2;\r\n        break;\r\n      case 3: case 4: case 9: case 10: case 49: case 123: case 401:\r\n        data.name = 'Delivering';\r\n        data.group = 3\r\n        break;\r\n      case 5: case 6: case 45:\r\n        data.group = 4,\r\n          data.name = 'delivered'\r\n        break;\r\n      case 20:\r\n        data.group = 5,\r\n          data.name = 'Returning'\r\n        break;\r\n      case 11: case 21:\r\n        data.group = 6,\r\n          data.name = 'Returned'\r\n        break;\r\n      case -1:\r\n        data.group = 7;\r\n        data.name = 'Canceled';\r\n        break;\r\n      case 7: case 127:\r\n        data.group = 8;\r\n        data.name = \"Can not get the goods\";\r\n        break;\r\n      default:\r\n        data.group = 1,\r\n          data.name = 'Not enough information'\r\n    }\r\n    return data;\r\n  }\r\n  setStartTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.endDateTime = new Date(this.startDateTime.getTime() + 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.lang.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  setEndTime(event) {\r\n    if (this.endDateTime.getTime() - this.startDateTime.getTime() > 2678400000) {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.startDateTime = new Date(this.endDateTime.getTime() - 2678313600)\r\n      this.subStartDateTime = this.startDateTime\r\n      this.subEndDateTime = this.endDateTime\r\n      this.getData(this.startDateTime, this.endDateTime);\r\n    }\r\n    else if (this.endDateTime.getTime() - this.startDateTime.getTime() < 0) this.vhComponent.alertMessage(\"\", this.lang.translate(\"Staring date must be less than or the same as ending date\"), \"\", \"OK\");\r\n    else this.getData(this.startDateTime, this.endDateTime);\r\n  }\r\n  //searchbill\r\n  searchBill(value) {\r\n    this.show_bills = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value).toLowerCase(),\r\n      this.bills,\r\n      [\"bill_code\", \"order_code\"]\r\n    );\r\n  }\r\n  gotoDetail(bill) {\r\n    if (bill.id_customer != \"id_retail\") {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk/order-bill-customer-ghtk\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk/order-bill-retail-ghtk\"], {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  gotoBillDetail(bill) {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk/detail-bill\"],\r\n      {\r\n        state: {\r\n          billInfo: bill,\r\n          data_delivery: this.data_delivery,\r\n          dataSearchAndDate: {\r\n            search: this.search,\r\n            startDateTime: this.startDateTime,\r\n            endDateTime: this.endDateTime\r\n          }\r\n        }\r\n      })\r\n  }\r\n  /**\r\n  * filter các trạng thái của bill \r\n  * */\r\n  filterStatus(value) {\r\n    value = parseInt(value);\r\n    if (value == 0) {\r\n      this.show_bills = this.bills.filter(item => !item.data);\r\n    }\r\n    else if (value == 1) {\r\n      this.show_bills = this.bills;\r\n    }\r\n    else if (value == 2) {\r\n      this.show_bills = this.bills.filter(item => item.group == 2)\r\n    }\r\n    else if (value == 3) {\r\n      this.show_bills = this.bills.filter(item => item.group == 3)\r\n    }\r\n    else if (value == 4) {\r\n      this.show_bills = this.bills.filter(item => item.group == 4)\r\n    }\r\n    else if (value == 5) {\r\n      this.show_bills = this.bills.filter(item => item.group == 5)\r\n    }\r\n    else if (value == 6) {\r\n      this.show_bills = this.bills.filter(item => item.group == 6)\r\n    }\r\n    else if (value == 7) {\r\n      this.show_bills = this.bills.filter(item => item.group == 7)\r\n    }\r\n    else if (value == 8) {\r\n      this.show_bills = this.bills.filter(item => item.group == 8)\r\n    }\r\n  }\r\n  onCurrentPageDataChange(event) { }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById(\"table-delivery-ghtk\") && document.querySelector(\".delivery-ghtk-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.getElementById(\"table-delivery-ghtk\").clientHeight - document.querySelector(\".delivery-ghtk-header\").clientHeight -\r\n        document.querySelector(\".ant-table-pagination\").clientHeight - 150 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"table-delivery-ghtk\">\r\n    <div nzGutter=\"16\" class=\"delivery-ghn delivery-ghtk-header\" nz-row>\r\n        <div nz-col nzSpan=\"6\">\r\n            <h3 class=\"title nz-no-margin\">{{'Giao hang tiet kiem' | translate}}</h3>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"title center-all-content\">\r\n            <nz-input-group class=\"nz-hover-border\" [nzSuffix]=\"suffixIconSearch\">\r\n                <input class=\"medium-size\" type=\"text\" nz-input [(ngModel)]=\"search\"\r\n                    (ngModelChange)=\"searchBill($event)\"\r\n                    placeholder=\"{{'Search for bill code, order code'|translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\">\r\n            <nz-select nzBorderless class=\"nz-hover-border medium-size\" (ngModelChange)=\"filterStatus($event)\"\r\n                [(ngModel)]=\"valueOfStatus\">\r\n                <nz-option *ngFor=\"let option of list_status\" [nzLabel]=\"option.name | translate\"\r\n                    [nzValue]=\"option.group\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div class=\"center-all-content date-picker-cus\" nz-col nzSpan=\"6\">\r\n            <nz-date-picker [nzDisabledDate]=\"disabledDate\" nzFormat='dd/MM/yyyy' [(ngModel)]=\"startDateTime\"\r\n                (ngModelChange)=\"setStartTime($event)\" nzBorderless></nz-date-picker>\r\n            <i nz-icon nzType=\"swap-right\" nzTheme=\"outline\"></i>\r\n            <nz-date-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"endDateTime\" (ngModelChange)=\"setEndTime($event)\"\r\n                nzBorderless>\r\n            </nz-date-picker>\r\n        </div>\r\n    </div>\r\n    <div nz-col nzSpan=\"24\">\r\n        <div class=\"table-delivery-ghtk\" nz-col nzSpan=\"24\">\r\n            <div class=\"medium-size\">{{'Total' |translate}}<span style=\"color: red;\"> {{show_bills.length}}\r\n                </span>{{'shipping bills' | translate}}\r\n            </div>\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" #tableDelvieryGhtk\r\n                [nzScroll]=\"{ y: heightScroll }\" nzShowPagination nzShowSizeChanger\r\n                (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\" [nzData]=\"show_bills\"\r\n                nzNoResult=\"{{'No data'| translate}}\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><b>{{'Time' | translate}}</b></th>\r\n                        <th><b>{{\"Invoice code\" | translate}}</b></th>\r\n                        <th><b>{{'Order code' | translate}}</b></th>\r\n                        <th><b>{{'Customer' | translate}}</b></th>\r\n                        <th><b>{{'COD' | translate}}</b></th>\r\n                        <th><b>{{'Status' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"item.data ? gotoBillDetail(item) : gotoDetail(item)\"\r\n                        *ngFor=\"let item of tableDelvieryGhtk.data\" style=\"cursor: pointer;\">\r\n                        <td>{{(item.date.seconds ? item.date.toDate() : item.date) | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                        <td>{{item.bill_code}}</td>\r\n                        <td>{{item.order_code ? item.order_code : \"\"}}</td>\r\n                        <td>{{(item.name_customer ? item.name_customer :\"Customer retail\") | translate}}</td>\r\n                        <td>{{item.data ? vhAlgorithm.vhcurrencyunit(item.data.is_freeship == 1?\r\n                            item.data.pick_money:item.data.pick_money+item.data.ship_money) : \"\"}}</td>\r\n                        <td *ngIf=\"!item.data && status_open\">{{\"Not enough information\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==2 && status_open\">{{\"Ready to pick\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==3 && status_open\">{{\"Delivering\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==4 && status_open\">{{\"Delivered\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==5 && status_open\">{{\"Returning\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==6 && status_open\">{{\"Returned\"|translate}}</td>\r\n                        <td style=\"color: var(--ion-color-vh-orange)\" *ngIf=\"item.group ==7 && status_open\">\r\n                            {{\"Cancelled\"|translate}}</td>\r\n                        <td *ngIf=\"item.group ==8 && status_open\">{{\"Can not get the goods\"|translate}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeliveryGhtkComponent } from './delivery-ghtk.component';\r\nimport { CreateBillRetailGhtkComponent } from './create-bill-retail-ghtk/create-bill-retail-ghtk.component';\r\nimport { CreateBillCustomerGhtkComponent } from './create-bill-customer-ghtk/create-bill-customer-ghtk.component';\r\nimport { DetailBillGhtkComponent } from './detail-bill-ghtk/detail-bill-ghtk.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ChooseMethodGhtkComponent } from './components/choose-method-ghtk/choose-method-ghtk.component';\r\nimport { ListAdddressCustomerGhtkComponent } from './components/list-adddress-customer-ghtk/list-adddress-customer-ghtk.component';\r\nimport { AddAdddressCustomerGhtkComponent } from './components/add-adddress-customer-ghtk/add-adddress-customer-ghtk.component';\r\nimport { EditAdddressCustomerGhtkComponent } from './components/edit-adddress-customer-ghtk/edit-adddress-customer-ghtk.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: DeliveryGhtkComponent\r\n      },\r\n      {\r\n        path: \"order-bill-retail-ghtk\",\r\n        component: CreateBillRetailGhtkComponent\r\n      },\r\n      {\r\n        path: \"order-bill-customer-ghtk\",\r\n        component: CreateBillCustomerGhtkComponent\r\n      },\r\n      {\r\n        path: \"detail-bill\",\r\n        component: DetailBillGhtkComponent\r\n      }\r\n    ]\r\n  }\r\n\r\n]\r\n\r\n@NgModule({\r\n  declarations: [DeliveryGhtkComponent, CreateBillRetailGhtkComponent, CreateBillCustomerGhtkComponent, DetailBillGhtkComponent, ChooseMethodGhtkComponent, ListAdddressCustomerGhtkComponent, AddAdddressCustomerGhtkComponent, EditAdddressCustomerGhtkComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    TranslateModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class DeliveryGhtkModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { DeliveryA45Component } from 'src/app/sales/components/print/delivery/A45/delivery-a45/delivery-a45.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail-bill-ghtk',\r\n  templateUrl: './detail-bill-ghtk.component.html',\r\n  styleUrls: ['./detail-bill-ghtk.component.scss']\r\n})\r\nexport class DetailBillGhtkComponent implements OnInit {\r\n\r\n  constructor(\r\n    private languageService: LanguageService,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private ghtkService: GhtkService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhAuth: VhAuth,\r\n  ) {\r\n    this.billInfo = this.router.getCurrentNavigation().extras.state.billInfo;\r\n    this.data_delivery = this.router.getCurrentNavigation().extras.state.data_delivery;\r\n    this.dataSearchAndDate = this.router.getCurrentNavigation().extras.state.dataSearchAndDate\r\n  }\r\n  billInfo: any;\r\n  inforCustomer: any;\r\n  data_delivery: any;\r\n  billDetail: any;\r\n  dataSearchAndDate: any;\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  exportDelivery() {\r\n    let info = {\r\n      shop_id: this.billInfo.data.shop_id,\r\n      to_district_id: this.billInfo.data.to_district_id,\r\n      to_ward_code: this.billInfo.data.to_ward_code,\r\n      height: this.billInfo.data.height,\r\n      length: this.billInfo.data.length,\r\n      weight: this.billInfo.data.weight,\r\n      width: this.billInfo.data.width,\r\n      insurance_value: this.billInfo.data.insurance_value,\r\n      service_id: this.billInfo.data.service_id,\r\n      from_district_id: this.billInfo.data.from_district_id,\r\n      from_ward_code: this.billInfo.data.from_ward_code\r\n    }\r\n    return info;\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading(\"\").then(() => {\r\n      this.vhQuerySales.getBill_details_byId_bill(this.billInfo._id).then((res: any) => {\r\n        this.vhComponent.hideLoading(0).then(() => {\r\n          this.billDetail = res.map(item => {\r\n            let name_product = this.vhQuerySales.getlocalProduct(item.id_product).name;\r\n            return {\r\n              ...item,\r\n              name_product: name_product\r\n            }\r\n          })\r\n        })\r\n      })\r\n    })\r\n  }\r\n  cancelOrder() {\r\n    if (this.vhAuth.checkMyPermission(\"shipping_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate('Confirm'), this.languageService.translate(\"Do you want to delete shipping bill ?\"), \"\", \"Ok\", this.languageService.translate(\"Cancel\")).then(() => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.ghtkService.cancelOrder(this.data_delivery.token, this.billInfo.order_code).then(res => {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              this.vhComponent.showToast(2000, this.languageService.translate(\"Delete bill successfully\"), 'success-toast')\r\n              this.goBack();\r\n            })\r\n          })\r\n        })\r\n      })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/delivery/shipping-bill/delivery-ghtk\"], {\r\n      state: { dataSearchAndDate: this.dataSearchAndDate }\r\n    })\r\n  }\r\n  /*----------Print------------------*/\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n   /** kiểm tra dữ liệu máy in và show component in tương ứng\r\n   * @example this.showPrint() \r\n   */\r\n  showPrint() {\r\n    this.checkPrint().then((printer) => {\r\n      this.vhComponent.showModal(this.renderPrintPage(printer['_id']), {\r\n        billInfo: this.billInfo,\r\n        billDetails: this.billDetail,\r\n        printer ,\r\n        data_delivery: this.data_delivery\r\n      }, false, false, \"modal-print\")\r\n    }, (err) => {\r\n      let name :any= 'Sales'\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        .then(() => this.router.navigate(['/sales/dashboard/manage/printer','page_desktop_sales'],{state : name}))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'K57' | 'K80' |'K80-3' | 'A4') {\r\n    switch (type) {\r\n      default: return DeliveryA45Component\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div class=\"delivery-ghn\">\r\n        <div class=\"addInformation\">\r\n            <div nz-row [nzGutter]=\"16\">\r\n                <div nz-col nzSpan=\"7\">\r\n                    <h3>{{\"Shipment bill\" | translate}}</h3>\r\n                </div>\r\n                <div nz-col nzSpan=\"17\" class=\"addInformation-button\">\r\n                    <button (click)=\"showPrint()\" nz-button class=\"nz-hover-border\">\r\n                        <ion-icon style=\"font-size: 0.9rem; margin-right: 4px; margin-bottom: -2px;\"\r\n                            src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n                        {{\"Print shipping bill\"|translate}}\r\n                    </button>\r\n                    <button [disabled]=\"billInfo.group!=2 && billInfo.group != 3\" (click)=\"cancelOrder()\" nz-button\r\n                        class=\"nz-hover-border\">\r\n                        <ion-icon style=\"font-size: 0.9rem; margin-right: 4px; margin-bottom: -2px;\"\r\n                            name=\"trash-outline\"></ion-icon>\r\n                        {{\"Cancel\"|translate}}\r\n                    </button>\r\n                </div>\r\n                <div class=\"addInformation-info\" nz-col nzSpan=\"24\">\r\n                    <h6>{{\"Receiver Information\" | translate}}</h6>\r\n                    <p><b>{{\"Invoice code\" | translate}}</b>: {{billInfo.bill_code}}</p>\r\n                    <p><b>{{\"Order code\" | translate}}</b>: {{billInfo.order_code}}</p>\r\n                    <p><b>{{\"Name\" | translate}}</b>: {{billInfo.data.customer_fullname}}</p>\r\n                    <p><b>{{\"Phone number\" | translate}}</b>: {{billInfo.data.customer_tel}}</p>\r\n                    <p *ngIf=\"billInfo.data\"><b>{{\"Address\" | translate}}</b>: {{billInfo.data.address}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"productInfo\">\r\n            <h6>{{\"Products information\" | translate}}</h6>\r\n            <nz-table [nzScroll]=\"{ y: '200px' }\" #rowSelectionTable [nzShowPagination]=\"false\"\r\n                nzNoResult=\"{{'Not data'| translate}}\" [nzData]=\"billDetail\">\r\n                <thead>\r\n                    <tr>\r\n                        <th style=\"text-align: left;\" colspan=\"7\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" colspan=\"3\"><b>{{'Quantity' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of rowSelectionTable.data\" class=\"choose-product\">\r\n                        <td style=\"text-align: left;\" colspan=\"7\">\r\n                            {{item.name_product}}\r\n                        </td>\r\n                        <td style=\"text-align: center;\" colspan=\"7\">\r\n                            {{item.quantity}}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n            <div nz-row>\r\n                <div style=\"margin-top:5px\" nz-col nzSpan=\"24\">\r\n                    <p><b>{{\"Weight(kg)\" | translate}}</b>: {{billInfo.data.weight/1000}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"deliveryInfo notReuseInfo\">\r\n            <div class=\"deliveryInfo-form ant-table-body\">\r\n                <h6>{{\"Delivery\" | translate}}</h6>\r\n                <p><b>{{\"COD\" | translate}}</b>: {{vhAlgorithm.vhcurrencyunit(billInfo.data.is_freeship == 1?\r\n                    billInfo.data.pick_money:billInfo.data.pick_money+billInfo.data.ship_money)}}</p>\r\n                <p><b>{{\"Order value\" | translate}}</b>: {{vhAlgorithm.vhcurrencyunit(billInfo.data.value)}}\r\n                </p>\r\n                <p><b>{{\"Delivery time\" | translate}}</b>: {{billInfo.data.deliver_date | date : 'dd/MM/yyyy'}}\r\n                <p><b>{{\"Payment type\" | translate}}</b>: {{(billInfo.data.is_freeship == 1 ? \"Paid by seller\" :\r\n                    \"Pay by receiver\")|translate}}</p>\r\n                <p><b>{{\"Note\" | translate}}</b>: {{billInfo.data.message}}</p>\r\n            </div>\r\n            <div class=\"deliveryInfo-totalDelivery\">\r\n                <div class=\"sub-table\">\r\n                    <h6>{{\"Payment information\" | translate}}</h6>\r\n                    <table>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Shipping fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(billInfo.data.ship_money)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%\">{{'Insurance fee'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b>{{vhAlgorithm.vhcurrencyunit(billInfo.data.insurance)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td style=\"width: 70%;font-weight: bold;\">{{'Total'|translate}}</td>\r\n                            <td style=\"width: 30%\" class=\"ion-text-end\">\r\n                                <b style=\"color:var(--ion-color-vh-green);font-size: 1.2rem;\">{{vhAlgorithm.vhcurrencyunit(billInfo.data.ship_money\r\n                                    + billInfo.data.insurance)}}</b>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>"],"names":[],"sourceRoot":"webpack:///"}