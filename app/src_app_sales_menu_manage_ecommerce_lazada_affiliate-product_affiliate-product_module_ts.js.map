{"version":3,"file":"src_app_sales_menu_manage_ecommerce_lazada_affiliate-product_affiliate-product_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/lazada/affiliate-product/affiliate-product.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/affiliate-product/affiliate-product.component.html","./src/app/sales/menu/manage/ecommerce/lazada/affiliate-product/affiliate-product.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-affiliate-product',\r\n  templateUrl: './affiliate-product.component.html',\r\n  styleUrls: ['./affiliate-product.component.scss']\r\n})\r\nexport class AffiliateProductComponent {\r\n  listProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listSubProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listProductApp: Array<any> = []; //sp của app chứa lazadas[]\r\n  listSubProductApp: Array<any> = []; //sp của app chứa lazadas[]\r\n  /**----------------------------------- */\r\n  infoShop: any = {};\r\n  searchValue: any = '';\r\n  heightScroll: any;\r\n  /**\r\n   * Modal chọn sản phẩm liên kết\r\n   */\r\n  visible_affiliate: boolean = false;\r\n  isLoading: boolean = false;\r\n  searchOnLazada: string = '';\r\n  listProductSelected: Array<any> = [];\r\n  id_product_selected: string = '';\r\n  setHeight = { \"max-height\": \"500px\", \"height\": \"500px\", \"overflow-y\": \"hidden\" };\r\n  loading: boolean = false;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id;\r\n  arrayHidden: Array<any> = []; //mảng này chứa id của những sp đang tạm ẩn\r\n  filterAffiliate: 1 | 2 | 3 = 1; // filter những sp đã liên kết 1 : tất cả , 2: sp chưa liên kết , 3 : sp đã liên kết\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu khi vào trang này\r\n   * @example this.getData()\r\n   */\r\n  getData() {\r\n    this.infoShop = this.vhQuerySales.getlocalShopListLazada()[0];\r\n    this.changeShop(this.infoShop._id);\r\n  }\r\n  /**\r\n   * Hàm này để get những sp từ từ sàn ra, đồng thời get những sản phẩm từ app ra, merge lại\r\n   * sau đó show ra theo sp cha là sp của app, trong đó bao gồm những sp con là sản phẩm của sàn\r\n   * Note : những sp liên kết rồi hoặc sp tạm ẩn sẽ không nằm trong listProduct\r\n   * @param id : id_shop đã chọn\r\n   * @example this.changeShop('DNIUWHDIGEIUWHYEDUWYD')\r\n   */\r\n  changeShop(id) {\r\n    let localProducts: Array<any> = [...this.vhQuerySales.getlocalDetailProducts(35)];\r\n    this.listProductApp = localProducts.filter(e => !e.delete_hidden).map(item => {\r\n      if (item[this.id_branch] && item[this.id_branch].lazadas && item[this.id_branch].lazadas.length) { //filter những sp lazada thuộc id lazada đã chọn\r\n        item[this.id_branch].lazadas = [...item[this.id_branch].lazadas.filter(prod => prod.id_shop == id)];\r\n      }\r\n      return { ...item, ...this.vhQuerySales.getUnit_byRatio(item.units, 1) };\r\n    });\r\n    this.listSubProductApp = [...this.listProductApp];\r\n    this.returnArrayHiddenProduct();\r\n    this.listProduct = this.clearProductShow(this.vhQuerySales.getlocalProductListLazada(this.infoShop['_id']).filter(item => {\r\n      if (item && !this.arrayHidden.includes(item.item_id)) return item;\r\n    }), this.listProductApp);\r\n    this.listProduct.forEach(item => item.name = item.attributes.name);\r\n    this.listSubProduct = this.cloneDeepProducts();\r\n    this.search(this.searchValue);\r\n  }\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n  /**\r\n   * Lấy ra những id của các sản phẩm bị tạm ẩn\r\n   * @example this.returnArrayHiddenProduct()\r\n   */\r\n  returnArrayHiddenProduct() {\r\n    let arr: Array<any> = [];\r\n    this.arrayHidden = [];\r\n    let localProduct: Array<any> = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden);\r\n    for (let product of localProduct) {\r\n      if (product[this.id_branch] && product[this.id_branch].lazadas && product[this.id_branch].lazadas.length) {\r\n        for (let prod of product[this.id_branch].lazadas)\r\n          if (prod.hidden == true && prod.id_shop == this.infoShop['_id']) arr.push(prod.item_id);\r\n      }\r\n    }\r\n    this.arrayHidden = arr;\r\n  }\r\n  /**Xóa những sp đã được liên kết rồi ra khỏi mảng của modal danh sách sp liên kết\r\n   * @param listProduct : danh sách sp đã lk với sàn\r\n   * @param listProductApp : toàn bộ danh sách sp của app\r\n   * @example let daa =  this.clearProductShow([], [])\r\n   *\r\n  */\r\n  clearProductShow(listProduct, listProductApp) {\r\n    for (let prodApp of listProductApp) {\r\n      if (prodApp[this.id_branch] && prodApp[this.id_branch].lazadas && prodApp[this.id_branch].lazadas.length) {\r\n        for (let item of prodApp[this.id_branch].lazadas) {\r\n          let indexProd = listProduct.findIndex(prod => prod.item_id == item.item_id);\r\n          if (indexProd >= 0) {\r\n            for (let indexSku in item.skus) {\r\n              let indexSub = listProduct[indexProd].skus.findIndex(sku => sku.SkuId == item.skus[indexSku].SkuId);\r\n              if (indexSub >= 0) {\r\n                listProduct[indexProd].skus.splice(indexSub, 1);\r\n                if (listProduct[indexProd].skus.length == 0) listProduct.splice(indexProd, 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return listProduct;\r\n  }\r\n\r\n  /**\r\n   * trở về trang quản lý lazada\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada']);\r\n  }\r\n  /**\r\n   * search tên sản phẩm trong app viethas\r\n   * @example this.search('Sản phẩm A')\r\n   */\r\n  search(value: string) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProductApp = this.vhAlgorithm.searchList(val, [...this.listSubProductApp],  ['name','barcode','item_code']);\r\n    this.filterAffilateProduct();\r\n  }\r\n  /**\r\n * Lọc sản phẩm đã liên kết/ chưa liên kết\r\n * @example this.filterAffilateProduct()\r\n */\r\n  filterAffilateProduct() {\r\n    switch (this.filterAffiliate) {\r\n      case 1: break;\r\n      case 2: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (!prodApp[this.id_branch]?.lazadas?.length) return true;\r\n        else return !prodApp[this.id_branch]?.lazadas.some(item => item.id_shop == this.infoShop['_id']);\r\n      }); break;\r\n      case 3: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (prodApp[this.id_branch]?.lazadas?.length)\r\n          return prodApp[this.id_branch].lazadas.some(item => item.id_shop == this.infoShop['_id']);\r\n        else return false;\r\n      }); break;\r\n    }\r\n  }\r\n  /**\r\n   * Show modal và gán id của product được chọn, mục đích để sau khi click button ok sẽ lấy id_product này liên kết sp\r\n   * @param product\r\n   * @example  this.openModelSelectProductsLazada(product)\r\n   */\r\n  openModelSelectProductsLazada(product) {\r\n\r\n\r\n    this.id_product_selected = product['id_subproduct'] ? product['id_subproduct'] : product['_id'];\r\n    this.visible_affiliate = true;\r\n  }\r\n  /**\r\n   * Thêm sản phẩm vào mảng chuẩn bị liên kết, hoặc xóa sp khỏi liên kết\r\n   * @param bool - true : thêm, false : xóa\r\n   * @param product\r\n   * @param sku\r\n   * @example this.addProductAffilate(true, product, sku)\r\n   */\r\n  addProductAffilate(bool, product, sku) {\r\n    let indexProd = this.listProductSelected.findIndex(item => item.item_id == product.item_id);\r\n    if (bool) {\r\n      if (indexProd < 0) {\r\n        this.listProductSelected.push({\r\n          id_shop: this.infoShop._id,\r\n          item_id: product.item_id,\r\n          SkuIds: [{ SkuId: sku.SkuId }]\r\n        });\r\n      } else\r\n        this.listProductSelected[indexProd].SkuIds.push({ SkuId: sku.SkuId });\r\n    } else {\r\n      let indexDelete = this.listProductSelected[indexProd].SkuIds.findIndex(item => item.SkuId == sku.SkuId);\r\n      if (indexDelete >= 0) this.listProductSelected[indexProd].SkuIds.splice(indexDelete, 1);\r\n      if (this.listProductSelected[indexProd].SkuIds.length == 0) this.listProductSelected.splice(indexProd, 1);\r\n    }\r\n  }\r\n  /**Thêm liên kết sp app với sp trên sàn\r\n   * @example this.acceptAfiliate()\r\n  */\r\n  acceptAfiliate() {\r\n    this.visible_affiliate = false;\r\n    const product = this.vhQuerySales.getlocalDetailProduct(this.id_product_selected);\r\n    const isZeroPriceCombo = product.type === VhType.COMBO && product.units[0].price === 0;\r\n\r\n    const confirmZeroPriceComboMessage = this.lang.translate(\"This product is a combo with a price of 0. Do you still want to link it with the product\", { platform: 'Lazada' }) + \"?\";\r\n\r\n    const linkProducts = () => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.affilateMultipleProduct(this.listProductSelected).then(res => {\r\n          this.vhComponent.hideLoading().then(() => {\r\n            setTimeout(() => {\r\n              this.listProductSelected = [];\r\n              this.changeShop(this.infoShop._id);\r\n              this.vhComponent.showToast(1500, this.lang.translate(\"Product linked successfully\"), \"success-toast\");\r\n            }, 300);\r\n          });\r\n        }).catch(err => {\r\n          this.listProductSelected = [];\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"The product link failed\"), \"alert-toast\");\r\n          this.vhComponent.hideLoading(0);\r\n        });\r\n      });\r\n    };\r\n\r\n    if (isZeroPriceCombo) {\r\n      this.vhComponent.alertConfirm(\r\n        this.lang.translate(\"Confirm\"),\r\n        \"\",\r\n        confirmZeroPriceComboMessage,\r\n        \"Ok\",\r\n        this.lang.translate(\"Cancel\")\r\n      ).then(() => {\r\n        linkProducts();\r\n      }).catch(() => {\r\n      });\r\n    } else {\r\n      linkProducts();\r\n    }\r\n  }\r\n  /**\r\n   * Liên kết nhiều sản phẩm\r\n   * @param products -  danh sách sp trên lazada đã chọn\r\n   * @example this.affilateMultipleProduct(products)\r\n   */\r\n  affilateMultipleProduct(products) {\r\n    return new Promise((resolve, reject) => {\r\n      let action = async () => {\r\n        for (let index in products) {\r\n          try {\r\n            let bool = await this.vhQuerySales.addMergeLazadasProduct_skus(this.id_product_selected, products[index]['item_id'], products[index]['SkuIds'], this.infoShop['_id']);\r\n            if (!bool) reject(false);\r\n          } catch (err) {\r\n            reject(false);\r\n          }\r\n          if (+index == products.length - 1) resolve(true);\r\n        }\r\n      };\r\n      action();\r\n    });\r\n  }\r\n  /**\r\n   * Clone mảng product ra để tránh bị ghi đè dữ liệu\r\n   * @params subProducts\r\n   * @example let arr_clone = this.cloneDeepProducts()\r\n   */\r\n  cloneDeepProducts(subProducts?) {\r\n    let products = [];\r\n    products = (subProducts || this.listProduct).map(item => {\r\n      if (item.skus && item.skus.length)\r\n        item.skus = item.skus.map(data => { data.isChecked = false; return data; });\r\n      return item;\r\n    });\r\n    return [...products];\r\n  }\r\n  /**\r\n   * Tắt modal và clone product ra mảng mới để trách nhớ lại dữ liệu cũ\r\n   * @example this.cancelAffiliate()\r\n   */\r\n  cancelAffiliate() {\r\n    this.listProductSelected = [];\r\n    this.visible_affiliate = false;\r\n    this.searchOnLazada = '';\r\n    this.listProduct = this.cloneDeepProducts(this.listSubProduct);\r\n  }\r\n  /**\r\n   * Tìm kiếm sản phẩm trong modal với value = từ khóa search\r\n   * @param value\r\n   * @example this.searchLazada('sản phẩm A')\r\n   */\r\n  searchLazada(value) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n      this.listProduct = this.vhAlgorithm.searchList(val, [...this.listSubProduct], ['name','item_id']);\r\n    } else this.listProduct = [...this.listSubProduct];\r\n  }\r\n  /**\r\n   * Gỡ sản phẩm liên kết trên sàn mới sản phẩm trong app sales\r\n   * @param id_product\r\n   * @param item_id\r\n   * @param SkuId\r\n   */\r\n  removeAffiliate(id_product, item_id, SkuId) {\r\n    //\r\n    //\r\n    //\r\n    //\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", this.lang.translate(\"Are you sure to remove this product\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.deleteMergeLazadaProduct_skus(id_product, item_id, SkuId, this.infoShop['_id']).then((bool) => {\r\n\r\n          if (bool) {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              setTimeout(() => {\r\n                this.changeShop(this.infoShop._id);\r\n                this.vhComponent.showToast(1500, this.lang.translate(\"The product has been successfully unlinked\"), 'success-toast');\r\n              }, 500);\r\n            });\r\n          } else { this.vhComponent.showToast(1500, this.lang.translate(\"The product link failed\"), 'alert-toast'); this.vhComponent.hideLoading(0); }\r\n        }).catch((err) => { console.error(err); this.vhComponent.hideLoading(0); });\r\n      });\r\n    }).catch(() => { });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#affiliate-product\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".affiliate-product-header\")) {\r\n      this.heightScroll = document.querySelector(\"#affiliate-product\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".affiliate-product-header\").clientHeight - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * Show/hide sản phẩm con liên kết với sp của app\r\n   * @param productApp\r\n   */\r\n  renderProductLazadas(productApp) {\r\n    productApp.expand = !productApp.expand;\r\n    productApp.loaded = false;\r\n    if (productApp.expand) {\r\n      productApp[this.id_branch].lazadas_expand = [];\r\n      let productLazada = [...this.vhQuerySales.getlocalProductListLazada(this.infoShop['_id'])];\r\n      let product_lazada_app = [...productApp[this.id_branch].lazadas];\r\n\r\n      if (productApp.expand && !productApp.loaded) {\r\n        if (productApp[this.id_branch] && product_lazada_app && product_lazada_app.length) {\r\n          for (let indexProd in product_lazada_app) {\r\n            let prodLazada = productLazada.find(item => item.item_id == product_lazada_app[indexProd].item_id);\r\n            if (prodLazada) {\r\n              for (let inndexSku in product_lazada_app[indexProd].skus) {\r\n                let sku = prodLazada.skus.find(item => item.SkuId == product_lazada_app[indexProd].skus[inndexSku].SkuId);\r\n                if (sku) product_lazada_app[indexProd].skus[inndexSku] = sku;\r\n              }\r\n              productApp[this.id_branch].lazadas_expand[indexProd] = { ...prodLazada, skus: product_lazada_app[indexProd].skus };\r\n            }\r\n          }\r\n          productApp.loaded = true;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n  }\r\n  /**\r\n   * Hàm render Tên của Status ra html cho dễ đọc\r\n   * @param status\r\n   * @returns string\r\n   */\r\n  public renderStatusProduct(status) {\r\n    switch (status) {\r\n      case 'active': return 'Active';\r\n      case 'live': return 'Live';\r\n      case 'inactive': return 'Inactive';\r\n      case 'deleted': return 'Deleted';\r\n      case 'image-missing': return 'Image missing';\r\n      case 'pending': return 'Pending';\r\n      case 'rejected': return 'Rejected';\r\n      case 'sold-out': return 'Sold out';\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"affiliate-product\">\r\n    <div nz-row nzGutter=\"8\" class=\"affiliate-product-header\">\r\n        <div nz-col nzSpan=\"6\" class=\"title\">\r\n            <b>{{'Link products in the store with products on Lazada' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <!-- <nz-select nzPlaceHolder=\"{{'Select shop on Lazada' | translate}}\" nzShowSearch\r\n                [(ngModel)]=\"id_shop_selected\" (ngModelChange)=\"changeShop($event)\">\r\n                <nz-option *ngFor=\"let option of listShop\" nzLabel=\"{{option.data.name}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select> -->\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <nz-select [(ngModel)]=\"filterAffiliate\" (ngModelChange)=\"search(searchValue)\">\r\n                <nz-option nzLabel=\"{{'All products' | translate}}\" [nzValue]=1>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Unlinked products' | translate}}\" [nzValue]=2>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Linked products' | translate}}\" [nzValue]=3>\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for product Sales Viethas' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <div nz-row nzGutter=\"16\" class=\"affiliate-product-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                [nzScroll]=\"{ y: heightScroll }\" #list_product_show nzShowPagination nzShowSizeChanger\r\n                nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProductApp\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"3%\"><b></b></th>\r\n                        <th nzWidth=\"10%\"><b>{{'Image' | translate}}</b></th>\r\n                        <th nzWidth=\"30%\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Lazada' | translate}}</b></th>\r\n                        <th nzAlign=\"right\" nzWidth=\"15%\"><b>{{\"Selling price\"| translate}}</b></th>\r\n                        <th nzWidth=\"12%\"><b>{{\"Functions\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr>\r\n                            <td><i class=\"icon-expand\"\r\n                                    *ngIf=\"item[id_branch] && item[id_branch].lazadas && item[id_branch].lazadas.length\"\r\n                                    (click)=\"renderProductLazadas(item)\" nz-icon [nzType]=\"item.expand ? 'up' : 'down'\"\r\n                                    nzTheme=\"outline\"></i></td>\r\n                            <td>\r\n                                <img [ngStyle]=\"{width: item.img ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"item.img\"\r\n                                    width=\"40px\" height=\"40px\" />\r\n                            </td>\r\n                            <td>\r\n                                <b>{{item.name}}</b> <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.name)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n                                <span>{{'Item code' | translate}}: {{item.item_code}} <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.item_code)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i></span>\r\n\r\n                            </td>\r\n                            <td>{{item.status}}</td>\r\n                            <td nzAlign=\"right\"><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b></td>\r\n                            <td nzAlign=\"center\"><i (click)=\"openModelSelectProductsLazada(item)\"\r\n                                    class=\"icon-link green\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expand && item.loaded\">\r\n                            <ng-container *ngFor=\"let product of item[id_branch].lazadas_expand\">\r\n                                <tr *ngFor=\"let sku of product.skus\">\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td style=\"padding-left: 24px;\">\r\n                                        <span *ngIf=\"product.attributes\">{{product.attributes.name}}</span>\r\n                                        <span class=\"color-red\" *ngIf=\"!product.attributes\">{{'Error products, please delete the link' | translate}}</span>\r\n                                        <p style=\"margin:0\">{{'Shop SKU' | translate}}: <span\r\n                                                class=\"color-green\">{{sku.ShopSku}}</span>\r\n                                        </p>\r\n                                        <p>{{'SellerSKU' | translate}}: <span\r\n                                                class=\"color-green\">{{sku.SellerSku}}</span>\r\n                                        </p>\r\n                                    </td>\r\n                                    <td>{{renderStatusProduct(sku.Status)| translate}}</td>\r\n                                    <td nzAlign=\"right\">{{vhAlgorithm.vhcurrencyunit(sku.special_price ||\r\n                                        sku.price)}}\r\n                                    </td>\r\n                                    <td nzAlign=\"center\"><i\r\n                                            (click)=\"removeAffiliate(item.id_subproduct ? item.id_subproduct : item._id,product.item_id,sku.SkuId)\"\r\n                                            class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i></td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n\r\n</nz-layout>\r\n\r\n\r\n<!-- --------------modal chọn sản phẩm liên kết--------------- -->\r\n<nz-modal class=\"model-link-product-ecommerce\" [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooter\" [nzWidth]=\"650\"\r\n    [nzBodyStyle]=\"setHeight\" [(nzVisible)]=\"visible_affiliate\"\r\n    nzTitle=\"{{'Select Lazada linked products' | translate}}\" (nzOnCancel)=\"cancelAffiliate()\"\r\n    (nzOnOk)=\"acceptAfiliate()\" [nzOkLoading]=\"isLoading\">\r\n    <div *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"title center-all-content\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input [(ngModel)]=\"searchOnLazada\" (ngModelChange)=\"searchLazada($event)\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for product name' | translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <nz-table class=\"product-table-modal-ecommerce\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '400px' }\" #list_product_show\r\n                nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProduct\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"10%\"></th>\r\n                        <th nzWidth=\"15%\"></th>\r\n                        <th nzWidth=\"45%\"></th>\r\n                        <th nzWidth=\"30%\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class=\"product\">\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr class=\"product-item\">\r\n                            <td>\r\n                                <i class=\"icon-expand\" (click)=\"item.expandModal = !item.expandModal\" nz-icon\r\n                                    [nzType]=\"item.expandModal ? 'up' : 'down'\" nzTheme=\"outline\"></i>\r\n                            </td>\r\n                            <td>\r\n                                <img [ngStyle]=\"{width: (item.images || item.skus[0].Images[0]) ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                    [src]=\"item.images[0] || item.skus[0].Images[0]\" width=\"40px\" height=\"40px\" />\r\n                            </td>\r\n                            <td class=\"product-item-name\">\r\n                                <span>{{item.attributes.name}}</span>\r\n                                <span>SKU :{{item.item_id}}</span>\r\n                            </td>\r\n                            <td></td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expandModal\">\r\n                            <tr *ngFor=\"let data of item.skus\" class=\"product-item-sub\">\r\n                                <td></td>\r\n                                <td class=\"product-item-sub-checkbox\">\r\n                                    <label [(ngModel)]=\"data.isChecked\"\r\n                                        (ngModelChange)=\"addProductAffilate($event,item,data)\" nz-checkbox></label>\r\n                                </td>\r\n                                <td class=\"product-item-sub-name\">\r\n                                    <span>{{item.attributes.name}}\r\n                                        <span class=\"color-green\"\r\n                                            *ngIf=\"data.color_family\">({{data.color_family}})</span>\r\n                                    </span>\r\n                                    <div>{{'Shop SKU' | translate}} : {{data.ShopSku}}</div>\r\n                                    <div>{{'SellerSKU' | translate}} : {{data.SellerSku}}</div>\r\n                                </td>\r\n                                <td class=\"product-item-sub-price\">\r\n                                    <b>{{vhAlgorithm.vhcurrencyunit(data.special_price||data.price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n        <ng-template #no_data>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\" class=\"no-data\">{{'No data'|translate}}\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n    <ng-template #modalFooter>\r\n        <div class=\"footerModal\">\r\n            <div class=\"footerModal-button center-all-content\">\r\n                <button (click)=\"cancelAffiliate()\" class=\"btn-white\" nz-button>{{\"Cancel\" | translate}}</button>\r\n                <button [nzLoading]=\"loading\" [disabled]=\"!listProductSelected.length\" (click)=\"acceptAfiliate()\"\r\n                    nz-button class=\"btn-green\">{{\"Confirm\" | translate}}</button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AffiliateProductComponent } from './affiliate-product.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AffiliateProductComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [AffiliateProductComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class AffiliateProductModule { }\r\n"],"names":["VhType","i0","$event","ctx_r27","ctx_r29","item_r7","item_r37","ctx_r4","AffiliateProductComponent","constructor","router","lang","vhComponent","vhAlgorithm","vhQuerySales","cdRef","getDefaultBranch","_id","ngOnInit","getData","infoShop","getlocalShopListLazada","changeShop","id","localProducts","getlocalDetailProducts","listProductApp","filter","e","delete_hidden","map","item","id_branch","lazadas","length","prod","id_shop","getUnit_byRatio","units","listSubProductApp","returnArrayHiddenProduct","listProduct","clearProductShow","getlocalProductListLazada","arrayHidden","includes","item_id","forEach","name","attributes","listSubProduct","cloneDeepProducts","search","searchValue","trackByFn","index","arr","localProduct","product","hidden","push","prodApp","indexProd","findIndex","indexSku","skus","indexSub","sku","SkuId","splice","goBack","navigate","value","val","changeAlias","trim","toLowerCase","searchList","filterAffilateProduct","filterAffiliate","_a","_b","_c","some","openModelSelectProductsLazada","id_product_selected","visible_affiliate","addProductAffilate","bool","listProductSelected","SkuIds","indexDelete","acceptAfiliate","getlocalDetailProduct","isZeroPriceCombo","type","COMBO","price","confirmZeroPriceComboMessage","translate","platform","linkProducts","showLoading","then","affilateMultipleProduct","res","hideLoading","setTimeout","showToast","catch","err","alertConfirm","products","Promise","resolve","reject","action","addMergeLazadasProduct_skus","subProducts","data","isChecked","cancelAffiliate","searchOnLazada","searchLazada","removeAffiliate","id_product","deleteMergeLazadaProduct_skus","console","error","ngAfterViewChecked","document","querySelector","heightScroll","clientHeight","detectChanges","renderProductLazadas","productApp","expand","loaded","lazadas_expand","productLazada","product_lazada_app","prodLazada","find","inndexSku","Object","renderStatusProduct","status","selectors","decls","vars","consts","template","ctx","_r5"],"sourceRoot":"webpack:///"}