{"version":3,"file":"src_app_sales_menu_manage_ecommerce_lazada_control_control-exel_control-exel_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/lazada/control/control-exel/control-diary/control-diary.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/control/control-exel/control-diary/control-diary.component.html","./src/app/sales/menu/manage/ecommerce/lazada/control/control-exel/control-exel.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/control/control-exel/control-exel.component.html","./src/app/sales/menu/manage/ecommerce/lazada/control/control-exel/control-exel.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-control-diary',\r\n  templateUrl: './control-diary.component.html',\r\n  styleUrls: ['./control-diary.component.scss']\r\n})\r\nexport class ControlDiaryComponent implements OnInit {\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  load_status: boolean = false;\r\n  dataRestore: any;\r\n  infoShop: any = {};\r\n  setHeight = { \"max-height\": \"400px\", \"height\": \"auto\" }\r\n  bill_selected: any = {}\r\n  public date: Date[] = [new Date(), new Date()];\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth,\r\n    private modal: NzModalService,\r\n    private datePipe: DatePipe,\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.infoShop = this.vhQuerySales.getlocalShopListLazada()[0];\r\n  }\r\n  /**\r\n   * lọc hóa đơn theo order_id \r\n   * @example this.search('')\r\n   */\r\n  search(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.salesOrder = this.vhAlgorithm.searchList(val, this.salesSubOrder, ['order_number'])\r\n    } else this.salesOrder = [...this.salesSubOrder]\r\n  }\r\n  /**\r\n   * về trang quản lý đối soát tiền về\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/control/control-exel'], {\r\n      state: {\r\n        dataRestore: this.dataRestore\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * bắt sự kiện thay đổi ngày xem báo cáo\r\n   * @example this.changeTime('2023-06-09T04:14:30.367Z')\r\n   */\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + 2678313600)]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get các hóa đơn của lazada theo ngày được chọn\r\n   * @example this.showReport()\r\n   */\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    this.salesSubOrder = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getSalesOrderDetailListLazada(new Date(this.date[0].setHours(0, 0, 0)).toISOString(), new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString(), this.infoShop.access_token, this.infoShop._id)\r\n        .then((result: any) => {\r\n          this.vhComponent.hideLoading(0)\r\n          result.forEach(item => {\r\n            if (item.statuses.includes('delivered')) {\r\n              this.salesOrder.push({\r\n                ...item, total_amount: this.calculateTotal(item),\r\n                id_shop: this.infoShop._id,\r\n                employee_name: (item.id_verifier_payment ? this.vhAuth.getlocalEmployee(item.id_verifier_payment).name : ''),\r\n                checked: item.verify_status_payment ? 'has checked' : 'Chưa đối soát'\r\n              })\r\n            }\r\n          })\r\n          this.salesSubOrder = this.salesOrder;\r\n          \r\n\r\n        }).catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * tính lại tổng tiền\r\n   * @param bill \r\n   * @returns number\r\n   * @example let total = this.calculateTotal(bill)\r\n   */\r\n  calculateTotal(bill) {\r\n    return +bill['price'] - bill['voucher'] + bill['shipping_fee']\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#cashflow-management-Lazada\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".cashflow-management-Lazada-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#cashflow-management-Lazada\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".cashflow-management-Lazada-header\").clientHeight - 96 + \"px\";\r\n    }\r\n    if (document.getElementById(\"cashflow-management-Lazada\"))\r\n      this.widthScroll = document.getElementById(\"cashflow-management-Lazada\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n \r\n  /**Render date theo định dạng ngày/tháng/năm \r\n   * @example let date = this.format_date(new Date()) // output : '06/06/2023'\r\n  */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd/MM/yyyy\")\r\n  }\r\n\r\n  isSort: boolean = false\r\n  /**\r\n   * sort trường checked trong salesSubOrder và gán cho salesOrder để show ra giao diện\r\n   * @example this.sort()\r\n   */\r\n  sort() {\r\n    this.isSort = !this.isSort\r\n    if (this.isSort) this.salesOrder = [...this.vhAlgorithm.sortStringbyASC(this.salesSubOrder, 'checked')]\r\n    else this.salesOrder = [...this.vhAlgorithm.sortStringbyDESC(this.salesSubOrder, 'checked')]\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"cashflow-management-Lazada\">\r\n    <div nz-row nzGutter=\"4\" class=\"cashflow-management-Lazada-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title\">\r\n            <b>{{'Control diary'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  nzFormat=\"dd/MM/yyyy\" [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"right-all-content\">\r\n            <!-- <div> -->\r\n            <!-- <button [disabled]=\"!salesOrder.length\" (click)=\"gotoControlAutomation()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <ion-icon src=\"assets/icon/management/ecommerce/control_automation.svg\"></ion-icon>\r\n                    {{'Control from Excel' | translate}}</button> -->\r\n            <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                {{'View' | translate}}\r\n            </button>\r\n            <!-- </div> -->\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"cashflow-management-Lazada-body\">\r\n        <div nz-row style=\"width: 100%;\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <nz-table *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                    nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\" [nzPageSize]=\"20\"\r\n                    [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th nzLeft nzWidth=\"5%\"><b>{{'No.' | translate}}</b></th>\r\n                            <th nzLeft nzWidth=\"18%\"><b>{{'Order date' | translate}}</b></th>\r\n                            <th nzLeft nzWidth=\"18%\"><b>{{'Control date' | translate}}</b></th>\r\n                            <th nzLeft nzWidth=\"19%\"><b>{{'Employee' | translate}}</b></th>\r\n                            <th nzLeft nzWidth=\"15%\"><b>{{'Order number' | translate}}</b></th>\r\n                            <th nzAlign=\"right\" nzWidth=\"15%\"><b>{{\"Total amount\"| translate}}</b></th>\r\n                            <th nzWidth=\"10%\" nzAlign=\"center\" (click)=\"sort()\"><b>{{\"For control\" | translate}} </b>\r\n                                <i nz-icon nzType=\"caret-up\" nzTheme=\"outline\" *ngIf=\"isSort\"></i>\r\n                                <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\" *ngIf=\"!isSort\"></i>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ng-container *ngFor=\"let bill of salesOrder_show.data, index as i\">\r\n                            <tr class=\"bill-return-refund\" style=\"cursor: pointer;\">\r\n                                <td nzLeft nzWidth=\"5%\">{{i+1 }}\r\n                                </td>\r\n                                <td nzLeft nzWidth=\"18%\">{{bill.created_at | date : \"dd/MM/YYYY HH:mm\"}}\r\n                                </td>\r\n                                <td nzLeft nzWidth=\"18%\">{{bill.verify_date_payment | date : \"dd/MM/YYYY HH:mm\"}}\r\n                                </td>\r\n                                <td nzLeft nzWidth=\"19%\">{{bill.employee_name }}\r\n                                </td>\r\n                                <td nzLeft nzWidth=\"15%\"> {{bill.order_id}} <i\r\n                                        (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.order_id)\" nz-icon\r\n                                        nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                                </td>\r\n                                <td nzAlign=\"right\" nzWidth=\"15%\">\r\n                                    <b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b>\r\n                                </td>\r\n                                <td nzAlign=\"center\" nzWidth=\"10%\">\r\n                                    <!-- <label [(ngModel)]=\"bill.status_control_cashflow\"   nz-checkbox>\r\n                                        </label> -->\r\n                                    {{bill.checked | translate}}\r\n                                    <!-- <ng-container *ngIf=\"bill.verify_status_payment; else elseTemplate\">\r\n                                            {{'has checked' | translate}}\r\n                                        </ng-container>\r\n                                        <ng-template #elseTemplate>\r\n                                            {{'Not checked yet' | translate}}\r\n                                        </ng-template> -->\r\n\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n\r\n\r\n                    </tbody>\r\n                </nz-table>\r\n                <ng-template #no_bill class=\"full-height\">\r\n                    <div *ngIf=\"load_status\" nz-col nzSpan=\"24\" style=\"height: 60vh;\" class=\"center-all-content\">\r\n                        <div>{{'No data'| translate}}</div>\r\n                    </div>\r\n                </ng-template>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{(\"Please click the view button\")| translate}}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-layout>","import { Router } from '@angular/router';\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-control-exel',\r\n  templateUrl: './control-exel.component.html',\r\n  styleUrls: ['./control-exel.component.scss']\r\n})\r\nexport class ControlExelComponent implements OnInit {\r\n  dataRestore:any\r\n  constructor(\r\n    private router:Router\r\n  ) {  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/control'] )\r\n  }\r\n\r\n  gotoMoneyControl(){\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/control/control-exel/money-control'] ,{state:{ dataRestore : this.dataRestore}})\r\n  }\r\n\r\n  gotoDiary(){\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/control/control-exel/diary-control'] ,{state:{ dataRestore : this.dataRestore}})\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row class=\"cus-row\">\r\n        <div nz-col nzSpan=\"6\" class=\"center-all-content item-cus\">\r\n            <div class=\"ng-item center-all-content\" (click)=\"gotoMoneyControl()\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <ion-icon src=\"assets/icon/management/ecommerce/control_automation.svg\"></ion-icon>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"center-text medium-size\">{{'Money control'|translate}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"center-all-content item-cus\">\r\n            <div class=\"ng-item center-all-content\"  (click)=\"gotoDiary()\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <ion-icon src=\"assets/icon/management/ecommerce/nhatkidoisoat.svg\"></ion-icon>\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"center-text medium-size\">{{'Control diary'|translate}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n</nz-layout>","import { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ControlExelComponent } from './control-exel.component';\r\nimport { ControlDiaryComponent } from './control-diary/control-diary.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ControlExelComponent\r\n  },\r\n  {\r\n    path: 'money-control',\r\n    loadChildren: () => import('./control-money/control-money.module').then(m => m.ControlMoneyModule)\r\n  }, \r\n  {\r\n    path: 'diary-control',\r\n    component: ControlDiaryComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ControlExelComponent,\r\n    ControlDiaryComponent\r\n  ],\r\n  imports: [ \r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ControlExelModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}