{"version":3,"file":"src_app_sales_menu_manage_ecommerce_lazada_order-status_order-status_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/lazada/order-status/detail/detail.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/order-status/detail/detail.component.html","./src/app/sales/menu/manage/ecommerce/lazada/order-status/order-status.component.ts","./src/app/sales/menu/manage/ecommerce/lazada/order-status/order-status.component.html","./src/app/sales/menu/manage/ecommerce/lazada/order-status/order-status.module.ts"],"sourcesContent":["import { FunctionService } from './../../../../../../services/function.service';\r\nimport { VhComponent } from './../../../../../../components/vh-component/vh-component';\r\nimport { VhQuerySales, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  bill: any;\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  price: number = 0;\r\n  payment_fee = 0;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public functionService: FunctionService,\r\n    private lang: LanguageService,\r\n    private modal: NzModalService,\r\n  ) {\r\n    this.bill = this.router.getCurrentNavigation().extras.state.bill;\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n    \r\n  }\r\n  /**\r\n   * Công thức tính free ship max = 4,5% * (giá trị sp - giá trị NBH tài trợ) * 1.1 (tối đa 16.5k trên 1sp)\r\n   * Phí thanh toán = 2.002% x (giá sản phẩm – chi phí nhà bán hàng tài trợ + phí vận chuyển trả bởi khách hàng)\r\n   */\r\n  ngOnInit(): void {\r\n    \r\n    this.price = parseFloat(this.bill.price);\r\n    let freeShipMax: number = 0\r\n    let paymet_fee: number = 0\r\n    this.bill.order_items.forEach(element => {\r\n      this.payment_fee += 0.020002 * (element.item_price + element.shipping_amount + element.tax_amount)\r\n      paymet_fee += parseFloat((0.02002 * (element.item_price - element.voucher_seller + element.shipping_amount)).toFixed(2))\r\n      freeShipMax += parseFloat((0.045 * (element.item_price - element.voucher_seller) * 1.1).toFixed(2))\r\n    });\r\n    this.bill['paymet_fee'] = paymet_fee\r\n    this.bill['freeShipMax'] = freeShipMax\r\n    setTimeout(() => {\r\n      \r\n\r\n    }, 3000);\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-lazada\") && document.querySelector(\".order-status-lazada-header\") && document.querySelector(\"#bill-info\") && document.querySelector(\"#buyer-info\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-lazada\").clientHeight -\r\n        - document.querySelector(\".order-status-lazada-header\").clientHeight - document.querySelector(\"#bill-info\").clientHeight - document.querySelector(\"#buyer-info\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-lazada\"))\r\n      this.widthScroll = document.getElementById(\"order-status-lazada\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/order-status'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n\r\n  gotoPrint() {\r\n    this.router.navigate([\"/sales/dashboard/manage/ecommerce/lazada/print\"], { state: { bill: this.bill, dataRestore: this.dataRestore, path: this.router.url, info_Shop: this.vhQuerySales.getlocalShopListLazada()[this.vhQuerySales.getlocalShopListLazada().findIndex(item => item._id == this.dataRestore.id_shop_selected)] } })\r\n  }\r\n  /**\r\n   * Cập nhật đơn hàng từ trạng thái chờ xác nhận sang đóng gói, bàn giao\r\n   * @example this.updateStatusOrderPacked(order)\r\n   */\r\n  updateStatusOrderPacked(order) {\r\n    this.modal.confirm({\r\n      nzTitle: this.lang.translate(\"Confirm\") + \"?\",\r\n      nzContent: this.lang.translate(\"Bạn có muốn tạo gói hàng này\") + \"?\",\r\n      nzOkText: 'OK',\r\n      nzOnOk: () => {\r\n        return new Promise((resolve, reject) => {\r\n          let shop = this.vhQuerySales.getlocalShopListSendo().find(data => data._id == this.dataRestore.id_shop_selected)\r\n          let array = []\r\n          order.order_items.forEach(item => array.push(item.order_item_id))\r\n          this.vhQuerySales.setStatusPackedLazada(array, shop.access_token).\r\n            then(res => {\r\n              if (res) {\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Tạo gói hàng thành công\"))\r\n                resolve(true)\r\n                order.statuses[0] = 'packed'\r\n                this.dataRestore.salesOrder[this.findIndexUpdate(this.dataRestore.salesOrder)] = this.bill\r\n                this.dataRestore.salesSubOrder[this.findIndexUpdate(this.dataRestore.salesSubOrder)] = this.bill\r\n              }\r\n            }).catch(err => {\r\n              \r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"Xảy ra lỗi trong quá trình cập nhật\"))\r\n              resolve(false)\r\n            })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n      nzCancelText: this.lang.translate(\"Cancel\")\r\n    })\r\n  }\r\n  /**\r\n   * Cập nhật đơn hàng từ trạng thái chờ giao\r\n   * @example this.updateStatusOrderReadyToShop(order)\r\n   */\r\n  updateStatusOrderReadyToShop(order) {\r\n    this.modal.confirm({\r\n      nzTitle: this.lang.translate(\"Confirm\") + \"?\",\r\n      nzContent: this.lang.translate(\"Bạn đã sẵn sàng giao đơn này\") + \"?\",\r\n      nzOkText: 'OK',\r\n      nzOnOk: () => {\r\n        return new Promise((resolve, reject) => {\r\n          let shop = this.vhQuerySales.getlocalShopListLazada().find(data => data._id == this.dataRestore.id_shop_selected)\r\n          let array = []\r\n          order.order_items.forEach(item => array.push(item.order_item_id))\r\n          let tracking_number = order.order_items[0]?.tracking_code\r\n          this.vhQuerySales.setStatusReadyToShipLazada(array, tracking_number, shop.access_token).\r\n            then(res => {\r\n              if (res) {\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Đơn đã được chuyển sang trạng thái chờ giao hàng\"))\r\n                resolve(true)\r\n                order.statuses[0] = 'ready_to_ship'\r\n                this.dataRestore.salesOrder[this.findIndexUpdate(this.dataRestore.salesOrder)] = this.bill\r\n                this.dataRestore.salesSubOrder[this.findIndexUpdate(this.dataRestore.salesSubOrder)] = this.bill\r\n              }\r\n            }).catch(err => {\r\n              \r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"Xảy ra lỗi trong quá trình cập nhật\"))\r\n              resolve(false)\r\n            })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n      nzCancelText: this.lang.translate(\"Cancel\")\r\n    })\r\n  }\r\n  findIndexUpdate(data: Array<any>) {\r\n    let index = data.findIndex(item => item.order_id == this.bill.order_id)\r\n    return index\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-lazada\" *ngIf=\"bill\">\r\n    <div nz-row class=\"order-status-lazada-header\">\r\n        <div nz-col nzSpan=\"16\" class=\"title\">\r\n            <b>{{'Order_number' | translate}}: <span style=\"color: #ee2624;\"\r\n                    (click)=\"vhComponent.copyValue(bill.order_id)\"> #{{bill.order_id}} <i nz-icon nzType=\"copy\"\r\n                        nzTheme=\"outline\"></i></span></b>\r\n            <span class=\"sub-title\"> {{'Ngày đặt hàng'}} {{bill.created_at | date:\"dd/MM/yyyy\"}}</span>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"right-all-content\">\r\n            <button *ngIf=\"bill.statuses[0] == 'pending'\" class=\"btn-confirm\" nz-button\r\n                (click)=\"$event.stopPropagation();updateStatusOrderPacked(bill)\">\r\n                {{'Tạo gói hàng'}}</button>\r\n\r\n            <button *ngIf=\"bill.statuses[0] == 'packed'\" class=\"btn-confirm\" nz-button\r\n                (click)=\"$event.stopPropagation();updateStatusOrderReadyToShop(bill)\">\r\n                {{'Sẵn sàng giao'}}</button>\r\n            <button style=\"width: 8vw;\" class=\" center-all-content\" nz-button nzType=\"default\" (click)=\"gotoPrint()\">\r\n                <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                {{'Print' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"bill-info\">\r\n        <div nz-col nzSpan=\"24\">\r\n            {{'Status' | translate}}: <b>{{bill.statuses[0] | translate}}</b>\r\n        </div>\r\n        <div *ngIf=\"bill.order_items[0]?.reason\" nz-col nzSpan=\"24\">\r\n            {{'Reason' | translate}}: <b>{{bill.order_items[0]?.reason | translate}}</b>\r\n        </div>\r\n\r\n        <div nz-col nzSpan=\"24\" class=\"bill-info-customer\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer-left\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"sub-title\">\r\n                        {{'Basic information' | translate}}\r\n                    </div>\r\n                </div>\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Customer name' | translate}}</span> <br>\r\n                        {{bill.address_billing.first_name}}\r\n\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Customer ID' | translate}}</span> <br>\r\n                        {{bill.order_items[0].buyer_id}}\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer-right\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"sub-title\">\r\n                        {{'Shipping address' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"11\">\r\n                        <span class=\"sub-title\">{{'Detailed address' | translate}}</span> <br>\r\n                        {{bill.address_shipping.address1}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"1\"></div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <span class=\"sub-title\">{{'Recipient name' | translate}}</span> <br>\r\n                        {{bill.address_shipping.first_name}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span class=\"sub-title\">{{'Recipient phone number' | translate}}</span> <br>\r\n                        {{bill.address_shipping.phone}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Thông tin thanh toán-->\r\n\r\n    <div nz-row id=\"bill-info\" style=\"margin-top: 20px;\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-right: 16px;\">\r\n            <div class=\"bill-info-customer\" nz-col nzSpan=\"24\">\r\n                <b>{{'My payment information' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Payment fee' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.paymet_fee)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Phí dịch vụ chương trình FreeShip MAX' |\r\n                        translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.freeShipMax)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Product value' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.price)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'total amount' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <b style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit(bill.price -\r\n                            bill.freeShipMax - bill.paymet_fee)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div class=\"bill-info-customer\" nz-col nzSpan=\"24\">\r\n                <b>{{'Customer payment information' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Subtotal' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.price)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <span class=\"priceTag\">VAT Included</span> {{'Shipping Fee' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text sub-title\">\r\n                        {{'Shipping Fee Original' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee_original)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        {{'Seller Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text  sub-title\">\r\n                        - {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee_discount_platform)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <nz-divider></nz-divider>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Lazada Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        - {{vhAlgorithm.vhcurrencyunit(bill.voucher_seller)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Seller Discount Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(bill.voucher_platform)}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <nz-divider></nz-divider>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        {{'Total' | translate}}\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"end-text\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Danh sách sản phẩm -->\r\n    <nz-table class=\"ant-scroll-table\" *ngIf=\"bill.order_items.length > 0\"\r\n        [nzScroll]=\"{  x : widthScroll, y: heightScroll }\" #salesOrder_show nzShowPagination nzShowSizeChanger\r\n        [nzData]=\"bill.order_items\" [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzLeft nzWidth=\"150px\"><b>{{'Image' | translate}}</b></th>\r\n                <th nzLeft nzWidth=\"250px\"><b>{{'Product information' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Product ID in the order' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Warehouse type' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Product code' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Delivery options' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Refund' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Status\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Total\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Shipping Fee' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Shipping fee promotion' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{\"Reason\" | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Promotions' | translate}}</b></th>\r\n                <th nzWidth=\"200px\"><b>{{'Delivery_time' | translate}}</b></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let data of salesOrder_show.data\">\r\n                <td nzLeft nzWidth=\"150px\">\r\n                    <img src=\"{{data.product_main_image}}\" alt=\"\">\r\n                </td>\r\n                <td nzLeft nzWidth=\"250px\">\r\n                    <b (click)=\"vhComponent.copyValue(data.name)\"> {{data.name}}</b> <i\r\n                        (click)=\"vhComponent.copyValue(data.name)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n\r\n                    <span class=\"sub-title\">{{'SKU'}}: {{data.sku}}</span>\r\n                </td>\r\n                <td nzWidth=\"200px\">{{bill.order_id}}</td>\r\n                <td nzWidth=\"200px\">{{data.warehouse_code}}</td>\r\n                <td nzWidth=\"200px\">{{data.order_item_id}}</td>\r\n                <td nzWidth=\"200px\">{{data.shipping_provider_type}}</td>\r\n                <td nzWidth=\"200px\">{{0}}</td>\r\n                <td nzWidth=\"200px\">{{data.status}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.paid_price)}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.shipping_fee_original +\r\n                    data.shipping_service_cost)}}</td>\r\n                <td nzWidth=\"200px\">{{vhAlgorithm.vhcurrencyunit(data.shipping_fee_discount_platform +\r\n                    data.shipping_fee_discount_seller)}}</td>\r\n                <td nzWidth=\"200px\">{{data.reason}}</td>\r\n                <td nzWidth=\"200px\">{{data.voucher_amount}}</td>\r\n                <td nzWidth=\"200px\">{{data.sla_time_stamp | date:'dd/MM/yyyy HH:mm'}}</td>\r\n            </tr>\r\n        </tbody>\r\n    </nz-table>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-order-status',\r\n  templateUrl: './order-status.component.html',\r\n  styleUrls: ['./order-status.component.scss']\r\n})\r\nexport class OrderStatusComponent implements OnInit {\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  selectedIndex: number = 0\r\n  list_status_bill: Array<any> = [\r\n    { name: \"All\", value: \"all\" },\r\n    { name: \"Unpaid\", value: \"unpaid\" },\r\n    { name: \"Wait for confirmation\", value: \"pending\" },\r\n    { name: \"To ship\", value: \"packed\", value2: 'ready_to_ship' },\r\n    { name: \"Shipping\", value: \"shipped\" },\r\n    { name: \"Delivered\", value: \"delivered\" },\r\n    { name: \"Cancellation\", value: \"canceled\" },\r\n    { name: \"Trouble\", value: \"package_scrapped\" },\r\n    { name: \"Return or refund\", value: \"returned\" },\r\n    { name: \"Failed Delivered\", value: \"shipped_back\", value2: \"shipped_back_success\", value3: \"failed_delivery\" },\r\n    { name: \"Lost & Damaged\", value: \"lost_by_3pl\", value2: \"damaged_by_3pl\" },\r\n    { name: \"Confirmed\", value: \"confirmed\" },\r\n  ];\r\n  // unpaid, pending, packed, ready_to_ship_pending, ready_to_ship, shipped, failed_delivery, lost_by_3pl, damaged_by_3pl, delivered, returned, canceled, confirmed, shipped_back, shipped_back_success, shipped_back_failed\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  public date: Date[] = [new Date(), new Date()];\r\n  startTimeBackUp: Date;\r\n  endTimeBackUp: Date;\r\n  load_status: boolean = false;\r\n  dataRestore: any;\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  infoShop: any = {}\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private modal: NzModalService,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state?.dataRestore\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.salesOrder = this.dataRestore.salesOrder\r\n      this.salesSubOrder = this.dataRestore.salesSubOrder\r\n      this.countOrderByStatus(this.salesOrder);\r\n      this.load_status = true;\r\n      this.selectedIndex = this.dataRestore.selectedIndex\r\n      this.date = this.dataRestore.date;\r\n      this.segmentChanged(this.selectedIndex)\r\n    }\r\n    this.infoShop = this.vhQuerySales.getlocalShopListLazada()[0];\r\n  }\r\n  /**\r\n   * bắt sk thay đổi ngày xem hóa đơn\r\n   * @example this.changeTime('2023-06-09T04:14:30.367Z')\r\n   */\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + 2678313600)]\r\n    }\r\n  }\r\n\r\n  /**\r\n   * lọc salesOrder theo order_id\r\n   * @param value\r\n   * @example this.search('060623A001')\r\n   */\r\n  search(value: string) {\r\n    this.segmentChanged(this.selectedIndex)\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n    this.salesOrder = this.vhAlgorithm.searchList(val, [...this.salesOrder], ['order_id'])\r\n\r\n  }\r\n  /**\r\n   * bắt sk thay đổi tab xem trạng thái đơn\r\n   * @param event\r\n   */\r\n  segmentChanged(event) { // sau này sẽ filter theo trạng thái qua hàm này\r\n    // Nếu chọn tab Khác thì hiện những đơn không có trong danh sách trạng thái\r\n    if(event === this.list_status_bill.length) {\r\n      this.salesOrder = this.salesSubOrder.filter(item => {\r\n        return !this.list_status_bill.some(status => status.value === item.statuses[0] || status.value2 === item.statuses[0] || status.value3 === item.statuses[0]);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (event == 0) this.salesOrder = this.salesSubOrder\r\n    else this.salesOrder = this.salesSubOrder.filter(item => item.statuses[0] == this.list_status_bill[event].value || item.statuses[0] == this.list_status_bill[event].value2 || item.statuses[0] == this.list_status_bill[event].value3)\r\n  }\r\n\r\n\r\n\r\n  /** Map chứa số lượng đơn hàng theo trạng thái */\r\n  orderCountByStatus: any = {\r\n    'All': 0,\r\n    'Unpaid': 0,\r\n    'Wait for confirmation': 0,\r\n    'To ship': 0,\r\n    'Shipping': 0,\r\n    'Delivered': 0,\r\n    'Cancellation': 0,\r\n    'Trouble': 0,\r\n    'Return or refund': 0,\r\n    'Failed Delivered': 0,\r\n    'Lost & Damaged': 0,\r\n    'Confirmed': 0,\r\n  }\r\n  /** Số lượng đơn hàng không nằm trong danh sách trạng thái */\r\n  orderOthersCountByStatus = 0;\r\n\r\n  /**\r\n   * Đếm số lượng đơn hàng theo trạng thái\r\n   * @param orders\r\n   */\r\n  countOrderByStatus(orders) {\r\n    this.orderOthersCountByStatus = orders.filter(order => {\r\n      return !this.list_status_bill.some(status => status.value === order.statuses[0] || status.value2 === order.statuses[0] || status.value3 === order.statuses[0]);\r\n    }).length;\r\n\r\n    for (const key in this.orderCountByStatus) {\r\n      if (key === 'All') {\r\n        this.orderCountByStatus[key] = orders.length;\r\n      }\r\n      else {\r\n        this.orderCountByStatus[key] = orders.filter(order => {\r\n          return order.statuses[0] === this.list_status_bill.find(status => status.name === key).value ||\r\n            order.statuses[0] === this.list_status_bill.find(status => status.name === key).value2 ||\r\n            order.statuses[0] === this.list_status_bill.find(status => status.name === key).value3;\r\n        }).length;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * trở về trang quản lý lazada\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada'], {\r\n      state: {\r\n        dataRestore: { dataRestore: this.dataRestore }\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * get hóa đơn lazada\r\n   * @example this.showReport()\r\n   */\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getSalesOrderDetailListLazada(new Date(this.date[0].setHours(0, 0, 0)).toISOString(), new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString(), this.infoShop.access_token, this.infoShop._id)\r\n        .then((result: any) => {\r\n          this.vhComponent.hideLoading(0)\r\n          result.forEach(item => {\r\n            if (item.statuses.length > 1) {\r\n              let count = 0\r\n              item.order_items.forEach(product => { if (product.status == 'canceled') count++ })\r\n              item.deliveredProduct = item.order_items.length - count\r\n              item.canceledProduct = count\r\n            }\r\n            this.salesOrder.push({ ...item, total_amount: this.calculateTotal(item), created_at: new Date(item.created_at), id_shop: this.infoShop._id, })\r\n          })\r\n\r\n          // this.salesOrder = result.map(item => { return { ...item, id_shop: this.infoShop._id, shop_name: shop.account }})\r\n          this.salesSubOrder = this.salesOrder;\r\n          this.countOrderByStatus(this.salesOrder);\r\n      this.segmentChanged(this.selectedIndex);\r\n        }, (error => this.vhComponent.hideLoading(0))\r\n        ).catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   * tính lại tổng tiền\r\n   * @param bill\r\n   * @returns number\r\n   * @example let total = this.calculateTotal(bill)\r\n   */\r\n  calculateTotal(bill) {\r\n    return +bill['price'] - bill['voucher'] + bill['shipping_fee']\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-lazada\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".order-status-lazada-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-lazada\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".order-status-lazada-header\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-lazada\"))\r\n      this.widthScroll = document.getElementById(\"order-status-lazada\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n  gotoDetail(bill) {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/lazada/order-status/detail'], { state: { bill: bill, dataRestore: { salesOrder: this.salesOrder, searchValue: this.searchValue, id_shop_selected: this.infoShop._id, date: this.date, salesSubOrder: this.salesSubOrder, selectedIndex: this.selectedIndex } } })\r\n  }\r\n  /**\r\n   * Cập nhật đơn hàng từ trạng thái chờ xác nhận sang đóng gói, bàn giao\r\n   */\r\n  updateStatusOrderPacked(order) {\r\n    this.modal.confirm({\r\n      nzTitle: this.lang.translate(\"Confirm\") + \"?\",\r\n      nzContent: this.lang.translate(\"Bạn có muốn tạo gói hàng này\") + \"?\",\r\n      nzOkText: 'OK',\r\n      nzOnOk: () => {\r\n        return new Promise((resolve, reject) => {\r\n          let array = []\r\n          order.order_items.forEach(item => array.push(item.order_item_id))\r\n          this.vhQuerySales.setStatusPackedLazada(array, this.infoShop.access_token).\r\n            then(res => {\r\n              if (res) {\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Tạo gói hàng thành công\"))\r\n                resolve(true)\r\n                order.statuses[0] = 'packed'\r\n              }\r\n            }).catch(err => {\r\n\r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"Xảy ra lỗi trong quá trình cập nhật\"))\r\n              resolve(false)\r\n            })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n      nzCancelText: this.lang.translate(\"Cancel\")\r\n    })\r\n  }\r\n  /**\r\n   * Cập nhật đơn hàng từ trạng thái chờ giao\r\n   */\r\n  updateStatusOrderReadyToShop(order) {\r\n    this.modal.confirm({\r\n      nzTitle: this.lang.translate(\"Confirm\") + \"?\",\r\n      nzContent: this.lang.translate(\"Bạn đã sẵn sàng giao đơn này\") + \"?\",\r\n      nzOkText: 'OK',\r\n      nzOnOk: () => {\r\n        return new Promise((resolve, reject) => {\r\n          let array = []\r\n          order.order_items.forEach(item => array.push(item.order_item_id))\r\n          let tracking_number = order.order_items[0]?.tracking_code\r\n          this.vhQuerySales.setStatusReadyToShipLazada(array, tracking_number, this.infoShop.access_token).\r\n            then(res => {\r\n              if (res) {\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Đơn đã được chuyển sang trạng thái chờ giao hàng\"))\r\n                resolve(true)\r\n                order.statuses[0] = 'ready_to_ship'\r\n              }\r\n            }).catch(err => {\r\n\r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"Xảy ra lỗi trong quá trình cập nhật\"))\r\n              resolve(false)\r\n            })\r\n        })\r\n      },\r\n      nzOnCancel: () => { },\r\n      nzCancelText: this.lang.translate(\"Cancel\")\r\n    })\r\n  }\r\n\r\n  getGroupedItems(orderItems: any[]) {\r\n    const grouped = new Map<number, { sku_id: number; name: string; quantity: number }>();\r\n\r\n    for (let item of orderItems) {\r\n      if (grouped.has(item.sku_id)) {\r\n        grouped.get(item.sku_id)!.quantity += 1;\r\n      } else {\r\n        grouped.set(item.sku_id, {\r\n          sku_id: item.sku_id,\r\n          name: item.name,\r\n          quantity: 1\r\n        });\r\n      }\r\n    }\r\n\r\n    return Array.from(grouped.values());\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-lazada\">\r\n    <div nz-row nzGutter=\"4\" class=\"order-status-lazada-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title\">\r\n            <b>{{'Order status'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            {{'Shop name' | translate}}: <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [nzDisabledDate]=\"disabledDate\" nzFormat=\"dd/MM/yyyy\" [(ngModel)]=\"date\"\r\n                (ngModelChange)=\"changeTime($event)\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"order-status-lazada-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                <nz-tab *ngFor=\"let item of list_status_bill\" nzTitle=\"{{item.name | translate}} ({{orderCountByStatus[item.name]}})\"></nz-tab>\r\n                <nz-tab *ngIf=\"orderOthersCountByStatus > 0\" nzTitle=\"{{'Other' | translate}} ({{orderOthersCountByStatus}})\"></nz-tab>\r\n            </nz-tabset>\r\n            <nz-table *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Date' | translate}}</b></th>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Order number' | translate}}</b></th>\r\n                        <th><b>{{'Product' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Lazada' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" nzWidth=\"17%\"><b>{{\"Total\"| translate}}</b></th>\r\n                        <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Canceled reason\" | translate}}</b></th>\r\n                        <!-- <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Transporter\" | translate}}</b></th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"gotoDetail(bill)\" *ngFor=\"let bill of salesOrder_show.data,index as i\"\r\n                        style=\"cursor: pointer;\">\r\n                        <td nzLeft>\r\n                            {{bill.created_at | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td nzLeft> <a target=\"_blank\"\r\n                                href=\"https://sellercenter.lazada.vn/apps/order/detail?spm=a1zawf.20980230.order_table_{{i}}.1.77a14edf58FSge&tradeOrderId={{bill.order_id}}\">\r\n                                {{bill.order_id}} </a><i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.order_id)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i>\r\n\r\n                        </td>\r\n                        <td>\r\n                            <span style=\"font-size: 0.8rem;\" *ngFor=\"let item of getGroupedItems(bill.order_items)\">\r\n                                {{item.name}} (SL: {{item.quantity}})\r\n                                <br>\r\n                            </span>\r\n                        </td>\r\n                        <td>\r\n\r\n                            <div class=\"left-all-content\" *ngIf=\"bill.statuses[0] == 'pending'\">\r\n                                <button class=\"btn-confirm\" nz-button\r\n                                    (click)=\"$event.stopPropagation();updateStatusOrderPacked(bill)\">\r\n                                    {{'Tạo gói hàng'}}</button>\r\n                            </div>\r\n                            <div class=\"left-all-content\" *ngIf=\"bill.statuses[0] == 'packed'\">\r\n                                <button class=\"btn-confirm\" nz-button\r\n                                    (click)=\"$event.stopPropagation();updateStatusOrderReadyToShop(bill)\">\r\n                                    {{'Sẵn sàng giao'}}</button>\r\n                            </div>\r\n                            <span *ngIf=\"bill.statuses[0] != 'pending' && bill.statuses[0] != 'packed'\">\r\n                                <span *ngIf=\"bill.statuses.length<2;else multiStatus\">{{bill.statuses[0]|\r\n                                    translate}}</span>\r\n                                <ng-template #multiStatus>\r\n                                    <div><span style=\"color:var(--ion-color-vh-green);\">{{bill.deliveredProduct}}</span>\r\n                                        sp giao thành công</div>\r\n                                    <div><span style=\"color:var(--ion-color-vh-red);\">{{bill.canceledProduct}}</span> sp\r\n                                        giao thất bại</div>\r\n                                </ng-template>\r\n                            </span>\r\n                        </td>\r\n                        <td style=\"text-align: right;\"><b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b></td>\r\n                        <td style=\"text-align: center;\">{{bill.order_items[0]?.reason}}</td>\r\n                        <!-- <td style=\"text-align: left;\">{{bill.carrier_name}}</td> -->\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n            <ng-template #no_bill class=\"full-height\">\r\n                <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                    <div>{{'No data'| translate}}</div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{\"Please click the view button\"|\r\n                    translate}}</p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n</nz-layout>\r\n","import { DetailComponent } from './detail/detail.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrderStatusComponent } from './order-status.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrderStatusComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [OrderStatusComponent,DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class OrderStatusModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}