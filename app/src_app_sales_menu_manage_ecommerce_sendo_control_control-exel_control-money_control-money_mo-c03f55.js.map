{"version":3,"file":"src_app_sales_menu_manage_ecommerce_sendo_control_control-exel_control-money_control-money_mo-c03f55.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/sendo/control/control-exel/control-money/control-money.component.ts","./src/app/sales/menu/manage/ecommerce/sendo/control/control-exel/control-money/control-money.component.html","./src/app/sales/menu/manage/ecommerce/sendo/control/control-exel/control-money/control-money.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuerySales, VhAlgorithm, VhQuery, VhAuth } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-control-money',\r\n  templateUrl: './control-money.component.html',\r\n  styleUrls: ['./control-money.component.scss']\r\n})\r\nexport class ControlMoneyComponent implements OnInit {\r\n  nameFile: string = \"\";\r\n  listData: any[] = [];\r\n  listSearchData: any[] = [];\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  listOrderCode: any = [];\r\n  bill_selected: any = {};\r\n  totalRevenue = 0;\r\n  isUpdateManual = false\r\n  infoShop: any = {}\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    private router: Router,\r\n    private languageService: LanguageService,\r\n    private nzModalService: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery: VhQuery,\r\n    private vhAuth: VhAuth,\r\n    private modal: NzModalService,\r\n    private datePipe: DatePipe,\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.listOrderCode = [];\r\n    this.infoShop = this.vhQuerySales.getlocalShopListSendo()[0];\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#control-automation\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\"#control-automation-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#control-automation\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\"#control-automation-header\").clientHeight - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * tìm bill theo mã đơn\r\n   * @param value : bill-code \r\n   * @example this.search('060623A001')\r\n   */\r\n  search(value: string) {\r\n    if (!this.listData.length && value.length) {\r\n      this.isUpdateManual = true\r\n      this.totalRevenue = 0;\r\n      // this.vhQuerySales.Sendo\r\n      this.vhComponent.showLoading('').then(() => {\r\n        Promise.all([this.vhQuerySales.getSalesOrderSendo_fromViethas([value], this.infoShop._id),\r\n        this.vhQuerySales.getSalesOrderDetailSendo(value, this.infoShop.token, this.infoShop._id)])\r\n          .then((array: any) => {\r\n            this.vhComponent.hideLoading(0);\r\n            if (!array[1]) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Not found\"))\r\n            else {\r\n              this.listData = [{\r\n                ...array[1].sales_order, ...array[0][0],\r\n                date: this.format_date(new Date((array[1].sales_order.payment_status_date_time_stamp - 7 * 60 * 60) * 1000)),\r\n                bill_code: value, amount: array[1].sales_order.total_amount,\r\n                name_control_cashflow: array[0][0].verify_status_payment ? `${this.vhAuth.getlocalEmployee(array[0][0].id_verifier_payment).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(array[0][0].verify_date_payment)}` : '',\r\n              }];\r\n              this.totalRevenue = array[1].sales_order.total_amount\r\n            }\r\n          }, error => {\r\n            this.vhComponent.hideLoading(0);\r\n          })\r\n      })\r\n    }\r\n    else {\r\n      if (value.length)\r\n        this.listData = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.listSearchData, ['bill_code']);\r\n      else this.listData = this.listSearchData\r\n      \r\n    }\r\n  }\r\n\r\n  /**Chọn file */\r\n  openFile() {\r\n    document.getElementById(\"file_excel_product\")['value'] = '';\r\n    document.getElementById(\"file_excel_product\").click();\r\n\r\n  }\r\n  /**Mở CSVFile */\r\n  openXLSXFile(events) {\r\n    this.isUpdateManual = false;\r\n    this.totalRevenue = 0;\r\n    if (events.target.files[0]) {\r\n      // lưu tên file \r\n      this.nameFile = events.target.files[0]['name'].slice(0, events.target.files[0]['name'].lastIndexOf(\".\"))\r\n\r\n      this.vhAlgorithm.importXLSX(events.target.files[0]).then((data: any) => {\r\n        if (data.length > 200) { // nếu hơn 200 thì báo\r\n          this.vhComponent.alertMessage(\"\", this.languageService.translate(\"Only 200 order can be imported at a time\"), \"\", \"OK\").then(() => {\r\n            this.listData = []\r\n          })\r\n        } else {\r\n          this.listData = []\r\n          let datas = []\r\n          if (data.length) {\r\n            // nếu không có 1 trong 2 trường này thì file đó sai định dạng\r\n            if (!data[0]['Amount'] || !data[0]['Transaction Description']) {\r\n              this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Fail file format\"))\r\n              this.listData = [];\r\n            }\r\n            else // nếu có đủ 2 trường thì push vào mảng tạm để xữ lý\r\n              this.vhComponent.showLoading(\"\").then(() => {\r\n                data.forEach((item, index) => {\r\n                  // xử lý bỏ dấu , ở trường amount nếu nó là chuỗi\r\n                  datas.push({\r\n                    amount: item['Amount'] ? item['Amount'].toString().replace(',', '') : 0,\r\n                    description: item['Transaction Description'], bill_code: '', date: item['Date']\r\n                  })\r\n                  if (index == data.length - 1) { // push tới dòng cuối thì xử lý lấy order_number từ trường descripton\r\n                    // this.vhComponent.hideLoading(0)\r\n                    this.checkModelChange(datas);\r\n\r\n                  }\r\n                })\r\n                // datas mảng inport từ file exel\r\n                // listdata mảng show ra html\r\n                // get OrderSale từ database viethas bằng list ordercode từ file excel đã qua xữ lý\r\n                this.vhQuerySales.getSalesOrderSendo_fromViethas(this.listOrderCode, this.infoShop._id)\r\n                  .then((array: any) => {\r\n                    \r\n\r\n                    this.vhComponent.hideLoading(0);\r\n                    if (!array[0]) { // nếu get về bằng null thì set trạng thái = false nhưng vẫn show danh sách đã import\r\n                      datas.forEach(item => {\r\n                        item.verify_status_payment = false;\r\n                        if (item.bill_code) this.totalRevenue += parseFloat(item.amount)\r\n                      });\r\n                    }\r\n                    else { // ngược lại gán ngày và kiểm tra đã đối soát hay chưa\r\n                      for (let i in array) {\r\n                        if (array[i]) {\r\n                          datas[datas.findIndex(item => item.bill_code == array[i]._id)].name_control_cashflow = array[i].verify_status_payment ? `${this.vhAuth.getlocalEmployee(array[i].id_verifier_payment).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(array[i].verify_date_payment)}` : '';\r\n                          datas[datas.findIndex(item => item.bill_code == array[i]._id)].order_date_time_stamp = array[i].order_date_time_stamp ? array[i].order_date_time_stamp : '';\r\n                          datas[datas.findIndex(item => item.bill_code == array[i]._id)].verify_status_payment = array[i].verify_status_payment ? array[i].verify_status_payment : false;\r\n                        }\r\n                      }\r\n                      // tính doanh thu\r\n                      datas.forEach(item => {\r\n                        if (item.bill_code) this.totalRevenue += parseFloat(item.amount)\r\n                      });\r\n                    }\r\n                    this.listData = datas; // show ra html\r\n                    this.listSearchData = this.listData\r\n                  }, error => {\r\n                    this.vhComponent.hideLoading(0)\r\n                  }).catch(err => this.vhComponent.hideLoading(0))\r\n              })\r\n          }\r\n        }\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0)\r\n        this.listData = [];\r\n        this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Fail file format\"))\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n   \r\n  /**\r\n   *  xử lý loại bỏ mã đơn hàng trùng trong mảng\r\n   * @param data \r\n   * @example this.checkModelChange([])\r\n   */\r\n  checkModelChange(data) {\r\n    let regex = /\\s[a-zA-Z0-9]{10,}\\s/;\r\n    data.forEach((list) => {\r\n      list['bill_code'] = (list['description'].match(regex) == null ? '' : list['description'].match(regex)[0].trim())\r\n      if (list['bill_code']) this.listOrderCode.push(list['bill_code'])\r\n    })\r\n  }\r\n\r\n  /**Render date theo định dạng ngày/tháng/năm\r\n   *  @example let date = this.format_date(new Date()) // output : '06/06/2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd/MM/yyyy HH:mm\")\r\n  }\r\n\r\n  /**\r\n   * đối soát tự động\r\n   * @example this.startAuto()\r\n   */\r\n  startAuto() {\r\n    this.modal.confirm({\r\n      nzTitle: '<i>' + this.languageService.translate('Confirm to control') + '</i>',\r\n      nzOnOk: () => {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          let list_order_code_update = this.listData.filter(item => !item.verify_status_payment && item.bill_code).map(i => { return i.bill_code })\r\n          \r\n          if (list_order_code_update.length)\r\n            this.vhQuerySales.updateSalesOrderSendo_byFile(list_order_code_update, {\r\n              verify_status_payment: true,\r\n              verify_date_payment: new Date().toISOString(),\r\n              id_verifier_payment: this.vhAuth.getUser()._id,\r\n\r\n            }, this.infoShop.token, this.infoShop._id)\r\n              .then((res: any) => {\r\n                \r\n                // \r\n                if (res.filter(item => !item).length == res.length) this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\"))\r\n                // xữ lý hiện checkbox  \r\n                else {\r\n                  for (let i in res) {\r\n                    if (!res[i]) this.listData[this.listData.findIndex(item => item.bill_code == list_order_code_update[i])].verify_status_payment = false;\r\n                    else {\r\n                      this.listData[this.listData.findIndex(item => item.bill_code == list_order_code_update[i])].verify_status_payment = true;\r\n                      this.listData[this.listData.findIndex(item => item.bill_code == list_order_code_update[i])].name_control_cashflow = `${this.vhAuth.getUser().name} ${this.languageService.translate(\"has checked\")} ${this.format_date(new Date())}`\r\n                    }\r\n                  }\r\n                }\r\n                this.vhComponent.hideLoading(0);\r\n              }, error => {\r\n                this.vhComponent.hideLoading(0)\r\n              })\r\n          else this.vhComponent.hideLoading(0);\r\n        })\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * đối soát thủ công -\r\n  * hàm này để cập nhật đơn hàng lưu vào database của mình\r\n  * @param bill \r\n  * @param updateForControl : template modal xác nhận đối soát \r\n  * @example this.updateRefund(bill, updateForControl: TemplateRef<{}>) \r\n  */\r\n  updateRefund(bill, updateForControl: TemplateRef<{}>) {\r\n    if (bill['verify_status_payment']) { // nếu update từ false trang true\r\n      this.bill_selected = bill; // gán bill\r\n      this.bill_selected['verify_date_payment'] = new Date().toISOString(); // gán ngày update là ngày hôm nay\r\n      this.modal.confirm({ // show modal xác nhận\r\n        nzTitle: this.languageService.translate(\"Check this order\"),\r\n        nzContent: updateForControl,\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => { // chọn ok \r\n          return new Promise((resolve, reject) => {\r\n            let value: any = {} // giá trị các trường sẽ update\r\n            value['verify_status_payment'] = true\r\n            value['verify_date_payment'] = this.bill_selected['verify_date_payment']\r\n            value['id_verifier_payment'] = this.vhAuth.getUser()._id;\r\n            // hàm update\r\n            this.vhQuerySales.updateSalesOrderSendo_byFile([bill.bill_code], value, this.infoShop.token, this.infoShop._id).then((bool) => {\r\n              // \r\n\r\n              if (bool[0]) { // nếu update thành công thì gán tên nhân viên khi hover checkbox\r\n                bill['name_control_cashflow'] = `${this.vhAuth.getlocalEmployee(value['id_verifier_payment']).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(value['verify_date_payment'])}`\r\n                resolve(true) // ẩn  modal\r\n              } else { this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); resolve(false) }\r\n            },\r\n              error => {\r\n                console.error(error); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false)\r\n              }).catch(err => { console.error(err); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false) })\r\n          })\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_payment'] = false },\r\n        nzCancelText: this.languageService.translate(\"Cancel\")\r\n      })\r\n    } else {\r\n      this.modal.confirm({\r\n        nzTitle: this.languageService.translate(\"Confirm\") + \"?\",\r\n        nzContent: this.languageService.translate(\"Cancel check this order\"),\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => {\r\n          return new Promise((resolve, reject) => {\r\n            this.vhQuerySales.updateSalesOrderSendo_byFile([bill.bill_code], { verify_status_payment: false, id_employee_control_cashflow: this.vhAuth.getUser()._id }, this.infoShop.token, this.infoShop._id).then((bool) => {\r\n              // \r\n              if (bool[0]) {\r\n                resolve(true)\r\n              } else { this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); resolve(false) }\r\n            },\r\n              error => {\r\n                console.error(error); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false)\r\n              }).catch(err => { console.error(err); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false) })\r\n          })\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_payment'] = true },\r\n        nzCancelText: this.languageService.translate(\"Cancel\")\r\n      })\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/sendo/control/control-exel'], {\r\n      state: { dataRestore: { ...this.dataRestore } }\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back'|translate}}\r\n</div>\r\n<nz-layout id=\"control-automation\">\r\n    <div nz-row style=\"padding-bottom: 16px;z-index: 99;\" id=\"control-automation-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title left-all-content\">\r\n            <b>{{ 'Money control' |translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"left-all-content\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input #box type=\"text\" (keyup.enter)=\"search(box.value)\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i style=\"cursor: pointer;\" (click)=\"search(box.value)\" nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\"openFile()\" class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"upload\" nzTheme=\"outline\"></i>\r\n                    {{'Import file'|translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button (click)=\"startAuto()\" [disabled]=\"!listData.length ||  isUpdateManual\"\r\n                    class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"retweet\" nzTheme=\"outline\"></i>\r\n                    {{'Confirm to control'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <nz-table [nzScroll]=\"{  y: heightScroll }\" #salesOrder_show nzShowPagination nzShowSizeChanger [nzData]=\"listData\"\r\n        [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzWidth=\"5%\"><b>{{\"No.\" | translate}}</b></th>\r\n                <!-- <th nzLeft nzWidth=\"15%\"><b>{{'Order day' | translate}}</b></th> -->\r\n                <th nzLeft nzWidth=\"15%\"><b>{{'Payment date' | translate}}</b></th>\r\n                <th nzWidth=\"15%\"><b>{{\"Order number\"| translate}}</b></th>\r\n                <th nzWidth=\"30%\"><b>{{\"_description\"| translate}}</b></th>\r\n                <th nzWidth=\"20%\" class=\"text-end\"><b>{{\"_amount\"| translate}}</b></th>\r\n                <th nzWidth=\"15%\" style=\"text-align: center;\"><b>{{\"For control\"| translate}}</b></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr>\r\n                <td nzLeft nzWidth=\"14%\"></td>\r\n                <td nzLeft nzWidth=\"14%\" class=\"color_green\"><b>{{'Revenue' | translate}}</b></td>\r\n                <td nzWidth=\"18%\"></td>\r\n                <td nzAlign=\"right\" nzWidth=\"14%\"></td>\r\n                <td nzAlign=\"right\" class=\"color_green\" nzWidth=\"15%\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(totalRevenue)}}</b>\r\n                </td>\r\n                <td nzWidth=\"11%\" nzAlign=\"center\"></td>\r\n                <td nzWidth=\"14%\" nzAlign=\"center\"></td>\r\n            </tr>\r\n            <ng-container *ngFor=\"let form of salesOrder_show.data ; let i = index\">\r\n                <tr *ngIf=\"form.bill_code\">\r\n                    <td nzWidth=\"5%\">{{i+ 1}}</td>\r\n                    <!-- <td nzWidth=\"15%\">{{form['order_date_time_stamp'] | date:\"dd/MM/yyyy HH:mm\"}}</td> -->\r\n                    <td nzWidth=\"15%\">{{form['date']}}</td>\r\n                    <td nzWidth=\"15%\">\r\n                        {{form['bill_code']}} <i\r\n                            (click)=\"$event.stopPropagation();vhComponent.copyValue(form.bill_code)\" nz-icon\r\n                            nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                    </td>\r\n\r\n                    <td nzWidth=\"30%\">\r\n                        {{form['description']}}\r\n                    </td>\r\n                    <td nzWidth=\"20%\" class=\"text-end\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(form['amount'])}}</b>\r\n                    </td>\r\n                    <td nzWidth=\"15%\" nzAlign=\"center\">\r\n                        <label *ngIf=\" form['bill_code']\" [(ngModel)]=\"form['verify_status_payment']\" nz-button\r\n                            nz-checkbox (ngModelChange)=\"updateRefund(form,updateForControl)\"\r\n                            [nzTooltipPlacement]=\"'left'\" [nzTooltipColor]=\"'var(--ion-color-vh-green)'\"\r\n                            [nzTooltipTitle]=\"form['verify_status_payment'] ? form.name_control_cashflow: ''\"\r\n                            nzTooltipPlacement=\"top\" nz-button nz-tooltip nz-checkbox>\r\n                        </label>\r\n                    </td>\r\n                </tr>\r\n            </ng-container>\r\n\r\n        </tbody>\r\n    </nz-table>\r\n    <ng-template #updateForControl let-params>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <span>{{\"Date\"| translate}}: </span>\r\n                <nz-date-picker nzFormat=\"dd/MM/yyyy\" style=\"margin-left:20px\"\r\n                    [(ngModel)]=\"bill_selected.verify_date_payment\">\r\n                </nz-date-picker>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-layout>\r\n<input type=\"file\" style=\"display: none;\" id=\"file_excel_product\"\r\n    accept=\".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n    (change)=\"openXLSXFile($event)\" />","import { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ControlMoneyComponent } from './control-money.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ControlMoneyComponent\r\n  }, \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ControlMoneyComponent\r\n  ],\r\n  imports: [ \r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ControlMoneyModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}