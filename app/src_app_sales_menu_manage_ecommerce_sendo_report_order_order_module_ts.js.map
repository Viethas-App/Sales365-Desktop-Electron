{"version":3,"file":"src_app_sales_menu_manage_ecommerce_sendo_report_order_order_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/sendo/report/order/order.component.ts","./src/app/sales/menu/manage/ecommerce/sendo/report/order/order.component.html","./src/app/sales/menu/manage/ecommerce/sendo/report/order/order.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-order',\r\n  templateUrl: './order.component.html',\r\n  styleUrls: ['./order.component.scss']\r\n})\r\nexport class OrderComponent implements OnInit {\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  list_status_bill: Array<any> = [\"All\", \"Paid\", \"Unpaid\", \"Lost\"]\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  public date: Date[] = [new Date(), new Date()];\r\n  load_status: boolean = false;\r\n  indexSegment: number = 0;\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < this.minDate.getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  minDate: Date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 30)\r\n  infoShop: any = {}\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.infoShop = this.vhQuerySales.getlocalShopListSendo()[0];\r\n    this.changeShop(this.infoShop._id)\r\n    this.getMinDate()\r\n  }\r\n  /** \r\n   * Lấy ngày giới hạn được xem báo cáo\r\n  */\r\n  getMinDate() {\r\n    let date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 61)\r\n    this.vhQuerySales.getValidityDate(date).then((validitydate: Date) => {\r\n      this.minDate = validitydate\r\n    })\r\n  }\r\n  /**Tìm kiếm hóa đơn */\r\n  search(value: string) {\r\n    this.searchValue = value;\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.salesOrder = this.vhAlgorithm.searchList(val, this.salesSubOrder, ['order_number'])\r\n    } else this.salesOrder = [...this.salesSubOrder]\r\n  }\r\n  /**Thay đổi segment tất cả, chờ xác nhận... */\r\n  segmentChanged(event) {\r\n    \r\n    this.indexSegment = event\r\n    switch (event) {\r\n      case 0: this.salesOrder = this.salesSubOrder; break;\r\n      case 1: this.salesOrder = this.salesSubOrder.filter(item => item.order_status == 8 && item.verify_status_payment); break; // .order_status == 8 : đã hoàn tất  và đã đối soát\r\n      case 2: this.salesOrder = this.salesSubOrder.filter(item => item.order_status == 8 && !item.verify_status_payment); break;// .order_status == 8 : đã hoàn tất  và chưa đối soát\r\n      case 3: this.salesOrder = this.salesSubOrder.filter(item => item.order_status == 10 && !item.verify_status_received_goods); break;// .order_status == 13 : đã hủy và chưa đối soát\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/sendo/report'])\r\n  }\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + 2678313600)]\r\n    }\r\n  }\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    this.salesSubOrder = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getSalesOrderDetailListSendo(new Date(this.date[0].setHours(0, 0, 0)).toISOString(), new Date(this.date[1].setHours(23, 59, 59, 59)).toISOString(), this.infoShop.token, this.infoShop._id).then((result: any) => {\r\n        this.vhComponent.hideLoading(0)\r\n        result.forEach(item => {\r\n          if ([8, 10].includes(item.sales_order.order_status))\r\n            this.salesOrder.push({\r\n              ...item.sales_order, sku_details: item.sku_details,\r\n              created_date_time_stamp: new Date((item.sales_order.created_date_time_stamp - 7 * 60 * 60) * 1000),\r\n              id_shop: this.infoShop._id,\r\n              status_on_sendo: this.renderStatus(item.sales_order.order_status, item.sales_order.payment_status)\r\n            })\r\n        })\r\n        this.salesSubOrder = this.salesOrder;\r\n        \r\n        this.segmentChanged(this.indexSegment);\r\n\r\n      }).catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n  changeShop(event) {\r\n    this.salesOrder = [];\r\n    this.salesSubOrder = [];\r\n  }\r\n  renderStatus(order_status, payment_status?) {\r\n    if (order_status == 8 && payment_status == 4) { return \"Paid\" }\r\n    else if (order_status == 8 && payment_status == 1) { return \"Unpaid\" }\r\n    else { return \"Lost\" }\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-sendo\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".order-status-sendo-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-sendo\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".order-status-sendo-header\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-sendo\"))\r\n      this.widthScroll = document.getElementById(\"order-status-sendo\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-sendo\">\r\n    <div nz-row nzGutter=\"4\" class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title\">\r\n            <b>{{'Order'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [nzDisabledDate]=\"disabledDate\" nzFormat=\"dd/MM/yyyy\" [(ngModel)]=\"date\"\r\n                (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"order-status-sendo-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-tabset [nzSelectedIndex]=\"indexSegment\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                <nz-tab *ngFor=\"let item of list_status_bill\" nzTitle=\"{{item | translate}}\">\r\n                </nz-tab>\r\n            </nz-tabset>\r\n            <nz-table *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Date' | translate}}</b></th>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Order number' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Sendo' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" nzWidth=\"17%\"><b>{{\"Total\"| translate}}</b></th>\r\n                        <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Canceled reason\" | translate}}</b></th>\r\n                        <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Transporter\" | translate}}</b>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let bill of salesOrder_show.data\" style=\"cursor: pointer;\">\r\n                        <td nzLeft>\r\n                            {{bill.created_date_time_stamp | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td nzLeft>\r\n                            {{bill.order_number}} <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.order_number)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                        </td>\r\n                        <td>{{ bill.status_on_sendo | translate}}</td>\r\n                        <td style=\"text-align: right;\"><b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b></td>\r\n                        <td style=\"text-align: left;\">{{bill.reason_cancel}}</td>\r\n                        <td style=\"text-align: left;\">{{bill.carrier_name}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n\r\n        </div>\r\n    </div>\r\n    <ng-template #no_bill class=\"full-height\">\r\n        <div *ngIf=\"load_status\" nz-col nzSpan=\"24\" style=\"height: 60vh;\" class=\"center-all-content\">\r\n            <div>{{'No data'| translate}}</div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{\"Please click the view button\"| translate}}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n</nz-layout>","import { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrderComponent } from './order.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrderComponent,\r\n  }, \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OrderComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class OrderModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}