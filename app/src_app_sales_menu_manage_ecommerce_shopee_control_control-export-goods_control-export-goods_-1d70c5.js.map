{"version":3,"file":"src_app_sales_menu_manage_ecommerce_shopee_control_control-export-goods_control-export-goods_-1d70c5.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/shopee/control/control-export-goods/control-export-goods.component.html","./src/app/sales/menu/manage/ecommerce/shopee/control/control-export-goods/control-export-goods.component.ts","./src/app/sales/menu/manage/ecommerce/shopee/control/control-export-goods/control-export-goods.module.ts","./src/app/sales/menu/manage/ecommerce/shopee/control/control-export-goods/detail/detail.component.html","./src/app/sales/menu/manage/ecommerce/shopee/control/control-export-goods/detail/detail.component.ts"],"sourcesContent":["<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n\r\n<nz-layout id=\"control-export-goods\">\r\n    <div nz-row nzGutter=\"4\" class=\"control-export-goods-header\">\r\n        <!-- Tiêu đề và tên shop -->\r\n        <div nz-col nzSpan=\"8\" class=\"title\">\r\n            <b>{{'Delivery control' | translate}}</b><br>\r\n            {{'Shop name' | translate}}: <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <!-- Ô tìm kiếm -->\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input \r\n                    [(ngModel)]=\"searchValue\" \r\n                    (ngModelChange)=\"search($event)\"\r\n                    [placeholder]=\"'Search for order code' | translate\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <!-- Ô chọn ngày -->\r\n        <div nz-col nzSpan=\"6\">\r\n            <nz-range-picker nzFormat='dd/MM/yyyy' [nzDisabledDate]=\"disabledDate\" nzFormat=\"dd/MM/yyyy\"\r\n                [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <!-- Nút xem và đối soát -->\r\n        <div nz-col nzSpan=\"4\" class=\"right-all-content\">\r\n            <button style=\"margin-right: 10px;\" class=\"btn-view center-all-content\" nz-button nzType=\"default\"\r\n                (click)=\"showReport()\">\r\n                <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                {{'View' | translate}}\r\n            </button>\r\n            <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"controlAll()\">\r\n                <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                {{'Control' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"control-export-goods-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <!-- Danh sách tab trạng thái hóa đơn -->\r\n            <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                <nz-tab *ngFor=\"let item of list_status_bill\" nzTitle=\"{{item.name | translate}} ({{orderCountByStatus[item.name]}})\"></nz-tab>\r\n                <nz-tab *ngIf=\"orderOthersCountByStatus > 0\" nzTitle=\"{{'Other' | translate}} ({{orderOthersCountByStatus}})\"></nz-tab>\r\n            </nz-tabset>\r\n\r\n            <!-- Table -->\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><b>{{'Date' | translate}}</b></th>\r\n                        <th><b>{{'Order number' | translate}}</b></th>\r\n                        <th><b>{{'Product' | translate}}</b></th>\r\n\r\n                        <th><b>{{\"Status\" | translate}} </b> </th>\r\n                        <th nzAlign=\"right\"><b>{{\"Total\"| translate}}</b>\r\n                            <i nz-icon nzType=\"info-circle\" nzTheme=\"outline\"\r\n                                nzTooltipTitle=\"{{'Other fees are not included' | translate}}\"\r\n                                nzTooltipPlacement=\"bottom\" nz-button nz-tooltip></i>\r\n                        </th>\r\n                        <!-- <th nzAlign=\"center\"  ><b>{{\"Đối soát thủ công\" | translate}}</b></th> -->\r\n                        <th nzAlign=\"center\" [(nzChecked)]=\"allChecked\" [nzIndeterminate]=\"indeterminate\"\r\n                            (nzCheckedChange)=\"checkAll($event)\"><b>({{countSelectedBill}}) {{\"Đối soát nhanh\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr (click)=\"gotoDetail(bill)\" *ngFor=\"let bill of salesOrder_show.data,index as i\"\r\n                        style=\"cursor: pointer;\">\r\n                        <td>\r\n                            {{bill.create_at | date:\"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td nzLeft> {{bill.order_sn}} <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.order_sn)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                        </td>\r\n                        <td><span style=\"font-size: 0.8rem;\" *ngFor=\"let item of bill.item_list\">{{item.item_name}}\r\n                                (SL :{{item.model_quantity_purchased}}) <br></span></td>\r\n                        <td><span>{{bill.order_status | translate}}</span></td>\r\n                        <td nzAlign=\"right\"><b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b></td>\r\n                        <!-- <td nzAlign=\"center\" (click)=\"$event.stopPropagation();\"  [(nzChecked)]=\"bill.verify_status_delivered_goods\"\r\n            (nzCheckedChange)=\"refreshStatus()\">\r\n                            <label [(ngModel)]=\"bill.verify_status_delivered_goods\"\r\n                                (ngModelChange)=\" updateControlGoods(bill,updateForControl)\"\r\n                                [nzTooltipPlacement]=\"'left'\" [nzTooltipColor]=\"'var(--ion-color-vh-green)'\"\r\n                                [nzTooltipTitle]=\"bill.verify_status_delivered_goods ? bill.name_control_goods: ''\"\r\n                                nzTooltipPlacement=\"top\" nz-button nz-tooltip nz-checkbox>\r\n                            </label>\r\n                        </td> -->\r\n                        <td nzAlign=\"center\" (click)=\"$event.stopPropagation();\">\r\n                            <label [(ngModel)]=\"bill.verify_status_delivered_goods\" (ngModelChange)=\" refreshStatus\"\r\n                                [nzTooltipPlacement]=\"'left'\" [nzTooltipColor]=\"'var(--ion-color-vh-green)'\"\r\n                                [nzTooltipTitle]=\"bill.verify_status_delivered_goods ? bill.name_control_goods: ''\"\r\n                                nzTooltipPlacement=\"top\" nz-button nz-tooltip nz-checkbox>\r\n                            </label>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table> \r\n        </div>\r\n    </div>\r\n\r\n    <!-- Không có dữ liệu -->\r\n    <ng-template #no_bill class=\"full-height\">\r\n        <div *ngIf=\"load_status\" nz-col nzSpan=\"24\" style=\"height: 60vh;\" class=\"center-all-content\">\r\n            <div>{{'No data' | translate}}</div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{'Please click the view button' | translate}}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template #updateForControl let-params>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <span>{{'Date' |  translate}}: </span>\r\n                <nz-date-picker nzFormat=\"dd/MM/yyyy\" style=\"margin-left:20px\"\r\n                    [(ngModel)]=\"bill_selected.verify_date_delivered_goods\">\r\n                </nz-date-picker>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhEcommerce, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-control-export-goods',\r\n  templateUrl: './control-export-goods.component.html',\r\n  styleUrls: ['./control-export-goods.component.scss']\r\n})\r\nexport class ControlExportGoodsComponent implements OnInit {\r\n\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  heightScroll: any;\r\n  public date: Date[] = [new Date(), new Date()];\r\n  load_status: boolean = false;\r\n  dataRestore: any;\r\n  bill_selected: any = {}\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < this.minDate.getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  minDate: Date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 30)\r\n  infoShop: any = {}\r\n  /** Tab đang được chọn */\r\n  selectedIndex: number = 0;\r\n  /** Danh sách trạng thái hóa đơn */\r\n  list_status_bill: Array<any> = [\r\n    { name: \"All\", value: \"ALL\" },\r\n    { name: \"Wait for confirmation\", value: \"UNPAID\" },\r\n    { name: \"Chờ lấy hàng\", value: \"READY_TO_SHIP\", value2: \"PROCESSED\" },\r\n    { name: \"Shipping\", value: \"SHIPPED\", value2: \"RETRY_SHIP\" },\r\n    { name: \"Delivered\", value: \"TO_CONFIRM_RECEIVE\" },\r\n    { name: \"Hoàn tất\", value: \"COMPLETED\" },\r\n    { name: \"Đã hủy\", value: \"IN_CANCEL\", value2: \"CANCELLED\" },\r\n    { name: \"Trả hàng\", value: \"TO_RETURN\" },\r\n  ];\r\n  // UNPAID, READY_TO_SHIP, PROCESSED, SHIPPED, TO_CONFIRM_RECEIVE, COMPLETED, RETRY_SHIP, IN_CANCEL, CANCELLED, TO_RETURN\r\n\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhEcommerce: VhEcommerce,\r\n    private cdRef: ChangeDetectorRef,\r\n    private modal: NzModalService,\r\n    private vhAuth: VhAuth,\r\n    private datePipe: DatePipe,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhQuery: VhQuery\r\n  ) {\r\n    // this.date[0].setHours(0, 0, 0, 0)\r\n    // this.date[1].setHours(23, 59, 59, 59)\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.dataRestore.id_shop_selected) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.salesOrder = this.dataRestore.salesOrder\r\n      this.salesSubOrder = this.dataRestore.salesSubOrder\r\n      this.countOrderByStatus(this.salesOrder);\r\n      this.load_status = true;\r\n      this.date = this.dataRestore.date;\r\n    }\r\n    this.infoShop = this.vhEcommerce.getlocalShopListShopee()[0];\r\n    this.getMinDate()\r\n  }\r\n\r\n  /**\r\n   * Lấy ngày giới hạn được xem báo cáo\r\n  */\r\n  getMinDate() {\r\n    let date = new Date(Date.now() - 24 * 60 * 60 * 1000 * 100)\r\n    this.vhQuerySales.getValidityDate(date).then((validitydate: Date) => {\r\n      this.minDate = validitydate\r\n      if ((this.minDate.getTime()) < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n        this.disabledDate = (current: Date): boolean => {\r\n          if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n          return false\r\n        }\r\n      }\r\n    })\r\n  }\r\n  /**Tìm kiếm hóa đơn */\r\n  search(value: string) {\r\n    if (value?.length) {\r\n      this.segmentChanged(this.selectedIndex);\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.salesOrder = this.vhAlgorithm.searchList(val, this.salesSubOrder, ['order_sn'])\r\n    } else this.salesOrder = [...this.salesSubOrder]\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/shopee/control'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [event[0], event[0].getTime() + 2678400000]\r\n    }\r\n  }\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    this.salesSubOrder = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhEcommerce.getSalesOrderListShopee(new Date(this.datePipe.transform(new Date(this.date[0].setHours(0, 0, 0)), \"yyyy-MM-dd HH:mm:ss\").toString()), new Date(this.datePipe.transform(new Date(this.date[1].setHours(23, 59, 59)), \"yyyy-MM-dd HH:mm:ss\").toString()), this.infoShop.access_token.toString(), this.infoShop._id.toString())\r\n        .then((result: any) => {\r\n\r\n          this.salesOrder = result.map(item => {\r\n            return {\r\n              ...item, create_at: new Date(item.create_time * 1000),\r\n              id_shop: this.infoShop._id,\r\n              verify_status_delivered_goods: item.verify_status_delivered_goods ? true : false,\r\n              name_control_goods: item.verify_status_delivered_goods ? `${this.vhAuth.getlocalEmployee(item.id_verifier_delivered_goods).name} ${this.lang.translate(\"has checked\")} ${this.format_date(item.verify_date_delivered_goods)}` : null\r\n            }\r\n          })\r\n\r\n          this.salesSubOrder = this.salesOrder;\r\n          this.countOrderByStatus(this.salesOrder);\r\n          this.segmentChanged(this.selectedIndex);\r\n          this.vhComponent.hideLoading(0);\r\n        }\r\n          , (error => this.vhComponent.hideLoading(0))).catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  changeShop(event) {\r\n    this.salesOrder = []\r\n    this.salesSubOrder = []\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#control-export-goods\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".control-export-goods-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#control-export-goods\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".control-export-goods-header\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 90 + \"px\";\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * hàm này để cập nhật đơn hàng lưu vào database của mình\r\n   * @param bill\r\n   * @param data\r\n   */\r\n  updateControlGoods(bill, updateForControl: TemplateRef<{}>) {\r\n    if (bill['verify_status_delivered_goods']) {\r\n      this.bill_selected = bill;\r\n      this.bill_selected['verify_date_delivered_goods'] = new Date().toISOString();\r\n      this.modal.confirm({\r\n        nzTitle: this.lang.translate(\"Check this order\"),\r\n        nzContent: updateForControl,\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => {\r\n          return new Promise((resolve, reject) => {\r\n            let value: any = {}\r\n            value['verify_status_delivered_goods'] = true\r\n            value['verify_date_delivered_goods'] = this.bill_selected['verify_date_delivered_goods']\r\n            value['id_verifier_delivered_goods'] = this.vhAuth.getUser()._id;\r\n            this.vhEcommerce.updateSalesOrderShopee_byFile([bill.order_sn.toString()], value, this.infoShop.access_token, this.infoShop._id).then((bool) => {\r\n              if (bool) {\r\n                bill[`name_control_goods`] = `${this.vhAuth.getlocalEmployee(value['id_verifier_delivered_goods']).name} đã đối soát ${this.format_date(value['verify_date_delivered_goods'])}`\r\n                resolve(true)\r\n              } else reject(false)\r\n            }).catch(err => { console.error(err); reject(false) })\r\n          })\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_delivered_goods'] = false },\r\n        nzCancelText: this.lang.translate(\"Cancel\")\r\n      })\r\n    } else {\r\n      this.modal.confirm({\r\n        nzTitle: this.lang.translate(\"Confirm\") + \"?\",\r\n        nzContent: this.lang.translate(\"Cancel check this order\"),\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => {\r\n          return new Promise((resolve, reject) => {\r\n            let value: any = {}\r\n            value['verify_status_delivered_goods'] = false\r\n            this.vhEcommerce.updateSalesOrderShopee_byFile([bill.order_sn.toString()], value, this.infoShop.access_token, this.infoShop._id).then(res => {\r\n              if (res) resolve(true)\r\n              else reject(false)\r\n            })\r\n          })\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_delivered_goods'] = true },\r\n        nzCancelText: this.lang.translate(\"Cancel\")\r\n      })\r\n    }\r\n  }\r\n\r\n  /**Render date theo định dạng ngày/tháng/năm */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd/MM/yyyy\")\r\n  }\r\n\r\n  gotoDetail(bill) {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/shopee/control/export-goods/detail'], { state: { bill: bill, dataRestore: { salesOrder: this.salesOrder, searchValue: this.searchValue, id_shop_selected: this.infoShop._id, listProduct: this.dataRestore.listProduct, date: this.date, salesSubOrder: this.salesSubOrder } } })\r\n  }\r\n\r\n\r\n  allChecked = false;\r\n  indeterminate = false;\r\n\r\n\r\n\r\n  /**\r\n   * Check tất cả\r\n   * @param value\r\n   */\r\n  checkAll(value: boolean): void {\r\n    this.salesOrder.forEach(data => {\r\n      if (!data.disabled) {\r\n        data.verify_status_delivered_goods = value;\r\n      }\r\n    });\r\n    this.refreshStatus();\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Check 1 cái\r\n   */\r\n  refreshStatus(): void {\r\n    const validData = this.salesOrder.filter(value => !value.disabled);\r\n    const allChecked = validData.length > 0 && validData.every(value => value.verify_status_delivered_goods === true);\r\n    const allUnChecked = validData.every(value => !value.verify_status_delivered_goods);\r\n    this.allChecked = allChecked;\r\n    this.indeterminate = !allChecked && !allUnChecked;\r\n  }\r\n\r\n\r\n  /**\r\n   * Khi nhấn nút gửi\r\n   */\r\n  async controlAll() {\r\n\r\n    let bills = this.salesOrder.filter((data: any) => data.verify_status_delivered_goods);\r\n    const batchSize = 5;\r\n    const totalBatches = Math.ceil(bills.length / batchSize);\r\n    if (!bills.length) {\r\n      this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"Please select at least one invoice\"));\r\n      return;\r\n\r\n    }\r\n    await this.vhComponent.showLoadingNotDuration(this.lang.translate(\"Sending...\"));\r\n    for (let i = 0; i < bills.length; i += batchSize) {\r\n      // tạo mỗi lần 5 request gửi hóa đơn\r\n      const batch = bills.slice(i, i + batchSize);\r\n      const currentBatchIndex = Math.floor(i / batchSize) + 1;\r\n      const promises = batch.map(bill => {\r\n        return this.updateControl(bill);\r\n\r\n\r\n      });\r\n\r\n      try {\r\n        const results = await this.vhQuery.asyncPromiseAll(promises);\r\n        console.log(`Batch ${i / batchSize + 1}:`, results);\r\n        if (currentBatchIndex == totalBatches) {\r\n          this.vhComponent.hideLoading();\r\n\r\n        }\r\n      } catch (error) {\r\n        // trường hợp 1 vài đơn bị lỗi ko gửi dc\r\n        if (currentBatchIndex == totalBatches) {\r\n          this.vhComponent.hideLoading();\r\n\r\n        }\r\n        console.error(`Error in batch ${i / batchSize + 1}:`, error);\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  updateControl(bill) {\r\n    return new Promise((resolve, reject) => {\r\n      let value: any = {}\r\n      value['verify_status_delivered_goods'] = true\r\n      value['verify_date_delivered_goods'] = this.bill_selected['verify_date_delivered_goods'] || new Date().toISOString();\r\n      value['id_verifier_delivered_goods'] = this.vhAuth.getUser()._id;\r\n      this.vhEcommerce.updateSalesOrderShopee_byFile([bill.order_sn.toString()], value, this.infoShop.access_token, this.infoShop._id).then((bool) => {\r\n        if (bool) {\r\n          bill[`name_control_goods`] = `${this.vhAuth.getlocalEmployee(value['id_verifier_delivered_goods']).name} đã đối soát ${this.format_date(value['verify_date_delivered_goods'])}`\r\n          resolve(true)\r\n        } else reject(false)\r\n      }).catch(err => { console.error(err); reject(false) })\r\n    })\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi thay đổi tab được chọn\r\n   */\r\n  segmentChanged(event) { // sau này sẽ filter theo trạng thái qua hàm này\r\n    // Nếu chọn tab Khác thì hiện những đơn không có trong danh sách trạng thái\r\n    if(event === this.list_status_bill.length) {\r\n      this.salesOrder = this.salesSubOrder.filter(item => {\r\n        return !this.list_status_bill.some(status => status.value === item.order_status || status.value2 === item.order_status);\r\n      });\r\n        return;\r\n      }\r\n\r\n    if (event == 0) this.salesOrder = this.salesSubOrder\r\n    else this.salesOrder = this.salesSubOrder.filter(item => item.order_status == this.list_status_bill[event].value || item.order_status == this.list_status_bill[event].value2);\r\n  }\r\n\r\n\r\n\r\n  /** Map chứa số lượng đơn hàng theo trạng thái */\r\n  orderCountByStatus: any = {\r\n    \"All\": 0,\r\n    \"Wait for confirmation\": 0,\r\n    \"Chờ lấy hàng\": 0,\r\n    \"Shipping\": 0,\r\n    \"Delivered\": 0,\r\n    \"Hoàn tất\": 0,\r\n    \"Đã hủy\": 0,\r\n    \"Trả hàng\": 0,\r\n  }\r\n  /** Số lượng đơn hàng không nằm trong danh sách trạng thái */\r\n  orderOthersCountByStatus = 0;\r\n\r\n  /**\r\n   * Đếm số lượng đơn hàng theo trạng thái\r\n   * @param orders\r\n   */\r\n  countOrderByStatus(orders) {\r\n    this.orderOthersCountByStatus = orders.filter(order => {\r\n      return !this.list_status_bill.some(status => status.value === order.order_status || status.value2 === order.order_status);\r\n    }).length;\r\n    for (const key in this.orderCountByStatus) {\r\n      if (key === 'All') {\r\n        this.orderCountByStatus[key] = orders.length;\r\n      }\r\n      else {\r\n        this.orderCountByStatus[key] = orders.filter(order => {\r\n          return order.order_status === this.list_status_bill.find(status => status.name === key).value ||\r\n            order.order_status === this.list_status_bill.find(status => status.name === key).value2;\r\n        }).length;\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /**\r\n   * Đếm số lượng bill đang check\r\n   */\r\n  get countSelectedBill(): number {\r\n    return this.salesOrder.filter((data: any) => data.verify_status_delivered_goods)?.length;\r\n  }\r\n\r\n}\r\n","\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ControlExportGoodsComponent } from './control-export-goods.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DetailComponent } from './detail/detail.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: ControlExportGoodsComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ControlExportGoodsComponent, DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ControlExportGoodsModule { }\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-sendo\" *ngIf=\"bill\">\r\n    <div nz-row class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"18\" class=\"title\">\r\n            <b>{{'Order number' | translate}}: <span style=\"color: #ee2624;\"\r\n                    (click)=\"vhComponent.copyValue(bill.order_sn)\"> #{{bill.order_sn}} <i nz-icon nzType=\"copy\"\r\n                        nzTheme=\"outline\"></i></span></b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n            <button style=\"width: 8vw;\" class=\" center-all-content\" nz-button nzType=\"default\" (click)=\"gotoPrint()\">\r\n                <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                {{'Print' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"bill-info\">\r\n        <div nz-col nzSpan=\"8\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Order day' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b> {{bill.create_at | date : \"dd/MM/yyyy HH:mm\"}}</b>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Payment method' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b> <span>{{ bill.payment_method}}</span></b>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Status' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b> <span>{{ bill.order_status | translate}}</span></b>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"bill.cancel_reason\" nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Reason' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b> <span>{{ bill.cancel_reason | translate}}</span></b>\r\n                </div>\r\n            </div>\r\n            <div nz-row *ngIf=\"bill.tracking_number\">\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Order code' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b> {{bill.tracking_number}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Transport Companies' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b>{{bill.shipping_carrier}}</b>\r\n                </div>\r\n            </div>\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'NVC Hotline' | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b>{{bill.carrier_phone}}</b>\r\n                </div>\r\n            </div> -->\r\n        </div>\r\n        <!-- Địa chỉ lấy hàng -->\r\n        <div nz-col nzSpan=\"8\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Pickup address' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <span>{{infoShop.data?.name}}, {{infoShop.data?.address}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <!-- Thông tin người mua -->\r\n    <div nz-row class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"24\" class=\"title\">\r\n            <b>{{'Buyer information' | translate}}</b>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"buyer-info\">\r\n        <div nz-col nzSpan=\"8\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Receiver' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b>{{bill.recipient_address.name}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\">\r\n                    {{'Phone number' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <b>{{bill.recipient_address.phone}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\"> </div>\r\n    </div>\r\n    <div nz-row style=\"margin-bottom: 8px;\">\r\n        <div nz-col nzSpan=\"2\">\r\n            {{'Address' | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"22\">\r\n            <b> {{bill.recipient_address.full_address}}</b>\r\n        </div>\r\n    </div>\r\n    <!-- Danh sách sản phẩm -->\r\n    <nz-table *ngIf=\"bill.item_list.length > 0\" [nzScroll]=\"{  y: heightScroll }\" #salesOrder_show nzShowPagination\r\n        nzShowSizeChanger [nzData]=\"bill.item_list\" [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzLeft nzWidth=\"12%\"><b>{{'Image' | translate}}</b></th>\r\n                <th nzLeft nzWidth=\"34%\"><b>{{'Product information' | translate}}</b></th>\r\n                <!-- <th nzWidth=\"20%\"><b>{{'Properties' | translate}}</b></th> -->\r\n                <th nzWidth=\"8%\"><b>{{\"Quantity\"| translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{\"Unit price\" | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{\"Total\" | translate}}</b></th>\r\n                <!-- <th nzWidth=\"8%\"><b>{{'In stock' | translate}}</b></th> -->\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let data of salesOrder_show.data\">\r\n                <td nzLeft nzWidth=\"12%\">\r\n                    <img src=\"{{data.image_info.image_url}}\" alt=\"\">\r\n                </td>\r\n                <td nzLeft nzWidth=\"34%\">\r\n                    <b (click)=\"vhComponent.copyValue(data.item_name)\"> {{data.item_name}}</b> <i\r\n                        (click)=\"vhComponent.copyValue(data.item_name)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n                    <span>{{'Weight'}}</span>: <b> {{data.weight}}g</b> <br>\r\n                    <span>{{'SKU'}}</span>:<b> {{data.item_sku}}</b>\r\n                </td>\r\n                <!-- <td nzWidth=\"20%\">{{data.description| translate}}</td> -->\r\n                <td nzWidth=\"8%\">{{data.model_quantity_purchased}}</td>\r\n                <td nzRight nzWidth=\"13%\">{{vhAlgorithm.vhcurrencyunit(data.model_discounted_price)}}</td>\r\n                <td nzRight nzWidth=\"13%\">\r\n                    {{vhAlgorithm.vhcurrencyunit(data.model_discounted_price*data.model_quantity_purchased)}}</td>\r\n                <!-- <td nzWidth=\"8%\">\r\n                </td> -->\r\n            </tr>\r\n        </tbody>\r\n    </nz-table>\r\n    <!-- Thông tin thanh toán-->\r\n    <div nz-row id=\"payment-info\" style=\"display: flex;justify-content: space-between;\">\r\n        <div nz-col nzSpan=\"10\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\" class=\"title\">\r\n                    <b>{{'Buyer payment' | translate}}:</b>\r\n                </div>\r\n            </div>\r\n            <!-- Giá sản phẩm -->\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Product price' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    {{vhAlgorithm.vhcurrencyunit(bill.sub_total)}}\r\n                </div>\r\n            </div>\r\n            <!-- ĐƠN KHÔNG HỦY -->\r\n            <ng-container *ngIf=\"bill.order_status !== 'CANCELLED'\">\r\n                <!-- Voucher giảm giá từ người bán -->\r\n                <div *ngIf=\"escrowShopee?.order_income?.voucher_from_seller\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Voucher discount from seller' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(escrowShopee?.order_income?.voucher_from_seller)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Voucher giảm giá từ shopee -->\r\n                <div *ngIf=\"escrowShopee?.order_income?.voucher_from_shopee\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Voucher discount from Shopee' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(escrowShopee?.order_income?.voucher_from_shopee)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Shopee xu -->\r\n                <div *ngIf=\"escrowShopee?.order_income?.coins\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Shopee xu' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(escrowShopee?.order_income?.coins ?? 0)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Phí vận chuyển -->\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Shipping Fee' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        {{vhAlgorithm.vhcurrencyunit(escrowShopee?.order_income?.buyer_paid_shipping_fee ?? 0)}}\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <!-- ĐƠN ĐÃ HỦY -->\r\n            <ng-container *ngIf=\"bill.order_status === 'CANCELLED'\">\r\n                <!-- Voucher giảm giá từ người bán -->\r\n                <div *ngIf=\"bill.total_discount_from_voucher_seller\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Voucher discount from seller' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(bill.total_discount_from_voucher_seller)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Voucher giảm giá từ shopee -->\r\n                <div *ngIf=\"bill.total_discount_from_voucher_shopee\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Voucher discount from Shopee' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(bill.total_discount_from_voucher_shopee)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Shopee xu -->\r\n                <div *ngIf=\"bill.total_discount_from_coin\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Shopee xu' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        -{{vhAlgorithm.vhcurrencyunit(bill.total_discount_from_coin?? 0)}}\r\n                    </div>\r\n                </div>\r\n                <!-- Phí vận chuyển -->\r\n                <div *ngIf=\"bill.package_list?.[0]?.logistics_status !== 'LOGISTICS_INVALID' && bill.package_list?.[0]?.logistics_status !== 'LOGISTICS_REQUEST_CANCELED' && bill.package_list?.[0]?.logistics_status !== 'LOGISTICS_DELIVERY_FAILED'\" nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        {{'Shipping Fee' | translate}}:\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                        {{vhAlgorithm.vhcurrencyunit(bill.estimated_shipping_fee ?? 0)}}\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Shipping fee (PVC)' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    {{vhAlgorithm.vhcurrencyunit(bill.shipping_fee)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row  >\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Shopee Voucher' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    - {{vhAlgorithm.vhcurrencyunit(bill.seller_shipping_fee)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row  >\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Shop discount code' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    - {{vhAlgorithm.vhcurrencyunit(bill.shipping_voucher_amount)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row  >\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Used Shopee Coins' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    - {{bill.mobile_discount_amount}}\r\n                </div>\r\n            </div> -->\r\n            <!-- Tổng thanh toán -->\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Total payment' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end title\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\">\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"12\" class=\"title\">\r\n                    <b> {{'Payment to Shop' | translate}}:</b>\r\n                </div>\r\n            </div> -->\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'total amount' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    {{vhAlgorithm.vhcurrencyunit(bill.sub_total)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Shipping fee (excluding subsidy)' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    - {{vhAlgorithm.vhcurrencyunit(bill.seller_shipping_fee)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Transaction fee' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    - {{vhAlgorithm.vhcurrencyunit(bill.mobile_discount_amount)}}\r\n                </div>\r\n            </div>  -->\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Total payment to shop' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end title\" style=\"color: #ee2624;\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(bill.total_amount)}}</b>\r\n                </div>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n\r\n\r\n</nz-layout>","import { VhAlgorithm, VhEcommerce } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  bill: any;\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  price: number = 0;\r\n  payment_fee = 0;\r\n  infoShop: any = {}\r\n  escrowShopee: any;\r\n  constructor(\r\n    private router: Router,\r\n    private vhEcommerce: VhEcommerce,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent\r\n  ) {\r\n    this.bill = this.router.getCurrentNavigation().extras.state.bill;\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n    this.infoShop = this.vhEcommerce.getlocalShopListShopee().find(item => item._id == this.dataRestore['id_shop_selected'])\r\n  }\r\n\r\n  async ngOnInit() {\r\n    \r\n    //tính tổng tiền sp\r\n    let sub_total: number = 0\r\n    this.bill['item_list'].forEach(item => {\r\n      sub_total += (item.model_discounted_price || item.model_original_price) * item.model_quantity_purchased\r\n    })\r\n    this.bill['sub_total'] = sub_total\r\n    this.escrowShopee = await this.vhEcommerce.getEscrowShopee(this.bill.order_sn, this.infoShop.access_token, this.infoShop._id);\r\n    console.log(this.escrowShopee);\r\n    console.log(this.bill);\r\n\r\n    if(this.bill.order_status === 'CANCELLED') {\r\n      let total_discount_from_voucher_seller = 0;\r\n      let total_discount_from_voucher_shopee = 0;\r\n      let total_discount_from_coin = 0;\r\n      this.escrowShopee?.order_income?.items.forEach(item => {\r\n        total_discount_from_voucher_seller += item.discount_from_voucher_seller;\r\n        total_discount_from_voucher_shopee += item.discount_from_voucher_shopee;\r\n        total_discount_from_coin += item.discount_from_coin;\r\n      });\r\n      this.bill['total_discount_from_voucher_seller'] = total_discount_from_voucher_seller;\r\n      this.bill['total_discount_from_voucher_shopee'] = total_discount_from_voucher_shopee;\r\n      this.bill['total_discount_from_coin'] = total_discount_from_coin;\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-shopee\") && document.querySelector(\".order-status-shopee-header\") && document.querySelector(\"#bill-info\") && document.querySelector(\"#buyer-info\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-shopee\").clientHeight -\r\n        - document.querySelector(\".order-status-shopee-header\").clientHeight - document.querySelector(\"#bill-info\").clientHeight - document.querySelector(\"#buyer-info\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-shopee\"))\r\n      this.widthScroll = document.getElementById(\"order-status-shopee\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/shopee/control/export-goods'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n\r\n  gotoPrint() {\r\n    this.router.navigate([\"/sales/dashboard/manage/ecommerce/shopee/print\"], {\r\n      state: {\r\n        bill: this.bill, dataRestore:\r\n          this.dataRestore,\r\n        path: this.router.url,\r\n        infoShop: this.infoShop\r\n      }\r\n    })\r\n  }\r\n}\r\n"],"names":["i0","$event","ctx_r21","bill_r15","ctx_r11","_r3","ControlExportGoodsComponent","constructor","router","lang","vhComponent","vhAlgorithm","vhEcommerce","cdRef","modal","vhAuth","datePipe","vhQuerySales","vhQuery","Date","current","getTime","minDate","now","name","value","value2","dataRestore","getCurrentNavigation","extras","state","ngOnInit","id_shop_selected","searchValue","salesOrder","salesSubOrder","countOrderByStatus","load_status","date","infoShop","getlocalShopListShopee","getMinDate","getValidityDate","then","validitydate","getStore","registrationdate","disabledDate","search","length","segmentChanged","selectedIndex","val","changeAlias","trim","toLowerCase","searchList","goBack","navigate","changeTime","event","showToast","translate","showReport","showLoading","getSalesOrderListShopee","transform","setHours","toString","access_token","_id","result","map","item","create_at","create_time","id_shop","verify_status_delivered_goods","name_control_goods","getlocalEmployee","id_verifier_delivered_goods","format_date","verify_date_delivered_goods","hideLoading","error","catch","err","changeShop","ngAfterViewChecked","document","querySelector","heightScroll","clientHeight","detectChanges","updateControlGoods","bill","updateForControl","bill_selected","toISOString","confirm","nzTitle","nzContent","nzOkText","nzOnOk","Promise","resolve","reject","getUser","updateSalesOrderShopee_byFile","order_sn","bool","console","nzOnCancel","nzCancelText","res","gotoDetail","listProduct","checkAll","forEach","data","disabled","refreshStatus","validData","filter","allChecked","every","allUnChecked","indeterminate","controlAll","bills","batchSize","totalBatches","Math","ceil","alertMessageDesktop","showLoadingNotDuration","i","batch","slice","currentBatchIndex","floor","promises","updateControl","results","asyncPromiseAll","log","list_status_bill","some","status","order_status","orders","orderOthersCountByStatus","order","key","orderCountByStatus","find","countSelectedBill","_a","selectors","decls","vars","consts","template","ctx","_r5","ctx_r9","ctx_r3","ctx_r19","DetailComponent","sub_total","model_discounted_price","model_original_price","model_quantity_purchased","escrowShopee","getEscrowShopee","total_discount_from_voucher_seller","total_discount_from_voucher_shopee","total_discount_from_coin","order_income","_b","items","discount_from_voucher_seller","discount_from_voucher_shopee","discount_from_coin","getElementById","widthScroll","clientWidth","gotoPrint","path","url"],"sourceRoot":"webpack:///"}