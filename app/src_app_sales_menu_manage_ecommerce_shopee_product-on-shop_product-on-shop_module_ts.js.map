{"version":3,"file":"src_app_sales_menu_manage_ecommerce_shopee_product-on-shop_product-on-shop_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/shopee/product-on-shop/product-on-shop.component.ts","./src/app/sales/menu/manage/ecommerce/shopee/product-on-shop/product-on-shop.component.html","./src/app/sales/menu/manage/ecommerce/shopee/product-on-shop/product-on-shop.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhEcommerce, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-product-on-shop',\r\n  templateUrl: './product-on-shop.component.html',\r\n  styleUrls: ['./product-on-shop.component.scss']\r\n})\r\nexport class ProductOnShopComponent implements OnInit {\r\n  listProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listSubProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  /**----------------------------------- */\r\n  infoShop: any = {};\r\n  searchValue: any = '';\r\n  heightScroll: any;\r\n  setHeight = { \"max-height\": \"500px\", \"height\": \"500px\" };\r\n  sortQuantity: 'asc' | 'desc' = 'asc';\r\n  sortName: 'asc' | 'desc' = 'asc';\r\n  listTabs: Array<any> = [\"Status\", \"Temporarily hidden\"];\r\n  indexSegment: number = 0;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id;\r\n  arrayHidden: Array<any> = []; //mảng này chứa id của những sp đang tạm ẩn\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private modal: NzModalService,\r\n    private vhEcommerce: VhEcommerce\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.infoShop = this.vhEcommerce.getlocalShopListShopee()[0];\r\n    this.changeShop(this.infoShop._id);\r\n  }\r\n  /**Chọn shop và lọc sản phẩm theo shop đó */\r\n  changeShop(id) {\r\n    this.listProduct = [];\r\n    this.infoShop = this.vhEcommerce.getlocalShopListShopee().find(item => item._id == id);\r\n    this.listProductOfBranch = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden).filter(item => item[this.id_branch] && item[this.id_branch].shopees && item[this.id_branch].shopees.length >= 0);\r\n    let localProducts: Array<any> = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden);\r\n\r\n    this.listProductApp = localProducts.map(item => {\r\n      let unit = this.vhQuerySales.getUnit_byRatio(item.units, 1);\r\n      if (item[this.id_branch] && item[this.id_branch].shopees && item[this.id_branch].shopees.length) { //filter những sp shopee thuộc id shopee đã chọn\r\n        item[this.id_branch].product_shopees = [...item[this.id_branch].shopees.filter(prod => prod.id_shop == this.infoShop._id)];\r\n      }\r\n      return { ...item, ...unit };\r\n    });\r\n    this.listSubProductApp = [...this.listProductApp];\r\n\r\n    this.vhEcommerce.getlocalProductListShopee(id).forEach(item => {\r\n      item.total_stock = 0;\r\n\r\n      // if (!item.has_model) {\r\n      //   item.stock_info.forEach(data => {\r\n      //     item.total_stock += data.normal_stock\r\n      //   })\r\n      // } else item.model.forEach(model => { model.stock_info.forEach(data => item.total_stock += data.normal_stock) })\r\n      item.hidden = item.item_status == 'NORMAL' ? false : true;\r\n      this.listProduct.push(item);\r\n    });\r\n    this.listSubProduct = [...this.listProduct];\r\n\r\n    this.segmentChanged(this.indexSegment);\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/shopee']);\r\n  }\r\n  searchShopee(value, products?) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProduct = this.vhAlgorithm.searchList(val, products ? [...products] : [...this.listSubProduct], ['item_name', 'item_sku']);\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-on-shop\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-on-shop-header\")) {\r\n      this.heightScroll = document.querySelector(\"#product-on-shop\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-on-shop-header\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 100 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  sortStatusTable() {\r\n    this.searchShopee(this.searchValue);\r\n    if (this.sortQuantity == 'asc') {\r\n      this.listProduct = this.vhAlgorithm.sortNumberbyASC([...this.listProduct], 'total_stock');\r\n      this.sortQuantity = 'desc';\r\n    } else {\r\n      this.listProduct = this.vhAlgorithm.sortNumberbyDESC([...this.listProduct], 'total_stock');\r\n      this.sortQuantity = 'asc';\r\n    }\r\n  }\r\n  /**\r\n   * sắp xếp theo tên\r\n   */\r\n  sortNameTable() {\r\n    this.searchShopee(this.searchValue);\r\n    if (this.sortName == \"asc\") {\r\n      this.listProduct = [...this.listProduct].sort((a, b): any => {\r\n        return a.item_name > b.item_name ? 1 : -1;\r\n      });\r\n      this.sortName = \"desc\";\r\n    } else {\r\n      this.listProduct = [...this.listProduct].sort((a, b): any => {\r\n        return a.item_name > b.item_name ? -1 : 1;\r\n      });\r\n      this.sortName = \"asc\";\r\n    }\r\n  }\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n  segmentChanged(event) {\r\n    this.indexSegment = event;\r\n    if (event == 0)\r\n      this.listProduct = this.listSubProduct.filter(item => !item.hidden);\r\n    else this.listProduct = this.listSubProduct.filter(item => item.hidden);\r\n    this.searchShopee(this.searchValue, this.listProduct);\r\n  }\r\n  /**\r\n   * modal hide product\r\n   */\r\n  hiddenProduct(product, hidden) {\r\n    this.modal.confirm({\r\n      nzTitle: this.lang.translate(\"Confirm\"),\r\n      nzContent: `<p>${hidden ? this.lang.translate('Tạm ẩn sản phẩm này') : this.lang.translate('Hủy tạm ẩn sản phẩm này')}?${!hidden ? '</p><p>Sản phẩm được chỉnh sửa sẽ cần chờ Shopee xét duyệt trong vòng 24 tiếng trước khi hiển thị trên trang chủ Shop</p>' : ''}`,\r\n      nzClosable: false,\r\n      nzOnOk: () => new Promise((resolve) => {\r\n        this.vhEcommerce.updateProductInfoByJSONshopee(this.renderFormUpdate(product, hidden), this.infoShop['access_token'], this.infoShop['_id']).then((bool: boolean) => {\r\n          this.vhEcommerce.getProductByItem_idShopee(this.infoShop['access_token'], product.item_id, this.infoShop['_id']).then((productshopee: any) => {\r\n            if (bool && productshopee)\r\n              this.vhComponent.alertMessageDesktop('success', hidden ? this.lang.translate('Sản phẩm được tạm ẩn thành công') : this.lang.translate('Hủy tạm ẩn thành công'));\r\n            else {\r\n              product.hidden = !product.hidden;\r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate('An error occurred while updating'));\r\n            }\r\n            this.changeShop(this.infoShop._id);\r\n            resolve(true);\r\n          });\r\n        });\r\n      }),\r\n      nzOnCancel: () => {\r\n        product.hidden = !product.hidden;\r\n        this.modal.closeAll();\r\n      }\r\n    });\r\n  }\r\n  /**Render chuỗi json để bật tắt sản phẩm */\r\n  renderFormUpdate(product: any, hidden: boolean) {\r\n    let json = {\r\n      \"item_id\": product.item_id,\r\n      \"item_status\": hidden ? 'UNLIST' : 'NORMAL'\r\n    };\r\n\r\n    return json;\r\n  }\r\n\r\n  /** Liên kết sản phẩm */\r\n\r\n  visible_affiliate: boolean = false;\r\n  listProductApp: Array<any> = []; // sp trong phần mềm chứa shopee[]\r\n  listSubProductApp: Array<any> = []; //sp của app để search\r\n  productShopeeSelected: any = null;\r\n  listProductOfBranch: Array<any> = []; // sp của phần mềm có liên kết với sp shopee\r\n  searchProductAppValue: any = '';\r\n\r\n  /**\r\n   * search tên sản phẩm trong app viethas\r\n   * @example this.search('Sản phẩm A')\r\n   */\r\n  searchProductApp(value: string) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProductApp = this.vhAlgorithm.searchList(val, [...this.listSubProductApp], ['name', 'barcode', 'item_code']);\r\n  }\r\n\r\n  /**\r\n   * Kiểm tra sản phẩm đã được lien kết hay chưa\r\n   *\r\n   */\r\n  isLinkedToProduct(item_id, model_id?): boolean {\r\n    for (let productOfBranch of this.listProductOfBranch) {\r\n      let findProduct = productOfBranch[this.id_branch].shopees.find(data => data.item_id == item_id);\r\n      if (findProduct) {\r\n        if (findProduct.model && findProduct.model.length > 0 && model_id !== null) {\r\n          let indexModel = findProduct.model.findIndex(model => model.model_id == model_id);\r\n          if (indexModel >= 0) {\r\n            return true;\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    };\r\n    return false;\r\n  }\r\n\r\n  openModelSelectProductsShopee(item_id, model_id?) {\r\n    this.productShopeeSelected = { item_id, model_id };\r\n    this.visible_affiliate = true;\r\n  }\r\n\r\n  /**\r\n   * Tắt modal và clone mảng product ra một mảng mới để tránh nhớ lại product cũ bị checked\r\n   */\r\n  cancelAffiliate() {\r\n    this.visible_affiliate = false;\r\n  }\r\n\r\n  /**\r\n     * Liên kết sản phẩm từ shopee với sản phẩm tại cửa hàng.\r\n     * @param product Sản phẩm của cửa hàng\r\n     */\r\n  acceptAfiliate(product) {\r\n    const isZeroPriceCombo = product.type === VhType.COMBO && product.units[0].price === 0;\r\n    const confirmZeroPriceComboMessage = this.lang.translate(\"This product is a combo with a price of 0. Do you still want to link it with the product\", { platform: 'Shopee' }) + \"?\";\r\n    this.modal.confirm({\r\n      nzTitle: '<i>' + (isZeroPriceCombo ? confirmZeroPriceComboMessage : this.lang.translate(\"Confirm\")) + '</i>',\r\n      nzIconType: \"info-circle\",\r\n      nzCancelText: this.lang.translate(\"Cancel\"),\r\n      nzOnOk: () => {\r\n        this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          // Tìm sản phẩm shopee\r\n          const currentProductShopee = this.listProduct.find(item => item.item_id == this.productShopeeSelected.item_id);\r\n          const id_product_selected = product.id_subproduct ? product.id_subproduct : product['_id'];\r\n\r\n          if (!currentProductShopee) {\r\n            this.vhComponent.hideLoading().then(() => {\r\n              this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"The product link failed\"));\r\n            });\r\n            return;\r\n          }\r\n\r\n          let productShopee = {\r\n            item_id: this.productShopeeSelected.item_id,\r\n            models: []\r\n          };\r\n\r\n          // Nếu sản phẩm shopee có model thì thêm vào mảng\r\n          if (currentProductShopee && currentProductShopee.has_model && this.productShopeeSelected.model_id !== null) {\r\n            const model = currentProductShopee.model.find(item => item.model_id == this.productShopeeSelected.model_id);\r\n            if (model) {\r\n              productShopee.models.push(model);\r\n            }\r\n          }\r\n\r\n          this.vhEcommerce.addMergeShopeesProduct_model(this.vhQuerySales.getlocalDetailProduct(id_product_selected), productShopee.item_id, productShopee.models, this.infoShop['_id'], this.id_branch).then((bool) => {\r\n            this.vhComponent.hideLoading().then(() => {\r\n              setTimeout(() => {\r\n                this.visible_affiliate = false;\r\n                this.listProductOfBranch = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden).filter(item => item[this.id_branch] && item[this.id_branch].shopees && item[this.id_branch].shopees.length >= 0);\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Product linked successfully\"));\r\n              }, 300);\r\n            });\r\n          }).catch(err => {\r\n            console.error(err);\r\n            this.visible_affiliate = false;\r\n            this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"The product link failed\"));\r\n            this.vhComponent.hideLoading(0);\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  findProductLinked(item_id, model_id) {\r\n    for (let productOfBranch of this.listProductOfBranch) {\r\n      const shopees = productOfBranch[this.id_branch]?.shopees || [];\r\n\r\n      const found = shopees.find(data => {\r\n        if (data.item_id !== item_id) return false;\r\n\r\n        if (data.model?.length && model_id !== null) {\r\n          return data.model.some(model => model.model_id === model_id);\r\n        }\r\n\r\n        return data.model?.length ? false : true;\r\n      });\r\n\r\n      if (found) {\r\n        return productOfBranch;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Gỡ liên kết sp của app với sản phẩm trên sản, hàm cần 3 tham số\r\n   * @param id_product của sp trong app\r\n   * @param item_id định danh của sp cha\r\n   * @param model_id định danh của sản phẩm con\r\n   */\r\n  removeAffiliate(item, model_id?) {\r\n    const productLinked = this.findProductLinked(item.item_id, model_id);\r\n    const id_product = productLinked.id_subproduct ? productLinked.id_subproduct : productLinked['_id'];\r\n    const item_id = item.item_id;\r\n\r\n    if (!id_product) {\r\n      this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"The product link failed\"));\r\n      return;\r\n    }\r\n\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", this.lang.translate(\"Are you sure to remove this product\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhEcommerce.deleteMergeShopeeProduct_model(this.vhQuerySales.getlocalDetailProduct(id_product), item_id, model_id || null, this.infoShop['_id'], this.id_branch).then((bool) => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            if (bool) {\r\n              setTimeout(() => {\r\n                this.changeShop(this.infoShop._id);\r\n                this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"The product has been successfully unlinked\"));\r\n              }, 500);\r\n            } else this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"The product link failed\"));\r\n          });\r\n        }).catch((err) => { console.error(err); this.vhComponent.hideLoading(0); });\r\n      });\r\n    }).catch(() => { });\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-on-shop\">\r\n    <div nz-row nzGutter=\"8\" class=\"product-on-shop-header\">\r\n        <div nz-col nzSpan=\"4\" class=\"title\">\r\n            <b>{{'Product on Shopee'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchShopee($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for product name' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <div nz-row nzGutter=\"16\" class=\"product-on-shop-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-tabset [(nzSelectedIndex)]=\"indexSegment\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                <nz-tab *ngFor=\"let item of listTabs\" nzTitle=\"{{item | translate}}\">\r\n                </nz-tab>\r\n            </nz-tabset>\r\n            <nz-table *ngIf=\"indexSegment == 0 || indexSegment == 1\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\" #list_product_show\r\n                nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProduct\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"3%\"></th>\r\n                        <th nzWidth=\"10%\"><b>{{'Image' | translate}}</b></th>\r\n                        <th nzAlign=\"left\" nzWidth=\"27%\">\r\n                            <div class=\"sortTable\">\r\n                                <b>{{'Product information' | translate}}</b>\r\n                                <i (click)=\"sortNameTable()\" nz-icon\r\n                                    [nzType]=\"sortName =='asc' ? 'arrow-down':'arrow-up'\" nzTheme=\"outline\"></i>\r\n                            </div>\r\n                        </th>\r\n                        <th nzAlign=\"right\" nzWidth=\"15%\"><b>{{'Selling price' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{\"Status\" | translate}}</b></th>\r\n                        <th nzAlign=\"right\" nzWidth=\"20%\">\r\n                            <div class=\"sortTable\">\r\n                                <b>{{\"Quantity\" | translate}}\r\n                                    <i (click)=\"sortStatusTable()\" nz-icon\r\n                                        [nzType]=\"sortQuantity =='asc' ? 'arrow-down':'arrow-up'\" nzTheme=\"outline\"></i>\r\n                                </b>\r\n                            </div>\r\n                        </th>\r\n                        <th nzWidth=\"10%\"><b>{{\"Temporarily hidden\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy : trackByFn\">\r\n                        <tr>\r\n                            <td><i *ngIf=\"item.has_model\" class=\"icon-expand\"\r\n                                    (click)=\"item.expandModal = !item.expandModal\" nz-icon\r\n                                    [nzType]=\"item.expand ? 'up' : 'down'\" nzTheme=\"outline\"></i></td>\r\n                            <td>\r\n                                <img nz-tooltip nzTooltipColor=\"white\" [nzTooltipTitle]=\"zoomImage\"\r\n                                    nzPopoverTrigger=\"hover\"\r\n                                    [ngStyle]=\"{width: item.image?.image_url_list ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                    [src]=\"item.image?.image_url_list[0]\" width=\"40px\" height=\"40px\" />\r\n                                <ng-template #zoomImage>\r\n                                    <div>\r\n                                        <img onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                            [src]=\"item.image?.image_url_list[0]\" width=\"150px\" height=\"150px\" />\r\n                                    </div>\r\n                                </ng-template>\r\n                            </td>\r\n                            <td class=\"product-info\">\r\n                                <span><b>{{item.item_name}} </b><i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.item_name)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                                    <i *ngIf=\"!isLinkedToProduct(item.item_id, null) && !item.has_model && !item.hidden\" (click)=\"$event.stopPropagation();openModelSelectProductsShopee(item.item_id, null)\" class=\"icon-link green\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                                    <i *ngIf=\"isLinkedToProduct(item.item_id, null) && !item.has_model && !item.hidden\" (click)=\"$event.stopPropagation();removeAffiliate(item, null)\" class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                                </span>\r\n                                <span *ngIf=\"isLinkedToProduct(item.item_id, null) && !item.has_model && !item.hidden\">{{\"Sản phẩm liên kết\"}}: <b class=\"color-green\">{{findProductLinked(item.item_id, null).name}}</b></span>\r\n                                <span>{{\"SKU\"}}: <b class=\"color-green\">{{item.item_sku}}</b><i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.item_sku)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i></span>\r\n                            </td>\r\n                            <td nzAlign=\"right\" class=\"product-price\">\r\n                                <div *ngIf=\"!item.has_model\">\r\n                                    <del *ngIf=\"item.price_info[0]?.original_price !=item.price_info[0]?.current_price\">\r\n                                        {{vhAlgorithm.vhcurrencyunit(item.price_info[0]?.original_price)}}\r\n                                    </del>\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price_info[0]?.current_price)}}\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"product-status\">\r\n                                <span\r\n                                    [ngClass]=\"{'product-status-success' : item.item_status == 'NORMAL'}\">{{item.item_status\r\n                                    | translate}}</span>\r\n                            </td>\r\n                            <td nzAlign=\"left\" class=\"product-stock\">\r\n                                <div>{{'Kho nhà bán'}} : {{item.stock_info_v2?.summary_info.total_available_stock}} </div>\r\n                                <div>{{'Kho shopee'}} : {{item.stock_info_v2?.summary_info.total_reserved_stock}} </div>\r\n                                <!-- <div *ngIf=\"item.has_model\" class=\"product-stock-has-model\">\r\n                                    {{\"Total stock\" | translate}}: <b>{{item.total_stock}}</b>\r\n                                </div>\r\n                                <div *ngIf=\"!item.has_model\" class=\"product-stock-no-model\">\r\n                                    <div *ngFor=\"let stock of item.stock_info\" class=\"product-stock-no-model-item\">\r\n                                        <span>{{(stock.stock_type == 2 ? 'Kho nhà bán' : 'Kho Shopee') |\r\n                                            translate}}: <b>{{stock.normal_stock}}</b></span>\r\n                                        <span>{{\"Total stock\" | translate}}:<b> {{item.total_stock}}</b></span>\r\n                                    </div>\r\n                                </div> -->\r\n                            </td>\r\n                            <td>\r\n                                <nz-switch [(ngModel)]=\"item.hidden\" (ngModelChange)=\"hiddenProduct(item,$event)\">\r\n                                </nz-switch>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expandModal\">\r\n                            <tr *ngFor=\"let product of item.model\">\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class=\"product-info\">\r\n                                    <span>\r\n                                        <b>{{item.item_name}} </b>\r\n                                        <i *ngIf=\"!isLinkedToProduct(item.item_id, product.model_id) && !item.hidden\" (click)=\"$event.stopPropagation();openModelSelectProductsShopee(item.item_id, product.model_id)\" class=\"icon-link green\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                                        <i *ngIf=\"isLinkedToProduct(item.item_id, product.model_id) && !item.hidden\" (click)=\"$event.stopPropagation();removeAffiliate(item, product.model_id)\" class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                                    </span>\r\n                                    <span *ngIf=\"isLinkedToProduct(item.item_id, product.model_id) && !item.hidden\">{{\"Sản phẩm liên kết\"}}: <b class=\"color-green\">{{findProductLinked(item.item_id, product.model_id).name}}</b></span>\r\n                                    <span>{{\"SKU phân loại\"}}: <b class=\"color-green\">{{product.model_sku}}</b></span>\r\n                                </td>\r\n                                <td nzAlign=\"right\">\r\n                                    <del\r\n                                        *ngIf=\"product.price_info[0]?.original_price !=product.price_info[0]?.current_price\">\r\n                                        {{vhAlgorithm.vhcurrencyunit(product.price_info[0]?.original_price)}}\r\n                                    </del>\r\n                                    {{vhAlgorithm.vhcurrencyunit(product.price_info[0]?.current_price)}}\r\n                                </td>\r\n                                <td></td>\r\n                                <td nzAlign=\"left\">\r\n                                    <div *ngFor=\"let stock of product.stock_info\" class=\"product-stock-no-model-item\">\r\n                                        <span>{{(stock.stock_type == 2 ? 'Kho nhà bán' : 'Kho Shopee') |\r\n                                            translate}}: <b>{{stock.normal_stock}}</b></span>\r\n                                    </div>\r\n                                </td>\r\n                                <td nzAlign=\"center\">\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n<!-- --------------modal chọn sản phẩm liên kết--------------- -->\r\n<app-modal-link-product-ecommerce\r\n    [title]=\"'Select Shopee linked products' | translate\"\r\n    [visible_affiliate]=\"visible_affiliate\"\r\n    [listProductApp]=\"listProductApp\"\r\n    [searchProductAppValue]=\"searchProductAppValue\"\r\n    (cancelAffiliate)=\"cancelAffiliate()\"\r\n    (searchProductApp)=\"searchProductApp($event)\"\r\n    (acceptAfiliate)=\"acceptAfiliate($event)\"\r\n></app-modal-link-product-ecommerce>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ProductOnShopComponent } from './product-on-shop.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { ModalLinkProductEcommerceModule } from 'src/app/sales/menu/manage/ecommerce/components/modal-link-product-ecommerce/modal-link-product-ecommerce.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductOnShopComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [ProductOnShopComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ScrollingModule,\r\n    ModalLinkProductEcommerceModule\r\n  ]\r\n})\r\nexport class ProductOnShopModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}