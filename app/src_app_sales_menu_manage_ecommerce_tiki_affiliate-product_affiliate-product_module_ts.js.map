{"version":3,"file":"src_app_sales_menu_manage_ecommerce_tiki_affiliate-product_affiliate-product_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/tiki/affiliate-product/affiliate-product.component.ts","./src/app/sales/menu/manage/ecommerce/tiki/affiliate-product/affiliate-product.component.html","./src/app/sales/menu/manage/ecommerce/tiki/affiliate-product/affiliate-product.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-affiliate-product',\r\n  templateUrl: './affiliate-product.component.html',\r\n  styleUrls: ['./affiliate-product.component.scss']\r\n})\r\nexport class AffiliateProductComponent {\r\n  listProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listSubProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listProductApp: Array<any> = []; //sp của app chứa tikis[]\r\n  listSubProductApp: Array<any> = []; //sp của app chứa tikis[]\r\n  /**----------------------------------- */\r\n  infoShop: any = {};\r\n  searchValue: any = '';\r\n  heightScroll: any;\r\n  /**\r\n   * Modal chọn sản phẩm liên kết\r\n   */\r\n  visible_affiliate: boolean = false;\r\n  isLoading: boolean = false;\r\n  searchOnTiki: string = '';\r\n  listProductSelected: Array<any> = [];\r\n  id_product_selected: string = '';\r\n  setHeight = { \"max-height\": \"500px\", \"height\": \"500px\", \"overflow-y\": \"hidden\" };\r\n  loading: boolean = false;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id;\r\n  filterAffiliate: 1 | 2 | 3 = 1; // filter những sp đã liên kết 1 : tất cả , 2: sp chưa liên kết , 3 : sp đã liên kết\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.infoShop = this.vhQuerySales.getlocalShopListTiki()[0];\r\n    this.changeShop(this.infoShop._id);\r\n  }\r\n  /**\r\n   * Hàm này để get những sp từ từ sàn ra, đồng thời get những sản phẩm từ app ra, merge lại\r\n   * sau đó show ra theo sp cha là sp của app, trong đó bao gồm những sp con là sản phẩm của sàn\r\n   * Note : những sp liên kết rồi hoặc sp tạm ẩn sẽ không nằm trong listProduct\r\n   * @param id : id_shop đã chọn\r\n   */\r\n  changeShop(id) {\r\n    let localProducts: Array<any> = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden);\r\n    this.listProductApp = localProducts.map(item => {\r\n      if (item[this.id_branch] && item[this.id_branch].tikis && item[this.id_branch].tikis.length) { //filter những sp tiki thuộc id tiki đã chọn\r\n        item[this.id_branch].tikis = [...item[this.id_branch].tikis.filter(prod => prod.id_shop == id)];\r\n      }\r\n      return { ...item, ...this.vhQuerySales.getUnit_byRatio(item.units, 1) };\r\n    });\r\n\r\n    this.listSubProductApp = [...this.listProductApp];\r\n    this.listProduct = this.clearProductShow(this.vhQuerySales.getlocalProductListTiki(this.infoShop['_id']), this.listProductApp);\r\n    this.listSubProduct = [...this.listProduct];\r\n    this.search(this.searchValue);\r\n  }\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n  /**Xóa những sp đã được liên kết rồi ra khỏi mảng của modal danh sách sp liên kết */\r\n  clearProductShow(listProduct, listProductApp) {\r\n    for (let prodApp of listProductApp) {\r\n      if (prodApp[this.id_branch] && prodApp[this.id_branch].tikis && prodApp[this.id_branch].tikis.length) {\r\n        for (let item of prodApp[this.id_branch].tikis) {\r\n          let indexProd = listProduct.findIndex(prod => prod.product_id == item.product_id);\r\n          if (indexProd >= 0)\r\n            listProduct.splice(indexProd, 1);\r\n        }\r\n      }\r\n    }\r\n    return listProduct;\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiki']);\r\n  }\r\n  //search tên sản phẩm trong app viethas\r\n  search(value: string) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProductApp = this.vhAlgorithm.searchList(val, [...this.listSubProductApp],  ['name','barcode','item_code']);\r\n    this.filterAffilateProduct();\r\n  }\r\n  /**\r\n * Lọc sản phẩm đã liên kết/ chưa liên kết\r\n */\r\n  filterAffilateProduct() {\r\n    switch (this.filterAffiliate) {\r\n      case 1: break;\r\n      case 2: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (!prodApp[this.id_branch]?.tikis?.length) return true;\r\n        else return !prodApp[this.id_branch]?.tikis.some(item => item.id_shop == this.infoShop['_id']);\r\n      }); break;\r\n      case 3: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (prodApp[this.id_branch]?.tikis?.length)\r\n          return prodApp[this.id_branch].tikis.some(item => item.id_shop == this.infoShop['_id']);\r\n        else return false;\r\n      }); break;\r\n    }\r\n  }\r\n  /**\r\n   * Mở modal và lưu lại id_product của sp app để khi click vào button ok sẽ lấy id này đi liên kết\r\n   */\r\n  openModelSelectProductsTiki(product) {\r\n    this.id_product_selected = product['id_subproduct'] ? product['id_subproduct'] : product['_id'];\r\n    this.visible_affiliate = true;\r\n  }\r\n  /**\r\n   * Thêm sản phẩm vào mảng chuẩn bị liên kết\r\n   * @param bool\r\n   * @param product\r\n   */\r\n  addProductAffilate(bool, product) {\r\n    console.log(product);\r\n    if (bool) this.listProductSelected.push(product.product_id);\r\n    else this.listProductSelected.splice(this.listProductSelected.findIndex(item => item == product.product_id), 1);\r\n  }\r\n  /**\r\n   * Hàm này sẽ thêm chờ lần lượt các sp được liên kết xong hết sẽ thông báo kết quả cho client , sau đó reset mảng listProduct\r\n   * trở thành []\r\n   */\r\n  acceptAfiliate() {\r\n    this.visible_affiliate = false;\r\n\r\n    const product = this.vhQuerySales.getlocalDetailProduct(this.id_product_selected);\r\n    const isZeroPriceCombo = product.type === VhType.COMBO && product.units[0].price === 0;\r\n\r\n    const confirmZeroPriceComboMessage = this.lang.translate(\"This product is a combo with a price of 0. Do you still want to link it with the product\", { platform: 'Tiki' }) + \"?\";\r\n\r\n    const linkProducts = () => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.addMergeTikiProduct(this.id_product_selected, this.listProductSelected, this.infoShop._id).then(res => {\r\n          this.listProductSelected = [];\r\n          this.vhComponent.hideLoading(0);\r\n          if (res) {\r\n            setTimeout(() => {\r\n              this.changeShop(this.infoShop._id);\r\n              this.vhComponent.alertMessageDesktop('success', this.lang.translate(\"Product linked successfully\"));\r\n            }, 500);\r\n          } else this.vhComponent.alertMessageDesktop('error', this.lang.translate(\"The product link failed\"));\r\n        });\r\n      });\r\n    };\r\n\r\n    if (isZeroPriceCombo) {\r\n      this.vhComponent.alertConfirm(\r\n        this.lang.translate(\"Confirm\"),\r\n        \"\",\r\n        confirmZeroPriceComboMessage,\r\n        \"Ok\",\r\n        this.lang.translate(\"Cancel\")\r\n      ).then(() => {\r\n        linkProducts();\r\n      }).catch(() => {\r\n      });\r\n    } else {\r\n      linkProducts();\r\n    }\r\n  }\r\n  /**\r\n   * Tắt modal và reset dữ liệu để trách bị ghi đè dữ liệu\r\n   */\r\n  cancelAffiliate() {\r\n    this.listProductSelected = [];\r\n    this.visible_affiliate = false;\r\n    this.searchOnTiki = '';\r\n    this.listProduct = this.listSubProduct.map(item => { item.isChecked = false; return item; });\r\n  }\r\n  /**\r\n   * hàm tiềm kiếm sản phẩm trong modal của tiki, với từ khóa là value truyền vào\r\n   */\r\n  searchTiki(value) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n      this.listProduct = this.vhAlgorithm.searchList(val, [...this.listSubProduct], ['name','sku']);\r\n    } else this.listProduct = [...this.listSubProduct];\r\n  }\r\n  /**\r\n   * Hàm gỡ sp liên kết từ của sp trên sàn ra khỏi sản phẩm app\r\n   * @param id_product là định danh của sp app\r\n   * @param product_id là định danh của sản phẩm trên sàn\r\n   */\r\n  removeAffiliate(id_product, product_id) {\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", this.lang.translate(\"Are you sure to remove this product\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.deleteMergeTikiProduct(id_product, product_id, this.infoShop['_id']).then((bool) => {\r\n\r\n          if (bool) {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              setTimeout(() => {\r\n                this.changeShop(this.infoShop._id);\r\n                this.vhComponent.showToast(1500, this.lang.translate(\"The product has been successfully unlinked\"), 'success-toast');\r\n              }, 500);\r\n            });\r\n          } else this.vhComponent.showToast(1500, this.lang.translate(\"The product link failed\"), 'alert-toast');\r\n        }).catch((err) => { console.error(err); this.vhComponent.hideLoading(0); });\r\n      });\r\n    }).catch(() => { });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#affiliate-product\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".affiliate-product-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#affiliate-product\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".affiliate-product-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 60 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * Show/hide sản phẩm con liên kết với sp của app\r\n   * @param productApp\r\n   */\r\n  renderProductTikis(productApp) {\r\n    productApp.expand = !productApp.expand;\r\n    productApp.loaded = false;\r\n    if (productApp.expand) {\r\n\r\n      let productTiki = [...this.vhQuerySales.getlocalProductListTiki(this.infoShop['_id'])];\r\n      let product_lazada_app = [...productApp[this.id_branch].tikis];\r\n      productApp[this.id_branch].tikis_expand = [];\r\n      if (productApp.expand && !productApp.loaded) {\r\n        if (productApp[this.id_branch] && product_lazada_app && product_lazada_app.length) {\r\n          for (let indexProd in product_lazada_app) {\r\n            let prodTiki = productTiki.find(item => item.product_id == product_lazada_app[indexProd].product_id);\r\n            if (prodTiki)\r\n              productApp[this.id_branch].tikis_expand[indexProd] = { ...prodTiki };\r\n          }\r\n          productApp.loaded = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"affiliate-product\">\r\n    <div nz-row nzGutter=\"8\" class=\"affiliate-product-header\">\r\n        <div nz-col nzSpan=\"6\" class=\"title\">\r\n            <b>{{'Link products in the store with products on Tiki' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <!-- <nz-select nzPlaceHolder=\"{{'Select shop on Tiki' | translate}}\" nzShowSearch [(ngModel)]=\"id_shop_selected\"\r\n                (ngModelChange)=\"changeShop($event)\">\r\n                <nz-option *ngFor=\"let option of listShop\" nzLabel=\"{{option.data.name}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select> -->\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <nz-select [(ngModel)]=\"filterAffiliate\" (ngModelChange)=\"search(searchValue)\">\r\n                <nz-option nzLabel=\"{{'All products' | translate}}\" [nzValue]=1>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Unlinked products' | translate}}\" [nzValue]=2>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Linked products' | translate}}\" [nzValue]=3>\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for product Sales Viethas' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <div nz-row nzGutter=\"16\" class=\"affiliate-product-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                [nzScroll]=\"{ y: heightScroll }\" #list_product_show nzShowPagination nzShowSizeChanger\r\n                nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProductApp\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"3%\"><b></b></th>\r\n                        <th nzWidth=\"10%\"><b>{{'Image' | translate}}</b></th>\r\n                        <th nzWidth=\"30%\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Tiki' | translate}}</b></th>\r\n                        <th nzAlign=\"right\" nzWidth=\"15%\"><b>{{\"Selling price\"| translate}}</b></th>\r\n                        <th nzWidth=\"12%\"><b>{{\"Functions\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr>\r\n                            <td><i class=\"icon-expand\"\r\n                                    *ngIf=\"item[id_branch] && item[id_branch].tikis && item[id_branch].tikis.length\"\r\n                                    (click)=\"renderProductTikis(item)\" nz-icon [nzType]=\"item.expand ? 'up' : 'down'\"\r\n                                    nzTheme=\"outline\"></i></td>\r\n                            <td>\r\n                                <img [ngStyle]=\"{width: item.img ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"item.img\"\r\n                                    width=\"40px\" height=\"40px\" />\r\n                            </td>\r\n                            \r\n                            <td>\r\n                                <b>{{item.name}}</b> <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.name)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n                                <span>{{'Item code' | translate}}: {{item.item_code}} <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.item_code)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i></span>\r\n\r\n                            </td>\r\n                            <td>{{item.status}}</td>\r\n                            <td nzAlign=\"right\"><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b></td>\r\n                            <td nzAlign=\"center\"><i (click)=\"openModelSelectProductsTiki(item)\" class=\"icon-link green\"\r\n                                    nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expand && item.loaded\">\r\n                            <ng-container *ngFor=\"let product of item[id_branch].tikis_expand\">\r\n                                <tr>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td class=\"product-item-name\" style=\"padding-left: 24px;\">\r\n                                        <span *ngIf=\"product.name\">{{product.name}}</span>\r\n                                        <span class=\"color-red\" *ngIf=\"!product.name\">{{'Error products, please delete the link' | translate}}</span>\r\n                                        <p>{{'SKU' | translate}}: <span class=\"color-green\">{{product.sku}}</span></p>\r\n                                    </td>\r\n                                    <td>{{(product.active == 1 ? 'Đang bán':'Ngừng bán')| translate}}</td>\r\n                                    <td nzAlign=\"right\">{{vhAlgorithm.vhcurrencyunit(product.price)}}\r\n                                    </td>\r\n                                    <td nzAlign=\"center\"><i (click)=\"removeAffiliate(item.id_subproduct ? item.id_subproduct : item._id,product.product_id)\"\r\n                                            class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i></td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n\r\n</nz-layout>\r\n\r\n\r\n<!-- --------------modal chọn sản phẩm liên kết--------------- -->\r\n<nz-modal class=\"model-link-product-ecommerce\" [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooter\" [nzWidth]=\"650\"\r\n    [nzBodyStyle]=\"setHeight\" [(nzVisible)]=\"visible_affiliate\" nzTitle=\"{{'Select Tiki linked products' | translate}}\"\r\n    (nzOnCancel)=\"cancelAffiliate()\" (nzOnOk)=\"acceptAfiliate()\" [nzOkLoading]=\"isLoading\">\r\n    <div *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"title center-all-content\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input [(ngModel)]=\"searchOnTiki\" (ngModelChange)=\"searchTiki($event)\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for product name' | translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <nz-table class=\"product-table-modal-ecommerce\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '400px' }\" #list_product_show\r\n                nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProduct\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"10%\"></th>\r\n                        <th nzWidth=\"15%\"></th>\r\n                        <th nzWidth=\"45%\"></th>\r\n                        <th nzWidth=\"30%\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class=\"product\">\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr class=\"product-item\">\r\n                            <td>\r\n                                <label class=\"product-item-checkbox\" [(ngModel)]=\"item.isChecked\"\r\n                                    (ngModelChange)=\"addProductAffilate($event,item)\" nz-checkbox></label>\r\n                            </td>\r\n                            <td>\r\n                                <img [ngStyle]=\"{width: item.thumbnail ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                    [src]=\"item.thumbnail\" width=\"40px\" height=\"40px\" />\r\n                            </td>\r\n                            <td class=\"product-item-name\">\r\n                                <span>{{item.name}}</span>\r\n                                <span>{{\"Product ID\"}} :{{item.sku}}</span>\r\n                            </td>\r\n                            <td><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b></td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n        <ng-template #no_data>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\" class=\"no-data\">{{'No data'|translate}}\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n    <ng-template #modalFooter>\r\n        <div class=\"footerModal\">\r\n            <div class=\"footerModal-button center-all-content\">\r\n                <button (click)=\"cancelAffiliate()\" class=\"btn-white\" nz-button>{{\"Cancel\" | translate}}</button>\r\n                <button [nzLoading]=\"loading\" [disabled]=\"!listProductSelected.length\" (click)=\"acceptAfiliate()\"\r\n                    nz-button class=\"btn-green\">{{\"Confirm\" | translate}}</button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AffiliateProductComponent } from './affiliate-product.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AffiliateProductComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [AffiliateProductComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class AffiliateProductModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}