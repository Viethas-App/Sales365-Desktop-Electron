{"version":3,"file":"src_app_sales_menu_manage_ecommerce_tiki_order-status_order-status_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/tiki/order-status/detail/detail.component.ts","./src/app/sales/menu/manage/ecommerce/tiki/order-status/detail/detail.component.html","./src/app/sales/menu/manage/ecommerce/tiki/order-status/order-status.component.ts","./src/app/sales/menu/manage/ecommerce/tiki/order-status/order-status.component.html","./src/app/sales/menu/manage/ecommerce/tiki/order-status/order-status.module.ts"],"sourcesContent":["import { FunctionService } from './../../../../../../services/function.service';\r\nimport { VhComponent } from './../../../../../../components/vh-component/vh-component';\r\nimport { VhQuerySales, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent implements OnInit {\r\n  bill: any;\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  tong_gia_tri_don: number = 0;\r\n  tong_tiki_giam_gia: number = 0;\r\n  tong_giam_gia_nha_ban: number = 0;\r\n  tong_phi_tra_tiki: number = 0;\r\n  loadingConfirm: boolean = false\r\n  isVisibleConfirm: boolean = false\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhComponent: VhComponent,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public functionService: FunctionService,\r\n    private lang: LanguageService\r\n  ) {\r\n    this.bill = this.router.getCurrentNavigation().extras.state.bill;\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    for (let item of this.bill.items) {\r\n      item.tiki_fee = this.getTikiFee(item.seller_income_detail.seller_fees);\r\n      this.tong_gia_tri_don += item.seller_income_detail.item_qty * item.seller_income_detail.item_price + item.seller_income_detail.shipping_fee;\r\n      this.tong_tiki_giam_gia += item.seller_income_detail.discount.discount_shipping_fee.tiki_subsidy;\r\n      this.tong_giam_gia_nha_ban += item.seller_income_detail.discount.discount_shipping_fee.seller_subsidy;\r\n      this.tong_phi_tra_tiki += item.tiki_fee\r\n    }\r\n  }\r\n\r\n  getTikiFee(arr) {\r\n    let total = 0;\r\n    for (let i in arr) {\r\n      total += arr[i].final_amount\r\n    }\r\n    return total\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-sendo\") && document.querySelector(\".order-status-sendo-header\") && document.querySelector(\"#bill-info\") && document.querySelector(\"#buyer-info\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-sendo\").clientHeight -\r\n        - document.querySelector(\".order-status-sendo-header\").clientHeight - document.querySelector(\"#bill-info\").clientHeight - document.querySelector(\"#buyer-info\").clientHeight - 90 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-sendo\"))\r\n      this.widthScroll = document.getElementById(\"order-status-sendo\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiki/order-status'], {\r\n      state: { dataRestore: this.dataRestore }\r\n    })\r\n  }\r\n\r\n  gotoPrint() {\r\n    this.router.navigate([\"/sales/dashboard/manage/ecommerce/tiki/print\"], { state: { bill: this.bill, dataRestore: this.dataRestore, path: this.router.url, info_Shop: this.vhQuerySales.getlocalShopListTiki()[this.vhQuerySales.getlocalShopListTiki().findIndex(item => item._id == this.dataRestore.id_shop_selected)] } })\r\n  }\r\n  updateStatusComfirm(bill) {\r\n    this.bill['seller_inventory_id'] = this.dataRestore.sellerInventory['seller_inventories'][0]?.id\r\n    this.bill['confirmation_status'] = 'seller_confirmed'\r\n    this.isVisibleConfirm = true\r\n  }\r\n  /**\r\n   * Xác nhận còn hàng\r\n   */\r\n  confirmPacked() {\r\n    this.loadingConfirm = true\r\n    let json = {\r\n      confirmation_status: this.bill.confirmation_status,\r\n      seller_inventory_id: this.bill.seller_inventory_id,\r\n      expected_pickup_time: this.bill.expected_pickup_time\r\n    }\r\n    let shop = this.vhQuerySales.getlocalShopListTiki().find(data => data._id == this.dataRestore.id_shop_selected);\r\n    this.vhQuerySales.ConfirmEnoughStockForDropShippingByJSONTiki(this.bill['code'], json, shop['access_token']).then((res: any) => {\r\n      if (res.code == 200) {\r\n        this.vhComponent.alertMessageDesktop('success', this.lang.translate('Xác nhận đơn còn hàng thành công'))\r\n        this.bill.status = 'picking'\r\n        this.dataRestore.salesOrder[this.findIndexUpdate(this.dataRestore.salesOrder)] = this.bill\r\n        this.dataRestore.salesSubOrder[this.findIndexUpdate(this.dataRestore.salesSubOrder)] = this.bill\r\n      }\r\n      else this.vhComponent.alertMessageDesktop('error', this.lang.translate('Cập nhật thất bại, vui lòng thử lại'))\r\n      this.loadingConfirm = false\r\n      this.isVisibleConfirm = false\r\n    }).catch(err => {\r\n      this.loadingConfirm = false\r\n      this.isVisibleConfirm = false\r\n      this.vhComponent.alertMessageDesktop('error', this.lang.translate('Cập nhật thất bại, vui lòng thử lại'))\r\n    })\r\n  }\r\n  findIndexUpdate(data: Array<any>) {\r\n    let index = data.findIndex(item => item.code == this.bill.code)\r\n    return index\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-sendo\" *ngIf=\"bill\">\r\n    <div nz-row class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"18\" class=\"title\">\r\n            <b>{{'Order number' | translate}}: <span style=\"color: #ee2624;\" (click)=\"vhComponent.copyValue(bill.code)\">\r\n                    #{{bill.code}} <i nz-icon nzType=\"copy\" nzTheme=\"outline\"></i></span></b>\r\n            - <span>{{bill.main_substate_text}}</span> |\r\n            <span *ngIf=\"bill.original_code\">Được tách từ đơn hàng <span\r\n                    style=\"color: var(vh-ion-color-green);\">{{bill.original_code}}</span> (cùng với\r\n                <span *ngFor=\"let item of bill.siblings\">\r\n                    <span style=\"color: var(vh-ion-color-green);\">{{item.code}}</span>\r\n                </span> )</span>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"right-all-content\">\r\n            <button *ngIf=\"bill.status == 'queueing'\" class=\"btn-confirm\" nz-button (click)=\"updateStatusComfirm(bill)\">\r\n                {{'XN còn hàng'}}</button>\r\n            <button style=\"width: 8vw;\" class=\" center-all-content\" nz-button nzType=\"default\" (click)=\"gotoPrint()\">\r\n                <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i>\r\n                {{'Print' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"bill-info\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Order day' | translate}} : <b> {{bill.created_at | date : \"dd/MM/yyyy HH:mm\"}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Payment method' | translate}} : <b> <span>{{bill.payment.description}}</span></b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <div nz-row class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"24\" class=\"title\">\r\n            <b>{{'Product list'|translate}}</b>\r\n        </div>\r\n    </div>\r\n    <!-- Danh sách sản phẩm -->\r\n    <nz-table *ngIf=\"bill.items.length > 0\" #salesOrder_show nzShowPagination nzShowSizeChanger [nzData]=\"bill.items\"\r\n        [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzLeft nzWidth=\"12%\"><b>{{'Image' | translate}}</b></th>\r\n                <th nzLeft nzWidth=\"23%\"><b>{{'Product information' | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{'Order value' | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{'Tiki discount' | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{'Seller discount' | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{'Tiki fee' | translate}}</b></th>\r\n                <th nzWidth=\"13%\"><b>{{'Revenue' | translate}}</b></th>\r\n                <!-- <th nzWidth=\"8%\"><b>{{'In stock' | translate}}</b></th> -->\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let data of salesOrder_show.data\">\r\n                <td nzLeft>\r\n                    <img src=\"{{data.product.thumbnail}}\" alt=\"\">\r\n                </td>\r\n                <td nzLeft>\r\n                    <b style=\"position: absolute;top: 16px;right: 0;\">x{{data.qty}}</b>\r\n                    <b (click)=\"vhComponent.copyValue(data.product.name)\"> {{data.product.name}}</b> <br>\r\n                    <span *ngIf=\"data.product.seller_product_code\">{{'Mã sản phẩm'}}</span>: <b>\r\n                        {{data.product.seller_product_code}}</b> <i\r\n                        (click)=\"vhComponent.copyValue(data.product.seller_product_code)\" nz-icon nzType=\"copy\"\r\n                        *ngIf=\"data.product.seller_product_code\" nzTheme=\"outline\"></i> <br>\r\n                    <span>{{'SKU'}}</span>:<b> {{data.product.sku}}</b> <i\r\n                        (click)=\"vhComponent.copyValue(data.product.sku)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                    <br>\r\n                    <span>{{'Price' | translate}}</span>:<b> {{vhAlgorithm.vhcurrencyunit(data.price)}}</b>\r\n\r\n                </td>\r\n                <td>{{vhAlgorithm.vhcurrencyunit(data.seller_income_detail.item_price +\r\n                    data.seller_income_detail.shipping_fee)}}</td>\r\n                <td>{{vhAlgorithm.vhcurrencyunit(data.seller_income_detail.discount.discount_shipping_fee.tiki_subsidy +\r\n                    data.seller_income_detail.discount.discount_coupon.total_discount +\r\n                    data.seller_income_detail.discount.discount_tikixu.amount)}}</td>\r\n                <td>-\r\n                    {{vhAlgorithm.vhcurrencyunit(data.seller_income_detail.discount.discount_shipping_fee.seller_subsidy)}}\r\n                </td>\r\n                <td>- {{vhAlgorithm.vhcurrencyunit(data.tiki_fee)}}</td>\r\n                <ng-container *ngIf=\"bill.status == 'canceled'; else elseTemplate\">\r\n                    <td>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.invoice.subtotal)}}\r\n                    </td>\r\n                </ng-container>\r\n                <ng-template #elseTemplate>\r\n                    <td #elseTemplate>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.invoice.seller_income)}}\r\n                    </td>\r\n                </ng-template>\r\n\r\n\r\n\r\n                <!-- <td nzWidth=\"8%\">\r\n                </td> -->\r\n            </tr>\r\n            <tr style=\"background-color: #e6f7ff;\">\r\n                <td colSpan=\"2\">\r\n                    <b> {{'Total' | translate}}</b>\r\n                </td>\r\n                <td>\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(tong_gia_tri_don)}}</b>\r\n                </td>\r\n                <td>\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(tong_tiki_giam_gia)}}</b>\r\n                </td>\r\n                <td>\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(tong_giam_gia_nha_ban)}}</b>\r\n                </td>\r\n                <td>\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(tong_phi_tra_tiki)}}</b>\r\n                </td>\r\n                <td>\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(bill.invoice.total_seller_income)}}</b>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </nz-table>\r\n    <!-- Thông tin người mua -->\r\n    <div nz-row class=\"order-status-sendo-header\">\r\n        <div nz-col nzSpan=\"12\" class=\"title\">\r\n            <b>{{'Payment information' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"title\">\r\n            <b>{{'Customer information' | translate}}</b>\r\n        </div>\r\n    </div>\r\n    <div nz-row id=\"buyer-info\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-right: 16px;\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Payment_method' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{bill.payment.description}} ({{bill.payment.method}})</b>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Customer payment' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(bill.invoice.subtotal)}}</b>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Statement value (estimated)' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(bill.invoice.total_seller_income)}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Full_name' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{bill.billing_address.full_name}}</b>\r\n                </div>\r\n            </div>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Delivery address' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{bill.billing_address.street}} , {{bill.billing_address.ward}},\r\n                        {{bill.billing_address.district}}, {{bill.billing_address.region}}</b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div nz-row class=\"order-status-sendo-header\" style=\"margin-top: 16px;\">\r\n        <div nz-col nzSpan=\"12\" class=\"title\">\r\n            <b>{{'Shipping information' | translate}}</b>\r\n        </div>\r\n    </div>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"12\">\r\n            <div nz-row style=\"padding-right: 16px;\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Shipping package' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b> {{bill.shipping.plan.name}}</b> <br>\r\n                    <span style=\"color: gray;\">\r\n                        {{bill.shipping.plan.description}}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div nz-row style=\"padding-right: 16px;\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    {{'Allowed to view goods' | translate}}:\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" class=\"text-end\">\r\n                    <b>{{'Cho phép xem hàng'}} </b>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<nz-modal [nzFooter]=\"null\" [(nzVisible)]=\"isVisibleConfirm\" [nzWidth]=\"800\" [nzTitle]=\"'Confirm in stock' | translate\"\r\n    (nzOnCancel)=\"isVisibleConfirm =false\" (nzOnOk)=\"confirmPacked()\">\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modal-confirm-stock\" nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                    <div class=\"table-header\" nz-col nzSpan=\"24\"><b>{{'Product' |\r\n                            translate}}</b></div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div *ngFor=\"let item of bill['items']\" class=\"info-product\">\r\n                            <div class=\"col-left\"><img width=\"80px\" [src]=\"item.product.thumbnail\"></div>\r\n                            <div class=\"col-right\">\r\n                                <div><b>{{item.product.name}}</b> x{{item.qty}}</div>\r\n                                <div>SKU :<span (click)=\"vhComponent.copyValue(item.product.sku)\">\r\n                                        #{{item.product.sku}} <i style=\"cursor: pointer;\" nz-icon nzType=\"copy\"\r\n                                            nzTheme=\"outline\"></i></span>\r\n                                </div>\r\n                                <div>{{'Selling price' |translate}} : {{vhAlgorithm.vhcurrencyunit(item.price)}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"table-header\"><b>{{'Goods condition' | translate}}</b></div>\r\n                    <div nz-col nzSpan=\"24\" class=\"radio-button\">\r\n                        <nz-radio-group [(ngModel)]=\"bill.confirmation_status\">\r\n                            <label class=\"label green\" nz-radio [nzValue]=\"'seller_confirmed'\">{{'Còn hàng' |\r\n                                translate}}</label>\r\n                            <label class=\"label red\" nz-radio [nzValue]=\"'seller_canceled'\">{{'Hết hàng' |\r\n                                translate}}</label>\r\n                        </nz-radio-group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"right-all-content\">\r\n                <nz-select class=\"seller-inventory\" [(ngModel)]=\"bill.seller_inventory_id\">\r\n                    <nz-option *ngFor=\"let item of dataRestore.sellerInventory['seller_inventories']\"\r\n                        [nzValue]=\"item.id\" [nzLabel]=\"item.name\"></nz-option>\r\n                </nz-select>\r\n                <nz-select class=\"pickup-time\" nzPlaceHolder=\"Chọn thời gian lấy hàng\"\r\n                    [(ngModel)]=\"bill.expected_pickup_time\">\r\n                    <nz-option *ngFor=\"let item of dataRestore.pickupTimes['pickup_slots']\"\r\n                        [nzValue]=\"item.expected_pickup_time\"\r\n                        [nzLabel]=\"item.expected_pickup_slot =='nextday_9am' ? 'Ngày mai sau 9h' : 'Sớm nhất có thể'\">\r\n                    </nz-option>\r\n                </nz-select>\r\n                <button [nzLoading]=\"loadingConfirm\" (click)=\"confirmPacked()\" [disabled]=\"!bill.expected_pickup_time\"\r\n                    class=\"btn-green width-fit-content\" nz-button>\r\n                    {{'Confirm' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-order-status',\r\n  templateUrl: './order-status.component.html',\r\n  styleUrls: ['./order-status.component.scss']\r\n})\r\nexport class OrderStatusComponent implements OnInit {\r\n  searchValue: any;\r\n  salesOrder: Array<any> = []\r\n  salesSubOrder: Array<any> = []\r\n  selectedIndex: number = 0\r\n  loadingConfirm: boolean = false;\r\n  list_status_bill: Array<any> = [\r\n    { name: \"All\", status: \"all\" },\r\n    { name: \"Wait for confirmation\", status: \"queueing\", main_state: 'awaiting_confirmation' },//1\r\n    { name: \"Đang đóng gói\", status: \"queueing\", main_state: 'processing' },//2\r\n    { name: \"Lấy hàng\", main_state: 'processing', main_substate: \"picked_up_from_seller\", main_substate1: \"picking_up_from_seller\" },//3\r\n    { name: \"Lấy hàng thất bại\", main_substate1: \"pickup_failed_2\", main_substate: 'pickup_failed_1' },//4\r\n    { name: \"Tình trạng giao hàng\", status: \"ready_to_ship\", status2: \"shipping\", main_state: 'shipping' },//5\r\n    { name: \"Giao hàng thành công\", status: \"successful_delivery\" },//6\r\n    { name: \"Giao hàng thất bại\", status: \"handover_to_partner\", main_state: 'shipping', main_substate: \"3pl_delivery_failed_1\", main_substate2: \"3pl_delivery_failed_2\", main_substate3: \"3pl_delivery_failed_3\" },\r\n    { name: \"Đang trả hàng về cho nhà bán\", status: \"handover_to_partner\", main_substate: \"3pl_returning_to_seller\", main_state: 'shipping' },//8\r\n    { name: \"Đã hủy (Chưa giao hàng)\", status: \"canceled\", main_state: 'canceled', confirmation_status: 'waiting', confirmation_status1: 'seller_confirmed' },\r\n    { name: \"Trả hàng thành công\", status: \"canceled\", main_state: 'canceled', confirmation_status: 'ready_to_pick' },\r\n  ]\r\n  heightScroll: any;\r\n  widthScroll: any;\r\n  public date: Date[] = [new Date(), new Date()];\r\n  startTimeBackUp: Date;\r\n  endTimeBackUp: Date;\r\n  load_status: boolean = false;\r\n  dataRestore: any;\r\n  sellerInventory: any = {} //kho của shop\r\n  pickupTimes: any = {} //thời gian có thể lấy hàng\r\n  billSelected: any = {}\r\n  /**Giới hạn thời gian cho xem bill */\r\n  disabledDate = (current: Date): boolean => {\r\n    if (current.getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime() - 24 * 60 * 60 * 1000) return true\r\n    return false\r\n  }\r\n  isVisibleConfirm: boolean = false //show modal Xác nhận còn hàng\r\n  infoShop: any = {}\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state?.dataRestore\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n      this.salesOrder = this.dataRestore.salesOrder\r\n      this.salesSubOrder = this.dataRestore.salesSubOrder\r\n      this.countOrderByStatus(this.salesOrder);\r\n      this.load_status = true;\r\n      this.selectedIndex = this.dataRestore.selectedIndex\r\n      this.date = this.dataRestore.date;\r\n    }\r\n    this.infoShop = this.vhQuerySales.getlocalShopListTiki()[0];\r\n    this.getInventoryAndPickupTimes()\r\n  }\r\n  changeTime(event) {\r\n    if (event[1].getTime() - event[0].getTime() <= 2678400000) {\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.lang.translate(\"The time to view no more than 30 days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + 2678313600)]\r\n    }\r\n  }\r\n  getInventoryAndPickupTimes() {\r\n    Promise.all([\r\n      this.vhQuerySales.getSellerInventoriesForConfirmationTiki(this.infoShop.access_token),\r\n      this.vhQuerySales.getExpectedPickupTimesTiki(this.infoShop.access_token)\r\n    ]).then(res => {\r\n      res[0] && (this.sellerInventory = res[0])\r\n      res[1] && (this.pickupTimes = res[1])\r\n      \r\n      \r\n    }).catch(err => { this.vhComponent.alertMessageDesktop('error', this.lang.translate('Xảy ra lỗi khi lấy dữ liệu')) })\r\n  }\r\n  search(value: string) {\r\n    this.segmentChanged(this.selectedIndex)\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n    this.salesOrder = this.vhAlgorithm.searchList(val, [...this.salesOrder], ['code'])\r\n  }\r\n  segmentChanged(event) { // sau này sẽ filter theo trạng thái qua hàm này \r\n    if (event == 0) this.salesOrder = this.salesSubOrder\r\n    else {\r\n      switch (event) {\r\n        case 1: \r\n        case 2: \r\n        case 5: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => (item.status == this.list_status_bill[event].status || item.status == this.list_status_bill[event].status2) && item.main_state == this.list_status_bill[event].main_state)\r\n          break;\r\n        };\r\n        case 3: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => item.main_state == this.list_status_bill[event].main_state && (item.main_substate == this.list_status_bill[event].main_substate || item.main_substate == this.list_status_bill[event].main_substate1))\r\n          break;\r\n        };\r\n\r\n        case 4: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => (item.main_substate == this.list_status_bill[event].main_substate1 || item.main_substate == this.list_status_bill[event].main_substate))\r\n          break;\r\n        }\r\n        case 6: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => item.status == this.list_status_bill[event].status)\r\n          break;\r\n        };\r\n        case 8: \r\n        case 7: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => item.status == this.list_status_bill[event].status && item.main_state == this.list_status_bill[event].main_state && (item.main_substate == this.list_status_bill[event].main_substate || item.main_substate == this.list_status_bill[event].main_substate2 || item.main_substate == this.list_status_bill[event].main_substate3))\r\n          break;\r\n        }\r\n        case 9: \r\n        case 10: {\r\n          this.salesOrder = this.salesSubOrder.filter(item => item.status == this.list_status_bill[event].status && item.main_state == this.list_status_bill[event].main_state && (item.items[0].confirmation.status == this.list_status_bill[event].confirmation_status || item.items[0].confirmation.status == this.list_status_bill[event].confirmation_status1))\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n  \r\n\r\n\r\n  /** Map chứa số lượng đơn hàng theo trạng thái */\r\n  orderCountByStatus: any = {\r\n    'All': 0,\r\n    'Wait for confirmation': 0,\r\n    'Đang đóng gói': 0,\r\n    'Lấy hàng': 0,\r\n    'Lấy hàng thất bại': 0,\r\n    'Tình trạng giao hàng': 0,\r\n    'Giao hàng thành công': 0,\r\n    'Giao hàng thất bại': 0,\r\n    'Đang trả hàng về cho nhà bán': 0,\r\n    'Đã hủy (Chưa giao hàng)': 0,\r\n    'Trả hàng thành công': 0,\r\n  }\r\n\r\n  /**\r\n   * Đếm số lượng đơn hàng theo trạng thái\r\n   * @param orders\r\n   */\r\n  countOrderByStatus(orders) {\r\n    this.orderCountByStatus['All'] = orders.length;\r\n    this.orderCountByStatus['Wait for confirmation'] = orders.filter(order => order.status === 'queueing' && order.main_state === 'awaiting_confirmation').length;\r\n    this.orderCountByStatus['Đang đóng gói'] = orders.filter(order => order.status === 'queueing' && order.main_state === 'processing').length;\r\n    this.orderCountByStatus['Lấy hàng'] = orders.filter(order => order.main_state === 'processing' && (order.main_substate === 'picked_up_from_seller' || order.main_substate === 'picking_up_from_seller')).length;\r\n    this.orderCountByStatus['Lấy hàng thất bại'] = orders.filter(order => order.main_substate === 'pickup_failed_1' || order.main_substate === 'pickup_failed_2').length;\r\n    this.orderCountByStatus['Tình trạng giao hàng'] = orders.filter(order => (order.status === 'ready_to_ship' || order.status === 'shipping') && order.main_state === 'shipping').length;\r\n    this.orderCountByStatus['Giao hàng thành công'] = orders.filter(order => order.status === 'successful_delivery').length;\r\n    this.orderCountByStatus['Giao hàng thất bại'] = orders.filter(order => order.status === 'handover_to_partner' && order.main_state === 'shipping' && (order.main_substate === '3pl_delivery_failed_1' || order.main_substate === '3pl_delivery_failed_2' || order.main_substate === '3pl_delivery_failed_3')).length;\r\n    this.orderCountByStatus['Đang trả hàng về cho nhà bán'] = orders.filter(order => order.status === 'handover_to_partner' && order.main_substate === '3pl_returning_to_seller' && order.main_state === 'shipping').length;\r\n    this.orderCountByStatus['Đã hủy (Chưa giao hàng)'] = orders.filter(order => order.status === 'canceled' && order.main_state === 'canceled' && (order.items[0].confirmation.status === 'waiting' || order.items[0].confirmation.status === 'seller_confirmed')).length;\r\n    this.orderCountByStatus['Trả hàng thành công'] = orders.filter(order => order.status === 'canceled' && order.main_state === 'canceled' && order.items[0].confirmation.status === 'ready_to_pick').length;\r\n  }\r\n\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiki'], {\r\n      state: {\r\n        dataRestore: { dataRestore: this.dataRestore }\r\n      }\r\n    })\r\n  }\r\n  showReport() {\r\n    this.load_status = true;\r\n    this.salesOrder = []\r\n    \r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getSalesOrderListTiki(this.datePipe.transform(new Date(this.date[0].setHours(0, 0, 1)), \"yyyy-MM-dd HH:mm:ss\").toString(), this.datePipe.transform(new Date(this.date[1].setHours(23, 59, 59)), \"yyyy-MM-dd HH:mm:ss\").toString(), this.infoShop.access_token, this.infoShop._id)\r\n        .then((result: any) => {\r\n          // \r\n          // \r\n          \r\n          this.vhComponent.hideLoading(0);\r\n          this.salesOrder = result;\r\n          this.salesSubOrder = result;\r\n          this.countOrderByStatus(this.salesOrder);\r\n          this.segmentChanged(this.selectedIndex);\r\n\r\n        })\r\n        .catch(err => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#order-status-tiki\") && document.querySelector(\".ant-tabs-tab\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".order-status-tiki-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#order-status-tiki\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".order-status-tiki-header\").clientHeight - document.querySelector(\".ant-tabs-tab\").clientHeight - 95 + \"px\";\r\n    }\r\n    if (document.getElementById(\"order-status-tiki\"))\r\n      this.widthScroll = document.getElementById(\"order-status-tiki\").clientWidth + \"px\"\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n  gotoDetail(bill) {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiki/order-status/detail'], { state: { bill: bill, dataRestore: { salesOrder: this.salesOrder, searchValue: this.searchValue, id_shop_selected: this.infoShop._id, date: this.date, salesSubOrder: this.salesSubOrder, selectedIndex: this.selectedIndex, sellerInventory: this.sellerInventory, pickupTimes: this.pickupTimes } } })\r\n  }\r\n  updateStatusComfirm(bill) {\r\n    this.billSelected = bill\r\n    this.billSelected['seller_inventory_id'] = this.sellerInventory['seller_inventories'][0]?.id\r\n    this.billSelected['confirmation_status'] = 'seller_confirmed'\r\n    this.isVisibleConfirm = true\r\n  }\r\n\r\n  /**\r\n   * Xác nhận còn hàng\r\n   */\r\n  confirmPacked() {\r\n    this.loadingConfirm = true\r\n    let json = {\r\n      confirmation_status: this.billSelected.confirmation_status,\r\n      seller_inventory_id: this.billSelected.seller_inventory_id,\r\n      expected_pickup_time: this.billSelected.expected_pickup_time\r\n    }\r\n    this.vhQuerySales.ConfirmEnoughStockForDropShippingByJSONTiki(this.billSelected['code'], json, this.infoShop['access_token']).then((res: any) => {\r\n      if (res.code == 200) {\r\n        this.vhComponent.alertMessageDesktop('success', this.lang.translate('Xác nhận đơn còn hàng thành công'))\r\n        this.billSelected.status = 'picking'\r\n        this.dataRestore = null\r\n      }\r\n      else this.vhComponent.alertMessageDesktop('error', this.lang.translate('Cập nhật thất bại, vui lòng thử lại'))\r\n      this.loadingConfirm = false\r\n      this.isVisibleConfirm = false\r\n    }).catch(err => {\r\n      this.loadingConfirm = false\r\n      this.isVisibleConfirm = false\r\n      this.vhComponent.alertMessageDesktop('error', this.lang.translate('Cập nhật thất bại, vui lòng thử lại'))\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"order-status-tiki\">\r\n    <div nz-row nzGutter=\"4\" class=\"order-status-tiki-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title\">\r\n            <b>{{'Order status'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            {{'Shop name' | translate}}: <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [nzDisabledDate]=\"disabledDate\" nzFormat=\"dd/MM/yyyy\" [(ngModel)]=\"date\"\r\n                (ngModelChange)=\"changeTime($event)\">\r\n            </nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"load_status else no_data\" nz-row nzGutter=\"16\" class=\"order-status-tiki-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                <nz-tab *ngFor=\"let item of list_status_bill\" nzTitle=\"{{item.name | translate}} ({{orderCountByStatus[item.name]}})\">\r\n                </nz-tab>\r\n\r\n            </nz-tabset>\r\n            <nz-table *ngIf=\"salesOrder.length > 0;else no_bill\" [nzScroll]=\"{y: heightScroll }\" #salesOrder_show\r\n                nzShowPagination nzShowSizeChanger [nzData]=\"salesOrder\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Date' | translate}}</b></th>\r\n                        <th nzLeft nzWidth=\"17%\"><b>{{'Order number' | translate}}</b></th>\r\n                        <th><b>{{'Product' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Tiki' | translate}}</b></th>\r\n                        <th style=\"text-align: right;\" nzWidth=\"17%\"><b>{{\"Total\"| translate}}</b></th>\r\n                        <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Canceled reason\" | translate}}</b></th>\r\n                        <!-- <th style=\"text-align: center;\" nzWidth=\"17%\"><b>{{\"Transporter\" | translate}}</b></th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let bill of salesOrder_show.data,index as i\" style=\"cursor: pointer;\"\r\n                        (click)=\"gotoDetail(bill)\">\r\n                        <td nzLeft>\r\n                            {{bill.created_at | date : \"dd/MM/yyyy HH:mm\"}}</td>\r\n                        <td nzLeft> {{bill.code}} <i (click)=\"$event.stopPropagation();vhComponent.copyValue(bill.code)\"\r\n                                nz-icon nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                        </td>\r\n                        <td>\r\n                            <span style=\"font-size: 0.8rem;\" *ngFor=\"let item of bill.items\">\r\n                                {{item.product.name}} (SL: {{item.qty}})\r\n                                <br>\r\n                            </span>\r\n                        </td>\r\n                        <td *ngIf=\"bill.status != 'queueing'\">\r\n                            <ng-container *ngIf=\"bill.main_substate_text; else elseTemplate\">\r\n                                <span>{{bill.main_substate_text | translate}}</span>\r\n                            </ng-container>\r\n                            <ng-template #elseTemplate>\r\n                                <span>{{bill.main_state_text | translate}}</span>\r\n                            </ng-template>\r\n\r\n                        </td>\r\n                        <td *ngIf=\"bill.status == 'queueing'\">\r\n                            <div class=\"left-all-content\">\r\n                                <button class=\"btn-confirm\" nz-button\r\n                                    (click)=\"$event.stopPropagation();updateStatusComfirm(bill)\">\r\n                                    {{'XN còn hàng'}}</button>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"text-align: right;\">\r\n                            <b>{{vhAlgorithm.vhcurrencyunit(bill.invoice.total_seller_income)}}</b>\r\n                        </td>\r\n                        <td style=\"text-align: center;\"><span\r\n                                *ngIf=\"bill.status == 'canceled'\">{{bill.cancel_info.reason_text}}</span></td>\r\n                        <!-- <td style=\"text-align: left;\">{{bill.carrier_name}}</td> -->\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n            <ng-template #no_bill class=\"full-height\">\r\n                <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                    <div>{{'No data'| translate}}</div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <ng-template #no_data>\r\n        <div nz-row class=\"no-affiliate\">\r\n            <div nz-col nzSpan=\"24\" class=\"text-center\">\r\n                <img src=\"assets/icon/management/ecommerce/no-data-orderstatus.svg\" alt=\"\">\r\n                <p>{{\"Please click the view button\"|\r\n                    translate}}</p>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n\r\n</nz-layout>\r\n<nz-modal [nzFooter]=\"null\" [(nzVisible)]=\"isVisibleConfirm\" [nzWidth]=\"800\" [nzTitle]=\"'Confirm in stock' | translate\"\r\n    (nzOnCancel)=\"isVisibleConfirm =false\" (nzOnOk)=\"confirmPacked()\">\r\n    <ng-container *nzModalContent>\r\n        <div class=\"modal-confirm-stock\" nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                    <div class=\"table-header\" nz-col nzSpan=\"24\"><b>{{'Product' |\r\n                            translate}}</b></div>\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <div *ngFor=\"let item of billSelected['items']\" class=\"info-product\">\r\n                            <div class=\"col-left\"><img width=\"80px\" [src]=\"item.product.thumbnail\"></div>\r\n                            <div class=\"col-right\">\r\n                                <div><b>{{item.product.name}}</b> x{{item.qty}}</div>\r\n                                <div>SKU :<span (click)=\"vhComponent.copyValue(item.product.sku)\">\r\n                                        #{{item.product.sku}} <i style=\"cursor: pointer;\" nz-icon nzType=\"copy\"\r\n                                            nzTheme=\"outline\"></i></span>\r\n                                </div>\r\n                                <div>{{'Selling price' |translate}} : {{vhAlgorithm.vhcurrencyunit(item.price)}}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"table-header\"><b>{{'Goods condition' | translate}}</b></div>\r\n                    <div nz-col nzSpan=\"24\" class=\"radio-button\">\r\n                        <nz-radio-group [(ngModel)]=\"billSelected.confirmation_status\">\r\n                            <label class=\"label green\" nz-radio [nzValue]=\"'seller_confirmed'\">{{'Còn hàng' |\r\n                                translate}}</label>\r\n                            <label class=\"label red\" nz-radio [nzValue]=\"'seller_canceled'\">{{'Hết hàng' |\r\n                                translate}}</label>\r\n                        </nz-radio-group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"right-all-content\">\r\n                <nz-select class=\"seller-inventory\" [(ngModel)]=\"billSelected.seller_inventory_id\">\r\n                    <nz-option *ngFor=\"let item of sellerInventory['seller_inventories']\" [nzValue]=\"item.id\"\r\n                        [nzLabel]=\"item.name\"></nz-option>\r\n                </nz-select>\r\n                <nz-select class=\"pickup-time\" nzPlaceHolder=\"Chọn thời gian lấy hàng\"\r\n                    [(ngModel)]=\"billSelected.expected_pickup_time\">\r\n                    <nz-option *ngFor=\"let item of pickupTimes['pickup_slots']\" [nzValue]=\"item.expected_pickup_time\"\r\n                        [nzLabel]=\"item.expected_pickup_slot =='nextday_9am' ? 'Ngày mai sau 9h' : 'Sớm nhất có thể'\">\r\n                    </nz-option>\r\n                </nz-select>\r\n                <button [nzLoading]=\"loadingConfirm\" (click)=\"confirmPacked()\"\r\n                    [disabled]=\"!billSelected.expected_pickup_time\" class=\"btn-green width-fit-content\" nz-button>\r\n                    {{'Confirm' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n","import { DetailComponent } from './detail/detail.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrderStatusComponent } from './order-status.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrderStatusComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [OrderStatusComponent,DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class OrderStatusModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}