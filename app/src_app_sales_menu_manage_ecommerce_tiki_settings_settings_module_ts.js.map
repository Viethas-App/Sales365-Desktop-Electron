{"version":3,"file":"src_app_sales_menu_manage_ecommerce_tiki_settings_settings_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/tiki/settings/settings.component.ts","./src/app/sales/menu/manage/ecommerce/tiki/settings/settings.component.html","./src/app/sales/menu/manage/ecommerce/tiki/settings/settings.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.scss']\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  heightScroll: any;\r\n  listsShop: Array<any> = []\r\n  /**Modal disconnect */\r\n  visible_disconnect: boolean = false;\r\n  shop_selected: any = {}\r\n  dataRestore: any = {};\r\n  haveUpdate: boolean = false;\r\n  loading: boolean = false;\r\n  public listCustomer: any[] = this.vhQuerySales.getlocalCustomers().filter(item => item.type != 3).filter(customer => {\r\n    if (customer['_id'] != \"id_retail\") {\r\n      if (customer['debt_enable'] == true) return true\r\n      else return false\r\n    } return false\r\n  });\r\n  customerShow: Array<any> = []\r\n  modalCustomer: any = {\r\n    visible: false,\r\n    loading: false,\r\n    loadingModal: false,\r\n    name: '',\r\n    id_customer: '',\r\n    info: {},\r\n    existShop: false\r\n  }\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state?.dataRestore\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData()\r\n  }\r\n  getData() {\r\n    this.listsShop = this.vhQuerySales.getlocalShopListTiki();\r\n    this.customerShow = [...this.listCustomer]\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiki'], { state: { dataRestore: { haveUpdate: this.haveUpdate } } })\r\n  }\r\n  /**Hàm chuyển sang trang đăng nhập trên tiki */\r\n  addShop() {\r\n    this.vhQuerySales.signInTiki().then((bool) => { })\r\n  }\r\n  showModalDisconnect(item) {\r\n    this.shop_selected = item;\r\n    this.visible_disconnect = true;\r\n  }\r\n  /**\r\n   * Ngắt kết nối tiki\r\n   */\r\n  acceptDisconnect() {\r\n    this.loading = true\r\n    this.vhQuerySales.signOutTiki(this.shop_selected['_id']).then((bool) => {\r\n      this.loading = false\r\n      this.visible_disconnect = false\r\n      if (bool) this.vhComponent.alertMessageDesktop(\"success\", this.lang.translate(\"Disconnect successfully\"))\r\n      else this.vhComponent.alertMessageDesktop(\"error\", this.lang.translate(\"Disconnect failed\"))\r\n    }).catch(err => {\r\n      this.loading = false\r\n      this.vhComponent.alertMessageDesktop(\"error\", this.lang.translate(\"Disconnect failed\"))\r\n    })\r\n  }\r\n  cancelDisconnect() {\r\n    this.visible_disconnect = false\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#setting-tiki\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".setting-tiki-header\")) {\r\n      this.heightScroll = document.querySelector(\"#setting-tiki\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".setting-tiki-header\").clientHeight - 60 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * Show modal chọn khách hàng, sửa tên shop\r\n   */\r\n  modalUpdateShop(shopInfo: any) {\r\n    let item = { ...shopInfo, data: { ...shopInfo.data } }\r\n    this.modalCustomer['visible'] = true\r\n    this.modalCustomer['loadingModal'] = true;\r\n    this.vhQuerySales.getShopPartner(item._id).then((customer: any) => {\r\n      if (customer) {\r\n        this.modalCustomer['id_customer'] = customer['_id']\r\n        this.modalCustomer['existShop'] = true\r\n      } else if (shopInfo.data['id_customer']) this.modalCustomer['id_customer'] = shopInfo.data['id_customer']\r\n      this.modalCustomer['info'] = shopInfo\r\n      this.modalCustomer['name'] = item.data.name\r\n      this.modalCustomer['loadingModal'] = false\r\n    })\r\n  }\r\n  /**\r\n   * Cập nhật shop\r\n   */\r\n  updateInfoTiki() {\r\n    this.modalCustomer['loading'] = true;\r\n    let data = {\r\n      name: this.modalCustomer['name'],\r\n      id_customer: this.modalCustomer['id_customer'],\r\n      date: this.modalCustomer['info'].data.date\r\n    }\r\n    this.vhQuerySales.updateShop(this.modalCustomer['info']._id, data)\r\n      .then((bool: boolean) => {\r\n        if (bool) {\r\n          this.modalCustomer['info'].data.name = data.name\r\n          this.vhComponent.alertMessageDesktop(\"success\", this.lang.translate(\"Update successfully\"))\r\n        } else this.vhComponent.alertMessageDesktop(\"error\", this.lang.translate(\"Update failed\"))\r\n        this.modalCustomer['loading'] = false;\r\n        this.modalCustomer['visible'] = false\r\n      }).catch(err => console.error(err))\r\n  }\r\n  /**\r\n   * Tìm kiếm tên khách hàng\r\n   */\r\n  search(value: any) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.customerShow = this.vhAlgorithm.searchList(val, [...this.listCustomer], ['phone', 'name'])\r\n    } else this.customerShow = [...this.listCustomer]\r\n  }\r\n  cancelModalUpdateInfo() {\r\n    this.modalCustomer['visible'] = false;\r\n    this.modalCustomer['id_customer'] = ''\r\n    this.modalCustomer['name'] = ''\r\n    this.modalCustomer['existShop'] = false\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"setting-tiki\">\r\n    <div nz-row nzGutter=\"8\" class=\"setting-tiki-header\">\r\n        <div nz-col nzSpan=\"20\" class=\"title\">\r\n            <b>{{'Shop settings'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\"addShop()\" class=\"btn-green\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                    {{'Add'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div nz-row nzGutter=\"16\" class=\"setting-tiki-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-table [nzShowPagination]=\"false\" [nzScroll]=\"{ y: heightScroll }\" nzNoResult=\"{{'No data'| translate}}\"\r\n                [nzData]=\"listsShop\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"85%\"><b>{{'Shop name' | translate}}</b></th>\r\n                        <th nzAlign=\"center\" nzWidth=\"15%\"><b>{{'Functions' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let item of listsShop\">\r\n                        <tr>\r\n                            <td>{{item.name}}</td>\r\n                            <td nzAlign=\"center\">\r\n                                <span (click)=\"modalUpdateShop(item)\" class=\"icon-link green\"\r\n                                    [nzTooltipTitle]=\"'Edit' | translate\" nzTooltipPlacement=\"top\" nz-button nz-tooltip>\r\n                                    <i nz-icon nzType=\"edit\" nzTheme=\"outline\"></i>\r\n                                </span>\r\n                                <span (click)=\"showModalDisconnect(item)\" [nzTooltipTitle]=\"'Disconnect' | translate\"\r\n                                    nzTooltipPlacement=\"top\" nz-button nz-tooltip>\r\n                                    <i nz-icon class=\"icon-link red\" nzType=\"link\" nzTheme=\"outline\"></i>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n\r\n\r\n<!-- --------------modal disconnect------------------ -->\r\n<nz-modal [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooter\" [nzWidth]=\"600\" [(nzVisible)]=\"visible_disconnect\"\r\n    nzTitle=\"{{'Disconnect' | translate}}\" (nzOnCancel)=\"cancelDisconnect()\" (nzOnOk)=\"acceptDisconnect()\">\r\n    <div *nzModalContent>\r\n        <div nz-row>\r\n            <div class=\"modal-disconnect\" nz-col nzSpan=\"24\">\r\n                <p>{{\"Are you sure to disconnect this shop\" | translate}}?</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ng-template #modalFooter>\r\n        <div class=\"footerModal right-all-content\">\r\n            <div>\r\n                <button class=\"btn-white\" nz-button (click)=\"cancelDisconnect()\">{{\"Cancel\" | translate}}</button>\r\n            </div>\r\n            <div><button [nzLoading]=\"loading\" nz-button class=\"btn-green\" (click)=\"acceptDisconnect()\">{{\"Ok\" |\r\n                    translate}}</button></div>\r\n        </div>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- Modal thêm khách hàng -->\r\n<nz-modal nzWidth=\"400px\" [nzFooter]=\"modalFooterSettings\" [(nzVisible)]=\"modalCustomer['visible']\"\r\n    nzTitle=\"{{'Edit' | translate}}\" (nzOnCancel)=\"cancelModalUpdateInfo()\" (nzOnOk)=\"updateInfoTiki()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-spin style=\"position: absolute;left: 50%;top: 50%;transform: translate(-50%, -50%);z-index: 1000;\"\r\n            [nzTip]=\"'Please wait...'|translate\" [nzSpinning]=\"modalCustomer['loadingModal']\" nzSimple>\r\n        </nz-spin>\r\n        <div *ngIf=\"modalCustomer['loadingModal'] ==false\" nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"update-info-modal\">\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"update-info-modal\">\r\n                        <h5>{{\"Shop name\" | translate}}: {{modalCustomer['info'].name}}</h5>\r\n                        <nz-select [nzDisabled]=\"modalCustomer['existShop']\" [(ngModel)]=\"modalCustomer['id_customer']\"\r\n                            [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" class=\"cus-select\" nzShowSearch\r\n                            nzPlaceHolder=\"{{'Select customer'| translate}}\">\r\n                            <nz-option *ngFor=\"let item of customerShow\" nzValue=\"{{item._id}}\"\r\n                                nzLabel=\"{{item.name}} - {{item.phone}} \">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"cus-select-note\">**{{\"This customer will be assigned a debt to this shop when the invoice is issued\"|translate}}\r\n                        </span>\r\n                        <span class=\"cus-select-note\">\r\n                            {{\"The selected customer cannot be changed when issued invoice\" | translate}}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterSettings>\r\n        <button class=\"nz-hover-border\" nz-button (click)=\"cancelModalUpdateInfo()\">{{\"Cancel\" | translate}}</button>\r\n        <button [disabled]=\"!modalCustomer['name'] || !modalCustomer['id_customer']\"\r\n            [nzLoading]=\"modalCustomer['loading']\" nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white) !important\"\r\n            (click)=\"updateInfoTiki()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SettingsComponent } from './settings.component';\r\nimport { FormsModule } from '@angular/forms';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsComponent,\r\n  },\r\n]\r\n@NgModule({\r\n  declarations: [\r\n    SettingsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class SettingsModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}