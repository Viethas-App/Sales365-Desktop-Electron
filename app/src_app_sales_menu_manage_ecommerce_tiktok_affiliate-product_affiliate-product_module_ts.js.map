{"version":3,"file":"src_app_sales_menu_manage_ecommerce_tiktok_affiliate-product_affiliate-product_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/tiktok/affiliate-product/affiliate-product.component.ts","./src/app/sales/menu/manage/ecommerce/tiktok/affiliate-product/affiliate-product.component.html","./src/app/sales/menu/manage/ecommerce/tiktok/affiliate-product/affiliate-product.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhEcommerce, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-affiliate-product',\r\n  templateUrl: './affiliate-product.component.html',\r\n  styleUrls: ['./affiliate-product.component.scss']\r\n})\r\nexport class AffiliateProductComponent implements OnInit {\r\n  listProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listSubProduct: Array<any> = []; //danh sách product theo từng id_shop\r\n  listProductApp: Array<any> = []; //sp của app chứa tiktoks[]\r\n  listSubProductApp: Array<any> = []; //sp của app chứa tiktoks[]\r\n  /**----------------------------------- */\r\n  infoShop: any = {};\r\n  searchValue: any = '';\r\n  heightScroll: any;\r\n  /**\r\n   * Modal chọn sản phẩm liên kết\r\n   */\r\n  visible_affiliate: boolean = false;\r\n  isLoading: boolean = false;\r\n  searchOnTiktok: string = '';\r\n  listProductSelected: Array<any> = [];\r\n  id_product_selected: string = '';\r\n  setHeight = { \"max-height\": \"500px\", \"height\": \"500px\", \"overflow-y\": \"hidden\" };\r\n  loading: boolean = false;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id;\r\n  filterAffiliate: 1 | 2 | 3 = 1; // filter những sp đã liên kết 1 : tất cả , 2: sp chưa liên kết , 3 : sp đã liên kết\r\n  constructor(\r\n    private router: Router,\r\n    public lang: LanguageService,\r\n    public vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhEcommerce: VhEcommerce\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n\r\n\r\n  }\r\n  getData() {\r\n    this.infoShop = this.vhEcommerce.getlocalShopListTiktok()[0];\r\n    this.changeShop(this.infoShop._id);\r\n  }\r\n  /**\r\n   * Hàm này để get những sp từ  sàn ra, đồng thời get những sản phẩm từ app ra, merge lại\r\n   * sau đó show ra theo sp cha là sp của app, sp con là sản phẩm của sàn\r\n   * Note : những sp liên kết rồi hoặc sp tạm ẩn sẽ không nằm trong listProduct\r\n   * @param id : id_shop đã chọn\r\n   * @example this.changeShop('FENIWDKASDWIUOYHWIDD')\r\n   */\r\n  changeShop(id) {\r\n    let localProducts: Array<any> = this.vhQuerySales.getlocalDetailProducts(35).filter(e => !e.delete_hidden);\r\n    this.listProductApp = localProducts.map(item => {\r\n      let unit = this.vhQuerySales.getUnit_byRatio(item.units, 1);\r\n      if (item[this.id_branch] && item[this.id_branch].tiktoks && item[this.id_branch].tiktoks.length) { //filter những sp tiktok thuộc id shopee đã chọn\r\n        item[this.id_branch].product_tiktoks = [...item[this.id_branch].tiktoks.filter(prod => prod.id_shop == id)];\r\n      }\r\n      return { ...item, ...unit };\r\n    });\r\n    this.listSubProductApp = this.listProductApp;\r\n\r\n    this.listProduct = this.clearProductShow(this.vhEcommerce.getlocalProductListTiktok(this.infoShop['_id']).filter(item => item.status == 'ACTIVATE'), this.listProductApp);\r\n    this.listSubProduct = this.cloneDeepProducts();\r\n    this.search(this.searchValue);\r\n\r\n  }\r\n  trackByFn(index, item) {\r\n    return index;\r\n  }\r\n  /**Xóa những sp đã được liên kết rồi ra khỏi mảng của modal danh sách sp liên kết\r\n   * @example this.clearProductShow(listProductTiktok, listProductApp)\r\n   */\r\n  clearProductShow(listProduct, listProductApp) {\r\n    for (let prodApp of listProductApp) {\r\n      if (prodApp[this.id_branch] && prodApp[this.id_branch].tiktoks && prodApp[this.id_branch].tiktoks.length) {\r\n        let arrayProdTiktok = prodApp[this.id_branch].tiktoks;\r\n        for (let item of arrayProdTiktok) {\r\n          let indexProd = listProduct.findIndex(prod => prod.id == item.id);\r\n          if (indexProd >= 0) {\r\n            if (listProduct[indexProd].skus && item.skus && item.skus.length) {\r\n              for (let skus of item.skus) {\r\n                let index = listProduct[indexProd].skus.findIndex(data => data.id == skus.id);\r\n                if (index >= 0) listProduct[indexProd].skus.splice(index, 1);\r\n              }\r\n              if (!listProduct[indexProd].skus.length) listProduct.splice(indexProd, 1);\r\n            } else listProduct.splice(indexProd, 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return listProduct;\r\n  }\r\n  /**\r\n   * trở về trang quản lý shopee\r\n   * @example this.goBack()\r\n   */\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiktok']);\r\n  }\r\n\r\n  /**\r\n   * search tên sản phẩm trong app viethas\r\n   * @example this.search('Sản phẩm A')\r\n   */\r\n  search(value: string) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProductApp = this.vhAlgorithm.searchList(val, [...this.listSubProductApp], ['name', 'barcode', 'item_code']);\r\n    this.filterAffilateProduct();\r\n  }\r\n  /**\r\n * Lọc sản phẩm đã liên kết/ chưa liên kết\r\n * @example this.filterAffilateProduct()\r\n */\r\n  filterAffilateProduct() {\r\n    switch (this.filterAffiliate) {\r\n      case 1: break;\r\n      case 2: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (!prodApp[this.id_branch]?.tiktoks?.length) return true;\r\n        else return !prodApp[this.id_branch]?.tiktoks.some(item => item.id_shop == this.infoShop['_id']);\r\n      }); break;\r\n      case 3: this.listProductApp = this.listProductApp.filter(prodApp => {\r\n        if (prodApp[this.id_branch]?.tiktoks?.length)\r\n          return prodApp[this.id_branch].tiktoks.some(item => item.id_shop == this.infoShop['_id']);\r\n        else return false;\r\n      }); break;\r\n    }\r\n  }\r\n  /**\r\n   * Mở modal và gán id_product của sp app để sau khi click button ok sẽ lấy id_product nào đem đi liên kết\r\n   * @param product\r\n   * @example  this.openModelSelectProductsTiktok(product)\r\n   */\r\n  openModelSelectProductsTiktok(product) {\r\n    this.id_product_selected = product.id_subproduct ? product.id_subproduct : product['_id'];\r\n    this.visible_affiliate = true;\r\n  }\r\n  /**\r\n   * Thêm sản phẩm vào mảng chuẩn bị liên kết\r\n   * @param bool\r\n   * @param product\r\n   * @param skus\r\n   *  @example this.addProductAffilate(true, product, skus)\r\n   */\r\n  addProductAffilate(bool, product, sku) {\r\n    let indexProd = this.listProductSelected.findIndex(item => item.id == product.id);\r\n    if (bool) {\r\n      if (indexProd < 0) {\r\n        this.listProductSelected.push({\r\n          id_shop: this.infoShop._id,\r\n          id: product.id,\r\n          SkuIds: [{ id: sku.id }]\r\n        });\r\n      } else\r\n        this.listProductSelected[indexProd].SkuIds.push({ id: sku.id });\r\n    } else {\r\n      let indexDelete = this.listProductSelected[indexProd].SkuIds.findIndex(item => item.id == sku.id);\r\n      if (indexDelete >= 0) this.listProductSelected[indexProd].SkuIds.splice(indexDelete, 1);\r\n      if (this.listProductSelected[indexProd].SkuIds.length == 0) this.listProductSelected.splice(indexProd, 1);\r\n    }\r\n  }\r\n  /**\r\n   * Thêm lần lượt các sản phẩm liên kết trong mảng listProductSelected, sau khi liên kết xong sẽ refresh lại sp\r\n   * @example this.acceptAfiliate()\r\n   */\r\n  acceptAfiliate() {\r\n    this.visible_affiliate = false;\r\n    const product = this.vhQuerySales.getlocalDetailProduct(this.id_product_selected);\r\n    const isZeroPriceCombo = product.type === VhType.COMBO && product.units[0].price === 0;\r\n\r\n    const confirmZeroPriceComboMessage = this.lang.translate(\"This product is a combo with a price of 0. Do you still want to link it with the product\", { platform: 'Tiktok' }) + \"?\";\r\n\r\n    const linkProducts = () => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.affilateMultipleProduct(this.listProductSelected).then(res => {\r\n          this.vhComponent.hideLoading().then(() => {\r\n            setTimeout(() => {\r\n              this.listProductSelected = [];\r\n              this.changeShop(this.infoShop._id);\r\n              this.vhComponent.showToast(1500, this.lang.translate(\"Product linked successfully\"), \"success-toast\");\r\n            }, 300);\r\n          });\r\n        }).catch(err => {\r\n          this.listProductSelected = [];\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"The product link failed\"), \"alert-toast\");\r\n          this.vhComponent.hideLoading(0);\r\n        });\r\n      });\r\n    };\r\n\r\n    if (isZeroPriceCombo) {\r\n      this.vhComponent.alertConfirm(\r\n        this.lang.translate(\"Confirm\"),\r\n        \"\",\r\n        confirmZeroPriceComboMessage,\r\n        \"Ok\",\r\n        this.lang.translate(\"Cancel\")\r\n      ).then(() => {\r\n        linkProducts();\r\n      }).catch(() => {\r\n      });\r\n    } else {\r\n      linkProducts();\r\n    }\r\n  }\r\n  /**\r\n   * Hàm này sẽ thêm lần lượt các sản phẩm cần được liên kết, sau khi liên kết xong sẽ resolve về kết quả\r\n   * @param products\r\n   * @returns\r\n   */\r\n  affilateMultipleProduct(products) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      let action = async () => {\r\n        for (let index = 0; index < products.length; index++) {\r\n          try {\r\n            this.vhEcommerce.addMergeTiktokProduct_skus(this.vhQuerySales.getlocalDetailProduct(this.id_product_selected), products[index].id, products[index].SkuIds, this.infoShop['_id'], this.id_branch)\r\n              .then((bool) => {\r\n\r\n                if (!bool) reject(false);\r\n                if (index == products.length - 1) resolve(true);\r\n              }, error => {\r\n\r\n              });\r\n          } catch (err) { reject(false); }\r\n          if (+index == products.length - 1) resolve(true);\r\n        }\r\n      };\r\n      action();\r\n    });\r\n  }\r\n  /**\r\n   * Tắt modal và clone mảng product ra một mảng mới để tránh nhớ lại product cũ bị checked\r\n   */\r\n  cancelAffiliate() {\r\n    this.listProductSelected = [];\r\n    this.visible_affiliate = false;\r\n    this.searchOnTiktok = '';\r\n    this.listProduct = this.cloneDeepProducts(this.listSubProduct);\r\n  }\r\n  /**\r\n   * Hàm tìm kiếm sản phẩm trong modal của shopee, với value truyền vào là dữ liệu search\r\n   * @param value\r\n   */\r\n  searchTiktok(value) {\r\n    let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase());\r\n    this.listProduct = this.vhAlgorithm.searchList(val, [...this.listSubProduct], ['title', 'id']);\r\n  }\r\n  /**\r\n   * Gỡ liên kết sp của app với sản phẩm trên sản, hàm cần 3 tham số\r\n   * @param id_product của sp trong app\r\n   * @param id định danh của sp cha\r\n   * @param id định danh của sản phẩm con\r\n   */\r\n  removeAffiliate(product, item_id, SkuId) {\r\n    this.vhComponent.alertConfirm(this.lang.translate(\"Confirm\"), \"\", this.lang.translate(\"Are you sure to remove this product\") + \"?\", \"Ok\", this.lang.translate(\"Cancel\")).then(() => {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhEcommerce.deleteMergeTiktokProduct_skus(product, item_id, SkuId, this.infoShop['_id'], this.id_branch).then((bool) => {\r\n          if (bool) {\r\n            this.vhComponent.hideLoading(0).then(() => {\r\n              setTimeout(() => {\r\n                this.changeShop(this.infoShop._id);\r\n                this.vhComponent.showToast(1500, this.lang.translate(\"The product has been successfully unlinked\"), 'success-toast');\r\n              }, 500);\r\n            });\r\n          } else { this.vhComponent.showToast(1500, this.lang.translate(\"The product link failed\"), 'alert-toast'); this.vhComponent.hideLoading(0); }\r\n        }).catch((err) => { console.error(err); this.vhComponent.hideLoading(0); });\r\n      });\r\n    }).catch(() => { });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#affiliate-product\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".affiliate-product-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#affiliate-product\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".affiliate-product-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 60 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * Show/hide sản phẩm con liên kết với sp của app\r\n   * @param productApp\r\n   */\r\n  renderProductTiktoks(productApp) {\r\n    if (!productApp.expand && !productApp.loaded) {\r\n      let productTiktok = this.vhEcommerce.getlocalProductListTiktok(this.infoShop['_id']);\r\n      if (productApp[this.id_branch] && productApp[this.id_branch].tiktoks && productApp[this.id_branch].tiktoks.length) {\r\n        for (let indexProd in productApp[this.id_branch].tiktoks) {\r\n          let prodTiktok = productTiktok.find(item => item.id == productApp[this.id_branch].tiktoks[indexProd].id);\r\n          if (prodTiktok && productApp[this.id_branch].tiktoks[indexProd].skus.length) {\r\n            for (let index in productApp[this.id_branch].tiktoks[indexProd].skus) {\r\n              let findModel = prodTiktok.skus.find(item => item.id == productApp[this.id_branch].tiktoks[indexProd].skus[index].id);\r\n              if (findModel) productApp[this.id_branch].tiktoks[indexProd].skus[index] = { ...findModel };\r\n            }\r\n            productApp[this.id_branch].product_tiktoks[indexProd] = { ...prodTiktok, ...productApp[this.id_branch].tiktoks[indexProd] };\r\n          } else if (prodTiktok && !productApp[this.id_branch].tiktoks[indexProd].skus.length)\r\n            productApp[this.id_branch].product_tiktoks[indexProd] = { ...prodTiktok, ...productApp[this.id_branch].tiktoks[indexProd] };\r\n        }\r\n        productApp.loaded = true;\r\n      }\r\n    }\r\n    productApp.expand = !productApp.expand;\r\n  }\r\n  /**Clone mảng subproduct trong những sp được show ra */\r\n  cloneDeepProducts(subProducts?) {\r\n    let products = [];\r\n    products = (subProducts || this.listProduct).map(item => {\r\n      item.expandLoading = false;\r\n      item.expandModal = false;\r\n      item.isChecked = false;\r\n      if (item.skus && item.skus.length) {\r\n        item.skus = item.skus.map(data => {\r\n          data.isChecked = false;\r\n          return data;\r\n        });\r\n      }\r\n      return item;\r\n    });\r\n    return [...products];\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"affiliate-product\">\r\n    <div nz-row nzGutter=\"8\" class=\"affiliate-product-header\">\r\n        <div nz-col nzSpan=\"6\" class=\"title\">\r\n            <b>{{'Link products in the store with products on Tiktok' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <!-- <nz-select nzPlaceHolder=\"{{'Select shop on Tiktok' | translate}}\" nzShowSearch\r\n                [(ngModel)]=\"id_shop_selected\" (ngModelChange)=\"changeShop($event)\">\r\n                <nz-option *ngFor=\"let option of listShop\" nzLabel=\"{{option.data.name}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select> -->\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\">\r\n            <nz-select [(ngModel)]=\"filterAffiliate\" (ngModelChange)=\"search(searchValue)\">\r\n                <nz-option nzLabel=\"{{'All products' | translate}}\" [nzValue]=1>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Unlinked products' | translate}}\" [nzValue]=2>\r\n                </nz-option>\r\n                <nz-option nzLabel=\"{{'Linked products' | translate}}\" [nzValue]=3>\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input [(ngModel)]=\"searchValue\" (ngModelChange)=\"search($event)\" type=\"text\" nz-input placeholder=\"{{'Search for product Sales Viethas' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n    </div>\r\n    <div nz-row nzGutter=\"16\" class=\"affiliate-product-body\">\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\" #list_product_show nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProductApp\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"3%\"><b></b></th>\r\n                        <th nzWidth=\"10%\"><b>{{'Image' | translate}}</b></th>\r\n                        <th nzWidth=\"30%\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th nzWidth=\"15%\"><b>{{'Status on Tiktok' | translate}}</b></th>\r\n                        <th nzAlign=\"right\" nzWidth=\"15%\"><b>{{\"Selling price\"| translate}}</b></th>\r\n                        <th nzWidth=\"12%\"><b>{{\"Functions\" | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr>\r\n                            <td>\r\n                                <i class=\"icon-expand\" *ngIf=\"item[id_branch] && item[id_branch].product_tiktoks && item[id_branch].product_tiktoks.length\" (click)=\"renderProductTiktoks(item)\" nz-icon [nzType]=\"item.expand ? 'up' : 'down'\" nzTheme=\"outline\">\r\n                              </i>\r\n                            </td>\r\n                            <td>\r\n                                <img [ngStyle]=\"{width: item.img ? '40px' : '30px'}\" onerror=\"this.src='./assets/icon/management/image_default.svg'\" [src]=\"item.img\" width=\"40px\" height=\"40px\" />\r\n                            </td>\r\n                           \r\n                            <td>\r\n                                <b>{{item.name}}</b>  <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.name)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i><br>\r\n                                <span>{{'Item code' | translate}}: {{item.item_code}} <i\r\n                                (click)=\"$event.stopPropagation();vhComponent.copyValue(item.item_code)\" nz-icon\r\n                                nzType=\"copy\" nzTheme=\"outline\"></i></span>\r\n\r\n                            </td>\r\n                            <td>{{item.status}}</td>\r\n                            <td nzAlign=\"right\"><b>{{vhAlgorithm.vhcurrencyunit(item.price)}}</b></td>\r\n                            <td nzAlign=\"center\"><i (click)=\"openModelSelectProductsTiktok(item)\" class=\"icon-link green\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expand && item.loaded\">\r\n                            <ng-container *ngFor=\"let product of item[id_branch].product_tiktoks\">\r\n                                <tr *ngIf=\"!product.skus\">\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td style=\"padding-left: 24px;\">\r\n                                        <span *ngIf=\"product.title\">{{product.title}}</span>\r\n                                        <span class=\"color-red\" *ngIf=\"!product.title\">\r\n                                            {{'Error products, please delete the link' | translate}}</span>\r\n                                        <p>{{'SKU' | translate}}:\r\n                                            <span class=\"color-green\">{{product.id}}</span>\r\n                                        </p>\r\n                                    </td>\r\n                                    <td>{{product.status | translate}}</td>\r\n                                    <td nzAlign=\"right\">\r\n                                        <span *ngIf=\"product.title\">{{vhAlgorithm.vhcurrencyunit(product.price_info[0]?.current_price)}}</span>\r\n                                    </td>\r\n                                    <td nzAlign=\"center\"><i (click)=\"removeAffiliate(item,product.id,product.id)\" class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i></td>\r\n                                </tr>\r\n                                <ng-container *ngIf=\"product.skus\">\r\n                                    <tr *ngFor=\"let model of product.skus\">\r\n                                        <td></td>\r\n                                        <td></td>\r\n                                        <td style=\"padding-left: 24px;\">\r\n                                            <span *ngIf=\"product.title\">{{product.title}}</span>\r\n                                            <span class=\"color-red\" *ngIf=\"!product.title\">\r\n                                                {{'Error products, please delete the link' | translate}}</span>\r\n                                            <p>{{'SKU' | translate}}:\r\n                                                <span class=\"color-green\">{{model.id}}</span>\r\n                                            </p>\r\n                                        </td>\r\n                                        <td>{{product.status | translate}}</td>\r\n                                        <td nzAlign=\"right\">\r\n                                            <span  >\r\n                                                {{vhAlgorithm.vhcurrencyunit(model.price.tax_exclusive_price)}}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td nzAlign=\"center\"><i (click)=\"removeAffiliate(item,product.id,model.id)\" class=\"icon-link red\" nz-icon nzType=\"link\" nzTheme=\"outline\"></i></td>\r\n                                    </tr>\r\n                                </ng-container>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n    </div>\r\n\r\n</nz-layout>\r\n\r\n\r\n<!-- --------------modal chọn sản phẩm liên kết--------------- -->\r\n<nz-modal class=\"model-link-product-ecommerce\" [nzMaskClosable]=\"false\" [nzFooter]=\"modalFooter\" [nzWidth]=\"650\"\r\n    [nzBodyStyle]=\"setHeight\" [(nzVisible)]=\"visible_affiliate\"\r\n    nzTitle=\"{{'Select Tiktok linked products' | translate}}\" (nzOnCancel)=\"cancelAffiliate()\"\r\n    (nzOnOk)=\"acceptAfiliate()\" [nzOkLoading]=\"isLoading\">\r\n    <div *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\" class=\"title center-all-content\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input [(ngModel)]=\"searchOnTiktok\" (ngModelChange)=\"searchTiktok($event)\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for product name' | translate}}\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <nz-table class=\"product-table-modal-ecommerce\" [nzPageSize]=\"20\"\r\n                [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '400px' }\" #list_product_show\r\n                nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"listProduct\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"10%\"></th>\r\n                        <th nzWidth=\"15%\"></th>\r\n                        <th nzWidth=\"45%\"></th>\r\n                        <th nzWidth=\"30%\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody class=\"product\">\r\n                    <ng-container *ngFor=\"let item of list_product_show.data;trackBy: trackByFn\">\r\n                        <tr class=\"product-item\">\r\n                            <td>\r\n                                <i class=\"icon-expand\" (click)=\"item.expandModal = !item.expandModal\" nz-icon\r\n                                    [nzType]=\"item.expandModal ? 'up' : 'down'\" nzTheme=\"outline\"></i>\r\n                            </td>\r\n                            <td>\r\n                                <!-- <img [ngStyle]=\"{width: (item.images || item.skus[0].Images[0]) ? '40px' : '30px'}\"\r\n                                    onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                    [src]=\"item.images[0] || item.skus[0].Images[0]\" width=\"40px\" height=\"40px\" /> -->\r\n                            </td>\r\n                            <td class=\"product-item-name\">\r\n                                <span>{{item.title}}</span>\r\n                                <span>SKU :{{item.id}}</span>\r\n                            </td>\r\n                            <td></td>\r\n                        </tr>\r\n                        <ng-container *ngIf=\"item.expandModal\">\r\n                            <tr *ngFor=\"let data of item.skus\" class=\"product-item-sub\">\r\n                                <td></td>\r\n                                <td class=\"product-item-sub-checkbox\">\r\n                                    <label [(ngModel)]=\"data.isChecked\"\r\n                                        (ngModelChange)=\"addProductAffilate($event,item,data)\" nz-checkbox></label>\r\n                                </td>\r\n                                <td class=\"product-item-sub-name\">\r\n                                    <span>{{item.title}}\r\n                                        <span class=\"color-green\"\r\n                                            *ngIf=\"data.color_family\">({{data.color_family}})</span>\r\n                                    </span>\r\n                                    <div>{{'SKU id' | translate}} : {{data.id}}</div>\r\n\r\n                                </td>\r\n                                <td class=\"product-item-sub-price\">\r\n                                    <b>{{vhAlgorithm.vhcurrencyunit(data.price.tax_exclusive_price)}}</b>\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </tbody>\r\n            </nz-table>\r\n        </div>\r\n        <ng-template #no_data>\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"24\" class=\"no-data\">{{'No data'|translate}}\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </div>\r\n    <ng-template #modalFooter>\r\n        <div class=\"footerModal\">\r\n            <div class=\"footerModal-button center-all-content\">\r\n                <button (click)=\"cancelAffiliate()\" class=\"btn-white\" nz-button>{{\"Cancel\" | translate}}</button>\r\n                <button [nzLoading]=\"loading\" [disabled]=\"!listProductSelected.length\" (click)=\"acceptAfiliate()\"\r\n                    nz-button class=\"btn-green\">{{\"Confirm\" | translate}}</button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-modal>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AffiliateProductComponent } from './affiliate-product.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AffiliateProductComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [AffiliateProductComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ScrollingModule\r\n  ]\r\n})\r\nexport class AffiliateProductModule { }\r\n"],"names":["VhType","i0","$event","ctx_r40","ctx_r42","item_r7","ctx_r4","AffiliateProductComponent","constructor","router","lang","vhComponent","vhAlgorithm","vhQuerySales","cdRef","vhEcommerce","getDefaultBranch","_id","ngOnInit","getData","infoShop","getlocalShopListTiktok","changeShop","id","localProducts","getlocalDetailProducts","filter","e","delete_hidden","listProductApp","map","item","unit","getUnit_byRatio","units","id_branch","tiktoks","length","product_tiktoks","prod","id_shop","listSubProductApp","listProduct","clearProductShow","getlocalProductListTiktok","status","listSubProduct","cloneDeepProducts","search","searchValue","trackByFn","index","prodApp","arrayProdTiktok","indexProd","findIndex","skus","data","splice","goBack","navigate","value","val","changeAlias","trim","toLowerCase","searchList","filterAffilateProduct","filterAffiliate","_a","_b","_c","some","openModelSelectProductsTiktok","product","id_product_selected","id_subproduct","visible_affiliate","addProductAffilate","bool","sku","listProductSelected","push","SkuIds","indexDelete","acceptAfiliate","getlocalDetailProduct","isZeroPriceCombo","type","COMBO","price","confirmZeroPriceComboMessage","translate","platform","linkProducts","showLoading","then","affilateMultipleProduct","res","hideLoading","setTimeout","showToast","catch","err","alertConfirm","products","Promise","resolve","reject","action","addMergeTiktokProduct_skus","error","cancelAffiliate","searchOnTiktok","searchTiktok","removeAffiliate","item_id","SkuId","deleteMergeTiktokProduct_skus","console","ngAfterViewChecked","document","querySelector","heightScroll","clientHeight","detectChanges","renderProductTiktoks","productApp","expand","loaded","productTiktok","prodTiktok","find","findModel","Object","subProducts","expandLoading","expandModal","isChecked","selectors","decls","vars","consts","template","ctx","_r5"],"sourceRoot":"webpack:///"}