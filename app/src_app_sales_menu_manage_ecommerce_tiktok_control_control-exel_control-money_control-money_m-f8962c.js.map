{"version":3,"file":"src_app_sales_menu_manage_ecommerce_tiktok_control_control-exel_control-money_control-money_m-f8962c.js","mappings":"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","sources":["./src/app/sales/menu/manage/ecommerce/tiktok/control/control-exel/control-money/control-money.component.ts","./src/app/sales/menu/manage/ecommerce/tiktok/control/control-exel/control-money/control-money.component.html","./src/app/sales/menu/manage/ecommerce/tiktok/control/control-exel/control-money/control-money.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit, TemplateRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuery, VhAuth, VhEcommerce } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-control-money',\r\n  templateUrl: './control-money.component.html',\r\n  styleUrls: ['./control-money.component.scss']\r\n})\r\nexport class ControlMoneyComponent implements OnInit {\r\n  nameFile: string = \"\";\r\n  listData: any[] = [];\r\n  listSearchData: any[] = [];\r\n  dataRestore: any;\r\n  heightScroll: any;\r\n  listOrderCode: any = [];\r\n  bill_selected: any = {};\r\n  totalRevenue = 0;\r\n  isUpdateManual = false;\r\n  tooltipTitle = 'Vui lòng chuyển tệp từ đuôi .csv sang .xlsx trước khi nhập tệp.';\r\n  infoShop: any = {};\r\n  constructor(\r\n    private vhEcommerce: VhEcommerce,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    private router: Router,\r\n    private languageService: LanguageService,\r\n    private nzModalService: NzModalService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhQuery: VhQuery,\r\n    private vhAuth: VhAuth,\r\n    private modal: NzModalService,\r\n    private datePipe: DatePipe,\r\n  ) {\r\n    this.dataRestore = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.listOrderCode = [];\r\n    this.infoShop = this.vhEcommerce.getlocalShopListTiktok()[0];\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#control-automation\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\"#control-automation-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.heightScroll = document.querySelector(\"#control-automation\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\"#control-automation-header\").clientHeight - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  search(value: string) {\r\n    if (!this.listData.length && value.length) {\r\n      this.isUpdateManual = true;\r\n      this.totalRevenue = 0;\r\n      // this.vhEcommerce.Tiktok\r\n      this.vhComponent.showLoading('').then(() => {\r\n        Promise.all([this.vhEcommerce.getSalesOrderTiktok_fromViethas([value], this.infoShop._id),\r\n        this.vhEcommerce.getSalesOrderDetailTiktok(value, this.infoShop.shop_cipher, this.infoShop.app_key, this.infoShop.access_token, this.infoShop._id)\r\n        ])\r\n          .then((array: any) => {\r\n\r\n\r\n            this.vhComponent.hideLoading(0);\r\n            if (!array[1]) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Not found\"));\r\n            else {\r\n              this.listData = [{\r\n                ...array[1], ...array[0][0],\r\n                bill_code: value,\r\n                amount: array[1].total_amount, type: 'Orders-Sales',\r\n                name_control_cashflow: array[0][0].verify_status_payment ? `${this.vhAuth.getlocalEmployee(array[0][0].id_verifier_payment).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(array[0][0].verify_date_payment)}` : '',\r\n              }];\r\n              this.totalRevenue = array[1].total_amount;\r\n            }\r\n          }, error => {\r\n            this.vhComponent.hideLoading(0);\r\n          });\r\n      });\r\n    }\r\n    else {\r\n      if (value.length)\r\n        this.listData = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.listSearchData, ['bill_code']);\r\n      else this.listData = this.listSearchData;\r\n    }\r\n  }\r\n\r\n  /**Chọn file */\r\n  openFile() {\r\n    document.getElementById(\"file_excel_product\")['value'] = '';\r\n    document.getElementById(\"file_excel_product\").click();\r\n\r\n  }\r\n  /**Mở CSVFile */\r\n  openXLSXFile(events) {\r\n    this.isUpdateManual = false;\r\n    this.totalRevenue = 0;\r\n    if (events.target.files[0]) {\r\n      // lưu tên file\r\n      this.nameFile = events.target.files[0]['name'].slice(0, events.target.files[0]['name'].lastIndexOf(\".\"));\r\n\r\n      this.vhAlgorithm.importXLSX(events.target.files[0]).then((data: any) => {\r\n        if (data.length > 2000) { // nếu hơn 200 thì báo\r\n          this.vhComponent.alertMessage(\"\", this.languageService.translate(\"Only 200 order can be imported at a time\"), \"\", \"OK\").then(() => {\r\n            this.listData = [];\r\n          });\r\n        } else {\r\n          // Modify each object in `data` in-place\r\n          for (let i = 0; i < data.length; i++) {\r\n            const original = data[i];\r\n            const cleaned = {};\r\n\r\n            for (const key in original) {\r\n              const trimmedKey = key.trim();\r\n              cleaned[trimmedKey] = original[key];\r\n            }\r\n\r\n            data[i] = cleaned;\r\n          }\r\n          this.listData = [];\r\n          let datas = [];\r\n          if (data.length) {\r\n\r\n            // nếu không có 1 trong 2 trường này thì file đó sai định dạng\r\n            if (!data[0]['Order/adjustment ID'] || !data[0]['Total settlement amount']) {\r\n              this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Fail file format\"));\r\n              this.listData = [];\r\n            }\r\n            else // nếu có đủ 2 trường thì push vào mảng tạm để xữ lý\r\n              this.vhComponent.showLoading(\"\").then(() => {\r\n                data.forEach((item, index) => {\r\n                  // xử lý bỏ dấu , ở trường amount nếu nó là chuỗi\r\n                  datas.push({\r\n                    amount: item['Total settlement amount'] ? item['Total settlement amount'].toString() : 0,\r\n                    bill_code: item['Order/adjustment ID'],\r\n                    date_settled: new Date(item['Order settled time']),\r\n                    date_created: new Date(item['Order created time']),\r\n                  });\r\n\r\n                  if (index == data.length - 1) { // push tới dòng cuối thì xử lý lấy dữ liệu từ database\r\n                    // datas mảng import từ file exel\r\n                    // listdata mảng show ra html\r\n                    // get OrderSale từ database viethas bằng list ordercode từ file excel\r\n                    this.vhEcommerce.getSalesOrderTiktok_fromViethas(this.getOrderId(datas), this.infoShop._id)\r\n                      .then((array: any) => {\r\n                        this.vhComponent.hideLoading(0);\r\n                        // if (!array[0]) { // nếu get về bằng null thì set trạng thái = false nhưng vẫn show danh sách đã import\r\n                        //   datas.forEach(item => {\r\n                        //     item.verify_status_payment = false;\r\n                        //     if (item.bill_code) this.totalRevenue += parseFloat(item.amount);\r\n                        //   });\r\n                        // }\r\n                        // else { // ngược lại gán ngày và kiểm tra đã đối soát hay chưa\r\n\r\n                        // }\r\n                        for (let i in array) {\r\n                          if (array[i]) {\r\n                            let arr = datas.filter(item => array[i]._id == item.bill_code);\r\n                            for (let j in arr) {\r\n                              arr[j].verify_status_payment = array[i].verify_status_payment ? array[i].verify_status_payment : false;\r\n                              arr[j].name_control_cashflow = array[i].verify_status_payment ? `${this.vhAuth.getlocalEmployee(array[i].id_verifier_payment).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(array[i].verify_date_payment)}` : '';\r\n                            }\r\n                          }\r\n                        }\r\n                        // tính doanh thu\r\n                        datas.forEach(item => {\r\n                          if (item.bill_code) this.totalRevenue += parseFloat(item.amount);\r\n                        });\r\n                        this.listData = datas; // show ra html\r\n                        this.listSearchData = this.listData;\r\n                        this.listOrderCode = this.getOrderIdUpdate(datas);\r\n                        //\r\n\r\n                      }, error => {\r\n                        this.vhComponent.hideLoading(0);\r\n                      }).catch(err => this.vhComponent.hideLoading(0));\r\n\r\n                  }\r\n                });\r\n\r\n              });\r\n          }\r\n        }\r\n      }).catch(err => {\r\n        this.vhComponent.hideLoading(0);\r\n        this.listData = [];\r\n        this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Fail file format\"));\r\n      });\r\n    }\r\n  }\r\n\r\n  handleBillCode(value: string) {\r\n    let regex = /\\#[a-zA-Z0-9]{14,}$/;\r\n    return value.match(regex) ? value.match(regex).toString().trim().substr(1,) : '';\r\n  }\r\n\r\n  getOrderIdUpdate(arr) {\r\n    var newArr = [];\r\n    newArr = arr.filter(i => !i.verify_status_payment).map(item => { return item.bill_code; }).filter((item) => {\r\n      return newArr.includes(item) ? '' : newArr.push(item);\r\n    });\r\n    return newArr;\r\n  }\r\n\r\n  getOrderId(arr) {\r\n    var newArr = [];\r\n    newArr = arr.map(item => { return item.bill_code; }).filter((item) => {\r\n      return newArr.includes(item) ? '' : newArr.push(item);\r\n    });\r\n    return newArr;\r\n  }\r\n\r\n  /**Render date theo định dạng ngày/tháng/năm */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd/MM/yyyy HH:mm\");\r\n  }\r\n\r\n  startAuto() {\r\n    this.modal.confirm({\r\n      nzTitle: '<i>' + this.languageService.translate('Confirm to control') + '</i>',\r\n      nzOnOk: () => {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          let shop = this.vhEcommerce.getlocalShopListTiktok().find(data => data._id == this.infoShop._id);\r\n          if (this.listOrderCode.length) {\r\n            this.vhEcommerce.updateSalesOrderTiktok_byFile(this.listOrderCode, {\r\n              verify_status_payment: true,\r\n              verify_date_payment: new Date().toISOString(),\r\n              id_verifier_payment: this.vhAuth.getUser()._id,\r\n\r\n            }, shop.shop_cipher, shop.app_key, shop.access_token, shop._id)\r\n              .then((res: any) => {\r\n                if (res.filter(item => !item).length == res.length) this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\"));\r\n                // xữ lý hiện checkbox\r\n                else {\r\n                  for (let i in res) {\r\n                    if (!res[i]) this.listData[this.listData.findIndex(item => item.bill_code == this.listOrderCode[i])].verify_status_payment = false;\r\n                    else {\r\n                      this.listData[this.listData.findIndex(item => item.bill_code == this.listOrderCode[i])].verify_status_payment = true;\r\n                      this.listData[this.listData.findIndex(item => item.bill_code == this.listOrderCode[i])].name_control_cashflow = `${this.vhAuth.getUser().name} ${this.languageService.translate(\"has checked\")} ${this.format_date(new Date())}`;\r\n                    }\r\n                  }\r\n                }\r\n                this.vhComponent.hideLoading(0);\r\n              }, error => {\r\n                this.vhComponent.hideLoading(0);\r\n              });\r\n          }\r\n          else {\r\n            this.vhComponent.hideLoading(0);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n  * hàm này để cập nhật đơn hàng lưu vào database của mình\r\n  * @param bill\r\n  * @param data\r\n  */\r\n  updateRefund(bill, updateForControl: TemplateRef<{}>) {\r\n    if (bill['verify_status_payment']) { // nếu update từ false trang true\r\n      this.bill_selected = bill; // gán bill\r\n      this.bill_selected['verify_date_payment'] = new Date().toISOString(); // gán ngày update là ngày hôm nay\r\n      this.modal.confirm({ // show modal xác nhận\r\n        nzTitle: this.languageService.translate(\"Check this order\"),\r\n        nzContent: updateForControl,\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => { // chọn ok\r\n          return new Promise((resolve, reject) => {\r\n            let value: any = {}; // giá trị các trường sẽ update\r\n            value['verify_status_payment'] = true;\r\n            value['verify_date_payment'] = this.bill_selected['verify_date_payment'];\r\n            value['id_verifier_payment'] = this.vhAuth.getUser()._id;\r\n            // hàm update\r\n\r\n\r\n            this.vhEcommerce.updateSalesOrderTiktok_byFile([bill.bill_code], value, this.infoShop.shop_cipher, this.infoShop.app_key, this.infoShop.access_token, this.infoShop._id).then((bool) => {\r\n\r\n\r\n              if (bool[0]) { // nếu update thành công thì gán tên nhân viên khi hover checkbox\r\n                bill['name_control_cashflow'] = `${this.vhAuth.getlocalEmployee(value['id_verifier_payment']).name} ${this.languageService.translate(\"has checked\")} ${this.format_date(value['verify_date_payment'])}`;\r\n                resolve(true); // ẩn  modal\r\n                console.log(bill);\r\n              } else { this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); resolve(false); }\r\n            },\r\n              error => {\r\n                console.error(error); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false);\r\n              }).catch(err => { console.error(err); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false); });\r\n          });\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_payment'] = false; },\r\n        nzCancelText: this.languageService.translate(\"Cancel\")\r\n      });\r\n    } else {\r\n      this.modal.confirm({\r\n        nzTitle: this.languageService.translate(\"Confirm\") + \"?\",\r\n        nzContent: this.languageService.translate(\"Cancel check this order\"),\r\n        nzOkText: 'OK',\r\n        nzOnOk: () => {\r\n          return new Promise((resolve, reject) => {\r\n            this.vhEcommerce.updateSalesOrderTiktok_byFile([bill.bill_code], { verify_status_payment: false, id_employee_control_cashflow: this.vhAuth.getUser()._id }, this.infoShop.shop_cipher, this.infoShop.app_key, this.infoShop.access_token, this.infoShop._id).then((bool) => {\r\n              //\r\n              if (bool[0]) {\r\n                resolve(true);\r\n              } else { this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); resolve(false); }\r\n            },\r\n              error => {\r\n                console.error(error); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false);\r\n              }).catch(err => { console.error(err); this.vhComponent.alertMessageDesktop('warning', this.languageService.translate(\"Vui lòng xem lại shop đã chọn hoặc file excel!\")); reject(false); });\r\n          });\r\n        },\r\n        nzOnCancel: () => { bill['verify_status_payment'] = true; },\r\n        nzCancelText: this.languageService.translate(\"Cancel\")\r\n      });\r\n    }\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/ecommerce/tiktok/control/control-exel'], {\r\n      state: { dataRestore: { ...this.dataRestore } }\r\n    });\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back'|translate}}\r\n</div>\r\n<nz-layout id=\"control-automation\">\r\n    <div nz-row style=\"padding-bottom: 16px;z-index: 99;\" id=\"control-automation-header\">\r\n        <div nz-col nzSpan=\"3\" class=\"title left-all-content\">\r\n            <b>{{ 'Money control' |translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"title left-all-content\">\r\n            {{'Shop name' | translate}} : <b class=\"color-green\">{{infoShop.data?.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"title center-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input #box type=\"text\" (keyup.enter)=\"search(box.value)\" nz-input\r\n                    placeholder=\"{{('Search for order code' | translate)}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i style=\"cursor: pointer;\" (click)=\"search(box.value)\" nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"7\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\"openFile()\" class=\"btn-data center-all-content\"\r\n                    nzTooltipTitle=\"{{ tooltipTitle | translate}}\" nzTooltipPlacement=\"bottom\" nz-button nz-tooltip\r\n                    nzType=\"default\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"upload\" nzTheme=\"outline\"></i>\r\n                    {{'Import file'|translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button (click)=\"startAuto()\" [disabled]=\"!listData.length ||  isUpdateManual\"\r\n                    class=\"btn-data center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"retweet\" nzTheme=\"outline\"></i>\r\n                    {{'Confirm to control'|translate}}</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <nz-table [nzScroll]=\"{  y: heightScroll }\" #salesOrder_show nzShowPagination nzShowSizeChanger [nzData]=\"listData\"\r\n        [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n        <thead>\r\n            <tr>\r\n                <th nzWidth=\"5%\"><b>{{\"No.\" | translate}}</b></th>\r\n                <!-- <th nzLeft nzWidth=\"15%\"><b>{{'Order day' | translate}}</b></th> -->\r\n                <th nzLeft nzWidth=\"15%\"><b>{{'Payment date' | translate}}</b></th>\r\n                <th nzWidth=\"20%\"><b>{{\"Order date\"| translate}}</b></th>\r\n                <th nzWidth=\"25%\"><b>{{\"Order number\"| translate}}</b></th>\r\n                <th nzWidth=\"25%\" class=\"text-end\"><b>{{\"_amount\"| translate}}</b></th>\r\n                <th nzWidth=\"15%\" style=\"text-align: center;\"><b>{{\"For control\"| translate}}</b></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr>\r\n                <td colspan=\"4\" class=\"color_green\" nzAlign=\"left\"><b>{{'Revenue' | translate}}</b></td>\r\n                <td nzAlign=\"right\" class=\"color_green\" nzWidth=\"15%\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(totalRevenue)}}</b>\r\n                </td>\r\n                <td nzWidth=\"11%\" nzAlign=\"center\"></td>\r\n                <td nzWidth=\"14%\" nzAlign=\"center\"></td>\r\n            </tr>\r\n            <ng-container *ngFor=\"let form of salesOrder_show.data ; let i = index\">\r\n                <tr *ngIf=\"form.bill_code\">\r\n                    <td nzWidth=\"5%\">{{i+ 1}}</td>\r\n                    <!-- <td nzWidth=\"15%\">{{form['order_date_time_stamp'] | date:\"dd/MM/yyyy HH:mm\"}}</td> -->\r\n                    <td nzWidth=\"15%\">{{form['date_settled'] | date:\"dd/MM/yyyy\"}}</td>\r\n                    <td nzWidth=\"20%\">\r\n                        {{form['date_created'] | date:\"dd/MM/yyyy\"}}\r\n                    </td>\r\n                    <td nzWidth=\"25%\">\r\n                        {{form['bill_code']}} <i\r\n                            (click)=\"$event.stopPropagation();vhComponent.copyValue(form.bill_code)\" nz-icon\r\n                            nzType=\"copy\" nzTheme=\"outline\"></i>\r\n                    </td>\r\n\r\n                    <td nzWidth=\"45%\" class=\"text-end\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(form['amount'])}}</b>\r\n                    </td>\r\n                    <td nzWidth=\"15%\" nzAlign=\"center\">\r\n                        <label [(ngModel)]=\"form['verify_status_payment']\" nz-button nz-checkbox\r\n                            (ngModelChange)=\"updateRefund(form,updateForControl)\" [nzTooltipPlacement]=\"'left'\"\r\n                            [nzTooltipColor]=\"'var(--ion-color-vh-green)'\"\r\n                            [nzTooltipTitle]=\"form['verify_status_payment'] ? form.name_control_cashflow: ''\"\r\n                            nzTooltipPlacement=\"top\" nz-button nz-tooltip nz-checkbox>\r\n                        </label>\r\n                    </td>\r\n                </tr>\r\n            </ng-container>\r\n\r\n        </tbody>\r\n    </nz-table>\r\n    <ng-template #updateForControl let-params>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"24\">\r\n                <span>{{\"Date\"| translate}}: </span>\r\n                <nz-date-picker nzFormat=\"dd/MM/yyyy\" style=\"margin-left:20px\"\r\n                    [(ngModel)]=\"bill_selected.verify_date_payment\">\r\n                </nz-date-picker>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n</nz-layout>\r\n<input type=\"file\" style=\"display: none;\" id=\"file_excel_product\"\r\n    accept=\".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n    (change)=\"openXLSXFile($event)\" />\r\n","import { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core'; \r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ControlMoneyComponent } from './control-money.component';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ControlMoneyComponent\r\n  }, \r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ControlMoneyComponent\r\n  ],\r\n  imports: [ \r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class ControlMoneyModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}