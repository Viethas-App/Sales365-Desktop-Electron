{"version":3,"file":"src_app_sales_menu_manage_reports_best-selling-products_best-selling-products_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/reports/best-selling-products/best-selling-products.component.ts","./src/app/sales/menu/manage/reports/best-selling-products/best-selling-products.component.html","./src/app/sales/menu/manage/reports/best-selling-products/best-selling-products.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport ApexCharts, { ApexOptions } from 'apexcharts';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { TopReport } from 'src/app/sales/interface/vh-report';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-best-selling-products',\r\n  templateUrl: './best-selling-products.component.html',\r\n  styleUrls: ['./best-selling-products.component.scss']\r\n})\r\nexport class BestSellingProductsComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  dataReport: TopReport = this.initDataReport();\r\n  branchList: Array<any> = [];\r\n  search_branchList: Array<any> = [];\r\n  id_branch_report: string = ''\r\n  // đồ thị\r\n  chart: ApexCharts;\r\n  dataColor: Array<any> = [\"#Ffda45\", \"#48c0e3\", \"#f9be57\", \"#ee3d85\", \"#f8756d\", \"#c667ca\", \"#d6df3a\", \"#06467b\", \"#3c86c7\", \"#1fd2cd\", \"#F8765B\"];\r\n  type: \"sales\" | \"quantity\" = \"sales\";\r\n  useBranch: boolean = this.fncService.checkUsingBranch();\r\n  heightScroll: number;\r\n  constructor(\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe,\r\n    public router: Router,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n  }\r\n  ngOnInit() {\r\n    this.getBranches()\r\n  }\r\n  ngAfterViewInit() {\r\n    this.chart = new ApexCharts(document.querySelector(\"#chart-top-products\"), this.initOption([], []));\r\n    this.chart.render();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#layout\").clientHeight && document.querySelector(\"#header\").clientHeight)\r\n      this.heightScroll = document.querySelector(\"#layout\").clientHeight - document.querySelector(\"#header\").clientHeight - 16;\r\n    this.cdRef.detectChanges()\r\n  }\r\n  showReport() {\r\n    this.getData()\r\n  }\r\n\r\n  /**\r\n   * đổi chi nhánh xem báo cáo\r\n   * @param event \r\n   */\r\n  changeBranch(event) {\r\n    this.id_branch_report = event\r\n  }\r\n  initDataReport(startTime: Date = new Date(), endTime: Date = new Date()): TopReport {\r\n    startTime.setHours(0, 0, 0, 0)\r\n    endTime.setHours(23, 59, 59, 59)\r\n    return { startTime, endTime, sales: [], quantity: [] }\r\n  }\r\n\r\n  /**\r\n   * gán dữ liệu cho chart\r\n   * @param series \r\n   * @param labels \r\n   * @returns \r\n   */\r\n  initOption(series, labels): ApexOptions {\r\n    return {\r\n      series: series,\r\n      chart: { type: \"pie\" },\r\n      dataLabels: {\r\n        dropShadow: { enabled: false }\r\n      },\r\n      colors: this.dataColor,\r\n      labels: labels,\r\n      fill: { type: \"solid\", colors: this.dataColor },\r\n      legend: { show: false },\r\n      yaxis: {\r\n        labels: { formatter: (value) => { return (this.type == \"sales\" ? this.vhAlgorithm.vhcurrencyunit_symbol(value) : value.toString()) } }\r\n      },\r\n      states: {\r\n        active: { filter: { type: \"none\" } },\r\n        normal: { filter: { type: \"none\" } },\r\n        hover: { filter: { type: \"none\" } }\r\n      },\r\n      noData: {\r\n        text: (this.languageService.translate('No data!'))\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi thời gian xem báo cáo\r\n   * @param event \r\n   */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n      this.dataReport = this.initDataReport(event[0], event[1])\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n      this.dataReport = this.initDataReport(new Date(this.date[0]), new Date(this.date[1]))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * thay đổi xem loại báo cáo daonh số hay số lượng\r\n   * @param type \r\n   */\r\n  changeType(type) {\r\n    this.chart.updateOptions(this.initOption(this.dataReport[type].map(prod => prod.value), this.dataReport[type].map(prod => prod.label)))\r\n  }\r\n\r\n  \r\n /**\r\n  * xem báo cáo\r\n  */\r\n  getData() {\r\n    this.vhComponent.showLoadingNotDuration(\"\").then(() => {\r\n      this.vhQuerySales.getReportSales_Products_byProducts(this.dataReport['startTime'], this.dataReport['endTime'], 'all', VhType.PRODUCT, this.id_branch_report).then(res => {\r\n        this.dataReport['sales'] = this.transformTop10(res.docs.map(prod => { return { label: prod.name, value: prod['sales_atax'] } }).sort((prev, next) => next.value - prev.value))\r\n        this.dataReport['quantity'] = this.transformTop10(res.docs.map(prod => { return { label: prod.name, value: prod['quantity'] } }).sort((prev, next) => next.value - prev.value))\r\n        this.changeType(this.type)\r\n      }).finally(() => {\r\n        this.vhComponent.hideLoading(0);\r\n        \r\n\r\n      }\r\n      )\r\n    })\r\n  }\r\n  /**\r\n   * xử lý lấy trong top 10\r\n   * @param array \r\n   * @returns Array[object]\r\n   */\r\n  private transformTop10(array: Array<{ label: string, value: number }>): Array<{ label: string, value: number }> {\r\n    let dataFresh: Array<{ label: string, value: number }> = []\r\n    if (array.length > 10) {\r\n      let sales_other = { label: this.languageService.translate(\"Others\"), value: 0 }\r\n      for (let i = 10; i < array.length; i++) {\r\n        sales_other['value'] += array[i].value\r\n      }\r\n      dataFresh = array.slice(0, 10); dataFresh.push(sales_other)\r\n    } else dataFresh = [...array]\r\n    for (let i = 0; i < dataFresh.length; i++) {\r\n      dataFresh[i]['color'] = this.dataColor[i];\r\n    }\r\n    return dataFresh\r\n  }\r\n  /**\r\n   * get chi nhánh được xem báo cáo của user\r\n   */\r\n  getBranches() {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()] // danh sách toàn bộ chi nhánh\r\n    let employee = this.vhAuth.getUser() // thông tn nhân viên\r\n    let defaultBranch = this.vhQuerySales.getDefaultBranch()._id // chi nhánh mặc định khi đăng nhập (lấy id chi nhánh)\r\n\r\n    if (this.useBranch) { // kiểm tra xem có 2 chi nhánh trở lên\r\n\r\n      if (employee['owner'] == 'boss') { // kiểm tra tài khoản đăng nhập là boss\r\n        this.branchList = branches // gán danh sách chi nhánh show ra HTML\r\n        if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        this.id_branch_report = defaultBranch // gán mặc định chi nhánh mặc định xem báo cáo là chi nhánh đăng nhập vô\r\n      }\r\n\r\n      else { // trường hợp tài khoản là nhân viên\r\n        this.vhAuth.getPermission(employee['_id']).then(result => { // get quyền nhân viên được xem báo cáo chi nhánh nào\r\n          branches.forEach(item => {\r\n            if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item }) // kiểm tra chi nhánh đc xem báo cáo, gán cho branchList show ra HMLT \r\n          })\r\n          if (this.branchList.length > 1) { // trường hợp được xem báo cáo 2 chi nhánh trở lên\r\n            this.branchList.unshift({ _id: \"all\", name: \"All\" }) // đẩy xem tất cả vô, nếu có 2 chi nhánh trở lên\r\n            for (let i in this.branchList) {\r\n              if (this.branchList[i]._id == defaultBranch) return this.id_branch_report = defaultBranch // nếu có gán chi nhánh xem báo mặc định là chi nhánh mặc định (đăng nhập)\r\n              else this.id_branch_report = this.branchList[1]._id // ngược lại gán chi nhánh mặc định là chi nhánh thứ 1\r\n            }\r\n          }\r\n          else if (this.branchList.length == 1) { // nếu chỉ đc xem báo cáo 1 chi nhánh , lấy mặc định là chi nhánh đó\r\n            this.id_branch_report = this.branchList[0]._id\r\n          }\r\n          else this.vhComponent.alertMessageDesktop(\"warning\", \"Bạn không được chọn chi nhánh xem báo cáo\") // kg có chi nhánh xem báo cáo\r\n        })\r\n      }\r\n      this.search_branchList = this.branchList\r\n    } else this.id_branch_report = defaultBranch // chỉ xài 1 chi nhánh \r\n  }\r\n\r\n  /**\r\n   * lọc chi nhánh theo tên\r\n   * @param value \r\n   */\r\n  search(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.branchList = this.vhAlgorithm.searchList(tempVal, this.search_branchList, ['name'])\r\n    else this.branchList = this.search_branchList\r\n  }\r\n  /////////////////////////////////////////////Xuất báo cáo///////////////////////////////////////////////////\r\n  status: boolean = false;\r\n  /**\r\n   * tải báo cáo về dạng hình ảnh\r\n   */\r\n  downloadImg() {\r\n    this.status = true\r\n    this.vhComponent.downloadImg(\"chart-image\",\r\n      `${this.languageService.translate(\"_best_selling_products_report\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.dataReport.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.dataReport.endTime)}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`).then(() => this.status = false)\r\n  }\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports']);\r\n  }\r\n  /** */\r\n  indexTab: number = 0;\r\n  listTab: Array<any> = [{ _id: 0, name: \"sales\", type: \"sales\" }, { _id: 1, name: \"Quantity\", type: \"quantity\" }]\r\n   /**\r\n   * bắt sk thay dổi tab xem báo cáo\r\n   * @param id \r\n   */\r\n  areaChanged(id) {\r\n    this.type = this.listTab[id].type\r\n    this.changeType(this.type)\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"layout\">\r\n    <div nz-row id=\"header\">\r\n        <div nz-col [nzSpan]=\"useBranch ? 6 : 10\" class=\"title left-all-content\">\r\n            <b>{{'Best-selling products'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\">\r\n            <div class=\"center-all-content date-picker-cus\">\r\n                 <nz-range-picker nzFormat='dd/MM/yyyy'  [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"useBranch\" nz-col nzSpan=\"5\" class=\"center-all-content\">\r\n            <nz-select nzShowSearch [nzServerSearch]=\"true\" nzBorderless nzPlaceHolder=\"{{'Select branch' | translate}}\" (nzOnSearch)=\"search($event)\" [(ngModel)]=\"id_branch_report\">\r\n                <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col [nzSpan]=\"useBranch ? 5 : 6\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\"downloadImg()\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n          {{'Download' | translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button [disabled]=\"!id_branch_report.length\" class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n            </div>\r\n        </div>\r\n        <div nz-col nzSpan=\"24\">\r\n            <nz-tabset nzSelectedIndex=\"{{indexTab}}\">\r\n                <nz-tab (nzSelect)=\"areaChanged(tab._id)\" *ngFor=\"let tab of listTab\" nzTitle=\"{{ tab.name |translate}}\">\r\n                </nz-tab>\r\n            </nz-tabset>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 8px;overflow-y: auto;\" id=\"chart-image\" [ngStyle]=\"{'height.px': heightScroll}\" class=\"hideScrollbar\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div id=\"chart-top-products\"></div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div class=\"scroll\" *ngFor=\"let i of dataReport[type]\">\r\n                    <div class=\"khung_l\" [style.backgroundColor]=\"i.color\"></div>\r\n                    <div class=\"title_l\">{{i.label}}</div>\r\n                    <div class=\"total_l\">{{type == 'quantity' ? i.value : vhAlgorithm.vhcurrencyunit_symbol(i.value)}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BestSellingProductsComponent } from './best-selling-products.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BestSellingProductsComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BestSellingProductsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    IonicModule,\r\n  ]\r\n})\r\nexport class BestSellingProductsModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}