{"version":3,"file":"src_app_sales_menu_manage_reports_input-output-inventory_input-output-inventory_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/reports/input-output-inventory/detail/detail.component.ts","./src/app/sales/menu/manage/reports/input-output-inventory/detail/detail.component.html","./src/app/sales/menu/manage/reports/input-output-inventory/input-output-inventory.component.ts","./src/app/sales/menu/manage/reports/input-output-inventory/input-output-inventory.component.html","./src/app/sales/menu/manage/reports/input-output-inventory/input-output-inventory.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\nimport { SalesComponent } from 'src/app/sales/components/bill-detail/sales/sales.component';\r\nimport { WarrantyComponent } from 'src/app/sales/components/bill-detail/warranty/warranty.component';\r\nimport { CustomerReturnComponent } from 'src/app/sales/components/bill-detail/customer-return/customer-return.component';\r\nimport { OpenningStockComponent } from 'src/app/sales/components/bill-detail/openning-stock/openning-stock.component';\r\nimport { DeliveryGoodsComponent } from 'src/app/sales/components/bill-detail/delivery-goods/delivery-goods.component';\r\nimport { RecieveGoodsComponent } from 'src/app/sales/components/bill-detail/recieve-goods/recieve-goods.component';\r\nimport { PurchaseComponent } from 'src/app/sales/components/bill-detail/purchase/purchase.component';\r\nimport { ReturnSupplierComponent } from 'src/app/sales/components/bill-detail/return-supplier/return-supplier.component';\r\nimport { ExchangePaymentCardComponent } from 'src/app/sales/components/bill-detail/exchange-payment-card/exchange-payment-card.component';\r\nimport { ExchangeVoucherComponent } from 'src/app/sales/components/bill-detail/exchange-voucher/exchange-voucher.component';\r\nimport { DestroyProductComponent } from 'src/app/sales/components/bill-detail/destroy-product/destroy-product.component';\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n  detail: any;\r\n  inOutStockDetail: any = this.init()\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_input_output_inventory;\r\n  stateObj: any;\r\n  init() {\r\n    return { outquantity: 0, inquantity: 0, cost_atax: 0, cost_btax: 0, revenue_atax: 0, revenue_btax: 0, list: [] }\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private datePipe: DatePipe,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n    if (data) {\r\n      this.stateObj = data.stateObj;\r\n      this.detail = data.detail;\r\n\r\n      if (data.inOutStockDetail) this.inOutStockDetail = data.inOutStockDetail\r\n      else this.doRefresh();\r\n    }\r\n  }\r\n\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight) - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * xem báo cáo\r\n   * @example this.doRefresh()\r\n   */\r\n  doRefresh() {\r\n    this.vhComponent.showLoadingNotDuration(\"\", \"transparent-loading\").then(() => {\r\n      this.getInOutStockDetail()\r\n        .then(res => {\r\n\r\n          \r\n          this.inOutStockDetail['list'] = res['docs']\r\n          // .map(item => {\r\n          //   let element = {\r\n          //     id_bill: item['id_bill'],\r\n          //     name: item['name'],\r\n          //     date: item['date'],\r\n          //     bill_type: item['bill_type'],\r\n          //     bill_code: item['bill_code'],\r\n          //     price_atax: item['price_atax'],\r\n          //     price_btax: item['price_btax'],\r\n          //     unit: item['unit'],\r\n          //     lots: item['lots']\r\n          //   }\r\n          //   if ([2, 3, 9, 31,39].includes(item.bill_type)) {\r\n          //     element['inquantity'] = item.quantity\r\n          //     element['outquantity'] = 0\r\n          //     element['cost_btax'] = item.payment_btax\r\n          //     element['cost_atax'] = item.payment_atax\r\n          //     element['revenue_btax'] = 0\r\n          //     element['revenue_atax'] = 0\r\n          //   } else {\r\n          //     element['inquantity'] = 0\r\n          //     element['outquantity'] = item.quantity\r\n          //     element['revenue_btax'] = item.payment_btax\r\n          //     element['revenue_atax'] = item.payment_atax\r\n          //     element['cost_btax'] = 0\r\n          //     element['cost_atax'] = 0\r\n          //   }\r\n          //   return element\r\n          // })\r\n          this.inOutStockDetail['outquantity'] = res['outquantity']\r\n          this.inOutStockDetail['inquantity'] = res['inquantity']\r\n          this.inOutStockDetail['cost_atax'] = res['cost_atax']\r\n          this.inOutStockDetail['cost_btax'] = res['cost_btax']\r\n          this.inOutStockDetail['revenue_atax'] = res['revenue_atax']\r\n          this.inOutStockDetail['revenue_btax'] = res['revenue_btax']\r\n        }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   * @example this.getInOutStockDetail()\r\n   */\r\n  getInOutStockDetail() {\r\n    return new Promise((resolve, rejects) => {\r\n      if (this.detail['type_report'] !== 0) { \r\n        this.vhQuerySales.getReportInputOutputInventory_Detail_byTime_byIDProduct(this.stateObj.inOutStock.startTime, this.stateObj.inOutStock.endTime, this.detail.id_subproduct ? this.detail.id_subproduct : this.detail.id_product, this.stateObj.id_branch_report)\r\n          .then(res => resolve(res)).catch(err => rejects(err))\r\n      } else {\r\n        this.vhQuerySales.getReportInputOutput_Detail_byTime_byIDProduct(this.stateObj.inOutStock.startTime, this.stateObj.inOutStock.endTime, this.detail.id_subproduct ? this.detail.id_subproduct : this.detail.id_product, this.stateObj.id_branch_report)\r\n          .then(res => resolve(res)).catch(err => rejects(err))\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * mở modal component xem thông tin bill của từng loại bill-type tương ứng\r\n   * @param item \r\n   * @example this.goToDetail(bill_selected)\r\n   */\r\n  goToDetail(item) {\r\n    \r\n\r\n    switch (item.bill_type) {\r\n      case 1: {\r\n        return this.vhComponent.showModal(SalesComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 2: {\r\n        return this.vhComponent.showModal(PurchaseComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 3: {\r\n        return this.vhComponent.showModal(CustomerReturnComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 9: {\r\n        return this.vhComponent.showModal(OpenningStockComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 10: {\r\n        return this.vhComponent.showModal(ReturnSupplierComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 15: {\r\n        return this.vhComponent.showModal(WarrantyComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 30: {\r\n        return this.vhComponent.showModal(DeliveryGoodsComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 31: {\r\n        return this.vhComponent.showModal(RecieveGoodsComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 41: {\r\n        return this.vhComponent.showModal(ExchangeVoucherComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 51: {\r\n        return this.vhComponent.showModal(ExchangePaymentCardComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 38: {\r\n        if (!item.id_bill) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Xuất hủy hàng hóa từ cân bằng kho\"))\r\n          break;\r\n        }\r\n        else {\r\n          return this.vhComponent.showModal(DestroyProductComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n            .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n        }\r\n      }\r\n      case 39: {\r\n        this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Nhập bù hàng hóa từ cân bằng kho\"))\r\n        break;\r\n      }\r\n    }\r\n    // setTimeout(() => {\r\n    //   let state: any = { id: bill.id_bill, bill_type: bill.bill_type, stateObj: this.stateObj, detail: this.detail, inOutStockDetail: this.inOutStockDetail }\r\n    //   if (bill.bill_type == 9) this.router.navigate([`/dashboard/manage/reports/input-output-inventory/detail-opening-stock`], { state: state })\r\n    //   else if (bill.bill_type == 30 || bill.bill_type == 31) this.router.navigate([`/dashboard/manage/reports/input-output-inventory/detail-bill-delivery-receive`], { state: state })\r\n    //   else this.router.navigate([`/dashboard/manage/reports/input-output-inventory/detail-bill${bill.bill_type == 15 ? '-warranty' : ([1, 3].includes(bill.bill_type) ? '-export' : '-import')}`], { state: state })\r\n    // }, 100)\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports/input-output-inventory'], {\r\n      state: {\r\n        stateObj: this.stateObj\r\n      }\r\n    });\r\n  }\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023 08:11'\r\n   */\r\n  format_full_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy HH:mm\")\r\n  }\r\n\r\n  status: boolean = false;\r\n  /**\r\n   * xuất dữ liệu ra file excel và tải về\r\n   */\r\n  export() {\r\n    this.status = true;\r\n    // xử lý tạo tên file\r\n    let data = new Array();\r\n    let date =\r\n      this.languageService.translate(\"_from\") + \"_\" +\r\n      this.format_date(this.stateObj.inOutStock['startTime']) + \"_\" +\r\n      this.languageService.translate(\"_to\") + \"_\" +\r\n      this.format_date(this.stateObj.inOutStock['endTime']);\r\n    let name = `${this.languageService.translate(this.detail.type_report == 1 ? \"_input_output_inventory_report\" : \"_input_output_items_report\")}_${this.vhAlgorithm.changeAlias(this.detail.name).replace(/\\s/g, \"_\")}_${date}_${this.stateObj.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.stateObj.id_branch_report).name).replace(/\\s/g, \"_\")}`\r\n    // thêm dòng đầu tiên \r\n    let title: any = new Object();\r\n    title[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    title[this.languageService.translate(\"Date\")] = \"\";\r\n    title[this.languageService.translate(\"Product name\")] = \"\";\r\n    title[this.languageService.translate(\"Unit\")] = \"\";\r\n    title[this.languageService.translate(\"Unit price before tax\")] = \"\";\r\n    title[this.languageService.translate(\"Unit price after tax\")] = \"\";\r\n    title[this.languageService.translate(\"Input\")] = this.languageService.translate(\"Quantity\");\r\n    title[\"  \"] = this.languageService.translate(\"Amount before tax\");\r\n    title[\"   \"] = this.languageService.translate(\"Amount after tax\");\r\n    title[this.languageService.translate(\"Output\")] = this.languageService.translate(\"Quantity\");\r\n    title[\"    \"] = this.languageService.translate(\"Amount before tax\");\r\n    title[\"     \"] = this.languageService.translate(\"Amount after tax\");\r\n\r\n    data.push(title);\r\n    // dòng dữ liệu tổng\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    title[this.languageService.translate(\"Unit price before tax\")] = \"\";\r\n    title[this.languageService.translate(\"Unit price after tax\")] = \"\";\r\n\r\n    total[this.languageService.translate(\"Input\")] = this.inOutStockDetail.inquantity;\r\n    total[\"  \"] = this.inOutStockDetail.cost_btax;\r\n    total[\"   \"] = this.inOutStockDetail.cost_atax;\r\n    total[this.languageService.translate(\"Output\")] = this.inOutStockDetail.outquantity;\r\n    total[\"    \"] = this.inOutStockDetail.revenue_btax;\r\n    total[\"     \"] = this.inOutStockDetail.revenue_atax;\r\n\r\n    data.push(total)\r\n    // dữ liệu mảng\r\n    for (let _rows of this.inOutStockDetail.list) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"Invoice code\")] = _rows.bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_full_date(_rows.date);\r\n      item[this.languageService.translate(\"Product name\")] = _rows.lots ? _rows.name + ' - ' + _rows.lots[0].lot_number : _rows.name;\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Unit price before tax\")] = _rows.price_btax;\r\n      item[this.languageService.translate(\"Unit price after tax\")] = _rows.price_atax;\r\n\r\n      item[this.languageService.translate(\"Input\")] = _rows.type == 'input' ? _rows.quantity : 0;\r\n      item[\"  \"] = _rows.type == 'input' ? _rows.payment_btax : 0;\r\n      item[\"   \"] = _rows.type == 'input' ? _rows.payment_atax : 0;\r\n      item[this.languageService.translate(\"Output\")] = _rows.type == 'output' ? _rows.quantity : 0;\r\n      item[\"    \"] = _rows.type == 'output' ? _rows.payment_btax : 0;\r\n      item[\"     \"] = _rows.type == 'output' ? _rows.payment_atax : 0;\r\n\r\n      data.push(item);\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"21\" class=\"title max-width-overflow\">\r\n            <b>{{detail.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"title center-all-content\">\r\n            <button (click)=\"export()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n                <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                {{'Download' | translate}}</button>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 8px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" *ngIf=\"inOutStockDetail.list.length > 0\" nzBordered [nzScroll]=\"{y: heightScroll }\" #detailStock nzShowPagination nzShowSizeChanger [nzData]=\"inOutStockDetail.list\" nzNoResult=\"{{'No data'| translate}}\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzLeft nzWidth=\"7%\" rowspan=\"2\" class=\"center\"><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"8%\" rowspan=\"2\" class=\"center\"><b>{{'Date' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"15%\" class=\"left\" rowspan=\"2\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"5%\" rowspan=\"2\" class=\"left\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th *ngIf=\"reportConfig\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\" nzWidth=\"7%\" rowspan=\"2\" class=\"center\">\r\n                        <b>{{'Unit price before tax' | translate}}</b>\r\n                    </th>\r\n                    <th [nzWidth]=\"!reportConfig ? '14%' : '7%'\" rowspan=\"2\" class=\"center\">\r\n                        <b>{{'Unit price after tax' | translate}}</b>\r\n                    </th>\r\n                    <th [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Input' | translate}}</b></th>\r\n                    <th [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Output' | translate}}</b></th>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"center\"><b>{{'Quantity' | translate}}</b></th>\r\n                    <th class=\"right\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b>{{'Amount before tax' | translate}}</b>\r\n                    </th>\r\n                    <th class=\"center\"><b>{{'Amount after tax' | translate}}</b></th>\r\n                    <th class=\"center\"><b>{{'Quantity' | translate}}</b></th>\r\n                    <th class=\"right\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b>{{'Amount before tax' | translate}}</b>\r\n                    </th>\r\n                    <th class=\"center\"><b>{{'Amount after tax' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\"></td>\r\n                    <td></td>\r\n                    <td class=\"center\" style=\"color: var(--ion-color-vh-green);\">{{inOutStockDetail.inquantity}}</td>\r\n                    <td class=\"center\" style=\"color: var(--ion-color-vh-green);\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(inOutStockDetail.cost_btax)}}</td>\r\n                    <td class=\"right\" style=\"color: var(--ion-color-vh-green);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(inOutStockDetail.cost_atax)}}</td>\r\n                    <td class=\"center\" style=\"color: var(--ion-color-vh-green);\">{{inOutStockDetail.outquantity}}</td>\r\n                    <td class=\"right\" style=\"color: var(--ion-color-vh-green);\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(inOutStockDetail.revenue_btax)}}</td>\r\n                    <td class=\"right\" style=\"color: var(--ion-color-vh-green);\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(inOutStockDetail.revenue_atax)}}</td>\r\n                </tr>\r\n                <tr (click)=\"goToDetail(data)\" style=\"cursor: pointer;\" *ngFor=\"let data of detailStock.data, let i = index\">\r\n                    <td nzLeft class=\"center\">{{data.bill_code}}</td>\r\n                    <td nzLeft class=\"left\">{{ data.date | date: 'dd/MM/yyyy' }}</td>\r\n                    <td nzLeft class=\"left\">{{ data.name }}\r\n                        <ng-container *ngIf=\"data.lots\">\r\n                            <br> \r\n                            <span>{{data.lots[0].lot_number}} </span>\r\n                            <br> \r\n                            <span>{{data.lots[0].date_mfg | date : 'dd/MM/yyyy'}}  - {{data.lots[0].date_exp | date : 'dd/MM/yyyy'}}</span>\r\n                        </ng-container>\r\n                    </td>\r\n                    <td class=\"left\">{{ data.unit }}</td>\r\n                    <td class=\"right\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit(data.price_btax)}}</td>\r\n                    <td class=\"right\"> {{vhAlgorithm.vhcurrencyunit(data.price_atax)}}</td>\r\n                    <td class=\"center\">{{ data.type == 'input' ? data.quantity : 0}}</td>\r\n                    <td class=\"right\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit( data.type == 'input' ? data.payment_btax  : 0)}}</td>\r\n                    <td class=\"right\">{{vhAlgorithm.vhcurrencyunit( data.type == 'input' ? data.payment_atax : 0)}}</td>\r\n                    <td class=\"center\">{{  data.type == 'output' ? data.quantity : 0 }}</td>\r\n                    <td class=\"right\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit(data.type == 'output' ? data.payment_btax : 0)}}</td>\r\n                    <td class=\"right\">{{vhAlgorithm.vhcurrencyunit(data.type == 'output' ? data.payment_atax : 0)}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n        <div nz-row *ngIf=\"inOutStockDetail.list.length  == 0\" class=\"full-height\">\r\n            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                <div>{{'No data'| translate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { ImportExportInventoryReport, ImportExportReturnReport } from 'src/app/sales/interface/vh-report';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-input-output-inventory',\r\n  templateUrl: './input-output-inventory.component.html',\r\n  styleUrls: ['./input-output-inventory.component.scss']\r\n})\r\nexport class InputOutputInventoryComponent {\r\n  pageSize: number[] = [20, 30, 40, 50, 100, 200]\r\n  public date: Date[] = [new Date(), new Date()];\r\n  selectedValue: any = 'all';\r\n  filter_value: any = {\r\n    type_product: 'all',\r\n    id_product: 'all',\r\n    type_report: 0\r\n  }\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_input_output_inventory;\r\n  inOutStock: ImportExportInventoryReport = this.init();\r\n  inOutStock1: ImportExportInventoryReport = this.init();\r\n  inOutStock2: ImportExportInventoryReport = this.init();\r\n  branchList: Array<any> = [] // danh sách chi nhánh show ra HTML;\r\n  search_branchList: Array<any> = []\r\n  id_branch_report: any;\r\n  useBranch: boolean = this.fncService.checkUsingBranch()\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhComponent: VhComponent,\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.getListProduct()\r\n    this.getBranches()\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      let stateSubObj = this.router.getCurrentNavigation().extras.state.stateObj;\r\n      this.inOutStock = stateSubObj.inOutStock;\r\n      this.date = [this.inOutStock.startTime, this.inOutStock.endTime];\r\n      this.id_branch_report = stateSubObj.id_branch_report\r\n      this.filter_value['id_product'] = stateSubObj.selectedValue;\r\n      this.filter_value['type_report'] = stateSubObj.type_report\r\n      // đổ dữ liệu về lại báo cáo\r\n      if (this.filter_value['type_report'] === 0) this.inOutStock1 = this.inOutStock\r\n      else this.inOutStock2 = this.inOutStock\r\n    }\r\n  }\r\n\r\n  heightScroll: string;\r\n  widthScroll: string;\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-tabs-nav\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight -\r\n        document.querySelector(\".ant-tabs-nav\").clientHeight) - 90 + \"px\";\r\n    }\r\n    if (document.querySelector(\".height-layout\")) {\r\n      this.widthScroll = document.querySelector(\".height-layout\").clientWidth + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  listGoods: any = [];\r\n  list_searchGoods: any = [];\r\n  /**\r\n   * get dử liệu sp và xử lý phần _id để chọn xem report\r\n   * @example this.getListProduct()\r\n   */\r\n  getListProduct() {\r\n    this.listGoods = [{ _id: 'all', name: this.languageService.translate('All') }, ...this.vhAlgorithm.sortStringbyASC(this.vhQuerySales.getlocalDetailProducts(VhType.PRODUCT).filter(e => !e.delete_hidden), 'name')].map(e => { return { ...e, _id: e.id_subproduct ? e.id_subproduct : e._id } })\r\n    this.list_searchGoods = this.listGoods\r\n  }\r\n\r\n  /**\r\n   * xử lý thay đổi chi nhánh xem báo cáo\r\n   * @example this.setIdBranch('FDKJWNDIUWHIUDH')\r\n   */\r\n  setIdBranch(value) {\r\n    if (value == \"all\") {\r\n      this.id_branch_report = []\r\n      for (let i in this.branchList) {\r\n        if (this.branchList[i]._id != 'all') this.id_branch_report.push(this.branchList[i]._id)\r\n      }\r\n    } else this.id_branch_report = [value]\r\n  }\r\n\r\n\r\n  /**\r\n   * lọc sp theo tên và barcode\r\n   * @example this.searchProducts('')\r\n   */\r\n  searchProducts(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.listGoods = this.vhAlgorithm.searchList(tempVal, this.list_searchGoods, ['name', 'barcode'])\r\n    else this.listGoods = this.list_searchGoods\r\n  }\r\n\r\n  /**\r\n   * set lại id_product xem báo cáo\r\n   */\r\n  filterProducts(id_product) {\r\n    this.filter_value['id_product'] = id_product\r\n    //this.getDataInventory()\r\n  }\r\n\r\n  init(startTime: Date = new Date, endTime: Date = new Date): ImportExportInventoryReport {\r\n    startTime.setHours(0, 0, 0, 0)\r\n    endTime.setHours(23, 59, 59, 59)\r\n    return {\r\n      list: [],\r\n      num_total_first: 0,\r\n      total_first_btax: 0,\r\n      total_first_atax: 0,\r\n      num_total_last: 0,\r\n      total_last_btax: 0,\r\n      total_last_atax: 0,\r\n      num_total_in: 0,\r\n      total_in_btax: 0,\r\n      total_in_atax: 0,\r\n      num_total_out: 0,\r\n      total_out_btax: 0,\r\n      total_out_atax: 0,\r\n      startTime,\r\n      endTime\r\n    };\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi thời gian xem báo cáo\r\n   * @param event \r\n   * @example this.changeTime(['2023-06-27T01:21:41.397Z','2023-06-27T01:21:41.397Z'])\r\n   */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0, 0, 0, 0)).getTime() - new Date(event[0].setHours(0, 0, 0, 0)).getTime() <= this.fncService.checkDateReport() * 86000000) {\r\n      this.inOutStock['startTime'] = event[0]\r\n      this.inOutStock['endTime'] = event[1]\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" + this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n      this.inOutStock['startTime'] = new Date(this.date[0])\r\n      this.inOutStock['endTime'] = new Date(this.date[1])\r\n    }\r\n    this.inOutStock['endTime'].setHours(23, 59, 59, 59)\r\n  }\r\n\r\n\r\n  goods: any = '1'\r\n  tabs: any = 0\r\n\r\n  /**\r\n   * thay đổi tab xem báo cáo nhap-xuat-hang or nhap-xuat-ton\r\n   */\r\n  segmentChanged(value) {\r\n    this.filter_value['type_report'] = value\r\n    this.inOutStock = this.init(this.date[0], this.date[1])\r\n  }\r\n\r\n\r\n  /**\r\n   * get dữ liệu báo cáo  nhap-xuat-hang or nhap-xuat-ton\r\n   */\r\n  getInventory() {\r\n    return new Promise((resolve, rejects) => {\r\n      if (this.filter_value['type_report'] !== 0) {\r\n        this.vhQuerySales.getReportInputOutputInventory_byTime_byIDProduct(\r\n          this.inOutStock['startTime'],\r\n          this.inOutStock['endTime'],\r\n          this.filter_value['id_product'], this.id_branch_report)\r\n          .then(res => resolve(res)).catch(err => rejects(err))\r\n      } else {\r\n        this.vhQuerySales.getReportInputOutput_byTime_byIDProduct(\r\n          this.inOutStock['startTime'],\r\n          this.inOutStock['endTime'],\r\n          this.filter_value['id_product'], this.id_branch_report)\r\n          .then(res => resolve(res)).catch(err => rejects(err))\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * xem báo cáo\r\n   */\r\n  getInOutReturnData() {\r\n    this.vhComponent.showLoadingNotDuration(\"\", \"transparent-loading\").then(() => {\r\n      this.getInventory()\r\n        .then(res => {\r\n          this.inOutStock['list'] = res['docs'].map((item, index) => { return { ...item, index: index + 1 } })\r\n          if (this.filter_value['type_report'] !== 0) {\r\n            this.inOutStock['num_total_first'] = res['stock_first']\r\n            this.inOutStock['num_total_last'] = res['stock_last']\r\n            this.inOutStock['total_first_atax'] = res['cost_stock_first_atax']\r\n            this.inOutStock['total_first_btax'] = res['cost_stock_first_btax']\r\n            this.inOutStock['total_last_atax'] = res['cost_stock_last_atax']\r\n            this.inOutStock['total_last_btax'] = res['cost_stock_last_btax']\r\n          }\r\n\r\n          this.inOutStock['num_total_in'] = res['inquantity']\r\n          this.inOutStock['num_total_out'] = res['outquantity']\r\n          this.inOutStock['total_out_atax'] = res['revenue_atax']\r\n          this.inOutStock['total_out_btax'] = res['revenue_btax']\r\n          this.inOutStock['total_in_atax'] = res['cost_atax']\r\n          this.inOutStock['total_in_btax'] = res['cost_btax']\r\n          if (this.filter_value['type_report'] == 1) {\r\n            this.inOutStock2 = this.inOutStock\r\n            this.sort1(this.statusInquantity, 'inquantity')\r\n          }\r\n          else {\r\n            this.inOutStock1 = this.inOutStock\r\n            this.sort(this.statusInquantity, 'inquantity')\r\n          }\r\n\r\n        }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n\r\n  //** hàm sort cho các cột */\r\n  statusInquantity = false // các biến thay đổi mũi tên sort lên xuống\r\n  statusAtaxIn = false\r\n  statusBtaxIn = false\r\n  statusOutquantity = false\r\n  statusAtaxOut = false\r\n  statusBtaxOut = false\r\n  statusInquantityS = false\r\n  statusAtaxInS = false\r\n  statusBtaxInS = false\r\n  statusOutquantityS = false\r\n  statusAtaxOutS = false\r\n  statusBtaxOutS = false\r\n  statusName = false\r\n  sort(sort, value) {\r\n    if (sort) {\r\n      this.inOutStock1['list'] = this.vhAlgorithm.sortNumberbyASC([... this.inOutStock1['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutStock1['list'] = this.vhAlgorithm.sortNumberbyDESC([... this.inOutStock1['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  sortName(sort, value) {\r\n    if (sort) {\r\n      this.inOutStock1['list'] = this.vhAlgorithm.sortVietnamesebyASC([... this.inOutStock1['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutStock1['list'] = this.vhAlgorithm.sortVietnamesebyDESC([... this.inOutStock1['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  sort1(sort, value) {\r\n    if (sort) {\r\n      this.inOutStock2['list'] = this.vhAlgorithm.sortNumberbyASC([... this.inOutStock2['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutStock2['list'] = this.vhAlgorithm.sortNumberbyDESC([... this.inOutStock2['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  sortName1(sort, value) {\r\n    if (sort) {\r\n      this.inOutStock2['list'] = this.vhAlgorithm.sortVietnamesebyASC([... this.inOutStock2['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutStock2['list'] = this.vhAlgorithm.sortVietnamesebyDESC([... this.inOutStock2['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n\r\n  goToDetail(item) {\r\n    let stateObj = {\r\n      id_branch_report: this.id_branch_report,\r\n      selectedValue: this.filter_value['id_product'], type_report: this.filter_value.type_report, inOutStock: this.inOutStock\r\n    }\r\n    setTimeout(() => {\r\n      this.router.navigate([\"/sales/dashboard/manage/reports/input-output-inventory/detail\"], {\r\n        state: {\r\n          detail: { ...item, type_report: this.filter_value['type_report'] },\r\n          stateObj: stateObj\r\n        }\r\n      })\r\n    }, 100)\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports']);\r\n  }\r\n\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n  /**--------------------- */\r\n  /**zorro modal */\r\n  checked: boolean = true;\r\n  isVisible = false;\r\n  showModal(): void {\r\n    this.filter_value['goods'] = this.goods\r\n    this.filter_value['id_product'] = 'all'\r\n    this.isVisible = true;\r\n  }\r\n  handleOk(): void {\r\n    this.getListProduct()\r\n    this.isVisible = false;\r\n  }\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n  /**\r\n   * get chi nhánh được xem báo cáo của user\r\n   */\r\n  getBranches() {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()] // danh sách toàn bộ chi nhánh\r\n    let employee = this.vhAuth.getUser() // thông tn nhân viên\r\n    let defaultBranch = this.vhQuerySales.getDefaultBranch()._id // chi nhánh mặc định khi đăng nhập (lấy id chi nhánh)\r\n\r\n    if (this.useBranch) { // kiểm tra xem có 2 chi nhánh trở lên\r\n\r\n      if (employee['owner'] == 'boss') { // kiểm tra tài khoản đăng nhập là boss\r\n        this.branchList = branches // gán danh sách chi nhánh show ra HTML\r\n        if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        this.id_branch_report = defaultBranch // gán mặc định chi nhánh mặc định xem báo cáo là chi nhánh đăng nhập vô\r\n      }\r\n\r\n      else { // trường hợp tài khoản là nhân viên\r\n        this.vhAuth.getPermission(employee['_id']).then(result => { // get quyền nhân viên được xem báo cáo chi nhánh nào\r\n          branches.forEach(item => {\r\n            if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item }) // kiểm tra chi nhánh đc xem báo cáo, gán cho branchList show ra HMLT\r\n          })\r\n          if (this.branchList.length > 1) { // trường hợp được xem báo cáo 2 chi nhánh trở lên\r\n            this.branchList.unshift({ _id: \"all\", name: \"All\" }) // đẩy xem tất cả vô, nếu có 2 chi nhánh trở lên\r\n            for (let i in this.branchList) {\r\n              if (this.branchList[i]._id == defaultBranch) return this.id_branch_report = defaultBranch // nếu có gán chi nhánh xem báo mặc định là chi nhánh mặc định (đăng nhập)\r\n              else this.id_branch_report = this.branchList[1]._id // ngược lại gán chi nhánh mặc định là chi nhánh thứ 1\r\n            }\r\n          }\r\n          else if (this.branchList.length == 1) { // nếu chỉ đc xem báo cáo 1 chi nhánh , lấy mặc định là chi nhánh đó\r\n            this.id_branch_report = this.branchList[0]._id\r\n          }\r\n          else this.vhComponent.alertMessageDesktop(\"warning\", \"Bạn không được chọn chi nhánh xem báo cáo\") // kg có chi nhánh xem báo cáo\r\n        })\r\n\r\n      }\r\n      this.search_branchList = this.branchList\r\n    } else this.id_branch_report = defaultBranch // chỉ xài 1 chi nhánh\r\n  }\r\n\r\n  /**\r\n   * lọc chi nhánh theo tên\r\n   * @param value \r\n   */\r\n  search(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.branchList = this.vhAlgorithm.searchList(tempVal, this.search_branchList, ['name'])\r\n    else this.branchList = this.search_branchList\r\n  }\r\n\r\n  status: boolean = false;\r\n  /**\r\n   * xuất dữ liệu sang file excel và tải về\r\n   */\r\n  export() {\r\n    // xử lý tạo tên file\r\n    let data = new Array();\r\n    let date =\r\n      this.languageService.translate(\"_from\") + \"_\" +\r\n      this.format_date(this.inOutStock['startTime']) + \"_\" +\r\n      this.languageService.translate(\"_to\") + \"_\" +\r\n      this.format_date(this.inOutStock['endTime']);\r\n    let name = `${this.languageService.translate(this.filter_value.type_report == 1 ? \"_input_output_inventory_report\" : \"_input_output_items_report\")}_${date}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`;\r\n    // thêm dòng đầu tiên \r\n    let title: any = new Object();\r\n    title[this.languageService.translate(\"No.\")] = \"\";\r\n    title[this.languageService.translate(\"Product name\")] = \"\";\r\n    title[this.languageService.translate(\"Unit\")] = \"\";\r\n    title[this.languageService.translate(\"Barcode\")] = \"\";\r\n    if (this.filter_value['type_report'] == 1) {\r\n      title[this.languageService.translate(\"Opening stock\")] = this.languageService.translate(\"Quantity\");\r\n      if (this.reportConfig) title[\"\"] = this.languageService.translate(\"Amount before tax\");\r\n      title[\" \"] = this.languageService.translate(\"Amount after tax\");\r\n    }\r\n    title[this.languageService.translate(\"Purchased in period\")] = this.languageService.translate(\"Quantity\");\r\n    if (this.reportConfig) title[\"  \"] = this.languageService.translate(\"Amount before tax\");\r\n    title[\"   \"] = this.languageService.translate(\"Amount after tax\");\r\n    title[this.languageService.translate(\"Issued in period\")] = this.languageService.translate(\"Quantity\");\r\n    if (this.reportConfig) title[\"    \"] = this.languageService.translate(\"Amount before tax\");\r\n    title[\"     \"] = this.languageService.translate(\"Amount after tax\");\r\n    if (this.filter_value['type_report'] == 1) {\r\n      title[this.languageService.translate(\"Closing stock\")] = this.languageService.translate(\"Quantity\");\r\n      if (this.reportConfig) title[\"      \"] = this.languageService.translate(\"Amount before tax\");\r\n      title[\"       \"] = this.languageService.translate(\"Amount after tax\");\r\n      // name = this.languageService.translate(\"Stock out/in Report\") + \"_\" + this.languageService.translate(\"From\") + \"_\" + date;\r\n    }\r\n    data.push(title);\r\n    // dòng hiển thị tổng\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"No.\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Barcode\")] = \"\";\r\n    if (this.filter_value['type_report'] == 1) {\r\n      total[this.languageService.translate(\"Opening stock\")] = this.inOutStock.num_total_first;\r\n      if (this.reportConfig) total[\"\"] = this.inOutStock.total_first_btax;\r\n      total[\" \"] = this.inOutStock.total_first_atax;\r\n    }\r\n    total[this.languageService.translate(\"Purchased in period\")] = this.inOutStock.num_total_in;\r\n    if (this.reportConfig) total[\"  \"] = this.inOutStock.total_in_btax;\r\n    total[\"   \"] = this.inOutStock.total_in_atax;\r\n    total[this.languageService.translate(\"Issued in period\")] = this.inOutStock.num_total_out;\r\n    if (this.reportConfig) total[\"    \"] = this.inOutStock.total_out_btax;\r\n    total[\"     \"] = this.inOutStock.total_out_atax;\r\n    if (this.filter_value['type_report'] == 1) {\r\n      total[this.languageService.translate(\"Closing stock\")] = this.inOutStock.num_total_last;\r\n      if (this.reportConfig) total[\"      \"] = this.inOutStock.total_last_btax;\r\n      total[\"       \"] = this.inOutStock.total_last_atax;\r\n    }\r\n    data.push(total);\r\n\r\n    for (let _rows of this.inOutStock.list) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"No.\")] = _rows.index;\r\n      item[this.languageService.translate(\"Product name\")] = _rows.name;\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Barcode\")] = _rows.barcode;\r\n      if (this.filter_value['type_report'] == 1) {\r\n        item[this.languageService.translate(\"Opening stock\")] = _rows.stock_first;\r\n        if (this.reportConfig) item[\"\"] = _rows.cost_stock_first_btax;\r\n        item[\" \"] = _rows.cost_stock_first_atax;\r\n      }\r\n      item[this.languageService.translate(\"Purchased in period\")] = _rows.inquantity;\r\n      if (this.reportConfig) item[\"  \"] = _rows.cost_btax;\r\n      item[\"   \"] = _rows.cost_atax;\r\n      item[this.languageService.translate(\"Issued in period\")] = _rows.outquantity;\r\n      if (this.reportConfig) item[\"    \"] = _rows.revenue_btax;\r\n      item[\"     \"] = _rows.revenue_atax;\r\n      if (this.filter_value['type_report'] == 1) {\r\n        item[this.languageService.translate(\"Closing stock\")] = _rows.stock_last;\r\n        if (this.reportConfig) item[\"      \"] = _rows.cost_stock_last_btax;\r\n        item[\"       \"] = _rows.cost_stock_last_atax;\r\n      }\r\n\r\n      data.push(item);\r\n      for (let lot of _rows.lots ? _rows.lots : []) {\r\n        let data_lot: any = new Object();\r\n        data_lot[this.languageService.translate(\"No.\")] = \"\";\r\n        data_lot[this.languageService.translate(\"Product name\")] = lot.lot_number;\r\n        data_lot[this.languageService.translate(\"Unit\")] = this.format_date(new Date(lot.date_mfg)) + ' - ' + this.format_date(new Date(lot.date_exp));\r\n        \r\n        data_lot[this.languageService.translate(\"Barcode\")] = lot.barcode;\r\n        if (this.filter_value['type_report'] == 1) {\r\n          data_lot[this.languageService.translate(\"Opening stock\")] = lot.stock_first;\r\n          if (this.reportConfig) data_lot[\"\"] = lot.cost_stock_first_btax;\r\n          data_lot[\" \"] = lot.cost_stock_first_atax;\r\n        }\r\n        data_lot[this.languageService.translate(\"Purchased in period\")] = lot.inquantity;\r\n        if (this.reportConfig) data_lot[\"  \"] = lot.cost_btax;\r\n        data_lot[\"   \"] = lot.cost_atax;\r\n        data_lot[this.languageService.translate(\"Issued in period\")] = lot.outquantity;\r\n        if (this.reportConfig) data_lot[\"    \"] = lot.revenue_btax;\r\n        data_lot[\"     \"] = lot.revenue_atax;\r\n        if (this.filter_value['type_report'] == 1) {\r\n          data_lot[this.languageService.translate(\"Closing stock\")] = lot.stock_last;\r\n          if (this.reportConfig) data_lot[\"      \"] = lot.cost_stock_last_btax;\r\n          data_lot[\"       \"] = lot.cost_stock_last_atax;\r\n        }\r\n\r\n        data.push(data_lot);\r\n      }\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name)\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n  <div nz-row class=\"height-header\">\r\n      <div nz-col [nzSpan]=\"3\" class=\"title left-all-content\">\r\n          <b>{{'Input-output-inventory'|translate}}</b>\r\n      </div>\r\n      <div nz-col nzSpan=\"7\" class=\"title center-all-content\">\r\n          <nz-select style=\"text-align: center;\" [nzServerSearch]=\"true\" (nzOnSearch)=\"searchProducts($event)\"\r\n              nzShowSearch [(ngModel)]=\"filter_value['id_product']\" nzBorderless\r\n              (ngModelChange)=\"filterProducts($event)\">\r\n              <nz-option *ngFor=\"let option of listGoods\" nzLabel=\"{{option.name}}\" nzValue=\"{{option._id}}\">\r\n              </nz-option>\r\n          </nz-select>\r\n      </div>\r\n      <div nz-col [nzSpan]=\"useBranch ? 6 : 9\">\r\n          <nz-range-picker nzFormat='dd/MM/yyyy' [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\">\r\n          </nz-range-picker>\r\n      </div>\r\n      <div *ngIf=\"useBranch\" nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n          <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" nzBorderless\r\n              nzPlaceHolder=\"{{'Select branch' | translate}}\" (ngModelChange)=\"setIdBranch($event)\"\r\n              [(ngModel)]=\"id_branch_report\">\r\n              <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\"\r\n                  nzValue=\"{{option._id}}\">\r\n              </nz-option>\r\n          </nz-select>\r\n      </div>\r\n      <div nz-col [nzSpan]=\"useBranch ? 4 : 5\" class=\"right-all-content\">\r\n          <div>\r\n              <button (click)=\"export()\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n                  <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                  {{'Download' | translate}}</button>\r\n          </div>\r\n          <div>\r\n              <button [disabled]=\"!id_branch_report\" class=\"btn-view center-all-content\" nz-button nzType=\"default\"\r\n                  (click)=\"getInOutReturnData()\">\r\n                  <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                  {{'View' | translate}}\r\n              </button>\r\n          </div>\r\n      </div>\r\n  </div>\r\n  <div>\r\n      <nz-tabset [(nzSelectedIndex)]=\"filter_value.type_report\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n          <nz-tab nzTitle=\"{{'Input-output-items'|translate}}\">\r\n              <nz-table [nzPageSize]=\"20\" *ngIf=\"inOutStock1.list.length > 0\" nzBordered\r\n                  [nzScroll]=\"{ y: heightScroll, x: '0' }\" #inout nzShowPagination nzShowSizeChanger\r\n                  [nzData]=\"inOutStock1.list\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\">\r\n                  <thead>\r\n                      <tr>\r\n                          <th nzLeft nzWidth=\"4%\" rowspan=\"2\" nzAlign='center'><b>{{'No.' | translate}}</b></th>\r\n                          <th style=\"cursor: pointer;\" (click)=\"statusName = !statusName;sortName(statusName,'name')\"\r\n                              nzLeft nzWidth=\"20%\" class=\"left\" rowspan=\"2\"><b>{{'Product name'\r\n                                  | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusName == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th nzLeft nzWidth=\"6%\" rowspan=\"2\" class=\"left\"><b>{{'Unit' | translate}}</b></th>\r\n                          <th [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Purchased in period' |\r\n                                  translate}}</b></th>\r\n                          <th [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Issued in period' |\r\n                                  translate}}</b></th>\r\n                      </tr>\r\n                      <tr>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusInquantity = !statusInquantity;sort(statusInquantity,'inquantity')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusInquantity == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxIn = !statusBtaxIn;sort(statusBtaxIn,'cost_btax')\" nzAlign='center'\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusBtaxIn == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxIn = !statusAtaxIn;sort(statusAtaxIn,'cost_atax')\" nzAlign='center'>\r\n                              <b>{{'Amount after tax' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusAtaxIn == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusOutquantity = !statusOutquantity;sort(statusOutquantity,'outquantity')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusOutquantity == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxOut = !statusAtaxOut;sort(statusAtaxOut,'revenue_btax')\"\r\n                              nzAlign='center' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusAtaxOut == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxOut = !statusBtaxOut;sort(statusBtaxOut,'revenue_atax')\"\r\n                              nzAlign='center'>\r\n                              <b>{{'Amount after tax' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusBtaxOut == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                      <tr>\r\n                          <td nzWidth=\"5%\" nzLeft></td>\r\n                          <td nzWidth=\"20%\" nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}\r\n                          </td>\r\n                          <td nzWidth=\"5%\" nzLeft></td>\r\n                          <td nzWidth=\"9%\" nzAlign='center' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{inOutStock1.num_total_in}}\r\n                          </td>\r\n                          <td nzWidth=\"13%\" nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock1.total_in_btax)}}</td>\r\n                          <td nzWidth=\"13%\" nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock1.total_in_atax)}}</td>\r\n                          <td nzWidth=\"9%\" nzAlign='center' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{inOutStock1.num_total_out}}</td>\r\n                          <td nzWidth=\"13%\" nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock1.total_out_btax)}}</td>\r\n                          <td nzWidth=\"13%\" nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock1.total_out_atax)}}</td>\r\n                      </tr>\r\n                      <ng-container *ngFor=\"let data of inout.data, let i = index\">\r\n                          <tr (click)=\"goToDetail(data)\" style=\"cursor: pointer;\">\r\n                              <td nzLeft nzAlign='center'>{{data.index}}</td>\r\n                              <td nzLeft class=\"left\">\r\n                                  <i style=\"cursor: pointer;font-size:0.7rem;\"\r\n                                      (click)=\"$event.stopPropagation();data.expand = !data.expand\" *ngIf=\"data.lots\"\r\n                                      nz-icon [nzType]=\"data.expand ? 'minus' : 'plus'\" nzTheme=\"outline\"></i>\r\n                                  {{ data.name }} <br> \r\n                                  Barcode : {{data.barcode}}\r\n                              </td>\r\n                              <td nzLeft class=\"left\">{{ data.unit }}</td>\r\n                              <td nzAlign='center'>{{ data.inquantity }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.cost_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.cost_atax)}}</td>\r\n                              <td nzAlign='center'>{{ data.outquantity }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.revenue_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.revenue_atax)}}</td>\r\n                          </tr>\r\n                          <ng-container *ngIf=\"data.expand\">\r\n                              <tr *ngFor=\"let item of data.lots\">\r\n                                  <td></td>\r\n                                  <td colspan=\"2\" style=\"padding-left:24px !important;\">\r\n                                      {{'Lot number' | translate}}: {{ item.lot_number}} <br>\r\n                                      {{ item.date_mfg | date : 'dd/MM/yyyy'}} - {{ item.date_exp | date :\r\n                                      'dd/MM/yyyy'}}\r\n                                  </td>\r\n\r\n                                  <td nzAlign='center'>{{item.inquantity}}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.cost_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.cost_atax)}}</td>\r\n                                  <td nzAlign='center'>{{ item.outquantity }}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.revenue_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.revenue_atax)}}</td>\r\n                              </tr>\r\n                          </ng-container>\r\n                      </ng-container>\r\n\r\n\r\n                  </tbody>\r\n              </nz-table>\r\n              <div nz-row *ngIf=\"inOutStock1.list.length  == 0\" class=\"full-height\">\r\n                  <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                      <div>{{'No data'| translate}}</div>\r\n                  </div>\r\n              </div>\r\n          </nz-tab>\r\n          <nz-tab nzTitle=\"{{'Input-output-inventory'|translate}}\">\r\n              <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\"\r\n                  *ngIf=\"inOutStock2.list.length > 0\" nzBordered [nzData]=\"inOutStock2.list\"\r\n                  [nzScroll]=\"{y: heightScroll, x: '1800px' }\" #inventory nzShowPagination nzShowSizeChanger>\r\n                  <thead>\r\n                      <tr>\r\n                          <th nzLeft nzWidth=\"3%\" nzAlign='center' rowspan=\"2\"><b>{{'No.' | translate}}</b></th>\r\n                          <th style=\"cursor: pointer;\" (click)=\"statusName = !statusName;sortName1(statusName,'name')\"\r\n                              nzLeft nzWidth=\"15%\" rowspan=\"2\"><b>{{'Product name' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusName == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th nzLeft rowspan=\"2\" nzWidth=\"5%\"><b>{{'Unit' | translate}}</b></th>\r\n                          <th nzcenter [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Opening stock' |\r\n                                  translate}}</b></th>\r\n                          <th nzcenter [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Input' | translate}}</b>\r\n                          </th>\r\n                          <th nzcenter [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Output' |\r\n                                  translate}}</b></th>\r\n                          <th nzcenter [colspan]=\"!reportConfig ? '2' : '3'\"><b>{{'Closing stock' |\r\n                                  translate}}</b></th>\r\n                      </tr>\r\n                      <tr>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusInquantityS = !statusInquantityS;sort1(statusInquantityS,'stock_first')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusInquantityS == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxInS = !statusAtaxInS;sort1(statusAtaxInS,'cost_stock_first_btax')\"\r\n                              nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax'\r\n                                  | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusAtaxInS == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxInS = !statusBtaxInS;sort1(statusBtaxInS,'cost_stock_first_atax')\"\r\n                              nzAlign='right'><b>{{'Amount after tax' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusBtaxInS == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusInquantity = !statusInquantity;sort1(statusInquantity,'inquantity')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusInquantity == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxIn = !statusAtaxIn;sort1(statusAtaxIn,'cost_btax')\" nzAlign='right'\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax'\r\n                                  | translate}}</b>\r\n                              <i nz-icon [nzType]=\"statusAtaxIn == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxIn = !statusBtaxIn;sort1(statusBtaxIn,'cost_atax')\" nzAlign='right'>\r\n                              <b>{{'Amount after tax' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusBtaxIn == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusOutquantity = !statusOutquantity;sort1(statusOutquantity,'outquantity')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusOutquantity == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxOut = !statusAtaxOut;sort1(statusAtaxOut,'revenue_btax')\"\r\n                              nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax'\r\n                                  | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusAtaxOut == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxOut = !statusBtaxOut;sort1(statusBtaxOut,'revenue_atax')\"\r\n                              nzAlign='right'><b>{{'Amount after tax' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusBtaxOut == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusOutquantityS = !statusOutquantityS;sort1(statusOutquantityS,'stock_last')\"\r\n                              nzAlign='center'><b>{{'Quantity' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusOutquantityS == true ? 'caret-down':'caret-up'\"\r\n                                  nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusBtaxOutS = !statusBtaxOutS;sort1(statusBtaxOutS,'cost_stock_last_btax')\"\r\n                              nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              <b>{{'Amount before tax'\r\n                                  | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusBtaxOutS == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                          <th style=\"cursor: pointer;\"\r\n                              (click)=\"statusAtaxOutS = !statusAtaxOutS;sort1(statusAtaxOutS,'cost_stock_last_atax')\"\r\n                              nzAlign='center'><b>{{'Amount after tax' | translate}}</b> <i nz-icon\r\n                                  [nzType]=\"statusAtaxOutS == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                          </th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                      <tr>\r\n                          <td nzLeft></td>\r\n                          <td nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                          <td nzLeft></td>\r\n                          <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{inOutStock2.num_total_first}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_first_btax)}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_first_atax)}}</td>\r\n                          <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\">{{inOutStock2.num_total_in}}\r\n                          </td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_in_btax)}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_in_atax)}}</td>\r\n                          <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\">{{inOutStock2.num_total_out}}\r\n                          </td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_out_btax)}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_out_atax)}}</td>\r\n                          <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{inOutStock2.num_total_last}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\"\r\n                              [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_last_btax)}}</td>\r\n                          <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\">\r\n                              {{vhAlgorithm.vhcurrencyunit_symbol(inOutStock2.total_last_atax)}}</td>\r\n                      </tr>\r\n                      <ng-container *ngFor=\"let data of inventory.data, let i = index\">\r\n                          <tr (click)=\"goToDetail(data)\" style=\"cursor: pointer;\">\r\n                              <td nzLeft nzAlign='center'>{{data.index}}</td>\r\n                              <td nzLeft class=\"left\">\r\n                                  <i style=\"cursor: pointer;font-size: 0.7rem;\"\r\n                                      (click)=\"$event.stopPropagation();data.expand = !data.expand\" *ngIf=\"data.lots\"\r\n                                      nz-icon [nzType]=\"data.expand ? 'minus' : 'plus'\" nzTheme=\"outline\"></i>\r\n                                  {{ data.name }} <br> \r\n                                  Barcode : {{data.barcode}}\r\n                              </td>\r\n                              <td nzLeft nzAlign='center'>{{ data.unit }}</td>\r\n                              <td nzAlign='center'>{{ data.stock_first }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.cost_stock_first_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.cost_stock_first_atax)}}</td>\r\n                              <td nzAlign='center'>{{ data.inquantity }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.cost_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.cost_atax)}}</td>\r\n                              <td nzAlign='center'>{{ data.outquantity }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.revenue_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.revenue_atax)}}</td>\r\n                              <td nzAlign='center'>{{ data.stock_last }}</td>\r\n                              <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                  {{vhAlgorithm.vhcurrencyunit(data.cost_stock_last_btax)}}</td>\r\n                              <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.cost_stock_last_atax)}}</td>\r\n                          </tr>\r\n                          <ng-container *ngIf=\"data.expand\">\r\n                              <tr *ngFor=\"let item of data.lots\">\r\n                                  <td nzLeft></td>\r\n                                  <td nzLeft style=\"padding-left:24px !important;\">\r\n                                      {{'Lot number' | translate}}: {{ item.lot_number}} <br>\r\n                                      {{ item.date_mfg | date : 'dd/MM/yyyy'}} - {{ item.date_exp | date :\r\n                                      'dd/MM/yyyy'}}\r\n                                  </td>\r\n                                  <td nzLeft nzAlign='center'></td>\r\n                                  <td nzAlign='center'>{{ item.stock_first }}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.first.cost_stock_first_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.first.cost_stock_first_atax)}}</td>\r\n                                  <td nzAlign='center'>{{ item.inquantity }}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.cost_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.cost_atax)}}</td>\r\n                                  <td nzAlign='center'>{{ item.outquantity }}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.revenue_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.revenue_atax)}}</td>\r\n                                  <td nzAlign='center'>{{ item.stock_last }}</td>\r\n                                  <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                      {{vhAlgorithm.vhcurrencyunit(item.cost_stock_last_btax)}}</td>\r\n                                  <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.cost_stock_last_atax)}}</td>\r\n                              </tr>\r\n                          </ng-container>\r\n                      </ng-container>\r\n\r\n                  </tbody>\r\n              </nz-table>\r\n              <div nz-row *ngIf=\"inOutStock2.list.length  == 0\" class=\"full-height\">\r\n                  <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                      <div>{{'No data'| translate}}</div>\r\n                  </div>\r\n              </div>\r\n          </nz-tab>\r\n      </nz-tabset>\r\n  </div>\r\n</nz-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InputOutputInventoryComponent } from './input-output-inventory.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { BillDetailModule } from 'src/app/sales/components/bill-detail/bill-detail.module';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InputOutputInventoryComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [InputOutputInventoryComponent, DetailComponent, ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BillDetailModule\r\n  ],\r\n  providers :[VhComponent]\r\n})\r\nexport class InputOutputInventoryModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}