{"version":3,"file":"src_app_sales_menu_manage_reports_input-output-return_input-output-return_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO4F;AACS;AACoB;AACH;AACA;AACH;AACd;AACoB;AACG;AACc;AACjB;;;;;;;;;;;;;;;;;ICOrG,0EAA0G;IACtG,qEAAG;IAAA,wDAAuC;;IAAA,6DAAI;IAClD,6DAAK;;;IAFkD,gLAAkD;IAClG,2DAAuC;IAAvC,2JAAuC;;;IAE9C,0EAA0G;IACtG,qEAAG;IAAA,wDAAmC;;IAAA,6DAAI;IAC9C,6DAAK;;;IAFkD,gLAAkD;IAClG,2DAAmC;IAAnC,uJAAmC;;;IA6BtC,yEAAgC;IAC5B,iEAAI;IACJ,wEAAM;IAAA,wDAA4B;IAAA,6DAAO;IACzC,iEAAI;IACJ,wEAAM;IAAA,wDAAkG;;;IAAA,6DAAO;IACnH,sEAAe;;;IAHL,2DAA4B;IAA5B,sGAA4B;IAE5B,2DAAkG;IAAlG,oSAAkG;;;;IARpH,0EAA8F;IAA1F,mYAA0B;IAC1B,0EAAqB;IAAA,wDAAkB;IAAA,6DAAK;IAC5C,0EAAiB;IAAA,wDAA0C;;IAAA,6DAAK;IAChE,0EAAiB;IAAA,wDACb;IAAA,iJAKe;IACnB,6DAAK;IACL,0EAAiB;IAAA,yDAAe;IAAA,6DAAK;IACrC,2EAAqB;IAAA,yDAAmD;;IAAA,6DAAK;IAC7E,2EAAqB;IAAA,yDAAmB;IAAA,6DAAK;IAC7C,2EAAuE;IACnE,yDAA+C;IAAA,6DAAK;IACxD,2EAAuE;IACnE,yDAA6C;IAAA,6DAAK;IACtD,2EAAoB;IAChB,yDAA+C;IAAA,6DAAK;IACxD,2EAAoB;IAAA,yDAA6C;IAAA,6DAAK;IAC1E,6DAAK;;;;IApBoB,2DAAkB;IAAlB,mFAAkB;IACtB,2DAA0C;IAA1C,qKAA0C;IAC1C,2DACb;IADa,wFACb;IAAe,2DAAe;IAAf,+EAAe;IAOjB,2DAAe;IAAf,8EAAe;IACX,2DAAmD;IAAnD,wLAAmD;IACnD,2DAAmB;IAAnB,kFAAmB;IACpB,2DAAkD;IAAlD,iLAAkD;IAClE,2DAA+C;IAA/C,iIAA+C;IAC/B,2DAAkD;IAAlD,iLAAkD;IAClE,2DAA6C;IAA7C,+HAA6C;IAE7C,2DAA+C;IAA/C,iIAA+C;IAC/B,2DAA6C;IAA7C,qHAA6C;;;;;IA1D7E,oFAA2P;IACvP,yEAAO;IACH,sEAAI;IACA,0EAAmC;IAAA,qEAAG;IAAA,wDAA8B;;IAAA,6DAAI;IAAA,6DAAK;IAC7E,0EAAmC;IAAA,qEAAG;IAAA,yDAAsB;;IAAA,6DAAI;IAAA,6DAAK;IACrE,2EAA+B;IAAA,sEAAG;IAAA,yDAA8B;;IAAA,6DAAI;IAAA,6DAAK;IACzE,2EAA8B;IAAA,sEAAG;IAAA,yDAAsB;;IAAA,6DAAI;IAAA,6DAAK;IAChE,2EAA8B;IAAA,sEAAG;IAAA,yDAAwB;;IAAA,6DAAI;IAAA,6DAAK;IAClE,2EAAiB;IAAA,sEAAG;IAAA,yDAA0B;;IAAA,6DAAI;IAAA,6DAAK;IACvD,yHAEK;IACL,yHAEK;IACL,2EAA8D;IAC1D,sEAAG;IAAA,yDAAsC;;IAAA,6DAAI;IACjD,6DAAK;IACL,2EAA+D;IAC3D,sEAAG;IAAA,yDAAkC;;IAAA,6DAAI;IAC7C,6DAAK;IACT,6DAAK;IAET,6DAAQ;IACR,0EAAO;IACH,uEAAI;IACA,kEAAS;IACT,kEAAS;IACT,2EAAqB;IAAA,sEAAG;IAAA,yDAAuB;;IAAA,6DAAI;IAAA,6DAAK;IACxD,kEAAS;IACT,kEAAS;IACT,2EAA+D;IAAA,sEAAG;IAAA,yDAAsC;IAAA,6DAAI;IAAA,6DAAK;IACjH,sEAA4D;IAC5D,2EAAiH;IAAA,sEAAG;IAC1H,yDAAgE;IAAA,6DAAI;IAAA,6DAAK;IACnE,kEAAS;IACT,2EAA8D;IAAA,sEAAG;IAAC,yDAAgE;IAAA,6DAAI;IAAA,6DAAK;IAC/I,6DAAK;IACL,2HAqBK;IACT,6DAAQ;IACZ,6DAAW;;;;IA7DD,2EAAiB;IAGuB,2DAA8B;IAA9B,mJAA8B;IAC9B,2DAAsB;IAAtB,4IAAsB;IAC1B,2DAA8B;IAA9B,oJAA8B;IAC/B,2DAAsB;IAAtB,4IAAsB;IACtB,2DAAwB;IAAxB,8IAAwB;IACrC,2DAA0B;IAA1B,gJAA0B;IACzC,2DAAkB;IAAlB,sFAAkB;IAGlB,2DAAkB;IAAlB,sFAAkB;IAGH,2DAAyC;IAAzC,0GAAyC;IACtD,2DAAsC;IAAtC,4JAAsC;IAExB,2DAAyC;IAAzC,0GAAyC;IACvD,2DAAkC;IAAlC,wJAAkC;IASjB,2DAAuB;IAAvB,6IAAuB;IAGmB,2DAAsC;IAAtC,2GAAsC;IACpG,2DAAkD;IAAlD,iLAAkD;IACQ,2DAAkD;IAAlD,iLAAkD;IACtH,2DAAgE;IAAhE,sJAAgE;IAEQ,2DAAgE;IAAhE,sJAAgE;IAE7D,2DAAmB;IAAnB,8EAAmB;;;IAwBpG,2EAA6E;IACzE,2EAAmD;IAC/C,uEAAK;IAAA,wDAAwB;;IAAA,6DAAM;IACvC,6DAAM;IACV,6DAAM;;IAFO,2DAAwB;IAAxB,6IAAwB;;ADxDtC,MAAM,eAAe;IAS1B,YACU,MAAc,EACd,YAA0B,EAC1B,KAAwB,EACzB,WAAwB,EACvB,eAAgC,EAChC,QAAkB,EAClB,WAAwB,EACxB,MAAc;QAPd,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,UAAK,GAAL,KAAK,CAAmB;QACzB,gBAAW,GAAX,WAAW,CAAa;QACvB,oBAAe,GAAf,eAAe,CAAiB;QAChC,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QAhBxB,uBAAkB,GAAQ,IAAI,CAAC,IAAI,EAAE,CAAC;QAGtC,iBAAY,GAAQ,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,mBAAmB,CAAC,CAAC,oCAAoC,CAAC;QAyN7H,WAAM,GAAY,KAAK,CAAC;QA1MtB,IAAI,IAAI,GAAQ,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK;QAC/D,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,IAAI,IAAI,CAAC,kBAAkB;gBAAE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB;;gBACzE,IAAI,CAAC,oBAAoB,EAAE;SACjC;IACH,CAAC;IArBD,IAAI;QACF,OAAO,EAAE,YAAY,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;IACpE,CAAC;IAuBD,kBAAkB;QAChB,IAAI,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,EAAE;YACtI,IAAI,CAAC,YAAY,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,YAAY;gBACxE,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,YAAY;gBACrD,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;SACxE;QACD,IAAI,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,EAAE;YAC5C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,WAAW,GAAG,CAAE,EAAE,GAAG,IAAI,CAAC;SACvF;QACD,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAED;;;OAGG;IACH,oBAAoB;QAClB,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAC3E,IAAI,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;YACvG,IAAI,CAAC,YAAY,CAAC,qEAAqE,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,OAAO,EAAE,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;iBAC3P,IAAI,CAAC,GAAG,CAAC,EAAE;gBACV,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI;gBAC1C,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,QAAQ;gBACtD,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,QAAQ;gBACpD,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,QAAQ;YACtD,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACH,OAAO,CAAC,SAAS,EAAE,OAAQ;QACzB,QAAQ,SAAS,EAAE;YACjB,KAAK,CAAC,CAAC;YAAC,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC;YACpH,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC;YAC9G,KAAK,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACrH,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC;YACvH,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC;YAChH,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC;YAC9G,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC;YACxH,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACrH,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC;YACpL,KAAK,EAAE,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC;SACrH;IACH,CAAC;IAED;;;;OAIG;IACH,UAAU,CAAC,IAAI;QACb,yJAAyJ;QACzJ,qBAAqB;QACrB,mLAAmL;QACnL,SAAS;QACT,6MAA6M;QAC7M,UAAU;QAEV,QAAQ,IAAI,CAAC,SAAS,EAAE;YACtB,KAAK,CAAC,CAAC,CAAC;gBACN,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,sGAAc,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBACtG,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,CAAC,CAAC,CAAC;gBACN,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,+GAAiB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBACzG,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,CAAC,CAAC,CAAC;gBACN,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,mIAAuB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAC/G,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,CAAC,CAAC,CAAC;gBACN,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,gIAAsB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAC9G,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,mIAAuB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAC/G,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,+GAAiB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBACzG,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,gIAAsB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAC9G,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,6HAAqB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAC7G,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,sIAAwB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBAChH,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oJAA4B,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;qBACpH,IAAI,CAAC,KAAK,CAAC,EAAE;oBACZ,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;gBAC9C,CAAC,CAAC;aACL;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBACjB,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mCAAmC,CAAC,CAAC;oBACpH,MAAM;iBACP;qBACI;oBACH,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,oIAAuB,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC;yBAC/G,IAAI,CAAC,KAAK,CAAC,EAAE;wBACd,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAE,CAAC,CAAC;oBAC9C,CAAC,CAAC;iBACH;aACF;YACD,KAAK,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kCAAkC,CAAC,CAAC;gBACnH,MAAM;aACP;SACF;IACH,CAAC;IAED;;;;;OAKG;IACH,aAAa,CAAC,IAAI;QAChB,QAAQ,IAAI,EAAE;YACZ,KAAK,CAAC,CAAC;YAAC,KAAK,CAAC;gBACZ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC;YAC/D,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uCAAuC,CAAC;YAChF,KAAK,CAAC,CAAC;YAAC,KAAK,EAAE;gBACb,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sCAAsC,CAAC;YAC/E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oCAAoC,CAAC;YAC7E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,wCAAwC,CAAC;YACjF,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oCAAoC,CAAC;YAC7E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sCAAsC,CAAC;YAC/E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yCAAyC,CAAC;SACnF;IACH,CAAC;IAED;;;;;OAKG;IACH,WAAW,CAAC,IAAI;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC;IACpD,CAAC;IAED;;;;;OAKG;IACH,gBAAgB,CAAC,IAAI;QACnB,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,kBAAkB,CAAC;IAC1D,CAAC;IAGD;;MAEE;IACF,MAAM;QACJ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,qBAAqB;QACrB,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QACvB,IAAI,IAAI,GACN,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,GAAG;YAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,GAAG,GAAG;YACrE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG;YAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;QAChE,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,qBAAqB,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,gBAAgB,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC;QAC/T,sBAAsB;QACtB,IAAI,KAAK,GAAQ,IAAI,MAAM,EAAE,CAAC;QAC9B,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,CAAC;QAC3D,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;QACnD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAChG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;QACnD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;QACrD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;QAC3F,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC;YACpE,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;SACnG;QACD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC,GAAG,EAAE,CAAC;QACnE,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;QACjG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAChB,iCAAiC;QAClC,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE;YACjD,IAAI,IAAI,GAAQ,IAAI,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;YACvE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjF,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;YAC/H,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;YAC1D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAC9F,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;YAClE,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;gBACpF,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;aAC9E;YACD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;YACnF,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;YAE5E,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjB;QAED,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC3G,CAAC;IACD,uBAAuB,CAAC,KAAK,IAAI,CAAC;IAClC,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,qDAAqD,CAAC,EAAE;YAC5E,KAAK,EAAE;gBACL,QAAQ,EAAE,IAAI,CAAC,QAAQ;aACxB;SACF,CAAC,CAAC;IAEL,CAAC;;8EAvRU,eAAe;8GAAf,eAAe;QCvB5B,0EAA4D;QAAnB,qIAAS,YAAQ,IAAC;QACvD,mEAA+C;QAAA,wDACnD;;QAAA,6DAAM;QACN,gFAAiC;QAC7B,0EAAkC;QAC9B,0EAAyD;QACrD,qEAAG;QAAA,wDAAe;QAAA,6DAAI;QAC1B,6DAAM;QACN,0EAAkD;QAC9C,8EAAuE;QAA/D,yIAAS,YAAQ,IAAC;QAC9B,oEAAmD;QACnD,yDAA0B;;QAAA,6DAAS;QACnC,6DAAM;QACV,6DAAM;QACN,2EAA+B;QAC3B,0HA6DW;QACX,+GAIM;QACV,6DAAM;QACV,6DAAY;;QAlFuC,2DACnD;QADmD,qJACnD;QAIe,2DAAe;QAAf,iFAAe;QAKtB,2DAA0B;QAA1B,yJAA0B;QAIoD,2DAAwC;QAAxC,yGAAwC;QA8DzG,2DAA0C;QAA1C,0GAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEN;;;;;;;;;;;;;;;;;;;;;;;;ICIzC,2EACY;;;IADgC,8FAAyB;IAAC,6FAAwB;;;IAiB9F,2EACY;;;;IADiC,+JAAoC;IAAC,6FAAwB;;;;IAFlH,0EAAoE;IAChE,gFAA0K;IAA1H,qVAA6B;;IACzE,yIACY;IAChB,4DAAY;IAChB,4DAAM;;;IAJyF,0DAA+C;IAA/C,sKAA+C;IAAlH,gFAAuB;IACb,0DAAa;IAAb,sFAAa;;;;;IA6BvC,yEAAwM;IAA3K,oYAAwD,UAAU,KAAE;IAAuG,oEAAG;IAAA,uDAAgC;;IAAA,4DAAI;IAC3O,mEAA2F;IAC/F,4DAAK;;;IAFgJ,+KAAkD;IAAI,0DAAgC;IAAhC,oJAAgC;IAC5N,0DAAyD;IAAzD,4HAAyD;;;;IAuBhE,wEAAkM;IAApJ,yUAAS,wBAAwB,+CAA4B;IAAuF,4DAAI;;;IAAhE,sGAAyC;;;IAWnL,qEAAmC;IAC/B,gEAAS;IACT,yEAA4C;IACxC,uDAAmD;;IAAA,gEAAI;IACvD,uDAEJ;;;IAAA,4DAAK;IAEL,yEAAqB;IAAA,wDAAiB;IAAA,4DAAK;IAC3C,0EAAuE;IACnE,wDAA6C;IAAA,4DAAK;IACtD,0EAAoB;IAAA,wDAA6C;IAAA,4DAAK;IAE1E,4DAAK;;;;IAVG,0DAAmD;IAAnD,oLAAmD;IACnD,0DAEJ;IAFI,uRAEJ;IAEqB,0DAAiB;IAAjB,kFAAiB;IAClB,0DAAkD;IAAlD,gLAAkD;IAClE,0DAA6C;IAA7C,gIAA6C;IAC7B,0DAA6C;IAA7C,sHAA6C;;;IAZzE,wEAAkC;IAC9B,mKAaK;IACT,qEAAe;;;IAdU,0DAAY;IAAZ,kFAAY;;;;IAfzC,wEAAkE;IAC9D,yEAAuD;IAAnD,yZAA0B;IAC1B,qEAAI;IAAA,uDAAc;IAAA,4DAAK;IACvB,qEAAI;IACA,+IAAsM;IACtM,uDACA;IAAA,gEAAI;IACJ,uDACJ;IAAA,4DAAK;IACL,yEAAqB;IAAA,wDAAiB;IAAA,4DAAK;IAC3C,0EAAuE;IACnE,wDAA6C;IAAA,4DAAK;IACtD,0EAAoB;IAAA,wDAA6C;IAAA,4DAAK;IAC1E,4DAAK;IACL,uKAee;IACnB,qEAAe;;;;IA5BH,0DAAc;IAAd,+EAAc;IAE+F,0DAAe;IAAf,+EAAe;IAC5H,0DACA;IADA,yFACA;IACA,0DACJ;IADI,sGACJ;IACqB,0DAAiB;IAAjB,kFAAiB;IAClB,0DAAkD;IAAlD,+KAAkD;IAClE,0DAA6C;IAA7C,gIAA6C;IAC7B,0DAA6C;IAA7C,sHAA6C;IAEtD,0DAAiB;IAAjB,iFAAiB;;;;;;IA5C5C,mFAA0O;IACtO,wEAAO;IACH,qEAAI;IACA,yEAAiB;IAAA,oEAAG;IAAA,uDAAqB;;IAAA,4DAAI;IAAA,4DAAK;IAClD,yEAA0G;IAA7E,2XAAsD,MAAM,KAAE;IAAe,oEAAG;IAAA,wDAA8B;;IAAA,4DAAI;IAC3I,oEAAyF;IAC7F,4DAAK;IACL,0EAAuI;IAA1G,oYAA8D,UAAU,KAAE;IAAgC,qEAAG;IAAA,wDAA0B;;IAAA,4DAAI;IACpK,oEAA6F;IACjG,4DAAK;IACL,mIAEK;IACL,0EAAyJ;IAA5H,2XAAqD,UAAU,KAAE;IAC1F,qEAAG;IAAA,wDAA+B;;IAAA,4DAAI;IACtC,oEAA0F;IAC9F,4DAAK;IACT,4DAAK;IACT,4DAAQ;IACR,yEAAO;IACH,sEAAI;IACA,iEAAS;IACT,0EAA8C;IAAA,wDAAuB;;IAAA,4DAAK;IAC1E,0EAAkF;IAC9E,wDAAsC;IAAA,4DAAK;IAC/C,0EAAoI;IAChI,wDAAgE;IAAA,4DAAK;IACzE,0EAAiF;IAC7E,wDAAgE;IAAA,4DAAK;IAC7E,4DAAK;IACL,yJA8Be;IAGnB,4DAAQ;IACZ,4DAAW;;;;IAhED,0EAAiB;IAGK,0DAAqB;IAArB,wIAAqB;IACoE,0DAA8B;IAA9B,kJAA8B;IAC5H,0DAAuD;IAAvD,yHAAuD;IAEoE,0DAA0B;IAA1B,8IAA0B;IACrJ,0DAA2D;IAA3D,6HAA2D;IAEyB,0DAAkB;IAAlB,qFAAkB;IAGtB,0DAAyC;IAAzC,yGAAyC;IACjI,0DAA+B;IAA/B,qJAA+B;IACvB,0DAAwD;IAAxD,0HAAwD;IAOzB,0DAAuB;IAAvB,2IAAuB;IAEjE,0DAAsC;IAAtC,oHAAsC;IACuC,0DAAkD;IAAlD,+KAAkD;IAC/H,0DAAgE;IAAhE,qJAAgE;IAEhE,0DAAgE;IAAhE,qJAAgE;IAExC,0DAAkB;IAAlB,8EAAkB;;;IAmC1D,0EAA6E;IACzE,0EAAmD;IAC/C,sEAAK;IAAA,uDAAwB;;IAAA,4DAAM;IACvC,4DAAM;IACV,4DAAM;;IAFO,0DAAwB;IAAxB,2IAAwB;;;;IAMzC,wEAA8B;IAC1B,gFAAsF;IAA3E,sXAA0B;IACjC,6EAA6C;;IACzC,qFAA0E;IAA1D,4WAAmB;IAC/B,4EAA4B;IAAA,uDAA8B;;IAAA,4DAAQ;IAClE,4EAA4B;IAAA,uDAA8C;;IAAA,4DAAQ;IAClF,6EAA4B;IAAA,wDAA+C;;IAAA,4DAAQ;IACnF,6EAA4B;IAAA,wDAA4C;;IAAA,4DAAQ;IAChF,6EAA4B;IAAA,wDAAgD;;IAAA,4DAAQ;IACpF,6EAA4B;IAAA,wDAAmD;;IAAA,4DAAQ;IACvF,6EAA4B;IAAA,wDAA8C;;IAAA,4DAAQ;IAClF,6EAA4B;IAAA,wDAAiD;;IAAA,4DAAQ;IACzF,4DAAiB;IACrB,4DAAS;IACT,8EAA6C;;IACzC,sFAA0E;IAA1D,6WAAmB;IAC/B,6EAA4B;IAAA,wDAA8B;;IAAA,4DAAQ;IAClE,6EAA6B;IAAA,wDAA8C;;IAAA,4DAAQ;IACvF,4DAAiB;IACrB,4DAAS;IACb,4DAAY;IAChB,qEAAe;;;IApBA,0DAA0B;IAA1B,wFAA0B;IACzB,0DAAoC;IAApC,4JAAoC;IACxB,0DAAmB;IAAnB,iFAAmB;IACH,0DAA8B;IAA9B,iJAA8B;IAC9B,0DAA8C;IAA9C,kKAA8C;IAC9C,0DAA+C;IAA/C,mKAA+C;IAC/C,0DAA4C;IAA5C,gKAA4C;IAC5C,0DAAgD;IAAhD,oKAAgD;IAChD,0DAAmD;IAAnD,uKAAmD;IACnD,0DAA8C;IAA9C,kKAA8C;IAC9C,0DAAiD;IAAjD,qKAAiD;IAG7E,0DAAoC;IAApC,6JAAoC;IACxB,0DAAmB;IAAnB,iFAAmB;IACH,0DAA8B;IAA9B,kJAA8B;IAC7B,0DAA8C;IAA9C,kKAA8C;;ADzHxF,MAAM,0BAA0B;IAiBrC,YACS,eAAgC,EAC/B,YAA0B,EAC3B,WAAwB,EACvB,MAAc,EACf,WAAwB,EACvB,KAAwB,EACxB,QAAkB,EAClB,MAAc,EACd,UAA2B;QAR5B,oBAAe,GAAf,eAAe,CAAiB;QAC/B,iBAAY,GAAZ,YAAY,CAAc;QAC3B,gBAAW,GAAX,WAAW,CAAa;QACvB,WAAM,GAAN,MAAM,CAAQ;QACf,gBAAW,GAAX,WAAW,CAAa;QACvB,UAAK,GAAL,KAAK,CAAmB;QACxB,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAiB;QAzB9B,SAAI,GAAW,CAAC,IAAI,IAAI,EAAE,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;QAC/C,iBAAY,GAAQ;YAClB,YAAY,EAAE,CAAC;YACf,UAAU,EAAE,KAAK;YACjB,KAAK,EAAE,CAAC;SACT;QACD,aAAQ,GAAQ;YACd,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;SACZ;QACD,eAAU,GAAe,EAAE,CAAC;QAC5B,sBAAiB,GAAe,EAAE,CAAC;QACnC,qBAAgB,GAAW,EAAE;QAC7B,iBAAY,GAAQ,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,mBAAmB,CAAC,CAAC,oCAAoC,CAAC;QAC7H,uBAAkB,GAA6B,IAAI,CAAC,IAAI,EAAE;QAC1D,cAAS,GAAY,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAE;QAqCvD,cAAS,GAAQ,EAAE,CAAC;QACpB,qBAAgB,GAAQ,EAAE,CAAC;QAuE3B,UAAK,GAAQ,GAAG;QAChB,SAAI,GAAQ,CAAC;QA0Cb,4BAA4B;QAC5B,mBAAc,GAAG,KAAK;QACtB,gBAAW,GAAG,KAAK;QACnB,iBAAY,GAAG,KAAK;QACpB,eAAU,GAAG,KAAK;QA2ClB,2BAA2B;QAC3B,iBAAiB;QACjB,YAAO,GAAY,IAAI,CAAC;QACxB,cAAS,GAAG,KAAK,CAAC;QA9LhB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACrC,IAAI,CAAC,cAAc,EAAE;QACrB,IAAI,CAAC,WAAW,EAAE;QAClB,IAAI,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE;YACnD,IAAI,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;YAC3E,IAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC;YACzD,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;YACjF,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC;YAC/C,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC,gBAAgB;YACpD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,WAAW,CAAC,iBAAiB,CAAC;SACjE;IACH,CAAC;IAED,UAAU;QACR,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,kBAAkB;QAChB,IAAI,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,QAAQ,CAAC,aAAa,CAAC,6BAA6B,CAAC,EAAE;YACzJ,IAAI,CAAC,YAAY,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,YAAY;kBACtI,QAAQ,CAAC,aAAa,CAAC,6BAA6B,CAAC,CAAC,YAAY,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;SACrF;QACD,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAGD;;;OAGG;IACH,cAAc;QACZ,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,2EAAc,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,uCAAY,CAAC,KAAE,GAAG,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAE,CAAC,CAAC,CAAC;QACvP,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS;IACxC,CAAC;IAED;;;OAGG;IACH,cAAc,CAAC,KAAK;QAClB,IAAI,OAAO,GAAW,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QACxE,IAAI,KAAK,CAAC,MAAM;YACd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;;YAC9F,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,gBAAgB;IAC7C,CAAC;IACD;;OAEG;IACH,WAAW,CAAC,UAAU;QACpB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,UAAU;QAC5C,2BAA2B;IAC7B,CAAC;IACD,IAAI,CAAC,YAAkB,IAAI,IAAI,EAAE,EAAE,UAAgB,IAAI,IAAI,EAAE;QAC3D,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5B,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7B,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;IACxF,CAAC;IACD;;;;OAIG;IACH,UAAU,CAAC,KAAK;QACd,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,GAAG,QAAQ,EAAE;YACzJ,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;SAC9C;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,2BAA2B,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,aAAa,CAAC;YACrM,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,GAAG,QAAQ,CAAC,CAAC;YAC7G,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC5D;QACD,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC3D,yFAAyF;IAC3F,CAAC;IACD;;;;;OAKG;IACH,eAAe,CAAC,KAAK;QACnB,QAAQ,KAAK,EAAE;YACb,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC;YACtB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;YACnB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;YACnB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;YACnB,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAC,EAAE,EAAE,EAAE,CAAC;YACzC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAC,EAAE,CAAC;YAC5B,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC;YACtB,KAAK,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SACpB;IACH,CAAC;IAID;;;OAGG;IACH,cAAc,CAAC,KAAK;QAClB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC;IACD;;;OAGG;IACH,WAAW,CAAC,KAAK;QACf,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;IAC9C,CAAC;IAGD;;;OAGG;IACH,kBAAkB;QAChB,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAC3E,IAAI,CAAC,YAAY,CAAC,8DAA8D,CAC9E,IAAI,CAAC,kBAAkB,CAAC,SAAS,EACjC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAC/B,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAClE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAC1D,IAAI,CAAC,gBAAgB,CACtB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACX,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI;gBAC1C,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,QAAQ;gBACpD,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC,QAAQ;gBACpD,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC,QAAQ;gBACtD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAC,MAAM,CAAC;YACvC,CAAC,CAAC;iBACC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;iBAChC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC;IACJ,CAAC;IAQD;;;;;OAKG;IACH,IAAI,CAAC,IAAI,EAAE,KAAK;QACd,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,GAAG,uCAAY,IAAI,KAAE,KAAK,EAAE,KAAK,GAAG,CAAC,IAAE,CAAC,CAAC,CAAC;SAC/K;aACI;YACH,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,GAAG,uCAAY,IAAI,KAAE,KAAK,EAAE,KAAK,GAAG,CAAC,IAAE,CAAC,CAAC,CAAC;SAChL;IACH,CAAC;IACD;;;;;OAKG;IACH,QAAQ,CAAC,IAAI,EAAE,KAAK;QAClB,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,GAAG,uCAAY,IAAI,KAAE,KAAK,EAAE,KAAK,GAAG,CAAC,IAAE,CAAC,CAAC,CAAC;SACnL;aACI;YACH,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,GAAG,uCAAY,IAAI,KAAE,KAAK,EAAE,KAAK,GAAG,CAAC,IAAE,CAAC,CAAC,CAAC;SACpL;IACH,CAAC;IACD,UAAU,CAAC,IAAI;QACb,IAAI,QAAQ,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,UAAU,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAE,IAAI,CAAC,UAAU,EAAE,iBAAiB,EAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,EAAE;QAC7T,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,4DAA4D,CAAC,EAAE;gBACnF,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;aAClC,CAAC;QACJ,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,uBAAuB,CAAC,KAAK;IAC7B,CAAC;IAKD;;;OAGG;IACH,SAAS;QACP,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK;QACvC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,KAAK;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAED;;;OAGG;IACH,QAAQ;QACN,IAAI,CAAC,cAAc,EAAE;QACrB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IACD;;;OAGG;IACH,YAAY;QACV,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IACD;;;;;OAKG;IACH,WAAW,CAAC,IAAI;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC;IACpD,CAAC;IACD;;;;;OAKG;IACH,aAAa,CAAC,IAAI;QAChB,QAAQ,IAAI,EAAE;YACZ,KAAK,CAAC,CAAC;YAAC,KAAK,CAAC;gBACZ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC;YAC/D,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uCAAuC,CAAC;YAChF,KAAK,CAAC,CAAC;YAAC,KAAK,EAAE;gBACb,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sCAAsC,CAAC;YAC/E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oCAAoC,CAAC;YAC7E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,wCAAwC,CAAC;YACjF,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oCAAoC,CAAC;YAC7E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sCAAsC,CAAC;YAC/E,KAAK,CAAC;gBACJ,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yCAAyC,CAAC;SACnF;IACH,CAAC;IAED;;OAEG;IACH,WAAW;QACT,IAAI,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,CAAC,EAAC,8BAA8B;QACtF,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,EAAC,qBAAqB;QAC1D,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG,EAAC,sDAAsD;QAEnH,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE,sCAAsC;YAE1D,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,MAAM,EAAE,EAAE,uCAAuC;gBACxE,IAAI,CAAC,UAAU,GAAG,QAAQ,EAAC,uCAAuC;gBAClE,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC;oBAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;gBACpF,IAAI,CAAC,gBAAgB,GAAG,aAAa,EAAC,wEAAwE;aAC/G;iBAEI,EAAE,oCAAoC;gBACzC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;oBACvD,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;wBACtB,IAAI,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,qBAAqB,CAAC;4BAAE,IAAI,CAAC,UAAU,CAAC,IAAI,mBAAM,IAAI,EAAG,EAAC,sEAAsE;oBACxJ,CAAC,CAAC;oBACF,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,kDAAkD;wBAClF,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAC,gDAAgD;wBACrG,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;4BAC7B,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,aAAa;gCAAE,OAAO,IAAI,CAAC,gBAAgB,GAAG,aAAa,EAAC,0EAA0E;;gCAC/J,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,EAAC,sDAAsD;yBAC3G;qBACF;yBACI,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE,EAAE,oEAAoE;wBAC1G,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG;qBAC/C;;wBACI,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,EAAE,2CAA2C,CAAC,EAAC,8BAA8B;gBAClI,CAAC,CAAC;aAEH;YACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU;SACzC;;YAAM,IAAI,CAAC,gBAAgB,GAAG,aAAa,EAAC,uBAAuB;IACtE,CAAC;IAED;;;OAGG;IACH,MAAM,CAAC,KAAK;QACV,IAAI,OAAO,GAAW,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QACxE,IAAI,KAAK,CAAC,MAAM;YACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC,MAAM,CAAC,CAAC;;YACrF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB;IAC/C,CAAC;IAEA;;OAEG;IACJ,MAAM;QACH,qBAAqB;QACtB,IAAI,IAAI,GAAG,IAAI,KAAK,EAAE,CAAC;QACvB,IAAI,IAAI,GACN,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,GAAG;YAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,GAAG,GAAG;YAC5D,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG;YAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;QACvD,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,gBAAgB,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE;QAChO,sBAAsB;QACpB,IAAI,KAAK,GAAQ,IAAI,MAAM,EAAE,CAAC;QAC9B,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;QAClD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAChG,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;QACnD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC;QACtD,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;QAC3F,IAAI,IAAI,CAAC,YAAY;YAAE,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;QACzH,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC;QACjG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEjB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;YACvD,IAAI,IAAI,GAAQ,IAAI,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC;YACxD,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;YAClE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;YAC1D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;YAChE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;YAClE,IAAI,IAAI,CAAC,YAAY;gBAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;YACpG,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC;YAE5E,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,KAAK,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC5C,IAAI,UAAU,GAAQ,IAAI,MAAM,EAAE,CAAC;gBACnC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC;gBACvD,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC;gBAC5E,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClJ,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC;gBACpE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC;gBACtE,IAAI,IAAI,CAAC,YAAY;oBAAE,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC;gBACxG,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC;gBAChF,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;aACvB;YACD,IAAI,KAAK,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACpD,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;aAC1E;QACH,CAAC,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM;YACtC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;IAC7E,CAAC;;oGA9XU,0BAA0B;wHAA1B,0BAA0B;QCfvC,yEAA4D;QAAnB,+IAAS,YAAQ,IAAC;QACvD,kEAA+C;QAAA,uDACnD;;QAAA,4DAAM;QACN,+EAA0D;QACtD,yEAA6D;QACzD,yEAAwD;QACpD,oEAAG;QAAA,uDAAmC;;QAAA,4DAAI;QAC9C,4DAAM;QACN,0EAAwD;QACpD,gFAA8M;QAAlI,sKAAc,0BAAsB,IAAC,sIAA2B,YAAY,eAAvC,oHAAwE,uBAAmB,IAA3F;QAC7G,oIACY;QAChB,4DAAY;QAChB,4DAAM;QAIN,0EAAqE;QACjE,0EAAgC;QAC5B,8EAA0E;QAAtB,mJAAS,eAAW,IAAC;QACrE,oEAAiD;QACjD,wDAAsB;;QAAA,4DAAS;QACvC,4DAAM;QACL,uFAAgG;QAAxD,uMAAkB,0HAAkB,sBAAkB,IAApC;QAAsC,4DAAkB;QACvH,4DAAM;QACN,yHAKM;QACN,2EAAiD;QAC7C,uEAAK;QACD,8EAAyF;QAAjF,mJAAS,YAAQ,IAAC;QACtB,oEAAmD;QACnD,wDAA0B;;QAAA,4DAAS;QAC3C,4DAAM;QACN,uEAAK;QACD,8EAAoI;QAAvB,mJAAS,gBAAY,IAAC;QAC/H,2EAA2D;QAC3D,wDACJ;;QAAA,4DAAS;QACb,4DAAM;QACV,4DAAM;QACV,4DAAM;QACN,2EAAgC;QAC5B,qIAgEW;QACX,yHAIM;QACV,4DAAM;QACV,4DAAY;QACZ,gFAAiK;QAAvJ,yMAAyB,uGAAwF,kBAAc,IAAtG,+FAAkH,cAAU,IAA5H;;;QAC/B,6IAqBe;QACnB,4DAAW;;QA5IwC,0DACnD;QADmD,oJACnD;QAGoB,0DAAY;QAAZ,qEAAY;QACjB,0DAAmC;QAAnC,wJAAmC;QAGc,0DAAuB;QAAvB,gFAAuB;QACzC,0DAAY;QAAZ,kFAAY;QAOX,0DAA6B;QAA7B,0FAA6B;QAIxD,0DAAsB;QAAtB,sJAAsB;QAEW,0DAAkB;QAAlB,6EAAkB;QAEzD,0DAAe;QAAf,+EAAe;QAUT,0DAA0B;QAA1B,wJAA0B;QAGtB,0DAAqC;QAArC,kGAAqC;QAEzC,0DACJ;QADI,qJACJ;QAKsE,0DAAwC;QAAxC,wGAAwC;QAiEzG,0DAA0C;QAA1C,yGAA0C;QAO3B,0DAAuC;QAAvC,gKAAuC;QAAC,2JAAgC;QAAlG,oFAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrHY;AAC8B;AACtB;AACD;AACS;AACG;AACN;AACf;AAC8C;AACV;;;AACjF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sFAA0B;KACtC;IACD;QACE,IAAI,EAAE,QAAQ;QACd,SAAS,EAAE,qEAAe;KAC3B;CACF;AAiBM,MAAM,uBAAuB;;8FAAvB,uBAAuB;oHAAvB,uBAAuB;yHAFvB,CAAC,2FAAW,CAAC,YAVf;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,gEAAe;YACf,yEAAgB;YAChB,uDAAW;YACX,+DAAmB;YACnB,wDAAW;YACX,qGAAgB;SACjB;mIAGU,uBAAuB,mBAbnB,sFAA0B,EAAE,qEAAe,aAExD,yDAAY,6DAEZ,gEAAe;QACf,yEAAgB;QAChB,uDAAW;QACX,+DAAmB;QACnB,wDAAW;QACX,qGAAgB","sources":["./src/app/sales/menu/manage/reports/input-output-return/detail/detail.component.ts","./src/app/sales/menu/manage/reports/input-output-return/detail/detail.component.html","./src/app/sales/menu/manage/reports/input-output-return/input-output-return.component.ts","./src/app/sales/menu/manage/reports/input-output-return/input-output-return.component.html","./src/app/sales/menu/manage/reports/input-output-return/input-output-return.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\nimport { SalesComponent } from 'src/app/sales/components/bill-detail/sales/sales.component';\r\nimport { WarrantyComponent } from 'src/app/sales/components/bill-detail/warranty/warranty.component';\r\nimport { CustomerReturnComponent } from 'src/app/sales/components/bill-detail/customer-return/customer-return.component';\r\nimport { OpenningStockComponent } from 'src/app/sales/components/bill-detail/openning-stock/openning-stock.component';\r\nimport { DeliveryGoodsComponent } from 'src/app/sales/components/bill-detail/delivery-goods/delivery-goods.component';\r\nimport { RecieveGoodsComponent } from 'src/app/sales/components/bill-detail/recieve-goods/recieve-goods.component';\r\nimport { PurchaseComponent } from 'src/app/sales/components/bill-detail/purchase/purchase.component';\r\nimport { ReturnSupplierComponent } from 'src/app/sales/components/bill-detail/return-supplier/return-supplier.component';\r\nimport { ExchangeVoucherComponent } from 'src/app/sales/components/bill-detail/exchange-voucher/exchange-voucher.component';\r\nimport { ExchangePaymentCardComponent } from 'src/app/sales/components/bill-detail/exchange-payment-card/exchange-payment-card.component';\r\nimport { DestroyProductComponent } from 'src/app/sales/components/bill-detail/destroy-product/destroy-product.component';\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n  inOutReturnProduct: any = this.init();\r\n  stateObj: any;\r\n  detail: any;\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_input_output_return;\r\n  init() {\r\n    return { sum_products: 0, total_atax: 0, total_btax: 0, list: [] }\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private languageService: LanguageService,\r\n    private datePipe: DatePipe,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n    if (data) {\r\n      this.stateObj = data.stateObj;\r\n      this.detail = data.detail;\r\n      if (data.inOutReturnProduct) this.inOutReturnProduct = data.inOutReturnProduct\r\n      else this.getInOutReturnDetail()\r\n    }\r\n  }\r\n\r\n  heightScroll: string;\r\n  widthScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight) - 90 + \"px\";\r\n    }\r\n    if (document.querySelector(\".height-layout\")) {\r\n      this.widthScroll = document.querySelector(\".height-layout\").clientWidth + - 48 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   * @example this.getInOutReturnDetail()\r\n   */\r\n  getInOutReturnDetail() {\r\n    this.vhComponent.showLoadingNotDuration(\"\", \"transparent-loading\").then(() => {\r\n      let id_sub_or_product = this.detail.id_subproduct ? this.detail.id_subproduct : this.detail.id_product;\r\n      this.vhQuerySales.getReportInputOutputReturns_Detail_byTime_byIDProduct_byBillTypeArray(this.stateObj.inOutReturnProduct.startTime, this.stateObj.inOutReturnProduct.endTime, id_sub_or_product, this.stateObj.goodsFilter, this.stateObj['id_branch_report'])\r\n        .then(res => {\r\n          this.inOutReturnProduct['list'] = res.docs\r\n          this.inOutReturnProduct['sum_products'] = res.quantity\r\n          this.inOutReturnProduct['total_btax'] = res.pay_btax\r\n          this.inOutReturnProduct['total_atax'] = res.pay_atax\r\n        }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về nội dung của bill\r\n   * @param bill_type \r\n   * @param id_bill \r\n   * @returns string\r\n   * @example let method = this.setType(1)\r\n   */\r\n  setType(bill_type, id_bill?) {\r\n    switch (bill_type) {\r\n      case 1: case 15: return `${this.languageService.translate(\"output\")}( ${this.languageService.translate(\"_sell\")} )`;\r\n      case 2: return `${this.languageService.translate(\"input\")}( ${this.languageService.translate(\"_supplier\")} )`;\r\n      case 3: return `${this.languageService.translate(\"input\")}( ${this.languageService.translate(\"_customer_return\")} )`;\r\n      case 10: return `${this.languageService.translate(\"output\")}( ${this.languageService.translate(\"_supplier_return\")} )`;\r\n      case 30: return `${this.languageService.translate(\"output\")}( ${this.languageService.translate(\"_delivery\")} )`;\r\n      case 31: return `${this.languageService.translate(\"input\")}( ${this.languageService.translate(\"_receive\")} )`;\r\n      case 41: return `${this.languageService.translate(\"output\")}( ${this.languageService.translate(\"_exchange_voucher\")} )`;\r\n      case 51: return `${this.languageService.translate(\"output\")}( ${this.languageService.translate(\"_exchange_card\")} )`;\r\n      case 38: return `${this.languageService.translate(\"output\")}( ${id_bill ? this.languageService.translate(\"_destroy_product\") : this.languageService.translate(\"_balance_stock\")} )`;\r\n      case 39: return `${this.languageService.translate(\"input\")}( ${this.languageService.translate(\"_balance_stock\")} )`;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * mở modal component xem thông tin bill của từng loại bill-type tương ứng\r\n   * @param item \r\n   * @example this.goToDetail(bill_selected)\r\n   */\r\n  goToDetail(item) {\r\n    // let state = { id: bill.id_bill, bill_type: bill.bill_type, stateObj: this.stateObj, detail: this.detail, inOutReturnProduct: this.inOutReturnProduct }\r\n    // setTimeout(() => {\r\n    //   if (bill.bill_type == 30 || bill.bill_type == 31) this.router.navigate([\"/sales/dashboard/manage/reports/input-output-return/detail-bill-delivery-receive\"], { state: state })\r\n    //   else\r\n    //     this.router.navigate([`/dashboard/manage/reports/input-output-return/detail-bill${bill.bill_type == 15 ? '-warranty' : ([1, 3].includes(bill.bill_type) ? '-export' : '-import')}`], { state: state })\r\n    // }, 100)\r\n\r\n    switch (item.bill_type) {\r\n      case 1: {\r\n        return this.vhComponent.showModal(SalesComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 2: {\r\n        return this.vhComponent.showModal(PurchaseComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 3: {\r\n        return this.vhComponent.showModal(CustomerReturnComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 9: {\r\n        return this.vhComponent.showModal(OpenningStockComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 10: {\r\n        return this.vhComponent.showModal(ReturnSupplierComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 15: {\r\n        return this.vhComponent.showModal(WarrantyComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 30: {\r\n        return this.vhComponent.showModal(DeliveryGoodsComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 31: {\r\n        return this.vhComponent.showModal(RecieveGoodsComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 41: {\r\n        return this.vhComponent.showModal(ExchangeVoucherComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 51: {\r\n        return this.vhComponent.showModal(ExchangePaymentCardComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n          .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 38: {\r\n        if (!item.id_bill) {\r\n          this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Xuất hủy hàng hóa từ cân bằng kho\"))\r\n          break;\r\n        }\r\n        else {\r\n          return this.vhComponent.showModal(DestroyProductComponent, { id_bill: item.id_bill }, false, false, 'bill-detail')\r\n            .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n        }\r\n      }\r\n      case 39: {\r\n        this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Nhập bù hàng hóa từ cân bằng kho\"))\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trả vè tên loại báo cáo để gán vô tên file excel tải về\r\n   * @param type \r\n   * @returns string\r\n   * @example let report_name = this.getNameReport(1)\r\n   */\r\n  getNameReport(type) {\r\n    switch (type) {\r\n      case 1: case 9:\r\n        return this.languageService.translate(\"_items_issued_report\")\r\n      case 3:\r\n        return this.languageService.translate(\"_items_purchased_from_supplier_report\")\r\n      case 2: case 10:\r\n        return this.languageService.translate(\"_items_returned_from_customer_report\")\r\n      case 4:\r\n        return this.languageService.translate(\"_items_returned_to_supplier_report\")\r\n      case 5:\r\n        return this.languageService.translate(\"_items_issued_to_other_branches_report\")\r\n      case 6:\r\n        return this.languageService.translate(\"_items_entered_from_other_branches\")\r\n      case 7:\r\n        return this.languageService.translate(\"_total_number_of_items_issued_report\")\r\n      case 8:\r\n        return this.languageService.translate(\"_total_number_of_items_purchased_report\")\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023 08:11'\r\n   */\r\n  format_full_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy HH:mm\")\r\n  }\r\n\r\n  status: boolean = false;\r\n  /**\r\n  * xuất dữ liệu ra file excel và tải về\r\n  */\r\n  export() {\r\n    this.status = true;\r\n    // xử lý tạo tên file\r\n    let data = new Array();\r\n    let date =\r\n      this.languageService.translate(\"_from\") + \"_\" +\r\n      this.format_date(this.stateObj.inOutReturnProduct['startTime']) + \"_\" +\r\n      this.languageService.translate(\"_to\") + \"_\" +\r\n      this.format_date(this.stateObj.inOutReturnProduct['endTime']);\r\n    let name = `${this.languageService.translate(\"Input-output-return\")}_${this.vhAlgorithm.changeAlias(this.detail.name).replace(/\\s/g, \"_\")}_${date}__${this.stateObj.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.stateObj.id_branch_report).name).replace(/\\s/g, \"_\")}`;\r\n    // thêm dòng đầu tiên \r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Method\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.inOutReturnProduct['sum_products']\r\n    if (this.reportConfig) {\r\n      total[this.languageService.translate(\"Unit price before tax\")] = \"\";\r\n      total[this.languageService.translate(\"Amount before tax\")] = this.inOutReturnProduct['total_btax']\r\n    }\r\n    total[this.languageService.translate(\"Unit price after tax\")] = \"\";\r\n    total[this.languageService.translate(\"Amount after tax\")] = this.inOutReturnProduct['total_atax']\r\n    data.push(total);\r\n     // dòng danh sách dữ liệu báo cáo\r\n    for (let _rows of this.inOutReturnProduct['list']) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"Invoice code\")] = _rows.bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_full_date(_rows.date);\r\n      item[this.languageService.translate(\"Product name\")] = _rows.lots ? _rows.name + ' - ' + _rows.lots[0].lot_number : _rows.name;\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Method\")] = this.setType(_rows.bill_type, _rows.id_bill);\r\n      item[this.languageService.translate(\"Quantity\")] = _rows.quantity;\r\n      if (this.reportConfig) {\r\n        item[this.languageService.translate(\"Unit price before tax\")] = _rows['price_btax'];\r\n        item[this.languageService.translate(\"Amount before tax\")] = _rows['pay_btax']\r\n      }\r\n      item[this.languageService.translate(\"Unit price after tax\")] = _rows['price_atax'];\r\n      item[this.languageService.translate(\"Amount after tax\")] = _rows['pay_atax']\r\n\r\n      data.push(item);\r\n    }\r\n\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n  onCurrentPageDataChange(event) { }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports/input-output-return'], {\r\n      state: {\r\n        stateObj: this.stateObj,\r\n      }\r\n    });\r\n\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"21\" class=\"title max-width-overflow\">\r\n            <b>{{detail.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"center-all-content\">\r\n            <button (click)=\"export()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        {{'Download' | translate}}</button>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 8px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" *ngIf=\"inOutReturnProduct.list.length > 0\" [nzScroll]=\"{x: widthScroll, y: heightScroll }\" #detailStock nzShowPagination nzShowSizeChanger [nzData]=\"inOutReturnProduct.list\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"10%\" nzAlign='center'><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzWidth=\"10%\" nzAlign='center'><b>{{'Date' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" class=\"left\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"7%\" class=\"left\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th nzWidth=\"7%\" class=\"left\"><b>{{'Method' | translate}}</b></th>\r\n                    <th nzWidth=\"7%\"><b>{{'Quantity' | translate}}</b></th>\r\n                    <th *ngIf=\"reportConfig\" nzAlign='right' nzWidth=\"11%\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b>{{'Unit price before tax' | translate}}</b>\r\n                    </th>\r\n                    <th *ngIf=\"reportConfig\" nzAlign='right' nzWidth=\"11%\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b>{{'Amount before tax' | translate}}</b>\r\n                    </th>\r\n                    <th nzAlign='right' [nzWidth]=\"!reportConfig ? '22%' : '11%'\">\r\n                        <b>{{'Unit price after tax' | translate}}</b>\r\n                    </th>\r\n                    <th nzAlign='center' [nzWidth]=\"!reportConfig ? '22%' : '11%'\">\r\n                        <b>{{'Amount after tax' | translate}}</b>\r\n                    </th>\r\n                </tr>\r\n\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td nzAlign='center'><b>{{'Total' | translate}}</b></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green);\"><b>{{inOutReturnProduct['sum_products']}}</b></td>\r\n                    <td [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\"></td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green);\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\"><b>\r\n              {{vhAlgorithm.vhcurrencyunit(inOutReturnProduct['total_btax'])}}</b></td>\r\n                    <td></td>\r\n                    <td style=\"color: var(--ion-color-vh-green);\" nzAlign='right'><b> {{vhAlgorithm.vhcurrencyunit(inOutReturnProduct['total_atax'])}}</b></td>\r\n                </tr>\r\n                <tr (click)=\"goToDetail(data)\" style=\"cursor: pointer;\" *ngFor=\"let data of detailStock.data\">\r\n                    <td nzAlign='center'>{{data.bill_code}}</td>\r\n                    <td class=\"left\">{{ data.date | date: 'dd/MM/yyyy HH:mm' }}</td>\r\n                    <td class=\"left\">{{ data.name }}\r\n                        <ng-container *ngIf=\"data.lots\">\r\n                            <br> \r\n                            <span>{{data.lots[0].lot_number}} </span>\r\n                            <br> \r\n                            <span>{{data.lots[0].date_mfg | date : 'dd/MM/yyyy'}}  - {{data.lots[0].date_exp | date : 'dd/MM/yyyy'}}</span>\r\n                        </ng-container>\r\n                    </td>\r\n                    <td class=\"left\">{{ data.unit }}</td>\r\n                    <td nzAlign='center'>{{setType(data.bill_type, data.id_bill)|translate}}</td>\r\n                    <td nzAlign='center'>{{ data.quantity }}</td>\r\n                    <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit(data.price_btax)}}</td>\r\n                    <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit(data.pay_btax)}}</td>\r\n                    <td nzAlign='right'>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.price_atax)}}</td>\r\n                    <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.pay_atax)}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n        <div nz-row *ngIf=\"inOutReturnProduct.list.length  == 0\" class=\"full-height\">\r\n            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                <div>{{'No data'| translate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { ImportExportReturnReport } from 'src/app/sales/interface/vh-report';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-input-output-return',\r\n  templateUrl: './input-output-return.component.html',\r\n  styleUrls: ['./input-output-return.component.scss']\r\n})\r\nexport class InputOutputReturnComponent {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  filter_value: any = {\r\n    type_product: 3,\r\n    id_product: 'all',\r\n    goods: 1\r\n  }\r\n  stateObj: any = {\r\n    startTime: '',\r\n    endTime: ''\r\n  }\r\n  branchList: Array<any> = [];\r\n  search_branchList: Array<any> = [];\r\n  id_branch_report: string = ''\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_input_output_return;\r\n  inOutReturnProduct: ImportExportReturnReport = this.init()\r\n  useBranch: boolean = this.fncService.checkUsingBranch()\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhComponent: VhComponent,\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private datePipe: DatePipe,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.getListProduct()\r\n    this.getBranches()\r\n    if (this.router.getCurrentNavigation().extras.state) {\r\n      let stateSubObj = this.router.getCurrentNavigation().extras.state.stateObj;\r\n      this.inOutReturnProduct = stateSubObj.inOutReturnProduct;\r\n      this.date = [this.inOutReturnProduct.startTime, this.inOutReturnProduct.endTime];\r\n      this.filter_value['goods'] = stateSubObj.goods;\r\n      this.id_branch_report = stateSubObj.id_branch_report\r\n      this.filter_value['id_product'] = stateSubObj.id_product_select;\r\n    }\r\n  }\r\n\r\n  showReport() {\r\n    this.getInOutReturnData();\r\n  }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#input-output-return\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".input-output-return-header\")) {\r\n      this.heightScroll = (document.querySelector(\"#input-output-return\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".input-output-return-header\").clientHeight) - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  listGoods: any = [];\r\n  list_searchGoods: any = [];\r\n  /**\r\n   * get dử liệu sp và xử lý phần _id để chọn xem report\r\n   * @example this.getListProduct()\r\n   */\r\n  getListProduct() {\r\n    this.listGoods = [{ _id: 'all', name: this.languageService.translate('All') }, ...this.vhQuerySales.getlocalDetailProducts(VhType.PRODUCT).filter(e => !e.delete_hidden)].map(e => { return { ...e, _id: e.id_subproduct ? e.id_subproduct : e._id } })\r\n    this.list_searchGoods = this.listGoods\r\n  }\r\n\r\n  /**\r\n   * lọc sp theo tên và barcode\r\n   * @example this.searchProducts('')\r\n   */\r\n  searchProducts(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.listGoods = this.vhAlgorithm.searchList(tempVal, this.list_searchGoods, ['name', 'barcode'])\r\n    else this.listGoods = this.list_searchGoods\r\n  }\r\n  /**\r\n   * set lại id_product xem báo cáo\r\n   */\r\n  chooseGoods(id_product) {\r\n    this.filter_value['id_product'] = id_product\r\n    //this.getInOutReturnData()\r\n  }\r\n  init(startTime: Date = new Date(), endTime: Date = new Date()): ImportExportReturnReport {\r\n    startTime.setHours(0, 0, 0);\r\n    endTime.setHours(23, 59, 59);\r\n    return { startTime, endTime, sum_products: 0, total_atax: 0, total_btax: 0, list: [] }\r\n  }\r\n  /**\r\n   * bắt sk thay đổi thời gian xem báo cáo\r\n   * @param event \r\n   * @example this.changeTime(['2023-06-27T01:21:41.397Z','2023-06-27T01:21:41.397Z'])\r\n   */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0, 0, 0, 0)).getTime() - new Date(event[0].setHours(0, 0, 0, 0)).getTime() <= this.fncService.checkDateReport() * 86000000) {\r\n      this.inOutReturnProduct['startTime'] = event[0]\r\n      this.inOutReturnProduct['endTime'] = event[1]\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" + this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n      this.inOutReturnProduct['startTime'] = new Date(this.date[0])\r\n      this.inOutReturnProduct['endTime'] = new Date(this.date[1])\r\n    }\r\n    this.inOutReturnProduct['endTime'].setHours(23, 59, 59, 59)\r\n    // this.date = [this.inOutReturnProduct['startTime'], this.inOutReturnProduct['endTime']]\r\n  }\r\n  /**\r\n   * trả về mảng bill_type xem báo cáo liên quan\r\n   * @param value \r\n   * @returns array[number]\r\n   * @example let bill_type = this.changeValueGood(1)\r\n   */\r\n  changeValueGood(value) {\r\n    switch (value) {\r\n      case 1: return [1, 15]\r\n      case 2: return [3]\r\n      case 3: return [2]\r\n      case 4: return [10]\r\n      case 5: return [30]\r\n      case 6: return [31]\r\n      case 7: return [1, 10, 15, 30, 41,51, 38]\r\n      case 8: return [2, 3, 31,39]\r\n      case 9: return [1, 15]\r\n      case 10: return [3]\r\n    }\r\n  }\r\n\r\n  goods: any = '1'\r\n  tabs: any = 0\r\n  /**\r\n   * sk thay đỗi tab xem báo cáo sp hay dịch vụ\r\n   * @param event \r\n   */\r\n  segmentChanged(event) {\r\n    this.filter_value['type_product'] = !event ? 3 : 2\r\n  }\r\n  /**\r\n   * loại báo cáo cần xem\r\n   * @param event \r\n   */\r\n  filterGoods(event) {\r\n    this.filter_value['goods'] = parseInt(event)\r\n  }\r\n\r\n\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   * @example this.getInOutReturnData()\r\n   */\r\n  getInOutReturnData() {\r\n    this.vhComponent.showLoadingNotDuration(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getReportInputOutputReturns_byTime_byIDProduct_byBillTypeArray(\r\n        this.inOutReturnProduct.startTime,\r\n        this.inOutReturnProduct.endTime,\r\n        this.filter_value['id_product'], this.filter_value['type_product'],\r\n        this.changeValueGood(parseInt(this.filter_value['goods'])),\r\n        this.id_branch_report\r\n      ).then(res => {\r\n        this.inOutReturnProduct['list'] = res.docs\r\n        this.inOutReturnProduct['total_btax'] = res.pay_btax\r\n        this.inOutReturnProduct['total_atax'] = res.pay_atax\r\n        this.inOutReturnProduct['sum_products'] = res.quantity\r\n        this.sortName(this.statusName,'name')\r\n      })\r\n        .catch(err => console.error(err))\r\n        .finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n\r\n  //** hàm sort cho các cột */\r\n  statusQuantity = false\r\n  statusSales = false\r\n  statusbSales = false\r\n  statusName = false\r\n  /**\r\n   * sort với trường là dạng số\r\n   * @param sort \r\n   * @param value tên trường cần sort\r\n   * @example this.sort(1, 'total')\r\n   */\r\n  sort(sort, value) {\r\n    if (sort) {\r\n      this.inOutReturnProduct['list'] = this.vhAlgorithm.sortNumberbyASC([...this.inOutReturnProduct['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutReturnProduct['list'] = this.vhAlgorithm.sortNumberbyDESC([...this.inOutReturnProduct['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  /**\r\n   * sort với trường là dạng chuỗi\r\n   * @param sort \r\n   * @param value tên trường cần sort\r\n   * @example this.sort(1, 'name')\r\n   */\r\n  sortName(sort, value) {\r\n    if (sort) {\r\n      this.inOutReturnProduct['list'] = this.vhAlgorithm.sortVietnamesebyASC([...this.inOutReturnProduct['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.inOutReturnProduct['list'] = this.vhAlgorithm.sortVietnamesebyDESC([...this.inOutReturnProduct['list']], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  goToDetail(item) {\r\n    let stateObj = { goods: this.filter_value['goods'], goodsFilter: this.changeValueGood(+this.filter_value.goods), id_product:item.id_subproduct ? item.id_subp :  item.id_product ,id_product_select : this.filter_value['id_product'] ,id_branch_report: this.id_branch_report, inOutReturnProduct: this.inOutReturnProduct }\r\n    setTimeout(() => {\r\n      this.router.navigate([\"/sales/dashboard/manage/reports/input-output-return/detail\"], {\r\n        state: { stateObj, detail: item }\r\n      })\r\n    }, 100)\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports']);\r\n  }\r\n\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n  /**--------------------- */\r\n  /**zorro modal */\r\n  checked: boolean = true;\r\n  isVisible = false;\r\n  /**\r\n   * mở modal chọn bộ lọc xem báo cáo\r\n   * @example this.showModal()\r\n   */\r\n  showModal(): void {\r\n    this.filter_value['goods'] = this.goods\r\n    this.filter_value['id_product'] = 'all'\r\n    this.isVisible = true;\r\n  }\r\n  \r\n  /**\r\n   * xử lý khi nhấn ok modal chọn bộ lọc xem báo cáo\r\n   * @example this.showModal()\r\n   */\r\n  handleOk(): void {\r\n    this.getListProduct()\r\n    this.isVisible = false;\r\n  }\r\n  /**\r\n   * xử lý khi nhấn hủy modal chọn bộ lọc xem báo cáo\r\n   * @example this.showModal()\r\n   */\r\n  handleCancel(): void {\r\n    this.isVisible = false;\r\n  }\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n  /**\r\n   * trả vè tên loại báo cáo để gán vô tên file excel tải về\r\n   * @param type \r\n   * @returns string\r\n   * @example let report_name = this.getNameReport(1)\r\n   */\r\n  getNameReport(type) {\r\n    switch (type) {\r\n      case 1: case 9:\r\n        return this.languageService.translate(\"_items_issued_report\")\r\n      case 3:\r\n        return this.languageService.translate(\"_items_purchased_from_supplier_report\")\r\n      case 2: case 10:\r\n        return this.languageService.translate(\"_items_returned_from_customer_report\")\r\n      case 4:\r\n        return this.languageService.translate(\"_items_returned_to_supplier_report\")\r\n      case 5:\r\n        return this.languageService.translate(\"_items_issued_to_other_branches_report\")\r\n      case 6:\r\n        return this.languageService.translate(\"_items_entered_from_other_branches\")\r\n      case 7:\r\n        return this.languageService.translate(\"_total_number_of_items_issued_report\")\r\n      case 8:\r\n        return this.languageService.translate(\"_total_number_of_items_purchased_report\")\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get chi nhánh được xem báo cáo của user\r\n   */\r\n  getBranches() {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()] // danh sách toàn bộ chi nhánh\r\n    let employee = this.vhAuth.getUser() // thông tn nhân viên\r\n    let defaultBranch = this.vhQuerySales.getDefaultBranch()._id // chi nhánh mặc định khi đăng nhập (lấy id chi nhánh)\r\n\r\n    if (this.useBranch) { // kiểm tra xem có 2 chi nhánh trở lên\r\n\r\n      if (employee['owner'] == 'boss') { // kiểm tra tài khoản đăng nhập là boss\r\n        this.branchList = branches // gán danh sách chi nhánh show ra HTML\r\n        if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        this.id_branch_report = defaultBranch // gán mặc định chi nhánh mặc định xem báo cáo là chi nhánh đăng nhập vô\r\n      }\r\n\r\n      else { // trường hợp tài khoản là nhân viên\r\n        this.vhAuth.getPermission(employee['_id']).then(result => { // get quyền nhân viên được xem báo cáo chi nhánh nào\r\n          branches.forEach(item => {\r\n            if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item }) // kiểm tra chi nhánh đc xem báo cáo, gán cho branchList show ra HMLT \r\n          })\r\n          if (this.branchList.length > 1) { // trường hợp được xem báo cáo 2 chi nhánh trở lên\r\n            this.branchList.unshift({ _id: \"all\", name: \"All\" }) // đẩy xem tất cả vô, nếu có 2 chi nhánh trở lên\r\n            for (let i in this.branchList) {\r\n              if (this.branchList[i]._id == defaultBranch) return this.id_branch_report = defaultBranch // nếu có gán chi nhánh xem báo mặc định là chi nhánh mặc định (đăng nhập)\r\n              else this.id_branch_report = this.branchList[1]._id // ngược lại gán chi nhánh mặc định là chi nhánh thứ 1\r\n            }\r\n          }\r\n          else if (this.branchList.length == 1) { // nếu chỉ đc xem báo cáo 1 chi nhánh , lấy mặc định là chi nhánh đó\r\n            this.id_branch_report = this.branchList[0]._id\r\n          }\r\n          else this.vhComponent.alertMessageDesktop(\"warning\", \"Bạn không được chọn chi nhánh xem báo cáo\") // kg có chi nhánh xem báo cáo\r\n        })\r\n\r\n      }\r\n      this.search_branchList = this.branchList\r\n    } else this.id_branch_report = defaultBranch // chỉ xài 1 chi nhánh \r\n  }\r\n\r\n  /**\r\n   * lọc chi nhánh theo tên\r\n   * @param value \r\n   */\r\n  search(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.branchList = this.vhAlgorithm.searchList(tempVal, this.search_branchList, ['name'])\r\n    else this.branchList = this.search_branchList\r\n  }\r\n\r\n   /**\r\n    * xuất dữ liệu sang file excel và tải về\r\n    */\r\n  export() {\r\n     // xử lý tạo tên file\r\n    let data = new Array();\r\n    let date =\r\n      this.languageService.translate(\"_from\") + \"_\" +\r\n      this.format_date(this.inOutReturnProduct['startTime']) + \"_\" +\r\n      this.languageService.translate(\"_to\") + \"_\" +\r\n      this.format_date(this.inOutReturnProduct['endTime']);\r\n    let name = `${this.getNameReport(this.filter_value['goods'])}_${date}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`\r\n  // thêm dòng đầu tiên \r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"No.\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Barcode\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.inOutReturnProduct['sum_products']\r\n    if (this.reportConfig) total[this.languageService.translate(\"Amount before tax\")] = this.inOutReturnProduct['total_btax']\r\n    total[this.languageService.translate(\"Amount after tax\")] = this.inOutReturnProduct['total_atax']\r\n    data.push(total);\r\n\r\n    this.inOutReturnProduct['list'].forEach((_rows, index) => {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"No.\")] = index + 1;\r\n      item[this.languageService.translate(\"Product name\")] = _rows.name;\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Barcode\")] = _rows.barcode;\r\n      item[this.languageService.translate(\"Quantity\")] = _rows.quantity;\r\n      if (this.reportConfig) item[this.languageService.translate(\"Amount before tax\")] = _rows['pay_btax']\r\n      item[this.languageService.translate(\"Amount after tax\")] = _rows['pay_atax']\r\n\r\n      data.push(item);\r\n      for (let lot of _rows.lots ? _rows.lots : []) {\r\n        let lotproduct: any = new Object();\r\n        lotproduct[this.languageService.translate(\"No.\")] = \"\";\r\n        lotproduct[this.languageService.translate(\"Product name\")] = lot.lot_number;\r\n        lotproduct[this.languageService.translate(\"Unit\")] = this.format_date(new Date(lot.date_mfg))  + ' - ' + this.format_date(new Date(lot.date_exp));\r\n        lotproduct[this.languageService.translate(\"Barcode\")] = lot.barcode;\r\n        lotproduct[this.languageService.translate(\"Quantity\")] = lot.quantity;\r\n        if (this.reportConfig) lotproduct[this.languageService.translate(\"Amount before tax\")] = lot['pay_btax']\r\n        lotproduct[this.languageService.translate(\"Amount after tax\")] = lot['pay_atax']\r\n        data.push(lotproduct);\r\n      }\r\n      if (index == this.inOutReturnProduct.list.length - 1) {\r\n        this.vhAlgorithm.exportXLSX(data, name).then(() => { }).catch(err => { })\r\n      }\r\n    })\r\n\r\n    if (!this.inOutReturnProduct.list.length)\r\n      this.vhAlgorithm.exportXLSX(data, name).then(() => { }).catch(err => { })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"input-output-return\" class=\"height-layout\">\r\n    <div nz-row class=\"height-header input-output-return-header\">\r\n        <div nz-col [nzSpan]=\"3\" class=\"title left-all-content\">\r\n            <b>{{'Input-output-return'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"6\" class=\"title center-all-content\">\r\n            <nz-select style=\"text-align: center;\" nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"searchProducts($event)\" [(ngModel)]=\"filter_value['id_product']\" nzBorderless (ngModelChange)=\"chooseGoods($event)\">\r\n                <nz-option *ngFor=\"let option of listGoods\" nzLabel=\"{{option.name}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <!-- <div nz-col nzSpan=\"2\" class=\"title center-all-content\">\r\n     \r\n    </div> -->\r\n        <div class=\"center-all-content\" nz-col [nzSpan]=\"useBranch ? 7 : 11\">\r\n            <div style=\"margin-right: 2px;\">\r\n                <button class=\"btn-data\" nz-button nzType=\"default\" (click)=\"showModal()\">\r\n                    <i nz-icon nzType=\"filter\" nzTheme=\"outline\"></i>\r\n                    {{'Filter'|translate}}</button>\r\n            </div>\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n        </div>\r\n        <div *ngIf=\"useBranch\" nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n            <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" nzBorderless nzPlaceHolder=\"{{'Select branch' | translate}}\" [(ngModel)]=\"id_branch_report\">\r\n                <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\"export()\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n                    <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                    {{'Download' | translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button [disabled]=\"!id_branch_report.length\" class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"padding-top: 20px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" *ngIf=\"inOutReturnProduct.list.length > 0\" [nzScroll]=\"{ y: heightScroll }\" #inoutData nzShowPagination nzShowSizeChanger [nzData]=\"inOutReturnProduct.list\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"5%\"><b>{{'No.' | translate}}</b></th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusName = !statusName;sortName(statusName,'name')\" nzWidth=\"30%\"><b>{{'Product name' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusName == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusQuantity = !statusQuantity;sort(statusQuantity,'quantity')\" nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusQuantity == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusbSales = !statusbSales;sort(statusbSales,'pay_btax')\" *ngIf=\"reportConfig\" nzWidth=\"20%\" nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\"><b>{{'Sales before tax'|translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusbSales == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusSales = !statusSales;sort(statusSales,'pay_atax')\" [nzWidth]=\"!reportConfig ? '40%' : '20%'\" nzAlign='right'>\r\n                        <b>{{'Sales after tax'|translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusSales == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td></td>\r\n                    <td style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green); font-weight: bold;\">\r\n                        {{inOutReturnProduct['sum_products']}}</td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green); font-weight: bold;\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit(inOutReturnProduct['total_btax'])}}</td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green); font-weight: bold;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(inOutReturnProduct['total_atax'])}}</td>\r\n                </tr>\r\n                <ng-container  *ngFor=\"let item of inoutData.data,let i = index\" >\r\n                    <tr (click)=\"goToDetail(item)\"style=\"cursor: pointer;\">\r\n                        <td>{{item.index}}</td>\r\n                        <td>\r\n                            <i style=\"cursor: pointer;font-size: 0.7rem;\" (click)=\"$event.stopPropagation();item.expand = !item.expand\" *ngIf=\"item.lots\" nz-icon [nzType]=\"item.expand ? 'minus' : 'plus'\" nzTheme=\"outline\"></i>\r\n                            {{ item.name}}\r\n                            <br> \r\n                            Barcode : {{item.barcode}}\r\n                        </td>\r\n                        <td nzAlign='center'>{{item.quantity}}</td>\r\n                        <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                            {{vhAlgorithm.vhcurrencyunit(item.pay_btax)}}</td>\r\n                        <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.pay_atax)}}</td>\r\n                    </tr>\r\n                    <ng-container *ngIf=\"item.expand\"> \r\n                        <tr *ngFor=\"let data of item.lots\">\r\n                            <td></td>\r\n                            <td   style=\"padding-left:24px !important;\">\r\n                                {{'Lot number' | translate}}: {{ data.lot_number}} <br>\r\n                                {{ data.date_mfg | date : 'dd/MM/yyyy'}} - {{ data.date_exp | date :\r\n                                'dd/MM/yyyy'}}\r\n                            </td>\r\n\r\n                            <td nzAlign='center'>{{data.quantity}}</td>\r\n                            <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.pay_btax)}}</td>\r\n                            <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(data.pay_atax)}}</td>\r\n                             \r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n               \r\n\r\n            </tbody>\r\n        </nz-table>\r\n        <div nz-row *ngIf=\"inOutReturnProduct.list.length  == 0\" class=\"full-height\">\r\n            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                <div>{{'No data'| translate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<nz-modal [(nzVisible)]=\"isVisible\" nzCancelText=\"{{'Cancel' | translate}}\" nzTitle=\"{{'Filter'|translate}}\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset [(nzSelectedIndex)]=\"tabs\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n            <nz-tab nzTitle=\"{{'Products' | translate}}\">\r\n                <nz-radio-group [(ngModel)]=\"goods\" (ngModelChange)=\"filterGoods($event)\">\r\n                    <label nz-radio nzValue=\"1\">{{'Items issued' | translate}}</label>\r\n                    <label nz-radio nzValue=\"2\">{{'Items returned from customer' | translate}}</label>\r\n                    <label nz-radio nzValue=\"3\">{{'Items purchased from supplier' | translate}}</label>\r\n                    <label nz-radio nzValue=\"4\">{{'Items returned to supplier' | translate}}</label>\r\n                    <label nz-radio nzValue=\"5\">{{'Items issued to other branches' | translate}}</label>\r\n                    <label nz-radio nzValue=\"6\">{{'Items entered from other branches' | translate}}</label>\r\n                    <label nz-radio nzValue=\"7\">{{'Total number of items issued' | translate}}</label>\r\n                    <label nz-radio nzValue=\"8\">{{'Total number of items purchased' | translate}}</label>\r\n                </nz-radio-group>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Services' | translate}}\">\r\n                <nz-radio-group [(ngModel)]=\"goods\" (ngModelChange)=\"filterGoods($event)\">\r\n                    <label nz-radio nzValue=\"9\">{{'Items issued' | translate}}</label>\r\n                    <label nz-radio nzValue=\"10\">{{'Items returned from customer' | translate}}</label>\r\n                </nz-radio-group>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </ng-container>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InputOutputReturnComponent } from './input-output-return.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { BillDetailModule } from 'src/app/sales/components/bill-detail/bill-detail.module';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InputOutputReturnComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [InputOutputReturnComponent, DetailComponent, ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    BillDetailModule\r\n  ],\r\n  providers :[VhComponent]\r\n})\r\nexport class InputOutputReturnModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}