{"version":3,"file":"src_app_sales_menu_manage_reports_sales-combo_detail_detail_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/reports/sales-combo/detail/detail.component.ts","./src/app/sales/menu/manage/reports/sales-combo/detail/detail.component.html","./src/app/sales/menu/manage/reports/sales-combo/detail/detail.module.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\nimport { SalesComponent } from 'src/app/sales/components/bill-detail/sales/sales.component';\r\nimport { WarrantyComponent } from 'src/app/sales/components/bill-detail/warranty/warranty.component';\r\nimport { CustomerReturnComponent } from 'src/app/sales/components/bill-detail/customer-return/customer-return.component';\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n\r\n  product: any;\r\n  stateObj: any;\r\n  customer: any;\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_sales_combo;\r\n  //vị trí hiện tại của trang\r\n  details: any = { quantity: 0, sales_atax: 0, sales_btax: 0, docs: [] };\r\n  widthScroll: any;\r\n  heightScroll: any;\r\n  constructor(\r\n    private router: Router,\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private datePipe: DatePipe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth:VhAuth,\r\n    private vhComponent:VhComponent\r\n  ) {\r\n    // if (!this.reportConfig) this.reportConfig = {\r\n    //   btax: false,\r\n    //   product_picture: false\r\n    // };\r\n\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n    if (data) {\r\n      this.product = data.product;\r\n      this.stateObj = data.stateObj;\r\n      if (data.details) this.details = data.details\r\n      else this.getSalesDetail(this.product);\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight) - 90 + \"px\";\r\n    }\r\n    if (document.querySelector(\".height-layout\")) {\r\n      this.widthScroll = document.querySelector(\".height-layout\").clientWidth + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   * @example this.getSalesDetail();\r\n   */\r\n  getSalesDetail(product) {\r\n    this.vhQuerySales.getReportSales_Combos_byProduct(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], product.id_product, this.stateObj['id_branch_report'])\r\n      .then((res) => {\r\n        this.details = { ...res }\r\n      }).catch(err => console.error(err))\r\n  }\r\n\r\n  goToDetail(item) {\r\n    switch(item.bill_type){\r\n      case 1 : {\r\n        return this.vhComponent.showModal(SalesComponent,{id_bill : item.id_bill}, false, false, 'bill-detail')\r\n        .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 3 : {\r\n        return this.vhComponent.showModal(CustomerReturnComponent,{id_bill : item.id_bill}, false, false, 'bill-detail')\r\n        .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n      case 15 : {\r\n        return this.vhComponent.showModal(WarrantyComponent,{id_bill : item.id_bill}, false, false, 'bill-detail')\r\n        .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n    } \r\n    // setTimeout(() => this.router.navigate([`dashboard/manage/reports/sales-combo/detail-combo/detail-bill${[1, 3].includes(item.bill_type) ? '-export' : '-warranty'}`], { state: { id_bill: item['id_bill'], product: this.product, stateObj: this.stateObj, details: this.details } }), 100)\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n\r\n  status: boolean = false;\r\n  /**\r\n  * xuất dữ liệu ra file excel và tải về\r\n  */\r\n  export() {\r\n    this.status = true;\r\n    // xử lý tạo tên file\r\n    let data = [];\r\n\r\n    let name = `${this.languageService.translate(\"_combo_sales_report\")}_${this.vhAlgorithm.changeAlias(this.product.name).replace(/\\s/g, \"_\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.stateObj.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.stateObj.endTime)}_${this.stateObj['id_branch_report'] == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.stateObj['id_branch_report']).name).replace(/\\s/g, \"_\")}`\r\n\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = \"\";\r\n    total[this.languageService.translate(\"Combo name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.details['quantity']\r\n    total[this.languageService.translate(\"Price\")] = \"\";\r\n    total[this.languageService.translate(\"Tax (%)\")] = \"\";\r\n    if (this.reportConfig)\r\n      total[this.languageService.translate(\"Sales before tax\")] = this.details['sales_btax']\r\n    total[this.languageService.translate(\"Sales after tax\")] = this.details['sales_atax']\r\n    total[this.languageService.translate(\"Employee\")] = \"\";\r\n    total[this.languageService.translate(\"Barcode\")] = \"\";\r\n    total[this.languageService.translate(\"Customer\")] = \"\";\r\n    data.push(total);\r\n\r\n    for (let _rows of this.details['docs']) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"Invoice code\")] = _rows.bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_date(_rows.date);\r\n      item[this.languageService.translate(\"Combo name\")] = _rows.name\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Quantity\")] = _rows.quantity\r\n      item[this.languageService.translate(\"Price\")] = _rows.price;\r\n      item[this.languageService.translate(\"Tax (%)\")] = _rows.tax;\r\n      if (this.reportConfig)\r\n        item[this.languageService.translate(\"Sales before tax\")] = _rows.sales_btax\r\n      item[this.languageService.translate(\"Sales after tax\")] = _rows.sales_atax\r\n      item[this.languageService.translate(\"Employee\")] = _rows.salesman;\r\n      item[this.languageService.translate(\"Barcode\")] = _rows.barcode;\r\n      item[this.languageService.translate(\"Customer\")] = _rows.customer == \"Retail customer\" ? this.languageService.translate(_rows.customer) : _rows.customer\r\n\r\n      data.push(item);\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports/sales-combo'], { state: { stateObj: this.stateObj } })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back small-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <p><b>{{product.name}}</b></p>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"title center-all-content\">\r\n            <button (click)=\"export()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n                <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n                {{'Download' | translate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ x: widthScroll, y: heightScroll }\" #detailData nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"details.docs\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzLeft nzWidth=\"120px\"><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"120px\"><b>{{'Date' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"200px\"><b>{{'Products' | translate}}</b></th>\r\n                    <th nzWidth=\"80px\"><b> {{'Unit'|translate}} </b></th>\r\n                    <th nzWidth=\"100px\" nzAlign='center'><b> {{'Quantity'|translate}} </b></th>\r\n                    <th nzWidth=\"100px\"><b> {{'Selling price'|translate}} </b></th>\r\n                    <th nzWidth=\"80px\" nzAlign='center'><b> {{'Tax'|translate}} </b></th>\r\n                    <th *ngIf=\"reportConfig\" nzWidth=\"200px\" nzAlign='right'>\r\n                        <b> {{'Sales before tax'|translate}} </b>\r\n                    </th>\r\n                    <th nzWidth=\"200px\" nzAlign='right'><b> {{'Sales after tax'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Employee'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Customer'|translate}} </b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green);font-weight: bold;\">{{details['quantity']}}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\" nzAlign='right' style=\"color: var(--ion-color-vh-green);font-weight: bold;\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_btax'])}}\r\n                    </td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green);font-weight: bold;\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_atax'])}}\r\n                    </td>\r\n                    <td></td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr *ngFor=\"let data of detailData.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(data)\">\r\n                    <td nzLeft>{{ data.bill_code}}</td>\r\n                    <td nzLeft> {{data.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nzLeft>{{ data.name }}</td>\r\n                    <td>{{ data.unit }}</td>\r\n                    <td nzAlign='center'>{{ data.quantity }}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n                    <td nzAlign='center'>{{ data.tax }}%</td>\r\n                    <td [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\" nzAlign='right'>\r\n                        {{ vhAlgorithm.vhcurrencyunit(data.sales_btax)}}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.sales_atax)}}</td>\r\n                    <td>{{ data.salesman }}</td>\r\n                    <td>{{ data.customer |translate}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DetailComponent } from './detail.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { BillDetailModule } from 'src/app/sales/components/bill-detail/bill-detail.module';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetailComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [DetailComponent, ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    BillDetailModule\r\n  ],\r\n  providers :[VhComponent]\r\n})\r\nexport class DetailModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}