{"version":3,"file":"src_app_sales_menu_manage_reports_sales-payment-card_sales-payment-card_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/reports/sales-payment-card/detail/detail.component.ts","./src/app/sales/menu/manage/reports/sales-payment-card/detail/detail.component.html","./src/app/sales/menu/manage/reports/sales-payment-card/sales-payment-card.component.ts","./src/app/sales/menu/manage/reports/sales-payment-card/sales-payment-card.component.html","./src/app/sales/menu/manage/reports/sales-payment-card/sales-payment-card.module.ts"],"sourcesContent":["import { Component, OnInit, ChangeDetectorRef, AfterViewChecked } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { SalesPaymentCardComponent } from 'src/app/sales/components/bill-detail/sales-payment-card/sales-payment-card.component';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent   {\r\n  product: any;\r\n  stateObj: any;\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_sales_product;\r\n  details: any = { quantity: 0, sales_atax: 0, sales_btax: 0, docs: [] };\r\n  constructor(\r\n    private router: Router,\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private datePipe: DatePipe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth:VhAuth\r\n  ) {\r\n    // if (!this.reportConfig) this.reportConfig = {\r\n    //   btax: false,\r\n    //   product_picture: false\r\n    // };\r\n\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n    if (data) {\r\n      this.product = data.product;\r\n      this.stateObj = data.stateObj;\r\n      if (data.details) this.details = data.details\r\n      else this.getSalesDetail(this.product);\r\n    }\r\n  }\r\n  heightScroll: string;\r\n  widthScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".height-header\") && document.querySelector(\".ant-table-thead\")) {\r\n      this.heightScroll = (document.querySelector(\".height-layout\").clientHeight -\r\n        document.querySelector(\".height-header\").clientHeight -\r\n        document.querySelector(\".ant-table-thead\").clientHeight) - 90 + \"px\";\r\n    }\r\n    if (document.querySelector(\".height-layout\")) {\r\n      this.widthScroll = document.querySelector(\".height-layout\").clientWidth + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   * @example this.getSalesDetail();\r\n   */\r\n  getSalesDetail(product) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getReportSales_PaymentCards_byPaymentCard(this.stateObj.dataReport['startTime'], this.stateObj.dataReport['endTime'], product.id_payment_card, this.stateObj.id_branch_report)\r\n        .then((res) => {\r\n          this.details = { ...res }\r\n        }).catch(err => console.error(err))\r\n        .finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n  }\r\n\r\n  goToDetail(item) {\r\n    switch(item.bill_type){\r\n      case 50 : {\r\n        return this.vhComponent.showModal(SalesPaymentCardComponent,{id_bill : item.id_bill}, false, false, 'bill-detail')\r\n        .then(modal => {\r\n            modal.onWillDismiss().then(dataReturn => {})\r\n          })\r\n      }\r\n    } \r\n    // setTimeout(() => this.router.navigate([`dashboard/manage/reports/sales-product/detail-product/detail-bill${[1, 3].includes(item.bill_type) ? '-export' : '-warranty'}`], { state: { id_bill: item['id_bill'], product: this.product, stateObj: this.stateObj, details: this.details } }), 100)\r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports/sales-payment-card'], {\r\n      state: { stateObj: this.stateObj }\r\n    });\r\n  }\r\n\r\n  /**--------------------- */\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n  /**--------------------- */\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_full_date('2023-06-27T01:10:34.396Z') => output '27_06_2023 08:11'\r\n   */\r\n  format_full_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy HH:mm\")\r\n  }\r\n\r\n  status: boolean = false;\r\n  /**\r\n  * xuất dữ liệu ra file excel và tải về\r\n  */\r\n  export() {\r\n    this.status = true;\r\n    let data = [];\r\n\r\n    let name = `${this.languageService.translate(\"_product_sales_report\")}_${this.vhAlgorithm.changeAlias(this.product.name).replace(/\\s/g, \"_\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.stateObj.dataReport.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.stateObj.dataReport.endTime)}_${this.stateObj.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.stateObj.id_branch_report).name).replace(/\\s/g, \"_\")}`\r\n\r\n    let total: any = new Object();\r\n    total[this.languageService.translate(\"Invoice code\")] = \"\";\r\n    total[this.languageService.translate(\"Date\")] = \"\";\r\n    total[this.languageService.translate(\"Product name\")] = this.languageService.translate(\"Total\");\r\n    total[this.languageService.translate(\"Unit\")] = \"\";\r\n    total[this.languageService.translate(\"Quantity\")] = this.details['quantity']\r\n    total[this.languageService.translate(\"_price\")] = \"\";\r\n    total[`${this.languageService.translate(\"Tax\")} (%)`] = \"\";\r\n    if (this.reportConfig)\r\n      total[this.languageService.translate(\"Sales before tax\")] = this.details['sales_btax']\r\n    total[this.languageService.translate(\"Sales after tax\")] = this.details['sales_atax']\r\n    total[this.languageService.translate(\"Employee\")] = \"\";\r\n    total[this.languageService.translate(\"Customer\")] = \"\";\r\n    total[this.languageService.translate(\"Barcode\")] = \"\";\r\n    data.push(total);\r\n\r\n    for (let _rows of this.details['docs']) {\r\n      let item: any = new Object();\r\n      item[this.languageService.translate(\"Invoice code\")] = _rows.bill_code;\r\n      item[this.languageService.translate(\"Date\")] = this.format_full_date(_rows.date);\r\n      item[this.languageService.translate(\"Product name\")] = _rows.name\r\n      item[this.languageService.translate(\"Unit\")] = _rows.unit;\r\n      item[this.languageService.translate(\"Quantity\")] = _rows.quantity\r\n      item[this.languageService.translate(\"_price\")] = _rows.price;\r\n      item[`${this.languageService.translate(\"Tax\")} (%)`] = _rows.tax;\r\n      if (this.reportConfig)\r\n        item[this.languageService.translate(\"Sales before tax\")] = _rows.sales_btax\r\n      item[this.languageService.translate(\"Sales after tax\")] = _rows.sales_atax\r\n      item[this.languageService.translate(\"Employee\")] = _rows.salesman;\r\n      item[this.languageService.translate(\"Customer\")] = _rows.customer == \"Retail customer\" ? this.languageService.translate(\"Retail customer\") : _rows.customer ;\r\n      item[this.languageService.translate(\"Barcode\")] = _rows.barcode;\r\n\r\n      data.push(item);\r\n    }\r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => this.status = false).catch(err => this.status = false)\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <b>{{product.name}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"center-all-content\">\r\n            <button (click)=\"export()\" class=\"btn-data\" nz-button nzType=\"default\">\r\n        <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n        {{'Download' | translate}}</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\" class=\"full-height\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" *ngIf=\"details.docs.length > 0\" [nzScroll]=\"{ x: widthScroll, y: heightScroll }\" #detailData nzShowPagination nzShowSizeChanger [nzData]=\"details.docs\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzLeft nzWidth=\"100px\"><b>{{'Invoice code' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"100px\"><b>{{'Date' | translate}}</b></th>\r\n                    <th nzLeft nzWidth=\"170px\"><b>{{'Products' | translate}}</b></th>\r\n                    <th nzWidth=\"80px\"><b> {{'Unit'|translate}} </b></th>\r\n                    <th nzWidth=\"80px\" nzAlign='center'><b> {{'Quantity'|translate}} </b></th>\r\n                    <th nzWidth=\"100px\"><b> {{'Selling price'|translate}} </b></th>\r\n                    <th nzWidth=\"80px\" nzAlign='center'><b> {{'Tax'|translate}} </b></th>\r\n                    <th *ngIf=\"reportConfig\" nzWidth=\"200px\" nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b> {{'Sales before tax'|translate}} </b>\r\n                    </th>\r\n                    <th nzWidth=\"150px\" nzAlign='right'><b> {{'Sales after tax'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Employee'|translate}} </b></th>\r\n                    <th nzWidth=\"150px\"><b> {{'Customer'|translate}} </b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft></td>\r\n                    <td nzLeft style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green);font-weight: bold;\">{{details['quantity']}}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green);font-weight: bold;\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_btax'])}}\r\n                    </td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green);font-weight: bold;\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(details['sales_atax'])}}\r\n                    </td>\r\n                    <td></td>\r\n                    <td></td>\r\n                </tr>\r\n                <tr *ngFor=\"let data of detailData.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(data)\">\r\n                    <td nzLeft>{{ data.bill_code}}</td>\r\n                    <td nzLeft> {{data.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nzLeft>{{ data.name }}\r\n                    </td>\r\n                    <td>{{ data.unit }}</td>\r\n                    <td nzAlign='center'>{{ data.quantity }}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.price)}}</td>\r\n                    <td nzAlign='center'>{{ data.tax }}%</td>\r\n                    <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{ vhAlgorithm.vhcurrencyunit(data.sales_btax)}}</td>\r\n                    <td nzAlign='right'>{{ vhAlgorithm.vhcurrencyunit(data.sales_atax)}}</td>\r\n                    <td>{{ data.salesman }}</td>\r\n                    <td>{{ data.customer |translate}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n        <div nz-row *ngIf=\"details.docs.length == 0\" class=\"full-height\">\r\n            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                <div>{{'No data'| translate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { SalesChartTableReport } from 'src/app/sales/interface/vh-report';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport ApexCharts, { ApexOptions } from 'apexcharts';\r\nimport { DatePipe } from '@angular/common';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\n\r\n@Component({\r\n  selector: 'app-sales-payment-card',\r\n  templateUrl: './sales-payment-card.component.html',\r\n  styleUrls: ['./sales-payment-card.component.scss']\r\n})\r\nexport class SalesPaymentCardComponent {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  chart: ApexCharts;\r\n  reportConfig: any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_btax_report_sales_product;\r\n  selectedValue: any = 'all';\r\n  isChart: boolean = false;\r\n  dataColor: Array<any> = [\"#Ffda45\", \"#48c0e3\", \"#f9be57\", \"#ee3d85\", \"#f8756d\", \"#c667ca\", \"#d6df3a\", \"#06467b\", \"#3c86c7\", \"#1fd2cd\", \"#373737\"];\r\n  list_show: any = [];\r\n  dataReport: SalesChartTableReport = this.initDataReport();\r\n  showDataTable: any = { docs: [], sales_atax: 0, sales_btax: 0, quantity: 0 };\r\n  list_payment_card: any = [\r\n  ];\r\n  list_search_products: any = []\r\n  stateObj: any = {\r\n    startTime: '',\r\n    endTime: '',\r\n    selectedValue: ''\r\n  }\r\n  branchList: Array<any> = [];\r\n  search_branchList: Array<any> = [];\r\n  id_branch_report: string = ''\r\n  useBranch: boolean = this.fncService.checkUsingBranch()\r\n  isLoading = true;\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private router: Router,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    public languageService: LanguageService,\r\n    private datePipe: DatePipe,\r\n    private cdRef: ChangeDetectorRef,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.date[0].setHours(0, 0, 0, 0)\r\n    this.date[1].setHours(23, 59, 59, 59)\r\n    this.getBranches()\r\n    let data: any = this.router.getCurrentNavigation().extras.state\r\n\r\n    if (data) {\r\n      let stateSubObj = data.stateObj;\r\n      this.dataReport = stateSubObj.dataReport;\r\n      this.date = [this.dataReport.startTime, this.dataReport.endTime];\r\n      this.selectedValue = stateSubObj.selectedValue;\r\n      this.id_branch_report = stateSubObj.id_branch_report\r\n    }\r\n  }\r\n\r\n  heightScroll: string;\r\n  /**\r\n   * xem báo cáo\r\n   * @example this.showReport()\r\n   */\r\n  showReport() {\r\n    this.dataReport = this.initDataReport(this.date[0], this.date[1]);\r\n    if (this.isChart) this.chart.updateOptions(this.initOption([], []));\r\n    if (this.selectedValue != 'all') {\r\n      this.isChart = false;\r\n    }\r\n    this.getSales(this.selectedValue, this.date[0], this.date[1]);\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#sales-product\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".sales-product-header\")) {\r\n      this.heightScroll = (document.querySelector(\"#sales-product\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".sales-product-header\").clientHeight) - 90 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  /**\r\n   * get dữ liệu danh sách thẻ trả trước\r\n   * @example  this.getListProduct()\r\n   */\r\n  getListProduct() {\r\n    this.vhQuerySales.getPaymentCards().then((res) => {\r\n      \r\n      this.list_payment_card = this.list_payment_card.concat(res)\r\n      this.list_search_products = this.list_payment_card;\r\n      this.isLoading = false;\r\n    }, error => {\r\n      \r\n    })\r\n\r\n  }\r\n  /**\r\n   * lọc thẻ trả trước theo tên\r\n   * @example this.searchProducts('')\r\n   */\r\n  searchProducts(value) {\r\n    if (!this.isLoading) {\r\n      let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n      if (value.length)\r\n        this.list_payment_card = this.vhAlgorithm.searchList(tempVal, this.list_search_products, ['name', 'barcode'])\r\n      else this.list_payment_card = this.list_search_products\r\n    }\r\n    else {\r\n      this.getListProduct()\r\n    }\r\n  }\r\n  initDataReport(startTime: Date = new Date(), endTime: Date = new Date()): SalesChartTableReport {\r\n    startTime.setHours(0, 0, 0, 0)\r\n    endTime.setHours(23, 59, 59, 59)\r\n    return { startTime, endTime, dataChart: [], dataTable: { docs: [], sales_atax: 0, sales_btax: 0, quantity: 0 } }\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi thẻ xem báo cáo\r\n   */\r\n  filterProducts(optionValue) {\r\n    this.selectedValue = optionValue;\r\n  }\r\n\r\n\r\n  /**\r\n   * bắt sk thay đổi thời gian xem báo cáo\r\n   * @param event \r\n   * @example this.changeTime(['2023-06-27T01:21:41.397Z','2023-06-27T01:21:41.397Z'])\r\n   */\r\n  changeTime(event) {\r\n    if (new Date(event[1].setHours(0, 0, 0, 0)).getTime() - new Date(event[0].setHours(0, 0, 0, 0)).getTime() <= this.fncService.checkDateReport() * 86000000) {\r\n      this.dataReport = this.initDataReport(event[0], event[1])\r\n      if (this.isChart) this.chart.updateOptions(this.initOption([], []))\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" + this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n      this.dataReport = this.initDataReport(new Date(this.date[0]), new Date(this.date[1]))\r\n    }\r\n  }\r\n  //** hàm sort cho các cột */\r\n  statusQuantity = false\r\n  statusSales = false\r\n  statusbSales = false\r\n  statusName = false\r\n  /**\r\n   * sort với trường là dạng số\r\n   * @param sort \r\n   * @param value tên trường cần sort\r\n   * @example this.sort(1, 'total')\r\n   */\r\n  sort(sort, value) {\r\n    if (sort) {\r\n      this.dataReport.dataTable.docs = this.vhAlgorithm.sortNumberbyASC([...this.dataReport.dataTable.docs], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.dataReport.dataTable.docs = this.vhAlgorithm.sortNumberbyDESC([...this.dataReport.dataTable.docs], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n  /**\r\n   * sort với trường là dạng chuỗi\r\n   * @param sort \r\n   * @param value tên trường cần sort\r\n   * @example this.sort(1, 'name')\r\n   */\r\n  sortName(sort, value) {\r\n    if (sort) {\r\n      this.dataReport.dataTable.docs = this.vhAlgorithm.sortVietnamesebyASC([...this.dataReport.dataTable.docs], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n    else {\r\n      this.dataReport.dataTable.docs = this.vhAlgorithm.sortVietnamesebyDESC([...this.dataReport.dataTable.docs], value).map((item, index) => { return { ...item, index: index + 1 } })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu báo cáo\r\n   */\r\n  getSales(id_product, startDate, endDate) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.vhQuerySales.getReportSales_PaymentCards_byPaymentCards(startDate, endDate, id_product, this.id_branch_report)\r\n        .then((res) => {\r\n          if (res) {\r\n            if (!res.empty) {\r\n              //this.isChart = false\r\n              let data = res.docs;\r\n              // dữ liệu dạng chart (hiển thị dữ liệu sau thuế)\r\n              for (let i = 0; i < 10; i++) {\r\n                if (!data[i]) break\r\n                else {\r\n                  this.dataReport['dataChart'].push({\r\n                    color: this.dataColor[i],\r\n                    label: data[i]['name'],\r\n                    value: data[i]['sales_atax'],\r\n                  })\r\n                }\r\n              }\r\n              this.dataReport['dataTable'] = { ...res }\r\n              this.sort(this.statusQuantity, 'quantity')\r\n            }\r\n            if (this.isChart) this.updateChart(this.dataReport['dataChart'], true)\r\n          }\r\n\r\n        }).finally(() => this.vhComponent.hideLoading(0))\r\n    })\r\n\r\n  }\r\n  /**\r\n   * hiển thị chart ra giao diện\r\n   * @example this.initChart()\r\n   */\r\n  initChart(data_chart?) {\r\n    setTimeout(() => {\r\n      this.chart = new ApexCharts(document.querySelector(\"#sales-product-chart\"), this.initOption([], []));\r\n      this.chart.render();\r\n      if (data_chart) this.updateChart(data_chart)\r\n    }, 200)\r\n  }\r\n  /**\r\n   * bắt sk thay đổi kiểu xem báo cáo (chart or table)\r\n   */\r\n  showChart() {\r\n    this.isChart = !this.isChart;\r\n    this.isChart ? this.initChart(this.dataReport['dataChart']) : this.chart.destroy()\r\n  }\r\n  /**\r\n   * gán lại dữ liệu cho chart\r\n   */\r\n  updateChart(data_chart, initStatus: boolean = false) {\r\n    this.chart.updateOptions(this.initOption(\r\n      !data_chart.length || !data_chart[0].value ? [] : data_chart.map(item => item.value),\r\n      !data_chart.length || !data_chart[0].value ? [] : data_chart.map(item => item.label),\r\n      initStatus\r\n    ))\r\n  }\r\n\r\n  initOption(series, labels, initStatus: boolean = false): ApexOptions {\r\n    return {\r\n      series: series,\r\n      chart: {\r\n        height: \"auto\",\r\n        type: \"pie\"\r\n      },\r\n      dataLabels: {\r\n        dropShadow: {\r\n          enabled: false\r\n        }\r\n      },\r\n      colors: this.dataColor,\r\n      labels: labels,\r\n      fill: {\r\n        type: \"solid\",\r\n        colors: this.dataColor,\r\n      },\r\n      legend: {\r\n        show: false\r\n      },\r\n      yaxis: {\r\n        labels: {\r\n          formatter: (value) => {\r\n            return this.vhAlgorithm.vhcurrencyunit(value);\r\n          }\r\n        }\r\n      },\r\n      states: {\r\n        active: {\r\n          filter: {\r\n            type: \"none\"\r\n          }\r\n        },\r\n        normal: {\r\n          filter: {\r\n            type: \"none\"\r\n          }\r\n        },\r\n        hover: {\r\n          filter: {\r\n            type: \"none\"\r\n          }\r\n        }\r\n      },\r\n      noData: {\r\n        text: (this.languageService.translate('No data!'))\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * get chi nhánh được xem báo cáo của user\r\n   */\r\n  getBranches() {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()] // danh sách toàn bộ chi nhánh\r\n    let employee = this.vhAuth.getUser() // thông tn nhân viên\r\n    let defaultBranch = this.vhQuerySales.getDefaultBranch()._id // chi nhánh mặc định khi đăng nhập (lấy id chi nhánh)\r\n\r\n    if (this.useBranch) { // kiểm tra xem có 2 chi nhánh trở lên\r\n\r\n      if (employee['owner'] == 'boss') { // kiểm tra tài khoản đăng nhập là boss\r\n        this.branchList = branches // gán danh sách chi nhánh show ra HTML\r\n        if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        this.id_branch_report = defaultBranch // gán mặc định chi nhánh mặc định xem báo cáo là chi nhánh đăng nhập vô\r\n      }\r\n\r\n      else { // trường hợp tài khoản là nhân viên\r\n        this.vhAuth.getPermission(employee['_id']).then(result => { // get quyền nhân viên được xem báo cáo chi nhánh nào\r\n          branches.forEach(item => {\r\n            if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item }) // kiểm tra chi nhánh đc xem báo cáo, gán cho branchList show ra HMLT \r\n          })\r\n          if (this.branchList.length > 1) { // trường hợp được xem báo cáo 2 chi nhánh trở lên\r\n            this.branchList.unshift({ _id: \"all\", name: \"All\" }) // đẩy xem tất cả vô, nếu có 2 chi nhánh trở lên\r\n            for (let i in this.branchList) {\r\n              if (this.branchList[i]._id == defaultBranch) return this.id_branch_report = defaultBranch // nếu có gán chi nhánh xem báo mặc định là chi nhánh mặc định (đăng nhập)\r\n              else this.id_branch_report = this.branchList[1]._id // ngược lại gán chi nhánh mặc định là chi nhánh thứ 1\r\n            }\r\n          }\r\n          else if (this.branchList.length == 1) { // nếu chỉ đc xem báo cáo 1 chi nhánh , lấy mặc định là chi nhánh đó\r\n            this.id_branch_report = this.branchList[0]._id\r\n          }\r\n          else this.vhComponent.alertMessageDesktop(\"warning\", \"Bạn không được chọn chi nhánh xem báo cáo\") // kg có chi nhánh xem báo cáo\r\n        })\r\n\r\n      }\r\n      this.search_branchList = this.branchList\r\n    } else this.id_branch_report = defaultBranch // chỉ xài 1 chi nhánh \r\n  }\r\n\r\n  /**\r\n   * lọc chi nhánh theo tên\r\n   * @param value \r\n   */\r\n  search(value) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length)\r\n      this.branchList = this.vhAlgorithm.searchList(tempVal, this.search_branchList, ['name'])\r\n    else this.branchList = this.search_branchList\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/reports']);\r\n  }\r\n  /**--------------------- */\r\n  gotoDetailProducts(data) {\r\n    let stateObj = { selectedValue: this.selectedValue, id_branch_report: this.id_branch_report, dataReport: this.dataReport }\r\n    this.router.navigate(['/sales/dashboard/manage/reports/sales-payment-card/detail'], {\r\n      state: { product: { ...data }, stateObj }\r\n    })\r\n  }\r\n  /**\r\n   * tải báo cáo dưới dạng hình ảnh\r\n   */\r\n  downloadImg() {\r\n    this.vhComponent.downloadImg(\"chart-image\",\r\n      `${this.languageService.translate(\"_product_sales_report\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.dataReport.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.dataReport.endTime)}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`).then(() => { })\r\n  }\r\n  /**\r\n   * \r\n   * @param date \r\n   * @returns string\r\n   * @example let date = this.format_date('2023-06-27T01:10:34.396Z') => output '27_06_2023'\r\n   */\r\n  format_date(date) {\r\n    return this.datePipe.transform(date, \"dd_MM_yyyy\")\r\n  }\r\n\r\n   /**\r\n    * xuất dữ liệu sang file excel và tải về\r\n    */\r\n  export() {\r\n    let data = [];\r\n    let name = `${this.languageService.translate(\"_product_sales_report\")}_${this.languageService.translate(\"_from\")}_${this.format_date(this.dataReport.startTime)}_${this.languageService.translate(\"_to\")}_${this.format_date(this.dataReport.endTime)}_${this.id_branch_report == \"all\" ? \"\" : this.vhAlgorithm.changeAlias(this.vhQuerySales.getlocalBranch(this.id_branch_report).name).replace(/\\s/g, \"_\")}`;\r\n    let total: any = new Object();\r\n    // if (this.reportConfig.product_picture)\r\n    //   total[this.languageService.translate('Image')] = \"\";\r\n    total[this.languageService.translate('Product name')] = this.languageService.translate('Total');\r\n    total[this.languageService.translate('Quantity')] = this.dataReport['dataTable'].quantity;\r\n    if (this.reportConfig)\r\n      total[this.languageService.translate('Sales before tax')] = this.dataReport['dataTable'].sales_btax;\r\n    total[this.languageService.translate('Sales after tax')] = this.dataReport['dataTable'].sales_atax;\r\n    \r\n    data.push(total);\r\n\r\n    for (let _row of this.dataReport['dataTable'].docs) {\r\n      let item: any = new Object();\r\n      // if (this.reportConfig.product_picture)\r\n      //   item[this.languageService.translate('Image')] = _row.img;\r\n      item[this.languageService.translate('Product name')] = _row.name;\r\n      item[this.languageService.translate('Quantity')] = _row.quantity;\r\n      if (this.reportConfig)\r\n        item[this.languageService.translate('Sales before tax')] = _row.sales_btax;\r\n      item[this.languageService.translate('Sales after tax')] = _row.sales_atax;\r\n      data.push(item);\r\n      \r\n    }\r\n    \r\n    this.vhAlgorithm.exportXLSX(data, name).then(() => { }).catch(err => { })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"sales-product\" class=\"height-header\">\r\n    <div nz-row class=\"height-layout sales-product-header\">\r\n        <div nz-col [nzSpan]=\"useBranch ? 3 : 5\" class=\"title left-all-content\">\r\n            <b>{{'Prepaid card sales' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"1\" class=\"center-all-content\">\r\n            <i class=\"size-icon\" *ngIf=\"selectedValue == 'all'\" [ngStyle]=\"{color: isChart ? 'var(--ion-color-vh-green)' : 'black'}\" nz-icon nzType=\"pie-chart\" nzTheme=\"outline\" (click)=\"showChart()\"></i>\r\n        </div>\r\n        <div nz-col nzSpan=\"1\" class=\"center-all-content\">\r\n            <i class=\"size-icon\" [ngStyle]=\"{color: !isChart ? 'var(--ion-color-vh-green)' : 'black'}\" nz-icon nzType=\"appstore\" nzTheme=\"outline\" (click)=\"isChart = !isChart\"></i>\r\n        </div>\r\n        <div nz-col nzSpan=\"5\" class=\"title center-all-content\">\r\n            <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"searchProducts($event)\" [(ngModel)]=\"selectedValue\" nzBorderless (ngModelChange)=\"filterProducts($event)\">\r\n                <nz-option   nzLabel=\"{{'All' | translate}}\" [nzValue]=\"'all'\"></nz-option>\r\n                <ng-container *ngFor=\"let option of list_payment_card\">\r\n                    <nz-option  *ngIf=\"!isLoading\"  nzLabel=\"{{option.name}}\" [nzValue]=\"  option._id\"></nz-option>\r\n                </ng-container>\r\n                <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                    <span nz-icon nzType=\"loading\" class=\"loading-icon\"></span>\r\n                    {{'Loading data' | translate}}...\r\n                  </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div class=\"center-all-content\" nz-col [nzSpan]=\"useBranch ? 6 : 8\">\r\n             <nz-range-picker nzFormat='dd/MM/yyyy'  [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n        </div>\r\n        <div *ngIf=\"useBranch\" nz-col nzSpan=\"4\" class=\"center-all-content\">\r\n            <nz-select nzShowSearch [nzServerSearch]=\"true\" (nzOnSearch)=\"search($event)\" nzBorderless nzPlaceHolder=\"{{'Select branch' | translate}}\" [(ngModel)]=\"id_branch_report\">\r\n                <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\" nzValue=\"{{option._id}}\">\r\n                </nz-option>\r\n            </nz-select>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"right-all-content\">\r\n            <div>\r\n                <button (click)=\" isChart ? downloadImg() : export()\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n          <i nz-icon nzType=\"download\" nzTheme=\"outline\"></i>\r\n          {{'Download' | translate}}</button>\r\n            </div>\r\n            <div>\r\n                <button [disabled]=\"!id_branch_report.length\" class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"showReport()\">\r\n          <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n          {{'View' | translate}}\r\n        </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\" *ngIf=\"!isChart\" class=\"full-height\">\r\n        <nz-table [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" *ngIf=\"dataReport['dataTable']['docs'].length > 0\" [nzScroll]=\"{ y: heightScroll }\" #salesData nzShowPagination nzShowSizeChanger [nzData]=\"dataReport['dataTable']['docs']\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"5%\"><b>{{'No.' | translate}}</b></th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusName = !statusName;sortName(statusName,'name')\" nzWidth=\"35%\"><b>{{'Product' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusName == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th nzWidth=\"15%\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusQuantity = !statusQuantity;sort(statusQuantity,'quantity')\" nzWidth=\"15%\" nzAlign='center'>\r\n                        <b>{{'Quantity' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusQuantity == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusbSales = !statusbSales;sort(statusbSales,'sales_btax')\" *ngIf=\"reportConfig\" nzWidth=\"15%\" nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        <b>{{'Sales before tax'|translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusbSales == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusSales = !statusSales;sort(statusSales,'sales_atax')\" [nzWidth]=\"!reportConfig ? '30%' : '15%'\" nzAlign='right'>\r\n                        <b>{{'Sales after tax'|translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusSales == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td></td>\r\n                    <td style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td nzAlign='center' style=\"color: var(--ion-color-vh-green); font-weight: bold;\">{{dataReport['dataTable'].quantity }}\r\n                    </td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green); font-weight: bold;\" [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(dataReport['dataTable'].sales_btax )}}</td>\r\n                    <td nzAlign='right' style=\"color: var(--ion-color-vh-green); font-weight: bold;\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(dataReport['dataTable'].sales_atax)}}</td>\r\n                </tr>\r\n                <ng-container *ngFor=\"let item of salesData.data; let i = index\">\r\n                    <tr style=\"cursor: pointer;\" (click)=\"gotoDetailProducts(item)\" >\r\n                        <td>{{item.index}}\r\n                           \r\n                        </td>\r\n                        <td>\r\n                             {{ item.name}}</td>\r\n                        <td>{{ item.unit}}</td>\r\n                        <td nzAlign='center'>{{item.quantity}}</td>\r\n                        <td nzAlign='right' [ngStyle]=\"{display: !reportConfig ? 'none' : ''}\">\r\n                            {{vhAlgorithm.vhcurrencyunit(item.sales_btax)}}</td>\r\n                        <td nzAlign='right'>{{vhAlgorithm.vhcurrencyunit(item.sales_atax)}}</td>\r\n                    </tr>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n        <div nz-row *ngIf=\"dataReport['dataTable']['docs'].length == 0\" class=\"full-height\">\r\n            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                <div>{{'No data'| translate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"padding-top: 20px;\" id=\"chart-image\" *ngIf=\"selectedValue =='all' && isChart\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div id=\"sales-product-chart\"></div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\">\r\n                <div class=\"scroll\" *ngFor=\"let i of dataReport['dataChart']\">\r\n                    <div class=\"khung_l\" [style.backgroundColor]=\"i.color\"></div>\r\n                    <div class=\"title_l\">{{i.label}}</div>\r\n                    <div class=\"total_l\">{{vhAlgorithm.vhcurrencyunit(i.value)}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nz-layout>","import { VhComponent } from './../../../../components/vh-component/vh-component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SalesPaymentCardComponent } from './sales-payment-card.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { DetailComponent } from './detail/detail.component';\r\nimport { BillDetailModule } from 'src/app/sales/components/bill-detail/bill-detail.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesPaymentCardComponent\r\n  },\r\n  {\r\n    path: 'detail', \r\n    component: DetailComponent\r\n  }\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SalesPaymentCardComponent,\r\n    DetailComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    BillDetailModule\r\n  ],\r\n  providers :[VhComponent]\r\n})\r\nexport class SalesPaymentCardModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}