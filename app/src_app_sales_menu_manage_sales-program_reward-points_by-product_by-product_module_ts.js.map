{"version":3,"file":"src_app_sales_menu_manage_sales-program_reward-points_by-product_by-product_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/sales-program/reward-points/by-product/add/add.component.ts","./src/app/sales/menu/manage/sales-program/reward-points/by-product/add/add.component.html","./src/app/sales/menu/manage/sales-program/reward-points/by-product/by-product.component.ts","./src/app/sales/menu/manage/sales-program/reward-points/by-product/by-product.component.html","./src/app/sales/menu/manage/sales-program/reward-points/by-product/by-product.module.ts","./src/app/sales/menu/manage/sales-program/reward-points/by-product/edit/edit.component.ts","./src/app/sales/menu/manage/sales-program/reward-points/by-product/edit/edit.component.html"],"sourcesContent":["import { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhAlgorithm, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-add',\r\n  templateUrl: './add.component.html',\r\n  styleUrls: ['./add.component.scss']\r\n})\r\nexport class AddComponent implements OnInit {\r\n\r\n  formAdd: FormGroup;\r\n  exchange: any = {\r\n    points: '1',\r\n    money: '100000'\r\n  }\r\n  synbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text\r\n  customer_group: any = [];\r\n  list_products: any = this.vhQuerySales.getlocalDetailProducts().filter(e => !e.delete_hidden).map(item => {\r\n    let unit = this.vhQuerySales.getUnit_byRatio(item.units, item.units.find(e => e.default) ? item.units.find(e => e.default).ratio : 1)\r\n    return { ...item, ...unit }\r\n  });\r\n  local_products: any = this.vhQuerySales.getlocalDetailProducts().filter(e => !e.delete_hidden).map(item => {\r\n    let unit = this.vhQuerySales.getUnit_byRatio(item.units, item.units.find(e => e.default) ? item.units.find(e => e.default).ratio : 1)\r\n    return { ...item, ...unit }\r\n  });\r\n  list_search_products: any = [];\r\n  list_all_products: any = [];\r\n  list_select_products: any = [];\r\n  show_select_product = false\r\n  search_value = ''\r\n  category: any = 'all';\r\n  list_earning_points_product: any\r\n  list_category: any[] = [{ _id: 'all', name: this.languageService.translate(\"All\") }].concat(this.vhQuerySales.getlocalCategorys())\r\n  constructor(\r\n    private router: Router,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuery: VhQuery,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private nzModalService: NzModalService,\r\n    private languageService: LanguageService) {\r\n    this.list_earning_points_product = this.router.getCurrentNavigation().extras.state\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFormAdd()\r\n    this.customer_group = this.vhAlgorithm.sortStringbyASC(this.vhQuerySales.getlocalCustomerClasss(), 'name').map(item => { return { ...item, selected: item.id_earning_points_products ? true : false } })\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/reward-points/by-product'])\r\n  }\r\n  /**\r\n   * khởi tạo form với các trường để add công thức\r\n   */\r\n  initFormAdd() {\r\n    this.formAdd = new FormGroup({\r\n      name: new FormControl('', Validators.required),\r\n      include_promotion_product: new FormControl(false),\r\n      id_branch: new FormControl(this.vhQuerySales.getDefaultBranch()._id)\r\n    })\r\n    this.list_products = this.local_products.map(item => {\r\n      return { label: item.name + ' - ' + this.vhAlgorithm.vhcurrencyunit(item.price), checked: false, value: item.id_subproduct ? item.id_subproduct : item._id, ...item }\r\n    })\r\n    this.list_select_products = [];\r\n    this.list_search_products = this.list_products;\r\n    this.list_all_products = this.list_products;\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi money or points\r\n   */\r\n  changeExchange(field, value) {\r\n    this.exchange[field] = value.replaceAll(/[.*+?^${}()|[\\]\\\\,a-zA-Z]/g, '')\r\n  }\r\n  /**\r\n   * thêm công thức vào DB\r\n   */\r\n  addData() {\r\n    let data = this.formAdd.value;\r\n    data['exchange'] = {\r\n      points: parseFloat(this.exchange.points),\r\n      money: parseFloat(this.exchange.money)\r\n    }\r\n    data['products'] = this.list_select_products.map(item => { return item.value })\r\n    if (this.list_select_products.length) {\r\n      if (this.formAdd.valid) {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          this.vhQuerySales.addEarningPointsProduct(data).then((response: any) => {\r\n            this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"Thêm chương trình tích điểm thành công\"))\r\n            this.vhComponent.hideLoading(0);\r\n            this.goBack();\r\n          }, error => {\r\n            this.vhComponent.hideLoading(0)\r\n            this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Thêm chương trình tích điểm thất bại\"))\r\n            \r\n          })\r\n        })\r\n      }\r\n      else this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Vui lòng điền đầy đủ thông tin\"));\r\n    }\r\n    else {\r\n      this.nzModalService.warning({\r\n        nzTitle: this.languageService.translate(\"Vui lòng chọn sản phẩm áp dụng!\"),\r\n        nzOnOk: () => {\r\n          this.openModalSelectProduct()\r\n        },\r\n        nzCancelText: this.languageService.translate(\"Cancel\"),\r\n      })\r\n    }\r\n\r\n  }\r\n  /**\r\n   * mở modal chọn sp tích điểm\r\n   */\r\n  openModalSelectProduct() {\r\n    this.show_select_product = true;\r\n    this.list_products = this.list_search_products.filter(item => item.price >= this.exchange.money);\r\n    \r\n    \r\n\r\n  }\r\n  /**\r\n   * xử lý khi nhấn ok modal chọn sp tích điểm\r\n   */\r\n  handleOkSelectProduct() {\r\n    this.list_select_products = this.list_products.filter(item => item.checked && item.price >= this.exchange.money)\r\n    this.show_select_product = false\r\n  }\r\n  /**\r\n   * lọc sp theo danh mục\r\n   */\r\n  filterProductByCategory(ev) {\r\n    if (ev == 'all') this.list_search_products = this.list_all_products\r\n    else this.list_search_products = this.list_all_products.filter(item => item.id_category == ev)\r\n    this.searchProducts(this.search_value)\r\n  }\r\n\r\n  /**\r\n   * lọc sp theo tên\r\n   */\r\n  searchProducts(ev: string) {\r\n    this.list_products = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(ev.toLocaleLowerCase()), this.list_search_products, ['name', 'barcode'])\r\n  }\r\n\r\n  // xử lý checkbox product\r\n\r\n  allChecked = false;\r\n  indeterminate = true;\r\n\r\n  updateAllChecked(): void {\r\n    this.indeterminate = false;\r\n    if (this.allChecked) {\r\n      this.list_products = this.list_products.map(item => ({\r\n        ...item,\r\n        checked: true\r\n      }));\r\n    } else {\r\n      this.list_products = this.list_products.map(item => ({\r\n        ...item,\r\n        checked: false\r\n      }));\r\n    }\r\n  }\r\n\r\n  updateSingleChecked(): void {\r\n    if (this.list_products.every(item => !item.checked)) {\r\n      this.allChecked = false;\r\n      this.indeterminate = false;\r\n    } else if (this.list_products.every(item => item.checked)) {\r\n      this.allChecked = true;\r\n      this.indeterminate = false;\r\n    } else {\r\n      this.indeterminate = true;\r\n    }\r\n  }\r\n\r\n  trackByIndex(_: number, data: any): number {\r\n    return data.index;\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\">\r\n        <div nz-col nzSpan=\"14\" class=\"title left-all-content\">\r\n            <b>{{'Add point accumulation program for product' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"addData()\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Save'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <form [formGroup]=\"formAdd\">\r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <nz-form-label style=\"text-align: start;\" [nzSpan]=\"5\"><b>{{'Name' | translate}}*</b></nz-form-label>\r\n            <nz-form-control [nzSpan]=\"10\" [nzErrorTip]=\"userErrorTpl\">\r\n                <input style=\"text-align: start;\" nz-input formControlName=\"name\"\r\n                    placeholder=\"{{'Enter name' | translate}}\" />\r\n                <ng-template #userErrorTpl let-control>\r\n                    <ng-container *ngIf=\"control.hasError('required')\">{{'Name is requied' | translate}}\r\n                    </ng-container>\r\n                </ng-template>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <nz-form-label style=\"text-align: start;\" [nzSpan]=\"5\"><b>{{'Point conversion rate' | translate}}*</b>\r\n            </nz-form-label>\r\n            <nz-form-control [nzSpan]=\"19\">\r\n                <input #box class=\"price\" style=\"text-align: start;\" nz-input\r\n                    [value]=\"vhAlgorithm.vhcurrencyunit(exchange.money)\" placeholder=\"{{'Enter money' | translate}}\"\r\n                    (keyup)=\"changeExchange('money',box.value)\" /> {{synbol}} =\r\n                <input #points class=\"price\" style=\"text-align: start;\" nz-input [value]=\"exchange.points\"\r\n                    placeholder=\"{{'Enter point' | translate}}\" (keyup)=\"changeExchange('points',points.value)\" />\r\n                {{'point' | translate}}\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n\r\n        <!-- <p><b>{{'Products applying point accumulation' | translate}}</b></p> -->\r\n        <button nz-button nzType=\"primary\" (click)=\"openModalSelectProduct()\">\r\n            <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n            {{'List of products applying point accumulation' | translate}}</button>\r\n\r\n        <p><b>{{'Set up point accumulation program' | translate}}</b></p>\r\n         \r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <!-- <nz-form-label [nzSpan]=\"24\"><b>{{'Kiểu hoa hồng'}}</b></nz-form-label> -->\r\n            <nz-form-control [nzSpan]=\"24\">\r\n                <label nz-checkbox formControlName=\"include_promotion_product\">\r\n                    {{'Accumulate points for discounted/promotional products' | translate}}\r\n                </label> <br>\r\n\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n    </form>\r\n</nz-layout>\r\n<nz-modal  [nzStyle]=\"{ top: '20px' }\"  *ngIf=\"show_select_product\" [(nzVisible)]=\"show_select_product\"\r\n    nzTitle=\"{{'Danh sách sản phẩm áp dụng chương trình'}}\" (nzOnCancel)=\"show_select_product = false\"\r\n    (nzOnOk)=\"handleOkSelectProduct()\" nzCancelText=\"{{'Cancel' | translate}}\" nzWidth=\"70vw\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col [nzSpan]=\"11\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input style=\"text-align: start;width: 100%;\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for product name' | translate}}\" [(ngModel)]=\"search_value\"\r\n                        (ngModelChange)=\"searchProducts($event)\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"2\"></div>\r\n            <div nz-col [nzSpan]=\"11\">\r\n                <nz-select [(ngModel)]=\"category\" (ngModelChange)=\"filterProductByCategory($event)\" style=\"width: 100%;\"\r\n                    nzPlaceHolder=\"{{'Select a category' | translate}}\">\r\n                    <nz-option *ngFor=\"let item of list_category\" [nzValue]=\"item._id\" nzLabel=\"{{item.name}}\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"border-bottom: 1px solid rgb(233, 233, 233);margin-top: 16px;\">\r\n            <label nz-checkbox [(ngModel)]=\"allChecked\" (ngModelChange)=\"updateAllChecked()\"\r\n                [nzIndeterminate]=\"indeterminate\">\r\n                {{'Select all' | translate}}\r\n            </label>\r\n        </div>\r\n        <!-- <nz-checkbox-group style=\"display: grid;line-height: 2;max-height: 350px;overflow: auto;word-break: break-word;\"\r\n            [(ngModel)]=\"list_products\" (ngModelChange)=\"updateSingleChecked()\"></nz-checkbox-group> -->\r\n            <nz-table  [nzBordered]=\"true\"  [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '350px' }\" #allowSale nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"list_products\">\r\n                <thead>\r\n                    <tr>\r\n                        <th nzWidth=\"24%\"><b>{{'Product name' | translate}}</b></th>\r\n                        <th nzWidth=\"10%\"><b>{{'Unit' | translate}}</b></th>\r\n                        <th nzWidth=\"14%\"><b>{{'Barcode' | translate}}</b></th>\r\n                        <th nzWidth=\"14%\"><b>{{'Brand' | translate}}</b></th>\r\n                        <th nzWidth=\"18%\" nzAlign='right'><b>{{'Selling price' | translate}}</b></th>\r\n                        <th nzWidth='20%' nzAlign=\"center\"><b>{{ 'Functions' | translate}}</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr  *ngFor=\"let data of allowSale.data\" >\r\n                        <td>{{ data.name }}</td>\r\n                        <td>{{ data.unit }}</td>\r\n                        <td>{{ data.barcode }}</td>\r\n                        <td>{{ data.brand }}</td>\r\n                        <td class=\"money-right\">{{vhAlgorithm.vhcurrencyunit_symbol(data.price)}} </td>\r\n                        <td nzAlign=\"center\">\r\n                            <nz-switch [(ngModel)]=\"data.checked\" ></nz-switch>\r\n                            <!-- <label nz-checkbox [(ngModel)]=\"data.checked\">Checkbox</label> -->\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </nz-table>\r\n    </ng-container>\r\n</nz-modal>","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { LanguageService } from './../../../../../services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhAlgorithm, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-by-product',\r\n  templateUrl: './by-product.component.html',\r\n  styleUrls: ['./by-product.component.scss']\r\n})\r\nexport class ByProductComponent implements OnInit {\r\n  customer_group: any = this.vhQuerySales.getlocalCustomerClasss();\r\n  list_data: any = [];\r\n  search_value = ''\r\n  synbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text\r\n  constructor(\r\n    private router: Router,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private nzModalService: NzModalService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // get công thức tích điểm theo sp\r\n    Promise.all([ this.vhQuerySales.getEarningPointsProducts()])\r\n      .then(([  earning_point_products]: any) => {\r\n        this.customer_group = this.vhAlgorithm.sortStringbyASC(this.vhQuerySales.getlocalCustomerClasss(), 'name').map(item => { return { ...item, selected: earning_point_products.findIndex(i => i.id_customer_class == item._id) == -1 ? false : true } })\r\n            // đem trường điểm và tiền ra ngoài mục đích để dễ sort\r\n        this.list_data = this.vhAlgorithm.sortStringbyASC(earning_point_products, 'name').map(item =>{\r\n          return {\r\n            ...item,\r\n            asMoney: item.exchange.money,\r\n            asPoints: item.exchange.points\r\n          }\r\n        })\r\n      })\r\n  }\r\n  heightScroll: string;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#product-list\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".product-list-header\")) {\r\n      this.heightScroll = document.querySelector(\"#product-list\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".product-list-header\").clientHeight - 50 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/reward-points'])\r\n  }\r\n\r\n  gotoAdd() {\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/reward-points/by-product/add'],{state: this.list_data})\r\n  }\r\n  gotoEdit(data) {\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/reward-points/by-product/edit'], { state:{ data_selected : data , list_earning_points_product : this.list_data}})\r\n  }\r\n\r\n  /**\r\n   * xóa công thức khỏi DB\r\n   * @example this.deleleData(earning_point_selected)\r\n   */\r\n  deleleData(data) {\r\n    this.vhComponent.showLoading('').then(() =>{\r\n      this.vhQuerySales.deleteEarningPointsProduct( data._id).then(bool => {\r\n        this.vhComponent.hideLoading(0)\r\n        if (bool) {\r\n          let customer_group = this.customer_group.find(item => item.id_earning_points_products == data._id)\r\n          if (customer_group) {\r\n            this.vhQuerySales.updateCustomerClass( customer_group._id, { id_earning_points_products: \"\" }).then((bool) => {\r\n              this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Xóa chương trình thành công\"));\r\n              this.list_data = this.list_data.filter(item => item._id != data._id)\r\n            }, error => {\r\n              \r\n            })\r\n          }\r\n          else {\r\n            this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Xóa chương trình thành công\"));\r\n            this.list_data = this.list_data.filter(item => item._id != data._id)\r\n          }\r\n\r\n        }\r\n        else this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Có lỗi xảy ra khi xóa. Vui lòng thử lại sau!\"));\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n /** hàm sort cho các cột */\r\n nameCol = false;\r\n asMoneyCol = false;\r\n asPointsCol = false\r\n /** Hàm thực hiện sắp xếp theo collection\r\n  *\r\n  * @param colName       // tên cột muôn sắp xếp\r\n  */\r\n sortTable(colName){\r\n   switch (colName) {\r\n     case 'name':\r\n       if(this.nameCol){\r\n         this.list_data = this.vhAlgorithm.sortVietnamesebyASC([...this.list_data], colName);\r\n       }else{\r\n         this.list_data = this.vhAlgorithm.sortVietnamesebyDESC([...this.list_data], colName);\r\n       }\r\n       break;\r\n     case 'asMoney':\r\n       if(this.asMoneyCol){\r\n         this.list_data = this.vhAlgorithm.sortNumberbyASC([...this.list_data], colName);\r\n       }else{\r\n         this.list_data = this.vhAlgorithm.sortNumberbyDESC([...this.list_data], colName);\r\n       }\r\n       break;\r\n     case 'asPoints':\r\n       if(this.asPointsCol){\r\n         this.list_data = this.vhAlgorithm.sortNumberbyASC([...this.list_data], colName);\r\n       }else{\r\n         this.list_data = this.vhAlgorithm.sortNumberbyDESC([...this.list_data], colName);\r\n       }\r\n       break;\r\n   }\r\n }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\">\r\n        <div nz-col nzSpan=\"14\" class=\"title left-all-content\">\r\n            <b>{{'List of point accumulation programs by product' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"gotoAdd()\">\r\n                    <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                    {{'Add'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <nz-table [nzScroll]=\"{ y: heightScroll  }\" #dataShow [nzShowPagination]=\"false\" nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"list_data\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"5%\"></th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"nameCol = !nameCol;sortTable('name')\">\r\n                        <b>{{'Program name' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"asMoneyCol = !asMoneyCol;sortTable('asMoney')\">\r\n                        <b>{{'Product value' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"asMoneyCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"asPointsCol = !asPointsCol;sortTable('asPoints')\">\r\n                        <b>{{'Accumulated points' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"asPointsCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <!-- <th nzWidth=\"25%\"><b>{{'Customer group' | translate}}</b></th> -->\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let data of dataShow.data\" (click)=\" gotoEdit(data)\" style=\"cursor: pointer;\">\r\n                    <td>\r\n                        <i nz-icon nzType=\"close\" nzTheme=\"outline\" style=\"color: var(--ion-color-vh-red);\" nz-popconfirm (click)=\"$event.stopPropagation()\" nzPopconfirmTitle=\"{{'Delete this program' | translate}}?\" nzPopconfirmPlacement=\"bottom\" (nzOnConfirm)=\"deleleData(data)\"></i>\r\n                    </td>\r\n                    <td> {{ data.name}}</td>\r\n                    <td>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.asMoney)}}\r\n                    </td>\r\n                    <td>\r\n                        {{data.asPoints}}\r\n                    </td>\r\n                    <!-- <td>\r\n                        {{data.customer_group_name}}\r\n                    </td> -->\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ByProductComponent } from './by-product.component';\r\nimport { RouterModule, Routes } from '@angular/router'; \r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AddComponent } from './add/add.component';\r\nimport { EditComponent } from './edit/edit.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ByProductComponent\r\n  }, \r\n  {\r\n    path: 'add',\r\n    component: AddComponent\r\n  }, \r\n  {\r\n    path: 'edit',\r\n    component: EditComponent\r\n  }, \r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ByProductComponent,\r\n    AddComponent,\r\n    EditComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class ByProductModule { }\r\n","import { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhAlgorithm, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'app-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n  customer_group: any = []\r\n  data_selected: any;\r\n  formEdit: FormGroup;\r\n  exchange: any = {\r\n    points: '1',\r\n    money: '1000'\r\n  } \r\n  synbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text\r\n  list_products: any = this.vhQuerySales.getlocalDetailProducts().filter(e => !e.delete_hidden).map(item => {\r\n    let unit = this.vhQuerySales.getUnit_byRatio(item.units, item.units.find(e => e.default) ? item.units.find(e => e.default).ratio : 1)\r\n    return { ...item, ...unit }\r\n  });\r\n  local_products: any = this.vhQuerySales.getlocalDetailProducts().filter(e => !e.delete_hidden).map(item => {\r\n    let unit = this.vhQuerySales.getUnit_byRatio(item.units, item.units.find(e => e.default) ? item.units.find(e => e.default).ratio : 1)\r\n    return { ...item, ...unit }\r\n  });\r\n  list_search_products: any = [];\r\n  list_select_products: any = []; \r\n  show_select_product = false\r\n  search_value = ''\r\n  category: any = 'all';\r\n  list_earning_points_product: any;\r\n  list_category: any[] = [{ _id: 'all', name: this.languageService.translate(\"All\") }].concat(this.vhQuerySales.getlocalCategorys())\r\n  constructor(\r\n    private router: Router,\r\n    private cdRef: ChangeDetectorRef,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuery: VhQuery,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private nzModalService: NzModalService,\r\n    private languageService: LanguageService) {\r\n    this.data_selected = this.router.getCurrentNavigation().extras.state.data_selected\r\n    this.list_earning_points_product = this.router.getCurrentNavigation().extras.state.list_earning_points_product\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFormEdit(this.data_selected)\r\n    this.customer_group = this.vhAlgorithm.sortStringbyASC(this.vhQuerySales.getlocalCustomerClasss(), 'name').map(item => { return { ...item, selected: item.id_earning_points_products ? true : false } })\r\n  }\r\n  /**\r\n   * gán các giá trị của công thức nhận từ state vào form để xử lý\r\n   */\r\n  initFormEdit(data) {\r\n    this.exchange = {\r\n      points: data.exchange.points,\r\n      money: data.exchange.money,\r\n    } \r\n    this.formEdit = new FormGroup({\r\n      name: new FormControl(data.name, Validators.required),\r\n      include_promotion_product: new FormControl(data.include_promotion_product), \r\n    })\r\n    this.list_products = this.local_products.filter(ele => ele.price >= this.exchange.money).map(item => { return {  checked: data.products.find(ele => ele == item.id_subproduct || ele ==  item._id) ? true : false, value: item.id_subproduct ? item.id_subproduct:  item._id, ...item } }).sort((a, b) => Number(b.checked) - Number(a.checked));\r\n     \r\n    this.list_select_products = this.list_products.filter(item => item.checked); \r\n    \r\n    this.list_search_products = this.list_products;\r\n    \r\n    \r\n  } \r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/reward-points/by-product'])\r\n  }\r\n  /**\r\n   * bắt sk thay đổi money or points\r\n   */\r\n  changeExchange(field, value) {\r\n    this.exchange[field] = value.replaceAll(/[.*+?^${}()|[\\]\\\\,a-zA-Z]/g, '')\r\n  } \r\n  /**\r\n   * cập nhật công thức lên DB\r\n   */\r\n  editData() {\r\n    let data = this.formEdit.value;\r\n    data['exchange'] = {\r\n      points: parseFloat(this.exchange.points),\r\n      money: parseFloat(this.exchange.money)\r\n    } \r\n    data['products'] = this.list_select_products.map(item => { return item.value })\r\n\r\n    if (this.list_select_products.length) {\r\n      if (this.formEdit.valid) {\r\n        this.vhComponent.showLoading('').then(() => {\r\n          this.vhQuerySales.updateEarningPointsProduct(this.data_selected._id, data).then((bool: any) => {\r\n            this.vhComponent.hideLoading(0);\r\n            if (bool) {\r\n              this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"Cập nhật chương trình tích điểm thành công\"))\r\n              this.goBack()\r\n            }\r\n            else this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Cập nhật chương trình tích điểm thất bại\"))\r\n          }, error => {\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Cập nhật chương trình tích điểm thất bại\"))\r\n            \r\n          })\r\n        })\r\n\r\n      }\r\n      else this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"Vui lòng điền đầy đủ thông tin\"));\r\n    }\r\n    else {\r\n      this.nzModalService.warning({\r\n        nzTitle: this.languageService.translate(\"Vui lòng chọn sản phẩm áp dụng!\"),\r\n        nzOnOk: () => {\r\n          this.openModalUpdateSelectProduct()\r\n        },\r\n        nzCancelText: this.languageService.translate(\"Cancel\"),\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * lọc sp theo danh mục\r\n   */\r\n  filterProductByCategory(ev) {\r\n    if (ev == 'all') this.list_products = this.list_search_products\r\n    else this.list_products = this.list_search_products.filter(item => item.id_category == ev)\r\n  }\r\n\r\n  /**\r\n   * lọc sp theo tên\r\n   */\r\n  searchProducts(ev: string) {\r\n    this.list_products = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(ev.toLocaleLowerCase()), this.list_search_products, ['name', 'barcode'])\r\n  }\r\n\r\n  /**\r\n   * mở modal chọn sp tích điểm\r\n   */\r\n  openModalUpdateSelectProduct() {\r\n    this.show_select_product = true;\r\n    this.list_products = this.list_search_products.filter(item => item.price >= this.exchange.money);\r\n\r\n\r\n  }\r\n  /**\r\n   * xử lý khi nhấn ok modal chọn sp tích điểm\r\n   */\r\n  handleOkSelectProductUpdate() {\r\n    this.show_select_product = false;\r\n    this.list_select_products = this.list_products.filter(item => item.checked); \r\n  }\r\n\r\n  // xử lý checkbox product\r\n\r\n  allChecked = false;\r\n  indeterminate = true;\r\n\r\n  updateAllChecked(): void {\r\n    this.indeterminate = false;\r\n    if (this.allChecked) {\r\n      this.list_products = this.list_products.map(item => ({\r\n        ...item,\r\n        checked: true\r\n      }));\r\n    } else {\r\n      this.list_products = this.list_products.map(item => ({\r\n        ...item,\r\n        checked: false\r\n      }));\r\n    }\r\n  }\r\n\r\n  updateSingleChecked(): void {\r\n    if (this.list_products.every(item => !item.checked)) {\r\n      this.allChecked = false;\r\n      this.indeterminate = false;\r\n    } else if (this.list_products.every(item => item.checked)) {\r\n      this.allChecked = true;\r\n      this.indeterminate = false;\r\n    } else {\r\n      this.indeterminate = true;\r\n    }\r\n  }\r\n\r\n  trackByIndex(_: number, data: any): number {\r\n    return data.index;\r\n  }\r\n\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout id=\"product-list\" class=\"height-layout\">\r\n    <div nz-row class=\"product-list-header\">\r\n        <div nz-col nzSpan=\"14\" class=\"title left-all-content\">\r\n            <b>{{'Update point accumulation program for product' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-add\" nz-button nzType=\"default\" (click)=\"editData()\">\r\n                    <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                    {{'Save'|translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <form [formGroup]=\"formEdit\">\r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <nz-form-label style=\"text-align: start;\" [nzSpan]=\"6\"><b>{{'Name' | translate}}*</b></nz-form-label>\r\n            <nz-form-control [nzSpan]=\"10\" [nzErrorTip]=\"userErrorTpl\">\r\n                <input style=\"text-align: start;\" nz-input formControlName=\"name\"\r\n                    placeholder=\"{{'Enter name' | translate}}\" />\r\n                <ng-template #userErrorTpl let-control>\r\n                    <ng-container *ngIf=\"control.hasError('required')\">{{'Name is requied' | translate}}\r\n                    </ng-container>\r\n                </ng-template>\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <nz-form-label style=\"text-align: start;\" [nzSpan]=\"5\"><b>{{'Point conversion rate' | translate}}*</b>\r\n            </nz-form-label>\r\n            <nz-form-control [nzSpan]=\"19\">\r\n                <input #box class=\"price\" style=\"text-align: start;\" nz-input\r\n                    [value]=\"vhAlgorithm.vhcurrencyunit(exchange.money)\" placeholder=\"{{'Enter money' | translate}}\"\r\n                    (keyup)=\"changeExchange('money',box.value)\" /> {{synbol}} =\r\n                <input #points class=\"price\" style=\"text-align: start;\" nz-input [value]=\"exchange.points\"\r\n                    placeholder=\"{{'Enter point' | translate}}\" (keyup)=\"changeExchange('points',points.value)\" />\r\n                {{'point' | translate}}\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n\r\n\r\n        <!-- <p><b>{{'Products applying point accumulation' | translate}}</b></p> -->\r\n        <button nz-button nzType=\"primary\" (click)=\"openModalUpdateSelectProduct()\">\r\n            <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n            {{'List of products applying point accumulation' | translate}}</button>\r\n        <p><b>{{'Set up point accumulation program' | translate}}</b></p>\r\n        \r\n        <nz-form-item style=\"margin:0 0 8px;\">\r\n            <!-- <nz-form-label [nzSpan]=\"24\"><b>{{'Kiểu hoa hồng'}}</b></nz-form-label> -->\r\n            <nz-form-control [nzSpan]=\"24\">\r\n                <label nz-checkbox formControlName=\"include_promotion_product\">\r\n                    {{'Accumulate points for discounted/promotional products' | translate}}\r\n                </label> <br>\r\n\r\n            </nz-form-control>\r\n        </nz-form-item>\r\n    </form>\r\n</nz-layout>\r\n<nz-modal  [nzStyle]=\"{ top: '20px' }\" [(nzVisible)]=\"show_select_product \" nzTitle=\"{{'Danh sách sản phẩm áp dụng chương trình'}}\"\r\n    (nzOnCancel)=\"show_select_product = false\" (nzOnOk)=\"handleOkSelectProductUpdate()\"\r\n    nzCancelText=\"{{'Cancel' | translate}}\" nzWidth=\"70vw\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col [nzSpan]=\"11\">\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                    <input style=\"text-align: start;width: 100%;\" type=\"text\" nz-input\r\n                        placeholder=\"{{'Search for product name' | translate}}\" [(ngModel)]=\"search_value\"\r\n                        (ngModelChange)=\"searchProducts($event)\" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <i nz-icon nzType=\"search\"></i>\r\n                </ng-template>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"2\"></div>\r\n            <div nz-col [nzSpan]=\"11\">\r\n                <nz-select [(ngModel)]=\"category\" (ngModelChange)=\"filterProductByCategory($event)\" style=\"width: 100%;\"\r\n                    nzPlaceHolder=\"{{'Select a category' | translate}}\">\r\n                    <nz-option *ngFor=\"let item of list_category\" [nzValue]=\"item._id\" nzLabel=\"{{item.name}}\">\r\n                    </nz-option>\r\n                </nz-select>\r\n            </div>\r\n        </div>\r\n        <div style=\"border-bottom: 1px solid rgb(233, 233, 233);margin-top: 16px;\">\r\n            <label nz-checkbox [(ngModel)]=\"allChecked\" (ngModelChange)=\"updateAllChecked()\"\r\n                [nzIndeterminate]=\"indeterminate\">\r\n                {{'Select all' | translate}}\r\n            </label>\r\n        </div>\r\n        <!-- <nz-checkbox-group style=\"display: grid; line-height: 2;max-height: 350px;overflow: auto;word-break: break-word;\"\r\n            [(ngModel)]=\"list_products\" (ngModelChange)=\"updateSingleChecked()\"></nz-checkbox-group> -->\r\n        <nz-table  [nzBordered]=\"true\"  [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: '350px' }\" #allowSale nzShowPagination nzShowSizeChanger nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"list_products\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"24%\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"10%\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th nzWidth=\"14%\"><b>{{'Barcode' | translate}}</b></th>\r\n                    <th nzWidth=\"14%\"><b>{{'Brand' | translate}}</b></th>\r\n                    <th nzWidth=\"18%\" nzAlign='right'><b>{{'Selling price' | translate}}</b></th>\r\n                    <th nzWidth='20%' nzAlign=\"center\"><b>{{ 'Functions' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr  *ngFor=\"let data of allowSale.data\" >\r\n                    <td>{{ data.name }}</td>\r\n                    <td>{{ data.unit }}</td>\r\n                    <td>{{ data.barcode }}</td>\r\n                    <td>{{ data.brand }}</td>\r\n                    <td class=\"money-right\">{{vhAlgorithm.vhcurrencyunit_symbol(data.price)}} </td>\r\n                    <td nzAlign=\"center\">\r\n                        <nz-switch [(ngModel)]=\"data.checked\"></nz-switch>\r\n                        <!-- <label nz-checkbox [(ngModel)]=\"data.checked\">Checkbox</label> -->\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>"],"names":[],"sourceRoot":"webpack:///"}