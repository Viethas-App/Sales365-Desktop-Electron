{"version":3,"file":"src_app_sales_menu_manage_sales-program_voucher_buy-voucher_buy-voucher_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/sales-program/voucher/buy-voucher/buy-voucher.component.ts","./src/app/sales/menu/manage/sales-program/voucher/buy-voucher/buy-voucher.component.html","./src/app/sales/menu/manage/sales-program/voucher/buy-voucher/buy-voucher.module.ts","./src/app/sales/menu/manage/sales-program/voucher/buy-voucher/detail-bill/detail-bill.component.ts","./src/app/sales/menu/manage/sales-program/voucher/buy-voucher/detail-bill/detail-bill.component.html"],"sourcesContent":["import { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuery, VhQuerySales, VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\n\r\n@Component({\r\n  selector: 'app-buy-voucher',\r\n  templateUrl: './buy-voucher.component.html',\r\n  styleUrls: ['./buy-voucher.component.scss']\r\n})\r\nexport class BuyVoucherComponent implements OnInit {\r\n  public date: Date[] = [new Date(), new Date()];\r\n  public listSoldVoucher: any=[];\r\n  private listSoldVoucherDontChange: any=[];\r\n  public startTime: Date = new Date();\r\n  public endTime: Date = new Date();\r\n  public searchValue:any = '';\r\n  public heightScroll: string;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuery: VhQuery,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    public vhAuth: VhAuth,\r\n    private languageService: LanguageService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.startTime.setHours(0, 0, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 59);\r\n    if(this.router.getCurrentNavigation().extras.state){\r\n      this.listSoldVoucher = this.router.getCurrentNavigation().extras.state;\r\n      this.listSoldVoucherDontChange = this.listSoldVoucher\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".height-layout\") && document.querySelector(\".ant-table-thead\")   && document.querySelector(\".height-header\")) {\r\n      this.heightScroll = document.querySelector(\".height-layout\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".height-header\").clientHeight -  90 + \"px\";\r\n\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * get hóa đơn bán voucher bill-type 40\r\n   */\r\n  getInvoices(){\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => {\r\n      this.vhQuerySales.getBills_byFields(\r\n      {\r\n        date: { $gte: new Date(this.date[0].setHours(0, 0, 0)), $lte: new Date(this.date[1].setHours(23, 59, 59, 59)) },\r\n        bill_type: { $in: [40] },\r\n        id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id }\r\n      }, {})\r\n      .then((response: any) => {\r\n        // for(let i in response.filter(item => !item.id_employee)){\r\n        //   this.vhQuerySales.deleteBill_Billdetail(response[i]._id)\r\n        // }\r\n        \r\n        \r\n        this.listSoldVoucher = response.map(item => {\r\n          return {\r\n            ...item,\r\n            partner_name: this.renderPartner(item.id_customer),\r\n            payment_name: this.renderPayment(item.payment_type, item.id_wallet),\r\n            status: this.languageService.translate('Sold'),\r\n            employee_name: this.vhAuth.getlocalEmployee(item.id_employee).name,\r\n            phone: this.vhAuth.getlocalEmployee(item.id_employee).phone,\r\n            debt_value: this.getDebtValue(item.total, item.tax, item.payment),\r\n            total: item.total*(1+item.tax/100)\r\n          }\r\n        })\r\n        this.listSoldVoucher = this.vhAlgorithm.sortDatebyDESC(this.listSoldVoucher, 'date')\r\n        this.listSoldVoucherDontChange = this.listSoldVoucher\r\n        this.vhComponent.hideLoading(0);\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi thời gian xem hóa đơn\r\n   * @param event array<date>\r\n   * @example this.changeTime([2023-06-23T07:12:35.157Z,2023-06-23T07:12:35.157Z])\r\n   */\r\n  changeTime(event){\r\n    if (new Date(event[1].setHours(0,0,0,0)).getTime() - new Date(event[0].setHours(0,0,0,0)).getTime() <=  this.fncService.checkDateReport() * 86000000) {\r\n      //this.getTransferList();\r\n    } else {\r\n      this.vhComponent.showToast(4000, this.languageService.translate(\"The time limit to view is\") + \" \" + this.fncService.checkDateReport() + \" \" +  this.languageService.translate(\"days\"), \"alert-toast\")\r\n      this.date = [new Date(event[0]), new Date(event[0].getTime() + this.fncService.checkDateReport() * 86000000)]\r\n    }\r\n  }\r\n  goBack(){\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/voucher'])\r\n  }\r\n  gotoCreateBill(){\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/voucher/buy-voucher/create'],{ state: { invoice: null } })\r\n  }\r\n  gotoDetailBill(invoice){\r\n\r\n    this.router.navigate(['/sales/dashboard/manage/sales-program/voucher/buy-voucher/detail'],{ state: {invoice: invoice,dataRestore : this.listSoldVoucher } })\r\n  }\r\n  /**\r\n   * trả về tên khách hàng của hóa đơn\r\n   * @example let customer_name = this.renderPartner('DKSJDHIUWHGDUWI')\r\n   */\r\n  renderPartner(id_partner: string) {\r\n    let customer: string = this.languageService.translate(this.vhQuerySales.getlocalCustomer(id_partner).name)\r\n    return customer ? customer : this.languageService.translate(\"Not found\")\r\n  }\r\n\r\n  /**\r\n   * trả về tên phương thức thanh toán của đơn\r\n   * @example let payment_name= this.renderPayment(1)\r\n   */\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.languageService.translate('Cash')\r\n      case 2: return this.languageService.translate('Debit')\r\n      case 3: return this.vhQuerySales.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * trả về công nợ của hóa đơn\r\n   * @example let debt = this.getDebtValue(100000,0,0)\r\n   */\r\n  getDebtValue(total, tax, payment) {\r\n    return (parseFloat(parseFloat((total * (1 + tax / 100)).toString()).toFixed(0)) - payment)\r\n  }\r\n  /**\r\n   * lọc bill theo ['bill_code', 'partner_name', 'payment_name', 'status', 'name_employee']\r\n   * @example this.searchBill('')\r\n   */\r\n  searchBill(key: string){\r\n    if (key.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(key.trim().toLowerCase())\r\n      this.listSoldVoucher = this.vhAlgorithm.searchList(val, this.listSoldVoucherDontChange, ['bill_code', 'partner_name', 'employee_name', 'payment_name', 'status', 'phone'])\r\n    } else this.listSoldVoucher = this.listSoldVoucherDontChange\r\n  }\r\n  /**\r\n   * trả về tổng daonh số của tất cả hóa đơn đang hiển thị\r\n   * @returns \r\n   */\r\n  getTotal() {\r\n    return this.listSoldVoucher.reduce((prev: number, next) => prev + next.total * (1 + next.tax / 100), 0);\r\n  }\r\n\r\n /** hàm sort cho các cột */\r\n dateCol = false;\r\n bill_codeCol = false;\r\n partner_nameCol = false;\r\n payment_nameCol = false;\r\n employee_nameCol = false;\r\n statusCol = false;\r\n totalCol = false;\r\n /** Hàm thực hiện sắp xếp theo collection\r\n  *\r\n  * @param colName       // tên cột muôn sắp xếp\r\n  */\r\n sortTable(colName){\r\n   switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortDatebyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortDatebyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortStringbyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortStringbyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if(this.partner_nameCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.payment_nameCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'employee_name':\r\n        if(this.employee_nameCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'status':\r\n        if(this.statusCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortVietnamesebyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n      case 'total':\r\n        if(this.totalCol){\r\n          this.listSoldVoucher = this.vhAlgorithm.sortNumberbyASC([...this.listSoldVoucher], colName);\r\n        }else{\r\n          this.listSoldVoucher = this.vhAlgorithm.sortNumberbyDESC([...this.listSoldVoucher], colName);\r\n        }\r\n        break;\r\n   }\r\n }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout class=\"height-layout\">\r\n    <div nz-row class=\"height-header\">\r\n        <div nz-col nzSpan=\"4\" class=\"title left-all-content\">\r\n            <b>{{'Sell voucher' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"right-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input #box [(ngModel)]=\"searchValue\" (keyup)=\"searchBill(searchValue)\" type=\"text\" nz-input placeholder=\"{{'Search for invoice code, employee, customer, payment method, ...' | translate}}\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <div nz-col nzSpan=\"8\" class=\"picker-time\">\r\n            <nz-range-picker [(ngModel)]=\"date\" (ngModelChange)=\"changeTime($event)\"></nz-range-picker>\r\n        </div>\r\n        <div nz-col nzSpan=\"4\" class=\"right-all-content\">\r\n            <div>\r\n                <button class=\"btn-green center-all-content\" nz-button nzType=\"default\" (click)=\"getInvoices()\">\r\n                    <ion-icon src=\"assets/icon/management/view.svg\"></ion-icon>\r\n                    {{'View' | translate}}\r\n                </button>\r\n            </div>\r\n            <!-- <div>\r\n                <button (click)=\"gotoCreateBill()\" class=\"btn-view center-all-content\" nz-button nzType=\"default\">\r\n              <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n              {{'Create invoice' | translate}}\r\n            </button>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n    <div nz-row class=\"left-all-content\" style=\"margin: 8px 0px 4px;\">\r\n        <span>Tổng <b style=\"color: #DD3341;\">{{listSoldVoucher.length}}</b> hóa đơn bán voucher</span>\r\n    </div>\r\n    <div class=\"list_bill_vouchers\" style=\"margin-top: 16px;overflow: hidden;\">\r\n\r\n        <nz-table [nzScroll]=\"{ y: heightScroll }\" [nzData]=\"listSoldVoucher\" #tableSales nzShowPagination [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" nzShowSizeChanger>\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"cursor: pointer;\" (click)=\"dateCol = !dateCol;sortTable('date')\" nzWidth=\"12%\" nzAlign='left'>\r\n                        <b>{{'Date' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\" nzWidth=\"12%\" nzAlign='left'>\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\" nzWidth=\"15%\" nzAlign='left'>\r\n                        <b>{{'Customer' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"payment_nameCol = !payment_nameCol;sortTable('payment_name')\" nzWidth=\"14%\" nzAlign='left'>\r\n                        <b>{{'Payment method' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"payment_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"employee_nameCol = !employee_nameCol;sortTable('employee_name')\" nzWidth=\"12%\" nzAlign='left'>\r\n                        <b>{{'Employee' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"employee_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th nzWidth=\"10%\" nzAlign='left'>\r\n                        <b>{{'Note' | translate}}</b>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"statusCol = !statusCol;sortTable('status')\" nzWidth=\"10%\" nzAlign='center'>\r\n                        <b>{{'Status' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"statusCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" (click)=\"totalCol = !totalCol;sortTable('total')\" nzWidth=\"15%\" nzAlign='right'>\r\n                        <b>{{'Total' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"totalCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td style=\"color: var(--ion-color-vh-green);\">{{'Total' | translate}}</td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td></td>\r\n                    <td nzAlign='right' class=\"money-right\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(getTotal())}}</td>\r\n                </tr>\r\n                <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"gotoDetailBill(invoice)\">\r\n                    <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nzAlign='left'>{{invoice.bill_code}} <i (click)=\"$event.stopPropagation(); vhComponent.copyValue(invoice.bill_code)\" nz-icon nzType=\"copy\" nzTheme=\"outline\"></i></td>\r\n                    <td nzAlign='left'>{{invoice.partner_name | translate}}\r\n                        <br>\r\n                        <span *ngIf=\"invoice.retail_name\">({{invoice.retail_name}} - {{invoice.retail_phone}} - {{invoice.retail_address}})</span>\r\n                    </td>\r\n                    <td nzAlign='left'>{{invoice.payment_name}} <span *ngIf=\"invoice.debt_value  && invoice.payment_type !=2\"> -\r\n                          {{'Rest'|translate}}\r\n                          <b>{{vhAlgorithm.vhcurrencyunit(invoice.debt_value)}}</b> </span></td>\r\n                    <td nzAlign='left'>{{invoice.employee_name}}</td>\r\n                    <td nzAlign='left'>{{invoice.note}}</td>\r\n                    <td nzAlign='center' [ngStyle]=\"{'color': invoice.bill_type == 4 ? 'var(--ion-color-vh-red)': 'var(--ion-color-vh-black)'}\">\r\n                        {{invoice.status}}</td>\r\n                    <td class=\"money-right\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice['total'])}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { BuyVoucherComponent } from './buy-voucher.component';\r\nimport { DetailBillComponent } from './detail-bill/detail-bill.component';\r\nimport { BillType40Module } from 'src/app/sales/components/bill-type/bill-type-40/bill-type-40.module';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BuyVoucherComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component: DetailBillComponent\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [BuyVoucherComponent,  DetailBillComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    BillType40Module\r\n  ]\r\n})\r\nexport class BuyVoucherModule { }\r\n","\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core'; \r\n@Component({\r\n  selector: 'app-detail-bill',\r\n  templateUrl: './detail-bill.component.html',\r\n  styleUrls: ['./detail-bill.component.scss']\r\n})\r\nexport class DetailBillComponent  {\r\n  \r\n}\r\n","<bill-type40-detail [url]=\"'/sales/dashboard/manage/sales-program/voucher/buy-voucher'\"></bill-type40-detail>"],"names":[],"sourceRoot":"webpack:///"}