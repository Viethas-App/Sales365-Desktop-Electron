{"version":3,"file":"src_app_sales_menu_manage_stock_inventory_inventory_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICwBgC,wEAAoC;IAChC,uDACJ;;IAAA,qEAAe;;IADX,0DACJ;IADI,yJACJ;;;;IATxB,0EAA0F;IACtF,8EAA6B;IACzB,+EAAc;IACV,wEAAc;IACV,0EAAkD;IAA7C,mYAA0B;IAC3B,yEAA2C;IACvC,uDACA;IAAA,8IAEe;IAEnB,4DAAK;IACL,yEAAqC;IAAA,uDAGrC;;IAAA,4DAAK;IACT,4DAAM;IACN,0EAAyB;IACrB,uFAAqB;IACjB,yEACsB;IADnB,qYAA6B;IACV,4DAAI;IAC9B,4DAAsB;IACtB,uFAAqB;IACjB,yEAC8B;IAA1B,iYAAyB;IAAC,4DAAI;IACtC,4DAAsB;IAC1B,4DAAK;IACT,qEAAe;IACnB,4DAAe;IACnB,4DAAU;IACd,4DAAM;;;IAxBkB,0DACA;IADA,yFACA;IAAe,0DAAmB;IAAnB,mFAAmB;IAKD,0DAGrC;IAHqC,6NAGrC;;;IAjBxB,0EACiD;IAC7C,uHA8BM;IACV,4DAAM;;;IA/BoE,0DAAkB;IAAlB,2FAAkB;;;IAgC5F,yEAA4C;IACxC,0EAAsE;IAClE,sEAAK;IAAA,uDAAoC;;IAAA,4DAAM;IACnD,4DAAM;IACV,4DAAM;;IAFO,0DAAoC;IAApC,uJAAoC;;;IAK7C,oEAAmB;IAAA,uDAAuD;;IAAA,4DAAI;;IAA3D,0DAAuD;IAAvD,2KAAuD;;;;;IAK1E,2EAA+B;IAC3B,0EAA2B;IACvB,0EAAwB;IACpB,sEAAK;IAAA,oEAAG;IAAA,uDAAuC;;IAAA,4DAAI;IAAA,4DAAM;IACzD,+EAAc;IACV,kFAAiB;IACb,4EAAqF;IAA9E,4VAA4B;IAAnC,4DAAqF;IACzF,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACV,4DAAM;IACV,4DAAO;;;IAVS,0DAAc;IAAd,uEAAc;IAEV,0DAAuC;IAAvC,kKAAuC;IAGhC,0DAA4B;IAA5B,0FAA4B;;;;IAOnD,0EAA0B;IACtB,6EAAqF;IAArB,iUAAoB;IAAC,uDACtE;;IAAA,4DAAS;IACxB,6EAA2D;IAAzB,qUAAwB;IAAC,6DAAE;IAAA,4DAAS;IAC1E,4DAAM;;IAHmF,0DACtE;IADsE,0IACtE;;;;IAQvB,2EAA+B;IAC3B,0EAA2B;IACvB,0EAAwB;IACpB,sEAAK;IAAA,oEAAG;IAAA,uDAAuC;;IAAA,4DAAI;IAAA,4DAAM;IACzD,+EAAc;IACV,kFAAiB;IACb,4EAAqF;IAA9E,4VAA4B;IAAnC,4DAAqF;IACzF,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACV,4DAAM;IACV,4DAAO;;;IAVS,0DAAc;IAAd,uEAAc;IAEV,0DAAuC;IAAvC,kKAAuC;IAGhC,0DAA4B;IAA5B,0FAA4B;;;;IAOnD,0EAA0B;IACtB,6EAAqF;IAArB,iUAAoB;IAAC,uDACtE;;IAAA,4DAAS;IACxB,6EAA4D;IAA1B,sUAAyB;IAAC,6DAAE;IAAA,4DAAS;IAC3E,4DAAM;;IAHmF,0DACtE;IADsE,0IACtE;;;ADvFxB,MAAM,kBAAkB;IAQ7B,YACU,MAAc,EACd,YAA0B,EAC1B,WAAwB,EACxB,eAAgC,EACjC,MAAc,EACb,cAA8B;QAL9B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QACjC,WAAM,GAAN,MAAM,CAAQ;QACb,mBAAc,GAAd,cAAc,CAAgB;QAbxC,gBAAW,GAAY,KAAK,CAAC,CAAC,oCAAoC;QAClE,mBAAc,GAAW,EAAE,CAAC;QAC5B,oBAAe,GAAQ,EAAE,CAAC;QAC1B,cAAS,GAAY,KAAK,CAAC;QAC3B,0BAAqB,GAAQ,EAAE,CAAC;QAChC,iBAAY,GAAY,KAAK,CAAC;QAC9B,gBAAW,GAAY,KAAK,CAAC;IAQzB,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IACD,WAAW;IACX,CAAC;IACD;;OAEG;IACH,OAAO;QACL,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,CAAC,mBAAwB,EAAE,EAAE;YACtE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,eAAe,GAAG,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;QAElI,CAAC,CAAC;IAEJ,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,+BAA+B,CAAC,CAAC,CAAC;IAC1D,CAAC;IACD;;OAEG;IACH,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,CAAC;IACD;;OAEG;IACH,YAAY;QACV,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;YACrC,IAAI,IAAI,GAAG;gBACT,IAAI,EAAE,IAAI,CAAC,cAAc;gBACzB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;gBAC9B,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG;aACpD;YACD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBAChE,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBAClD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;wBACxC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,+CAA+C,CAAC,EAAE,eAAe,CAAC,CAAC;wBACnI,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;wBACzB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;wBACzB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC;oBAChC,CAAC,CAAC;gBACJ,CAAC,CAAC;YACJ,CAAC,CAAC;SACH;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,EAAE,aAAa,CAAC;SACpG;IACH,CAAC;IACD;;OAEG;IACH,UAAU;QACR,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,CAAC;IACD,YAAY;QACV,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IACD;;OAEG;IACH,SAAS,CAAC,IAAI;QACZ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IACD;;OAEG;IACH,aAAa,CAAC,IAAI;QAChB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;IACpC,CAAC;IACD;;OAEG;IACH,aAAa;QACX,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE;YACrC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBAChE,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBAChH,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;wBACxC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC,EAAE,eAAe,CAAC;wBACzG,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;wBAC1B,IAAI,CAAC,qBAAqB,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc;wBACrD,4BAA4B;wBAC5B,kBAAkB;oBAEpB,CAAC,CAAC;gBACJ,CAAC,CAAC;YACJ,CAAC,CAAC;SACH;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oBAAoB,CAAC,EAAE,aAAa,CAAC,CAAC;SACvG;IACH,CAAC;IACD;;OAEG;IACH,oBAAoB;QAClB,IAAI,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE;YACvC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC;gBAC1B,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,8CAA8C,CAAC;aACxF,CAAC;SACH;;YAEC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBAChE,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,gBAAgB,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;qBACxI,IAAI,CAAC,CAAC,KAAU,EAAE,EAAE;oBAEnB,IAAI,KAAK,CAAC,MAAM,EAAE;wBAChB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;wBAChC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uDAAuD,CAAC,CAAC;qBACvI;yBACI;wBACH,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;4BACtF,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gCACxC,IAAI,GAAG,EAAE;oCACP,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,iDAAiD,CAAC,EAAE,eAAe,CAAC;oCACpI,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;oCACvB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC;oCACtG,iBAAiB;iCAClB;qCACI;oCACH,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,mCAAmC,CAAC,EAAE,aAAa,CAAC;iCACrH;4BACH,CAAC,CAAC;wBACJ,CAAC,CAAC;qBACH;gBACH,CAAC,CAAC;YACN,CAAC,CAAC;IACN,CAAC;IACD,UAAU,CAAC,IAAI;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gDAAgD,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,EAAE,CAAC;IAChH,CAAC;;oFAxJU,kBAAkB;gHAAlB,kBAAkB;QCZ/B,yEAA4D;QAAnB,uIAAS,YAAQ,IAAC;QACvD,kEAA+C;QAAA,uDACnD;;QAAA,4DAAM;QACN,4EAAW;QACP,yEAAY;QACR,yEAAuD;QACnD,oEAAG;QAAA,uDAA2B;;QAAA,4DAAI;QACtC,4DAAM;QACN,0EAA0C;QACtC,6EAA4F;QAApF,2IAAS,gBAAY,IAAC;QAC1B,0EAAyF;QACzF,wDACJ;;QAAA,4DAAS;QACb,4DAAM;QACV,4DAAM;QACN,gHAiCM;QACN,gHAIM;QACN,+EACoE;QAD1D,iMAAyB,+FACjB,kBAAc,IADG,uFACS,0BAAsB,IAD/B;;;QAE/B,6GAA8E;QAClF,4DAAW;QAEX,iFACuG;QAAzB,sJAAa,cAAU,IAAC;;QAClG,oHAWO;QACP,6MAMc;QAClB,4DAAY;QAEZ,iFACyG;QAAzB,sJAAa,cAAU,IAAC;;QACpG,oHAWO;QACP,6MAMc;QAClB,4DAAY;QAChB,4DAAY;;;;QAvGuC,0DACnD;QADmD,oJACnD;QAIe,0DAA2B;QAA3B,8IAA2B;QAK1B,0DACJ;QADI,2KACJ;QAG2B,0DAA2C;QAA3C,+GAA2C;QAkCjE,0DAA6B;QAA7B,6FAA6B;QAKN,0DAAiC;QAAjC,4JAAiC;QAAC,gKAAuC;QAAnG,oFAAyB;QAM/B,0DAA+C;QAA/C,wKAA+C;QADxC,+IAAoC;QAwB3C,0DAAgD;QAAhD,yKAAgD;QADzC,+IAAoC;;;;;;;;;;;;;;;;;;;;;;;;ACjFJ;AACY;AACJ;AACQ;AAClB;AACS;AACT;;;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAkB;KAC9B;IACD;QACE,IAAI,EAAE,QAAQ;QACd,YAAY,EAAE,GAAG,EAAE,CAAC,mMAAgC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC;KAC/E;CACF;AAaM,MAAM,eAAe;;8EAAf,eAAe;4GAAf,eAAe;gHATjB;YACP,yDAAY;YACZ,kEAAqB,CAAC,MAAM,CAAC;YAC7B,yEAAgB;YAChB,uDAAW;YACX,gEAAe;YACf,uDAAW;SACZ;mIAEU,eAAe,mBAVX,oEAAkB,aAE/B,yDAAY,6DAEZ,yEAAgB;QAChB,uDAAW;QACX,gEAAe;QACf,uDAAW","sources":["./src/app/sales/menu/manage/stock/inventory/inventory.component.ts","./src/app/sales/menu/manage/stock/inventory/inventory.component.html","./src/app/sales/menu/manage/stock/inventory/inventory.module.ts"],"sourcesContent":["import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-inventory',\r\n  templateUrl: './inventory.component.html',\r\n  styleUrls: ['./inventory.component.scss']\r\n})\r\nexport class InventoryComponent implements OnInit {\r\n  visible_add: boolean = false; // biến này để show hoặc hide drawer\r\n  name_inventory: string = '';\r\n  inventory_times: any = [];\r\n  isVisible: boolean = false;\r\n  inventory_time_choose: any = '';\r\n  visible_edit: boolean = false;\r\n  open_status: boolean = false;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private nzModalService: NzModalService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n  ngOnDestroy() {\r\n  }\r\n  /**\r\n   * get danh sách đợt kiểm\r\n   */\r\n  getData() {\r\n    this.vhQuerySales.getInventorytimes().then((localInventorytimes: any) => {\r\n      this.open_status = true;\r\n      this.inventory_times = localInventorytimes.filter(item => item.id_branch == this.vhQuerySales.getDefaultBranch()._id).reverse();\r\n      \r\n    })\r\n\r\n  }\r\n  goBack() {\r\n    this.router.navigate([\"/sales/dashboard/manage/stock\"]);\r\n  }\r\n  /**\r\n   * đóng drawer tạo đợt kiểm\r\n   */\r\n  closeAdd() {\r\n    this.visible_add = false;\r\n    this.visible_edit = false;\r\n    this.name_inventory = \"\";\r\n  }\r\n  /**\r\n   * thêm đợt kiểm vào DB\r\n   */\r\n  addInventory() {\r\n    if (this.name_inventory.trim().length) {\r\n      let data = {\r\n        name: this.name_inventory,\r\n        date: new Date().toISOString(),\r\n        id_branch: this.vhQuerySales.getDefaultBranch()._id\r\n      }\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.addInventorytime(data).then(res => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.vhComponent.showToast(2000, this.languageService.translate(\"Inventory times has been created successfully\"), \"success-toast\");\r\n            this.visible_add = false;\r\n            this.name_inventory = \"\";\r\n            this.inventory_times.push(res)\r\n          })\r\n        })\r\n      })\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate('Name is required'), 'alert-toast')\r\n    }\r\n  }\r\n  /**\r\n   * mở drawer tạo đợt kiểm\r\n   */\r\n  showDrawer() {\r\n    this.visible_add = true;\r\n    this.name_inventory = \"\";\r\n  }\r\n  handleCancel() {\r\n    this.isVisible = false;\r\n  }\r\n  /**\r\n   * mở modal xóa đợt kiểm\r\n   */\r\n  showModal(item) {\r\n    this.isVisible = true;\r\n    this.inventory_time_choose = item;\r\n  }\r\n  /**\r\n   * mở modal cập nhật tên đợt kiểm\r\n   */\r\n  showModalEdit(item) {\r\n    this.name_inventory = item.name;\r\n    this.visible_edit = true;\r\n    this.inventory_time_choose = item;\r\n  }\r\n  /**\r\n   * cập nhật tên đợt kiểm lên DB\r\n   */\r\n  editInventory() {\r\n    if (this.name_inventory.trim().length) {\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.updateInventorytime(this.inventory_time_choose._id, { name: this.name_inventory }).then((res) => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.vhComponent.showToast(2000, this.languageService.translate(\"Updated successfully\"), \"success-toast\")\r\n            this.visible_edit = false;\r\n            this.inventory_time_choose.name = this.name_inventory\r\n            // this.name_inventory = \"\";\r\n            // this.getData();\r\n\r\n          })\r\n        })\r\n      })\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate('Name is required !'), 'alert-toast');\r\n    }\r\n  }\r\n  /**\r\n   * xóa đợt kiểm khỏi DB\r\n   */\r\n  deleteInventoryTimes() {\r\n    if (this.inventory_time_choose.balanced) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: this.languageService.translate(\"Đợt kiểm này đã được cân bằng! Không thể xóa\")\r\n      })\r\n    }\r\n    else\r\n      this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n        this.vhQuerySales.getBills_byFields({ bill_type: { $in: [13, 14] }, id_inventorytime: { $eq: this.inventory_time_choose._id } }, {}, {}, 1)\r\n          .then((bills: any) => {\r\n            \r\n            if (bills.length) {\r\n              this.vhComponent.hideLoading(0);\r\n              this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vui lòng xóa các phiếu kiểm trong đợt kiểm này trước!\"))\r\n            }\r\n            else {\r\n              this.vhQuerySales.deleteInventorytime(this.inventory_time_choose._id).then((res: any) => {\r\n                this.vhComponent.hideLoading(0).then(() => {\r\n                  if (res) {\r\n                    this.vhComponent.showToast(2000, this.languageService.translate(\"Inventory times has been cancelled successfully\"), \"success-toast\")\r\n                    this.isVisible = false;\r\n                    this.inventory_times = this.inventory_times.filter(item => item._id != this.inventory_time_choose._id)\r\n                    // this.getData()\r\n                  }\r\n                  else {\r\n                    this.vhComponent.showToast(2000, this.languageService.translate(\"Can't delete this inventory times\"), 'alert-toast')\r\n                  }\r\n                })\r\n              })\r\n            }\r\n          })\r\n      })\r\n  }\r\n  gotoDetail(item) {\r\n    this.router.navigate([\"/sales/dashboard/manage/stock/inventory/detail\"], { state: { inventory_times: item } })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"19\" class=\"title left-all-content\">\r\n            <b>{{'Inventory' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"5\" class=\"add-button\">\r\n            <button (click)=\"showDrawer()\" class=\"btn-add right-all-content\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/add.svg\"></ion-icon>\r\n                {{'Create new inventory times' | translate}}\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row class=\"hideScrollbar\" *ngIf=\"inventory_times.length && open_status\"\r\n        style=\"padding-top:20px;overflow-y: scroll;\">\r\n        <div class=\"list-inventory-times\" nz-col nzSpan=\"12\" *ngFor=\"let item of inventory_times\">\r\n            <nz-list style=\"width: 95%;\">\r\n                <nz-list-item>\r\n                    <ng-container>\r\n                        <div (click)=\"gotoDetail(item)\" style=\"width:95%\">\r\n                            <h2 class=\"ant-list-item-meta-description\">\r\n                                {{item.name}} \r\n                                <ng-container *ngIf=\"item.balanced\">\r\n                                    ({{'Balanced' | translate}})\r\n                                </ng-container>\r\n                                \r\n                            </h2>\r\n                            <h5 class=\"ant-list-item-meta-title\">{{\r\n                                (item.date.seconds? item.date.toDate() : item.date) | date:\r\n                                \"dd/MM/yy HH:mm\"}}\r\n                            </h5>\r\n                        </div>\r\n                        <ul nz-list-item-actions>\r\n                            <nz-list-item-action>\r\n                                <i (click)=\"showModalEdit(item)\" class=\"cus-icon\" nz-icon nzType=\"form\"\r\n                                    nzTheme=\"outline\"></i>\r\n                            </nz-list-item-action>\r\n                            <nz-list-item-action>\r\n                                <i class=\"cus-icon\" nz-icon nzType=\"delete\" nzTheme=\"outline\"\r\n                                    (click)=\"showModal(item)\"></i>\r\n                            </nz-list-item-action>\r\n                        </ul>\r\n                    </ng-container>\r\n                </nz-list-item>\r\n            </nz-list>\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"!inventory_times.length\">\r\n        <div nz-col nzSpan=\"24\" style=\"text-align: center;margin-top: 100px;\">\r\n            <div>{{'Not inventory times'| translate}}</div>\r\n        </div>\r\n    </div>\r\n    <nz-modal [(nzVisible)]=\"isVisible\" nzTitle=\"{{'Confirm'|translate}}\" nzCancelText=\"{{'Cancel' | translate}}\"\r\n        (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"deleteInventoryTimes()\">\r\n        <p *nzModalContent>{{'Do you want to delete inventory times ?'|translate}}</p>\r\n    </nz-modal>\r\n    <!----------------------------- Add inventory times ------------------------->\r\n    <nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"380\" [nzVisible]=\"visible_add\"\r\n        nzTitle=\"{{'Add inventory times' | translate}}\" [nzFooter]=\"footerAddInv\" (nzOnClose)=\"closeAdd()\">\r\n        <form nz-form *nzDrawerContent>\r\n            <div nz-row [nzGutter]=\"8\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Name inventory times' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <input [(ngModel)]=\"name_inventory\" [ngModelOptions]=\"{standalone: true}\" nz-input />\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <ng-template #footerAddInv>\r\n            <div style=\"float: right\">\r\n                <button nz-button class=\"btn-cancel\" style=\"margin-right: 8px;\" (click)=\"closeAdd()\">{{'Cancel' |\r\n                    translate}}</button>\r\n                <button class=\"btn-add\" nz-button (click)=\"addInventory()\">OK</button>\r\n            </div>\r\n        </ng-template>\r\n    </nz-drawer>\r\n    <!----------------------------- Edit inventory times ------------------------->\r\n    <nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"380\" [nzVisible]=\"visible_edit\"\r\n        nzTitle=\"{{'Edit inventory times' | translate}}\" [nzFooter]=\"footerEditInv\" (nzOnClose)=\"closeAdd()\">\r\n        <form nz-form *nzDrawerContent>\r\n            <div nz-row [nzGutter]=\"8\">\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div><b>{{'Name inventory times' | translate}}*</b></div>\r\n                    <nz-form-item>\r\n                        <nz-form-control>\r\n                            <input [(ngModel)]=\"name_inventory\" [ngModelOptions]=\"{standalone: true}\" nz-input />\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <ng-template #footerEditInv>\r\n            <div style=\"float: right\">\r\n                <button nz-button class=\"btn-cancel\" style=\"margin-right: 8px;\" (click)=\"closeAdd()\">{{'Cancel' |\r\n                    translate}}</button>\r\n                <button class=\"btn-add\" nz-button (click)=\"editInventory()\">OK</button>\r\n            </div>\r\n        </ng-template>\r\n    </nz-drawer>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InventoryComponent } from './inventory.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: InventoryComponent\r\n  },\r\n  {\r\n    path: \"detail\",\r\n    loadChildren: () => import(\"./detail/detail.module\").then(m => m.DetailModule)\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [InventoryComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    NgZorroAntModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    FormsModule\r\n  ]\r\n})\r\nexport class InventoryModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}