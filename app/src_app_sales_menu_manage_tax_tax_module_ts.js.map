{"version":3,"file":"src_app_sales_menu_manage_tax_tax_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/tax/tax.component.ts","./src/app/sales/menu/manage/tax/tax.component.html","./src/app/sales/menu/manage/tax/tax.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-tax',\r\n  templateUrl: './tax.component.html',\r\n  styleUrls: ['./tax.component.scss']\r\n})\r\nexport class TaxComponent implements OnInit {\r\n  addTax: any = {}\r\n  taxList: any = [];\r\n  observableTaxs: any\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent\r\n  ) { }\r\n\r\n  ngOnInit() { this.getData() }\r\n  ngOnDestroy() {\r\n    this.observableTaxs.unsubscribe()\r\n  }\r\n  /**\r\n   * get danh sách thuế mới nhất\r\n   */\r\n  getData() {\r\n    this.observableTaxs = this.vhQuerySales.getObservableLocalTaxs().subscribe((localTaxs: any) => {\r\n      \r\n      this.taxList = localTaxs\r\n    })\r\n  }\r\n\r\n  /**\r\n   * kiểm tra giá trị thuế nhập vào hợp lệ hay ko\r\n   */\r\n  checkValue() {\r\n    if (parseFloat(this.addTax.value) < 0 || parseFloat(this.addTax.value) > 100) {\r\n      document.getElementById('tax-value-add')['value'] = 0\r\n      this.vhComponent.showToast(2000, this.languageService.translate('The tax value must be <=100'), 'alert-toast')\r\n    }\r\n    if (parseFloat(this.editTax.value) < 0 || parseFloat(this.editTax.value) > 100) {\r\n      document.getElementById('tax-value-edit')['value'] = 0\r\n      this.vhComponent.showToast(2000, this.languageService.translate('The tax value must be <=100'), 'alert-toast')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * tạo thuế lên DB\r\n   */\r\n  creatTax() {\r\n    if (this.addTax.name != '' && parseFloat(this.addTax.value) >= 0) {\r\n      this.vhQuerySales\r\n        .addTax(this.addTax)\r\n        .then((res) => {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Tax has been added successfully\"), \"success-toast\");\r\n          this.closeAdd()\r\n        }, error => {\r\n          this.vhComponent.showToast(2000, this.languageService.translate(\"Tax has been added failed\"), \"alert-toast\");\r\n        })\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Please enter tax name, tax value\"), \"alert-toast\")\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * xóa thuế\r\n   */\r\n  deleteTax(item) {\r\n    if (!item.default) {\r\n      this.vhComponent\r\n        .alertConfirm(this.languageService.translate(\"Confirm\"), \"\",\r\n          this.languageService.translate(\"Are you sure to delete this tax?\"), \"OK\",\r\n          this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.deleteTax(item._id)\r\n              .then(bool => {\r\n                if (bool) {\r\n                  this.vhComponent.hideLoading(0).then(() => {\r\n                    this.vhComponent.showToast(2000, this.languageService.translate(\"Tax has been deleted successfully\"), \"success-toast\");\r\n                  });\r\n                } else {\r\n                  this.vhComponent.hideLoading(0).then(() => this.vhComponent.showToast(2000, this.languageService.translate(\"Can't delete this tax\"), \"alert-toast\"));\r\n                }\r\n              });\r\n          });\r\n\r\n        })\r\n        .catch(() => { })\r\n    } else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Can't delete this default tax\"), \"alert-toast\");\r\n    }\r\n\r\n  }\r\n  /**\r\n   * bắt sk nhấn lưu thuế ở modal cập nhật thuế\r\n   */\r\n  update() {\r\n    if (this.editTax.name != '' && parseFloat(this.editTax.value) >= 0)\r\n      this.vhQuerySales.updateTax(this.editTax._id, this.editTax).then(() => {\r\n        this.closeEdit()\r\n      })\r\n    else {\r\n      this.vhComponent.showToast(2000, this.languageService.translate(\"Please enter tax name, tax value\"), \"alert-toast\")\r\n    }\r\n  }\r\n  /**\r\n   * cập nhật trường default cho thuế đươc chọn, update lại default = false cho các thuế khác\r\n   */\r\n  setDefault(item) {\r\n    let index = this.taxList.findIndex(item => item.default)\r\n    if (index != -1) {\r\n      this.taxList[index].default = false;\r\n      item.default = true; item.status = true;\r\n      Promise.all([this.vhQuerySales.updateTax(item._id, item), this.vhQuerySales.updateTax(this.taxList[index]._id, this.taxList[index])])\r\n        .then(res => {\r\n          this.vhComponent.showToast(1500, this.languageService.translate(\"Tax\") + \" \" + item.name + \" \" + this.languageService.translate(\"has been set default successfully\"), \"success-toast\")\r\n        })\r\n    } else {\r\n      item.default = true; item.status = true;\r\n      this.vhQuerySales.updateTax(item._id, item)\r\n    }\r\n  }\r\n  /**\r\n   * cập nhật trường status cho thuế được chọn\r\n   * @param item \r\n   * @param value \r\n   */\r\n  updateToggle(item, value) {\r\n    if (item.default) item.status = true\r\n    else {\r\n      item.status = value\r\n      this.vhQuerySales.updateTax(item._id, item)\r\n    }\r\n  }\r\n\r\n  /*----Add tax----*/\r\n  visible_add = false; //biến cờ trạng thái show/hide popup thêm thuế\r\n  \r\n  /**\r\n   * mở modal add thuế\r\n   */\r\n  openAdd(): void {\r\n    this.visible_add = true;\r\n    this.addTax = { name: '', value: '' }\r\n  }\r\n  /**\r\n   * đóng modal add thuế\r\n   */\r\n  closeAdd(): void {\r\n    this.visible_add = false;\r\n  }\r\n\r\n  /** ----Edit category product----- */\r\n  visible_detail = false;\r\n  editTax: any = {};\r\n  \r\n  /**\r\n   * mở modal cập nhật thuế\r\n   */\r\n  openEdit(item): void {\r\n    this.visible_detail = true;\r\n    this.editTax = { ...item }\r\n  }\r\n  /**\r\n   * đóng modal cập nhật thuế\r\n   */\r\n  closeEdit(): void {\r\n    this.visible_detail = false;\r\n  }\r\n}\r\n","<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"21\" class=\"title left-all-content\">\r\n            <b>{{'Tax'|translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"3\" class=\"add-button\">\r\n            <button class=\"btn-add center-all-content\" nz-button nzType=\"default\" (click)=\"openAdd()\">\r\n        <ion-icon style=\"color: var(--ion-color-vh-white);\" src=\"assets/icon/add.svg\"></ion-icon>\r\n        {{'Add'|translate}}\r\n      </button>\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"taxList\">\r\n        <div nz-col nzSpan=\"12\" *ngFor=\"let item of taxList\">\r\n            <nz-list style=\"width: 95%;\">\r\n                <nz-list-item style=\"cursor: pointer;\">\r\n                    <ng-container>\r\n                        <nz-list-item-meta-title style=\"width:95%;overflow: hidden;\">\r\n                            <b>{{item.name |slice : 0 : 100}} {{item.name.length>100 ? \"...\" : \"\"}}</b> - <span>{{item.value}}</span>%\r\n                            <div class=\"quantity\">\r\n                                <!-- <div nz-col nzSpan=\"24\" *ngIf=\"item.default\">\r\n                                    <label style=\"color: var(--ion-color-vh-green); font-weight: bold;\">{{'Default' |translate}}</label>\r\n                                </div> -->\r\n                                <div nz-col nzSpan=\"24\">\r\n                                    <label nz-radio (ngModelChange)=\"setDefault(item)\" [(ngModel)]=\"item.default\">{{'Set default' |\r\n                    translate}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </nz-list-item-meta-title>\r\n                        <ul nz-list-item-actions>\r\n                            <nz-list-item-action>\r\n                                <nz-switch [(ngModel)]=\"item.status\" [disabled]=\"item.default\" (ngModelChange)=\"updateToggle(item, $event)\"></nz-switch>\r\n                            </nz-list-item-action>\r\n                            <nz-list-item-action>\r\n                                <i class=\"cus-icon\" nz-icon nzType=\"form\" nzTheme=\"outline\" (click)=\"openEdit(item)\"></i>\r\n                            </nz-list-item-action>\r\n                            <nz-list-item-action>\r\n                                <i class=\"cus-icon\" nz-icon nzType=\"delete\" nzTheme=\"outline\" (click)=\"deleteTax(item)\"></i>\r\n                            </nz-list-item-action>\r\n                        </ul>\r\n                    </ng-container>\r\n                </nz-list-item>\r\n                <nz-divider></nz-divider>\r\n            </nz-list>\r\n\r\n        </div>\r\n    </div>\r\n    <div nz-row *ngIf=\"!taxList\">\r\n        <div nz-col nzSpan=\"24\" style=\"text-align: center;margin-top: 100px;\">\r\n            <div>{{'Not tax yet'| translate}}</div>\r\n        </div>\r\n    </div>\r\n    <div>\r\n\r\n    </div>\r\n</nz-layout>\r\n\r\n\r\n<!----------------------------- Add category product ------------------------->\r\n<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"false\" [nzWidth]=\"380\" [nzVisible]=\"visible_add\" nzTitle=\"{{'Add tax' | translate}}\" [nzFooter]=\"footerTplAdd\" (nzOnClose)=\"closeAdd()\">\r\n    <div *nzDrawerContent>\r\n        <div nz-row [nzGutter]=\"8\" class=\"medium-size\" style=\"padding-bottom: 8px;\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class=\"medium-size\">{{'Tax name' | translate}}*</b></div>\r\n                <input type=\"text\" [(ngModel)]=\"addTax.name\" nz-input placeholder=\"{{'Enter tax name' | translate}}\" />\r\n            </div>\r\n        </div>\r\n        <div nz-row [nzGutter]=\"8\" class=\"medium-size\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class=\"medium-size\">{{'Tax value' | translate}}*</b></div>\r\n                <input (keyup)=\"checkValue()\" id=\"tax-value-add\" type=\"number\" [(ngModel)]=\"addTax.value\" nz-input placeholder=\"{{'Enter tax value' | translate}}\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <ng-template #footerTplAdd>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"btn-cancel medium-size\" style=\"margin-right: 8px;\" (click)=\"closeAdd()\">{{'Cancel'\r\n        |translate}}</button>\r\n            <button (click)=\"creatTax()\" class=\"btn-add medium-size\" nz-button>OK</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>\r\n\r\n<!----------------------------- Edit category product ------------------------->\r\n<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"false\" [nzWidth]=\"380\" [nzVisible]=\"visible_detail\" nzTitle=\"{{'Edit tax' | translate}}\" [nzFooter]=\"footerTplDetail\" (nzOnClose)=\"closeEdit()\">\r\n    <div *nzDrawerContent>\r\n        <div nz-row [nzGutter]=\"8\" class=\"medium-size\" style=\"padding-bottom: 8px;\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class=\"medium-size\">{{'Tax name' | translate}}*</b></div>\r\n                <input type=\"text\" [(ngModel)]=\"editTax.name\" nz-input placeholder=\"{{'Enter tax name' | translate}}\" />\r\n            </div>\r\n        </div>\r\n        <div nz-row [nzGutter]=\"8\" class=\"medium-size\" style=\"padding-bottom: 16px;\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class=\"medium-size\">{{'Tax value' | translate}}*</b></div>\r\n                <input (keyup)=\"checkValue()\" id=\"tax-value-edit\" type=\"number\" [(ngModel)]=\"editTax.value\" nz-input placeholder=\"{{'Enter tax value' | translate}}\" />\r\n            </div>\r\n        </div>\r\n        <!-- <div nz-row [nzGutter]=\"8\" class=\"medium-size\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <label nz-checkbox [(ngModel)]=\"editTax.default\">{{'Set default' | translate}}</label>\r\n      </div>\r\n    </div> -->\r\n    </div>\r\n    <ng-template #footerTplDetail>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"btn-cancel medium-size\" style=\"margin-right: 8px;\" (click)=\"closeEdit()\">{{'Cancel'|translate}}</button>\r\n            <button (click)=\"update()\" class=\"btn-add medium-size\" nz-button>OK</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TaxComponent } from './tax.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: TaxComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [TaxComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgZorroAntModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    FormsModule,\r\n    IonicModule\r\n  ]\r\n})\r\nexport class TaxModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}