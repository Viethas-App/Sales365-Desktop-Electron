{"version":3,"file":"src_app_sales_menu_manage_warranty_receipt-quote_detail_detail_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/warranty/receipt-quote/detail/detail.component.ts","./src/app/sales/menu/manage/warranty/receipt-quote/detail/detail.component.html","./src/app/sales/menu/manage/warranty/receipt-quote/detail/detail.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { ReceiptsQuoteA4Component } from 'src/app/sales/components/print/receipts-quote/receipts-quote-a4/receipts-quote-a4.component';\r\nimport { ReceiptsQuoteA5Component } from 'src/app/sales/components/print/receipts-quote/receipts-quote-a5/receipts-quote-a5.component';\r\nimport { ReceiptsQuoteK57Col3Component } from 'src/app/sales/components/print/receipts-quote/receipts-quote-k57-col3/receipts-quote-k57-col3.component';\r\nimport { ReceiptsQuoteK80Col3Component } from 'src/app/sales/components/print/receipts-quote/receipts-quote-k80-col3/receipts-quote-k80-col3.component';\r\nimport { ReceiptsQuoteK80Col4Component } from 'src/app/sales/components/print/receipts-quote/receipts-quote-k80-col4/receipts-quote-k80-col4.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhQuoteReceipt, VhQuoteReceiptDetail, VhQuoteReceipts, VhWarrantyQuote } from 'src/app/sales/interface/vh-quote-receipt';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n  display_promotion_selling_price: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  tableHeight: string;\r\n  radioValue: number = 18;\r\n  public invoiceInfo: any;\r\n  public invoice: VhQuoteReceipts\r\n  public dataFromList: any = this.router.getCurrentNavigation().extras.state;\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuery: VhQuery,\r\n    private cdRef: ChangeDetectorRef,\r\n    private fncService:FunctionService\r\n  ) {\r\n    this.getDataInvoice(this.dataFromList.id)\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * gán bill và bill-detail get được vào biến và get các thông tin của nv, khách hàng, phương thức thanh toán\r\n   * @example this.init(bill, bill-deails)\r\n   */\r\n  init(invoice: VhQuoteReceipt = null, invoiceDetail: VhQuoteReceiptDetail[] = null, warranty: VhWarrantyQuote[] = null) {\r\n    this.invoice = new VhQuoteReceipts(invoice, invoiceDetail, warranty);\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        receptionist: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        technician: this.vhAuth.getlocalEmployee(this.invoice.getIdTechnician()),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType()),\r\n      }\r\n    } else this.invoiceInfo = { receptionist: {}, technician: {}, partner: {}, paymentName: '' }\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu bill từ DB\r\n   * @param id : nhận từ state truyền qua\r\n   * @example this.getDataInvoice('DHIWHNXDIWODUHIWDHOWID')\r\n   */\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id),\r\n        this.vhQuerySales.getWarrantys_byFields({id_bill :{$eq: id }})\r\n      ]).then(([invoice, invoiceDetail,warranty]: any) => {\r\n       \r\n        this.init(invoice, invoiceDetail, warranty)\r\n        this.radioValue = this.invoice.getBillType();\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n  \r\n  /**\r\n   * trả về tên unit của sản phẩm theo ratio truyền vào\r\n   * @param units \r\n   * @param ratio \r\n   * @returns string\r\n   * @example let unit_name = this.getUnit([object], 1)\r\n   */\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units, ratio).unit\r\n  }\r\n\r\n  /**\r\n   * trả về chuỗi thông tin lô theo id lô truyền vào\r\n   * @param lots \r\n   * @param _id \r\n   * @returns string\r\n   * @example let lot = this.getLotNumber([], 'DNIWUHNDKLJWHDIWUOH')\r\n   */\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' + this.fncService.formatDate(lot.date_exp)\r\n  } \r\n\r\n  /**\r\n   * chuyển qua trang tạo đơn bảo hành\r\n   */\r\n  public exportInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"warranty_enable_export_receipt\")) {\r\n      let id_receipt = this.invoice.getID()\r\n      let invoice = this.invoice.getCreateUpdateInvoice(null)\r\n      delete invoice.date_reminder; delete invoice.date_schedule; delete invoice._id\r\n      \r\n      \r\n      this.router.navigate(['/sales/dashboard/manage/warranty/receipt-quote/export-cart'], { state: { invoice: invoice, invoiceDetail: this.invoice.getInvoiceDetail(), warrantyProd: this.invoice.getWarrantyProd() , warrantyNote :this.invoice.getWarrantyNote(), id_receipt } })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  /**\r\n   * xóa hóa đơn lên DB\r\n   * @example this.deleteInvoice()\r\n   */\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"warranty_enable_cancel_receipt\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the sales invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.deleteBill_Billdetail(this.invoice.getID()).then(() => {\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.vhComponent.showToast(2000,\r\n                  `${this.languageService.translate(\"Warranty, repair receipts\")} ${this.invoice.getBillCode()} ${this.languageService.translate(\"has been cancelled successfully\")}`, \"success-toast\")\r\n                this.router.navigate(['/sales/dashboard/manage/warranty/receipt-quote'], { state: this.dataFromList.dataRestore })\r\n              })\r\n            })\r\n          })\r\n        }, () => { })\r\n    }\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  /**\r\n   * trả về tên phương thức thanh toán\r\n   * @param type \r\n   * @returns string\r\n   * @example this.setPaymentName(1)\r\n   */\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  /**\r\n   * trả về chuỗi thông tin địa chỉ của customer\r\n   * @param partner \r\n   * @returns string\r\n   * @example let addr = this.renderAddress(customer_info)\r\n   */\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public goToCart() {\r\n    // let dataRestore = { searchValue: this.searchValue, filterType: this.filterType, startTime: this.startTime, endTime: this.endTime, selectedIndex: this.selectedIndex }\r\n    if (this.vhAuth.checkMyPermission(\"warranty_enable_edit_receipt\")) {\r\n      this.router.navigate(['/sales/dashboard/manage/warranty/receipt-quote/add'], { state: { invoiceDetail: this.invoice.getInvoiceDetail(), invoice: this.invoice.getCreateUpdateInvoice(), warranty: this.invoice.getWarranty(), dataRestore: this.dataFromList.dataRestore } })\r\n    } else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_warranty')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(\"No\")\r\n    })\r\n  }\r\n\r\n  /**\r\n   * kiểm tra thông tin dữ liệu trang in và mở component in\r\n   * @example this.printInvoice()\r\n   */\r\n  printInvoice() {\r\n    this.checkPrint().then((printer) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: printer , invoice: this.invoice }, false, false, `modal-print-${printer['_id']}`)\r\n    }, (err) => {\r\n      this.vhComponent.alertMessage(this.languageService.translate(\"Function\"), \"\", this.languageService.translate(\"Please turn on the printer function\"), \"OK\")\r\n        \r\n    })\r\n  }\r\n  \r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ReceiptsQuoteK57Col3Component\r\n      case 'print_size_k80_3c': return ReceiptsQuoteK80Col3Component\r\n      case 'print_size_k80_4c': return ReceiptsQuoteK80Col4Component\r\n      case 'print_size_a5': return ReceiptsQuoteA5Component\r\n      case 'print_size_a4': return ReceiptsQuoteA4Component\r\n      default: return ReceiptsQuoteA4Component\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/warranty/receipt-quote'], { state: this.dataFromList.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".sales-best-selling\") && document.querySelector(\".waranty-invoice-quote-header\") && document.querySelector(\".ant-table-thead\") ) {\r\n      this.tableHeight = document.querySelector(\".sales-best-selling\").clientHeight\r\n        - document.querySelector(\".waranty-invoice-quote-header\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - 55 + \"px\"\r\n    }\r\n    if (document.getElementById(\"waranty-invoice-prodAndnote-invoiceDetail\") && document.querySelector(\".sales-cart\") && document.querySelector(\".sales-cart-header\")) {\r\n      document.getElementById(\"waranty-invoice-prodAndnote-invoiceDetail\").style.height = document.querySelector(\".sales-cart\").clientHeight - document.querySelector(\".sales-cart-header\").clientHeight - 10 + 'px';\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  isVisibleChangeState: boolean = false;\r\n  /**\r\n   * mở modal chọn đổi trạng thải biên nhận \r\n   */\r\n  visibleChangeState() {\r\n    if (this.vhAuth.checkMyPermission(\"warranty_enable_change_receipt\")) this.isVisibleChangeState = true\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  /**\r\n   * đóng modal chọn đổi trạng thải biên nhận \r\n   */\r\n  handleCancelChangeState() {\r\n    this.isVisibleChangeState = false;\r\n  }\r\n  /**\r\n   * cập nhật trạng thải biên nhận \r\n   */\r\n  handleOkChangeState() {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n\t\tthis.vhQuerySales.changeStateWarranty_Bill_Billdetail(this.invoice.getID(), this.radioValue).then(() => {\r\n\t\t\tthis.vhComponent.hideLoading().then(() => this.router.navigate(['/sales/dashboard/manage/warranty/receipt-quote'], { state: this.dataFromList.dataRestore }))\r\n\t\t  })\r\n    })\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n  <div class=\"sales\">\r\n    <div class=\"sales-cart\">\r\n      <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n        <div nz-col nzSpan=\"12\" class=\"title sales-cart-header-title\">\r\n          <b>{{\"_Receipt\" | translate}} {{invoice.getBillCode()}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"12\" class=\"right-all-content\">\r\n          <div>\r\n            <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n              <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n              {{'Print' | translate}}\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <button (click)=\"goToCart()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n              <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/Iconfeather-edit.svg\"></ion-icon>\r\n              {{'Edit' | translate}}\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <button (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n              <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n              {{'Delete' | translate}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div id=\"waranty-invoice-prodAndnote-invoiceDetail\"\r\n          class=\"waranty-invoice-prodAndnote-invoiceDetail hideScrollbar\" nz-col nzSpan=\"24\">\r\n          <div nz-row>\r\n            <div nz-col class=\"search-product-warrany\" nzSpan=\"24\">\r\n              <div>\r\n                <h5>{{\"Warranty, repair products\"|translate}}</h5>\r\n              </div>\r\n              <div>\r\n              </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n              <div class=\"hideScrollbar waranty-invoice-prod-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getWarrantyProd()\">\r\n                  <div nz-row>\r\n                    <div nz-col nzSpan=\"20\" class=\"invoiceDetail-item-content\">\r\n                      {{item.content}}\r\n                    </div>\r\n                    <div style=\"font-weight: bold;\" nz-col nzSpan=\"4\" class=\"ion-text-end invoiceDetail-item-quantity\">\r\n                      {{\"Quantity\" | translate}}: {{item.quantity}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div nz-col class=\"search-product-warrany\" nzSpan=\"24\">\r\n              <h5>{{\"Note\"|translate}}</h5>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n              <div class=\"hideScrollbar waranty-invoice-prod-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getWarrantyNote()\">\r\n                  <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-col\">\r\n                      {{item.content}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-best-selling\">\r\n      <div nz-row class=\"waranty-invoice-quote\">\r\n        <div class=\"waranty-invoice-quote-header\" nz-col nzSpan=\"24\">\r\n          <h5>{{\"Quote\" | translate}}</h5>\r\n        </div>\r\n        <div nz-col nzSpan=\"24\">\r\n          <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n            <div class=\"invoiceDetail-item\">\r\n              <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\" [nzShowPagination]=\"false\">\r\n                <thead>\r\n                  <tr>\r\n                    <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                    <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <ng-container *ngFor=\"let item of rowSelectionTable.data\" >\r\n                    <ng-container *ngIf=\"item.id_promotion\">\r\n                      <tr style=\"cursor: pointer;\">\r\n                        <td colspan=\"5\"><b>{{item.name}}</b></td>\r\n                      </tr>\r\n                      <tr style=\"cursor: pointer;\"  *ngFor=\"let data of item.products\">\r\n                        <td>{{data.name}} <br>\r\n                          <ng-container *ngIf=\"data.lots\">\r\n                            <pre>{{getLotNumber(data.lots, data.id_lotproduct)}}</pre> <br>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"data.combos\">\r\n                            <span class=\"sub-name\"  *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}}), </span>\r\n                          </ng-container>\r\n                        </td>\r\n                        <td nzAlign='center'>\r\n                          {{getUnit(data.units, data.ratio)}}\r\n                        </td>\r\n                        <td nzAlign='center'>{{data.quantity}}</td>\r\n                        <td nzAlign='right'>\r\n                          {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                          <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                            {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                          </del>\r\n                        </td>\r\n                        <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                      </tr>\r\n                      <tr style=\"cursor: pointer;\"  *ngFor=\"let data of item.products_gift\">\r\n                        <td>{{data.name}} <i>({{'Gift' | translate}})</i><br>\r\n                          <ng-container *ngIf=\"data.lots\">\r\n                            {{getLotNumber(data.lots, data.id_lotproduct)}} <br>\r\n                          </ng-container>\r\n                          <ng-container *ngIf=\"data.combos\">\r\n                            <span class=\"sub-name\"  *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}}), </span>\r\n                          </ng-container>\r\n                        </td>\r\n                        <td nzAlign='center'>\r\n                          {{getUnit(data.units, data.ratio)}}\r\n                        </td>\r\n                        <td nzAlign='center'>{{data.quantity}}</td>\r\n                        <td nzAlign='right'>\r\n                          {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                          <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                            {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                          </del>\r\n                        </td>\r\n                        <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                      </tr>\r\n                    </ng-container>\r\n                    \r\n                    <tr style=\"cursor: pointer;\" *ngIf=\"!item.id_promotion\">\r\n                      <td>{{item.name}} \r\n                        <ng-container *ngIf=\"item.id_lotproduct\">\r\n                          <pre>{{getLotNumber(item.lots, item.id_lotproduct)}} </pre>\r\n                        </ng-container>\r\n                         \r\n                        <ng-container *ngIf=\"item.combos\">\r\n                          <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">{{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}}), </span>\r\n                        </ng-container>\r\n    \r\n                      </td>\r\n                      <td nzAlign='center'>\r\n                        {{getUnit(item.units, item.ratio)}}\r\n                      </td>\r\n                      <td nzAlign='center'>{{item.quantity}}</td>\r\n                      <td nzAlign='right'>\r\n                        {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                        <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                          {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                        </del>\r\n                      </td>\r\n                      <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b></td>\r\n                    </tr>\r\n                  </ng-container>\r\n                </tbody>\r\n              </nz-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-bills not-continue-sell\">\r\n      <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n        <div>\r\n          <b>{{'Receptionist' | translate}}</b>\r\n          <div>{{invoiceInfo.receptionist.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Technician' | translate}}</b>\r\n          <div>{{invoiceInfo.technician.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Issued date' | translate}}</b>\r\n          <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Date reminder' | translate}}</b>\r\n          <div>{{invoice.getDateReminder() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Date schedule' | translate}}</b>\r\n          <div>{{invoice.getDateSchedule() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n        <b>{{'Customer information' | translate}}</b>\r\n        <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{renderAddress(invoiceInfo.partner)}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.getRetailName()\" nz-col nzSpan=\"24\">\r\n          {{invoice.getRetailName()}} - {{invoice.getRetailPhone()}} {{invoice.getRetailAddress() ? '-':\r\n          ''}} {{invoice.getRetailAddress()}}\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n        <b>{{'Payment information' | translate}}</b>\r\n        <div nz-col nzSpan=\"24\">\r\n          <span>{{'SubTotal' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n          <span>{{'Discount value' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n          <span>{{'Fee' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n          <span>{{'Tax' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n          <div>\r\n            {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <span>{{'Total' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n        </div>\r\n        <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n          <span>{{'Pay' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n        </div>\r\n        <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n          <span>{{'Rest' | translate}}</span>\r\n          <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() -\r\n            invoice.getPayment())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n          <span>{{'Payment method' | translate}}</span>\r\n          <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n        </div>\r\n      </div>\r\n      <div nz-row class=\"sales-bills-button\">\r\n        <button (click)=\"visibleChangeState()\" nz-button class=\"order-and-print\">\r\n          {{'Change receipt status' | translate}}\r\n        </button>\r\n        <button (click)=\"exportInvoice()\" nz-button class=\"order\">\r\n          {{'Create warranty invoice' | translate}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>\r\n<!--modal change state-->\r\n<nz-modal [(nzVisible)]=\"isVisibleChangeState\" nzTitle=\"{{'State transition' | translate}}\"\r\n  (nzOnCancel)=\"handleCancelChangeState()\" [nzFooter]=\"modalFooterState\" (nzOnOk)=\"handleOkChangeState()\">\r\n  <ng-container *nzModalContent>\r\n    <nz-radio-group class=\"custom-modal-change\" [(ngModel)]=\"radioValue\">\r\n      <label nz-radio [nzValue]=18>{{'No process' | translate}}</label>\r\n      <label nz-radio [nzValue]=19>{{'Processing' | translate}}</label>\r\n      <label nz-radio [nzValue]=20>{{'Completed' | translate}}</label>\r\n      <label nz-radio [nzValue]=21>{{'Delivered' | translate}}</label>\r\n    </nz-radio-group>\r\n  </ng-container>\r\n  <ng-template #modalFooterState>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n      (click)=\"handleCancelChangeState()\">{{\"Cancel\"|translate}}</button>\r\n    <button nz-button class=\"nz-hover-border\"\r\n      style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\" (click)=\"handleOkChangeState()\">OK</button>\r\n  </ng-template>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DetailComponent } from './detail.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetailComponent\r\n  }\r\n]\r\n\r\n\r\n@NgModule({\r\n  declarations: [DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule\r\n  ]\r\n})\r\nexport class DetailModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}