{"version":3,"file":"src_app_sales_menu_manage_warranty_schedule_schedule_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/warranty/schedule/detail/detail.component.ts","./src/app/sales/menu/manage/warranty/schedule/detail/detail.component.html","./src/app/sales/menu/manage/warranty/schedule/schedule.component.ts","./src/app/sales/menu/manage/warranty/schedule/schedule.component.html","./src/app/sales/menu/manage/warranty/schedule/schedule.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhQuoteReceipt, VhQuoteReceiptDetail, VhQuoteReceipts, VhWarrantyQuote } from 'src/app/sales/interface/vh-quote-receipt';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-detail',\r\n  templateUrl: './detail.component.html',\r\n  styleUrls: ['./detail.component.scss']\r\n})\r\nexport class DetailComponent {\r\n\r\n  public invoiceInfo: any;\r\n  public invoice: VhQuoteReceipts\r\n  constructor(\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state)\r\n\r\n    this.init()\r\n  }\r\n\r\n  /**\r\n   * gán bill và bill-detail get được vào biến và get các thông tin của nv, khách hàng, phương thức thanh toán\r\n   * @example this.init(bill, bill-deails)\r\n   */\r\n  init(invoice: VhQuoteReceipt = null, invoiceDetail: VhQuoteReceiptDetail[] = null, warranty: VhWarrantyQuote[] = null) {\r\n    this.invoice = new VhQuoteReceipts(invoice, invoiceDetail, warranty)\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        receptionist: this.vhAuth.getlocalEmployee(this.invoice.getIdEmployee()),\r\n        technician: this.vhAuth.getlocalEmployee(this.invoice.getIdTechnician()),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.getIdPartner()),\r\n        paymentName: this.setPaymentName(this.invoice.getPaymentType()),\r\n      }\r\n    } else this.invoiceInfo = { receptionist: {}, technician: {}, partner: {}, paymentName: '' };\r\n  }\r\n\r\n  /**\r\n   * get dữ liệu bill từ DB\r\n   * @param id : nhận từ state truyền qua\r\n   * @example this.getDataInvoice('DHIWHNXDIWODUHIWDHOWID')\r\n   */\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id),\r\n        this.vhQuerySales.getWarrantys_byFields({id_bill :{$eq: id }})\r\n      ]).then(([invoice, invoiceDetail,warranty]: any) => {\r\n        let invoiceDetailFresh: VhQuoteReceiptDetail[] = invoiceDetail.map(item => {\r\n          let name = this.vhQuerySales.getlocalProduct(item.id_product).name\r\n          return { ...item, name: name ? name : this.languageService.translate('Not found') }\r\n        })\r\n        this.init(invoice, invoiceDetailFresh, warranty)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  type: 'show' | 'hide' = 'hide'\r\n  cssClass: string;\r\n\r\n\r\n  /**\r\n   * trả về tên phương thức thanh toán\r\n   * @param type \r\n   * @returns string\r\n   * @example this.setPaymentName(1)\r\n   */\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.getIdWallet()).name\r\n    }\r\n  }\r\n  /**\r\n   * trả về chuỗi thông tin địa chỉ của customer\r\n   * @param partner \r\n   * @returns string\r\n   * @example let addr = this.renderAddress(customer_info)\r\n   */\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/warranty/schedule']);\r\n  }\r\n  tableHeight: any;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".sales-best-selling\") && document.querySelector(\".waranty-invoice-quote-header\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\".sales-best-selling\").clientHeight\r\n        - document.querySelector(\".waranty-invoice-quote-header\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".ant-table-pagination\").clientHeight - 35 + \"px\"\r\n    }\r\n    if (document.getElementById(\"waranty-invoice-prodAndnote-invoiceDetail\") && document.querySelector(\".sales-cart\") && document.querySelector(\".sales-cart-header\")) {\r\n      document.getElementById(\"waranty-invoice-prodAndnote-invoiceDetail\").style.height = document.querySelector(\".sales-cart\").clientHeight - document.querySelector(\".sales-cart-header\").clientHeight - 10 + 'px';\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n  <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n</div>\r\n\r\n<nz-layout>\r\n  <div class=\"sales\">\r\n    <div class=\"sales-cart\">\r\n      <div class=\"sales-cart-header\" nz-row [nzGutter]=\"16\">\r\n        <div nz-col nzSpan=\"24\" class=\"title sales-cart-header-title\">\r\n          <b>{{\"_Receipt\" | translate}} {{invoice.getBillCode()}}</b>\r\n        </div>\r\n        <div id=\"waranty-invoice-prodAndnote-invoiceDetail\"\r\n          class=\"waranty-invoice-prodAndnote-invoiceDetail hideScrollbar\" nz-col nzSpan=\"24\">\r\n          <div nz-row>\r\n            <div nz-col class=\"search-product-warrany\" nzSpan=\"24\">\r\n              <div>\r\n                <h5>{{\"Warranty, repair products\"|translate}}</h5>\r\n              </div>\r\n              <div>\r\n              </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n              <div class=\"hideScrollbar waranty-invoice-prod-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getWarrantyProd()\">\r\n                  <div nz-row>\r\n                    <div nz-col nzSpan=\"20\" class=\"center-col\">\r\n                      <p class=\"max-width-two-line\">{{item.content}}</p>\r\n                    </div>\r\n                    <div style=\"font-weight: bold;\" nz-col nzSpan=\"4\" class=\"ion-text-end\">\r\n                      {{\"Quantity\" | translate}}: {{item.quantity}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div nz-col class=\"search-product-warrany\" nzSpan=\"24\">\r\n              <h5>{{\"Note\"|translate}}</h5>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n              <div class=\"hideScrollbar waranty-invoice-prod-invoiceDetail\">\r\n                <div class=\"invoiceDetail-item\" *ngFor=\"let item of invoice.getWarrantyNote()\">\r\n                  <div nz-row>\r\n                    <div nz-col nzSpan=\"24\" class=\"center-col\">\r\n                      {{item.content}}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-best-selling\">\r\n      <div nz-row class=\"waranty-invoice-quote\">\r\n        <div class=\"waranty-invoice-quote-header\" nz-col nzSpan=\"24\">\r\n          <h5>{{\"Quote\" | translate}}</h5>\r\n        </div>\r\n        <div nz-col nzSpan=\"24\">\r\n          <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n            <div class=\"invoiceDetail-item\">\r\n              <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice.getInvoiceDetail()\" #rowSelectionTable\r\n                nzShowSizeChanger nzNoResult=\"{{'No data' | translate}}\">\r\n                <thead>\r\n                  <tr>\r\n                    <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                    <th nzWidth=\"25%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let item of rowSelectionTable.data\" style=\"cursor: pointer;\">\r\n                    <td>{{item.name}}</td>\r\n                    <td nzAlign='center'>{{item.quantity}}</td>\r\n                    <td nzAlign='right'>\r\n                      {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                      <del style=\"font-size: 0.7rem;\">\r\n                        {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                      </del>\r\n                    </td>\r\n                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b></td>\r\n                  </tr>\r\n                </tbody>\r\n              </nz-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sales-bills not-continue-sell\">\r\n      <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n        <div>\r\n          <b>{{'Receptionist' | translate}}</b>\r\n          <div>{{invoiceInfo.receptionist.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Technician' | translate}}</b>\r\n          <div>{{invoiceInfo.technician.name}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Issued date' | translate}}</b>\r\n          <div>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Date reminder' | translate}}</b>\r\n          <div>{{invoice.getDateReminder() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n        <div>\r\n          <b>{{'Date schedule' | translate}}</b>\r\n          <div>{{invoice.getDateSchedule() | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n        <b>{{'Customer information' | translate}}</b>\r\n        <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n        </div>\r\n        <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n          {{renderAddress(invoiceInfo.partner)}}\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n        <b>{{'Payment information' | translate}}</b>\r\n        <div nz-col nzSpan=\"24\">\r\n          <span>{{'SubTotal' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getSubTotal())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n          <span>{{'Discount' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscount())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\">\r\n          <span>{{'Fee' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getFee())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\">\r\n          <span>{{'Tax' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhpercent(invoice.getTax()/100)}}</div>\r\n          <div>\r\n            {{vhAlgorithm.vhcurrencyunit(invoice.getTaxValue())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n          <span>{{'Total' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit(invoice.getTotalATax())}}</div>\r\n\r\n        </div>\r\n        <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n          <span>{{'Pay' | translate}}</span>\r\n          <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getPayment())}}</div>\r\n\r\n        </div>\r\n        <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n          <span>{{'Rest' | translate}}</span>\r\n          <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.getTotalATax() -\r\n            invoice.getPayment())}}</div>\r\n        </div>\r\n        <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n          <span>{{'Payment method' | translate}}</span>\r\n          <div>{{setPaymentName(this.invoice.getPaymentType())}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nz-layout>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhQuery, VhQuerySales, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhQuoteReceipt } from 'src/app/sales/interface/vh-quote-receipt';\r\n\r\n@Component({\r\n  selector: 'app-schedule',\r\n  templateUrl: './schedule.component.html',\r\n  styleUrls: ['./schedule.component.scss']\r\n})\r\nexport class ScheduleComponent implements OnInit {\r\n\r\n  public receipt: VhQuoteReceipt[] = []\r\n  public showReceipt: VhQuoteReceipt[] = []\r\n  public heightContent: number = 0\r\n  listTabs: Array<any> = ['Nearly date', 'Late date'];\r\n  listFilter: Array<any> = [{ value: 18, name: \"No process\" }, { value: 19, name: \"Processing\" }, { value: 20, name: \"Completed\" }]\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private vhQuerySales: VhQuerySales,\r\n    private cdRef: ChangeDetectorRef,\r\n    private router: Router,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n  ngOnInit(): void {\r\n    this.getReceipt()\r\n  }\r\n  \r\n  /**\r\n   * get danh sách hóa đơn biên nhận bảo hành\r\n   * @param filterType \r\n   */\r\n  getReceipt() {\r\n    this.vhQuerySales.getBills_byFields( { date_reminder: { $lte: (new Date()) }, bill_type: { $in: [18, 19, 20] }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id } }, {}).then((invoice: VhQuoteReceipt[]) => {\r\n      this.receipt = invoice.map(item => {\r\n        let partner = this.vhQuerySales.getlocalCustomer(item.id_customer)\r\n        return {\r\n          ...item, partner_name: partner.name, phone: partner.phone\r\n        }\r\n      })\r\n      this.segmentChanged(this.segmentType, this.type)\r\n    })\r\n  }\r\n  public segmentType: 0 | 1 = 0;\r\n  public type: 18 | 19 | 20 = 18;\r\n  /**\r\n   * bắt sk thay đổi  loại biên nhận cần xem\r\n   */\r\n  changeType(event) {\r\n    this.type = event;\r\n    this.segmentChanged(this.segmentType, this.type);\r\n  }\r\n  /**\r\n   * bắt sk thay đổi tab xem trạng thái biên nhận\r\n   */\r\n  segmentChanged(segmentType: 0 | 1, type: 18 | 19 | 20) {\r\n    this.type = type;\r\n    this.showReceipt = this.receipt.filter(item => {\r\n      if (type == item.bill_type) {\r\n        if (segmentType == 0) {\r\n          if (Date.now() > (new Date(item.date_reminder)).getTime() && Date.now() < (new Date(item.date_schedule)).getTime()) return true\r\n          else return false\r\n        } else {\r\n          if (Date.now() >= (new Date(item.date_schedule)).getTime()) return true\r\n          else return false\r\n        }\r\n      } return false\r\n    })\r\n    this.showReceipt.reverse();\r\n  }\r\n\r\n  public indexHover: number = -1;\r\n  goToDetail(id) {\r\n    this.router.navigate(['/sales/dashboard/manage/warranty/schedule/detail'], { state: id })\r\n  }\r\n  /**--------------------- */\r\n  gotoDetailReceipt(data) {\r\n    this.router.navigate(['/sales/dashboard/manage/warranty/schedule/detail'], {\r\n      state: {\r\n        data: data\r\n      }\r\n    })\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/dashboard/manage/warranty']);\r\n  }\r\n  onCurrentPageDataChangeAll(e) { }\r\n  tableHeight: any;\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#chedule-invoice\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-tabs-nav\") && document.querySelector(\".receipt-quote-invoice-header\")) {\r\n      if (document.querySelector(\".ant-table-pagination\")) {\r\n        this.tableHeight = document.querySelector(\"#rchedule-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".receipt-quote-invoice-header\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 60 + \"px\";\r\n      } else {\r\n        this.tableHeight = document.querySelector(\"#chedule-invoice\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n          - document.querySelector(\".receipt-quote-invoice-header\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - 60 + \"px\";\r\n      }\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  phoneCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n  *\r\n  * @param colName       // tên cột muôn sắp xếp\r\n  */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.showReceipt = this.vhAlgorithm.sortDatebyASC([...this.showReceipt], colName);\r\n        }else{\r\n          this.showReceipt = this.vhAlgorithm.sortDatebyDESC([...this.showReceipt], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.showReceipt = this.vhAlgorithm.sortStringbyASC([...this.showReceipt], colName);\r\n        }else{\r\n          this.showReceipt = this.vhAlgorithm.sortStringbyDESC([...this.showReceipt], colName);\r\n        }\r\n        break;\r\n      case 'phone':\r\n        if(this.phoneCol){\r\n          this.showReceipt = this.vhAlgorithm.sortNumberbyASC([...this.showReceipt], colName);\r\n        }else{\r\n          this.showReceipt = this.vhAlgorithm.sortNumberbyDESC([...this.showReceipt], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if(this.partner_nameCol){\r\n          this.showReceipt = this.vhAlgorithm.sortVietnamesebyASC([...this.showReceipt], colName);\r\n        }else{\r\n          this.showReceipt = this.vhAlgorithm.sortVietnamesebyDESC([...this.showReceipt], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<div nz-row class=\"row-back medium-size\" (click)=\"goBack()\">\r\n    <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{'Back' | translate}}\r\n</div>\r\n<nz-layout>\r\n    <div nz-row>\r\n        <div nz-col nzSpan=\"10\" class=\"title left-all-content\">\r\n            <b>{{'Appointment schedule'| translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"14\" class=\"right-div\">\r\n            <nz-select [ngModel]=\"type\" (ngModelChange)=\"changeType($event)\" nzBorderless>\r\n                <nz-option *ngFor=\"let item of listFilter\" [nzValue]=\"item.value\" [nzLabel]=\"item.name | translate\"></nz-option>\r\n            </nz-select>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <nz-tabset [(nzSelectedIndex)]=\"segmentType\" (nzSelectChange)=\"segmentChanged($event.index,type)\">\r\n            <nz-tab *ngFor=\"let tab of listTabs\" nzTitle=\"{{tab | translate}}\">\r\n                <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"showReceipt\" #tableReceiptAndQuote nzShowPagination nzShowSizeChanger nzNoResult=\"{{'Not invoice yet' | translate}}\" (nzCurrentPageDataChange)=\"onCurrentPageDataChangeAll($event)\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th nzWidth=\"10%\" nzAlign='left'><b>{{'No.' | translate}}</b></th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"20%\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n                                <b>{{'Date' | translate}}</b>\r\n                                <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"20%\" nzAlign='left' (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\">\r\n                                <b>{{'Receipts code' | translate}}</b>\r\n                                <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"35%\" nzAlign='left' (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n                                <b>{{'Customer' | translate}}</b>\r\n                                <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                            </th>\r\n                            <th style=\"cursor: pointer;\" nzWidth=\"15%\" nzAlign='left' (click)=\"phoneCol = !phoneCol;sortTable('phone')\">\r\n                                <b>{{'_phone' | translate}}</b>\r\n                                <i nz-icon [nzType]=\"phoneCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let invoice of tableReceiptAndQuote.data;let i =index\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice._id)\">\r\n                            <td nzAlign='left'>{{i + 1}}</td>\r\n                            <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                            <td nzAlign='left'>{{invoice.bill_code}}</td>\r\n                            <td nzAlign='left'>{{invoice.partner_name |translate}}</td>\r\n                            <td nzAlign='left'>{{invoice.phone}}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </nz-table>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ScheduleComponent } from './schedule.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { DetailComponent } from './detail/detail.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component:  ScheduleComponent\r\n  },\r\n  {\r\n    path: 'detail',\r\n    component:  DetailComponent\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [ScheduleComponent, DetailComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    NgZorroAntModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule\r\n  ]\r\n})\r\nexport class ScheduleModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}