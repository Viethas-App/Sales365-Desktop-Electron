{"version":3,"file":"src_app_sales_prepaid-card_prepaid-card_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuE;AACH;;;;;;;;;;;;;;;;;;ICsB5B,wEAAoD;IAAA,uDAEpD;;IAAA,qEAAe;;IAFqC,0DAEpD;IAFoD,mKAEpD;;;IACA,wEAAmD;IAAA,uDAEnD;;IAAA,qEAAe;;IAFoC,0DAEnD;IAFmD,uKAEnD;;;IALA,wKAEe;IACf,wKAEe;;;IALA,kGAAmC;IAGnC,0DAAkC;IAAlC,iGAAkC;;;;IA8DrE,yEAAwD;IACpD,sEAAK;IAAA,uEAAiB;IAAA,uDAAwB;;IAAA,4DAAI;IAAA,4DAAM;IACxD,gFAE6E;IADzE,6XAAgD;;IAEhD,2EAA2E;;IAC3E,2EAAuE;;IAC3E,4DAAY;IAChB,4DAAM;;IAPoB,0DAAwB;IAAxB,0IAAwB;IAG1C,0DAA+C;IAA/C,sKAA+C;IACpC,0DAAkC;IAAlC,yJAAkC;IAClC,0DAAgC;IAAhC,yJAAgC;;;;;IA5FnE,wEAA8B;IAC1B,sEAAK;IACD,0EAA4F;IACxF,yEAA4B;IACxB,yEAAmD;IAC/C,yEAA2D;IAApB,oUAAmB;IACtD,2EACkC;IAA9B,uVAA2B;IAD/B,4DACkC;IAClC,oEAEuC;IAC3C,4DAAM;IACV,4DAAM;IACN,yEAAwB;IACpB,sEAAK;IAAA,wEAAiB;IAAA,wDAA8B;;IAAA,4DAAI;IAAA,4DAAM;IAC9D,gFAAc;IACV,uFAA+C;IAC3C,kFAAgB;IACZ,6EACiF;IAD1E,oWAAuC;;IAA9C,4DACiF;IACjF,qOAOc;IAClB,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAAwB;;IAAA,4DAAI;IAAA,4DAAM;IACxD,gFAAc;IACV,mFAAiB;IACb,kFAAgB;IACZ,wEAC2D;;IAC/D,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAA2B;;IAAA,4DAAI;IAAA,4DAAM;IAC3D,gFAAc;IACV,mFAAiB;IACb,kFAAgB;IACZ,wEACqD;;IACzD,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAA+B;;IAAA,4DAAI;IAAA,4DAAM;IAC/D,gFAAc;IACV,mFAAiB;IACb,kFAAgB;IACZ,2EAA0B;IACxB,wEAAM;IAAA,wDAAgB;IAAA,4DAAO;IAC7B,oEAAqD;IACvD,4DAAM;IACN,wEACkF;;IACtF,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAA+B;;IAAA,4DAAI;IAAA,4DAAM;IAC/D,sFACkD;IADlC,6WAAuC;;IAEvD,4DAAiB;IACrB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAAuB;;IAAA,4DAAI;IAAA,4DAAM;IACvD,gFAAc;IACV,mFAAiB;IACb,kFAAgB;IACZ,6EACoD;IAD7C,oWAAuC;;IAA9C,4DACoD;IACxD,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACN,2IAQM;IACN,0EAAwB;IACpB,2EAAY;IACR,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAA6B;;IAAA,4DAAI;IAAA,4DAAM;IAC7D,sFAC+B;IADK,+XAAgD;IAEpF,4DAAiB;IACrB,4DAAM;IACN,0EAAwB;IACpB,uEAAK;IAAA,wEAAiB;IAAA,wDAA0B;;IAAA,4DAAI;IAAA,4DAAM;IAC1D,gFAAc;IACV,mFAAiB;IACb,kFAAgB;IACZ,6EAEqD;IAF1B,oWAAuC;;IAAlE,4DAEqD;IACzD,4DAAiB;IACrB,4DAAkB;IACtB,4DAAe;IACnB,4DAAM;IACV,4DAAM;IACV,4DAAM;IACV,4DAAM;IACV,4DAAO;IACX,4DAAM;IACV,qEAAe;;;;IAtHwD,0DAA4B;IAA5B,4FAA4B;IAC3E,0DAAe;IAAf,wEAAe;IAKV,0DAA+D;IAA/D,8LAA+D;IAMlD,0DAA8B;IAA9B,6JAA8B;IAE/B,0DAA6B;IAA7B,2EAA6B;IAGlC,0DAAmD;IAAnD,4KAAmD;IAc7C,0DAAwB;IAAxB,qJAAwB;IAK9B,0DAA2C;IAA3C,oKAA2C;IAMrC,0DAA2B;IAA3B,wJAA2B;IAKjC,0DAA8C;IAA9C,uKAA8C;IAMxC,0DAA+B;IAA/B,4JAA+B;IAKjC,0DAAgB;IAAhB,6FAAgB;IAItB,0DAAgD;IAAhD,gKAAgD;IAMxC,0DAA+B;IAA/B,mJAA+B;IAEjD,0DAA6C;IAA7C,sKAA6C;IAI3B,0DAAuB;IAAvB,6IAAuB;IAK7B,0DAA6C;IAA7C,sKAA6C;IAKxC,0DAA6B;IAA7B,iGAA6B;IAYpB,0DAA6B;IAA7B,mJAA6B;IAM7B,0DAA0B;IAA1B,8IAA0B;IAMhC,0DAA8C;IAA9C,uKAA8C;;ADlGvF,MAAM,2BAA2B;IAStC,YACS,eAAgC,EAC/B,OAAgB,EACjB,WAAwB,EACvB,WAAwB,EACxB,MAAc,EACd,UAA2B;;QAL5B,oBAAe,GAAf,eAAe,CAAiB;QAC/B,YAAO,GAAP,OAAO,CAAS;QACjB,gBAAW,GAAX,WAAW,CAAa;QACvB,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAiB;QAd5B,qBAAgB,GAAY,KAAK;QAChC,iBAAY,GAAG,IAAI,uDAAY,EAAO,CAAC;QA+EjD,kBAAkB;QAClB,gBAAW,GAAW,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC;QACzD,mBAAmB;QACnB,gBAAW,GAAW,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC;QACzD,+CAA+C;QAC/C,mBAAc,GAAW,EAAE,CAAC;QArE1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;QACxE,IAAI,CAAC,WAAW,GAAG,UAAI,CAAC,QAAQ,CAAC,WAAW,mCAAI,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC;QACnF,IAAI,CAAC,WAAW,GAAG,UAAI,CAAC,UAAU,CAAC,6BAA6B,CAAC,IAAI,CAAC,WAAW,CAAC,mCAAI,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC;QACzH,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,WAA0B,CAAC,CAAC;QAEpH,IAAI,CAAC,cAAc,GAAG,IAAI,qDAAS,CAAC;YAClC,GAAG,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YACvC,IAAI,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,8DAAkB,CAAC,CAAC,+DAAmB,EAAE,8DAAkB,CAAC,CAAC,gEAAoB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnI,KAAK,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,4DAAgB,CAAC;YAC7D,QAAQ,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,8DAAkB,CAAC,CAAC,gEAAoB,CAAC,CAAC,CAAC,EAAE,+DAAmB,CAAC,CAAC,CAAC;YACrH,KAAK,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,+DAAmB,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAC1H,MAAM,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7C,OAAO,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,WAAW,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;YACvD,QAAQ,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACjD,QAAQ,EAAE,IAAI,uDAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;SAClD,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC;IACjD,CAAC;IAED;;;OAGG;IACH,QAAQ,CAAC,CAAE;QACT,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAC5G,QAAQ,CAAC,EAAE;YACT,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACvD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;YACrH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3C,CAAC,EACD,GAAG,EAAE;YACH,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;QACxG,CAAC,CACF,CAAC;IACJ,CAAC;IAED,UAAU;QACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC;IAC/B,CAAC;IAED;;;;MAIE;IACF,cAAc,CAAC,SAAS;QACtB,IAAI,SAAS,CAAC,KAAK,EAAE;YACnB,IAAI,KAAK,qBAAQ,SAAS,CAAC,KAAK,CAAE,CAAC;YACnC,IAAG,KAAK,CAAC,KAAK,EAAE;gBACd,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACrC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBACpF,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAChG;YACD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC;SAC1F;IACH,CAAC;;sGA7EU,2BAA2B;yHAA3B,2BAA2B;QCdxC,8EAC0E;QADjD,gNAAgC,+FACzB,gBAAY,IADa,uGACG,gBAAY,IADf;;QAErD,2IAwHe;QACnB,4DAAW;;QA3H+C,sKAA+C;QAAhF,2FAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGsB;AAG2F;AACA;AACA;AACjB;AACA;AAChD;;;;;;;;;;;;;;;;;;;;ICC7E,2EAEY;;;IAFiC,kFAAqB;;;;IAJ1E,+EAA8C;IAC1C,uEAAM;IAAC,uDAA+B;;IAAA,4DAAO;IAC7C,gFACoC;IADH,wYAA+B;IAE5D,sKAEY;IAChB,4DAAY;IAChB,4DAAe;;;IAPJ,0DAA+B;IAA/B,4JAA+B;IACL,0DAA+B;IAA/B,6FAA+B;IAEhC,0DAAe;IAAf,wFAAe;;;IAc3C,2EAAyH;;;;IAAhD,8JAAmC;IAAxD,iFAAoB;;;IAOxE,2EACY;;;IAD8B,mFAAsB;;;IAOhE,2EACY;;;IADmC,6EAAgB;;;IAO/D,2EACY;;;IADsC,6EAAgB;;;;IAH1E,+EAAgD;IAC5C,uEAAM;IAAC,uDAAiC;;IAAA,4DAAO;IAC/C,gFAA2F;IAA1D,mYAAyB;IACtD,uKACY;IAChB,4DAAY;IAChB,4DAAe;;;IALJ,0DAAiC;IAAjC,8JAAiC;IACP,0DAAyB;IAAzB,uFAAyB;IAC1B,0DAAoB;IAApB,6FAAoB;;;;IAaxD,mFAA+D;IAC3D,uEAAM;IAAC,uDAAuB;;IAAA,4DAAO;IACrC,+EACa;IADM,kYAAyB;IAC/B,4DAAW;IAC5B,4DAAe;;;IAHJ,0DAAuB;IAAvB,oJAAuB;IACX,0DAAyB;IAAzB,uFAAyB;;;;IAGhD,mFAA+D;IAC3D,uEAAM;IAAC,uDAAuB;;IAAA,4DAAO;IACrC,+EACa;IADM,kYAAyB;IAC/B,4DAAW;IAC5B,4DAAe;;;IAHJ,0DAAuB;IAAvB,oJAAuB;IACX,0DAAyB;IAAzB,wFAAyB;;;;IAIhD,mFAAwE;IACpE,uEAAM;IAAC,uDAA8B;;IAAA,4DAAO;IAC5C,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA8B;IAA9B,2JAA8B;IACS,0DAAkC;IAAlC,iGAAkC;;;;IAIpF,mFAA6E;IACzE,uEAAM;IAAC,uDAA8B;;IAAA,4DAAO;IAC5C,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA8B;IAA9B,2JAA8B;IACS,0DAAuC;IAAvC,sGAAuC;;;;IAIzF,mFAA8E;IAC1E,uEAAM;IAAC,uDAAsC;;IAAA,4DAAO;IACpD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAsC;IAAtC,mKAAsC;IACC,0DAAwC;IAAxC,uGAAwC;;;;IAI1F,mFAA8E;IAC1E,uEAAM;IAAC,uDAAuC;;IAAA,4DAAO;IACrD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAuC;IAAvC,oKAAuC;IACA,0DAAwC;IAAxC,uGAAwC;;;;IAI1F,mFAAmE;IAC/D,uEAAM;IAAC,uDAAyB;;IAAA,4DAAO;IACvC,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAyB;IAAzB,sJAAyB;IACc,0DAA6B;IAA7B,4FAA6B;;;;IAI/E,mFAAmE;IAC/D,uEAAM;IAAC,uDAAyB;;IAAA,4DAAO;IACvC,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAyB;IAAzB,sJAAyB;IACc,0DAA6B;IAA7B,4FAA6B;;;;IAI/E,mFAAoE;IAChE,uEAAM;IAAC,uDAA0B;;IAAA,4DAAO;IACxC,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA0B;IAA1B,uJAA0B;IACa,0DAA8B;IAA9B,6FAA8B;;;;IAIhF,mFAAoE;IAChE,uEAAM;IAAC,uDAA0B;;IAAA,4DAAO;IACxC,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA0B;IAA1B,uJAA0B;IACa,0DAA8B;IAA9B,6FAA8B;;;;IAIhF,mFAAoE;IAChE,uEAAM;IAAC,uDAAoC;;IAAA,4DAAO;IAClD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAoC;IAApC,iKAAoC;IACG,0DAA8B;IAA9B,6FAA8B;;;;IAIhF,mFAA+E;IAC3E,uEAAM;IAAC,uDAAqC;;IAAA,4DAAO;IACnD,gFAC0E;IADpD,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAqC;IAArC,kKAAqC;IAE5C,0DAAyC;IAAzC,wGAAyC;;;;IAG7C,mFAA+E;IAC3E,uEAAM;IAAC,uDAAqC;;IAAA,4DAAO;IACnD,gFAC0E;IADpD,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAqC;IAArC,kKAAqC;IAE5C,0DAAyC;IAAzC,wGAAyC;;;;IAG7C,mFAAmF;IAC/E,uEAAM;IAAC,uDAAyC;;IAAA,4DAAO;IACvD,gFACkF;IAD5D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAyC;IAAzC,sKAAyC;IAE5C,0DAA6C;IAA7C,4GAA6C;;;;IAGrD,mFAAkF;IAC9E,uEAAM;IAAC,uDAAyC;;IAAA,4DAAO;IACvD,gFACiF;IAD3D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAyC;IAAzC,sKAAyC;IAE5C,0DAA4C;IAA5C,2GAA4C;;;;IAGpD,mFAAiF;IAC7E,uEAAM;IAAC,uDAA+C;;IAAA,4DAAO;IAC7D,gFACgF;IAD1D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA+C;IAA/C,4KAA+C;IAElD,0DAA2C;IAA3C,0GAA2C;;;;IAGnD,mFAAiF;IAC7E,uEAAM;IAAC,uDAA+C;;IAAA,4DAAO;IAC7D,gFACgF;IAD1D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA+C;IAA/C,4KAA+C;IAElD,0DAA2C;IAA3C,0GAA2C;;;;IAGnD,mFAAiF;IAC7E,uEAAM;IAAC,uDAAwC;;IAAA,4DAAO;IACtD,gFACgF;IAD1D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAwC;IAAxC,qKAAwC;IAE3C,0DAA2C;IAA3C,0GAA2C;;;;IAGnD,mFAAqF;IACjF,uEAAM;IAAC,uDAAgD;;IAAA,4DAAO;IAC9D,gFACoF;IAD9D,gMAAS,wBAAwB,IAAC;IAExD,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAgD;IAAhD,6KAAgD;IAEnD,0DAA+C;IAA/C,8GAA+C;;;;IAGvD,mFAAsE;IAClE,uEAAM;IAAC,uDAAkD;;IAAA,4DAAO;IAChE,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAkD;IAAlD,+KAAkD;IACX,0DAAgC;IAAhC,+FAAgC;;;;IAIlF,mFAAsE;IAClE,uEAAM;IAAC,uDAAkD;;IAAA,4DAAO;IAChE,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAkD;IAAlD,+KAAkD;IACX,0DAAgC;IAAhC,+FAAgC;;;;IAIlF,mFAAoE;IAChE,uEAAM;IAAC,uDAAgC;;IAAA,4DAAO;IAC9C,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAgC;IAAhC,6JAAgC;IACO,0DAA8B;IAA9B,6FAA8B;;;;IAIhF,mFAA0E;IACtE,uEAAM;IAAC,uDAAgC;;IAAA,4DAAO;IAC9C,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAgC;IAAhC,6JAAgC;IACO,0DAAoC;IAApC,mGAAoC;;;;IAItF,mFAAuE;IACnE,uEAAM;IAAC,uDAAoC;;IAAA,4DAAO;IAClD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAoC;IAApC,gKAAoC;IACG,0DAAiC;IAAjC,gGAAiC;;;;IAInF,mFAA2E;IACvE,uEAAM;IAAC,uDAAiC;;IAAA,4DAAO;IAC/C,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAiC;IAAjC,8JAAiC;IACM,0DAAqC;IAArC,oGAAqC;;;;IAIvF,mFAA4E;IACxE,uEAAM;IAAC,uDAAwC;;IAAA,4DAAO;IACtD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAwC;IAAxC,qKAAwC;IACD,0DAAsC;IAAtC,qGAAsC;;;;IAIxF,mFAAyE;IACrE,uEAAM;IAAC,uDAAkC;;IAAA,4DAAO;IAChD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAkC;IAAlC,+JAAkC;IACK,0DAAmC;IAAnC,kGAAmC;;;;IAIrF,mFAAuE;IACnE,uEAAM;IAAC,uDAA0C;;IAAA,4DAAO;IACxD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA0C;IAA1C,uKAA0C;IACH,0DAAiC;IAAjC,gGAAiC;;;;IAInF,mFAAoE;IAChE,uEAAM;IAAC,uDAAyC;;IAAA,4DAAO;IACvD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAyC;IAAzC,sKAAyC;IACF,0DAA8B;IAA9B,6FAA8B;;;;IAIhF,mFAA6E;IACzE,uEAAM;IAAC,uDAAmC;;IAAA,4DAAO;IACjD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAmC;IAAnC,gKAAmC;IACI,0DAAuC;IAAvC,sGAAuC;;;;IAIzF,mFAA6E;IACzE,uEAAM;IAAC,uDAAmC;;IAAA,4DAAO;IACjD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAmC;IAAnC,gKAAmC;IACI,0DAAuC;IAAvC,sGAAuC;;;;IAIzF,mFAAgF;IAC5E,uEAAM;IAAC,uDAAsC;;IAAA,4DAAO;IACpD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAsC;IAAtC,mKAAsC;IACC,0DAA0C;IAA1C,yGAA0C;;;;IAI5F,mFAA8E;IAC1E,uEAAM;IAAC,uDAA2C;;IAAA,4DAAO;IACzD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA2C;IAA3C,wKAA2C;IACJ,0DAAwC;IAAxC,uGAAwC;;;;IAI1F,mFAA6E;IACzE,uEAAM;IAAC,uDAAmC;;IAAA,4DAAO;IACjD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAmC;IAAnC,gKAAmC;IACI,0DAAuC;IAAvC,sGAAuC;;;;IAIzF,mFAAgF;IAC5E,uEAAM;IAAC,uDAAsC;;IAAA,4DAAO;IACpD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAAsC;IAAtC,mKAAsC;IACC,0DAA0C;IAA1C,yGAA0C;;;;IAI5F,mFAA8E;IAC1E,uEAAM;IAAC,uDAA2C;;IAAA,4DAAO;IACzD,gFACoC;IADzB,gMAAS,wBAAwB,IAAC;IAE7C,4DAAY;IAChB,4DAAe;;;IAJJ,0DAA2C;IAA3C,wKAA2C;IACJ,0DAAwC;IAAxC,uGAAwC;;;;IA3QtG,4EAA2B;IACvB,4EAA8C;;IAE1C,6EAAyF;IACrF,6JAQe;IACf,+EAAc;IACV,uEAAM;IAAC,uDAA6B;;IAAA,4DAAO;IAC3C,+EACoC;IADzB,sXAAyB,wHAAU,wBAAwB,IAAlC;IAEpC,4DAAY;IAChB,4DAAe;IACf,gFAAc;IACV,wEAAM;IAAC,wDAA2B;;IAAA,4DAAO;IACzC,gFAAyH;IAAxF,sYAAyC;IACtE,yJAAyH;IAE7H,4DAAY;IAChB,4DAAe;IACf,gFAAc;IACV,wEAAM;IAAC,wDAA2B;;IAAA,4DAAO;IACzC,iFAAgG;IAA/D,4XAA8B;IAC3D,yJACY;IAChB,4DAAY;IAChB,4DAAe;IACf,gFAAc;IACV,wEAAM;IAAC,wDAA0B;;IAAA,4DAAO;IACxC,iFAA8F;IAA7D,0XAA4B;IACzD,yJACY;IAChB,4DAAY;IAChB,4DAAe;IACf,+JAMe;IACf,oFAAgC;IAC5B,wEAAM;IAAC,wDAAuB;;IAAA,4DAAO;IACrC,gFAA6E;IAA1D,sXAAyB;IAAiC,4DAAW;IAC5F,4DAAe;IACnB,4DAAU;IACd,4DAAS;IACT,6EAAwD;;IAEpD,+EAAuE;IACnE,gKAIe;IACf,gKAIe;IAEf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IACf,gKAKe;IAEnB,4DAAU;IACd,4DAAS;IACb,4DAAY;;;IAjRA,0DAAqC;IAArC,6JAAqC;IAGtB,0DAA6B;IAA7B,gGAA6B;IAUjC,0DAA6B;IAA7B,2JAA6B;IACzB,0DAAyB;IAAzB,uFAAyB;IAK7B,0DAA2B;IAA3B,0JAA2B;IACD,0DAAyC;IAAzC,sGAAyC;IAC1C,0DAAsB;IAAtB,+FAAsB;IAK/C,0DAA2B;IAA3B,0JAA2B;IACD,0DAA8B;IAA9B,4FAA8B;IAC/B,0DAAY;IAAZ,qFAAY;IAKrC,0DAA0B;IAA1B,yJAA0B;IACA,0DAA4B;IAA5B,0FAA4B;IAC7B,0DAAiB;IAAjB,0FAAiB;IAIpC,0DAA6B;IAA7B,gGAA6B;IAQnC,0DAAuB;IAAvB,sJAAuB;IACX,0DAAyB;IAAzB,uFAAyB;IAIhD,0DAA+C;IAA/C,wKAA+C;IAG/B,0DAA4B;IAA5B,sGAA4B;IAK5B,0DAA4B;IAA5B,sGAA4B;IAM5B,0DAAqC;IAArC,+GAAqC;IAMrC,0DAA0C;IAA1C,oHAA0C;IAM1C,0DAA2C;IAA3C,qHAA2C;IAM3C,0DAA2C;IAA3C,qHAA2C;IAM3C,0DAAgC;IAAhC,0GAAgC;IAMhC,0DAAgC;IAAhC,0GAAgC;IAMhC,0DAAiC;IAAjC,2GAAiC;IAMjC,0DAAiC;IAAjC,2GAAiC;IAMjC,0DAAiC;IAAjC,2GAAiC;IAMjC,0DAA4C;IAA5C,sHAA4C;IAM5C,0DAA4C;IAA5C,sHAA4C;IAM5C,0DAAgD;IAAhD,0HAAgD;IAMhD,0DAA+C;IAA/C,yHAA+C;IAM/C,0DAA8C;IAA9C,wHAA8C;IAM9C,0DAA8C;IAA9C,wHAA8C;IAM9C,0DAA8C;IAA9C,wHAA8C;IAM9C,0DAAkD;IAAlD,4HAAkD;IAMlD,0DAAmC;IAAnC,6GAAmC;IAMnC,0DAAmC;IAAnC,6GAAmC;IAMnC,0DAAiC;IAAjC,2GAAiC;IAMjC,0DAAuC;IAAvC,iHAAuC;IAMvC,0DAAoC;IAApC,8GAAoC;IAMpC,0DAAwC;IAAxC,kHAAwC;IAMxC,0DAAyC;IAAzC,mHAAyC;IAMzC,0DAAsC;IAAtC,gHAAsC;IAMtC,0DAAoC;IAApC,8GAAoC;IAMpC,0DAAiC;IAAjC,2GAAiC;IAMjC,0DAA0C;IAA1C,oHAA0C;IAM1C,0DAA0C;IAA1C,oHAA0C;IAM1C,0DAA6C;IAA7C,uHAA6C;IAM7C,0DAA2C;IAA3C,qHAA2C;IAM3C,0DAA0C;IAA1C,oHAA0C;IAM1C,0DAA6C;IAA7C,uHAA6C;IAM7C,0DAA2C;IAA3C,qHAA2C;;;;IAUvE,0EAAuE;IACnE,6EAAyD;IAAjC,+UAAsB;IAAY,mEAA+C;IAAA,uDAC1F;;IAAA,4DAAS;IAE5B,4DAAM;;IAHuG,0DAC1F;IAD0F,+IAC1F;;;IAtRvB,wEAA8B;IAC1B,6IAkRY;IACZ,+HAIM;IACV,qEAAe;;;IAxRC,0DAAa;IAAb,gFAAa;IAmR8B,0DAAc;IAAd,iFAAc;;;;IAMzE,wEAA6B;IACzB,0EAA+B;IAU3B,6EAA8F;IAAjD,uUAAqB;IAC9D,0EACW;IACX,uDACJ;;IAAA,4DAAS;IACb,4DAAM;IACV,qEAAe;;IAHH,0DACJ;IADI,4JACJ;;AD1RL,MAAM,oBAAoB;IA6B/B,YACU,YAA0B,EAC1B,WAAwB,EACxB,eAAgC,EAChC,MAAc,EACf,QAAkB;QAJjB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QACf,aAAQ,GAAR,QAAQ,CAAU;QAhClB,oBAAe,GAAG,KAAK,CAAC;QACvB,SAAI,GAAG,IAAI,uDAAY,EAAW;QAC5C,YAAO,GAAQ,EAAE;QACjB,SAAI,GAAQ,EAAE;QAGd,cAAS,GAAG;YACV;gBACE,KAAK,EAAE,YAAY;gBACnB,IAAI,EAAE,OAAO;aACd;YACD;gBACE,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,iBAAiB;aACxB;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,IAAI,EAAE,aAAa;aACpB;YACD;gBACE,KAAK,EAAE,WAAW;gBAClB,IAAI,EAAE,WAAW;aAClB;SACF;QACD,mBAAc,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC7D,iBAAY,GAAQ,EAAE;QACtB,sBAAiB,GAAI,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;QAyChC,8BAA8B;QAE9B,0BAAqB,GAAG;YACtB,kBAAkB,EAAE,eAAe;YACnC,eAAe,EAAE,oCAAoC;YACrD,WAAW,EAAE,CAAC;oBACZ,GAAG,EAAE,eAAe;oBACpB,IAAI,EAAE,IAAI;oBACV,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,YAAY;oBACzB,MAAM,EAAE,IAAI;oBACZ,MAAM,EAAE,EAAE;oBACV,MAAM,EAAE,CAAC;oBACT,YAAY,EAAE,EAAE;oBAChB,oBAAoB,EAAE,KAAK;oBAC3B,uBAAuB,EAAE,KAAK;oBAC9B,qBAAqB,EAAE,KAAK;oBAC5B,oBAAoB,EAAE,KAAK;oBAC3B,gBAAgB,EAAE,KAAK;oBACvB,cAAc,EAAE,KAAK;oBACrB,WAAW,EAAE,KAAK;oBAClB,WAAW,EAAE,KAAK;oBAClB,iBAAiB,EAAE,KAAK;oBACxB,cAAc,EAAE,KAAK;oBACrB,kBAAkB,EAAE,KAAK;oBACzB,mBAAmB,EAAE,KAAK;oBAC1B,sBAAsB,EAAE,KAAK;oBAC7B,wBAAwB,EAAE,KAAK;oBAC/B,wBAAwB,EAAE,KAAK;oBAC/B,4BAA4B,EAAE,KAAK;iBAEpC;gBACD;oBACE,GAAG,EAAE,eAAe;oBACpB,IAAI,EAAE,IAAI;oBACV,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,YAAY;oBACzB,MAAM,EAAE,IAAI;oBACZ,MAAM,EAAE,EAAE;oBACV,MAAM,EAAE,CAAC;oBACT,YAAY,EAAE,EAAE;oBAChB,oBAAoB,EAAE,KAAK;oBAC3B,uBAAuB,EAAE,KAAK;oBAC9B,qBAAqB,EAAE,KAAK;oBAC5B,aAAa,EAAE,KAAK;oBACpB,aAAa,EAAE,KAAK;oBACpB,oBAAoB,EAAE,KAAK;oBAC3B,gBAAgB,EAAE,KAAK;oBACvB,cAAc,EAAE,KAAK;oBACrB,WAAW,EAAE,KAAK;oBAClB,WAAW,EAAE,KAAK;oBAClB,iBAAiB,EAAE,KAAK;oBACxB,cAAc,EAAE,KAAK;oBACrB,kBAAkB,EAAE,KAAK;oBACzB,mBAAmB,EAAE,KAAK;oBAC1B,sBAAsB,EAAE,KAAK;oBAC7B,wBAAwB,EAAE,KAAK;oBAC/B,wBAAwB,EAAE,KAAK;oBAC/B,4BAA4B,EAAE,KAAK;iBAEpC;gBACD;oBACE,GAAG,EAAE,mBAAmB;oBACxB,IAAI,EAAE,aAAa;oBACnB,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,YAAY;oBACzB,MAAM,EAAE,IAAI;oBACZ,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC;oBAC9D,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yBAAyB,CAAC;oBACjE,MAAM,EAAE,EAAE;oBACV,MAAM,EAAE,CAAC;oBACT,YAAY,EAAE,EAAE;oBAChB,oBAAoB,EAAE,KAAK;oBAC3B,uBAAuB,EAAE,KAAK;oBAC9B,qBAAqB,EAAE,KAAK;oBAC5B,aAAa,EAAE,KAAK;oBACpB,aAAa,EAAE,KAAK;oBACpB,oBAAoB,EAAE,KAAK;oBAC3B,gBAAgB,EAAE,KAAK;oBACvB,cAAc,EAAE,KAAK;oBACrB,WAAW,EAAE,KAAK;oBAClB,WAAW,EAAE,KAAK;oBAClB,iBAAiB,EAAE,KAAK;oBACxB,cAAc,EAAE,KAAK;oBACrB,kBAAkB,EAAE,KAAK;oBACzB,mBAAmB,EAAE,KAAK;iBAC3B;gBACD;oBACE,GAAG,EAAE,mBAAmB;oBACxB,IAAI,EAAE,aAAa;oBACnB,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,YAAY;oBACzB,MAAM,EAAE,IAAI;oBACZ,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC;oBAC9D,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yBAAyB,CAAC;oBACjE,MAAM,EAAE,EAAE;oBACV,MAAM,EAAE,CAAC;oBACT,YAAY,EAAE,EAAE;oBAChB,oBAAoB,EAAE,KAAK;oBAC3B,uBAAuB,EAAE,KAAK;oBAC9B,qBAAqB,EAAE,KAAK;oBAC5B,aAAa,EAAE,KAAK;oBACpB,aAAa,EAAE,KAAK;oBACpB,oBAAoB,EAAE,KAAK;oBAC3B,gBAAgB,EAAE,KAAK;oBACvB,cAAc,EAAE,KAAK;oBACrB,WAAW,EAAE,KAAK;oBAClB,WAAW,EAAE,KAAK;oBAClB,iBAAiB,EAAE,KAAK;oBACxB,cAAc,EAAE,KAAK;oBACrB,kBAAkB,EAAE,KAAK;oBACzB,mBAAmB,EAAE,KAAK;iBAC3B;gBACD;oBACE,GAAG,EAAE,mBAAmB;oBACxB,IAAI,EAAE,aAAa;oBACnB,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,YAAY;oBACzB,MAAM,EAAE,IAAI;oBACZ,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,sBAAsB,CAAC;oBAC9D,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,yBAAyB,CAAC;oBACjE,MAAM,EAAE,EAAE;oBACV,MAAM,EAAE,CAAC;oBACT,YAAY,EAAE,EAAE;oBAChB,oBAAoB,EAAE,KAAK;oBAC3B,uBAAuB,EAAE,KAAK;oBAC9B,qBAAqB,EAAE,KAAK;oBAC5B,aAAa,EAAE,KAAK;oBACpB,aAAa,EAAE,KAAK;oBACpB,oBAAoB,EAAE,KAAK;oBAC3B,gBAAgB,EAAE,KAAK;oBACvB,cAAc,EAAE,KAAK;oBACrB,WAAW,EAAE,KAAK;oBAClB,WAAW,EAAE,KAAK;oBAClB,iBAAiB,EAAE,KAAK;oBACxB,cAAc,EAAE,KAAK;oBACrB,kBAAkB,EAAE,KAAK;oBACzB,mBAAmB,EAAE,KAAK;iBAC3B,CAAC;SACH;QA6BD,sCAAsC;QAEtC,mBAAmB;QACnB,sBAAiB,GAAQ;YACvB,KAAK,EAAE,SAAS;YAChB,SAAS,EAAE,SAAS;YACpB,SAAS,EAAE,EAAE;YACb,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;YAC9B,WAAW,EAAE,WAAW;YACxB,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG;YACtC,GAAG,EAAE,CAAC;YACN,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,MAAM;YAChB,IAAI,EAAE,0BAA0B;YAChC,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,QAAQ;YACpB,GAAG,EAAE,CAAC;YACN,SAAS,EAAE,CAAC;YACZ,KAAK,EAAE,QAAQ;YACf,OAAO,EAAE,QAAQ;SAClB;QAED,2BAAsB,GAAG;YACvB;gBACE,IAAI,EAAE,eAAe;gBACrB,IAAI,EAAE,YAAY;gBAClB,OAAO,EAAE,sBAAsB;gBAC/B,eAAe,EAAE,sBAAsB;gBACvC,oBAAoB,EAAE,sBAAsB;gBAC5C,KAAK,EAAE,MAAM;gBACb,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,kCAAkC;wBACxC,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,YAAY,EAAE,OAAO;wBACrB,QAAQ,EAAE,CAAC;qBACZ;oBACD;wBACE,IAAI,EAAE,sFAAsF;wBAC5F,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,QAAQ,EAAE,CAAC;qBACZ;oBACD;wBACE,IAAI,EAAE,2BAA2B;wBACjC,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,KAAK;wBACZ,QAAQ,EAAE,CAAC;qBACZ;iBACF;gBACD,KAAK,EAAE,CAAC;aACT;SACF;QAED,8BAAyB,GAAG;YAC1B;gBACE,IAAI,EAAE,iBAAiB;gBACvB,IAAI,EAAE,YAAY;gBAClB,OAAO,EAAE,sBAAsB;gBAC/B,eAAe,EAAE,sBAAsB;gBACvC,oBAAoB,EAAE,sBAAsB;gBAC5C,KAAK,EAAE,CAAC;gBACR,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,kCAAkC;wBACxC,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;oBACD;wBACE,IAAI,EAAE,sFAAsF;wBAC5F,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;oBACD;wBACE,IAAI,EAAE,2BAA2B;wBACjC,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,KAAK;wBACZ,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;iBACF;aACF;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,IAAI,EAAE,YAAY;gBAClB,OAAO,EAAE,sBAAsB;gBAC/B,eAAe,EAAE,sBAAsB;gBACvC,oBAAoB,EAAE,sBAAsB;gBAC5C,KAAK,EAAE,CAAC;gBACR,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,kCAAkC;wBACxC,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;oBACD;wBACE,IAAI,EAAE,sFAAsF;wBAC5F,IAAI,EAAE,KAAK;wBACX,KAAK,EAAE,OAAO;wBACd,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;oBACD;wBACE,IAAI,EAAE,2BAA2B;wBACjC,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,KAAK;wBACZ,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,QAAQ,EAAE,CAAC;wBACX,YAAY,EAAE,CAAC;qBAChB;iBACF;aACF;SACF;IA5UG,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,oCAAoC,CAAC;QACxF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;QAC7I,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC;YAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpD,CAAC;IACD,WAAW;IACX,CAAC;IAED,SAAS,CAAC,KAAK;QACb,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,WAAW;YAAE,OAAO,IAAI;QAC9C,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,WAAW;YAAE,OAAO,KAAK;IACjD,CAAC;IAED,mBAAmB,CAAC,KAAK;QACvB,IAAI,CAAC,IAAI,GAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC;QAC9F,IAAI,CAAC,WAAW,EAAE;IACpB,CAAC;IACD,UAAU;QACR,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACzC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,oCAAoC,oBAAK,IAAI,CAAC,qBAAqB,EAAG;iBACpG,IAAI,CAAC,CAAC,OAAW,EAAE,EAAE;gBACpB,IAAI,CAAC,OAAO,GAAG,OAAO;gBACtB,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;gBAClC,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjC,CAAC,EAAE,GAAG,CAAC,CAAC;YACV,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC;gBAAE,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpD,CAAC,CAAC;IAEJ,CAAC;IA+ID,QAAQ;QACN,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;YACnD,IAAI,CAAC,YAAY,GAAG,IAAI;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,WAAW;QACT,IAAI,KAAK,qBAAQ,IAAI,CAAC,OAAO,CAAE;QAC/B,OAAO,KAAK,CAAC,GAAG,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC7D,CAAC;IACD,SAAS;QACP,IAAI,OAAO,GAAG,IAAI,mHAAiC,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC/H,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;IACjK,CAAC;IAEO,oBAAoB,CAAC,IAAyG;QACpI,QAAQ,IAAI,EAAE;YACZ,KAAK,mBAAmB,CAAC,CAAC,OAAO,oLAAmC;YACpE,KAAK,mBAAmB,CAAC,CAAC,OAAO,oLAAmC;YACpE,KAAK,mBAAmB,CAAC,CAAC,OAAO,oLAAmC;YACpE,KAAK,eAAe,CAAC,CAAC,OAAO,mKAA8B;YAC3D,KAAK,eAAe,CAAC,CAAC,OAAO,mKAA8B;YAC3D,OAAO,CAAC,CAAC,OAAO,mKAA8B;SAC/C;IACH,CAAC;;wFA3OU,oBAAoB;kHAApB,oBAAoB;QCjBjC,8EACyE;QADrC,wMAA+B,gGAAe,cAAU,IAAI,CAAC,IAA9B;;QAE/D,kIAyRe;QACf,kIAiBe;QAEnB,4DAAW;;QA/SyB,0FAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACW4F;AACA;AACjB;AACiB;AACjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICJ1H,8EAAgL;IAAxB,iVAAuB;IAAC,wDAAuB;;IAAA,6DAAS;;;IAAhI,0FAAyB;IAAuE,2DAAuB;IAAvB,2IAAuB;;;IAoB5J,oEAAiD;IAAA,4EAAgC;IAAC,wDAAmC;;IAAA,6DAAO;;IAA1C,2DAAmC;IAAnC,iKAAmC;;;IAWjI,oEAA+C;IAAA,4EAAgC;IAAC,wDAAuC;;IAAA,6DAAO;;IAA9C,2DAAuC;IAAvC,qKAAuC;;;IAWjH,uEAAuD;IAAA,4EAAgC;IAAA,wDAAoC;;IAAA,6DAAO;;IAA3C,2DAAoC;IAApC,wJAAoC;;;IA8CxK,2EAAmE;IAC/D,wEAA8B;IAAA,wDAAuC;;IAAA,6DAAI;IAAC,wDAC9E;IAAA,6DAAM;;;IAD4B,2DAAuC;IAAvC,2JAAuC;IAAK,2DAC9E;IAD8E,+HAC9E;;;;IA2BoB,yEAAyC;IACrC,2EAA4G;IAA9C,0XAAwC,IAAI,IAAC;IAAC,wDAA+C;IAAA,6DAAM;IACrK,sEAAe;;;;IADiG,2DAA+C;IAA/C,6HAA+C;;;IAE/J,yEAAsC;IAClC,wDACJ;;IAAA,sEAAe;;;IADX,2DACJ;IADI,4KACJ;;;;IARR,sEAA0C;IACtC,sEAAI;IACA,wDAAc;IAAA,iEAAI;IAClB,yKAEe;IACf,yKAEe;IACnB,6DAAK;IACL,0EAAqB;IACjB,wDACJ;IAAA,6DAAK;IACL,0EAAqB;IACjB,wDACJ;IAAA,6DAAK;IACL,2EAAqB;IAAA,yDAAqB;IAAA,6DAAK;IAC/C,2EAAqB;IACjB,wFAAgJ;IAA/H,oXAA+B;IAChD,6DAAkB;IACtB,6DAAK;IACL,2EAAoB;IAChB,0EAAc;IACV,yDACJ;IAAA,sEAAe;IACnB,6DAAK;IACT,6DAAK;;;;IAxBG,2DAAc;IAAd,0FAAc;IACC,2DAAwB;IAAxB,yFAAwB;IAGxB,2DAAqB;IAArB,sFAAqB;IAKpC,2DACJ;IADI,4HACJ;IAEI,2DACJ;IADI,8FACJ;IACqB,2DAAqB;IAArB,uFAAqB;IAErB,2DAA+B;IAA/B,2FAA+B;IAK5C,2DACJ;IADI,0HACJ;;;IAzBZ,yEAAmC;IAC/B,kJA0BK;IACT,sEAAe;;;IA3BU,2DAAmB;IAAnB,0FAAmB;;;;IAThD,yEAAiD;IAC7C,0EAAyC;IAArC,gUAAoC;IAEpC,0EAAgB;IACZ,oEAAqG;IACrG,qEAAG;IAAA,wDAA+D;IAAA,6DAAI;IAAA,wDAC1E;IAAA,6DAAK;IACT,6DAAK;IACL,qJA4Be;IACnB,sEAAe;;;IAjCiC,2DAA0C;IAA1C,wGAA0C;IAC3E,2DAA+D;IAA/D,gJAA+D;IAAI,2DAC1E;IAD0E,2FAC1E;IAEW,2DAAkB;IAAlB,mFAAkB;;;IA6Eb,4EAAmK;;;;IAAtH,kOAAiF;IAAC,qFAAuB;;;;IAJlK,sEAAsB;IAClB,0EAA2C;IAAA,wDAAe;IAAA,6DAAK;IAC/D,sEAAI;IACA,iFAAgH;IAAjC,ubAAgC;;IAC3G,6MAAmK;IACvK,6DAAY;IAChB,6DAAK;IACL,sEAAI;IAAA,wDAAmC;IAAA,6DAAK;IAC5C,sEAAI;IAAA,yDAAmB;IAAA,6DAAK;IAC5B,2EAAoB;IAChB,yDAEJ;IAAA,6DAAK;IACT,6DAAK;;;;IAZ0C,2DAAe;IAAf,+EAAe;IAE9B,2DAAsD;IAAtD,+KAAsD;IAAC,4FAAgC;IAC5E,2DAAY;IAAZ,mFAAY;IAG/C,2DAAmC;IAAnC,iHAAmC;IACnC,2DAAmB;IAAnB,mFAAmB;IAEnB,2DAEJ;IAFI,+HAEJ;;;IAbR,yEAA+C;IAC3C,2LAaK;IACT,sEAAe;;;IAdN,2DAAe;IAAf,gFAAe;;;IAL5B,yEAAkC;IAC9B,sEAAI;IACA,0EAAgB;IAAA,wDAAe;IAAA,6DAAK;IACxC,6DAAK;IACL,+LAee;IAEnB,sEAAe;;;IAnBS,2DAAe;IAAf,+EAAe;IAEJ,2DAAc;IAAd,qFAAc;;;IAuBjC,4EAAmK;;;;IAAtH,kOAAiF;IAAC,qFAAuB;;;;IALtK,yEAAmC;IAC/B,sEAAI;IACA,sEAAI;IAAA,wDAAe;IAAA,6DAAK;IACxB,sEAAI;IACA,iFAAgH;IAAjC,maAAgC;;IAC3G,yLAAmK;IACvK,6DAAY;IAChB,6DAAK;IACL,sEAAI;IAAA,wDAAmC;IAAA,6DAAK;IAC5C,uEAAI;IAAA,yDAAmB;IAAA,6DAAK;IAC5B,2EAAoB;IAChB,yDAEJ;IAAA,6DAAK;IACT,6DAAK;IACT,sEAAe;;;;IAbH,2DAAe;IAAf,+EAAe;IAES,2DAAsD;IAAtD,+KAAsD;IAAC,4FAAgC;IAC5E,2DAAY;IAAZ,mFAAY;IAG/C,2DAAmC;IAAnC,iHAAmC;IACnC,2DAAmB;IAAnB,mFAAmB;IAEnB,2DAEJ;IAFI,+HAEJ;;;IArCZ,yEAAmD;IAE/C,gLAqBe;IACf,iLAee;IACnB,sEAAe;;;IAtCI,2DAAiB;IAAjB,kFAAiB;IAsBjB,2DAAkB;IAAlB,mFAAkB;;;;IApCjD,yEAA8B;IAC1B,oFAAmG;IAC/F,yEAAO;IACH,sEAAI;IACA,0EAAkB;IAAA,wDAA8B;;IAAA,6DAAK;IACrD,0EAAkB;IAAC,wDAA4B;;IAAA,6DAAK;IACpD,2EAAkB;IAAA,yDAAsB;;IAAA,6DAAK;IAC7C,2EAAkB;IAAA,yDAA0B;;IAAA,6DAAK;IACjD,2EAAkC;IAAA,yDAA4B;;IAAA,6DAAK;IACvE,6DAAK;IACT,6DAAQ;IACR,0EAAO;IACH,kKAwCe;IACnB,6DAAQ;IACZ,6DAAW;IAEf,sEAAe;;;;IAvDW,2DAAqB;IAArB,uFAAqB;IAGb,2DAA8B;IAA9B,kJAA8B;IAC7B,2DAA4B;IAA5B,4JAA4B;IAC7B,2DAAsB;IAAtB,4IAAsB;IACtB,2DAA0B;IAA1B,gJAA0B;IACV,2DAA4B;IAA5B,kJAA4B;IAInC,2DAAkB;IAAlB,+EAAkB;;;;IA8CzD,8EAAkL;IAAjC,+VAAgC;IAAC,wDAClK;;IAAA,6DAAS;IACzB,8EAA+L;IAAjC,+VAAgC;IAAC,wDAAoB;;IAAA,6DAAS;;IAF1C,2DAClK;IADkK,4IAClK;IAC+K,2DAAoB;IAApB,wIAAoB;;;;IA9D3N,gFACsC;IAD+D,2XAA4C;;IAE7I,mJAwDe;IACf,4NAIc;IAClB,6DAAW;;;;IAhEuI,sOAA0F;IAA9K,2EAAsC;;;IA2ElD,oEAA2I;;;;IANjL,2EAAgF;IAC5E,2EAA4H;IAArG,yaAA6C;IAChE,sEAAmD;IAEvD,6DAAM;IACN,2EAAiC;IAC7B,wDAA8B;;IAAA,qIAA2I;IAC7K,6DAAM;IACV,6DAAM;;;;IAPmE,2DAAsD;IAAtD,sHAAsD;IAClH,2DAAsB;IAAtB,kJAAsB;IAI3B,2DAA8B;IAA9B,gKAA8B;IAAI,2DAA0C;IAA1C,mHAA0C;;;IAR5F,yEAA8B;IAC1B,2EAAkF;IAC9E,mIAQM;IACV,6DAAM;IACV,sEAAe;;;IAVmB,2DAAY;IAAZ,uFAAY;;;IAoB1B,kFAAoH;;IAChH,uEAA6C;IAAC,wDAClD;IAAA,6DAAY;;;IAF6B,gKAAmC;IAAiB,oFAAsB;IACrF,2DAAgB;IAAhB,4IAAgB;IAAI,2DAClD;IADkD,0FAClD;;;IAGA,uEAAyF;IAAC,wDAC9F;;;IAD8B,0MAA4D;IAAI,2DAC9F;IAD8F,iGAC9F;;;IAQQ,6EAAmF;;;IAA9C,8EAAgB;;;;IAWzD,4EAI2C;IADvC,0XAAS,yDAA6C,IAAC;IAE3D,6DAAM;;;IADF,+FAAsC;IAFtC,qFAAuB;;;;IAjC/C,yEAA8B;IAC1B,+EAA0B;IACtB,2EAAuC;IACnC,2EAAwB;IACpB,4EAAwB;IAAC,wDAAyB;;IAAA,6DAAO;IACzD,iFAAiJ;IAA7F,oWAAkB;IAClE,+IAEY;IAChB,6DAAY;IACZ,gOAEc;IAClB,6DAAM;IACV,6DAAM;IACN,4EAAuC;IACnC,4EAAwB;IACpB,6EAAwB;IAAC,yDAA0B;;IAAA,6DAAO;IAC1D,qFAAgC;IAC5B,kFAAwE;IAA7D,yWAAsB;IAC7B,iJAAmF;IACvF,6DAAY;IAChB,6DAAe;IACnB,6DAAM;IAEV,6DAAM;IAEN,6EAAwB;IACpB,6EAAwB;IAAC,yDAAsB;;IAAA,6DAAO;IACtD,qFAAgC;IAC5B,6EAAuB;IACnB,sIAKM;IACV,6DAAM;IACV,6DAAe;IACnB,6DAAM;IACV,6DAAU;IACd,sEAAe;;;;IArC0B,2DAAyB;IAAzB,wJAAyB;IACE,2DAAkB;IAAlB,kFAAkB;IACtC,2DAAW;IAAX,sFAAW;IAWlB,2DAA0B;IAA1B,2JAA0B;IAEpC,2DAAsB;IAAtB,sFAAsB;IACD,2DAAO;IAAP,kFAAO;IAQtB,2DAAsB;IAAtB,uJAAsB;IAGhB,2DAAyB;IAAzB,oGAAyB;;;IAWpE,oEAEe;;;;IAOnB,gGAAkI;IAA1C,sYAAyC;IAAC,6DAA0B;;;IAA1G,uGAAqC;;;;;;ADrQhF,MAAM,oBAAoB;IA+B/B,YACS,YAA0B,EAC1B,MAAc,EACd,WAAwB,EACxB,WAAwB,EACxB,eAAgC,EAChC,MAAc,EACd,KAAwB,EACvB,gBAAkC,EAClC,IAAgB,EAChB,KAAqB,EACtB,YAA0B;QAV1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAmB;QACvB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,SAAI,GAAJ,IAAI,CAAY;QAChB,UAAK,GAAL,KAAK,CAAgB;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAzC5B,SAAI,GAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,+BAA+B;QAClE,qBAAgB,GAAY,KAAK,CAAC,CAAC,qCAAqC;QAC/E,gBAAW,GAAS,IAAI,IAAI,EAAE,CAAC;QAC/B,SAAI,GAAW,EAAE,CAAC;QAClB,iBAAY,GAAW,EAAE,CAAC;QAC1B,kBAAa,GAAU,EAAE,CAAC;QAC1B,kBAAa,GAAU,EAAE,CAAC;QAC1B,oBAAe,GAAG,KAAK,CAAC;QACxB,eAAU,GAAG,KAAK,CAAC;QACZ,aAAQ,GAAU;YACvB;gBACE,IAAI,EAAE,YAAY;gBAClB,KAAK,EAAE,IAAI;gBACX,GAAG,EAAE,sCAAsC;aAC5C;YACD;gBACE,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,IAAI;gBACX,GAAG,EAAE,sCAAsC;aAC5C;SACF,CAAC;QACK,SAAI,GAAW,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;QACnE,SAAI,GAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAEjD,uBAAkB,GAAU,EAAE,CAAC;QAC/B,cAAS,GAAyD,EAAE,CAAC;QACrE,sBAAiB,GAAG,EAAE,CAAC;QACvB,iBAAY,GAAG,IAAI,CAAC;QACpB,aAAQ,GAAG,IAAI,CAAC;QAoVhB,gCAA2B,GAAG,KAAK,CAAC;QAwBpC,yBAAoB,GAAG,IAAI,CAAC,MAAM,CAAC,wBAAwB,CACzD,sBAAsB,CACvB,CAAC;QAiBF,uFAAuF;QAChF,aAAQ,GAAW,UAAU,CAClC,YAAY,CAAC,OAAO,CAAC,0BAA0B,CAAC,CACjD,CAAC;QAyCF,eAAU,GAAQ,EAAE;QACpB,iCAA4B,GAAG,KAAK,CAAC;IA9ZjC,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,CAAC,+BAA+B;QAC5F,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,2CAA2C,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,iBAAiB,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,EAAE;YACnI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC,CAAC,8CAA8C;IACpD,CAAC;IAED,kBAAkB;QAChB,IACE,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC;YAClC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,EACjC;YACA,IAAI,CAAC,YAAY;gBACf,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,YAAY;oBAC/C,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,YAAY;oBAC9C,GAAG;oBACH,IAAI,CAAC;SACR;QAED,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;IAED,eAAe,CAAC,IAAI;QAClB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,GAAC,IAAI,CAAC,CAAC,CAAC;IACzC,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,2BAA2B,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACnF,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CACxB,GAAG,EAAE;YACH,IAAI,CAAC,YAAY,CAAC,oBAAoB,EAAE,CAAC;YACzC,IAAI,CAAC,YAAY,CAAC,kBAAkB,EAAE,CAAC,CAAC,uCAAuC;YAC/E,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACnC,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAChC,CAAC,CACF,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,IAAI;QACV,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC;YAClB,IAAI,CAAC,YAAY;iBACd,uCAAuC,CAAC,IAAI,CAAC;iBAC7C,IAAI,CAAC,CAAC,aAAkB,EAAE,EAAE;gBAC3B,IAAI,aAAa,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE;wBACzD,IACE,IAAI,CAAC,YAAY,CAAC,0BAA0B,EAAE;6BAC3C,mBAAmB;4BACtB,aAAa,CAAC,SAAS;gCACvB,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG,EACxC;4BACA,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,OAAO,EACP,IAAI,CAAC,eAAe,CAAC,SAAS,CAC5B,+CAA+C,CAChD,CACF,CAAC;4BACF,OAAO;yBACR;wBACD,IAAI,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;wBAClC,IAAI,MAAM,IAAI,CAAC,EAAE;4BACf,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,OAAO,EACP,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,qBAAqB,CAAC,CACtD,CAAC;yBACH;6BAAM;4BACL,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE;gCAC1D,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,OAAO,EACP,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,kBAAkB,CAAC,CACnD,CAAC;6BACH;iCAAM;gCACL,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;6BAChC;yBACF;qBACF;yBACI;wBACH,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,SAAS,EACT,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,uBAAuB,CAAC,CACxD,CAAC;qBACH;iBAEF;qBAAM;oBACL,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;oBACf,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,OAAO,EACP,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAC3D,CAAC;iBACH;YACH,CAAC,CAAC,CAAC;IACT,CAAC;IAED;;;;OAIG;IACH,UAAU,CAAC,IAAS;QAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACzC,qCACE,eAAe,EAAE,IAAI,CAAC,eAAe,IAClC,IAAI,KACP,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,EAC7D,YAAY,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAC9C,YAAY,EAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACtD,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAC5L;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrE,IACE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC,MAAM;YAC7D,IAAI,CAAC,QAAQ,CAAC,MAAM,EACpB;YACA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;gBACjB,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,iBAAiB,CAAC;gBAC1D,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CACvC,0DAA0D,CAC3D;gBACD,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE;gBAC3B,YAAY,EAAE,IAAI;aACnB,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,aAAa,GAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;YACrD,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,aAAa,EAAE;gBACnC,0CAA0C;gBAC1C,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE;oBAExF,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC;oBACzC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACtG;gBAED,2CAA2C;gBAC3C,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,EAAE;oBAC5D,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM;wBAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;iBAClF;aACF;SAEF;IACH,CAAC;IAGD,iBAAiB,CAAC,IAAI;QACpB,qBAAqB;QACrB,sDAAsD;QACtD,oBAAoB;QACpB,mDAAmD;QACnD,wCAAwC;IAC1C,CAAC;IAED,qCAAqC;IACrC,eAAe;QAEb,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM;YAC3B,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACzC,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;oBAC7C,eAAe;oBACf,CAAC,GAAG;wBACF,eAAe,EAAE,CAAC,CAAC,eAAe;wBAClC,oBAAoB,EAAE,CAAC,CAAC,GAAG;wBAC3B,MAAM,EAAE,CAAC;wBACT,QAAQ,EAAE,CAAC;wBACX,QAAQ,EAAE,CAAC,CAAC,QAAQ;6BACnB,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC;6BAC7C,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;4BACZ,IAAI,QAAQ,GAAG;gCACb,UAAU,EAAE,IAAI,CAAC,UAAU;gCAC3B,QAAQ,EAAE,IAAI,CAAC,YAAY;gCAC3B,YAAY,EAAE,IAAI,CAAC,YAAY;gCAC/B,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY;gCACjD,KAAK,EAAE,CAAC;gCACR,KAAK,EAAE,IAAI,CAAC,KAAK;gCACjB,KAAK,EAAE,IAAI,CAAC,KAAK;6BAClB;4BACD,IAAI,IAAI,CAAC,aAAa;gCAAE,QAAQ,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,aAAa;4BACtE,IAAI,IAAI,CAAC,aAAa;gCAAE,QAAQ,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,aAAa;4BACtE,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE;gCACnB,QAAQ,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;oCAC3C,IAAI,UAAU,GAAG;wCACf,UAAU,EAAE,KAAK,CAAC,UAAU;wCAC5B,KAAK,EAAE,KAAK,CAAC,KAAK;wCAClB,QAAQ,EAAE,KAAK,CAAC,QAAQ;wCACxB,KAAK,EAAE,KAAK,CAAC,KAAK;wCAClB,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;qCACrC;oCACD,IAAI,KAAK,CAAC,aAAa;wCAAE,UAAU,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,aAAa;oCAC1E,IAAI,KAAK,CAAC,aAAa;wCAAE,UAAU,CAAC,eAAe,CAAC,GAAG,KAAK,CAAC,aAAa;oCAC1E,OAAO,UAAU;gCACnB,CAAC,CAAC;6BACH;4BACD,OAAO,QAAQ,CAAC;wBAClB,CAAC,CAAC;qBACH,CAAC;oBACF,OAAO,CAAC,CAAC;gBACX,CAAC,CAAC,CAAC;gBACH,OAAO;gBACP,IAAI,IAAI,GAAoB;oBAC1B,SAAS,EAAE,EAAE;oBACb,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG;oBACtC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC,GAAG;oBACnD,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW;oBAC9C,IAAI,EAAE,EAAE;oBACR,IAAI,EAAE,IAAI,IAAI,EAAE;oBAChB,GAAG,EAAG,CAAC;iBACR,CAAC;gBAEF,mCAAmC;gBACnC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC,IAAI,CAC7D,CAAC,IAAS,EAAE,EAAE;oBACZ,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;oBACjD,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,SAAS,EACT,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,qBAAqB,CAAC,CACtD,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAEnC,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBAEf,CAAC,CACF,CAAC;YAEJ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;IACvD,CAAC;IAED,WAAW,CAAC,SAAS;QACnB,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACtC,eAAe;YACf,CAAC,GAAG;gBACF,eAAe,EAAE,CAAC,CAAC,eAAe;gBAClC,oBAAoB,EAAE,CAAC,CAAC,GAAG;gBAC3B,IAAI,EAAE,CAAC,CAAC,IAAI;gBACZ,iBAAiB,EAAE,CAAC,CAAC,iBAAiB;gBACtC,QAAQ,EAAE,CAAC,CAAC,QAAQ;qBACjB,MAAM,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC;qBAC7C,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;oBACZ,OAAO;wBACL,UAAU,EAAE,IAAI,CAAC,UAAU;wBAC3B,QAAQ,EAAE,IAAI,CAAC,YAAY;wBAC3B,YAAY,EAAE,IAAI,CAAC,YAAY;wBAC/B,WAAW,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY;wBACjD,KAAK,EAAE,IAAI,CAAC,KAAK;wBACjB,KAAK,EAAE,IAAI,CAAC,KAAK;wBACjB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC;wBAC1C,IAAI,EAAE,IAAI,CAAC,IAAI;wBACf,KAAK,EAAE,IAAI,CAAC,KAAK;wBACjB,MAAM,EAAG,IAAI,CAAC,MAAM,EAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;wBACtC,aAAa,EAAG,IAAI,CAAC,aAAa;qBACnC,CAAC;gBACJ,CAAC,CAAC;aACL,CAAC;YACF,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,OAAO,GAAG;YACZ,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG;YACtC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG;YAC9B,IAAI,EAAE,IAAI,IAAI,EAAE;YAChB,SAAS,EAAE,SAAS;SACrB;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,oCAAoC,CAAC;QACrF,IAAI,KAAK,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,MAAM,EAAE;YAC1G,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;YACpG,IAAI,OAAO,EAAE;gBACX,IAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC;gBACvB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAG,cAAc,EAAG,IAAI,EAAC,EAAE,KAAK,EAAE,KAAK,EAAE,eAAe,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;oBACxK,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;gBACjD,CAAC,CAAC;aACH;SACF;aAAM;YACL,IAAI,CAAC,MAAM,EAAE;SACd;IACH,CAAC;IAED;;;;OAIG;IACK,eAAe,CAAC,IAAyG;QAC/H,QAAQ,IAAI,EAAE;YACZ,KAAK,mBAAmB,CAAC,CAAC,OAAO,uKAAmC;YACpE,KAAK,mBAAmB,CAAC,CAAC,OAAO,uKAAmC;YACpE,KAAK,mBAAmB,CAAC,CAAC,OAAO,uKAAmC;YACpE,KAAK,eAAe,CAAC,CAAC,OAAO,sJAA8B;YAC3D,KAAK,eAAe,CAAC,CAAC,OAAO,sJAA8B;YAC3D,OAAO,CAAC,CAAC,OAAO,sJAA8B;SAC/C;IACH,CAAC;IAED;;OAEG;IACH,IAAI;QACF,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACjB,OAAO,EAAE,iBAAiB;YAC1B,QAAQ,EAAE,gBAAgB;YAC1B,QAAQ,EAAE,SAAS;YACnB,UAAU,EAAE,IAAI;YAChB,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE;YACpC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC;YACtD,UAAU,EAAE,GAAG,EAAE,GAAG,CAAC;SACtB,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACH,MAAM;QACJ,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IAED;;;OAGG;IACI,eAAe;QACpB,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,EAAE;YACzD,IAAI,CAAC,IAAI,CAAC,oBAAoB;gBAAE,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC;;gBAEtE,IAAI,CAAC,MAAM;qBACR,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE;oBACzC,oBAAoB,EAAE,sBAAsB;iBAC7C,CAAC;qBACD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,GAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE;wBAC1D,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;qBACxB,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;SACR;;YACC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAClC,OAAO,EACP,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAC9D,CAAC;IACN,CAAC;IAID;;;OAGG;IACH,oBAAoB;QAClB,IAAI,CAAC,MAAM;aACR,kBAAkB,CAAC;YAClB,oBAAoB,EAAE,IAAI,CAAC,oBAAoB;YAC/C,oBAAoB,EAAE,sBAAsB;SAC7C,CAAC;aACD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,GAAC,IAAI,CAAC,oBAAoB,CAAC,EAAE;gBAC1D,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;aACxB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAKM,WAAW,CAAC,KAAK;QACtB,YAAY,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC;IACzD,CAAC;IACD,mFAAmF;IACnF,WAAW,CAAC,KAAK,EAAE,KAAK;QACtB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACxC,CAAC;IACM,UAAU,CAAC,KAAa;QAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,eAAe,EAAE,KAAK,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC;QAC9D,YAAY,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACjC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAC7C,CAAC;IAED,0CAA0C;IAC1C,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;QACpE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAChC,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,sBAAsB,CAAC;IACnD,CAAC;IAED,oBAAoB;QAClB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,2BAA2B,CAAC;IACxD,CAAC;IAGD,OAAO,CAAC,KAAY,EAAE,KAAK;QACzB,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,IAAI;IAC7D,CAAC;IACD,YAAY,CAAC,IAAI,EAAE,GAAG;QACpB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;QAC7C,OAAO,GAAG,CAAC,UAAU;IACvB,CAAC;IAGD,oBAAoB;QAClB,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;YAC7B,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa;gBAAE,KAAK,GAAG,IAAI,CAAC;YACnD,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM;gBAAE,KAAK,GAAG,IAAI,CAAC;SACpG;QACD,IAAI,KAAK;YACP,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC;aACtH;YACH,IAAI,CAAC,4BAA4B,GAAG,KAAK,CAAC;YAC1C,+CAA+C;SAChD;IACH,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iCAAiC,CAAC;IAC9D,CAAC;IACD,qBAAqB;QACnB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,yCAAyC,CAAC;IACtE,CAAC;IACC,wBAAwB;QACxB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,4CAA4C,CAAC;IACzE,CAAC;IACD,yBAAyB;QACvB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,8CAA8C,CAAC;IAC3E,CAAC;IACD,qBAAqB;QACnB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iDAAiD,CAAC;IAC9E,CAAC;;wFAteU,oBAAoB;mHAApB,oBAAoB;QClDjC,gFAAiC;QAC7B,gFAA0B;QACtB,0EAA+C;QAC3C,0EAA6C;QACzC,wEAAiB;QAAA,wDAA8B;;QAAA,6DAAI;QACvD,6DAAM;QACN,0EAAkD;QAC9C,wEAA+B;QAAA,wDAAkC;;QAAA,6DAAI;QACrE,sFAAuF;QACnF,6EAA4G;QAAzF,wLAAkB;;QAArC,6DAA4G;QAChH,6DAAiB;QACjB,gNAEc;QAClB,6DAAM;QAEN,4EAAuD;QACnD,4EAA8C;QAC1C,4EAAsF;QACtF,4EAAgC;QAAA,yDAAwC;QAAA,6DAAM;QAClF,6DAAM;QACN,4EAAoH;QAChH,4EAAmG;QAC/F,yDAAa;QAAA,6DAAM;QACvB,6EAAiL;QACrL,6DAAM;QACN,+FAAyC;QACrC,2EAAyB;QACrB,2EAA6C;QAA5B,0IAAS,qBAAiB,IAAC;QAAC,qEAAiD;QAAC,yDAAuB;;QAAA,6DAAK;QAC3H,2EAAqG;QAApF,0IAAS,cAAU,IAAC;QAAgE,qEAA+C;QAAC,6EAAgC;QAAA,yDAClK;;QAAA,6DAAO;QAAA,6DAAK;QAC/B,2EAAgD;QAC5C,iNAA6K;QAC7K,uEAAI;QACA,2EAA8C;QAA7B,0IAAS,sBAAkB,IAAC;QACzC,qEAA+C;QAAC,yDACpD;;QAAA,6DAAK;QACL,2EAAkD;QAAjC,0IAAS,0BAAsB,IAAC;QAC7C,qEAAsD;QAAC,yDAC3D;;QAAA,6DAAK;QACT,6DAAK;QACT,6DAAK;QACL,2EAAoC;QAChC,iNAAmK;QACnK,uEAAI;QACA,2EAA+C;QAA9B,0IAAS,uBAAmB,IAAC;QAC1C,qEAA+C;QAAC,yDACpD;;QAAA,6DAAK;QACL,2EAA2D;QACvD,qEAAsD;QAAC,yDAC3D;;QAAA,6DAAK;QACT,6DAAK;QACT,6DAAK;QACL,2EAA0C;QACtC,iNAA6K;QAC7K,uEAAI;QACA,2EAA4C;QAA3B,0IAAS,oBAAgB,IAAC;QACvC,qEAA+C;QAAC,yDACpD;;QAAA,6DAAK;QACL,2EAAmD;QAAlC,0IAAS,2BAAuB,IAAC;QAC9C,qEAAsD;QAAC,yDAC3D;;QAAA,6DAAK;QACL,2EAAsD;QAArC,0IAAS,8BAA0B,IAAC;QACjD,qEAA+C;QAAC,yDACpD;;QAAA,6DAAK;QACL,2EAAuD;QAAtC,0IAAS,+BAA2B,IAAC;QAClD,qEAAsD;QAAC,yDAC3D;;QAAA,6DAAK;QACL,2EAAmD;QAAlC,0IAAS,2BAAuB,IAAC;QAC9C,qEAAsD;QAAC,yDAC3D;;QAAA,6DAAK;QACT,6DAAK;QACT,6DAAK;QACL,2EAAkD;QAA9C,iKAA2B,IAAI,IAAC;QAAc,qEAA+C;QAAC,yDAClG;;QAAA,6DAAK;QACL,2EAAyF;;QACrF,2EAA8B;QAC1B,2EAAkD;QAAjC,gKAA2B,IAAI,IAAC;QAC7C,qEAAkD;QAAC,yDACvD;;QAAA,6DAAK;QACL,2EAA6C;QAA5B,2JAAsB,IAAI,IAAC;QACxC,qEAAkD;QAAC,yDACvD;;QAAA,6DAAK;QACT,6DAAK;QACT,6DAAK;QACL,4EAAoC;QAAhC,2IAAS,YAAQ,IAAC;QAAc,sEAAiD;QAAC,0DACtF;;QAAA,6DAAK;QACT,6DAAK;QACT,6DAAmB;QACvB,6DAAM;QACV,6DAAM;QACV,6DAAY;QACZ,oFAAyB;QACrB,6EAAY;QACR,6EAAuB;QACnB,0EAA8B;QAAA,0DAAiC;;QAAA,6DAAI;QAAC,0DACxE;QAAA,6DAAM;QACN,6EAAkD;QAC9C,0EAA8B;QAAA,0DAAgC;;QAAA,6DAAI;QAAC,0DACvE;;QAAA,6DAAM;QACN,sHAEM;QACV,6DAAM;QAEN,sFAAmP;;QAC/O,2EAAO;QACH,wEAAI;QACA,4EAAkB;QAAA,uEAAG;QAAA,0DAA8B;;QAAA,6DAAI;QAAA,6DAAK;QAC5D,4EAAmC;QAAA,uEAAG;QAAA,0DAAsB;;QAAA,6DAAI;QAAA,6DAAK;QACrE,4EAAqB;QAAA,uEAAG;QAAA,0DAAkC;;QAAA,6DAAI;QAAA,6DAAK;QACnE,4EAAqB;QAAA,uEAAG;QAAA,0DAAiC;;QAAA,6DAAI;QAAA,6DAAK;QAClE,4EAAqB;QAAA,uEAAG;QAAA,0DAA+B;;QAAA,6DAAI;QAAA,6DAAK;QAChE,4EAAoB;QAAA,uEAAG;QAAA,0DAA2B;;QAAA,6DAAI;QAAA,6DAAK;QAC/D,6DAAK;QACT,6DAAQ;QACR,2EAAO;QACH,wIAqCe;QACnB,6DAAQ;QACZ,6DAAW;QAEX,6EAA2B;QACvB,wEAEM;QACN,6EAA8C;QAC1C,gFAA0H;QAAlH,+IAAS,UAAM,IAAC;QACpB,0DACJ;;QAAA,6DAAS;QACb,6DAAM;QACN,6EAA8C;QAC1C,gFAA6M;QAAzB,2JAAe,YAAQ,IAAC;;QACxM,0DACJ;;QAAA,6DAAS;QACb,6DAAM;QACV,6DAAM;QACV,6DAAa;QACjB,6DAAY;QAGZ,gIAgEW;QAEX,kFAAoX;QAA1P,uNAA2C,0FAAkD,0BAAsB,IAAxE,oIAAsH,KAAK,IAA3H;;;QACjK,wIAYe;QACnB,6DAAW;QAEX,kFAA0I;QAAtG,sMAA0B,mHAA4B,KAAK,IAAjC;;QAC1D,0IAyCe;QACf,wIAEe;QAEnB,6DAAW;QAEX,0FAAuF;QAAjC,6KAA0B,KAAK,IAAC;QAAC,6DAAmB;QAG1G,8JAA4J;;;;;;;QAnT3H,2DAA8B;QAA9B,mJAA8B;QAGhB,2DAAkC;QAAlC,iKAAkC;QACjD,2DAA6B;QAA7B,0EAA6B;QACM,2DAA0D;QAA1D,8LAA0D;QAAtF,8EAAkB;QAUL,2DAAwC;QAAxC,0GAAwC;QAEF,2DAAuB;QAAvB,gFAAuB;QAEzF,2DAAa;QAAb,yFAAa;QACN,2DAAyJ;QAAzJ,2NAAyJ;QAIjE,2DAAuB;QAAvB,uJAAuB;QAChF,2DAA8D;QAA9D,4HAA8D;QAAiF,2DAClK;QADkK,qJAClK;QACJ,2DAAgC;QAAhC,yEAAgC;QAIa,2DACpD;QADoD,+JACpD;QAE2D,2DAC3D;QAD2D,oKAC3D;QAGO,2DAAoB;QAApB,yEAAoB;QAIyB,2DACpD;QADoD,6KACpD;QAE2D,2DAC3D;QAD2D,kLAC3D;QAGO,2DAA0B;QAA1B,yEAA0B;QAImB,2DACpD;QADoD,yJACpD;QAE2D,2DAC3D;QAD2D,yKAC3D;QAEoD,2DACpD;QADoD,mLACpD;QAE2D,2DAC3D;QAD2D,8KAC3D;QAE2D,2DAC3D;QAD2D,wLAC3D;QAG0F,2DAClG;QADkG,sKAClG;QACe,2DAAwD;QAAxD,mLAAwD;QAGR,2DACvD;QADuD,6JACvD;QAEuD,2DACvD;QADuD,yJACvD;QAG8E,2DACtF;QADsF,2JACtF;QASsB,2DAAiC;QAAjC,yJAAiC;QAAK,2DACxE;QADwE,0FACxE;QAEkC,2DAAgC;QAAhC,iKAAgC;QAAK,2DACvE;QADuE,sLACvE;QACmD,2DAAc;QAAd,+EAAc;QAKxB,2DAAqC;QAArC,mKAAqC;QAAC,sFAAwB;QAG1E,2DAA8B;QAA9B,sJAA8B;QACb,2DAAsB;QAAtB,8IAAsB;QACpC,2DAAkC;QAAlC,0JAAkC;QAClC,2DAAiC;QAAjC,yJAAiC;QACjC,2DAA+B;QAA/B,uJAA+B;QAChC,2DAA2B;QAA3B,mJAA2B;QAIvB,2DAAgB;QAAhB,uFAAgB;QA8CtB,2DAAkC;QAAlC,gGAAkC;QACvD,2DACJ;QADI,6JACJ;QAGmH,2DAAgE;QAAhE,6LAAgE;QAA3K,yFAA2B;QAC/B,2DACJ;QADI,2JACJ;QAOU,2DAAkC;QAAlC,mGAAkC;QAkEgR,2DAAuC;QAAvC,oKAAuC;QAAzW,8IAAyD;QAgB/B,2DAA0B;QAA1B,sFAA0B;QAiD5C,2DAAmC;QAAnC,iGAAmC;QAG3B,2DAAsB;QAAtB,uFAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;ACvTkB;AAEnB;AACiB;AACD;AACT;AACT;AAEU;AACsB;AACqB;;;AAElG,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yEAAoB;KAChC;CACF;AAeM,MAAM,iBAAiB;;kFAAjB,iBAAiB;8GAAjB,iBAAiB;kHAVnB;YACP,yDAAY;YACZ,yEAAgB;YAChB,gEAAe;YACf,uDAAW;YACX,kEAAqB,CAAC,MAAM,CAAC;YAC7B,+DAAmB;YACnB,uDAAW;SACZ;mIAEU,iBAAiB,mBAZ1B,yEAAoB,EAAC,sFAAoB,EAAC,2GAA2B,aAGrE,yDAAY;QACZ,yEAAgB;QAChB,gEAAe;QACf,uDAAW,6DAEX,+DAAmB;QACnB,uDAAW;;;;;;;;;;;;;;;;;;;;;ACrBR,MAAM,YAAY;IAgCvB,YACS,MAAc,EACd,IAAgB;QADhB,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAY;QAhCzB,kCAAkC;QAClC,iBAAY,GAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAE9D,+BAA+B;QAC/B,qBAAgB,GAAW,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,0BAA0B,CAAC,CAAC,IAAI,EAAE,CAAC;QAE9F,4BAA4B;QAC5B,cAAS,GAAwC;YAC/C,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE;YACzC,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE;YAC3C,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE;YAC3C,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE,SAAS,EAAE;YAC1C,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAE;YAC7C,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE;YACzC,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,SAAS,EAAE;YAC9C,EAAE,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,SAAS,EAAE;YAC3C,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE;YACxC,6CAA6C;SAC9C,CAAC;QAEF,uCAAuC;QACvC,mBAAc,GAKR,EAAE,CAAC;QAoDT,iBAAY,GAAG,IAAI,CAAC;QACpB,aAAQ,GAAG,IAAI,CAAC;QA7Cd,IAAI,CAAC,gBAAgB,EAAE;aACpB,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE;YAClB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAClC,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACP,CAAC;IAID;;;OAGG;IACH,cAAc,CAAC,QAAgB;QAC7B,YAAY,CAAC,OAAO,CAAC,0BAA0B,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC;QACjC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC;IAC5D,CAAC;IAID;;;;OAIG;IACH,WAAW,CAAC,KAAK,EAAE,KAAK;QACtB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACxC,CAAC;IAID;;;OAGG;IACH,kBAAkB;QAChB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC;IAC5C,CAAC;IAOD;;;OAGG;IACH,gBAAgB;QACd,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,IAAI;iBACN,GAAG,CACF,2CAA2C,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,kBAAkB,EAAE,OAAO,CACjG;iBACA,SAAS,CAAC;gBACT,IAAI,EAAE,CAAC,SAAS,EAAE,EAAE;oBAClB,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;wBACzC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,0BAA0B;qBAC9D;yBAAM;wBACL,MAAM,CAAC,sCAAsC,CAAC,CAAC;qBAChD;gBACH,CAAC;gBACD,KAAK,EAAE,CAAC,KAAK,EAAE,EAAE;oBACf,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,yBAAyB;gBAC1C,CAAC;aACF,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,gBAAgB,CAAC;IACzD,CAAC;;wEA9GU,YAAY;6GAAZ,YAAY,WAAZ,YAAY,mBAFX,MAAM","sources":["./src/app/sales/prepaid-card/account-information/account-information.component.ts","./src/app/sales/prepaid-card/account-information/account-information.component.html","./src/app/sales/prepaid-card/config-print/config-print.component.ts","./src/app/sales/prepaid-card/config-print/config-print.component.html","./src/app/sales/prepaid-card/prepaid-card.component.ts","./src/app/sales/prepaid-card/prepaid-card.component.html","./src/app/sales/prepaid-card/prepaid-card.module.ts","./src/app/sales/services/theme.service.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhAlgorithm, VhAuth, VhImage } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n\r\n@Component({\r\n  selector: 'app-account-information',\r\n  templateUrl: './account-information.component.html',\r\n  styleUrls: ['./account-information.component.scss']\r\n})\r\nexport class AccountInformationComponent {\r\n  @Input() modalAccountInfo: boolean = false\r\n  @Output() closeAccount = new EventEmitter<any>();\r\n  /** form lưu các trường của nv đăng nhập */\r\n  detailEmployee: FormGroup;\r\n  employee: any;\r\n\r\n\r\n\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.countryCode = this.employee.countryCode ?? this.fncService.defaultCountryCode;\r\n    this.callingCode = this.fncService.getCallingCodeFromCountryCode(this.countryCode) ?? this.fncService.defaultCallingCode;\r\n    this.formattedPhone = this.fncService.getFormattedPhoneNumber(this.employee.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailEmployee = new FormGroup({\r\n      img: new FormControl(this.employee.img),\r\n      name: new FormControl(this.employee.name, Validators.compose([Validators.required, Validators.compose([Validators.minLength(6)])])),\r\n      email: new FormControl(this.employee.email, Validators.email),\r\n      password: new FormControl(this.employee.password, Validators.compose([Validators.minLength(5), Validators.required])),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.fncService.phoneValidator(() => this.countryCode)]),\r\n      gender: new FormControl(this.employee.gender),\r\n      address: new FormControl(this.employee.address),\r\n      dateofbirth: new FormControl(this.employee.dateofbirth),\r\n      datework: new FormControl(this.employee.datework),\r\n      contract: new FormControl(this.employee.contract),\r\n    });\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** \r\n   * Lấy hình ảnh từ Desktop\r\n   * @example this.onUpload($event)\r\n   */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"employees\", this.detailEmployee.value[\"img\"] || '').then(\r\n      photoURL => {\r\n        this.detailEmployee.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateEmployee(this.detailEmployee);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeAccount.emit(false)\r\n  }\r\n\r\n  /**\r\n   * Cập nhật thông tin thay đổi của nv vào database\r\n   * @param formValue : giá trị của biến this.detailEmployee\r\n   * @example this.updateEmployee(this.detailEmployee.value)\r\n  */\r\n  updateEmployee(formValue) {\r\n    if (formValue.valid) {\r\n      let value = { ...formValue.value };\r\n      if(value.phone) {\r\n        value.countryCode = this.countryCode;\r\n        value.phone = this.fncService.getNationalPhoneNumber(value.phone, this.countryCode);\r\n        value.phoneNumber = this.fncService.getInternationalPhoneNumber(value.phone, this.countryCode);\r\n      }\r\n      this.vhAuth.updateEmployee(this.employee._id, value).catch(err => { console.error(err) })\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string = this.fncService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.fncService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n}\r\n","<nz-modal nzWidth=\"60vw\" [(nzVisible)]=\"modalAccountInfo\" nzTitle=\"{{'Account information' | translate}}\"\r\n    [nzFooter]=\"null\" (nzOnOk)=\"closeModal()\" (nzOnCancel)=\"closeModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            <form id=\"layout-employee-form\" class=\"ant-table-body\" nz-form [formGroup]=\"detailEmployee\">\r\n                <div nz-row [nzGutter]=\"24\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                (change)=\"onUpload($event)\" />\r\n                            <img [ngStyle]=\"{width: detailEmployee.value.img ? '100%' : '60px'}\"\r\n                                onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                [src]=\"detailEmployee.value.img\" />\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Employee name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter employee name' | translate}}\" minlength=\"5\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Employee name is required'\r\n                                            | translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Email' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"email\" formControlName=\"email\" nz-input\r\n                                        placeholder=\"{{'Enter email' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Password' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly formControlName=\"password\" type=\"password\" nz-input\r\n                                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <div class=\"calling-code\">\r\n                                      <span>+{{callingCode}}</span>\r\n                                      <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                    </div>\r\n                                    <input formControlName=\"phone\" readonly\r\n                                      [placeholder]=\"'Enter phone number' | translate\" type=\"tel\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                        <nz-date-picker (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"dateofbirth\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Address'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter address' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"employee.owner =='boss'\">\r\n                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                        <nz-select style=\"border: none !important;\" nzShowSearch\r\n                            (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                            nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\">\r\n                            <nz-option nzLabel=\"{{'Female' | translate}}\" nzValue=\"Female\"></nz-option>\r\n                            <nz-option nzLabel=\"{{'Male' | translate}}\" nzValue=\"Male\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Starting date'|translate}}</b></div>\r\n                                <nz-date-picker style=\"width: 95%;\" (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                                    formControlName=\"datework\">\r\n                                </nz-date-picker>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Contract' | translate}}</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control>\r\n                                        <nz-input-group>\r\n                                            <input style=\"width: 95%;\" (blur)=\"updateEmployee(detailEmployee)\"\r\n                                                formControlName=\"contract\" nz-input\r\n                                                placeholder=\"{{'Enter contract' | translate}}\" />\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Platform } from '@ionic/angular';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { ExchangePaymentCardK57Col3Component } from 'src/app/sales/components/print/prepaid-card/exchange-payment-card-k57-col3/exchange-payment-card-k57-col3.component';\r\nimport { ExchangePaymentCardK80Col3Component } from 'src/app/sales/components/print/prepaid-card/exchange-payment-card-k80-col3/exchange-payment-card-k80-col3.component';\r\nimport { ExchangePaymentCardK80Col4Component } from 'src/app/sales/components/print/prepaid-card/exchange-payment-card-k80-col4/exchange-payment-card-k80-col4.component';\r\nimport { ExchangePaymentCardA5Component } from 'src/app/sales/components/print/prepaid-card/exchange-payment-card-a5/exchange-payment-card-a5.component';\r\nimport { ExchangePaymentCardA4Component } from 'src/app/sales/components/print/prepaid-card/exchange-payment-card-a4/exchange-payment-card-a4.component';\r\nimport { VhSaleInvoicesExchangePaymentCard } from 'src/app/sales/interface/vh-sale-payment-card-invoice';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  observablePrinter: any;\r\n \r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print  = [1,2,3,4,5]\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.printer = this.vhQuerySales.getLocalPrintPage(\"page_desktop_exchange_payment_card\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n  }\r\n  ngOnDestroy() { \r\n  }\r\n  \r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  \r\n  updatePrintPageType(value) {\r\n    this.item =  this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n  addPrinter() { \r\n    this.vhComponent.showLoading('').then(() => { \r\n      this.vhQuerySales.addPrintPage('page_desktop_exchange_payment_card',{...this.exchange_payment_card} )\r\n      .then((printer:any) => {\r\n        this.printer = printer\r\n        this.item = printer.print_sizes[0] \r\n        setTimeout(() => {\r\n          this.vhComponent.hideLoading(0)\r\n        }, 500);\r\n      }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n \r\n  // dữ liệu dùng để thêm máy in\r\n  \r\n  exchange_payment_card = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_exchange_payment_card',\r\n    print_sizes: [{\r\n      _id: 'print_size_a4',\r\n      name: 'A4',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_a5',\r\n      name: 'A5',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n      signature_buyer_hidden: false,\r\n      signature_shipper_hidden: false,\r\n      signature_creator_hidden: false,\r\n      signature_accountancy_hidden: false\r\n\r\n    },\r\n    {\r\n      _id: 'print_size_k80_4c',\r\n      name: 'K80 - 4 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k80_3c',\r\n      name: 'K80 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    },\r\n    {\r\n      _id: 'print_size_k57_3c',\r\n      name: 'K57 - 3 cột',\r\n      font_size: 16,\r\n      font_family: 'sans-serif',\r\n      enable: true,\r\n      header: this.languageService.translate(\"Welcome to the Store\"),\r\n      footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n      notice: '',\r\n      copies: 1,\r\n      printer_name: '',\r\n      customer_name_hidden: false,\r\n      customer_address_hidden: false,\r\n      customer_phone_hidden: false,\r\n      header_hidden: false,\r\n      footer_hidden: false,\r\n      employee_name_hidden: false,\r\n      bill_code_hidden: false,\r\n      barcode_hidden: false,\r\n      logo_hidden: false,\r\n      date_hidden: false,\r\n      name_store_hidden: false,\r\n      address_hidden: false,\r\n      name_branch_hidden: false,\r\n      phone_number_hidden: false,\r\n    }]\r\n  }\r\n\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQuerySales.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n    let invoice = new VhSaleInvoicesExchangePaymentCard(this.tempBillSalesCard, this.bill_details_ExchangeCard, this.vhQuerySales);\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(this.item._id), { printer: this.item, invoice: invoice }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n  \r\n  private renderPrintSalesPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangePaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangePaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangePaymentCardK80Col4Component\r\n      case 'print_size_a5': return ExchangePaymentCardA5Component\r\n      case 'print_size_a4': return ExchangePaymentCardA4Component\r\n      default: return ExchangePaymentCardA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- dữ liệu mẫu --------- */\r\n \r\n  // bán payment card\r\n  tempBillSalesCard: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 50,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"Đây là hoá đơn in thử...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n  }\r\n\r\n  bill_details_SalesCard = [\r\n    {\r\n      name: \"Thẻ trả trước\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      price: 191000,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          price_origin: 2000000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          quantity: 1,\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          quantity: 1,\r\n        }\r\n      ],\r\n      vtype: 1\r\n    },\r\n  ]\r\n\r\n  bill_details_ExchangeCard = [\r\n    {\r\n      name: \"Thẻ trả trước 1\",\r\n      code: \"J6JLST0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      ptype: 1,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      name: \"Thẻ trả trước 2\",\r\n      code: \"J6JLTT0705\",\r\n      id_bill: \"dwYfCADWQrZTutzv45CV\",\r\n      id_payment_card: \"dwYfCEHUerZTutzv45CV\",\r\n      id_payment_card_code: \"QdZ350rrnaNL8676l0QA\",\r\n      ptype: 1,\r\n      products: [\r\n        {\r\n          name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n          unit: \"pcs\",\r\n          price: 4800000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n          unit: \"pcs\",\r\n          price: 6290000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        },\r\n        {\r\n          name: \"Oji K80 80mmx45mm_5 rolls\",\r\n          unit: \"roll\",\r\n          price: 39000,\r\n          ratio: 5,\r\n          ptype: 1,\r\n          quantity: 1,\r\n          restquantity: 4\r\n        }\r\n      ],\r\n    },\r\n  ]\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Configure prepaid card exchange print page' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    \r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Router } from '@angular/router';\r\nimport {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from '../components/vh-component/vh-component';\r\nimport { LanguageService } from '../services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VhSaleInvoicesExchangePaymentCard } from '../interface/vh-sale-payment-card-invoice';\r\nimport { ExchangePaymentCardK57Col3Component } from '../components/print/prepaid-card/exchange-payment-card-k57-col3/exchange-payment-card-k57-col3.component';\r\nimport { ExchangePaymentCardK80Col3Component } from '../components/print/prepaid-card/exchange-payment-card-k80-col3/exchange-payment-card-k80-col3.component';\r\nimport { ExchangePaymentCardA4Component } from '../components/print/prepaid-card/exchange-payment-card-a4/exchange-payment-card-a4.component';\r\nimport { ExchangePaymentCardK80Col4Component } from '../components/print/prepaid-card/exchange-payment-card-k80-col4/exchange-payment-card-k80-col4.component';\r\nimport { ExchangePaymentCardA5Component } from '../components/print/prepaid-card/exchange-payment-card-a5/exchange-payment-card-a5.component';\r\nimport { VhBillType51Add } from '../components/bill-type/bill-type-51/bill-type51-interface';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ThemeService } from '../services/theme.service';\r\n\r\nexport interface TreeNodeInterface {\r\n  key: string;\r\n  name: string;\r\n  code?: number;\r\n  level?: number;\r\n  expand?: boolean;\r\n  price?: number;\r\n  children?: TreeNodeInterface[];\r\n  parent?: TreeNodeInterface;\r\n  products: Array<any>;\r\n  unit: string;\r\n  ratio: number;\r\n  quantity: number;\r\n  restquantity: number;\r\n  quantity_use: number;\r\n  stock: number;\r\n  id_payment_card_code?: string;\r\n  outquantity: number;\r\n  id_lotproduct?: string;\r\n  lots?: Array<any>;\r\n  name_payment_card? :string;\r\n  name_payment_card_release? : string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-prepaid-card',\r\n  templateUrl: './prepaid-card.component.html',\r\n  styleUrls: ['./prepaid-card.component.scss'],\r\n})\r\nexport class PrepaidCardComponent implements OnInit {\r\n  public user: any = this.vhAuth.getUser(); // thông tin tài khoản hiện tại\r\n  public modalAccountInfo: boolean = false; // show/hide moal thông tin tài khoản\r\n  currentDate: Date = new Date();\r\n  code: string = '';\r\n  heightScroll: string = '';\r\n  list_products: any[] = [];\r\n  product_codes: any[] = [];\r\n  showConfigPrint = false;\r\n  showConfig = false;\r\n  public langList: any[] = [\r\n    {\r\n      name: 'Vietnamese',\r\n      value: 'vi',\r\n      img: 'assets/icon/settings/language/vi.svg',\r\n    },\r\n    {\r\n      name: 'English',\r\n      value: 'en',\r\n      img: 'assets/icon/settings/language/en.svg',\r\n    },\r\n  ];\r\n  public lang: string = this.vhAuth.localStorageGET('language_code');\r\n  size: any = [12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n  customer: any;\r\n  list_payment_cards: any[] = [];\r\n  templates: { name: string; url: string; giai_thich: string; }[] = [];\r\n  store_main_sector = '';\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n\r\n  constructor(\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhComponent: VhComponent,\r\n    public languageService: LanguageService,\r\n    public router: Router,\r\n    public cdRef: ChangeDetectorRef,\r\n    private translateService: TranslateService,\r\n    private http: HttpClient,\r\n    private modal: NzModalService,\r\n    public themeService: ThemeService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.store_main_sector = this.vhAuth.getStore().main_sector; // Lấy main_sector của cửa hàng\r\n    this.http.get(`assets/documents/configuration/template/${this.country_code}/${this.store_main_sector}.json`).subscribe((templates) => {\r\n      this.templates = templates[this.language];\r\n    }); // Lấy giao diện theo main_sector của cửa hàng\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (\r\n      document.querySelector('#content') &&\r\n      document.querySelector('.button')\r\n    ) {\r\n      this.heightScroll =\r\n        document.querySelector('#content').clientHeight -\r\n        document.querySelector('.button').clientHeight -\r\n        180 +\r\n        'px';\r\n    }\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  gotoSellingPage(page) {\r\n    this.router.navigate(['/sales/'+page]);\r\n  }\r\n  gotoHome() {\r\n    this.router.navigate(['/sales/dashboard/overview'], { state: { isSync: true } });\r\n  }\r\n\r\n  logout() {\r\n    this.vhAuth.signOut().then(\r\n      () => {\r\n        this.vhQuerySales.closeSyncCollections();\r\n        this.vhQuerySales.clearDefaultBranch(); //xóa branchDefault trước khi thoát app\r\n        this.router.navigate(['/login']);\r\n      },\r\n      (error) => {\r\n        console.error('error', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCard(code) {\r\n    if (code.length >= 8)\r\n      this.vhQuerySales\r\n        .getPaymentCard_Code_Name_Release_byCode(code)\r\n        .then((product_codes: any) => {\r\n          if (product_codes) {\r\n            if (!this.product_codes.find((item) => item.code == code)) {\r\n              if (\r\n                this.vhQuerySales.getBranch_Management_Scope()\r\n                  .sales_program_scope &&\r\n                product_codes.id_branch !=\r\n                this.vhQuerySales.getDefaultBranch()._id\r\n              ) {\r\n                this.vhComponent.alertMessageDesktop(\r\n                  'error',\r\n                  this.languageService.translate(\r\n                    'Chi nhánh hiện tại không thể sử dụng thẻ này!'\r\n                  )\r\n                );\r\n                return;\r\n              }\r\n              let status = product_codes.status;\r\n              if (status == 1) {\r\n                this.vhComponent.alertMessageDesktop(\r\n                  'error',\r\n                  this.languageService.translate('Thẻ chưa được bán !')\r\n                );\r\n              } else {\r\n                if (this.currentDate > new Date(product_codes.date_expire)) {\r\n                  this.vhComponent.alertMessageDesktop(\r\n                    'error',\r\n                    this.languageService.translate('Thẻ đã hết hạn !')\r\n                  );\r\n                } else {\r\n                  this.handleCard(product_codes);\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              this.vhComponent.alertMessageDesktop(\r\n                'warning',\r\n                this.languageService.translate('Đang sử dụng thẻ này!')\r\n              );\r\n            }\r\n\r\n          } else {\r\n            this.code = '';\r\n            this.vhComponent.alertMessageDesktop(\r\n              'error',\r\n              this.languageService.translate('Không tìm thấy thẻ này !')\r\n            );\r\n          }\r\n        });\r\n  }\r\n\r\n  /**\r\n   * get card = card.id_card\r\n   * láy các sản phẩm trong card\r\n   * @param card product_code của card {id_card, id_release_detail}\r\n   */\r\n  handleCard(card: any) {\r\n    card.products = card.products.map((item) => {\r\n      return {\r\n        id_payment_card: card.id_payment_card,\r\n        ...item,\r\n        name: this.vhQuerySales.getlocalProduct(item.id_product).name,\r\n        restquantity: item.quantity - item.outquantity,\r\n        quantity_use:item.quantity == item.outquantity ? 0 : 1,\r\n        outquantity: item.outquantity,\r\n        stock: this.vhQuerySales.getlocalProduct(item.id_product).quantity_branch ? this.vhQuerySales.getlocalProduct(item.id_product).quantity_branch[this.vhQuerySales.getDefaultBranch()._id] : 0,\r\n      };\r\n    });\r\n    this.customer = this.vhQuerySales.getlocalCustomer(card.id_customer);\r\n    if (\r\n      card.products.filter((item) => item.restquantity == 0).length ==\r\n      card.products.length\r\n    ) {\r\n      this.modal.confirm({\r\n        nzTitle: this.languageService.translate('Đã sử dụng hết!'),\r\n        nzContent: this.languageService.translate(\r\n          'Thẻ này đã sữ dụng hết số lượng hàng hóa có thể sử dụng!'\r\n        ),\r\n        nzOnOk: () => this.cancel(),\r\n        nzCancelText: null,\r\n      });\r\n    } else {\r\n      this.product_codes =this.product_codes.concat([card])\r\n      for (let item of this.product_codes) {\r\n        // check xem products có sp có lots hay ko\r\n        if (item['products'].filter(pro => pro.ptype == 1 && pro.lots && pro.lots.length).length) {\r\n\r\n          this.show_modal_select_lots_combo = true;\r\n          this.tempDetail = this.tempDetail.concat(item['products'].filter(pro => pro.lots && pro.lots.length))\r\n        }\r\n\r\n        // check trong products có combo có lots ko\r\n        for (let i of item['products'].filter(pro => pro.ptype == 5)) {\r\n          if (i.combos.filter(e => e.lots && e.lots.length).length) this.tempDetail.push(i)\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  handleQuantityUse(item) {\r\n    // this.product_codes\r\n    //   .find((prod_code) => prod_code.code == item.code)\r\n    //   .products.find(\r\n    //     (prod) => prod.id_product == item.id_product\r\n    //   ).quantity_use = item.quantity_use;\r\n  }\r\n\r\n  //  xử lý đổi voucher và mở thông báo\r\n  exchangeVoucher() {\r\n\r\n    if (this.product_codes.length)\r\n      this.vhComponent.showLoading('').then(() => {\r\n        let billDetails = this.product_codes.map((m) => {\r\n          // bill details\r\n          m = {\r\n            id_payment_card: m.id_payment_card,\r\n            id_payment_card_code: m._id,\r\n            pctype: 1,\r\n            quantity: 1,\r\n            products: m.products\r\n            .filter((item_prod) => item_prod.quantity_use)\r\n            .map((prod) => {\r\n              let data_add = {\r\n                id_product: prod.id_product,\r\n                quantity: prod.quantity_use,\r\n                restquantity: prod.restquantity,\r\n                outquantity: prod.outquantity + prod.quantity_use,\r\n                price: 0,\r\n                ptype: prod.ptype,\r\n                ratio: prod.ratio,\r\n              }\r\n              if (prod.id_lotproduct) data_add['id_lotproduct'] = prod.id_lotproduct\r\n              if (prod.id_subproduct) data_add['id_subproduct'] = prod.id_subproduct\r\n              if (prod.ptype == 5) {\r\n                data_add['combos'] = prod.combos.map(combo => {\r\n                  let data_combo = {\r\n                    id_product: combo.id_product,\r\n                    price: combo.price,\r\n                    quantity: combo.quantity,\r\n                    ptype: combo.ptype,\r\n                    ratio: combo.ratio ? combo.ratio : 1,\r\n                  }\r\n                  if (combo.id_lotproduct) data_combo['id_lotproduct'] = combo.id_lotproduct\r\n                  if (combo.id_subproduct) data_combo['id_subproduct'] = combo.id_subproduct\r\n                  return data_combo\r\n                })\r\n              }\r\n              return data_add;\r\n            }),\r\n          };\r\n          return m;\r\n        });\r\n        // bill\r\n        let bill : VhBillType51Add= {\r\n          bill_type: 51,\r\n          id_employee: this.vhAuth.getUser()._id,\r\n          id_branch: this.vhQuerySales.getDefaultBranch()._id,\r\n          id_customer: this.product_codes[0].id_customer,\r\n          note: '',\r\n          date: new Date(),\r\n          tax : 0\r\n        };\r\n\r\n        // this.vhComponent.hideLoading(0);\r\n        this.vhQuerySales.createBill_Billdetail(bill, billDetails).then(\r\n          (bill: any) => {\r\n            this.product_codes[0].bill_code = bill.bill_code;\r\n            this.vhComponent.hideLoading(0);\r\n            this.vhComponent.alertMessageDesktop(\r\n              'success',\r\n              this.languageService.translate('Sử dụng thành công!')\r\n            );\r\n            this.handlePrint(bill.bill_code);\r\n\r\n          },\r\n          (error: any) => {\r\n\r\n          }\r\n        );\r\n\r\n      });\r\n  }\r\n\r\n  gotoChangeVoucher() {\r\n    this.router.navigateByUrl('/sales/exchange-voucher');\r\n  }\r\n\r\n  handlePrint(bill_code) {\r\n    let data = this.product_codes.map((m) => {\r\n      // bill details\r\n      m = {\r\n        id_payment_card: m.id_payment_card,\r\n        id_payment_card_code: m._id,\r\n        code: m.code,\r\n        name_payment_card: m.name_payment_card,\r\n        products: m.products\r\n          .filter((item_prod) => item_prod.quantity_use)\r\n          .map((prod) => {\r\n            return {\r\n              id_product: prod.id_product,\r\n              quantity: prod.quantity_use,\r\n              restquantity: prod.restquantity,\r\n              outquantity: prod.outquantity + prod.quantity_use,\r\n              price: prod.price,\r\n              ptype: prod.ptype,\r\n              unit: this.getUnit(prod.units, prod.ratio),\r\n              name: prod.name,\r\n              ratio: prod.ratio,\r\n              combos : prod.combos? prod.combos : [],\r\n              id_lotproduct : prod.id_lotproduct\r\n            };\r\n          }),\r\n      };\r\n      return m;\r\n    });\r\n    let invoice = {\r\n      id_employee: this.vhAuth.getUser()._id,\r\n      id_customer: this.customer._id,\r\n      date: new Date(),\r\n      bill_code: bill_code,\r\n    }\r\n\r\n    let print = this.vhQuerySales.getLocalPrintPage('page_desktop_exchange_payment_card')\r\n    if (print && print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)].enable) {\r\n      let printer = print.print_sizes[print.print_sizes.findIndex(e => e._id == print.print_size_default)]\r\n      if (printer) {\r\n        let type = printer._id;\r\n        this.vhComponent.showModal(this.renderPrintPage(type), { printer: printer, invoice: invoice , invoice_detail : data}, false, false, `modal-print-${type}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => this.cancel())\r\n        })\r\n      }\r\n    } else {\r\n      this.cancel()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return ExchangePaymentCardK57Col3Component\r\n      case 'print_size_k80_3c': return ExchangePaymentCardK80Col3Component\r\n      case 'print_size_k80_4c': return ExchangePaymentCardK80Col4Component\r\n      case 'print_size_a5': return ExchangePaymentCardA5Component\r\n      case 'print_size_a4': return ExchangePaymentCardA4Component\r\n      default: return ExchangePaymentCardA4Component\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Đổi thẻ\r\n   */\r\n  save() {\r\n    this.modal.confirm({\r\n      nzTitle: 'Xác sử dụng thẻ',\r\n      nzOkText: 'Xác nhận và In',\r\n      nzOkType: 'primary',\r\n      nzOkDanger: true,\r\n      nzOnOk: () => this.exchangeVoucher(),\r\n      nzCancelText: this.languageService.translate('Cancel'),\r\n      nzOnCancel: () => { },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * hủy dùng thẻ\r\n   */\r\n  cancel() {\r\n    this.tempDetail = [];\r\n    this.list_products = [];\r\n    this.product_codes = [];\r\n    this.customer = null;\r\n  }\r\n  show_modal_choose_interface = false;\r\n  /**\r\n   * thiết lập giao diện trang bán hàng\r\n   * @param type sale-pos | sale-desktop\r\n   */\r\n  public updateInterface() {\r\n    if (this.vhAuth.checkMyPermission('selling_display_page')) {\r\n      if (!this.default_selling_page) this.show_modal_choose_interface = true;\r\n      else\r\n        this.vhAuth\r\n          .updateEmployee(this.vhAuth.getUser()._id, {\r\n            default_display_page: 'selling_display_page',\r\n          })\r\n          .then((bool) => {\r\n            this.router.navigate(['/sales/'+this.default_selling_page], {\r\n              state: { isSync: true },\r\n            });\r\n          });\r\n    } else\r\n      this.vhComponent.alertMessageDesktop(\r\n        'error',\r\n        this.languageService.translate('You do not have this rights')\r\n      );\r\n  }\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName(\r\n    'default_selling_page'\r\n  );\r\n  /**\r\n   * thiết lập giao diện trang bán hàng  sale-pos | sale-desktop\r\n   *\r\n   */\r\n  updateSalesInterface() {\r\n    this.vhAuth\r\n      .updateMyPermission({\r\n        default_selling_page: this.default_selling_page,\r\n        default_display_page: 'selling_display_page',\r\n      })\r\n      .then((bool) => {\r\n        this.router.navigate(['/sales/'+this.default_selling_page], {\r\n          state: { isSync: true },\r\n        });\r\n      });\r\n  }\r\n  /////////////------------------------FONT_SIZE---------------------------//////////////\r\n  public fontSize: number = parseFloat(\r\n    localStorage.getItem('vh-sales-system-fontsize')\r\n  );\r\n  public setFontSize(value) {\r\n    localStorage.setItem('vh-sales-system-fontsize', JSON.stringify(value));\r\n    this.fontSize = value;\r\n    document.documentElement.style.fontSize = value + 'px';\r\n  }\r\n  /////////////------------------------COLOR---------------------------//////////////\r\n  changeColor(theme, event) {\r\n    this.vhAuth.changeTheme(theme, event);\r\n  }\r\n  public selectLang(value: string) {\r\n    let lang = this.langList.find(item => item.value == value)\r\n    this.vhAuth.localStorageSET('language_code', value)\r\n    this.vhAuth.localStorageSET('country_code', lang.country_code)\r\n    localStorage.setItem('vh-sales-language', value);\r\n    this.translateService.use(value);\r\n    this.languageService.switchLanguage(value);\r\n  }\r\n\r\n  /**Đóng modal và get lại thông tin user */\r\n  closeAccountInfo(event) {\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.modalAccountInfo = false;\r\n  }\r\n\r\n  gotoSalesVoucher() {\r\n    this.router.navigateByUrl('/sales/sales-voucher')\r\n  }\r\n\r\n  gotoSalesPrepaidCard() {\r\n    this.router.navigateByUrl('/sales/sales-payment-card')\r\n  }\r\n\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  tempDetail: any = []\r\n  show_modal_select_lots_combo = false;\r\n  handleChooseLotCombo() {\r\n    let check = false;\r\n    for (let i of this.tempDetail) {\r\n      if (i.ptype == 1 && !i.id_lotproduct) check = true;\r\n      if (i.ptype == 5 && i.combos.filter(item => item.lots && !item.id_lotproduct).length) check = true;\r\n    }\r\n    if (check)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Please select the lot for the product!\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      // this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n  gotoSalesOrder(){\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order')\r\n  }\r\n  gotoSalesOrderVoucher(){\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order-voucher')\r\n  }\r\n    gotoExchangeOrderVoucher(){\r\n    this.router.navigateByUrl('/sales/bill-web-app/exchange-order-voucher')\r\n  }\r\n  gotoSalesOrderPrepaidCard(){\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order-payment-card')\r\n  }\r\n  gotoExchangeOrderCard(){\r\n    this.router.navigateByUrl('/sales/bill-web-app/exchange-order-payment-card')\r\n  }\r\n}\r\n","<nz-layout style=\"height: 100%;\">\r\n    <nz-header class=\"header\">\r\n        <div class=\"sales-invoice-today-header\" nz-row>\r\n            <div nz-col nzSpan=\"4\" class=\" flex-between\">\r\n                <b class=\"title\">{{'Prepaid card' | translate}}</b>\r\n            </div>\r\n            <div nz-col nzSpan=\"10\" class=\"right-all-content\">\r\n                <b style=\"margin-right: 16px;\">{{'Enter card code' | translate}}*</b>\r\n                <nz-input-group [nzSuffix]=\"suffixIconSearch\" style=\"width: 70%; padding: 0 0 0 11px;\">\r\n                    <input type=\"text\" [(ngModel)]=\"code\" nz-input placeholder=\"{{'Please scan or enter code' | translate}} \" />\r\n                </nz-input-group>\r\n                <ng-template #suffixIconSearch>\r\n                    <button style=\"color: #fff;\" nz-button nzType=\"primary\" nzSize=\"large\" nzSearch [disabled]=\"!code.length\" [ngStyle]=\"{opacity: !code.length ? 0.5 : 1}\" (click)=\"getCard(code)\">{{'Apply' | translate}}</button>\r\n                </ng-template>\r\n            </div>\r\n\r\n            <div nz-col nzSpan=\"10\" class=\"info right-all-content\">\r\n                <div class=\"select-branch center-all-content\">\r\n                    <ion-icon src=\"assets/icon/global/location.svg\" style=\"margin-right: 8px;\"></ion-icon>\r\n                    <div class=\"select-branch-name\">{{vhQuerySales.getDefaultBranch().name}}</div>\r\n                </div>\r\n                <div class=\"center-div\" style=\"cursor: pointer;height: 100%;\" nz-dropdown [nzDropdownMenu]=\"menu\" nzTrigger=\"click\">\r\n                    <div style=\"white-space: nowrap;font-size: 0.9rem; margin-right: 4px; text-transform: capitalize;\">\r\n                        {{user.name}}</div>\r\n                    <nz-avatar [nzSrc]=\"user.img ? user.img : 'https://raw.githubusercontent.com/Viethas-App/Sales365-Desktop-Electron/refs/heads/main/assets/template/avatar-shop.png'\"></nz-avatar>\r\n                </div>\r\n                <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n                    <ul nz-menu nzSelectable>\r\n                        <li nz-menu-item (click)=\"updateInterface()\"><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i> {{'Sales' | translate}}</li>\r\n                        <li nz-menu-item (click)=\"gotoHome()\" [nzDisabled]=\"!vhAuth.checkMyPermission('admin_display_page')\"><i nz-icon nzType=\"home\" nzTheme=\"outline\"></i> <span style=\"margin-left: 3px;\">{{'Administrator'|\r\n                                translate}}</span></li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplSalesVoucher\">\r\n                            <ng-template #titleTplSalesVoucher><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Sell voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Sell voucher' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Sell prepaid card' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                            <ng-template #titleTpl><i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i><span style=\"margin-left: 1px;\"> {{'Exchange voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoChangeVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Exchange voucher for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item style=\"color: var(--ion-color-vh-green);\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Exchange prepaid card for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplWebAPp\">\r\n                            <ng-template #titleTplWebAPp><span nz-icon nzType=\"global\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Order from web/app' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrder()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Orders' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Voucher purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Voucher exchange order for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card exchange order for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"modalAccountInfo =true\" nz-menu-item><i nz-icon nzType=\"user\" nzTheme=\"outline\"></i> {{'Account information' | translate}}\r\n                        </li>\r\n                        <li nz-submenu nzTitle=\"{{'Configure card exchange page' | translate}}\" nzIcon=\"setting\">\r\n                            <ul style=\"min-width: 125px;\">\r\n                                <li nz-menu-item (click)=\"showConfigPrint = true\">\r\n                                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Print page' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"showConfig = true\">\r\n                                    <i nz-icon nzType=\"setting\" nzTheme=\"outline\"></i> {{'Others'| translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"logout()\" nz-menu-item><i nz-icon nzType=\"logout\" nzTheme=\"outline\"></i> {{'Log out' | translate}}\r\n                        </li>\r\n                    </ul>\r\n                </nz-dropdown-menu>\r\n            </div>\r\n        </div>\r\n    </nz-header>\r\n    <nz-content id=\"content\">\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"8\">\r\n                <b style=\"margin-right: 16px\">{{'Sales employee:' | translate}}</b> {{user.name}}\r\n            </div>\r\n            <div class=\"center-all-content\" nz-col nzSpan=\"8\">\r\n                <b style=\"margin-right: 16px\">{{'Exchange date' | translate}}:</b> {{currentDate |date: 'dd/MM/yyyy HH:mm'}}\r\n            </div>\r\n            <div class=\"center-all-content\" nz-col nzSpan=\"8\" *ngIf=\"customer\">\r\n                <b style=\"margin-right: 16px\">{{'Customer information:' | translate}}</b> {{customer.name}} - {{customer.phone}}\r\n            </div>\r\n        </div>\r\n\r\n        <nz-table #expandTable nzTableLayout=\"fixed\" nzNoResult=\"{{'No data'| translate}}\" [nzData]=\"product_codes\" nzShowSizeChanger nzShowPagination [nzPageSize]=\"20\" [nzPageSizeOptions]=\"[20, 30, 40, 50, 100, 200]\" [nzScroll]=\"{ y: heightScroll }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\"><b>{{'Product name' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign=\"center\"><b>{{'Unit' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Initial quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Usable quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"center\"><b>{{'Used quantity' | translate}}</b></th>\r\n                    <th nzAlign=\"right\"><b>{{'Remaining' | translate}}</b></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of product_codes\">\r\n                    <tr (click)=\"data.expand = !data.expand\">\r\n\r\n                        <td colspan=\"6\">\r\n                            <i style=\"cursor: pointer;\" nz-icon [nzType]=\"!data.expand ? 'minus' : 'plus'\" nzTheme=\"outline\"></i>\r\n                            <b>{{data.name_payment_card_release}} ({{data.name_payment_card}})</b>: {{data.code}}\r\n                        </td>\r\n                    </tr>\r\n                    <ng-container *ngIf=\"!data.expand\">\r\n                        <tr *ngFor=\"let item of data['products']\">\r\n                            <td>\r\n                                {{item.name}} <br>\r\n                                <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                    <pre style=\"color:var(--ion-color-vh-green);cursor: pointer;\" (click)=\"show_modal_select_lots_combo = true\">{{getLotNumber(item.lots, item.id_lotproduct)}}</pre>\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"item.ptype == 1\">\r\n                                    {{'Stock' | translate}}: {{item.stock}}\r\n                                </ng-container>\r\n                            </td>\r\n                            <td nzAlign=\"center\">\r\n                                {{getUnit(item.units, item.ratio)}}\r\n                            </td>\r\n                            <td nzAlign=\"center\">\r\n                                {{item.quantity}}\r\n                            </td>\r\n                            <td nzAlign=\"center\">{{item.restquantity}}</td>\r\n                            <td nzAlign=\"center\">\r\n                                <nz-input-number [(ngModel)]=\"item.quantity_use\" [nzMin]=\"0\" (ngModelChange)=\"handleQuantityUse(item)\" [nzMax]=\"item.restquantity\" [nzStep]=\"1\">\r\n                                </nz-input-number>\r\n                            </td>\r\n                            <td nzAlign=\"right\">\r\n                                <ng-container>\r\n                                    {{item.restquantity - item.quantity_use}}\r\n                                </ng-container>\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n        <div class=\"button\" nz-row>\r\n            <div nz-col nzSpan=\"12\">\r\n\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button (click)=\"save()\" [disabled]=\"!product_codes.length\" class=\"btn-add center-all-content\" nz-button nzType=\"default\">\r\n                    {{'Use card' | translate}}\r\n                </button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 8px\">\r\n                <button [disabled]=\"!product_codes\" class=\"btn-cancel center-all-content\" nz-button nzType=\"default\" nz-popconfirm nzPopconfirmTitle=\"{{'Confirm cancel card usage!' | translate}}\" (nzOnConfirm)=\"cancel()\">\r\n                    {{'Cancel' | translate}}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </nz-content>\r\n</nz-layout>\r\n\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal nzWidth=\"70vw\" *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\" [(nzVisible)]=\"show_modal_select_lots_combo\" nzTitle=\"{{'Select lot number for products in voucher' | translate}}: {{tempDetail.name}}\" (nzOnCancel)=\"handleChooseLotCombo()\"\r\n    (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\">{{\"Product name\" | translate}}</th>\r\n                    <th nzWidth=\"30%\"> {{'Lot number' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Unit' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Quantity' | translate}}</th>\r\n                    <th nzAlign=\"right\" nzWidth=\"20%\">{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n\r\n                    <ng-container *ngIf=\"data.combos\">\r\n                        <tr>\r\n                            <td colspan=\"4\">{{ data.name }}</td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let item of data.combos\">\r\n                            <tr *ngIf=\"item.lots\">\r\n                                <td style=\"padding-left: 16px !important;\">{{ item.name }}</td>\r\n                                <td>\r\n                                    <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"item.id_lotproduct\">\r\n                                        <nz-option *ngFor=\"let element of item.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                    </nz-select>\r\n                                </td>\r\n                                <td>{{getUnit(item.units, item.ratio)}}</td>\r\n                                <td>{{ item.quantity }}</td>\r\n                                <td nzAlign=\"right\">\r\n                                    {{vhAlgorithm.vhcurrencyunit(item.price) }}\r\n\r\n                                </td>\r\n                            </tr>\r\n                        </ng-container>\r\n\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!data.combos\">\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\" [(ngModel)]=\"data.id_lotproduct\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\" nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\" [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td nzAlign=\"right\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\" (click)=\"handleChooseLotCombo()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\" class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- ---------------------modal chọn giao diện bán hàng ------------------- -->\r\n<nz-modal [nzStyle]=\"{ top: '45%', transform: 'translateY(-50%)' }\" [nzBodyStyle]=\"{'max-height': '70vh'}\" nzWidth=\"60vw\" [(nzVisible)]=\"show_modal_choose_interface\" [nzOkDisabled]=\"!default_selling_page\" (nzOnOk)=\"updateSalesInterface()\" (nzOnCancel)=\"show_modal_choose_interface = false\" [nzTitle]=\"'Sales interface' | translate\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\" style=\"justify-content: start !important;\">\r\n            <div *ngFor=\"let template of templates\" nz-col nzSpan=\"12\" class=\"bottom-right\">\r\n                <div class=\"thumbnail\" (click)=\"default_selling_page = template.url\" [class.active]=\" default_selling_page == template.url\">\r\n                    <img [src]=\"template.image\" style=\"width: 100%;\" />\r\n\r\n                </div>\r\n                <div style=\"text-align: center;\">\r\n                    {{template.name | translate}} <i *ngIf=\"default_selling_page == template.url\" style=\"color: var(--ion-color-vh-green);\" nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<!-- ---------------------modal cấu hình------------------- -->\r\n<nz-modal nzCentered nzWidth=\"50vw\" [(nzVisible)]=\"showConfig\" (nzOnCancel)=\"showConfig = false\" [nzTitle]=\"'Other settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list nzSize=\"default\">\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Language'| translate}}</span>\r\n                    <nz-select style=\"width: 100%;\" class=\"select-lang\" [(ngModel)]=\"lang\" (ngModelChange)=\"selectLang($event)\" [nzCustomTemplate]=\"defaultTemplate\">\r\n                        <nz-option *ngFor=\"let item of langList\" nzLabel=\"{{item.name | translate}}\" nzCustomContent [nzValue]=\"item.value\">\r\n                            <img style=\"width: 24px;\" [src]=\"item.img\" /> {{item.name}}\r\n                        </nz-option>\r\n                    </nz-select>\r\n                    <ng-template #defaultTemplate let-selected>\r\n                        <img style=\"width: 24px;\" src=\"assets/icon/settings/language/{{selected.nzValue}}.svg\" /> {{selected.nzLabel}}\r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Font size'| translate}}</span>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <nz-select [(ngModel)]=\"fontSize\" (ngModelChange)=\"setFontSize($event)\">\r\n                            <nz-option *ngFor=\"let item of size\" [nzValue]=\"item\" [nzLabel]=\"item\"></nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div nz-row class=\"row\">\r\n                <span class='sub-title'> {{'Color'| translate}}</span>\r\n                <nz-list-item class=\"no-border\">\r\n                    <div id='color-picker'>\r\n                        <div *ngFor=\"let color of themeService.themeList\"\r\n                            class=\"color\"\r\n                            [ngClass]=\"color.theme\"\r\n                            (click)=\"themeService.changeColor(color.theme, $event)\"\r\n                            [style.background-color]=\"color.color\">\r\n                        </div>\r\n                    </div>\r\n                </nz-list-item>\r\n            </div>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<!-- modal hiễn thị cấu hình in -->\r\n<app-config-print [showConfigPrint]=\"showConfigPrint\" (hide)=\"showConfigPrint = false\"></app-config-print>\r\n\r\n<!-- modal thông tin tài khoản -->\r\n<app-account-information *ngIf=\"modalAccountInfo\" [modalAccountInfo]=\"modalAccountInfo\" (closeAccount)=\"closeAccountInfo($event)\"></app-account-information>\r\n","import { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PrepaidCardComponent } from './prepaid-card.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ConfigPrintComponent } from './config-print/config-print.component';\r\nimport { AccountInformationComponent } from './account-information/account-information.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PrepaidCardComponent, \r\n  }\r\n]\r\n@NgModule({\r\n  declarations: [\r\n    PrepaidCardComponent,ConfigPrintComponent,AccountInformationComponent\r\n  ],\r\n  imports: [\r\n    CommonModule, \r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n  ]\r\n})\r\nexport class PrepaidCardModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { VhAuth } from 'ionic-vhframeworks';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n\r\n  /** Danh sách font-size để chọn */\r\n  fontSizeList: number[] = [12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n\r\n  /** Font-size đang được chọn */\r\n  selectedFontSize: number = parseFloat(localStorage.getItem('vh-sales-system-fontsize')) || 14;\r\n\r\n  /** Danh sách màu để chọn */\r\n  themeList: { theme: string, color: string; }[] = [\r\n    { theme: 'gray-theme', color: '#7F7F7F' },\r\n    { theme: 'orange-theme', color: '#FF7F26' },\r\n    { theme: 'yellow-theme', color: '#f1c40f' },\r\n    { theme: 'green-theme', color: '#23B14D' },\r\n    { theme: 'sky-blue-theme', color: '#00A2E8' },\r\n    { theme: 'blue-theme', color: '#1877F2' },\r\n    { theme: 'dark-blue-theme', color: '#3F47CC' },\r\n    { theme: 'purple-theme', color: '#A349A3' },\r\n    { theme: 'red-theme', color: '#DA2127' },\r\n    // { theme: 'sapo-theme', color: '#0088FF' },\r\n  ];\r\n\r\n  /** Danh sách giao diện của cửa hàng */\r\n  salesTemplates: {\r\n    name: string;\r\n    url: string;\r\n    giai_thich: string;\r\n    image: string;\r\n  }[] = [];\r\n\r\n\r\n\r\n  constructor(\r\n    public vhAuth: VhAuth,\r\n    public http: HttpClient,\r\n  ) {\r\n    this.getSalesTemplate()\r\n      .then((templates) => {\r\n        this.salesTemplates = templates;\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error loading templates:', error);\r\n      });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Thiết lập lại font-size hiển thị trên app\r\n   * @param fontSize Font-size cần thay đổi\r\n   */\r\n  changeFontSize(fontSize: number) {\r\n    localStorage.setItem('vh-sales-system-fontsize', JSON.stringify(fontSize));\r\n    this.selectedFontSize = fontSize;\r\n    document.documentElement.style.fontSize = fontSize + 'px';\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Thiết lập lại màu theme hiển thị trên app\r\n   * @param theme Tên theme cần thay đổi\r\n   * @param event\r\n   */\r\n  changeColor(theme, event) {\r\n    this.vhAuth.changeTheme(theme, event);\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Lấy main_sector của cửa hàng\r\n   * @returns main_sector của cửa hàng\r\n   */\r\n  getStoreMainSector() {\r\n    return this.vhAuth.getStore().main_sector;\r\n  }\r\n\r\n\r\n\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n\r\n  /**\r\n   * Lấy giao diện theo main_sector của cửa hàng\r\n   * @returns Giao diện của cửa hàng\r\n   */\r\n  getSalesTemplate(): Promise<any[]> {\r\n    return new Promise((resolve, reject) => {\r\n      this.http\r\n        .get<any>(\r\n          `assets/documents/configuration/template/${this.country_code}/${this.getStoreMainSector()}.json`\r\n        )\r\n        .subscribe({\r\n          next: (templates) => {\r\n            if (templates && templates[this.language]) {\r\n              resolve(templates[this.language]); // ✅ Resolve with the data\r\n            } else {\r\n              reject('No templates found for this language');\r\n            }\r\n          },\r\n          error: (error) => {\r\n            reject(error); // ❌ Reject on HTTP error\r\n          },\r\n        });\r\n    });\r\n  }\r\n\r\n  getThemeValue() {\r\n    return this.vhAuth.getThemeValue() || 'sky-blue-theme';\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}