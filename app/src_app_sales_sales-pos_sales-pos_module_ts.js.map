{"version":3,"file":"src_app_sales_sales-pos_sales-pos_module_ts.js","mappings":"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","sources":["./src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service.ts","./src/app/sales/menu/manage/delivery/services/ghnService/ghn.service.ts","./src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service.ts","./src/app/sales/menu/manage/delivery/services/vnpostPost/vnpost-service.service.ts","./src/app/sales/sales-pos/components/account-information/account-information.component.ts","./src/app/sales/sales-pos/components/account-information/account-information.component.html","./src/app/sales/sales-pos/components/config-print/config-print.component.ts","./src/app/sales/sales-pos/components/config-print/config-print.component.html","./src/app/sales/sales-pos/components/config-sales/config-sales.component.ts","./src/app/sales/sales-pos/components/config-sales/config-sales.component.html","./src/app/sales/sales-pos/components/stock-pos/stock-pos.component.ts","./src/app/sales/sales-pos/components/stock-pos/stock-pos.component.html","./src/app/sales/sales-pos/components/stock-pos/stock-pos.module.ts","./src/app/sales/sales-pos/create-order/components/add-customer/add-customer.component.ts","./src/app/sales/sales-pos/create-order/components/add-customer/add-customer.component.html","./src/app/sales/sales-pos/create-order/components/best-selling/best-selling.component.ts","./src/app/sales/sales-pos/create-order/components/best-selling/best-selling.component.html","./src/app/sales/sales-pos/create-order/components/change-price-type/change-price-type.component.ts","./src/app/sales/sales-pos/create-order/components/change-price-type/change-price-type.component.html","./src/app/sales/sales-pos/create-order/components/check-fees/check-fees.component.ts","./src/app/sales/sales-pos/create-order/components/check-fees/check-fees.component.html","./src/app/sales/sales-pos/create-order/components/customer-pos/customer-pos.component.ts","./src/app/sales/sales-pos/create-order/components/customer-pos/customer-pos.component.html","./src/app/sales/sales-pos/create-order/components/customer-profile/customer-profile.component.ts","./src/app/sales/sales-pos/create-order/components/customer-profile/customer-profile.component.html","./src/app/sales/sales-pos/create-order/components/delivery-addresss-component/add-address-delivery/add-address-delivery.component.ts","./src/app/sales/sales-pos/create-order/components/delivery-addresss-component/add-address-delivery/add-address-delivery.component.html","./src/app/sales/sales-pos/create-order/components/delivery-addresss-component/list-address-customer-ghn/list-address-customer-ghn.component.ts","./src/app/sales/sales-pos/create-order/components/delivery-addresss-component/list-address-customer-ghn/list-address-customer-ghn.component.html","./src/app/sales/sales-pos/create-order/components/delivery-pos/delivery-pos.component.ts","./src/app/sales/sales-pos/create-order/components/delivery-pos/delivery-pos.component.html","./src/app/sales/sales-pos/create-order/components/payment-type/payment_type.component.ts","./src/app/sales/sales-pos/create-order/components/payment-type/payment_type.component.html","./src/app/sales/sales-pos/create-order/components/retail-info/retail-info.component.ts","./src/app/sales/sales-pos/create-order/components/retail-info/retail-info.component.html","./src/app/sales/sales-pos/create-order/components/staff-pos/staff-pos.component.ts","./src/app/sales/sales-pos/create-order/components/staff-pos/staff-pos.component.html","./src/app/sales/sales-pos/create-order/components/sub-pos/sub-pos.component.ts","./src/app/sales/sales-pos/create-order/components/template-sub-pos1/template-sub-pos1.component.ts","./src/app/sales/sales-pos/create-order/components/template-sub-pos1/template-sub-pos1.component.html","./src/app/sales/sales-pos/create-order/components/template-sub-pos2/template-sub-pos2.component.ts","./src/app/sales/sales-pos/create-order/components/template-sub-pos2/template-sub-pos2.component.html","./src/app/sales/sales-pos/create-order/components/template-sub-pos3/template-sub-pos3.component.ts","./src/app/sales/sales-pos/create-order/components/template-sub-pos3/template-sub-pos3.component.html","./src/app/sales/sales-pos/create-order/create-order.component.ts","./src/app/sales/sales-pos/create-order/create-order.component.html","./src/app/sales/sales-pos/create-order/create-order.module.ts","./src/app/sales/sales-pos/sales-pos.component.ts","./src/app/sales/sales-pos/sales-pos.component.html","./src/app/sales/sales-pos/sales-pos.module.ts","./src/app/sales/sales-pos/user-guide/user-guide.component.ts","./src/app/sales/sales-pos/user-guide/user-guide.component.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AhamoveService {\r\n  private URL: string = this.vhQuerySales.getShippingAhamoveURL()\r\n  // api_key = '183a9baa5176ebbaa9c10fe67fc02161d63f6849'; //dev\r\n  api_key = 'fc0ee646897ef09f19fd61075337728c61bc9480'; //production\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n  getTokenAhaMove(phone) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": 'https://api.ahamove.com/v1/partner/register_account',\r\n        \"mobile\": phone,\r\n        \"api_key\": this.api_key,\r\n        \"name\": \"Viethas\",\r\n        \"address\": \"Khách hàng\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getAllServiceAhaMove(city_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/service_types?city_id=${city_id}`,\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  calculateFeeAhamove(data) {\r\n    \r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v2/order/estimated_fee\",\r\n      }\r\n    }\r\n    const body = {\r\n      \"token\": data.token,\r\n      \"order_time\": 0,\r\n      \"path\": data.path,\r\n      \"services\": data.services,\r\n      \"payment_method\": \"CASH\"\r\n    }\r\n    return this.http.post(this.URL, body, options).toPromise();\r\n  }\r\n  createOrderAhamove(data) {\r\n\r\n    let x = `[{\"address\":\"${data.pick_address}\",\"name\":\"${data.pick_name}\",\"mobile\":\"${data.pick_tel}\"},{\"address\":\"${data.address}\",\"name\":\"${data.name}\",\"mobile\":\"${data.phone}\",\"cod\":${data.cod},\"remarks\":\"${data.note}\"}]`;\r\n    const options = {\r\n      params: {\r\n        \"url\": \"https://api.ahamove.com/v1/order/create\",\r\n        \"token\": data.token,\r\n        \"order_time\": data.order_time,\r\n        \"service_id\": data.service_id,\r\n        \"payment_method\": \"CASH\",\r\n        \"path\": x\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  getDetailBillAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/detail`,\r\n        \"token\": token,\r\n        \"order_id\": order_id\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n  cancelOrderAhamove(token, order_id) {\r\n\r\n    const options = {\r\n      params: {\r\n        \"url\": `https://api.ahamove.com/v1/order/cancel`,\r\n        \"token\": token,\r\n        \"order_id\": order_id,\r\n        \"comment\": \"No comment\"\r\n      }\r\n    }\r\n    return this.http.get(this.URL, options).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhnService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  /**\r\n  * kiểm tra token của giao hàng nhanh có hợp lệ hay không\r\n  * @example : this.transportService.connectTokenGhn(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  connectTokenGhn(token) {\r\n    let urlGhn = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/all';\r\n    const options = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(urlGhn, options).toPromise();\r\n  }\r\n  /**\r\n  * get các tỉnh trong nước Việt Nam\r\n  * @param token\r\n  * @example this.transportService.getProvinceGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getProvinceGhn(token) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/province';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      })\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các huyện trong tỉnh của Việt Nam\r\n  * @param token ,province_id\r\n  * @example this.transportService.getDistrictGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getDistrictGhn(token, province_id?) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/master-data/district';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n\r\n      }),\r\n      params: {\r\n        \"province_id\": province_id ? province_id : 0\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * get các xã trong huyện của Việt Nam\r\n  * @param token ,district_id\r\n  * @example this.transportService.getWardGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  getWardGhn(token, district_id) {\r\n    let url = `https://online-gateway.ghn.vn/shiip/public-api/master-data/ward?${district_id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"district_id\": district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính phí vận chuyển\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return\r\n  **/\r\n  calculate_delivery_fee(token, data) {\r\n    let url = \"https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/fee\";\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n      params: {\r\n        \"service_id\": data.service_id,\r\n        \"to_ward_code\": data.to_ward_code,\r\n        \"from_district_id\": data.from_district_id,\r\n        \"height\": data.height,\r\n        \"length\": data.length,\r\n        \"weight\": data.weight,\r\n        \"width\": data.width,\r\n        \"insurance_value\": data.insurance_value,\r\n        \"to_district_id\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * chọn service : đi bộ, bay...\r\n  * @param token,data\r\n  * @example this.transportService.calculate_delivery_fee().then(res =>{})\r\n  * @return result { data : [service_id,short_name,service_type_id]}\r\n  **/\r\n  getServiceDelivery(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/available-services';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n      params: {\r\n        \"shop_id\": data.shop_id,\r\n        \"from_district\": data.from_district_id,\r\n        \"to_district\": data.to_district_id\r\n      }\r\n    }\r\n    return this.http.get(url, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tạo đơn giao hàng\r\n  * @param data\r\n  * @example this.transportService.createOrderGhn().then(res =>{})\r\n  * @return\r\n  **/\r\n  createOrderGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/create';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Token\": data.token,\r\n        \"Content-Type\": \"application/json\",\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"to_name\": data.to_name,\r\n      \"to_phone\": data.to_phone,\r\n      \"to_address\": data.to_address,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"weight\": data.weight,\r\n      \"height\": data.height,\r\n      \"length\": data.length,\r\n      \"width\": data.width,\r\n      \"payment_type_id\": data.payment_type_id,\r\n      \"required_note\": data.required_note,\r\n      \"items\": data.items,\r\n      \"service_id\": data.service_id,\r\n      \"cod_amount\": data.cod_amount,\r\n      \"insurance_value\": data.insurance_value,\r\n      \"note\": data.note ? data.note : ''\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tính (đoán) ngày vận chuyển hàng hoàn thành\r\n  * @param data;\r\n  * @example : this.transportService.calculateTheExpectedDeliveryTime().then(res =>{})\r\n  * @return :\r\n  **/\r\n  calculateTheExpectedDeliveryTime(token, data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/leadtime';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n        \"ShopId\": data.shop_id.toString()\r\n      }),\r\n    }\r\n    let params = {\r\n      \"from_district_id\": data.from_district_id,\r\n      \"from_ward_code\": data.from_ward_code,\r\n      \"to_district_id\": data.to_district_id,\r\n      \"to_ward_code\": data.to_ward_code,\r\n      \"service_id\": data.service_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getInfoOrder(token, order_code) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shipping-order/detail';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": token,\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_code\": order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  cancelOrder(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/switch-status/cancel';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": data.token,\r\n        \"ShopId\": data.shop_id.toString(),\r\n      }),\r\n    }\r\n    let params = {\r\n      \"order_codes\": data.order_code\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  getOtpGhn(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateOTP';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\", //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n  addStaffToStore(data) {\r\n    let url = 'https://online-gateway.ghn.vn/shiip/public-api/v2/shop/affiliateCreateWithShop';\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n        \"Token\": \"5c8844f1-17f6-11eb-afc8-92a278719a56\",  //gán cứng token\r\n      }),\r\n    }\r\n    let params = {\r\n      \"phone\": data.phone,\r\n      \"otp\": data.otp,\r\n      \"shop_id\": data.shop_id\r\n    }\r\n    return this.http.post(url, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GhtkService {\r\n  private URL: string = this.vhQuerySales.getShippingGHTKURL()\r\n  constructor(\r\n    private http: HttpClient,\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n\r\n  /**\r\n  * kiểm tra token của giao hàng tiết kiệm có hợp lệ hay không và lấy thông tin kho\r\n  * @example : this.transportService.connectTokenGhtk(token).then(res =>{\r\n  * @param : tokenName\r\n  * @return :\r\n  **/\r\n  getWareHouseGhtk(token) {\r\n    // let options:any = {\r\n    //   method: 'GET',\r\n    //   url: 'http://115.78.100.57:8013/miscellaneous/ghtk',                       \r\n    //   params: {\r\n    //     token:token,\r\n    //     url: 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n    //   }            \r\n    // };          \r\n    // return axios.request(options);\r\n    \r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": 'https://services.giaohangtietkiem.vn/services/shipment/list_pick_add'\r\n      }\r\n    }\r\n\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  calculateFeeGhtk(data, transport) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": data.token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/fee\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"pick_address_id\": data.shop_id,\r\n      \"province\": data.province,\r\n      \"district\": data.district,\r\n      \"weight\": data.weight * 1000,\r\n      \"value\": data.insurance_value,\r\n      \"transport\": transport\r\n    }\r\n    \r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  /**\r\n  * tính toán phí vận chuyển\r\n  * @example : this.transportService.calculateFeeGhtk(data,transport).then(res =>{\r\n  * @param : data,transport\r\n  * @return :\r\n  **/\r\n  createOrderGhtk(token, products, order) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": \"https://services.giaohangtietkiem.vn/services/shipment/order/?ver=1.6.3\"\r\n      }\r\n    }\r\n    let params = {\r\n      \"products\": products,\r\n      \"order\": order\r\n    }\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n  getStatusBill(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/v2/${order_code}`\r\n      }\r\n    }\r\n    return this.http.get(this.URL, opptions).toPromise();\r\n  }\r\n  cancelOrder(token, order_code) {\r\n\r\n    const opptions = {\r\n      params: {\r\n        \"token\": token,\r\n        \"url\": `https://services.giaohangtietkiem.vn/services/shipment/cancel/${order_code}`\r\n      }\r\n    }\r\n    let params = {}\r\n    return this.http.post(this.URL, params, opptions).toPromise();\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class VnpostService {\r\n  private URL_TEST = 'https://donhang-uat.vnpost.vn/api/api'\r\n  private URL_PRODUCT = 'https://donhang.vnpost.vn/api/api'\r\n  private URL_SERVER = 'https://us-central1-servers-1b3fe.cloudfunctions.net/app/shippingclouds/vietnampost'\r\n  private TenDangNhap: string = '0909925354'\r\n  private MatKhau: string = '123456'\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n\r\n  }\r\n  getTokenVnpost() {\r\n    let url = `${this.URL_PRODUCT}/MobileAuthentication/GetAccessToken`;\r\n    let json: any = {\r\n      TenDangNhap: this.TenDangNhap,\r\n      MatKhau: this.MatKhau\r\n    }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': 'none' }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Kiểm tra xem liệu khách hàng đã có mã CRM và đã ủy quyền cho Viethas đẩy đơn hay chưa\r\n   * @param token\r\n   * @param customer_code \r\n   * @returns \r\n   */\r\n  checkCustomerCode(token, customer_code) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CheckCustomerCode`;\r\n    let json: any = { CustomerCode: customer_code }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách tỉnh / thành phố theo Vnpost\r\n   * @returns \r\n   */\r\n  getProvinceVnpost() {\r\n    let url = `${this.URL_PRODUCT}/TinhThanh/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách quận/huyện theo Vnpost\r\n   * @returns \r\n   */\r\n  getDistrictVnpost() {\r\n    let url = `${this.URL_PRODUCT}/QuanHuyen/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Lấy danh sách phường/xã theo Vnpost\r\n   * @returns \r\n   */\r\n  getWardVnpost() {\r\n    let url = `${this.URL_PRODUCT}/PhuongXa/GetAll`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url }\r\n    }\r\n    return this.http.get(this.URL_SERVER, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Hàm này lấy danh sách tên các phương thức vận chuyển\r\n   */\r\n  getServiceNameVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/TinhCuocTatCaDichVu`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n\r\n  /**\r\n   * Tạo order vnpost\r\n   */\r\n  createOrderVnpost(token, json: any) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CreateOrder`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise();\r\n  }\r\n  /**\r\n   * Tạo order vnpost\r\n   */\r\n  getDetailOrderById(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/Order/GetOrder/${Id}`;\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, null, opptions).toPromise()\r\n  }\r\n  /**\r\n   * Delelte order vnpost\r\n   */\r\n  deleteOrderVnpostByID(token: string, Id: string) {\r\n    let url = `${this.URL_PRODUCT}/DoiTac/CancelOrder`;\r\n    let json = { OrderId: Id }\r\n    const opptions = {\r\n      headers: new HttpHeaders({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      params: { 'url': url, 'h-token': token }\r\n    }\r\n    return this.http.post(this.URL_SERVER, json, opptions).toPromise()\r\n  }\r\n\r\n  // --------------------------------CÁC HÀM XỬ LÝ DỮ LIỆU-------------------------------------------\r\n  /**\r\n   * Hàm này để custom dữ liệu cho hàm getServiceNameVnpost\r\n   */\r\n  renderFormatService(infoSend, infoRecei, infoProd, infoDeli, CustomerCode) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      Weight: infoProd.WeightEvaluation, Width: infoProd.WidthEvaluation,\r\n      Length: infoProd.LengthEvaluation, Height: infoProd.HeightEvaluation,\r\n      CodAmount: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmount: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false,\r\n      CustomerCode: CustomerCode\r\n    }\r\n  }\r\n  /**\r\n   * Hàm này để custom dữ liệu cho hàm createOrderVnpost\r\n   */\r\n  renderFormatCreateOrder(infoSend, infoRecei, infoProd, infoDeli, CustomerCode, bill_code) {\r\n    return {\r\n      SenderDistrictId: infoSend.SenderDistrictId, SenderProvinceId: infoSend.SenderProvinceId,\r\n      SenderTel: infoSend.SenderTel, SenderFullname: infoSend.SenderFullname, SenderAddress: infoSend.SenderAddress,\r\n      SenderWardId: infoSend.SenderWardId, ReceiverTel: infoRecei.ReceiverTel, ReceiverFullname: infoRecei.ReceiverFullname,\r\n      ReceiverAddress: infoRecei.ReceiverAddress, ReceiverWardId: infoRecei.ReceiverWardId,\r\n      ReceiverAddressType: infoDeli.ReceiverAddressType == 0 ? null : infoDeli.ReceiverAddressType, ServiceName: infoDeli.ServiceName, OrderCode: bill_code,\r\n      CustomerNote: infoDeli.CustomerNote, PickupType: 1,\r\n      ReceiverDistrictId: infoRecei.ReceiverDistrictId, ReceiverProvinceId: infoRecei.ReceiverProvinceId,\r\n      WeightEvaluation: infoProd.WeightEvaluation, WidthEvaluation: infoProd.WidthEvaluation,\r\n      LengthEvaluation: infoProd.LengthEvaluation, HeightEvaluation: infoProd.HeightEvaluation,\r\n      CodAmountEvaluation: +infoDeli.CodAmountEvaluation, IsReceiverPayFreight: infoDeli.IsReceiverPayFreight,\r\n      OrderAmountEvaluation: +infoDeli.OrderAmountEvaluation, UseBaoPhat: false, UseHoaDon: false,\r\n      PickupPoscode: \"\", CustomerCode: CustomerCode,\r\n      UseNhanTinSmsNguoiNhanTruocPhat: false, UseNhanTinSmsNguoiNhanSauPhat: false\r\n\r\n    }\r\n  }\r\n  renderFormatPrintOrder(delivery) {\r\n    \r\n    return {\r\n      created: delivery.CreateTime, customer_fullname: delivery.ReceiverFullname,\r\n      customer_tel: delivery.ReceiverTel, address: delivery.ReceiverFullAddress,\r\n      ship_money: delivery.TotalFreightIncludeVatEvaluation, insurance: 0,\r\n      is_freeship: delivery.IsReceiverPayFreight ? 0 : 1, CodAmountEvaluation: delivery.CodAmountEvaluation\r\n    }\r\n  }\r\n  // --------------------------------CÁC HÀM XỬ LÝ DỮ LIỆU-------------------------------------------\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhAlgorithm, VhAuth, VhImage } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n\r\n@Component({\r\n  selector: 'app-account-information',\r\n  templateUrl: './account-information.component.html',\r\n  styleUrls: ['./account-information.component.scss']\r\n})\r\nexport class AccountInformationComponent {\r\n  @Input() modalAccountInfo: boolean = false\r\n  @Output() closeAccount = new EventEmitter<any>();\r\n  /** form lưu các trường của nv đăng nhập */\r\n  detailEmployee: FormGroup;\r\n  employee: any;\r\n\r\n\r\n\r\n  constructor(\r\n    public languageService: LanguageService,\r\n    private vhImage: VhImage,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService,\r\n  ) {\r\n    this.employee = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id);\r\n    this.countryCode = this.employee.countryCode ?? this.fncService.defaultCountryCode;\r\n    this.callingCode = this.fncService.getCallingCodeFromCountryCode(this.countryCode) ?? this.fncService.defaultCallingCode;\r\n    this.formattedPhone = this.fncService.getFormattedPhoneNumber(this.employee.phone, this.countryCode as CountryCode);\r\n\r\n    this.detailEmployee = new FormGroup({\r\n      img: new FormControl(this.employee.img),\r\n      name: new FormControl(this.employee.name, Validators.compose([Validators.required, Validators.compose([Validators.minLength(6)])])),\r\n      email: new FormControl(this.employee.email, Validators.email),\r\n      password: new FormControl(this.employee.password, Validators.compose([Validators.minLength(5), Validators.required])),\r\n      phone: new FormControl(this.formattedPhone, [Validators.required, this.fncService.phoneValidator(() => this.countryCode)]),\r\n      gender: new FormControl(this.employee.gender),\r\n      address: new FormControl(this.employee.address),\r\n      dateofbirth: new FormControl(this.employee.dateofbirth),\r\n      datework: new FormControl(this.employee.datework),\r\n      contract: new FormControl(this.employee.contract),\r\n    });\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** \r\n   * Lấy hình ảnh từ Desktop\r\n   * @example this.onUpload($event)\r\n   */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"employees\", this.detailEmployee.value[\"img\"] || '').then(\r\n      photoURL => {\r\n        this.detailEmployee.controls[\"img\"].setValue(photoURL);\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was loaded successfully\")), 'success-toast');\r\n        this.updateEmployee(this.detailEmployee);\r\n      },\r\n      () => {\r\n        this.vhComponent.showToast(2000, (this.languageService.translate(\"Image was failed\")), 'alert-toast');\r\n      }\r\n    );\r\n  }\r\n\r\n  closeModal() {\r\n    this.closeAccount.emit(false)\r\n  }\r\n\r\n  /**\r\n   * Cập nhật thông tin thay đổi của nv vào database\r\n   * @param formValue : giá trị của biến this.detailEmployee\r\n   * @example this.updateEmployee(this.detailEmployee.value)\r\n  */\r\n  updateEmployee(formValue) {\r\n    if (formValue.valid) {\r\n      let value = { ...formValue.value };\r\n      if(value.phone) {\r\n        value.countryCode = this.countryCode;\r\n        value.phone = this.fncService.getNationalPhoneNumber(value.phone, this.countryCode);\r\n        value.phoneNumber = this.fncService.getInternationalPhoneNumber(value.phone, this.countryCode);\r\n      }\r\n      this.vhAuth.updateEmployee(this.employee._id, value).catch(err => { console.error(err) })\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Mã quốc gia */\r\n  countryCode: string = this.fncService.defaultCountryCode;\r\n  /** Calling code */\r\n  callingCode: string = this.fncService.defaultCallingCode;\r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n}\r\n","<nz-modal nzWidth=\"60vw\" [(nzVisible)]=\"modalAccountInfo\" nzTitle=\"{{'Account information' | translate}}\"\r\n    [nzFooter]=\"null\" (nzOnOk)=\"closeModal()\" (nzOnCancel)=\"closeModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div>\r\n            <form id=\"layout-employee-form\" class=\"ant-table-body\" nz-form [formGroup]=\"detailEmployee\">\r\n                <div nz-row [nzGutter]=\"24\">\r\n                    <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                        <div class=\"bg-img center-all-content\" (click)=\"getFile()\">\r\n                            <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                (change)=\"onUpload($event)\" />\r\n                            <img [ngStyle]=\"{width: detailEmployee.value.img ? '100%' : '60px'}\"\r\n                                onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                [src]=\"detailEmployee.value.img\" />\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Employee name'|translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"name\" nz-input\r\n                                        placeholder=\"{{'Enter employee name' | translate}}\" minlength=\"5\" required />\r\n                                    <ng-template #combineTplName let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Employee name is required'\r\n                                            | translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Email' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly type=\"email\" formControlName=\"email\" nz-input\r\n                                        placeholder=\"{{'Enter email' | translate}}\" required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Password' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input readonly formControlName=\"password\" type=\"password\" nz-input\r\n                                        placeholder=\"{{'Enter password' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <div class=\"calling-code\">\r\n                                      <span>+{{callingCode}}</span>\r\n                                      <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n                                    </div>\r\n                                    <input formControlName=\"phone\" readonly\r\n                                      [placeholder]=\"'Enter phone number' | translate\" type=\"tel\" nz-input required />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n                        <nz-date-picker (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"dateofbirth\"\r\n                            nzPlaceHolder=\"{{'Select date' | translate}}\">\r\n                        </nz-date-picker>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div><b class='label'>{{'Address'|translate}}</b></div>\r\n                        <nz-form-item>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"updateEmployee(detailEmployee)\" formControlName=\"address\" nz-input\r\n                                        placeholder=\"{{'Enter address' | translate}}\" />\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" *ngIf=\"employee.owner =='boss'\">\r\n                        <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n                        <nz-select style=\"border: none !important;\" nzShowSearch\r\n                            (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                            nzPlaceHolder=\"{{'Select gender' | translate}}\" formControlName=\"gender\">\r\n                            <nz-option nzLabel=\"{{'Female' | translate}}\" nzValue=\"Female\"></nz-option>\r\n                            <nz-option nzLabel=\"{{'Male' | translate}}\" nzValue=\"Male\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Starting date'|translate}}</b></div>\r\n                                <nz-date-picker style=\"width: 95%;\" (ngModelChange)=\"updateEmployee(detailEmployee)\"\r\n                                    formControlName=\"datework\">\r\n                                </nz-date-picker>\r\n                            </div>\r\n                            <div nz-col nzSpan=\"12\">\r\n                                <div><b class='label'>{{'Contract' | translate}}</b></div>\r\n                                <nz-form-item>\r\n                                    <nz-form-control>\r\n                                        <nz-input-group>\r\n                                            <input style=\"width: 95%;\" (blur)=\"updateEmployee(detailEmployee)\"\r\n                                                formControlName=\"contract\" nz-input\r\n                                                placeholder=\"{{'Enter contract' | translate}}\" />\r\n                                        </nz-input-group>\r\n                                    </nz-form-control>\r\n                                </nz-form-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesK57Col3Component } from './../../../components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { SalesK80Col3Component } from './../../../components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { LanguageService } from './../../../services/language.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { VhQuerySales, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhSaleInvoices } from 'src/app/sales/interface/vh-sale-invoice';\r\ndeclare var electron: any;\r\n@Component({\r\n  selector: 'app-config-print',\r\n  templateUrl: './config-print.component.html',\r\n  styleUrls: ['./config-print.component.scss']\r\n})\r\nexport class ConfigPrintComponent implements OnInit {\r\n  @Input() showConfigPrint = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  printer: any = {}\r\n  item: any = {}\r\n  list_font = [\r\n    {\r\n      value: 'sans-serif',\r\n      name: \"Arial\"\r\n    },\r\n    {\r\n      value: 'serif',\r\n      name: \"Times New Roman\"\r\n    },\r\n    {\r\n      value: 'monospace',\r\n      name: \"Courier New\"\r\n    },\r\n    {\r\n      value: 'system-ui',\r\n      name: 'System-ui',\r\n    }\r\n  ]\r\n  list_font_size = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]\r\n  list_printer: any = []\r\n  list_number_print = [1, 2, 3, 4, 5]\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    public platform: Platform\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    if (this.platform.is(\"electron\")) this.getPrint();\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.printer = this.vhQuerySales.getLocalPrintPage(\"page_desktop_sales\")\r\n    this.item = this.printer ? this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == this.printer.print_size_default)] : null\r\n    \r\n    if (this.printer && !this.printer?.print_sizes[0].discount_bill_detail_hidden) this.printer.print_sizes[0].discount_bill_detail_hidden = false\r\n    if (this.printer && !this.printer?.print_sizes[1].discount_bill_detail_hidden) this.printer.print_sizes[1].discount_bill_detail_hidden = false\r\n    // thêm trường mới qr_ibanking nhưng dữ liệu cũ chưa có nên set lại \r\n    if (this.item && !this.item.hasOwnProperty('qr_ibanking')) {\r\n      this.item.qr_ibanking = true;\r\n      this.updatePrint()\r\n\r\n    }\r\n  }\r\n  ngOnDestroy() {\r\n    //this.observablePrinter.unsubscribe()\r\n  }\r\n  addPrinter() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhQuerySales.addPrintPage('page_desktop_sales', { ...this.sales })\r\n        .then((printer: any) => {\r\n          this.printer = printer\r\n          this.item = printer.print_sizes[0]\r\n          setTimeout(() => {\r\n            this.vhComponent.hideLoading(0)\r\n          }, 500);\r\n        }).catch(err => console.error(err))\r\n      if (this.platform.is(\"electron\")) this.getPrint();\r\n    })\r\n\r\n  }\r\n\r\n  // dữ liệu dùng để thêm máy in\r\n  sales = {\r\n    print_size_default: \"print_size_a4\",\r\n    print_page_type: 'page_desktop_sales',\r\n    print_sizes: [\r\n      {\r\n        _id: 'print_size_a4',\r\n        name: 'A4',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        discount_bill_detail_hidden: true,\r\n        payment_points_hidden: false,\r\n        total_points_customer_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n\r\n      },\r\n      {\r\n        _id: 'print_size_a5',\r\n        name: 'A5',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        discount_bill_detail_hidden: true,\r\n        payment_points_hidden: false,\r\n        total_points_customer_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n        signature_buyer_hidden: false,\r\n        signature_shipper_hidden: false,\r\n        signature_creator_hidden: false,\r\n        signature_accountancy_hidden: false\r\n      },\r\n      {\r\n        _id: 'print_size_k80_4c',\r\n        name: 'K80 - 4 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        total_points_customer_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k80_3c',\r\n        name: 'K80 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        total_points_customer_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      },\r\n      {\r\n        _id: 'print_size_k57_3c',\r\n        name: 'K57 - 3 cột',\r\n        font_size: 16,\r\n        font_family: 'sans-serif',\r\n        enable: true,\r\n        header: this.languageService.translate(\"Welcome to the Store\"),\r\n        footer: this.languageService.translate(\"Goodbye, see you again!\"),\r\n        notice: '',\r\n        copies: 1,\r\n        printer_name: '',\r\n        customer_name_hidden: false,\r\n        customer_address_hidden: false,\r\n        customer_phone_hidden: false,\r\n        header_hidden: false,\r\n        footer_hidden: false,\r\n        employee_name_hidden: false,\r\n        bill_code_hidden: false,\r\n        barcode_hidden: false,\r\n        logo_hidden: false,\r\n        date_hidden: false,\r\n        name_store_hidden: false,\r\n        address_hidden: false,\r\n        name_branch_hidden: false,\r\n        phone_number_hidden: false,\r\n        discount_hidden: false,\r\n        discount_bill_hidden: false,\r\n        payment_points_hidden: false,\r\n        total_points_customer_hidden: false,\r\n        payment_coupon_hidden: false,\r\n        tax_hidden: false,\r\n        fee_hidden: false,\r\n        debt_hidden: false,\r\n        cash_hidden: false,\r\n        note_hidden: false,\r\n      }]\r\n  }\r\n\r\n  updatePrintPageType(value) {\r\n    this.item = this.printer.print_sizes[this.printer.print_sizes.findIndex(e => e._id == value)]\r\n    this.updatePrint()\r\n  }\r\n\r\n  checktype(value) {\r\n    if (typeof (value) != 'undefined') return true\r\n    if (typeof (value) == 'undefined') return false\r\n  }\r\n  getPrint() {\r\n    electron.ipcRenderer.send(\"allPrint\");\r\n    electron.ipcRenderer.on(\"printName\", (event, data) => {\r\n      this.list_printer = data\r\n    });\r\n  }\r\n  updatePrint() {\r\n    let value = { ...this.printer }\r\n    delete value._id;\r\n    this.vhQuerySales.updatePrintPage(this.printer._id, value);\r\n  }\r\n  printTemp() {\r\n\r\n    this.vhComponent.showModal(this.renderPrintSalesPage(this.item._id), { printer: this.item, invoice: this.tempBillCustomerReturn, invoice_detail: this.bill_details_CustomerReturn }, false, false, `modal-print-${this.item['_id']}`)\r\n  }\r\n\r\n  private renderPrintSalesPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  /** --------- dữ liệu mẫu --------- */\r\n  // khách trả hàng -- bán hàng - bảo hành sửa chữa\r\n  tempBillCustomerReturn: any = {\r\n    title: \"Invoice\",\r\n    bill_code: \"A35DE4F\",\r\n    bill_type: 1,\r\n    date: new Date().toISOString(),\r\n    id_customer: 'id_retail',\r\n    id_employee: this.vhAuth.getUser()._id,\r\n    fee: 0,\r\n    payment_type: 1,\r\n    discount: 200000,\r\n    note: \"Đây là hoá đơn in thử...\",\r\n    qty_total: 3,\r\n    root_total: 11129000,\r\n    tax: 0,\r\n    tax_value: 0,\r\n    total: 10929000,\r\n    payment: 10929000,\r\n    cash: 0\r\n  }\r\n\r\n  bill_details_CustomerReturn = [\r\n    {\r\n      name: \"BIXOLON SAMSUNG SRP-275C PRINTER\",\r\n      unit: \"pcs\",\r\n      price: 4800000,\r\n      price_origin: 2000000,\r\n      percent_discount_product: 0,\r\n      quantity: 1,\r\n      ratio: 1,\r\n      units: [{\r\n        unit: 'Cái',\r\n        ratio: 1,\r\n      }]\r\n    },\r\n    {\r\n      name: \"Máy POS Xprinter XP-I100 2Gb RAM + 16Gb ROM Android K58 - XP-I100 2Gb RAM + 16Gb ROM\",\r\n      unit: \"pcs\",\r\n      price: 6290000,\r\n      percent_discount_product: 0,\r\n      quantity: 1,\r\n      ratio: 1,\r\n      units: [{\r\n        unit: 'Cái',\r\n        ratio: 1,\r\n      }]\r\n    },\r\n    {\r\n      name: \"Oji K80 80mmx45mm_5 rolls\",\r\n      unit: \"roll\",\r\n      price: 39000,\r\n      percent_discount_product: 0,\r\n      quantity: 1,\r\n      ratio: 1,\r\n      units: [{\r\n        unit: 'Cái',\r\n        ratio: 1,\r\n      }]\r\n    }\r\n  ]\r\n\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"40vw\" [(nzVisible)]=\"showConfigPrint\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Sales print page settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset *ngIf=\"printer\">\r\n            <nz-tab nzTitle=\"{{'Functions' | translate}}\">\r\n\r\n                <nz-list  nzSize=\"default\" style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Select printer'| translate}}</span>\r\n                        <nz-select style=\"width: 250px;\" [(ngModel)]=\"item.printer_name\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_printer\" [nzValue]=\"item.name\"\r\n                                [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Allows print'| translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.enable\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Show currency unit' | translate}}</span>\r\n                        <nz-switch [(ngModel)]=\"item.currency_hidden\" (click)=\"$event.stopPropagation()\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Print size'| translate}}</span>\r\n                        <nz-select style=\"width: 120px;\" [(ngModel)]=\"printer.print_size_default \" (ngModelChange)=\"updatePrintPageType($event)\">\r\n                            <nz-option *ngFor=\"let item of printer.print_sizes\" [nzValue]=\"item._id\" nzLabel=\"{{item.name | translate}}\"></nz-option>\r\n                            \r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font style'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_family\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font\" [nzValue]=\"item.value\" [nzLabel]=\"item.name\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item>\r\n                        <span> {{'Font size'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.font_size\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_font_size\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item   *ngIf=\"platform.is('electron')\">\r\n                        <span> {{'Number of copies'| translate}}</span>\r\n                        <nz-select style=\"width: 200px;\" [(ngModel)]=\"item.copies\" (ngModelChange)=\"updatePrint()\">\r\n                            <nz-option *ngFor=\"let item of list_number_print\" [nzValue]=\"item\" [nzLabel]=\"item\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Notice'| translate}}</span>\r\n                        <textarea rows=\"2\" [(ngModel)]=\"item.notice\" (blur)=\"updatePrint()\" nz-input></textarea>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Invoice information' | translate}}\">\r\n                \r\n                <nz-list style=\"height: 400px;overflow-y: auto;\" class=\"hideScrollbar\">\r\n                    <nz-list-item  *ngIf=\"checktype(item.header)\"class=\"no-border\">\r\n                        <span> {{'Header'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.header\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer)\"class=\"no-border\">\r\n                        <span> {{'Footer'| translate}}</span>\r\n                        <textarea rows=\"1\" [(ngModel)]=\"item.footer\" (ngModelChange)=\"updatePrint()\"\r\n                            nz-input></textarea>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_detail_hidden)\" class=\"no-border\">\r\n                        <span> {{'Hide product discount column' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_detail_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.discount_bill_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide discount'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.discount_bill_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_points_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by point'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_points_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item   class=\"no-border\">\r\n                        <span> {{'Hide total customer loyalty points' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.total_points_customer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.payment_coupon_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide payment by coupon'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.payment_coupon_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.fee_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.fee_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.tax_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.tax_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.debt_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide debt'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.debt_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.note_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.note_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.cash_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer money'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.cash_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_buyer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide buyer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_buyer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                        [(ngModel)]=\"item.signature_store_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item> \r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_treasurer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide treasurer signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_treasurer_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_receiver_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide recipient signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_receiver_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_shipper_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide delivery person signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_shipper_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_creator_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide voucher creator signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_creator_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_stocker_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_stocker_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.signature_accountancy_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide chief accountant signature'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                            [(ngModel)]=\"item.signature_accountancy_hidden\" (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.header_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide header content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.header_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.footer_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide footer content when printing'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.footer_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.logo_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store logo'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.logo_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_store_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_store_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store address' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.name_branch_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide branch name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.name_branch_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.phone_number_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide store phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.phone_number_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.bill_code_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.bill_code_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  class=\"no-border\">\r\n                        <span> {{'Hide QR code for bank transfer' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.qr_ibanking\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.barcode_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide invoice code barcode'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.barcode_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.date_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide order creation time'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.date_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.employee_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide employee name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.employee_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.customer_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide customer phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.customer_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_name_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier name'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_name_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_address_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier address'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_address_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item  *ngIf=\"checktype(item.supplier_phone_hidden)\"class=\"no-border\">\r\n                        <span> {{'Hide supplier phone number'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"item.supplier_phone_hidden\"\r\n                            (ngModelChange)=\"updatePrint()\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                </nz-list>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n        <div style=\"height: 400px\" class=\"center-all-content\" *ngIf=\"!printer\">\r\n            <button class=\"btn-add\" (click)=\"addPrinter()\" nz-button> <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>{{'Add printer' |\r\n                translate}}</button>\r\n\r\n        </div>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n        <div class=\"right-all-content\">\r\n            <!-- <button *ngIf=\"printer\" class=\"btn-delete center-all-content\" nz-button\r\n                nzType=\"default\" nz-popconfirm\r\n                nzPopconfirmTitle=\"{{'Are you sure to delete this printer?'| translate}}\"\r\n                nzPopconfirmPlacement=\"top\"\r\n                (nzOnConfirm)=\"deletePrinter()\"\r\n                 >\r\n                <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                {{'Delete'|translate}}\r\n            </button> -->\r\n            <button class=\"btn-print center-all-content\" (click)=\"printTemp()\" nz-button nzType=\"default\">\r\n                <ion-icon style=\"font-size: 0.9rem; margin-right: 4px;\" src=\"assets/icon/management/printer.svg\">\r\n                </ion-icon>\r\n                {{'Print a draft'|translate}}\r\n            </button>\r\n        </div>\r\n    </ng-container>\r\n\r\n</nz-modal>","import { VhAlgorithm, VhAuth, VhImage, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-config-sales',\r\n  templateUrl: './config-sales.component.html',\r\n  styleUrls: ['./config-sales.component.scss']\r\n})\r\nexport class ConfigSalesComponent implements OnInit {\r\n  best_selling: any = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n  show_confirm_pay : any = this.vhAuth.localStorageGET(\"show_confirm_pay\");\r\n  show_product_mutil_line  : any = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_product_mutil_line_sales;\r\n  public tax: any = this.vhAuth.localStorageGET(\"show_tax\");\r\n  public fee: any = this.vhAuth.localStorageGET(\"show_fee\");\r\n  public discount: any = this.vhAuth.localStorageGET(\"show_discount\");\r\n  public note: any = this.vhAuth.localStorageGET(\"show_note\");\r\n  show_note_for_each_product: any = this.vhAuth.localStorageGET(\"show_note_for_each_product\");\r\n  public cash: any = this.vhAuth.localStorageGET(\"show_cash\");\r\n  rest: any = this.vhAuth.localStorageGET(\"show_rest\");\r\n  \r\n  style_template_sub_pos: any = this.vhAuth.localStorageGET(\"style_template_sub_pos\");\r\n  show_total_sub_pos_1: any = this.vhAuth.localStorageGET(\"show_total_sub_pos_1\");\r\n  show_fee_sub_pos_1: any = this.vhAuth.localStorageGET(\"show_fee_sub_pos_1\");\r\n  show_discount_sub_pos_1: any = this.vhAuth.localStorageGET(\"show_discount_sub_pos_1\");\r\n  show_pay_sub_pos_1: any = this.vhAuth.localStorageGET(\"show_pay_sub_pos_1\");\r\n\r\n  show_total_sub_pos_2: any = this.vhAuth.localStorageGET(\"show_total_sub_pos_2\");\r\n  show_fee_sub_pos_2: any = this.vhAuth.localStorageGET(\"show_fee_sub_pos_2\");\r\n  show_discount_sub_pos_2: any = this.vhAuth.localStorageGET(\"show_discount_sub_pos_2\");\r\n  show_pay_sub_pos_2: any = this.vhAuth.localStorageGET(\"show_pay_sub_pos_2\");\r\n\r\n\r\n  show_total_sub_pos_3: any = this.vhAuth.localStorageGET(\"show_total_sub_pos_3\");\r\n  show_fee_sub_pos_3: any = this.vhAuth.localStorageGET(\"show_fee_sub_pos_3\");\r\n  show_discount_sub_pos_3: any = this.vhAuth.localStorageGET(\"show_discount_sub_pos_3\");\r\n  show_tax_sub_pos_3: any = this.vhAuth.localStorageGET(\"show_tax_sub_pos_3\");\r\n  show_cash_sub_pos_3: any = this.vhAuth.localStorageGET(\"show_cash_sub_pos_3\");\r\n  image_template_sub_pos2: any = this.vhAuth.localStorageGET(\"image_template_sub_pos2\");\r\n  default_discount_price_type = this.vhAuth.localStorageGET(\"default_discount_price_type\")? this.vhAuth.localStorageGET(\"default_discount_price_type\").value : '%';\r\n  symbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text;\r\n  show_discount_product = this.vhAuth.localStorageGET(\"show_discount_product\");\r\n  list_product =[\r\n    {\r\n      name: 'Máy in mã vạch XPrinter H500',\r\n      price :4000000,\r\n      quantity: 1,\r\n      unit:'cái'\r\n    },\r\n    {\r\n      name: 'Máy in hóa đơn XPrinter XP-470B',\r\n      price :599000,\r\n      quantity: 1,\r\n      unit:'cái'\r\n\r\n    },\r\n    {\r\n      name: 'Máy POS bán hàng Sunmi T2 (1 màn hình) kèm máy k80',\r\n      price :10400000,\r\n      quantity: 1,\r\n      unit:'cái'\r\n\r\n    },\r\n    {\r\n      name: 'Máy POS 2 màn hình T350 j1900 ram 4gb ssd 128 (15x12)',\r\n      price :11199000,\r\n      quantity: 1,\r\n      unit:'cái'\r\n\r\n    },\r\n    {\r\n      name: 'Máy quét mã vạch OPTICON OPR-3201',\r\n      price :11199000,\r\n      quantity: 1,\r\n      unit:'cái'\r\n\r\n    }\r\n  ]\r\n  showPortal = false;\r\n  @Input() showConfigSales = false;\r\n  @Output() hide = new EventEmitter<boolean>()\r\n  @Output() openSubScreen = new EventEmitter<boolean>()\r\n  constructor(\r\n    public vhAuth: VhAuth,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhImage: VhImage,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAlgorithm:VhAlgorithm\r\n  ) {  \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    \r\n    \r\n    if(typeof(this.tax) == 'undefined'){\r\n      this.vhAuth.localStorageSET(\"show_best_selling\", true)\r\n      this.vhAuth.localStorageSET(\"show_tax\", true)\r\n      this.vhAuth.localStorageSET(\"show_fee\", true)\r\n      this.vhAuth.localStorageSET(\"show_discount\", true)\r\n      this.vhAuth.localStorageSET(\"show_note\", true);\r\n      this.vhAuth.localStorageSET(\"show_cash\", true);\r\n      this.vhAuth.localStorageSET(\"show_rest\", true);\r\n    }   \r\n  }\r\n\r\n\r\n  updateSetting(title, ev) {\r\n    this.vhAuth.localStorageSET(title, ev)\r\n  }\r\n\r\n  getFile() {\r\n    document.getElementById(\"file-upload\").click();\r\n  }\r\n\r\n  /** Lấy hình ảnh từ Desktop */\r\n  onUpload(e?) {\r\n    const file = e.target.files[0];\r\n    this.vhImage.getThumbnailFromDesktop(file, 256, 256, \"sales_template_sub_pos2\", this.image_template_sub_pos2 || '').then(\r\n      photoURL => {\r\n        this.image_template_sub_pos2 = photoURL;\r\n        // this.vhQuerySales.updateAds(this.image_template_sub_pos2._id, { url: photoURL })\r\n        this.updateSetting('image_template_sub_pos2', { url: photoURL })\r\n        this.vhComponent.alertMessageDesktop('success', (this.languageService.translate(\"Image was loaded successfully\")));\r\n      },\r\n      () => {\r\n        this.vhComponent.alertMessageDesktop('error', (this.languageService.translate(\"Image was loaded successfully\")));\r\n      }\r\n    );\r\n  }\r\n}\r\n","<!-- ---------------------modal cấu hình máy in------------------- -->\r\n<nz-modal nzCentered nzWidth=\"70vw\" [(nzVisible)]=\"showConfigSales\" (nzOnCancel)=\"hide.emit(true)\"\r\n    [nzTitle]=\"'Sales interface display settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-tabset id=\"tabset-config-sale\">\r\n            <nz-tab nzTitle=\"{{'Main-screen' | translate}}\">\r\n                <nz-list>\r\n\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Select default discount type' | translate}}</span>\r\n                        <nz-select style=\"min-width:90px;\" nzPlaceHolder=\"{{'Chọn loại giảm giá'}}\" [(ngModel)]=\"default_discount_price_type\"  (ngModelChange)=\"updateSetting('default_discount_price_type',{value : $event})\">\r\n                            <nz-option nzValue=\"%\" nzLabel=\"%\"></nz-option>\r\n                            <nz-option [nzValue]=\"symbol\" [nzLabel]=\"symbol\"></nz-option>\r\n                          </nz-select>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show product discount % column' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_discount_product\" (ngModelChange)=\"updateSetting('show_discount_product',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show quick-sell products'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"best_selling\"\r\n                            (ngModelChange)=\"updateSetting('show_best_selling',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show payment confirmation' | translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_confirm_pay\"\r\n                            (ngModelChange)=\"updateSetting('show_confirm_pay',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <!-- <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show one product on multiple lines'| translate}}</span>\r\n                        <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_product_mutil_line\"\r\n                            (ngModelChange)=\"updateSetting('show_product_mutil_line',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item> -->\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show discount' | translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"discount\"\r\n                            (ngModelChange)=\"updateSetting('show_discount',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show fee'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"fee\"\r\n                            (ngModelChange)=\"updateSetting('show_fee',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show tax'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"tax\"\r\n                            (ngModelChange)=\"updateSetting('show_tax',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show rest'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"rest\"\r\n                            (ngModelChange)=\"updateSetting('show_rest',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show note'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"note\"\r\n                            (ngModelChange)=\"updateSetting('show_note',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Display note for each product in the invoice'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"show_note_for_each_product\"\r\n                            (ngModelChange)=\"updateSetting('show_note_for_each_product',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <span> {{'Show change'| translate}}</span>\r\n                        <nz-switch (click)=\"$event.stopPropagation()\" [(ngModel)]=\"cash\"\r\n                            (ngModelChange)=\"updateSetting('show_cash',$event)\">\r\n                        </nz-switch>\r\n                    </nz-list-item>\r\n                </nz-list>\r\n            </nz-tab>\r\n            <nz-tab nzTitle=\"{{'Sub-screen' | translate}}\">\r\n                <button nz-button nzType=\"primary\" (click)=\"showPortal = !showPortal; openSubScreen.emit(showPortal)\"\r\n                    nzShape=\"round\"> {{(!showPortal ? 'Turn on sub-screen':'Turn off sub-screen') | translate}}\r\n                </button>\r\n                <div nz-row style=\"margin-bottom: 16px;\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <span style=\"margin-right: 16px;\">{{'Select display template' | translate}}:</span>\r\n                        <nz-select [(ngModel)]=\"style_template_sub_pos\" style=\"min-width: 120px;\"\r\n                            (ngModelChange)=\"updateSetting('style_template_sub_pos',$event)\">\r\n                            <nz-option [nzValue]=\"1\" nzLabel=\"{{'Template' | translate}} 1\"></nz-option>\r\n                            <nz-option [nzValue]=\"2\" nzLabel=\"{{'Template' | translate}} 2\"></nz-option>\r\n                            <nz-option [nzValue]=\"3\" nzLabel=\"{{'Template' | translate}} 3\"></nz-option>\r\n                        </nz-select>\r\n                    </div>\r\n                </div>\r\n                <div nz-row *ngIf=\"style_template_sub_pos == 1\">\r\n                    <div nz-col nzSpan=\"18\" style=\" text-align: center;\" class=\"center-all-content\">\r\n                        <!-- <img width=\"80%\" height=\"270px\" src=\"assets/img/img_template_sub_pos_1.jpg\" alt=\"\"\r\n                            [ngStyle]=\"{'border': style_template_sub_pos == 1? '2px solid #00a859' : 'none'}\"> -->\r\n\r\n                        <div style=\"width: 90%;height: 350px;align-items: center; justify-content: center;font-size: 0.75rem; \"\r\n                            [ngStyle]=\"{'border': style_template_sub_pos == 1? '2px solid #00a859' : 'none'}\">\r\n                            <div style=\"height: 85%; overflow: auto; overflow-x: hidden; padding: 8px;\"\r\n                                class=\"hideScrollbar\">\r\n                                <table style=\"width: 100%;max-height: 90vh; border-collapse: collapse;\">\r\n                                    <tr>\r\n                                        <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;\">{{'Stt' |\r\n                                            translate}}</th>\r\n                                        <th style=\"text-align: left;border-bottom: 1px solid lightgrey;padding: 8px;\">\r\n                                            {{'Product name' |\r\n                                            translate}}</th>\r\n                                        <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;\">{{'Unit' |\r\n                                            translate}}</th>\r\n                                        <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;\">{{'Qty' |\r\n                                            translate}}</th>\r\n                                        <th style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey;\">\r\n                                            {{'Unit price' |\r\n                                            translate}}\r\n                                        </th>\r\n                                        <th style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey;\">\r\n                                            {{'Total' | translate}}\r\n                                        </th>\r\n                                    </tr>\r\n                                    <tr *ngFor=\"let item of list_product;let i = index\">\r\n                                        <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;\">\r\n                                            {{i+1}}</td>\r\n                                        <td style=\"padding: 8px;text-align: left;border-bottom: 1px solid lightgrey;\">\r\n                                            <div>\r\n                                                <p style=\"word-break: break-word;\">{{item.name}}</p>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;\">\r\n                                            {{item.unit}}</td>\r\n                                        <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;\">\r\n                                            {{vhAlgorithm.vhcurrencyunit(item.quantity)}}</td>\r\n                                        <td style=\"padding: 8px;border-bottom: 1px solid lightgrey;\">\r\n                                            <div style=\"text-align: end;\">\r\n                                                <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey;\">\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                            <div style=\"width: 100%;height: 15%;background-color: #00a859;\">\r\n                                <div\r\n                                    style=\"display: flex;align-items: center;justify-content: space-between;padding:0 8px;height: 100%;\">\r\n                                    <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_1')\">\r\n                                        <div style=\"color: white; \">{{'SubTotal' | translate}}</div>\r\n                                        <div style=\"color: white; \"><b>{{vhAlgorithm.vhcurrencyunit(31198000)}}</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_1')\">\r\n                                        <div style=\"color: white; \">{{'Discount' | translate}}</div>\r\n                                        <div style=\"color: white; text-align: center;\">\r\n                                            {{vhAlgorithm.vhcurrencyunit(0)}}</div>\r\n                                    </div>\r\n                                    <div *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_1')\">\r\n                                        <div style=\"color: white; \">{{'Fee' | translate}}</div>\r\n                                        <div style=\"color: white; text-align: center;\">\r\n                                            {{vhAlgorithm.vhcurrencyunit(0)}}</div>\r\n                                    </div>\r\n                                    <div *ngIf=\"vhAuth.localStorageGET('show_pay_sub_pos_1')\">\r\n                                        <div style=\"color: white; \">{{'Pay' | translate}}</div>\r\n                                        <div style=\"color: white; text-align: end;\">\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit(31198000)}}</b>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"6\">\r\n                        <nz-list>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show subtotal'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_total_sub_pos_1\"\r\n                                    (ngModelChange)=\"updateSetting('show_total_sub_pos_1',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show fee'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_fee_sub_pos_1\"\r\n                                    (ngModelChange)=\"updateSetting( 'show_fee_sub_pos_1',$event )\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show discount'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_discount_sub_pos_1\"\r\n                                    (ngModelChange)=\"updateSetting( 'show_discount_sub_pos_1',$event )\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show payment'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_pay_sub_pos_1\"\r\n                                    (ngModelChange)=\"updateSetting( 'show_pay_sub_pos_1',$event )\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                        </nz-list>\r\n                    </div>\r\n\r\n                </div>\r\n                <div nz-row *ngIf=\"style_template_sub_pos == 2\">\r\n                    <div nz-col nzSpan=\"18\" style=\" text-align: center;\" class=\"center-all-content\">\r\n                        <!-- <img width=\"80%\" height=\"270px\" src=\"assets/img/img_template_sub_pos_2.jpg\" alt=\"\" [ngStyle]=\"{'border': style_template_sub_pos == 2? '2px solid #00a859' : 'none'}\"> -->\r\n                        <div [ngStyle]=\"{'border': style_template_sub_pos == 2? '2px solid #00a859' : 'none'}\"\r\n                            style=\"display: flex;width: 90%;height: 350px;overflow: hidden; align-items: center; justify-content: center;  \">\r\n                            <div style=\"width: 50%;height: 100%;position: relative;\">\r\n                                <img width=\"100%\" height=\"100%\" (click)=\"getFile()\"\r\n                                    [src]=\"vhAuth.localStorageGET('image_template_sub_pos2') ? vhAuth.localStorageGET('image_template_sub_pos2').url : 'https://sales.viethas.com/assets/icon/newbannervh.jpg'\"\r\n                                    alt=\"Not load image\">\r\n                                <span (click)=\"getFile()\"\r\n                                    style=\"position: absolute;top: 50%;left: 50%;transform: translate(-50%,-50%);color: white;background:#5c5c5c;\">{{'Tap to change image' | translate}} <i nz-icon nzType=\"sync\"\r\n                                        nzTheme=\"outline\"></i></span>\r\n                            </div>\r\n                            <div style=\"width: 50%;height: 100%;font-size: 0.75rem;\">\r\n                                <div style=\"height: 85%; overflow: auto; overflow-x: hidden; padding: 8px;\"\r\n                                    class=\"hideScrollbar\">\r\n                                    <table style=\"width: 100%;\">\r\n                                        <tr>\r\n                                            <th\r\n                                                style=\"padding: 6px;text-align: left;border-bottom: 1px solid rgb(161, 161, 161);  width: 40%;\">\r\n                                                {{'Product name' |\r\n                                                translate}}</th>\r\n                                            <th\r\n                                                style=\"padding: 6px;border-bottom: 1px solid rgb(161, 161, 161);  width: 10%;\">\r\n                                                {{'Qty' |\r\n                                                translate}}</th>\r\n                                            <th\r\n                                                style=\"padding: 6px;text-align: end;border-bottom: 1px solid rgb(161, 161, 161); width: 25%;\">\r\n                                                {{'Unit price' |\r\n                                                translate}}</th>\r\n                                            <th\r\n                                                style=\"padding: 6px;text-align: end;border-bottom: 1px solid rgb(161, 161, 161);  width: 25%;\">\r\n                                                {{'Total' |\r\n                                                translate}}</th>\r\n                                        </tr>\r\n                                        <tr *ngFor=\"let item of list_product;let i = index\"\r\n                                            style=\"border-bottom: 1px solid lightgray;\">\r\n                                            <!-- <td style=\"padding: 8px;text-align: center;\">{{i+1}}</td> -->\r\n                                            <td style=\"padding: 8px;text-align: left;\">\r\n                                                <div>\r\n                                                    <p style=\"word-break: break-word; font-weight: bold;\">\r\n                                                        {{item.name}}</p>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"padding: 8px;text-align: center;\">\r\n                                                {{vhAlgorithm.vhcurrencyunit(item.quantity)}}</td>\r\n                                            <td style=\"padding: 8px;\">\r\n                                                <div style=\"text-align: end;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"padding: 8px;text-align: end;\">\r\n                                                <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </div>\r\n                                <div style=\"width: 100%;height: 15%;background-color: #00a859;\">\r\n                                    <div\r\n                                        style=\"display: flex;align-items: center;justify-content: space-between;padding:0 12px;height: 100%;\">\r\n                                        <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_2')\">\r\n                                            <div style=\"color: white;\">{{'SubTotal' | translate}}</div>\r\n                                            <div style=\"color: white;\">\r\n                                                <b>31,198,000</b>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_2')\">\r\n                                            <div style=\"color: white;\">{{'Discount' | translate}}</div>\r\n                                            <div style=\"color: white;text-align: center;\">\r\n                                                0\r\n                                            </div>\r\n                                        </div>\r\n                                        <div *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_2')\">\r\n                                            <div style=\"color: white;\">{{'Fee' | translate}}</div>\r\n                                            <div style=\"color: white;text-align: center;\">\r\n                                                0</div>\r\n                                        </div>\r\n                                        <div *ngIf=\"vhAuth.localStorageGET('show_pay_sub_pos_2')\">\r\n                                            <div style=\"color: white;\">{{'Pay' | translate}}</div>\r\n                                            <div style=\"color: white;text-align: end;\">\r\n                                                <b>31,198,000</b>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"6\">\r\n                        <nz-list>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show subtotal'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_total_sub_pos_2\"\r\n                                    (ngModelChange)=\"updateSetting('show_total_sub_pos_2',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show fee'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_fee_sub_pos_2\"\r\n                                    (ngModelChange)=\"updateSetting('show_fee_sub_pos_2',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show discount'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_discount_sub_pos_2\"\r\n                                    (ngModelChange)=\"updateSetting('show_discount_sub_pos_2',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show payment'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_pay_sub_pos_2\"\r\n                                    (ngModelChange)=\"updateSetting('show_pay_sub_pos_2',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n\r\n                        </nz-list>\r\n                        <div>{{'Thay đổi hình ảnh hiển thị'}}</div>\r\n                        <div nz-row>\r\n                            <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n                                <div class=\"bg-img center-all-content\">\r\n                                    <input style=\"display: none;\" id=\"file-upload\" type=\"file\" accept=\".png, .jpg\"\r\n                                        (change)=\"onUpload($event)\" />\r\n                                    <!-- <img width=\"100px\" onerror=\"this.src='./assets/icon/management/image_default.svg'\"\r\n                                        [src]=\"image_template_sub_pos2.url\" /> -->\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div nz-row *ngIf=\"style_template_sub_pos == 3\">\r\n                    <div nz-col nzSpan=\"18\" style=\" text-align: center;\" class=\"center-all-content\">\r\n                        <!-- <img width=\"80%\" height=\"270px\" src=\"assets/img/img_template_sub_pos_3.jpg\" alt=\"\"\r\n                            [ngStyle]=\"{'border': style_template_sub_pos == 3? '2px solid var(--ion-color-vh-green)' : 'none'}\"> -->\r\n                        <div [ngStyle]=\"{'border': style_template_sub_pos == 3? '2px solid var(--ion-color-vh-green)' : 'none'}\"\r\n                            style=\"display: flex;width: 90%;height: 350px;align-items: center; justify-content: center;font-size: 0.75rem; \">\r\n                            <div style=\"width: 55%;height: 100%;padding: 8px;box-shadow: 0px 2px 6px #00000014;overflow: auto; overflow-x: hidden;\"\r\n                                class=\"hideScrollbar\">\r\n                                <div style=\"width: 100%;\">\r\n                                    <table style=\"width: 100%;max-height: 90vh; border-collapse: collapse;\">\r\n                                        <tr style=\"border-bottom: 1px solid lightgray;\">\r\n                                            <!-- <th style=\"padding: 8px; width: 5%;\">{{'Serial number' | translate}}</th> -->\r\n                                            <th style=\"padding: 8px;text-align: left;  width: 50%;\">\r\n                                                {{'Product name' |\r\n                                                translate}}</th>\r\n                                            <th style=\"padding: 8px;  width: 10%;\">{{'Qty' | translate}}\r\n                                            </th>\r\n                                            <th style=\"padding: 8px;text-align: end; width: 20%;\">\r\n                                                {{'Unit price' |\r\n                                                translate}}</th>\r\n                                            <th style=\"padding: 8px;text-align: end;  width: 20%;\">\r\n                                                {{'Total' |\r\n                                                translate}}</th>\r\n                                        </tr>\r\n                                        <tr *ngFor=\"let item of list_product;let i = index\"\r\n                                            style=\"border-bottom: 1px solid lightgray;\">\r\n                                            <!-- <td style=\"padding: 8px;text-align: center;\">{{i+1}}</td> -->\r\n                                            <td style=\"padding: 8px;text-align: left;\">\r\n                                                <div>\r\n                                                    <p style=\"word-break: break-word; font-weight: bold;\">\r\n                                                        {{item.name}}</p>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"padding: 8px;text-align: center;\">\r\n                                                {{vhAlgorithm.vhcurrencyunit(item.quantity)}}</td>\r\n                                            <td style=\"padding: 8px;\">\r\n                                                <div style=\"text-align: end;\">\r\n                                                    <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td style=\"padding: 8px;text-align: end;\">\r\n                                                <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div\r\n                                style=\"width: 45%;height: 100%;box-shadow: 0px 2px 6px #00000014; border-left: 1px solid lightgray;\">\r\n                                <!-- <div style=\"height: 40%; border-bottom: 1px solid lightgray;\">\r\n                                </div> -->\r\n                                <div style=\" height: 85%;overflow: auto; overflow-x: hidden; padding: 8px;\"\r\n                                    class=\"hideScrollbar\">\r\n                                    <div style=\"display: flex;justify-content: space-between;\">\r\n                                        <div style=\"padding: 8px;\">{{'Invoice code' | translate}}</div>\r\n                                        <div style=\"padding: 8px;\"><b>{{'ADFE125C'}}</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex;justify-content: space-between;\">\r\n                                        <div style=\"padding: 8px;\">{{'Employee' | translate}}</div>\r\n                                        <div style=\"padding: 8px;\">\r\n                                            <b>VIETHAS</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex;justify-content: space-between;\">\r\n                                        <div style=\"padding: 8px;\">{{'Date' | translate}}</div>\r\n                                        <div style=\"padding: 8px;\"><b>24/12/2021 11:20</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex;justify-content: space-between;\">\r\n                                        <div style=\"padding: 8px;\">{{'Customer' | translate}}</div>\r\n                                        <div style=\"padding: 8px;\"><b>Khách lẻ</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_3')\"\r\n                                        style=\"display: flex; justify-content: space-between; border-top: 1px solid lightgrey; padding-top: 8px;\">\r\n                                        <div style=\"padding: 8px;\">{{'SubTotal' | translate}}</div>\r\n                                        <div style=\"padding: 8px;\">\r\n                                            <b>{{vhAlgorithm.vhcurrencyunit(31198000)}}</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex; justify-content: space-between;\"\r\n                                        *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_3')\">\r\n                                        <div style=\"padding: 8px;\">{{'Discount' | translate}}</div>\r\n                                        <div style=\"padding: 8px;text-align: center;\">\r\n                                            <b> {{vhAlgorithm.vhcurrencyunit(0)}}</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex; justify-content: space-between;\"\r\n                                        *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_3')\">\r\n                                        <div style=\"padding: 8px;\">{{'Fee' | translate}}</div>\r\n                                        <div style=\"padding: 8px;text-align: center;\">\r\n                                            <b>0</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex; justify-content: space-between;\"\r\n                                        *ngIf=\"vhAuth.localStorageGET('show_tax_sub_pos_3')\">\r\n                                        <div style=\"padding: 8px;\">{{'Tax' | translate}}</div>\r\n                                        <div style=\"padding: 8px;text-align: center;\">\r\n                                            <b> 0 %</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex; justify-content: space-between;\"\r\n                                        *ngIf=\"vhAuth.localStorageGET('show_cash_sub_pos_3')\">\r\n                                        <div style=\"padding: 8px;\">{{'cash' | translate}}</div>\r\n                                        <div style=\"padding: 8px;text-align: end;\">\r\n                                            <b>0</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style=\"display: flex; justify-content: space-between;\"\r\n                                        *ngIf=\"vhAuth.localStorageGET('show_cash_sub_pos_3')\">\r\n                                        <div style=\"padding: 8px;\">{{'Change' | translate}}</div>\r\n                                        <div style=\"padding: 8px;text-align: end;\">\r\n                                            <b>0</b>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                <div\r\n                                    style=\"display: flex; justify-content: space-between; background-color: #00a859; height: 15%;; border-radius: 4px; align-items: center;\">\r\n                                    <div style=\"padding: 8px; color: white;font-size: 0.8rem;\">{{'Pay' | translate}}\r\n                                    </div>\r\n                                    <div style=\"padding: 8px;text-align: end; color: white;font-size: 0.8rem;\">\r\n                                        <b>31198000</b>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"6\">\r\n                        <nz-list>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show subtotal'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_total_sub_pos_3\"\r\n                                    (ngModelChange)=\"updateSetting('show_total_sub_pos_3',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show fee'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_fee_sub_pos_3\"\r\n                                    (ngModelChange)=\"updateSetting('show_fee_sub_pos_3',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show discount'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_discount_sub_pos_3\"\r\n                                    (ngModelChange)=\"updateSetting('show_discount_sub_pos_3',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show tax'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_tax_sub_pos_3\"\r\n                                    (ngModelChange)=\"updateSetting('show_tax_sub_pos_3',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                            <nz-list-item class=\"no-border\">\r\n                                <span> {{'Show change'| translate}}</span>\r\n                                <nz-switch mode=\"ios\" (click)=\"$event.stopPropagation()\"\r\n                                    [(ngModel)]=\"show_cash_sub_pos_3\"\r\n                                    (ngModelChange)=\"updateSetting('show_cash_sub_pos_3',$event)\">\r\n                                </nz-switch>\r\n                            </nz-list-item>\r\n                        </nz-list>\r\n                    </div>\r\n\r\n                </div>\r\n            </nz-tab>\r\n        </nz-tabset>\r\n\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>","import { Component, OnInit, Input, Output, EventEmitter, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n@Component({\r\n  selector: 'app-stock-pos',\r\n  templateUrl: './stock-pos.component.html',\r\n  styleUrls: ['./stock-pos.component.scss']\r\n})\r\nexport class StockPosComponent implements OnInit {\r\n\r\n  @Input() stock: boolean;\r\n  @Output() closeStock: EventEmitter<any> = new EventEmitter()\r\n  keySearch: any\r\n  // list chứa bill\r\n  products: any = []\r\n  segment_product: any = [];\r\n  show_products: any = []\r\n  //Hôm nay 0h- 23h59\r\n  endTime: Date = new Date;\r\n  tabs = ['All', 'Allow sale', 'Not allow sale']\r\n  sum_stock: number = 0;\r\n  total: number = 0;\r\n  // value sort\r\n  selectedIndex: any;\r\n  branchList: Array<any> = []\r\n  id_branch_report: string = ''\r\n  useBranch: boolean = this.fncService.checkUsingBranch();\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    public router: Router,\r\n    private cdRef: ChangeDetectorRef,\r\n    public languageService: LanguageService,\r\n    private vhAuth: VhAuth,\r\n    private fncService: FunctionService\r\n  ) {\r\n    this.getBranches()\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.keySearch = ''\r\n    this.endTime.setHours(23, 59, 59)\r\n    this.selectedIndex = 0\r\n\r\n  }\r\n  getBranches() {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()]\r\n    let employee = this.vhAuth.getUser()\r\n    if (this.useBranch && employee['owner'] == 'boss') {\r\n      this.branchList = branches\r\n      if (this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n    } else if (this.useBranch && employee['owner'] != 'boss') {\r\n      this.vhAuth.getPermission(employee['_id']).then(result => {\r\n        branches.forEach(item => {\r\n          if (result[`${item._id}_view_report_branch`]) this.branchList.push({ ...item })\r\n        })\r\n        if (branches.length == this.branchList.length && this.branchList.length > 1) this.branchList.unshift({ _id: \"all\", name: \"All\" })\r\n        else if (this.branchList.length == 1) this.id_branch_report = this.branchList[0]._id\r\n      })\r\n    } else this.id_branch_report = branches[0]._id\r\n  }\r\n  heightScroll: string = '220px';\r\n  getData(endTime) {\r\n    if (this.vhAuth.checkMyPermission('management_enable_stock'))\r\n      this.vhComponent.showLoading(\"\", \"current-loading\").then(() => {\r\n        this.vhQuerySales\r\n          .getReportInputOutputInventory_byEndTime_byIDProduct(endTime, \"all\", this.id_branch_report)\r\n          .then((res: any) => {\r\n            this.products = res.docs.map(item => {\r\n              return { id: item['_id'], cost_stock_last_atax: item['cost_stock_last_atax'], stock_last: item['stock_last'], ...item }\r\n            });\r\n            this.segmentChanged(this.selectedIndex);\r\n            this.vhComponent.hideLoading()\r\n          })\r\n      })\r\n    else this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"You do not have this rights\"),5000)\r\n  }\r\n\r\n  searchProduct(value) {\r\n    this.keySearch = value\r\n    this.show_products = this.vhAlgorithm.searchList(\r\n      this.vhAlgorithm.changeAlias(value).toLowerCase(),\r\n      this.segment_product,\r\n      [\"name\", \"barcode\"]\r\n    );\r\n  }\r\n\r\n  goToDetail(item) {\r\n    this.router.navigate(['/sales/dashboard/manage/stock/warehouse/detail'], {\r\n      state: {\r\n        endTime: this.endTime, ...item,\r\n        dataRestore: {\r\n          keySearch: this.keySearch,\r\n          selectedIndex: this.selectedIndex,\r\n          endTime: this.endTime,\r\n          id_branch_report: this.id_branch_report,\r\n          products: this.products\r\n        }\r\n      }\r\n    })\r\n  }\r\n  setEndTime(value) {\r\n    this.endTime = new Date(value);\r\n    this.endTime.setHours(23, 59, 59);\r\n    this.total = 0;\r\n    this.sum_stock = 0;\r\n  }\r\n  segmentChanged(value) {\r\n    this.selectedIndex = parseInt(value);\r\n    if (this.products.length) {\r\n      this.total = 0;\r\n      this.sum_stock = 0\r\n      switch (parseInt(value)) {\r\n        case 0:\r\n          this.segment_product = this.products.filter(item => {\r\n            this.sum_stock += item.stock_last;\r\n            this.total += item.cost_stock_last_atax;\r\n            return true;\r\n          });\r\n          break;\r\n        \r\n      }\r\n      this.searchProduct(this.keySearch ? this.keySearch : \"\");\r\n    } else {\r\n      this.show_products = this.products;\r\n    }\r\n  }\r\n\r\n  handleCancel() {\r\n    this.closeStock.emit(false)\r\n  }\r\n\r\n}\r\n","<nz-modal [(nzVisible)]=\"stock\" nzTitle=\"{{'Stock' | translate}}\" (nzOnCancel)=\"handleCancel()\" [nzFooter]=\"null\"\r\n    nzWidth=\"80vw\">\r\n    <ng-container *nzModalContent>\r\n        <nz-layout class=\"height-layout\">\r\n            <div nz-row class=\"height-header\">\r\n                <div nz-col [nzSpan]=\"useBranch ? 4 :6\" class=\"title left-all-content\">\r\n                    <b>{{'Stock' | translate}}</b>\r\n                </div>\r\n                <div nz-col [nzSpan]=\"useBranch ? 6 :8\" class=\"title center-all-content\" >\r\n                    <nz-input-group [nzSuffix]=\"suffixIconSearch\" id=\"keySearch\">\r\n                        <input #box [value]=\"keySearch ? keySearch : ''\" type=\"text\" nz-input placeholder=\"{{'Search for product name, barcode' | translate}}\" (keyup)=\"searchProduct(box.value)\"\r\n                         />\r\n                    </nz-input-group>\r\n                    <ng-template #suffixIconSearch>\r\n                        <i nz-icon nzType=\"search\"></i>\r\n                    </ng-template>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"title right-div\">\r\n                    <nz-date-picker style=\"border: 1px solid #d9d9d9 !important;\" nzFormat='dd /MM/yyyy' [ngModel]=\"endTime\" (ngModelChange)=\"setEndTime($event)\" nzBorderless>\r\n                    </nz-date-picker>\r\n                </div>\r\n                <div *ngIf=\"useBranch\" nz-col nzSpan=\"5\" class=\"center-all-content\">\r\n                    <nz-select nzShowSearch nzBorderless nzPlaceHolder=\"{{'Select branch' | translate}}\" [(ngModel)]=\"id_branch_report\">\r\n                        <nz-option *ngFor=\"let option of branchList\" nzLabel=\"{{option.name| translate}}\" nzValue=\"{{option._id}}\">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                </div>\r\n                <div nz-col [nzSpan]=\"useBranch ? 3 :4\" class=\"title right-div\">\r\n                    <button [disabled]=\"!id_branch_report.length\" class=\"btn-view center-all-content\" nz-button nzType=\"default\" (click)=\"getData(endTime)\">\r\n                        <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i>\r\n                        {{'View' | translate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        \r\n            <div>\r\n                <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" (nzSelectChange)=\"segmentChanged($event.index)\">\r\n                    <nz-tab *ngFor=\"let tab of tabs\" nzTitle=\"{{tab | translate}}\">\r\n                        <nz-table [nzScroll]=\"{ y: heightScroll }\" #stock #rowSelectionTable nzShowPagination nzShowSizeChanger [nzData]=\"show_products\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th nzWidth=\"15%\" nzAlign=\"center\" class=\"medium-size\"><b>{{'Image' | translate}}</b></th>\r\n                                    <th nzWidth=\"25%\" class=\"medium-size\"><b>{{'Product name' | translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign=\"right\" class=\"medium-size\"><b>{{'Unit price'|translate}}</b>\r\n                                    </th>\r\n                                    <th nzWidth=\"20%\" nzAlign=\"right\" class=\"medium-size\"><b>{{'Stock valuation'\r\n                                            |translate}}</b></th>\r\n                                    <th nzWidth=\"20%\" nzAlign=\"center\" class=\"medium-size\"><b>{{'Stock'|translate}}</b></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td style=\"font-weight: bold;\" class=\"color-green medium-size\">{{'Total in stock' |translate}}\r\n                                    </td>\r\n                                    <td class=\"color-green medium-size\"></td>\r\n                                    <td class=\"color-green medium-size\">\r\n                                    </td>\r\n                                    <td nzAlign=\"right\" style=\"font-weight: bold;\" class=\"color-green medium-size\">\r\n                                        {{vhAlgorithm.vhcurrencyunit_symbol(total)}}\r\n                                    </td>\r\n                                    <td nzAlign=\"center\" style=\"font-weight: bold;\" class=\"color-green medium-size\">{{sum_stock | number: '1.0-0'}}\r\n                                    </td>\r\n                                </tr>\r\n                                <tr *ngFor=\"let data of stock.data\" style=\"cursor: pointer;\"  >\r\n                                    <td nzAlign=\"center\" style=\"padding: 0\">\r\n                                        <img style=\"width: 36px;\" [src]=\"data.img ? data.img : './assets/icon/management/noimage.svg'\">\r\n                                    </td>\r\n                                    <td class=\"medium-size\">{{ data.name }}</td>\r\n                                    <td nzAlign=\"right\" class=\"medium-size\">{{vhAlgorithm.vhcurrencyunit(data.unit_cost_stock_last_atax)}}</td>\r\n                                    <td nzAlign=\"right\" class=\"medium-size\">\r\n                                        {{vhAlgorithm.vhcurrencyunit(data.cost_stock_last_atax)}}\r\n                                    </td>\r\n                                    <td nzAlign=\"center\" class=\"medium-size\">{{data.stock_last |number:'1.0-0'}} </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </nz-table>\r\n                    </nz-tab>\r\n                </nz-tabset>\r\n            </div>\r\n        </nz-layout>\r\n    </ng-container>\r\n</nz-modal>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { StockPosComponent } from '../stock-pos/stock-pos.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { KeyboardModule } from 'src/app/sales/keyboard/keyboard.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    StockPosComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    KeyboardModule\r\n  ],\r\n  exports: [\r\n    StockPosComponent\r\n  ]\r\n})\r\nexport class StockPosModule { }\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\n\r\n@Component({\r\n  selector: 'app-add-customer1',\r\n  templateUrl: './add-customer.component.html',\r\n  styleUrls: ['./add-customer.component.scss']\r\n})\r\nexport class AddCustomerComponent implements OnInit {\r\n  \r\n  @Input(\"showDrawerAddCustomer\") showDrawerAddCustomer: boolean = false;\r\n  @Output(\"closeAddCustomer\") closeAddCustomer = new EventEmitter<any>();\r\n  createStatus: boolean = false\r\n  addCustomerForm: FormGroup;\r\n  selectedValue: any;\r\n  customerGroups = this.vhQuerySales.getlocalCustomerClasss();\r\n\r\n\r\n\r\n  constructor(\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n    private vhQuerySales: VhQuerySales,\r\n    private functionService: FunctionService,\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    this.initAddCustomerForm()\r\n  }\r\n\r\n\r\n\r\n  close(success = false) {\r\n    if (!this.createStatus)\r\n      this.closeAddCustomer.emit(success);\r\n  }\r\n\r\n\r\n\r\n  initAddCustomerForm() {\r\n    this.addCustomerForm = new FormGroup({\r\n      img: new FormControl(null),\r\n      name: new FormControl(null, Validators.compose([Validators.required])),\r\n      email: new FormControl(null, Validators.compose([Validators.email])),\r\n      gender: new FormControl(null),\r\n      datebirth: new FormControl(null),\r\n      phone: new FormControl(null, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(null),\r\n      country: new FormControl(null),\r\n      province: new FormControl(null),\r\n      district: new FormControl(null),\r\n      note: new FormControl(null),\r\n      debt_enable: new FormControl(true),\r\n      id_customer_class : new FormControl(null),\r\n      type : new FormControl(1),\r\n      id_branch : new FormControl(this.vhQuerySales.getDefaultBranch()._id),\r\n      time_for_payment : new FormControl(0, Validators.compose([Validators.required])),\r\n      delete_hidden: new FormControl(false),\r\n      isBusiness: new FormControl(false),\r\n      taxcode: new FormControl(null),\r\n    });\r\n  }\r\n\r\n \r\n\r\n  addCustomer() {\r\n    this.createStatus = true\r\n    let customer: any = { ...this.addCustomerForm.value };\r\n\r\n    const phoneNumberValue = customer.phone;\r\n    customer.countryCode = this.countryCode;\r\n    customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n    customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n\r\n    customer.date = (new Date()).toISOString();\r\n\r\n    if(customer.isBusiness) {\r\n      delete customer.gender;\r\n      delete customer.datebirth;\r\n    }\r\n    else {\r\n       delete customer.taxcode;\r\n    }\r\n    \r\n    this.vhQuerySales.addCustomer(customer)\r\n      .then((res: any) => {\r\n        if(res.vcode == 0) {\r\n          setTimeout(() => {\r\n            this.createStatus = false;\r\n            this.vhComponent.showToast(1500, `${this.lang.translate(\"Customer\")} ${customer.name} ${this.lang.translate(\"has been added successfully\")}`, \"success-toast\");\r\n            this.closeAddCustomer.emit(res);\r\n          }, 500);\r\n        }\r\n        else if(res.vcode == 1) {\r\n          //This phone number is already in use with another customer\r\n            this.createStatus = false\r\n          this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another customer\"), 'alert-toast');\r\n        }\r\n      }, error => {\r\n        this.createStatus = false\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"An error occurred while adding customer. Please try again\"), \"alert-toast\")\r\n      })\r\n  }\r\n\r\n\r\n\r\n  changeDebt(){\r\n    if(this.addCustomerForm.value.debt_enable)   this.addCustomerForm.addControl('time_for_payment', new FormControl(null, [Validators.required]))\r\n    else    this.addCustomerForm.removeControl('time_for_payment');\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi thay đổi Loại khách hàng\r\n   */\r\n  changeBusiness(event) {\r\n    // taxcode required khi isBusiness = true\r\n    if (event) {\r\n      this.addCustomerForm.get('taxcode')?.setValidators([Validators.required]);\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    } \r\n    else {\r\n      this.addCustomerForm.get('taxcode')?.clearValidators();\r\n      this.addCustomerForm.get('taxcode')?.updateValueAndValidity();\r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n  /** Kiểm tra số điện thoại đã tồn tại ha chưa để hiển thị thông báo */\r\n  isExitsPhone: boolean = false;\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  \r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  \r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.addCustomerForm.value.phone, this.countryCode as CountryCode);\r\n      this.addCustomerForm.get('phone')?.markAsTouched();\r\n      this.addCustomerForm.get('phone')?.markAsDirty();\r\n      this.addCustomerForm.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.addCustomerForm.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"false\" [nzWidth]=\"400\" nzTitle='{{\"Add customer\" | translate}}'\r\n  [nzVisible]=\"showDrawerAddCustomer\" [nzFooter]=\"footerAddCustomer\" (nzOnClose)=\"close()\">\r\n  <ng-container *nzDrawerContent>\r\n    <form nz-form [formGroup]=\"addCustomerForm\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n              <ng-template #combineTplName let-control>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                </ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n            <nz-input-group>\r\n              <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                <span>+{{callingCode}}</span>\r\n                <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n              </div>\r\n              <input formControlName=\"phone\" (input)=\"formatPhoneNumber($event)\" [value]=\"formattedPhone\"\r\n                [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required />\r\n              <ng-template #combineTplPhone let-control>\r\n                <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' |\r\n                  translate}}</ng-container>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' |\r\n                  translate}}</ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n            <div *ngIf=\"isExitsPhone\"\r\n              class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n              ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n              <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                {{'Phone number already exists' | translate}}\r\n              </div>\r\n            </div>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Email' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input type=\"email\" formControlName=\"email\" nz-input\r\n                placeholder=\"{{'Enter customer mail' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Address' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n\r\n      <!-- Loại khách hàng -->\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n        <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n          formControlName=\"isBusiness\"\r\n          (ngModelChange)=\"changeBusiness($event)\">\r\n          <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n          <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n        </nz-select>\r\n      </div>\r\n\r\n      <!-- Mã số thuế -->\r\n      <ng-container *ngIf=\"addCustomerForm.value.isBusiness\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <div><b class='label'>{{'Tax code' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"taxcode\">\r\n              <nz-input-group>\r\n                <input formControlName=\"taxcode\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                <ng-template #taxcode let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <div nz-col nzSpan=\"24\" *ngIf=\"!addCustomerForm.value.isBusiness\">\r\n        <div nz-row [nzGutter]=\"16\">\r\n          <!-- Giới tính -->\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n            <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select gender' | translate\"\r\n              [(ngModel)]=\"selectedValue\" formControlName=\"gender\">\r\n              <nz-option [nzLabel]=\"'Female' | translate\" nzValue=\"Female\"></nz-option>\r\n              <nz-option [nzLabel]=\"'Male' | translate\" nzValue=\"Male\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <!-- Ngày sinh -->\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n            <nz-date-picker formControlName=\"datebirth\" [nzPlaceHolder]=\"'Select date of birth' | translate\">\r\n            </nz-date-picker>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer tier' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-select nzShowSearch [nzAllowClear]=\"false\" formControlName=\"id_customer_class\">\r\n              <nz-option [nzValue]=\"null\" nzLabel=\"{{'Undefined' | translate}}\">\r\n              </nz-option>\r\n              <nz-option *ngFor=\"let item of customerGroups\" [nzValue]=\"item._id\" [nzLabel]=\"item.name\">\r\n              </nz-option>\r\n            </nz-select>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Country' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input formControlName=\"country\" nz-input placeholder=\"{{'Enter country' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Province' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input formControlName=\"province\" nz-input placeholder=\"{{'Enter province' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'District' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group class=\"virtualKeyboard\">\r\n              <input formControlName=\"district\" nz-input placeholder=\"{{'Enter district' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\" class=\"virtualKeyboard\">\r\n        <div><b class='label'>{{'Note' | translate}}</b></div>\r\n        <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n          formControlName=\"note\"></textarea>\r\n      </div>\r\n      <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n        <div></div>\r\n        <label nz-checkbox formControlName=\"debt_enable\" (ngModelChange)=\"changeDebt()\">{{'Debit permission' |\r\n          translate}}</label>\r\n      </div>\r\n\r\n      <div nz-row *ngIf=\"addCustomerForm.value.debt_enable\">\r\n        <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n          <div><b class='label'>{{'Payment term' | translate}}({{'day' | translate}})*</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"combineTplTime\">\r\n              <nz-input-group>\r\n                <input formControlName=\"time_for_payment\" nz-input placeholder=\"{{'Enter number of days' | translate}}\"\r\n                  required type=\"number\" min=\"0\" />\r\n                <ng-template #combineTplTime let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'This field is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </ng-container>\r\n  <ng-template #footerAddCustomer>\r\n    <div class=\"footerAddCustomer\" style=\"float: right\">\r\n      <button nz-button style=\"margin-right: 8px;\" (click)=\"close()\">{{\"Cancel\" |\r\n        translate}}</button>\r\n      <button nz-button (click)=\"addCustomer()\" [disabled]=\"addCustomerForm.invalid\" [nzLoading]=\"createStatus\"\r\n        [ngStyle]=\"{opacity: addCustomerForm.invalid ? 0.5 : 1}\">{{\"Add\" | translate}}</button>\r\n    </div>\r\n  </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output, ViewChild, SimpleChanges } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzCarouselComponent } from 'ng-zorro-antd/carousel';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'app-best-selling',\r\n  templateUrl: './best-selling.component.html',\r\n  styleUrls: ['./best-selling.component.scss']\r\n})\r\nexport class BestSellingComponent implements OnInit {\r\n  @ViewChild(\"success1\", { static: false }) myCarousel: NzCarouselComponent;\r\n  @ViewChild(\"success2\", { static: false }) myCarouse2: NzCarouselComponent;\r\n  @Output(\"chooseBestSelling\") chooseBestSelling = new EventEmitter<any>();\r\n  @Input() default_price_type: any;\r\n  id_branch: string = this.vhQuerySales.getDefaultBranch()._id\r\n  auto_hidden_lot: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').auto_hidden_lot\r\n  auto_select_lot: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').auto_select_lot\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhQuerySales: VhQuerySales\r\n  ) {\r\n  }\r\n  public products: any[] = [];\r\n  public searchList: any = [];\r\n  public typeGoods = 0;\r\n  serviceList: any[] = [];\r\n  serviceBest: any[] = [];\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    Promise.all([\r\n      this.configProductsSelling(),\r\n      this.configServicesSelling()\r\n    ]).then(()=>{\r\n    })\r\n\r\n  }\r\n\r\n  // xử lí sản phẩm cho phép bán nhanh\r\n  configProductsSelling(){\r\n    this.products = this.vhQuerySales.getlocalDetailProducts(VhType.PRODUCT).filter(good => good.selling  && !good.delete_hidden).slice(0,12).map(item => {\r\n      let unit = this.vhQuerySales.getUnit_byRatio(item.units, item.units.find(e => e.default) ? item.units.find(e => e.default).ratio : 1)\r\n      if (item.type == VhType.PRODUCT && item.manylot) {\r\n        item.lots = this.vhAlgorithm.sortDatebyASC(item.lots, 'date_exp')\r\n        if (this.auto_hidden_lot) item.lots = item.lots.filter(e => new Date(e.date_exp).getTime() >= new Date().getTime())\r\n        if (this.auto_select_lot && item.lots.length) {\r\n          let min_date_exp = this.vhAlgorithm.sortDatebyASC(item.lots.filter(e => new Date(e.date_exp).getTime() >= new Date().getTime()), 'date_exp')\r\n          // \r\n          // \r\n          if (min_date_exp.length) {\r\n            item['id_lotproduct'] = min_date_exp[0]._id;\r\n            item['lot_number'] = min_date_exp[0].lot_number;\r\n          }\r\n        }\r\n      }\r\n      return { ...item, ...unit }\r\n    });\r\n    let j = 0;\r\n    for (let i = 0; i < this.products.length; i++) {\r\n      if (!this.searchList[j])\r\n        this.searchList[j] = this.searchList.length\r\n        ? new Array(this.products[j + 5])\r\n        : new Array(this.products[j])\r\n      else {\r\n        this.searchList[j].push(this.products[i])\r\n      }\r\n      if (this.searchList[j].length == 6) j++;\r\n    }\r\n  }\r\n\r\n  // xử lí dịch vụ cho phép bán nhanh\r\n  configServicesSelling(){\r\n    this.serviceList = this.vhQuerySales.getlocalDetailProducts(VhType.SERVICE_SERVICETIME).filter(good =>good.selling && !good.delete_hidden).slice(0,12).map(item => {return {...item,...item.units[0]}});\r\n    let k = 0;\r\n    for (let i = 0; i < this.serviceList.length; i++) {\r\n      if (!this.serviceBest[k]) this.serviceBest[k] = this.serviceBest.length ? new Array(this.serviceList[k + 5]) : new Array(this.serviceList[k])\r\n      else {\r\n        this.serviceBest[k].push(this.serviceList[i])\r\n      }\r\n      if (this.serviceBest[k].length == 6) k++;\r\n    }\r\n  }\r\n\r\n  chooseProduct(item) {\r\n    this.chooseBestSelling.emit(item);\r\n  }\r\n  changeTypeGood(event) {\r\n    this.typeGoods = event;\r\n  }\r\n  nzPageIndexChange(event) {\r\n    if (this.typeGoods == 0) this.myCarousel.goTo(event - 1);\r\n    else if (this.typeGoods == 1) this.myCarouse2.goTo(event - 1);\r\n  }\r\n  array = [1, 2, 3, 4];\r\n  effect = 'scrollx';\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\".ant-tabs-nav\") && document.querySelector(\".sales-best-selling\")) {\r\n      let height = document.querySelector(\".sales-best-selling\").clientHeight - document.querySelector(\".ant-tabs-nav\").clientHeight - 20 + \"px\";\r\n      if (document.getElementById(\"carousel-product\")) document.getElementById(\"carousel-product\").style.height = height;\r\n      if (document.getElementById(\"carousel-service\")) document.getElementById(\"carousel-service\").style.height = height;\r\n    }\r\n  }\r\n}\r\n","<nz-tabset class=\"hideScrollbar\" (nzSelectedIndexChange)=\"changeTypeGood($event)\" [(nzSelectedIndex)]=\"typeGoods\" [nzTabBarExtraContent]=\"extraTemplate\">\r\n  <nz-tab nzTitle=\"{{'Product' | translate}}\">\r\n      <nz-carousel id=\"carousel-product\" [nzEnableSwipe]=\"false\" #success1 [nzEffect]=\"effect\">\r\n          <div nz-carousel-content *ngFor=\"let data of searchList\">\r\n              <div nz-row nzGutter=\"16\">\r\n                  <div nz-col nzSpan=\"4\" *ngFor=\"let item of data\">\r\n                      <nz-card (click)=\"chooseProduct(item)\" nzHoverable [nzCover]=\"coverTemplate\">\r\n                          <div class=\"name\">{{item.name}}</div>\r\n                          <div class=\"item-code\">{{item.item_code}}</div>\r\n                          <div class=\"price\" *ngIf=\"default_price_type == 1 || !item.price2\">\r\n                              {{vhAlgorithm.vhcurrencyunit(item.price)}}</div>\r\n                          <div class=\"price\" *ngIf=\"default_price_type == 2 && item.price2\">\r\n                              {{vhAlgorithm.vhcurrencyunit(item.price2)}}</div>\r\n                          <div class=\"price\" *ngIf=\"item.quantity_branch\">\r\n                              {{'Stock' | translate}}:\r\n                              <span style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/item.ratio\r\n                                | number:'1.0-2'}}</span>\r\n                          </div>\r\n                      </nz-card>\r\n                      <ng-template #coverTemplate>\r\n                          <img style=\"width: 65%;height:9vh\" src=\"{{item.img? item.img : 'assets/icon/management/noimage.svg'}}\" />\r\n                      </ng-template>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </nz-carousel>\r\n  </nz-tab>\r\n  <nz-tab nzTitle=\"{{'Services' | translate}}\">\r\n      <nz-carousel id=\"carousel-service\" *ngIf=\"typeGoods == 1\" [nzEnableSwipe]=\"false\" #success2 [nzEffect]=\"effect\">\r\n          <div nz-carousel-content *ngFor=\"let data of serviceBest\">\r\n              <div nz-row nzGutter=\"16\">\r\n                  <div nz-col nzSpan=\"4\" *ngFor=\"let item of data\">\r\n                      <nz-card (click)=\"chooseProduct(item)\" nzHoverable [nzCover]=\"coverTemplate\">\r\n                          <div class=\"name\">{{item.name}}</div>\r\n                          <div class=\"price\">{{vhAlgorithm.vhcurrencyunit(item.units[0].price)}}</div>\r\n                      </nz-card>\r\n                      <ng-template #coverTemplate>\r\n                          <img style=\"width: 65%;height:9vh\" src=\"{{item.img? item.img : 'assets/icon/management/noimage.svg'}}\" />\r\n                      </ng-template>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      </nz-carousel>\r\n  </nz-tab>\r\n</nz-tabset>\r\n<ng-template #extraTemplate>\r\n  <nz-pagination (nzPageIndexChange)=\"nzPageIndexChange($event)\" [nzPageIndex]=\"1\" [nzPageSize]=\"6\" [nzTotal]=\"products.length\" nzSimple style=\"float:right;\"></nz-pagination>\r\n</ng-template>\r\n","import { VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, OnInit, Input, Output, EventEmitter, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-change-price-type',\r\n  templateUrl: './change-price-type.component.html',\r\n  styleUrls: ['./change-price-type.component.scss']\r\n})\r\nexport class ChangePriceTypeComponent implements OnInit {\r\n  @Input() showModalChangePriceType:boolean = false;\r\n  @Output() changePriceType : EventEmitter<any> = new EventEmitter()\r\n  @Input() default_price_type:any;\r\n  constructor(\r\n    public vhAuth:VhAuth\r\n  ) { }\r\n  \r\n\r\n  ngOnInit(): void {\r\n  }\r\n \r\n\r\n  handleOk(){\r\n    this.changePriceType.emit(this.default_price_type)\r\n  }\r\n\r\n  handleCancel(){\r\n    this.changePriceType.emit(null)\r\n  }\r\n}\r\n","<nz-modal nzCentered=\"\" [(nzVisible)]=\"showModalChangePriceType\" nzTitle=\"{{'Choose selling price' | translate}}\" (nzOnCancel)=\"handleCancel()\" (nzOnOk)=\"handleOk()\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <nz-radio-group [(ngModel)]=\"default_price_type\">\r\n            <label nz-radio [nzValue]=\"1\">{{'Retail price' | translate}}</label>\r\n            <label nz-radio [nzValue]=\"2\">{{'Wholesale price' | translate}}</label>\r\n        </nz-radio-group>\r\n    </ng-container>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { ViettelService } from 'src/app/sales/menu/manage/delivery/services/viettelService/viettel.service';\r\nimport { VnpostService } from 'src/app/sales/menu/manage/delivery/services/vnpostPost/vnpost-service.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nconst GHNTOKEN: string = '656776fd-1e78-11eb-aaa9-3e267f98f494'\r\n@Component({\r\n  selector: 'app-check-fees',\r\n  templateUrl: './check-fees.component.html',\r\n  styleUrls: ['./check-fees.component.scss']\r\n})\r\nexport class CheckFeesComponent implements OnInit {\r\n  @Input('id_delivery') id_delivery;\r\n  @Input('visibleCheckFees') visibleCheckFees = false\r\n  @Output('hideModalCheckFees') hideModalCheckFees = new EventEmitter<any>()\r\n  @Input('id_customer') id_customer: string\r\n  delivery: any = {}\r\n  isLoading: boolean = false\r\n  listProvinceGHN: Array<any> = []\r\n  listDistrictGHN: Array<any> = []\r\n  listWardGHN: Array<any> = []\r\n  serviceGHN: Array<any> = []\r\n  listProvinceViettel: Array<any> = []\r\n  listDistrictViettel: Array<any> = []\r\n  listWardViettel: Array<any> = []\r\n  listServiceViettel: Array<any> = []\r\n  listServiceAddViettel: Array<any> = []\r\n  MONEY_COLLECTION: any\r\n  PRODUCT_PRICE: any\r\n  dataAddress: any = { ProvinceID: '', ProvinceName: '', DistrictID: '', DistrictName: '', WardCode: '', WardName: '' }\r\n  dataProduct: any = { height: '', weight: '', length: '', width: '' }\r\n  resultFeesGHN: Array<any> = []\r\n  resultFeesGHTK: Array<any> = []\r\n  resultFeesAhamove: Array<any> = []\r\n  resultFeesVnpost: Array<any> = []\r\n  listAddressCustomer: Array<any> = []\r\n  infoCus: any = {}\r\n  loadingDone: boolean = false;\r\n  constructor(\r\n    public vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private ghnService: GhnService,\r\n    private ghtkService: GhtkService,\r\n    private ahamoveService: AhamoveService,\r\n    private vnPost: VnpostService,\r\n    private viettelService: ViettelService,\r\n    private lang: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getData()\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([this.vhQuerySales.refreshLocalDeliverys(), this.vhQuerySales.refreshLocalAddresss()]).then(() => {\r\n        this.delivery = this.vhQuerySales.getlocalDelivery(this.id_delivery)\r\n        switch (this.delivery.type) {\r\n          case 1: this.getDataGHN(); break\r\n          case 2: this.getDataGHTK(); break\r\n          case 3: this.getDataAhamove(); break\r\n          case 4: this.getDataVnpost(); break\r\n          case 5: this.getDataViettelPost(); break\r\n        }\r\n      })\r\n    })\r\n  }\r\n  //Lấy dữ liệu giao hàng nhanh\r\n  getDataGHN() {\r\n    this.ghnService.connectTokenGhn(this.delivery.token).then((resultShop: any) => {\r\n      this.vhComponent.hideLoading(0)\r\n      if (resultShop.code == 200) {\r\n        let shops = resultShop.data.shops.find(item => item._id == this.delivery.shop_id);\r\n        this.delivery = {\r\n          ...this.delivery, name: shops.name, phone: shops.phone, address: shops.address,\r\n          district_id: shops.district_id, ward_code: shops.ward_code, logo: './assets/icon/management/deliverys/1.svg'\r\n        }\r\n        if (this.id_customer != 'id_retail') {\r\n          this.infoCus = { ...this.vhQuerySales.getlocalCustomer(this.id_customer) }\r\n          this.getListAddressCustomer()\r\n        }\r\n      } else this.messageError()\r\n    }).catch(err => { this.messageError(), this.vhComponent.hideLoading(0) })\r\n  }\r\n  //Lấy dữ liệu giao hàng tiết kiệm\r\n  getDataGHTK() {\r\n    this.ghtkService.getWareHouseGhtk(this.delivery.token).then((res: any) => {\r\n      this.vhComponent.hideLoading(0)\r\n      let shops = res.data.find(item => item.pick_address_id == this.delivery.shop_id);\r\n      let data = this.renderAddressGHTK(shops.address);\r\n      this.delivery = {\r\n        ...this.delivery, pick_name: shops.pick_name, pick_address: data.pick_address,\r\n        pick_province: data.pick_province, pick_district: data.pick_district, logo: './assets/icon/management/deliverys/2.svg'\r\n      }\r\n      if (this.id_customer != 'id_retail') {\r\n        this.infoCus = { ...this.vhQuerySales.getlocalCustomer(this.id_customer) }\r\n        this.getListAddressCustomer()\r\n      }\r\n    }).catch(err => { this.messageError(), this.vhComponent.hideLoading(0) })\r\n  }\r\n  //lấy dữ liệu giao hàng ahamove\r\n  getDataAhamove() {\r\n    this.ahamoveService.getTokenAhaMove(this.delivery.phone).then((res: any) => {\r\n      this.vhComponent.hideLoading(0)\r\n      this.delivery.token = res.token\r\n      let addresss: Array<any> = this.vhQuerySales.getlocalAddresss().filter(item => item.id_delivery == this.delivery._id && item.type == 4)\r\n      let pickAddress = addresss.sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0]\r\n      this.delivery = { ...pickAddress, ...this.delivery, logo: './assets/icon/management/deliverys/3.svg' }\r\n      if (this.id_customer != 'id_retail') {\r\n        this.infoCus = { ...this.vhQuerySales.getlocalCustomer(this.id_customer) }\r\n        this.getListAddressCustomer()\r\n      }\r\n    }).catch(err => { this.messageError(), this.vhComponent.hideLoading(0) })\r\n  }\r\n  getDataVnpost() {\r\n    this.vhComponent.hideLoading(0)\r\n    let addresss: Array<any> = this.vhQuerySales.getlocalAddresss().filter(item => item.id_delivery == this.delivery._id && item.type == 5)\r\n    let pickAddress = addresss.sort((a, b) => Date.parse(b.date) - Date.parse(a.date))[0]\r\n    this.delivery = { ...pickAddress, ...this.delivery, logo: './assets/icon/management/deliverys/4.svg' }\r\n    if (this.id_customer != 'id_retail') {\r\n      this.infoCus = { ...this.vhQuerySales.getlocalCustomer(this.id_customer) }\r\n      this.getListAddressCustomer()\r\n    }\r\n  }\r\n  getDataViettelPost() {\r\n    this.viettelService.getListInventory(this.delivery.token).then((result: any) => {\r\n      this.vhComponent.hideLoading(0)\r\n      if (!result.error) {\r\n        let store = result.data.find(item => item.groupaddressId == this.delivery.GROUPADDRESS_ID)\r\n        \r\n        this.delivery = { ...store, ...this.delivery, logo: './assets/icon/management/deliverys/5.svg' }\r\n\r\n        if (this.id_customer != 'id_retail') {\r\n          this.infoCus = { ...this.vhQuerySales.getlocalCustomer(this.id_customer) }\r\n          this.getListAddressCustomer()\r\n        }\r\n        this.vhAlgorithm.waitingStack().then(() => {\r\n          this.MONEY_COLLECTION = this.vhAlgorithm.vhnumeral(\".MONEY_COLLECTION\")\r\n          this.PRODUCT_PRICE = this.vhAlgorithm.vhnumeral(\".PRODUCT_PRICE\")\r\n        })\r\n      }\r\n      \r\n    }).catch(err => { this.messageError(), this.vhComponent.hideLoading(0) })\r\n  }\r\n  renderAddressGHTK(address) {\r\n    let pick_address: any = {};\r\n    let indexProvince = address.lastIndexOf(\",\");\r\n    let indexDistrict = address.lastIndexOf(\",\", indexProvince - 1);\r\n    pick_address.pick_province = address.slice(indexProvince + 1).trim();\r\n    pick_address.pick_district = address.slice(indexDistrict + 1, indexProvince).trim();\r\n    pick_address.pick_ward = address.slice(0, indexDistrict).trim();\r\n    pick_address.pick_address = pick_address.pick_ward;\r\n    return pick_address;\r\n  }\r\n  messageError() {\r\n    this.vhComponent.alertMessageDesktop('error', this.lang.translate('An error occured while getting transport'))\r\n  }\r\n  hideModal() {\r\n    this.visibleCheckFees = false\r\n    this.hideModalCheckFees.emit(false)\r\n  }\r\n  getProvinceGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getProvinceGhn(GHNTOKEN).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200 && this.delivery.type != 3)\r\n        this.listProvinceGHN = res.data\r\n      else if (res.code == 200 && this.delivery.type == 3)\r\n        this.listProvinceGHN = res.data.filter(item => item.ProvinceID == 201 || item.ProvinceID == 202)\r\n\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceGHN(event: any) {\r\n    if (event) {\r\n      this.listDistrictGHN = []\r\n      this.listWardGHN = []\r\n      this.dataAddress['WardCode'] = ''\r\n      this.dataAddress['DistrictID'] = ''\r\n      if (this.delivery.type == 2 || this.delivery.type == 3) {\r\n        let province = this.listProvinceGHN.find(item => item.ProvinceID == event)\r\n        this.dataAddress['ProvinceName'] = province.ProvinceName\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Lấy danh sách huyện\r\n   */\r\n  getDistrictGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getDistrictGhn(GHNTOKEN, this.dataAddress['ProvinceID']).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200) this.listDistrictGHN = res.data\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi địa chỉ huyện => reset xã\r\n   * @param event \r\n   */\r\n  changeDistrictGHN(event: any) {\r\n    if (event) {\r\n      this.dataAddress['WardCode'] = ''\r\n      this.dataAddress['DistrictID'] = event\r\n      if (this.delivery.type == 2 || this.delivery.type == 3) {\r\n        let district = this.listDistrictGHN.find(item => item.DistrictID == event)\r\n        this.dataAddress['DistrictName'] = district.DistrictName\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Lấy danh sách xã, phường\r\n   */\r\n  getWardGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getWardGhn(GHNTOKEN, this.dataAddress['DistrictID']).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200) this.listWardGHN = res.data\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sau khi chọn xong xã phường, dùng api get về các dịch vụ hỗ trợ(đi bộ, máy bay...)\r\n   * @param event \r\n   */\r\n  changeWardGHN(event: any) {\r\n    this.serviceGHN = []\r\n    if (event && this.delivery.type == 1) {\r\n      let json: any = {\r\n        shop_id: this.delivery.shop_id,\r\n        from_district_id: this.delivery.district_id,\r\n        to_district_id: this.dataAddress.DistrictID\r\n      }\r\n      this.ghnService.getServiceDelivery(this.delivery.token, json).then((res: any) => {\r\n        this.serviceGHN = res.data.filter(item => {\r\n          return item.service_type_id == 1 || item.service_type_id == 2\r\n        });\r\n      }).catch(err => { this.messageError() })\r\n    } else if (event && this.delivery.type == 3) {\r\n      let ward = this.listWardGHN.find(item => item.WardCode == event)\r\n      this.dataAddress['WardName'] = ward.WardName\r\n    }\r\n  }\r\n  /**\r\n    * Hàm trả về thông tin để chuẩn bị cho vào các hàm getService\r\n  **/\r\n  prepareInfo(service_id) {\r\n    return {\r\n      shop_id: this.delivery.shop_id, to_district_id: this.dataAddress.DistrictID,\r\n      to_ward_code: this.dataAddress.WardCode,\r\n      height: this.dataProduct.height, length: this.dataProduct.length, weight: this.dataProduct.weight, width: this.dataProduct.width,\r\n      insurance_value: 0, service_id: service_id,\r\n      from_district_id: this.delivery.district_id, from_ward_code: this.delivery.ward_code\r\n    };\r\n  }\r\n  /**\r\n   * Nếu type = 1 là ghn,\r\n   * Type = 2 là ghtk\r\n   * Type = 3 là ahamove\r\n   */\r\n  viewResult(type) {\r\n\r\n    switch (type) {\r\n      case 1: this.viewResultGHN(); break;\r\n      case 2: this.viewResultGHTK(); break;\r\n      case 3: this.viewResultAhamove(); break;\r\n      case 4: this.viewResultVnpost(); break;\r\n    }\r\n  }\r\n  viewResultGHN() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      let process: Array<any> = []\r\n      this.serviceGHN.forEach(item => process.push(this.ghnService.calculate_delivery_fee(this.delivery.token, this.prepareInfo(item.service_id))))\r\n      Promise.all(process).then((result: Array<any>) => {\r\n        this.vhComponent.hideLoading(0)\r\n        this.resultFeesGHN = result.map((item, index) => {\r\n          return { ...item.data, short_name: this.serviceGHN[index]?.short_name }\r\n        })\r\n      }).catch(err => { this.messageError(); this.vhComponent.hideLoading(0) })\r\n    })\r\n  }\r\n  viewResultGHTK() {\r\n    this.resultFeesGHTK = []\r\n    let json: any = {\r\n      shop_id: this.delivery.shop_id, province: this.dataAddress.ProvinceName, token: this.delivery.token,\r\n      district: this.dataAddress.DistrictName, weight: this.dataProduct.weight / 1000, insurance_value: 0,\r\n    }\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      Promise.all([\r\n        this.ghtkService.calculateFeeGhtk(json, 'road'),\r\n        this.ghtkService.calculateFeeGhtk(json, 'fly')\r\n      ]).then((result: Array<any>) => {\r\n        result.forEach((item, index) => {\r\n          if (item.fee?.delivery && index == 0)\r\n            this.resultFeesGHTK.push({ ...item.fee, short_name: 'Standard' })\r\n          if (item.fee?.delivery && index == 1 && item.fee.fee != this.resultFeesGHTK[0].fee)\r\n            this.resultFeesGHTK.push({ ...item.fee, short_name: 'Fast' })\r\n        })\r\n        this.vhComponent.hideLoading(0)\r\n      }).catch(err => { this.vhComponent.hideLoading(0); this.messageError() })\r\n    })\r\n\r\n  }\r\n  services_SGN: Array<any> = [{ \"_id\": \"SGN-BIKE\" }, { \"_id\": \"SGN-EXPRESS\" }, { \"_id\": \"SGN-POOL\" }, { \"_id\": \"SGN-SAMEDAY\" }, { \"_id\": \"SGN-TRICYCLE\" }, { \"_id\": \"SGN-TRUCK-500\" }, { \"_id\": \"SGN-TRUCK-2000\" }]\r\n  services_HAN: Array<any> = [{ \"_id\": \"HAN-BIKE\" }, { \"_id\": \"HAN-EXPRESS\" }, { \"_id\": \"HAN-POOL\" }, { \"_id\": \"HAN-SAMEDAY\" }];\r\n  prepareDataCalculate() {\r\n    const data = {\r\n      token: this.delivery.token,\r\n      services: this.dataAddress.ProvinceID == 202 ? this.services_SGN : this.services_HAN,\r\n      path: [\r\n        { address: this.formatAddressAhamove(this.delivery.address, this.delivery.ward, this.delivery.district, this.delivery.province) },\r\n        { address: this.formatAddressAhamove(this.dataAddress.address, this.dataAddress.WardName, this.dataAddress.DistrictName, this.dataAddress.ProvinceName), cod: 0 }\r\n      ]\r\n    }\r\n    return data;\r\n  }\r\n  /**Format địa chỉ của ahamove */\r\n  formatAddressAhamove(address, ward, district, province) {\r\n    return address + \", \" + ward + \", \" + district + \", \" + province;\r\n  }\r\n  viewResultAhamove() {\r\n    this.resultFeesAhamove = []\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      this.ahamoveService.calculateFeeAhamove(this.prepareDataCalculate()).then((res: any) => {\r\n        this.vhComponent.hideLoading(0)\r\n        this.loadingDone = true\r\n        res.forEach(item => {\r\n          if (item.total_fee && item.total_fee >= 0) {\r\n            let data = this.filterTitleServiceAhamove(item._id);\r\n            this.resultFeesAhamove.push({ short_name: data.title, description: data.description, ...item })\r\n          }\r\n        })\r\n      }).catch(err => { this.messageError(); this.vhComponent.hideLoading(0) })\r\n    })\r\n  }\r\n  filterTitleServiceAhamove(id) {\r\n    let title = '';\r\n    let description = '';\r\n    switch (id) {\r\n      case 'SGN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'SGN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'SGN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'SGN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n      case 'SGN-TRICYCLE': title = 'Delivery tricycle'; description = 'Tricycle service description'; break;\r\n      case 'SGN-TRUCK-500': title = '500kg truck'; description = 'Delivered by small truck'; break;\r\n      case 'SGN-TRUCK-2000': title = '2000kg truct'; description = 'Delivered by big truck'; break;\r\n      case 'HAN-BIKE': title = 'Over speed'; description = 'Deliver within an hour'; break;\r\n      case 'HAN-EXPRESS': title = 'Near delivery'; description = 'Super fast delivery only 30 minutes'; break;\r\n      case 'HAN-POOL': title = 'Dirt cheap'; description = 'Save 20%, 2-hour delivery'; break;\r\n      case 'HAN-SAMEDAY': title = '4-Hour'; description = 'Delivery within the city, committed in 4 hours'; break;\r\n    }\r\n    return {\r\n      title: title,\r\n      description: description\r\n    };\r\n  }\r\n  visible_list_addressGHN: boolean = false\r\n  getListAddressCustomer() {\r\n    let type: number = this.delivery.type\r\n    if (this.delivery.type >= 4) type = type + 2\r\n    this.listAddressCustomer = this.vhQuerySales.getlocalAddresss().filter(item => item.type == type && item.id_customer == this.id_customer).sort((prev, next) => Date.parse(next.date) - Date.parse(prev.date))\r\n    if (this.listAddressCustomer.length) {\r\n      this.infoCus.addressDelivery = this.renderAddress(this.listAddressCustomer[0])\r\n      if (type == 1) this.changeWardGHN(true)\r\n    }\r\n  }\r\n  renderAddress(info: any) {\r\n    if (this.delivery.type == 4) {\r\n      this.dataAddress = { ...info }\r\n      return `${info.ReceiverAddress}, ${info.TenPhuongXa}, ${info.TenQuanHuyen}, ${info.TenTinhThanh}`\r\n    } else if (this.delivery.type == 5) {\r\n      this.dataAddress = { ...info }\r\n      return `${info.RECEIVER_ADDRESS}, ${info.WARDS_NAME}, ${info.DISTRICT_NAME}, ${info.PROVINCE_NAME}`\r\n    } else {\r\n      this.dataAddress.DistrictID = info.district_id\r\n      this.dataAddress.ProvinceName = info.province\r\n      this.dataAddress.DistrictName = info.district\r\n      this.dataAddress.WardName = info.ward\r\n      this.dataAddress.address = info.address\r\n      this.dataAddress.ProvinceID = info.province == 'Hồ Chí Minh' ? 202 : 201\r\n      if (this.delivery.type == 1) this.changeWardGHN(true)\r\n      return `${info.hamlet || ''}${info.hamlet ? ' - ' : ''}${info.address}, ${info.ward}, ${info.district}, ${info.province}`\r\n    }\r\n  }\r\n  onCloseListAddressGHN(event: any) {\r\n    if (event && !event.add) {\r\n      this.infoCus.addressDelivery = this.renderAddress(event)\r\n      if (this.delivery.type != 3) this.changeWardGHN(true)\r\n    } else if (event && event.add)\r\n      this.visibleAddDelivery = true\r\n\r\n    this.visible_list_addressGHN = false\r\n  }\r\n  visibleAddDelivery: boolean = false\r\n  hideModalAddDelivery(event: any) {\r\n    if (event)\r\n      this.infoCus.addressDelivery = this.renderAddress(event)\r\n    this.visibleAddDelivery = false\r\n  }\r\n\r\n  // --------------------------VNPOST--------------------------------------------\r\n  listProvinceVnpost: Array<any> = []\r\n  listDistrictVnpost: Array<any> = []\r\n  listWardVnpost: Array<any> = []\r\n  //------------------------------------Xã huyện tỉnh------------------------------------\r\n  /**Lấy tỉnh thành phố */\r\n  getProvinceVnpost() {\r\n    this.isLoading = true\r\n    this.vnPost.getProvinceVnpost().then((res: Array<any>) => {\r\n      this.isLoading = false\r\n      this.listProvinceVnpost = res\r\n    })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceVnpost(event) {\r\n    if (event) {\r\n      this.listDistrictVnpost = []\r\n      this.listWardVnpost = []\r\n      this.dataAddress.ReceiverDistrictId = ''\r\n      this.dataAddress.ReceiverWardId = ''\r\n      let province = this.listProvinceVnpost.find(item => item.MaTinhThanh == event)\r\n      this.dataAddress['TenTinhThanh'] = province.TenTinhThanh\r\n      this.resultFeesVnpost = []\r\n    }\r\n  }\r\n  /**Lấy quận, huyện */\r\n  getDistrictVnpost() {\r\n    this.isLoading = true\r\n    this.vnPost.getDistrictVnpost().then((res: Array<any>) => {\r\n      this.listDistrictVnpost = res.filter(item => item.MaTinhThanh == this.dataAddress.ReceiverProvinceId)\r\n      this.isLoading = false\r\n    })\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi huyện => reset xã\r\n  * @param event \r\n  */\r\n  changeDistrictVnpost(event) {\r\n    if (event) {\r\n      this.listWardVnpost = []\r\n      this.dataAddress.ReceiverWardId = ''\r\n      let district = this.listDistrictVnpost.find(item => item.MaQuanHuyen == event)\r\n      this.dataAddress['TenQuanHuyen'] = district.TenQuanHuyen\r\n      this.resultFeesVnpost = []\r\n    }\r\n  }\r\n\r\n  /**Lấy phường, xã */\r\n  getWardVnpost() {\r\n    this.isLoading = true\r\n    this.vnPost.getWardVnpost().then((res: Array<any>) => {\r\n      this.listWardVnpost = res.filter(item => item.MaQuanHuyen == this.dataAddress.ReceiverDistrictId)\r\n      this.isLoading = false\r\n    })\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi phường, xã\r\n  * @param event \r\n  */\r\n  changeWardVnpost(event) {\r\n    if (event) {\r\n      let ward = this.listWardVnpost.find(item => item.MaPhuongXa == event)\r\n      this.dataAddress['TenPhuongXa'] = ward.TenPhuongXa\r\n      this.resultFeesVnpost = []\r\n    }\r\n  }\r\n  //------------------------------------Xã huyện tỉnh------------------------------------\r\n  viewResultVnpost() {\r\n    let data_deli = { ...this.dataAddress, CodAmountEvaluation: 0, OrderAmountEvaluation: 0, IsReceiverPayFreight: false }\r\n    this.resultFeesVnpost = []\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      this.vnPost.getServiceNameVnpost(this.delivery.Token, this.vnPost.renderFormatService(this.delivery, data_deli, this.dataProduct, data_deli, this.delivery.CustomerCode)).then((result: Array<any>) => {\r\n        result.forEach(item => {\r\n          if (item.Success) {\r\n            item.TenDichVu = this.renderNameServiceVnpost(item.MaDichVu, item.TongCuocBaoGomDVCT)\r\n            this.resultFeesVnpost.push(item)\r\n\r\n          }\r\n        })\r\n        if (this.resultFeesVnpost.length == 0) this.loadingDone = true\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n  renderNameServiceVnpost(MaDichVu, TongCuocBaoGomDVCT) {\r\n    switch (MaDichVu) {\r\n      case 'EMS': return `${this.lang.translate('Chuyển phát nhanh')} - ${this.vhAlgorithm.vhcurrencyunit(TongCuocBaoGomDVCT)}`\r\n      case 'BK': return `${this.lang.translate('Chuyển phát thường')} - ${this.vhAlgorithm.vhcurrencyunit(TongCuocBaoGomDVCT)}`\r\n      case 'TMDT_EMS': return `TMDT_EMS - ${this.lang.translate('TMĐT-Chuyển phát nhanh EMS ')} - ${this.vhAlgorithm.vhcurrencyunit(TongCuocBaoGomDVCT)}`\r\n      case 'TMDT_BK': return `TMDT_BK - ${this.lang.translate('TMĐT-Chuyển phát tiêu chuẩn')} - ${this.vhAlgorithm.vhcurrencyunit(TongCuocBaoGomDVCT)}`\r\n      case 'TMDT_EMS_TK': return `TMDT_EMS_TK - ${this.lang.translate('TMĐT-Chuyển phát nhanh EMS tiết kiệm (liên vùng)')} - ${this.vhAlgorithm.vhcurrencyunit(TongCuocBaoGomDVCT)}`\r\n    }\r\n  }\r\n\r\n  // -----------------------------------VIETTEL POST-----------------------------------\r\n  //------------------------------------Xã huyện tỉnh------------------------------------\r\n  /**Lấy tỉnh thành phố */\r\n  getProvinceViettel() {\r\n    this.isLoading = true\r\n    this.viettelService.getProvinceViettel().then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.error) this.vhComponent.alertMessageDesktop('error', res.message)\r\n      else this.listProvinceViettel = res.data\r\n    })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceViettel(event) {\r\n    if (event) {\r\n      this.listDistrictViettel = []\r\n      this.listWardViettel = []\r\n      this.dataAddress.RECEIVER_DISTRICT = ''\r\n      this.dataAddress.RECEIVER_WARD = ''\r\n      this.dataAddress.PROVINCE_NAME = this.listProvinceViettel.find(item => item.PROVINCE_ID == event).PROVINCE_NAME\r\n    }\r\n  }\r\n  /**Lấy quận, huyện */\r\n  getDistrictViettel() {\r\n    this.isLoading = true\r\n    this.viettelService.getDistrictViettel(this.dataAddress.RECEIVER_PROVINCE).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.error) this.vhComponent.alertMessageDesktop('error', res.message)\r\n      else this.listDistrictViettel = res.data.map(item => {\r\n        item.DISTRICT_NAME = this.uppercaseFirstChar(item.DISTRICT_NAME)\r\n        return item\r\n      })\r\n    })\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi huyện => reset xã\r\n  * @param event \r\n  */\r\n  changeDistrictViettel(event) {\r\n    if (event) {\r\n      this.listWardViettel = []\r\n      this.dataAddress.RECEIVER_WARD = ''\r\n      this.dataAddress.DISTRICT_NAME = this.listDistrictViettel.find(item => item.DISTRICT_ID == event).DISTRICT_NAME\r\n    }\r\n  }\r\n\r\n  /**Lấy phường, xã */\r\n  getWardViettel() {\r\n    this.isLoading = true\r\n    this.viettelService.getWardViettel(this.dataAddress.RECEIVER_DISTRICT).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.error) this.vhComponent.alertMessageDesktop('error', res.message)\r\n      else this.listWardViettel = res.data.map(item => {\r\n        item.WARDS_NAME = this.uppercaseFirstChar(item.WARDS_NAME)\r\n        return item\r\n      })\r\n    })\r\n  }\r\n  /**\r\n  * Sự kiện thay đổi phường, xã\r\n  * @param event \r\n  */\r\n  changeWardViettel(event) {\r\n    if (event) {\r\n      this.dataAddress.WARDS_NAME = this.listWardViettel.find(item => item.WARDS_ID == event).WARDS_NAME\r\n      this.getAllServiceVietel()\r\n    }\r\n  }\r\n  getAllServiceVietel() {\r\n    let MONEY_COLLECTION = this.MONEY_COLLECTION.getRawValue()\r\n    let PRODUCT_PRICE = this.PRODUCT_PRICE.getRawValue()\r\n    \r\n    \r\n    setTimeout(() => {\r\n      if (this.dataAddress.RECEIVER_WARD && this.dataProduct.PRODUCT_WEIGHT && (MONEY_COLLECTION && MONEY_COLLECTION >= 0) && (PRODUCT_PRICE && PRODUCT_PRICE >= 0)) {\r\n        this.viettelService.getServiceViettel(this.delivery.token, { ...this.dataAddress, ...this.dataProduct, SENDER_DISTRICT: this.delivery.districtId, SENDER_PROVINCE: this.delivery.provinceId, PRODUCT_PRICE, MONEY_COLLECTION }).then((result: any) => {\r\n          if (result.length) this.listServiceViettel = result\r\n          else this.vhComponent.alertMessageDesktop('error', result.message)\r\n          \r\n        })\r\n      }\r\n    }, 100)\r\n  }\r\n  serviceSelectedViettel: any = {}\r\n\r\n  changeServiceViettel(event) {\r\n    this.serviceSelectedViettel = {}\r\n    this.listServiceAddViettel = this.listServiceViettel.find(item => item.MA_DV_CHINH == event).EXTRA_SERVICE\r\n    this.getPriceOfServiceSelected()\r\n  }\r\n\r\n  getPriceSpecially() {\r\n    let ORDER_SERVICE_ADD: string = ''\r\n    this.listServiceAddViettel.forEach(item => {\r\n      if (item.checked) ORDER_SERVICE_ADD += `${item.SERVICE_CODE},`\r\n    })\r\n    ORDER_SERVICE_ADD = ORDER_SERVICE_ADD.slice(0, ORDER_SERVICE_ADD.lastIndexOf(','))\r\n    this.dataAddress.ORDER_SERVICE_ADD = ORDER_SERVICE_ADD\r\n    this.getPriceOfServiceSelected()\r\n  }\r\n\r\n  getPriceOfServiceSelected() {\r\n    let MONEY_COLLECTION = this.MONEY_COLLECTION.getRawValue()\r\n    let PRODUCT_PRICE = this.PRODUCT_PRICE.getRawValue()\r\n    this.viettelService.getPriceSpeciallyViettel(this.delivery.token, { ...this.dataAddress, ...this.dataProduct, SENDER_DISTRICT: this.delivery.districtId, SENDER_PROVINCE: this.delivery.provinceId, PRODUCT_PRICE, MONEY_COLLECTION }).then((result: any) => {\r\n      if (result.error) this.vhComponent.alertMessageDesktop('error', result.message)\r\n      else this.serviceSelectedViettel = result.data\r\n    })\r\n  }\r\n  //Viết hoa chữ cái đầu của mỗi từ\r\n  uppercaseFirstChar(str: string) {\r\n    let array = str.toLowerCase().split(' ');\r\n    let newStr = '';\r\n    array.forEach((item) => {\r\n      newStr += item.charAt(0).toUpperCase() + item.slice(1) + ' ';\r\n    });\r\n    return newStr\r\n  }\r\n  // -----------------------------------VIETTEL POST-----------------------------------\r\n}\r\n","<nz-modal [nzWidth]=\"800\" [nzMaskClosable]=\"false\" [(nzVisible)]=\"visibleCheckFees\" [nzClosable]=\"true\"\r\n    [nzBodyStyle]=\"{'overflow': 'auto','max-height': '600px','overflow-y':'auto'}\"\r\n    [nzTitle]=\"'Check shipping fee'|translate\" [nzFooter]=\"null\" (nzOnCancel)=\"hideModal()\">\r\n    <ng-container style=\"overflow-y: auto;\" *nzModalContent>\r\n        <div nz-row nzGutter=\"16\" class=\"modal-check-fees\">\r\n            <div nz-col nzSpan=\"24\" class=\"logo\">\r\n                <img *ngIf=\"delivery.logo\" [src]=\"delivery.logo\" alt=\"\">\r\n            </div>\r\n            <ng-container *ngIf=\"id_customer == 'id_retail';else customerApp\">\r\n                <ng-container *ngIf=\"[1,2,3].includes(delivery.type)\">\r\n                    <div nz-col nzSpan=\"8\" *ngIf=\"delivery.type == 3\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">{{'Address' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <input style=\"border-radius: 8px;\" placeholder=\"14A Cộng Hòa\" type=\"text\" nz-input\r\n                                        [(ngModel)]=\"dataAddress.address\" />\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"ProvinceID\">{{'Province' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceGHN()\"\r\n                                        [(ngModel)]=\"dataAddress['ProvinceID']\"\r\n                                        (ngModelChange)=\"changeProvinceGHN($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceGHN\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.ProvinceID\"\r\n                                                [nzLabel]=\"item.ProvinceName\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"DistrictID\">{{'District' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [(ngModel)]=\"dataAddress['DistrictID']\"\r\n                                        [nzDisabled]=\"!dataAddress['ProvinceID']\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getDistrictGHN()\" (ngModelChange)=\"changeDistrictGHN($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictGHN\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.DistrictID\"\r\n                                                [nzLabel]=\"item.DistrictName\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"WardCode\">{{'Ward' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [(ngModel)]=\"dataAddress['WardCode']\"\r\n                                        [nzDisabled]=\"!dataAddress['DistrictID']\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getWardGHN()\" (ngModelChange)=\"changeWardGHN($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardGHN\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.WardCode\"\r\n                                                [nzLabel]=\"item.WardName\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Length\">{{'Length(cm)' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <nz-input-number nzPlaceHolder=\"{{'Length is required' | translate}}\" nz-input\r\n                                        required [(ngModel)]=\"dataProduct.length\"></nz-input-number>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Width\">{{'Width(cm)' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <nz-input-number nzPlaceHolder=\"{{'Width is required' | translate}}\" nz-input\r\n                                        required [(ngModel)]=\"dataProduct.width\"></nz-input-number>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Height\">{{'Height(cm)' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <nz-input-number nzPlaceHolder=\"{{'Height is required' | translate}}\" nz-input\r\n                                        required [(ngModel)]=\"dataProduct.height\"></nz-input-number>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"6\" *ngIf=\"delivery.type != 3\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Weight\">{{'Weight(gram)' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control>\r\n                                <nz-input-group>\r\n                                    <nz-input-number nzPlaceHolder=\"{{'Weight is required' | translate}}\" nz-input\r\n                                        required [(ngModel)]=\"dataProduct.weight\"></nz-input-number>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </ng-container>\r\n                <!-- --------------------VNPOST-------------------- -->\r\n                <ng-container *ngIf=\"delivery.type==4\">\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"ProvinceID\">{{'Province' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceVnpost()\"\r\n                                        [(ngModel)]=\"dataAddress['ReceiverProvinceId']\"\r\n                                        (ngModelChange)=\"changeProvinceVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceVnpost\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.MaTinhThanh\"\r\n                                                [nzLabel]=\"item.TenTinhThanh\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"DistrictID\">{{'District' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzDisabled]=\"!dataAddress['ReceiverProvinceId']\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getDistrictVnpost()\" [(ngModel)]=\"dataAddress['ReceiverDistrictId']\"\r\n                                        (ngModelChange)=\"changeDistrictVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictVnpost\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.MaQuanHuyen\"\r\n                                                [nzLabel]=\"item.TenQuanHuyen\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"WardID\">{{'Ward' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzDisabled]=\"!dataAddress['ReceiverDistrictId']\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getWardVnpost()\" [(ngModel)]=\"dataAddress['ReceiverWardId']\"\r\n                                        (ngModelChange)=\"changeWardVnpost($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardVnpost\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.MaPhuongXa\"\r\n                                                [nzLabel]=\"item.TenPhuongXa\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                            {{'Weight'|translate}} (kg)* <i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 1000.000kg'\" nz-icon\r\n                                nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                <nz-input-group>\r\n                                    <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.WeightEvaluation\"\r\n                                        nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplWeight let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Length\">\r\n                            {{'Length'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                                nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                                <nz-input-group>\r\n                                    <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.LengthEvaluation\"\r\n                                        nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplLength let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                            {{'Width'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                                nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                                <nz-input-group>\r\n                                    <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.WidthEvaluation\"\r\n                                        nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplWidth let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                            {{'Height'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                                nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                                <nz-input-group>\r\n                                    <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.HeightEvaluation\"\r\n                                        nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplHeight let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </ng-container>\r\n                <!-- --------------------VNPOST-------------------- -->\r\n                <!-- ------------------------VIETEL POST------------------- -->\r\n                <ng-container *ngIf=\"delivery.type==5\">\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"ProvinceID\">{{'Province' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceViettel()\"\r\n                                        [(ngModel)]=\"dataAddress.RECEIVER_PROVINCE\"\r\n                                        (ngModelChange)=\"changeProvinceViettel($event)\"\r\n                                        nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listProvinceViettel\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.PROVINCE_ID\"\r\n                                                [nzLabel]=\"item.PROVINCE_NAME\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"DistrictID\">{{'District' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzDisabled]=\"!dataAddress.RECEIVER_PROVINCE\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getDistrictViettel()\" [(ngModel)]=\"dataAddress.RECEIVER_DISTRICT\"\r\n                                        (ngModelChange)=\"changeDistrictViettel($event)\"\r\n                                        nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listDistrictViettel\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.DISTRICT_ID\"\r\n                                                [nzLabel]=\"item.DISTRICT_NAME\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"WardID\">{{'Ward' | translate}}\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <nz-form-control [nzSpan]=\"24\">\r\n                                    <nz-select [nzDisabled]=\"!dataAddress.RECEIVER_DISTRICT\" [nzShowSearch]=\"true\"\r\n                                        (nzFocus)=\"getWardViettel()\" [(ngModel)]=\"dataAddress.RECEIVER_WARD\"\r\n                                        (ngModelChange)=\"changeWardViettel($event)\"\r\n                                        nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                        <ng-container *ngFor=\"let item of listWardViettel\">\r\n                                            <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.WARDS_ID\"\r\n                                                [nzLabel]=\"item.WARDS_NAME\">\r\n                                            </nz-option>\r\n                                        </ng-container>\r\n                                        <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                            <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                            {{'Loading...'|translate}}\r\n                                        </nz-option>\r\n                                    </nz-select>\r\n                                </nz-form-control>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                            {{'Weight'|translate}} (gram)* <i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 1000.000'\" nz-icon\r\n                                nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"getAllServiceVietel()\" placeholder=\"8000\" style=\"border-radius: 8px;\"\r\n                                        [(ngModel)]=\"dataProduct.PRODUCT_WEIGHT\" nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplWeight let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"COD\">{{'COD' | translate}}<i\r\n                                    class=\"icon-explain\" nz-tooltip\r\n                                    [nzTooltipTitle]=\"('Maximum' | translate) + ' 100.000.000.000 VND'\" nz-icon\r\n                                    nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <input (blur)=\"getAllServiceVietel()\" [(ngModel)]=\"dataProduct.MONEY_COLLECTION\"\r\n                                    class=\"MONEY_COLLECTION\" style=\"border-radius: 8px;\" placeholder=\"100,000\"\r\n                                    type=\"text\" nz-input />\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"PRODUCT_PRICE\">{{'Order value' |\r\n                                translate}}<i class=\"icon-explain\" nz-tooltip\r\n                                    [nzTooltipTitle]=\"('Maximum' | translate) + ' 100.000.000.000 VND'\" nz-icon\r\n                                    nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <input (blur)=\"getAllServiceVietel()\" [(ngModel)]=\"dataProduct.PRODUCT_PRICE\"\r\n                                    class=\"PRODUCT_PRICE\" style=\"border-radius: 8px;\" placeholder=\"100,000\" type=\"text\"\r\n                                    nz-input />\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </ng-container>\r\n                <!-- ------------------------VIETEL POST------------------- -->\r\n            </ng-container>\r\n            <ng-template #customerApp>\r\n                <div class=\"customer-app\" nz-col nzSpan=\"24\">\r\n                    <div class=\"name\"><b>{{'Name' | translate}}</b>: {{infoCus.name}}</div>\r\n                    <div style=\"margin-top: 6px;\" class=\"phone\"><b>{{'Phone number' | translate}}</b>: {{infoCus.phone}}\r\n                    </div>\r\n                    <div class=\"address\"><b>{{'Address' | translate}}</b>: {{(infoCus.addressDelivery ||'No data') |\r\n                        translate}} <span (click)=\"visible_list_addressGHN= true\" class=\"icon-edit\">\r\n                            <ion-icon nz-tooltip nzTooltipPlacement=\"top\"\r\n                                nzTooltipTitle=\"{{'Change delivery address' | translate}}\"\r\n                                [name]=\"infoCus.addressDelivery ? 'create-outline' : 'add-outline'\" slot=\"end\">\r\n                            </ion-icon>\r\n                        </span></div>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                    <nz-form-item>\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Length\">{{'Length(cm)' | translate}}\r\n                        </nz-form-label>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <nz-input-number nzPlaceHolder=\"{{'Length is required' | translate}}\" nz-input required\r\n                                    [(ngModel)]=\"dataProduct.length\"></nz-input-number>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                    <nz-form-item>\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Width\">{{'Width(cm)' | translate}}\r\n                        </nz-form-label>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <nz-input-number nzPlaceHolder=\"{{'Width is required' | translate}}\" nz-input required\r\n                                    [(ngModel)]=\"dataProduct.width\"></nz-input-number>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n\r\n                <div *ngIf=\"delivery.type == 1\" nz-col nzSpan=\"6\">\r\n                    <nz-form-item>\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Height\">{{'Height(cm)' | translate}}\r\n                        </nz-form-label>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <nz-input-number nzPlaceHolder=\"{{'Height is required' | translate}}\" nz-input required\r\n                                    [(ngModel)]=\"dataProduct.height\"></nz-input-number>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" *ngIf=\"![3,4,5].includes(delivery.type)\">\r\n                    <nz-form-item>\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Weight\">{{'Weight(gram)' | translate}}\r\n                        </nz-form-label>\r\n                        <nz-form-control>\r\n                            <nz-input-group>\r\n                                <nz-input-number nzPlaceHolder=\"{{'Weight is required' | translate}}\" nz-input required\r\n                                    [(ngModel)]=\"dataProduct.weight\"></nz-input-number>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 4\" nz-col nzSpan=\"8\">\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                        {{'Weight'|translate}} (gram)* <i class=\"icon-explain\" nz-tooltip\r\n                            [nzTooltipTitle]=\"('Maximum' | translate) + ' 1000.000kg'\" nz-icon\r\n                            nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                    </nz-form-label>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                            <nz-input-group>\r\n                                <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.WeightEvaluation\" nz-input\r\n                                    required type=\"number\" />\r\n                                <ng-template #combineTplWeight let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                        required'\r\n                                        |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 4\" nz-col nzSpan=\"8\">\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Length\">\r\n                        {{'Length'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                            [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                            nzTheme=\"outline\"></i>\r\n                    </nz-form-label>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplLength\">\r\n                            <nz-input-group>\r\n                                <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.LengthEvaluation\" nz-input\r\n                                    required type=\"number\" />\r\n                                <ng-template #combineTplLength let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Length is\r\n                                        required'\r\n                                        |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 4\" nz-col nzSpan=\"8\">\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                        {{'Width'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                            [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                            nzTheme=\"outline\"></i>\r\n                    </nz-form-label>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplWidth\">\r\n                            <nz-input-group>\r\n                                <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.WidthEvaluation\" nz-input\r\n                                    required type=\"number\" />\r\n                                <ng-template #combineTplWidth let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Width is\r\n                                        required'\r\n                                        |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <div *ngIf=\"delivery.type == 4\" nz-col nzSpan=\"8\">\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                        {{'Height'|translate}} (cm)*<i class=\"icon-explain\" nz-tooltip\r\n                            [nzTooltipTitle]=\"('Maximum' | translate) + ' 100m'\" nz-icon nzType=\"exclamation-circle\"\r\n                            nzTheme=\"outline\"></i>\r\n                    </nz-form-label>\r\n                    <nz-form-item>\r\n                        <nz-form-control [nzErrorTip]=\"combineTplHeight\">\r\n                            <nz-input-group>\r\n                                <input style=\"border-radius: 8px;\" [(ngModel)]=\"dataProduct.HeightEvaluation\" nz-input\r\n                                    required type=\"number\" />\r\n                                <ng-template #combineTplHeight let-control>\r\n                                    <ng-container *ngIf=\"control.hasError('required')\">{{'Height is\r\n                                        required'\r\n                                        |\r\n                                        translate}}\r\n                                    </ng-container>\r\n                                </ng-template>\r\n                            </nz-input-group>\r\n                        </nz-form-control>\r\n                    </nz-form-item>\r\n                </div>\r\n                <ng-container *ngIf=\"delivery.type == 5\">\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">\r\n                            {{'Weight'|translate}} (gram)* <i class=\"icon-explain\" nz-tooltip\r\n                                [nzTooltipTitle]=\"('Maximum' | translate) + ' 1000.000'\" nz-icon\r\n                                nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                        </nz-form-label>\r\n                        <nz-form-item>\r\n                            <nz-form-control [nzErrorTip]=\"combineTplWeight\">\r\n                                <nz-input-group>\r\n                                    <input (blur)=\"getAllServiceVietel()\" placeholder=\"8000\" style=\"border-radius: 8px;\"\r\n                                        [(ngModel)]=\"dataProduct.PRODUCT_WEIGHT\" nz-input required type=\"number\" />\r\n                                    <ng-template #combineTplWeight let-control>\r\n                                        <ng-container *ngIf=\"control.hasError('required')\">{{'Weight is\r\n                                            required'\r\n                                            |\r\n                                            translate}}\r\n                                        </ng-container>\r\n                                    </ng-template>\r\n                                </nz-input-group>\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"COD\">{{'COD' | translate}}<i\r\n                                    class=\"icon-explain\" nz-tooltip\r\n                                    [nzTooltipTitle]=\"('Maximum' | translate) + ' 100.000.000.000 VND'\" nz-icon\r\n                                    nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <input (blur)=\"getAllServiceVietel()\" [(ngModel)]=\"dataProduct.MONEY_COLLECTION\"\r\n                                    class=\"MONEY_COLLECTION\" style=\"border-radius: 8px;\" placeholder=\"100,000\"\r\n                                    type=\"text\" nz-input />\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"8\">\r\n                        <nz-form-item>\r\n                            <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"PRODUCT_PRICE\">{{'Order value' |\r\n                                translate}}<i class=\"icon-explain\" nz-tooltip\r\n                                    [nzTooltipTitle]=\"('Maximum' | translate) + ' 100.000.000.000 VND'\" nz-icon\r\n                                    nzType=\"exclamation-circle\" nzTheme=\"outline\"></i>\r\n                            </nz-form-label>\r\n                            <nz-form-control [nzSpan]=\"24\">\r\n                                <input (blur)=\"getAllServiceVietel()\" [(ngModel)]=\"dataProduct.PRODUCT_PRICE\"\r\n                                    class=\"PRODUCT_PRICE\" style=\"border-radius: 8px;\" placeholder=\"100,000\" type=\"text\"\r\n                                    nz-input />\r\n                            </nz-form-control>\r\n                        </nz-form-item>\r\n                    </div>\r\n                </ng-container>\r\n            </ng-template>\r\n            <div nz-col nzSpan=\"24\"></div>\r\n            <div nz-col nzSpan=\"8\" *ngFor=\"let item of resultFeesGHN\">\r\n                <div class=\"fees-item\">\r\n                    <div class=\"name\"><b>{{item.short_name}}</b></div>\r\n                    <div class=\"price\"><b>{{vhAlgorithm.vhcurrencyunit_symbol(item.total)}}</b></div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\" *ngFor=\"let item of resultFeesGHTK\">\r\n                <div class=\"fees-item\">\r\n                    <div class=\"name\"><b>{{item.short_name | translate}}</b></div>\r\n                    <div class=\"price\"><b>{{vhAlgorithm.vhcurrencyunit_symbol(item.fee)}}</b></div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\" *ngFor=\"let item of resultFeesAhamove\">\r\n                <div class=\"fees-item-ahamove\">\r\n                    <div class=\"name\"><b>{{item.short_name | translate}}</b></div>\r\n                    <div class=\"sub-name\">{{item.description | translate}}</div>\r\n                    <div class=\"price\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit_symbol(item.total_fee)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" *ngIf=\"listServiceViettel.length\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"PRODUCT_PRICE\">{{'Service' |\r\n                        translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-radio-group [(ngModel)]=\"dataAddress.ORDER_SERVICE\"\r\n                            (ngModelChange)=\"changeServiceViettel($event)\">\r\n                            <label *ngFor=\"let item of listServiceViettel\" nz-radio\r\n                                [nzValue]=\"item.MA_DV_CHINH\">{{item.TEN_DICHVU}}</label>\r\n                        </nz-radio-group>\r\n                    </nz-form-control>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"PRODUCT_PRICE\">{{'Extra service' |\r\n                        translate}}\r\n                    </nz-form-label>\r\n                    <label class=\"extra\" *ngFor=\"let item of listServiceAddViettel\" nz-checkbox\r\n                        [(ngModel)]=\"item.checked\" [ngModelOptions]=\"{standalone: true}\"\r\n                        (ngModelChange)=\"getPriceSpecially()\">{{item.SERVICE_NAME}}</label>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" *ngIf=\"serviceSelectedViettel.MONEY_TOTAL_FEE\">\r\n                <div class=\"result-viettel\">\r\n                    <span><b>{{\"COD Fee\" | translate}}</b>:\r\n                        {{vhAlgorithm.vhcurrencyunit(serviceSelectedViettel.MONEY_COLLECTION_FEE)}}</span>\r\n                    <span><b>{{\"VAT Fee\" | translate}}</b>:\r\n                        {{vhAlgorithm.vhcurrencyunit(serviceSelectedViettel.MONEY_VAT)}}</span>\r\n                    <span><b>{{'Main fee' | translate}}</b>:\r\n                        {{vhAlgorithm.vhcurrencyunit(serviceSelectedViettel.MONEY_TOTAL_FEE)}}</span>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\" *ngFor=\"let item of resultFeesVnpost\">\r\n                <div class=\"fees-item\">\r\n                    <div style=\"font-size: 0.8rem;\"><b>{{item.TenDichVu}}</b></div>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\" *ngIf=\"!resultFeesAhamove.length && loadingDone\">\r\n                <div class=\"fees-item-ahamove no-service\">\r\n                    <b>{{'No service' | translate}}</b>\r\n                </div>\r\n            </div>\r\n\r\n            <div nz-col nzSpan=\"24\" class=\"right-all-content\" *ngIf=\"delivery.type!=5\">\r\n                <button *ngIf=\"id_customer =='id_retail'\"\r\n                    [disabled]=\"(delivery.type == 1 && (!dataAddress.WardCode || !dataProduct.width || !dataProduct.height || !dataProduct.length || !dataProduct.weight)) || (delivery.type == 2 && (!dataProduct.weight ||!dataAddress.WardCode))|| (delivery.type == 4 && (!dataProduct.WeightEvaluation ||!dataProduct.WidthEvaluation ||!dataProduct.LengthEvaluation ||!dataProduct.HeightEvaluation || !dataAddress.ReceiverWardId))\"\r\n                    (click)=\"viewResult(delivery.type)\" style=\"width: fit-content !important;\" class=\"btn-green\"\r\n                    nz-button nzType=\"default\">{{'View shipping fee' | translate}}</button>\r\n                <button *ngIf=\"id_customer !='id_retail'\" (click)=\"viewResult(delivery.type)\"\r\n                    [disabled]=\"(delivery.type == 1 && (!dataAddress.DistrictID || !dataProduct.width || !dataProduct.height || !dataProduct.length || !dataProduct.weight || !serviceGHN.length)) || (delivery.type == 2 && (!infoCus.addressDelivery || !dataProduct.weight)) || (delivery.type == 4 && (!dataProduct.WeightEvaluation ||!dataProduct.WidthEvaluation ||!dataProduct.LengthEvaluation ||!dataProduct.HeightEvaluation || !dataAddress.ReceiverWardId))\"\r\n                    style=\"width: fit-content !important;\" class=\"btn-green\" nz-button nzType=\"default\">\r\n                    {{'View shipping fee' | translate}}</button>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<!-- ----drawer list address------ -->\r\n<app-list-address-customer-ghn *ngIf=\"visible_list_addressGHN && delivery.type != 4\" [delivery]=\"delivery\"\r\n    [id_customer]=\"id_customer\" [visible_list_address]=\"visible_list_addressGHN\"\r\n    (onCloseListAddress)=\"onCloseListAddressGHN($event)\">\r\n</app-list-address-customer-ghn>\r\n\r\n<!-- add-address customer -->\r\n<app-add-address-delivery *ngIf=\"visibleAddDelivery\" [visibleAddDelivery]=\"visibleAddDelivery\" [delivery]=\"delivery\"\r\n    [id_customer]=\"id_customer\" (hideModalAddDelivery)=\"hideModalAddDelivery($event)\"></app-add-address-delivery>\r\n\r\n<!-- -------drawer address vnpost ---------- -->\r\n<app-list-address-vnpost *ngIf=\"visible_list_addressGHN && delivery.type ==4\" [id_delivery]=\"delivery._id\"\r\n    [pickupAdresssVnpost]=\"visible_list_addressGHN\"\r\n    [customer]=\"{_id : id_customer,ReceiverFullname : vhQuerySales.getlocalCustomer(this.id_customer).name,ReceiverTel:vhQuerySales.getlocalCustomer(id_customer).phone}\"\r\n    [type]=\"6\" (cancelListVnpost)=\"onCloseListAddressGHN($event)\">\r\n</app-list-address-vnpost>\r\n\r\n<!-- list address -->\r\n<app-list-address-viettel *ngIf=\"visible_list_addressGHN && delivery.type ==5\" [id_delivery]=\"delivery._id\"\r\n    [pickupAdresssViettel]=\"visible_list_addressGHN\" [customer]=\"id_customer\"\r\n    (cancelListViettel)=\"onCloseListAddressGHN($event)\">\r\n</app-list-address-viettel>","\r\nimport { Component, Input, Output, EventEmitter, SimpleChanges } from '@angular/core';\r\nimport { VhAlgorithm, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhSaleInvoiceEdit } from 'src/app/sales/components/bill-type/bill-type-1/sales-desktop/sales-desktop-interface';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\n\r\n@Component({\r\n  selector: 'app-customer-pos',\r\n  templateUrl: './customer-pos.component.html',\r\n  styleUrls: ['./customer-pos.component.scss']\r\n})\r\nexport class CustomerPosComponent {\r\n  @Input() visibleCustomer: boolean = false;\r\n  @Output() hideVisibleCustomer: EventEmitter<boolean> = new EventEmitter()\r\n  // đối tượng hóa đơn\r\n  @Input() invoices: VhSaleInvoiceEdit;\r\n  // ID khách hàng\r\n  @Input() customerID: string;\r\n  @Output() eventChangeCustomerType: EventEmitter<boolean> = new EventEmitter()\r\n  @Output() eventChangeCustomer: EventEmitter<any> = new EventEmitter()\r\n  // Cập nhật hóa đơn khi có sự thay đổi\r\n  @Output() updateInvoice: EventEmitter<any> = new EventEmitter()\r\n  @Output() changeDebt: EventEmitter<boolean> = new EventEmitter() // trạng thái cho phép nợ bị thay đổi\r\n  customerList: any[] = []\r\n  customerSearchList: any[] = []\r\n  customerType: 1 | 2;\r\n  // Customer\r\n  showDrawerAddCustomer: boolean = false\r\n  showDrawerCustomerInfo: boolean = false\r\n  show_box_search: boolean = false;\r\n  customer;\r\n  /** Điểm tích lũy cộng thêm */\r\n  @Input() earning_point: number;\r\n  /** Điểm tích lũy hiện tại */\r\n  point_validity: number = 0;\r\n\r\n\r\n\r\n  constructor(\r\n    public vhQuerySales: VhQuerySales,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private nzModalService: NzModalService,\r\n    private vhcomponent: VhComponent,\r\n    private lang: LanguageService\r\n  ) { }\r\n  \r\n\r\n\r\n  initCustomer() {\r\n    this.customerList = this.vhQuerySales.getlocalCustomers().filter(item => item.type != 3).filter(item => item._id != 'id_retail');\r\n    this.customerSearchList = this.customerList;\r\n    if (this.customerID == \"id_retail\") {\r\n      this.customerType = 1\r\n    } else {\r\n      this.customerType = 2\r\n    }\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.customerID)\r\n    this.point_validity = this.vhQuerySales.getlocalCustomerPoints(this.customerID)\r\n  }\r\n\r\n\r\n\r\n  ngOnChanges({ customerID }: SimpleChanges) {\r\n    if (customerID)\r\n      if (customerID.currentValue) {\r\n        this.initCustomer()\r\n      }\r\n  }\r\n\r\n\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * thay đổi loại khách hàng \r\n   * 1 : khách lẻ - id_customer : id_retail\r\n   * 2 :member \r\n   */\r\n  changeCustomerType(type) {\r\n    console.log(type);\r\n\r\n    if (type == 1) {\r\n      this.show_box_search = false\r\n      this.customerID = \"id_retail\"\r\n      this.invoices.id_customer = \"id_retail\";\r\n      this.invoices.tax_buyerDisplayName = 'Người mua không lấy hoá đơn';\r\n      this.invoices.tax_buyerLegalName = '';\r\n      this.invoices.tax_buyerTaxCode = '';\r\n      this.invoices.tax_buyerAddressLine = '';\r\n      this.invoices.tax_buyerEmail = '';\r\n      this.changeDebt.emit(false);\r\n    } \r\n    else if (type == 2 && !this.invoices.retail_name) {\r\n      this.customer = '';\r\n      this.customerList = this.vhQuerySales.getlocalCustomers().filter(item => item.type != 3).filter(item => item._id != 'id_retail');\r\n      this.customerSearchList = this.customerList\r\n      setTimeout(() => document.getElementById(\"select-customer\").click(), 200)\r\n    }\r\n\r\n    if (type == 2 && this.invoices.retail_name) {\r\n      this.nzModalService.confirm({\r\n        nzTitle: `${this.lang.translate('Retail customer information will be lost')}?`,\r\n        nzCancelText: this.lang.translate(\"Cancel\"),\r\n        nzOkText: \"Ok\",\r\n        nzOnOk: () => {\r\n          this.clearRetailCustomer();\r\n          this.customer = '';\r\n          this.customerList = this.vhQuerySales.getlocalCustomers().filter(item => item.type != 3).filter(item => item._id != 'id_retail');\r\n          this.customerSearchList = this.customerList\r\n          setTimeout(() => document.getElementById(\"select-customer\").click(), 200)\r\n        },\r\n        nzOnCancel: () => { this.customerType = 1 },\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n  blurCustomer() {\r\n    setTimeout(() => {\r\n      if (this.customerID == \"id_retail\") this.customerType = 1;\r\n    }, 500)\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi thay đổi khách hàng\r\n   * @param id_customer ID khách hàng được chọn\r\n   */\r\n  changeCustomer(id_customer) {\r\n    this.invoices.id_customer = id_customer;\r\n    const localCustomer = this.vhQuerySales.getlocalCustomer(id_customer);\r\n    this.invoices.tax_buyerDisplayName = localCustomer?.name || '';\r\n    this.invoices.tax_buyerLegalName = localCustomer?.name || '';\r\n    this.invoices.tax_buyerTaxCode = localCustomer?.taxcode || '';\r\n    this.invoices.tax_buyerAddressLine = localCustomer?.address || '';\r\n    this.invoices.tax_buyerEmail = localCustomer?.email || '';\r\n\r\n    if (this.invoices.retail_name) this.clearRetailCustomer();\r\n    let debt = this.vhQuerySales.getlocalCustomer(id_customer).debt_enable;\r\n    this.changeDebt.emit(debt ? debt : false);\r\n    this.eventChangeCustomer.emit(id_customer);\r\n  }\r\n\r\n\r\n\r\n  clearRetailCustomer() {\r\n    this.invoices.retail_address = ('')\r\n    this.invoices.retail_name = ('')\r\n    this.invoices.retail_phone = ('')\r\n  }\r\n\r\n\r\n\r\n  // Customer process\r\n  openAddCustomer() {\r\n    this.showDrawerAddCustomer = true\r\n  }\r\n\r\n\r\n\r\n  openCustomerInfo() {\r\n    this.showDrawerCustomerInfo = true\r\n  }\r\n\r\n\r\n\r\n  closeCustomerInfo(ev) {\r\n    this.showDrawerCustomerInfo = false\r\n    if (ev) this.customerList = this.vhQuerySales.getlocalCustomers().filter(item => item.type != 3).filter(item => item._id != 'id_retail');\r\n  }\r\n\r\n\r\n\r\n  searchCustomer(event) {\r\n    this.customerList = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(event.toString().toLowerCase()), this.customerSearchList, ['name', 'phone'])\r\n  }\r\n\r\n\r\n\r\n  /**add customer */\r\n  showDrawerAddRetail: boolean = false\r\n  openDrawerAddCustomerOrRetail() {\r\n    if (this.customerType == 1) this.showDrawerAddRetail = true\r\n    else this.showDrawerAddCustomer = true\r\n  }\r\n\r\n\r\n\r\n  closeAddCustomer(result) {\r\n    if (this.customerType == 1) {\r\n      if (result) {\r\n        this.invoices.retail_name = (result.retail_name)\r\n        this.invoices.retail_phone = (result.retail_phone)\r\n        this.invoices.retail_address = (result.retail_address)\r\n        this.vhQuerySales.updateBill(this.invoices._id, { id_customer: 'id_retail', retail_name: this.invoices.retail_name, retail_phone: this.invoices.retail_phone, retail_address: this.invoices.retail_address })\r\n      }\r\n      this.showDrawerAddCustomer = false\r\n      this.showDrawerAddRetail = false\r\n    }\r\n    else {\r\n      this.showDrawerAddCustomer = false;\r\n      this.customerSearchList.push(result); // thêm vào mảng\r\n    }\r\n  }\r\n\r\n\r\n\r\n  searchList = []\r\n\r\n  search(value: string) {\r\n    let tempVal: string = this.vhAlgorithm.changeAlias(value.toLowerCase());\r\n    if (value.length >= 6) {\r\n      console.log('searchKeyword_NamePhone', tempVal);\r\n\r\n      this.vhQuerySales.searchKeyword_NamePhone('customers', tempVal).then((res: any) => {\r\n        this.searchList = res.map(item => {\r\n          return { ...item, earning_point: item.earning_point ? item.earning_point : 0 }\r\n        })\r\n        if (this.searchList.length == 0) {\r\n          this.vhcomponent.alertMessageDesktop(\"warning\", this.lang.translate('khong_tim_thay_khach_hang'))\r\n        }\r\n        if (this.searchList.length == 1) {\r\n          this.customerID = this.searchList[0]._id;\r\n          this.changeCustomer(this.customerID)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","<!-- Customer -->\r\n<nz-modal [nzMaskClosable]=\"false\" [(nzVisible)]=\"visibleCustomer\" nzTitle=\"{{'Customer' | translate}}\"\r\n    [nzFooter]=\"null\" [nzBodyStyle]=\"{'min-height' : '100px'}\" [nzZIndex]=\"999\"\r\n    (nzOnCancel)=\"hideVisibleCustomer.emit(false)\">\r\n    <ng-container>\r\n        <div nz-row *nzModalContent>\r\n            <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;align-items: center;\">\r\n                <nz-radio-group [(ngModel)]=\"customerType\" nzName=\"radiogroup\"\r\n                    (ngModelChange)=\"changeCustomerType($event)\">\r\n                    <label nz-radio [nzValue]=1>{{'Retail customer' | translate}}</label>\r\n                    <label nz-radio [nzValue]=2>{{'Member' | translate}}</label>\r\n                    <label nz-radio [nzValue]=3>{{'Search customer' | translate}}</label>\r\n                </nz-radio-group>\r\n                <ion-icon (click)=\"openDrawerAddCustomerOrRetail()\"\r\n                    style=\"color: var(--ion-color-vh-green);padding-right: 5px; cursor: pointer;font-size: 20px;\"\r\n                    [src]=\"invoices.retail_name ? 'assets/icon/eye.svg' : 'assets/icon/add.svg'\">\r\n                </ion-icon>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" class=\"customer\">\r\n                <div *ngIf=\"customerType == 3;\" style=\"height:300px;\">\r\n                    <app-search-customer [id_customer]=\"customerID\"\r\n                    (closeAndReceiveCustomer)=\"changeCustomer($event)\"></app-search-customer>\r\n                </div>\r\n\r\n                <ng-container *ngIf=\"customerType == 2;\">\r\n                    <nz-select id=\"select-customer\" nzShowSearch nzPlaceHolder=\"{{'Select customer' | translate}}\"\r\n                        [(ngModel)]=\"customerID\" (ngModelChange)=\"changeCustomer($event)\" (nzBlur)=\"blurCustomer()\">\r\n                        <nz-option *ngFor=\"let item of customerList\" [nzValue]=\"item._id\"\r\n                            nzLabel=\"{{item.name}} - {{item.phone}} \">\r\n                        </nz-option>\r\n                    </nz-select>\r\n                    <i [ngClass]=\"customerID != '' ? 'active' : 'deactive'\" style=\"cursor: pointer;\" nz-icon\r\n                        nzType=\"info-circle\" nzTheme=\"outline\" (click)=\"showDrawerCustomerInfo = true\"></i>\r\n                </ng-container>\r\n                <ng-template *ngIf=\"customerType == 1;\">\r\n                    <div style=\"margin-top:12px\">\r\n                        <div *ngIf=\"invoices.retail_name\">\r\n                            {{invoices.retail_name}} - {{invoices.retail_phone}} {{invoices.retail_address ?\r\n                            '-':''}} {{invoices.retail_address}}\r\n                        </div>\r\n                        <div class=\"no-data\" *ngIf=\"!invoices.retail_name\">\r\n                            {{'No data' | translate}}\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n            </div>\r\n            <ul nz-menu nzSelectable style=\"border: none;\" *ngIf=\"customerType == 2\">\r\n                <li nz-menu-item>{{'Current accumulated points' | translate}}: <b>{{point_validity}}</b></li>\r\n                <li nz-menu-item>{{'Additional accumulated points' | translate}}: <b> {{earning_point}}</b></li>\r\n            </ul>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n<!-- --------------------add customer---------------------- -->\r\n<app-add-customer1 *ngIf=\"showDrawerAddCustomer\" [showDrawerAddCustomer]=\"showDrawerAddCustomer\"\r\n    (closeAddCustomer)=\"closeAddCustomer($event)\">\r\n</app-add-customer1>\r\n<!-- --------------------customer info---------------------- -->\r\n<app-customer-profile1 *ngIf=\"showDrawerCustomerInfo\" [showDrawerCustomerInfo]=\"showDrawerCustomerInfo\"\r\n    (closeInfoCustomer)=\"closeCustomerInfo($event)\" [id]=\"customerID\">\r\n</app-customer-profile1>\r\n<!-- --------------------add retail---------------------- -->\r\n<app-retail-info *ngIf=\"showDrawerAddRetail\" [showDrawerAddRetail]=\"showDrawerAddRetail\"\r\n    [retail_name]=\"invoices.retail_name\" [retail_phone]=\"invoices.retail_phone\"\r\n    [retail_address]=\"invoices.retail_address\" (closeAddCustomer)=\"closeAddCustomer($event)\"></app-retail-info>","import { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { Component, EventEmitter, Input, Output, SimpleChanges } from '@angular/core';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { FunctionService } from 'src/app/cafe/services/function.service';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { CountryCode } from 'libphonenumber-js/max';\r\n\r\n@Component({\r\n  selector: 'app-customer-profile1',\r\n  templateUrl: './customer-profile.component.html',\r\n  styleUrls: ['./customer-profile.component.scss']\r\n})\r\nexport class CustomerProfileComponent {\r\n  @Input(\"id\") customerID;\r\n  @Input(\"showDrawerCustomerInfo\") showDrawerCustomerInfo;\r\n  @Output(\"closeInfoCustomer\") closeInfoCustomer = new EventEmitter<any>();\r\n  customer: any = {}\r\n  formEditCustomer : FormGroup;\r\n\r\n\r\n\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private functionService: FunctionService,\r\n    private vhComponent: VhComponent,\r\n    private lang: LanguageService,\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnChanges(change: SimpleChanges) {\r\n    // lấy dữ liệu khách hàng\r\n    this.initCustomer(change.customerID.currentValue)\r\n  }\r\n\r\n\r\n\r\n  initCustomer(id_customer: string) {\r\n    if (id_customer != 'id_retail') {\r\n      let customer = this.vhQuerySales.getlocalCustomer(id_customer)\r\n      this.customer = customer ? customer : {};\r\n      if(this.customer) this.initaddCustomerForm()\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  ngOnInit(): void {\r\n    this.initaddCustomerForm();\r\n  }\r\n\r\n\r\n\r\n  goBack() {\r\n    this.closeInfoCustomer.emit(false)\r\n  }\r\n\r\n\r\n\r\n  initaddCustomerForm() {\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.customer.phone, this.countryCode as CountryCode);\r\n    this.formEditCustomer = new FormGroup({\r\n      img: new FormControl(this.customer.img),\r\n      name: new FormControl(this.customer.name, Validators.compose([Validators.required])),\r\n      email: new FormControl(this.customer.email, Validators.compose([Validators.email])),\r\n      gender: new FormControl(this.customer.gender),\r\n      datebirth: new FormControl(this.customer.datebirth),\r\n      phone: new FormControl(this.formattedPhone, [\r\n        Validators.required,\r\n        this.functionService.phoneValidator(() => this.countryCode),\r\n      ]),\r\n      address: new FormControl(this.customer.address),\r\n      country: new FormControl(this.customer.country),\r\n      province: new FormControl(this.customer.province),\r\n      district: new FormControl(this.customer.district),\r\n      note: new FormControl(this.customer.note),\r\n      debt_enable: new FormControl(this.customer.debt_enable),\r\n      _id: new FormControl(this.customer._id),\r\n      isBusiness: new FormControl(this.customer.isBusiness),\r\n      taxcode: new FormControl(this.customer.taxcode),\r\n    });\r\n    // taxcode required khi isBusiness = true\r\n    if(this.customer.isBusiness) {\r\n      this.formEditCustomer.get('taxcode').setValidators([Validators.required]);\r\n      this.formEditCustomer.get('taxcode').updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  save() {\r\n    let customer: any = { ...this.formEditCustomer.value };\r\n\r\n    const phoneNumberValue = customer.phone;\r\n    customer.countryCode = this.countryCode;\r\n    customer.phone = this.functionService.getNationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n    customer.phoneNumber = this.functionService.getInternationalPhoneNumber(phoneNumberValue, this.countryCode);\r\n\r\n    if(customer.isBusiness) {\r\n      delete customer.gender;\r\n      delete customer.datebirth;\r\n    }\r\n    else {\r\n      delete customer.taxcode;\r\n    }\r\n\r\n    this.vhQuerySales.updateCustomer(this.customer._id, customer).then((res: any) => {\r\n      if(res.vcode == 0) {\r\n        this.closeInfoCustomer.emit(true);\r\n      }\r\n      else if(res.vcode == 1) {\r\n        //This phone number is already in use with another customer\r\n        this.vhComponent.hideLoading(0);\r\n        this.vhComponent.showToast(1500, this.lang.translate(\"This phone number is already in use with another customer\"), 'alert-toast');\r\n      }\r\n    })\r\n  }\r\n    \r\n    \r\n    \r\n  /** Kiểm tra số điện thoại đã tồn tại ha chưa để hiển thị thông báo */\r\n  isExitsPhone: boolean = false;\r\n\r\n  /** Mã quốc gia */\r\n  countryCode: string = this.functionService.defaultCountryCode;\r\n  \r\n  /** Calling code */\r\n  callingCode: string = this.functionService.defaultCallingCode;\r\n  \r\n  /** Số điện thoại đã format. VD: 333 333 333 */\r\n  formattedPhone: string = '';\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chọn mã quốc gia\r\n   */\r\n  openSearchCountryCode() {\r\n    this.functionService.openSearchCountryCode().then((data) => {\r\n      this.countryCode = data.code;\r\n      this.callingCode = data.callingCode;\r\n      this.formattedPhone = this.functionService.getFormattedPhoneNumber(this.formEditCustomer.value.phone, this.countryCode as CountryCode);\r\n      this.formEditCustomer.get('phone')?.markAsTouched();\r\n      this.formEditCustomer.get('phone')?.markAsDirty();\r\n      this.formEditCustomer.get('phone')?.updateValueAndValidity();\r\n    }).catch((error) => {\r\n      console.error('Error opening country code search:', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Format số điện thoại khi nhập và set vào form\r\n   * @param event Sự kiện khi nhập số điện thoại\r\n   */\r\n  formatPhoneNumber(event: Event): void {\r\n    // Lấy số điện thoại đã format\r\n    const input = (event.target as HTMLInputElement).value;\r\n    this.formattedPhone = this.functionService.getFormattedPhoneNumber(input, this.countryCode as CountryCode);\r\n    // Cập nhật vào form\r\n    this.formEditCustomer.get('phone')?.setValue(this.formattedPhone, { emitEvent: false });\r\n  }\r\n\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"400\" [nzTitle]=\"null\" [nzVisible]=\"showDrawerCustomerInfo\"\r\n  (nzOnClose)=\"goBack()\"  [nzFooter]=\"footerAddCustomer\">\r\n  <ng-container *nzDrawerContent>\r\n    <form nz-form [formGroup]=\"formEditCustomer\">\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer name' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n            <nz-input-group>\r\n              <input formControlName=\"name\" nz-input placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n              <ng-template #combineTplName let-control>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Customer name is required' | translate}}\r\n                </ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n            <nz-input-group>\r\n              <div (click)=\"openSearchCountryCode()\" class=\"calling-code\">\r\n                <span>+{{callingCode}}</span>\r\n                <i nz-icon nzType=\"caret-down\" nzTheme=\"outline\"></i>\r\n              </div>\r\n              <input formControlName=\"phone\"\r\n                (input)=\"formatPhoneNumber($event)\"\r\n                [value]=\"formattedPhone\"\r\n                [placeholder]=\"'Enter customer phone' | translate\" type=\"tel\" nz-input required />\r\n              <ng-template #combineTplPhone let-control>\r\n                <ng-container *ngIf=\"control.hasError('invalidPhone')\">{{'_Invalid phone number' | translate}}</ng-container>\r\n                <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' | translate}}</ng-container>\r\n              </ng-template>\r\n            </nz-input-group>\r\n            <div *ngIf=\"isExitsPhone\"\r\n              class=\"ng-tns-c300-27 ant-form-item-explain ant-form-item-explain-error ng-star-inserted\"\r\n              ng-reflect-ng-class=\"ant-form-item-explain,ant-form\">\r\n              <div class=\"ng-tns-c300-27 ng-trigger ng-trigger-helpMotion\">\r\n                {{'Phone number already exists' | translate}}\r\n              </div>\r\n            </div>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <!-- <div nz-col nzSpan=\"24\">\r\n        <div nz-row nzGutter=\"16\">\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n            <nz-select nzShowSearch nzAllowClear nzPlaceHolder=\"{{'Select gender' | translate}}\"\r\n               formControlName=\"gender\">\r\n              <nz-option nzLabel=\"{{'Female'|translate}}\" nzValue=\"Female\"></nz-option>\r\n              <nz-option nzLabel=\"{{'Male'|translate}}\" nzValue=\"Male\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n            <nz-date-picker formControlName=\"datebirth\" nzPlaceHolder=\"{{'Select date of birth' | translate}}\">\r\n            </nz-date-picker>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Email' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control nzErrorTip=\"{{'Email is not correct' | translate}}\">\r\n            <nz-input-group>\r\n              <input type=\"email\" formControlName=\"email\" nz-input\r\n                placeholder=\"{{'Enter customer mail' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Address' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"address\" nz-input placeholder=\"{{'Enter address' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n\r\n      <!-- Loại khách hàng -->\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Customer type' | translate}}</b></div>\r\n        <nz-select nzDisabled nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select customer type' | translate\"\r\n          formControlName=\"isBusiness\">\r\n          <nz-option [nzLabel]=\"'Individual' | translate\" [nzValue]=\"false\"></nz-option>\r\n          <nz-option [nzLabel]=\"'Business/Business household' | translate\" [nzValue]=\"true\"></nz-option>\r\n        </nz-select>\r\n      </div>\r\n\r\n      <!-- Mã số thuế -->\r\n      <ng-container *ngIf=\"formEditCustomer.value.isBusiness\">\r\n        <div nz-col nzSpan=\"24\">\r\n          <div><b class='label'>{{'Tax code' | translate}}</b></div>\r\n          <nz-form-item>\r\n            <nz-form-control [nzErrorTip]=\"taxcode\">\r\n              <nz-input-group>\r\n                <input formControlName=\"taxcode\" nz-input [placeholder]=\"'Enter tax code' | translate\" />\r\n                <ng-template #taxcode let-control>\r\n                  <ng-container *ngIf=\"control.hasError('required')\">{{'Tax code is required' | translate}}\r\n                  </ng-container>\r\n                </ng-template>\r\n              </nz-input-group>\r\n            </nz-form-control>\r\n          </nz-form-item>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <div *ngIf=\"!formEditCustomer.value.isBusiness\" nz-col nzSpan=\"24\">\r\n        <div nz-row nzGutter=\"16\">\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Gender' | translate}}</b></div>\r\n            <nz-select nzShowSearch nzAllowClear [nzPlaceHolder]=\"'Select gender' | translate\"\r\n               formControlName=\"gender\">\r\n              <nz-option [nzLabel]=\"'Female' | translate\" nzValue=\"Female\"></nz-option>\r\n              <nz-option [nzLabel]=\"'Male' | translate\" nzValue=\"Male\"></nz-option>\r\n            </nz-select>\r\n          </div>\r\n          <div nz-col nzSpan=\"12\">\r\n            <div><b class='label'>{{'Date of birth' | translate}}</b></div>\r\n            <nz-date-picker formControlName=\"datebirth\" [nzPlaceHolder]=\"'Select date of birth' | translate\">\r\n            </nz-date-picker>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Country' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"country\" nz-input placeholder=\"{{'Enter country' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Province' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"province\" nz-input placeholder=\"{{'Enter province' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'District' | translate}}</b></div>\r\n        <nz-form-item>\r\n          <nz-form-control>\r\n            <nz-input-group>\r\n              <input formControlName=\"district\" nz-input placeholder=\"{{'Enter district' | translate}}\" />\r\n            </nz-input-group>\r\n          </nz-form-control>\r\n        </nz-form-item>\r\n      </div>\r\n      <div nz-col nzSpan=\"24\">\r\n        <div><b class='label'>{{'Note' | translate}}</b></div>\r\n        <textarea nz-input placeholder=\"{{'Enter note' | translate}}\" [nzAutosize]=\"{ minRows: 3, maxRows: 5 }\"\r\n          formControlName=\"note\"></textarea>\r\n      </div>\r\n      <div nz-col nzSpan=\"12\" style=\"padding-top: 22px;\">\r\n        <div></div>\r\n        <label nz-checkbox formControlName=\"debt_enable\">{{'Debit permission' | translate}}</label>\r\n      </div>\r\n    </form>\r\n  </ng-container>\r\n  <ng-template #footerAddCustomer>\r\n    <div class=\"footerAddCustomer\" style=\"float: right\">\r\n      <button nz-button style=\"margin-right: 8px;\" (click)=\"goBack()\">{{\"Cancel\" | translate}}</button>\r\n      <button [disabled]=\"formEditCustomer.invalid\" [ngStyle]=\"{opacity: formEditCustomer.invalid ? 0.5 : 1}\" nz-button\r\n        (click)=\"save()\">{{\"Save\" | translate}}</button>\r\n    </div>\r\n  </ng-template>\r\n</nz-drawer>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { VhQuerySales, VhAlgorithm } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { AhamoveService } from 'src/app/sales/menu/manage/delivery/services/ahamoveService/ahamove.service';\r\nimport { GhnService } from 'src/app/sales/menu/manage/delivery/services/ghnService/ghn.service';\r\nimport { GhtkService } from 'src/app/sales/menu/manage/delivery/services/ghtkService/ghtk.service';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nconst GHNTOKEN: string = '656776fd-1e78-11eb-aaa9-3e267f98f494'\r\n@Component({\r\n  selector: 'app-add-address-delivery',\r\n  templateUrl: './add-address-delivery.component.html',\r\n  styleUrls: ['./add-address-delivery.component.scss']\r\n})\r\nexport class AddAddressDeliveryComponent implements OnInit {\r\n\r\n  @Input('delivery') delivery;\r\n  @Input('visibleAddDelivery') visibleAddDelivery = false\r\n  @Output('hideModalAddDelivery') hideModalAddDelivery = new EventEmitter<any>()\r\n  @Input('id_customer') id_customer: string\r\n  isLoading: boolean = false\r\n  createLoading: boolean = false\r\n  listProvinceGHN: Array<any> = []\r\n  listDistrictGHN: Array<any> = []\r\n  listWardGHN: Array<any> = []\r\n  serviceGHN: Array<any> = []\r\n  dataAddress: any = { ProvinceID: '', ProvinceName: '', DistrictID: '', DistrictName: '', WardCode: '', WardName: '' }\r\n  dataProduct: any = { height: '', weight: '', length: '', width: '' }\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private vhComponent: VhComponent,\r\n    private ghnService: GhnService,\r\n    private ghtkService: GhtkService,\r\n    private ahamoveService: AhamoveService,\r\n    private lang: LanguageService,\r\n    public vhAlgorithm: VhAlgorithm\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  messageError() {\r\n    this.vhComponent.alertMessageDesktop('error', this.lang.translate('An error occured while getting transport'))\r\n  }\r\n  hideModal() {\r\n    this.visibleAddDelivery = false\r\n    this.hideModalAddDelivery.emit(false)\r\n  }\r\n  getProvinceGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getProvinceGhn(GHNTOKEN).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200 && this.delivery.type != 3)\r\n        this.listProvinceGHN = res.data\r\n      else if (res.code == 200 && this.delivery.type == 3)\r\n        this.listProvinceGHN = res.data.filter(item => item.ProvinceID == 201 || item.ProvinceID == 202)\r\n\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi tỉnh => reset huyện xã\r\n   * @param event \r\n   */\r\n  changeProvinceGHN(event: any) {\r\n    if (event) {\r\n      this.listDistrictGHN = []\r\n      this.listWardGHN = []\r\n      this.dataAddress['WardCode'] = ''\r\n      this.dataAddress['DistrictID'] = ''\r\n      let province = this.listProvinceGHN.find(item => item.ProvinceID == event)\r\n      this.dataAddress['ProvinceName'] = province.ProvinceName\r\n    }\r\n  }\r\n  /**\r\n   * Lấy danh sách huyện\r\n   */\r\n  getDistrictGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getDistrictGhn(GHNTOKEN, this.dataAddress['ProvinceID']).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200) this.listDistrictGHN = res.data\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sự kiện thay đổi địa chỉ huyện => reset xã\r\n   * @param event \r\n   */\r\n  changeDistrictGHN(event: any) {\r\n    if (event) {\r\n      this.dataAddress['WardCode'] = ''\r\n      this.dataAddress['DistrictID'] = event\r\n      let district = this.listDistrictGHN.find(item => item.DistrictID == event)\r\n      this.dataAddress['DistrictName'] = district.DistrictName\r\n    }\r\n  }\r\n  /**\r\n   * Lấy danh sách xã, phường\r\n   */\r\n  getWardGHN() {\r\n    this.isLoading = true\r\n    this.ghnService.getWardGhn(GHNTOKEN, this.dataAddress['DistrictID']).then((res: any) => {\r\n      this.isLoading = false\r\n      if (res.code == 200) this.listWardGHN = res.data\r\n    }).catch(err => { this.messageError(); this.isLoading = false })\r\n  }\r\n  /**\r\n   * Sau khi chọn xong xã phường, dùng api get về các dịch vụ hỗ trợ(đi bộ, máy bay...)\r\n   * @param event \r\n   */\r\n  changeWardGHN(event: any) {\r\n    if (event && this.delivery.type == 1) {\r\n      let json: any = {\r\n        shop_id: this.delivery.shop_id,\r\n        from_district_id: this.delivery.district_id,\r\n        to_district_id: this.dataAddress.DistrictID\r\n      }\r\n      this.ghnService.getServiceDelivery(this.delivery.token, json).then((res: any) => {\r\n        \r\n        this.serviceGHN = res.data.filter(item => {\r\n          return item.service_type_id == 1 || item.service_type_id == 2\r\n        });\r\n      }).catch(err => { this.messageError() })\r\n    }\r\n    let ward = this.listWardGHN.find(item => item.WardCode == event)\r\n    this.dataAddress['WardName'] = ward.WardName\r\n  }\r\n  createAddress() {\r\n    this.createLoading = true\r\n    let json = {}\r\n    if (this.delivery.type == 1) json = this.exportAddressGHN()\r\n    else if (this.delivery.type == 2) json = this.exportAddressGHTK()\r\n    else if (this.delivery.type == 3) json = this.exportaddressAhamove()\r\n    this.vhQuerySales.addAddress(json).then(res => {\r\n      if (res) {\r\n        this.vhComponent.alertMessageDesktop('success', this.lang.translate('This address has been created successfully'))\r\n        this.hideModalAddDelivery.emit(json)\r\n      }\r\n    }).catch(err => this.vhComponent.alertMessageDesktop('error', err)).finally(() => this.createLoading = false)\r\n  }\r\n  exportAddressGHN() {\r\n    return {\r\n      id_customer: this.id_customer,\r\n      type: this.delivery.type,\r\n      province_id: this.dataAddress.ProvinceID,\r\n      province: this.dataAddress.ProvinceName,\r\n      district_id: this.dataAddress.DistrictID,\r\n      district: this.dataAddress.DistrictName,\r\n      ward_id: this.dataAddress.WardCode,\r\n      ward: this.dataAddress.WardName,\r\n      address: this.dataAddress.address,\r\n      date: new Date().toISOString(),\r\n    }\r\n  }\r\n  exportAddressGHTK() {\r\n    return {\r\n      id_customer: this.id_customer,\r\n      type: this.delivery.type,\r\n      province: this.dataAddress.ProvinceName,\r\n      district: this.dataAddress.DistrictName,\r\n      ward: this.dataAddress.WardName,\r\n      address: this.dataAddress.address,\r\n      hamlet: this.dataAddress.hamlet,\r\n      date: new Date().toISOString(),\r\n    }\r\n  }\r\n  exportaddressAhamove() {\r\n    return {\r\n      id_customer: this.id_customer,\r\n      type: this.delivery.type,\r\n      province: this.dataAddress.ProvinceName,\r\n      district: this.dataAddress.DistrictName,\r\n      ward: this.dataAddress.WardName,\r\n      address: this.dataAddress.address,\r\n      date: new Date().toISOString(),\r\n    }\r\n  }\r\n}\r\n","<nz-modal [nzWidth]=\"800\" [nzMaskClosable]=\"false\" [(nzVisible)]=\"visibleAddDelivery\" [nzClosable]=\"true\"\r\n    [nzBodyStyle]=\"{'overflow': 'auto','max-height': '700px','overflow-y':'auto'}\" [nzTitle]=\"'Address'|translate\"\r\n    [nzFooter]=\"null\" (nzOnCancel)=\"hideModal()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row nzGutter=\"16\" class=\"modal-check-fees\">\r\n            <div nz-col nzSpan=\"24\" class=\"logo\">\r\n                <img *ngIf=\"delivery.logo\" [src]=\"delivery.logo\" alt=\"\">\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"ProvinceID\">{{'Province' | translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <nz-select [nzShowSearch]=\"true\" (nzFocus)=\"getProvinceGHN()\"\r\n                                [(ngModel)]=\"dataAddress['ProvinceID']\" (ngModelChange)=\"changeProvinceGHN($event)\"\r\n                                nzPlaceHolder=\"{{'Select province' | translate}}\">\r\n                                <ng-container *ngFor=\"let item of listProvinceGHN\">\r\n                                    <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.ProvinceID\"\r\n                                        [nzLabel]=\"item.ProvinceName\">\r\n                                    </nz-option>\r\n                                </ng-container>\r\n                                <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                    <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                    {{'Loading...'|translate}}\r\n                                </nz-option>\r\n                            </nz-select>\r\n                        </nz-form-control>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"DistrictID\">{{'District' | translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <nz-select [(ngModel)]=\"dataAddress['DistrictID']\" [nzDisabled]=\"!dataAddress['ProvinceID']\"\r\n                                [nzShowSearch]=\"true\" (nzFocus)=\"getDistrictGHN()\"\r\n                                (ngModelChange)=\"changeDistrictGHN($event)\"\r\n                                nzPlaceHolder=\"{{'Select district' | translate}}\">\r\n                                <ng-container *ngFor=\"let item of listDistrictGHN\">\r\n                                    <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.DistrictID\"\r\n                                        [nzLabel]=\"item.DistrictName\">\r\n                                    </nz-option>\r\n                                </ng-container>\r\n                                <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                    <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                    {{'Loading...'|translate}}\r\n                                </nz-option>\r\n                            </nz-select>\r\n                        </nz-form-control>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"WardCode\">{{'Ward' | translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <nz-select [(ngModel)]=\"dataAddress['WardCode']\" [nzDisabled]=\"!dataAddress['DistrictID']\"\r\n                                [nzShowSearch]=\"true\" (nzFocus)=\"getWardGHN()\" (ngModelChange)=\"changeWardGHN($event)\"\r\n                                nzPlaceHolder=\"{{'Select ward' | translate}}\">\r\n                                <ng-container *ngFor=\"let item of listWardGHN\">\r\n                                    <nz-option *ngIf=\"!isLoading\" [nzValue]=\"item.WardCode\" [nzLabel]=\"item.WardName\">\r\n                                    </nz-option>\r\n                                </ng-container>\r\n                                <nz-option *ngIf=\"isLoading\" nzDisabled nzCustomContent>\r\n                                    <i nz-icon nzType=\"loading\" class=\"loading-icon\"></i>\r\n                                    {{'Loading...'|translate}}\r\n                                </nz-option>\r\n                            </nz-select>\r\n                        </nz-form-control>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div *ngIf=\"delivery.type == 2\" nz-col nzSpan=\"8\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Hamlet\">{{'Hamlet' | translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <input style=\"border-radius: 8px;\" placeholder=\"Khu phố 1\" type=\"text\" nz-input\r\n                                [(ngModel)]=\"dataAddress.hamlet\" />\r\n                        </nz-form-control>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"8\">\r\n                <nz-form-item>\r\n                    <nz-form-label class=\"text-left\" [nzSpan]=\"24\" nzFor=\"Address\">{{'Address' | translate}}\r\n                    </nz-form-label>\r\n                    <nz-form-control [nzSpan]=\"24\">\r\n                        <nz-form-control [nzSpan]=\"24\">\r\n                            <input style=\"border-radius: 8px;\" placeholder=\"14A Cộng Hòa\" type=\"text\" nz-input\r\n                                [(ngModel)]=\"dataAddress.address\" />\r\n                        </nz-form-control>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\" class=\"right-all-content\">\r\n                <button [nzLoading]=\"createLoading\"\r\n                    [disabled]=\"(delivery.type == 1 && (!dataAddress.address || !dataAddress.WardCode)) || (delivery.type == 2 && (!dataAddress.hamlet || !dataAddress.WardName || !dataAddress.address))\"\r\n                    (click)=\"createAddress()\" style=\"width: fit-content !important;\" class=\"btn-green\" nz-button\r\n                    nzType=\"default\">{{'Add address' | translate}}</button>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { resolve } from 'dns';\r\nimport { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-list-address-customer-ghn',\r\n  templateUrl: './list-address-customer-ghn.component.html',\r\n  styleUrls: ['./list-address-customer-ghn.component.scss']\r\n})\r\nexport class ListAddressCustomerGhnComponent implements OnInit {\r\n  @Input(\"visible_list_address\") visible_list_address: boolean = false;\r\n  @Output(\"onCloseListAddress\") onCloseListAddress = new EventEmitter<any>();\r\n  @Input(\"id_customer\") id_customer;\r\n  @Input(\"delivery\") delivery;\r\n  constructor(\r\n    private lang: LanguageService,\r\n    private vhComponent: VhComponent,\r\n    private vhQuerySales: VhQuerySales,\r\n    private nzModal: NzModalService\r\n  ) { }\r\n  infoAddress: Array<any> = [];\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    this.vhComponent.showLoading('', 'transparent-loading').then(() => {\r\n      this.vhQuerySales.refreshLocalAddresss().then(() => {\r\n        this.vhComponent.hideLoading(0)\r\n        this.infoAddress = this.vhQuerySales.getlocalAddresss().filter(item => item.type == this.delivery.type && item.id_customer == this.id_customer).reverse();\r\n        \r\n      })\r\n    })\r\n  }\r\n  chooseAddress(item) {\r\n    this.nzModal.confirm({\r\n      nzTitle: `<b>${this.lang.translate(\"Confirm\")}?</b>`,\r\n      nzContent: `<i>${this.lang.translate(\"Do you want to use this address ?\")}</i>`,\r\n      nzOnOk: () => {\r\n        return new Promise<any>(resolve => {\r\n          this.vhQuerySales.updateAddress(item._id, { date: new Date().toISOString() }).then((res) => {\r\n            if (res) this.onCloseListAddress.emit(item);\r\n            resolve(true)\r\n          }).catch(err => { })\r\n        })\r\n      },\r\n      nzOnCancel: () => { }\r\n    });\r\n  }\r\n  onClose() {\r\n    this.onCloseListAddress.emit(false);\r\n  }\r\n  openAddAddress() {\r\n    this.onCloseListAddress.emit({ add: true })\r\n  }\r\n  closeAndGetValueAddAddress(event) {\r\n    this.onCloseListAddress.emit({ add: false })\r\n  }\r\n  deleteAddressGHN(item) {\r\n    this.nzModal.confirm({\r\n      nzTitle: `<b>${this.lang.translate(\"Confirm\")}?</b>`,\r\n      nzContent: `<i>${this.lang.translate(\"Do you want to delete address ?\")}</i>`,\r\n      nzOnOk: () => {\r\n        return new Promise<any>(resolve => {\r\n          this.vhQuerySales.deleteAddress(item._id).then((res) => {\r\n            this.infoAddress.splice(this.infoAddress.findIndex(data => data._id == item._id), 1)\r\n            resolve(true)\r\n          }).catch(err => { })\r\n        })\r\n      },\r\n      nzOnCancel: () => { }\r\n    });\r\n  }\r\n}\r\n","<nz-drawer [nzBodyStyle]=\"{ overflow: 'auto' }\" [nzMaskClosable]=\"true\" [nzWidth]=\"450\" [nzFooter]=\"footerTpl\"\r\n    [nzVisible]=\"visible_list_address\" nzTitle=\"{{'Address' | translate}}\" (nzOnClose)=\"onClose()\">\r\n    <ng-container *nzDrawerContent>\r\n        <div class=\"no-data\" *ngIf=\"!infoAddress.length\">{{'No data'|translate}}\r\n        </div>\r\n        <ion-list class=\"custom-address-customer\">\r\n            <ion-item (click)=\"chooseAddress(item)\" class=\"ion-no-padding\" *ngFor=\"let item of infoAddress\">\r\n                <ion-label style=\"font-size: 0.9rem; color : var(--ion-color-vh-black);margin:0; padding-left:6px\"\r\n                    class=\"ion-text-wrap\">\r\n                    {{item.hamlet}} {{item.hamlet ?'-':''}}{{item.address}}, {{item.ward}}, {{item.district}},\r\n                    {{item.province}}\r\n                </ion-label>\r\n                <ion-button (click)=\"$event.stopPropagation();deleteAddressGHN(item)\" mode=\"ios\"\r\n                    style=\"color:var(--ion-color-vh-red);font-size: 20px;\" slot=\"end\"\r\n                    class=\"ion-no-padding ion-no-margin\" fill=\"clear\">\r\n                    <i nz-icon nzType=\"delete\" nzTheme=\"outline\"></i>\r\n                </ion-button>\r\n            </ion-item>\r\n        </ion-list>\r\n    </ng-container>\r\n    <ng-template #footerTpl>\r\n        <div style=\"float: right\">\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black);margin:0 5px\"\r\n                nzType=\"default\" (click)=\"onClose()\">{{\"Cancel\"\r\n                |translate}}</button>\r\n            <button nz-button class=\"nz-hover-border\"\r\n                style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white);margin:0 5px\"\r\n                class=\"nz-hover-border-green\" (click)=\"openAddAddress()\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { VhQuerySales } from 'ionic-vhframeworks';\r\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-delivery-pos',\r\n  templateUrl: './delivery-pos.component.html',\r\n  styleUrls: ['./delivery-pos.component.scss']\r\n})\r\nexport class DeliveryPosComponent implements OnInit {\r\n\r\n  @Input() delivery: boolean = false;\r\n  @Output() hideDelivery = new EventEmitter<any>();\r\n  @Input() id_delivery: string = '';\r\n  @Input() id_customer: string = '';\r\n  visibleCheckFees: boolean = false\r\n  listDeli = this.vhQuerySales.getlocalDeliverys().filter(i => i.active).map(item => { return { ...item, img: '../../../assets/img/' + item.type + '.svg' } })\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.vhQuerySales.refreshLocalDeliverys().then(() => {\r\n      this.listDeli = this.vhQuerySales.getlocalDeliverys().filter(i => i.active).map(item => { return { ...item, img: '../../../assets/img/' + item.type + '.svg' } })\r\n      \r\n    })\r\n  }\r\n\r\n  selectDelivery(id) {\r\n    this.id_delivery = this.id_delivery == id ? '' : id;\r\n  }\r\n\r\n  handleDeliCancel() {\r\n    this.hideDelivery.emit({ hide: false })\r\n  }\r\n\r\n  handleDeliOk() {\r\n    this.hideDelivery.emit({ hide: false, id_delivery: this.id_delivery, update: true })\r\n  }\r\n}\r\n","<nz-modal [(nzVisible)]=\"delivery\" nzTitle=\"{{'Delivery' | translate}}\" (nzOnCancel)=\"handleDeliCancel()\"\r\n    (nzOnOk)=\"handleDeliOk()\" [nzFooter]=\"deliFooter\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"12\" class=\"deli\" *ngFor=\"let item of listDeli\" (click)=\"selectDelivery(item._id)\"\r\n                [ngClass]=\"{'active': (id_delivery == item._id ? true : false)}\">\r\n                <img [src]=\"item.img\">\r\n                <span>{{item.name}}</span>\r\n            </div>\r\n        </div>\r\n\r\n        <nz-list-empty *ngIf=\"!listDeli.length\"></nz-list-empty>\r\n    </ng-container>\r\n    <ng-template #deliFooter>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleDeliCancel()\">{{\"Cancel\" |translate}}</button>\r\n        <button [disabled]=\"!id_delivery\" (click)=\"visibleCheckFees=true\" nz-button class=\"nz-hover-border hover-bg\"\r\n            nzType=\"default\">{{\"Check shipping fee\" |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleDeliOk()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<app-check-fees *ngIf=\"visibleCheckFees\" [visibleCheckFees]='visibleCheckFees' [id_delivery]=\"id_delivery\"\r\n    (hideModalCheckFees)=\"visibleCheckFees = $event\" [id_customer]=\"id_customer\"></app-check-fees>","import { Component, EventEmitter, Input, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-payment-type',\r\n  templateUrl: './payment_type.component.html',\r\n  styleUrls: ['./payment_type.component.scss']\r\n})\r\nexport class PaymentTypeComponent implements OnInit {\r\n  @Input(\"id_customer\") id_customer = 'id_retail';\r\n  @Input(\"payment_type\") payment_type = 1;\r\n  @Input(\"id_wallet\") id_wallet = 'id_cash';\r\n  @Output('closeAndGetValuePayment') closeAndGetValuePayment = new EventEmitter<any>();\r\n  constructor(\r\n    private vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    private vhAuth: VhAuth\r\n  ) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.listWallets = this.vhQuerySales.getlocalWallets().filter(wallet => wallet._id != 'id_cash' && wallet.id_branch == this.vhQuerySales.getDefaultBranch()._id)\r\n      .map(wallet => { return { label: wallet.name, value: wallet._id, isLeaf: true } })\r\n    this.nzOptions[2].children = this.listWallets;\r\n    if (this.payment_type) {\r\n      if (this.payment_type == 2 || this.payment_type == 1) this.type_payment = [this.payment_type]\r\n      else if (this.payment_type == 3) this.type_payment = [3, this.id_wallet];\r\n    }\r\n  }\r\n  type_payment: any[]\r\n  listWallets: Array<any> = [];\r\n\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ]\r\n\r\n  onChanges(event) {\r\n    this.closeAndGetValuePayment.emit(event);\r\n  }\r\n  ngOnChanges(valueChange: SimpleChanges) {\r\n    if (valueChange.payment_type) {\r\n      let type = valueChange.payment_type.currentValue;\r\n      if (type == 2 || type == 1) this.type_payment = [this.payment_type]\r\n      else if (type == 3) this.type_payment = [3, this.id_wallet];\r\n    }\r\n    if (valueChange.id_customer) {\r\n      this.nzOptions[1].disabled = !this.vhQuerySales.getlocalCustomer(valueChange.id_customer.currentValue).debt_enable\r\n      if (valueChange.id_customer.previousValue && valueChange.id_customer.currentValue == \"id_retail\" || (valueChange.id_customer.currentValue != \"id_retail\" && !this.vhQuerySales.getlocalCustomer(valueChange.id_customer.currentValue).debt_enable)) {\r\n        this.disableDebt()\r\n      } \r\n    }\r\n    // if (this.id_customer == 'id_retail' && this.payment_type == 2) {\r\n    //   this.disableDebt()\r\n    // }\r\n  }\r\n  disableDebt() {\r\n    this.nzOptions[1].disabled = true;\r\n    this.closeAndGetValuePayment.emit([1]);\r\n    this.type_payment = [this.payment_type];\r\n  }\r\n}\r\n","<div id=\"payment_method\">\r\n    <nz-cascader [nzOptions]=\"nzOptions\" [nzAllowClear]=\"false\" [(ngModel)]=\"type_payment\"\r\n        nzPlaceHolder=\"{{'Payment method' | translate}}\" (ngModelChange)=\"onChanges($event)\"> </nz-cascader>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-retail-info',\r\n  templateUrl: './retail-info.component.html',\r\n  styleUrls: ['./retail-info.component.scss']\r\n})\r\nexport class RetailInfoComponent implements OnInit {\r\n  @Input(\"showDrawerAddRetail\") showDrawerAddRetail: boolean = false;\r\n  @Input(\"retail_name\") retail_name: string = '';\r\n  @Input(\"retail_phone\") retail_phone: string = '';\r\n  @Input(\"retail_address\") retail_address: string = '';\r\n  @Output(\"closeAddCustomer\") closeAddCustomer = new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n  ngOnInit(): void {\r\n    this.initaddRetailForm()\r\n  }\r\n  addRetailForm: FormGroup;\r\n  close(success?) {\r\n    this.closeAddCustomer.emit(success ? this.addRetailForm.value : false);\r\n  }\r\n  initaddRetailForm() {\r\n    this.addRetailForm = new FormGroup({\r\n      retail_name: new FormControl(this.retail_name, Validators.compose([Validators.required])),\r\n      retail_phone: new FormControl(this.retail_phone, Validators.compose([Validators.required, Validators.minLength(6)])),\r\n      retail_address: new FormControl(this.retail_address),\r\n    });\r\n  }\r\n}\r\n","<nz-drawer [nzMaskClosable]=\"true\" [nzWidth]=\"400\" nzTitle='{{\"Add customer retail\" | translate}}'\r\n    [nzVisible]=\"showDrawerAddRetail\" [nzFooter]=\"footerAddRetail\" (nzOnClose)=\"close()\">\r\n    <ng-container *nzDrawerContent>\r\n        <form nz-form [formGroup]=\"addRetailForm\">\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Name' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"combineTplName\">\r\n                        <nz-input-group>\r\n                            <input formControlName=\"retail_name\" nz-input\r\n                                placeholder=\"{{'Enter customer name' | translate}}\" required />\r\n                            <ng-template #combineTplName let-control>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Retail name is required' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Phone number' | translate}}*</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control [nzErrorTip]=\"combineTplPhone\">\r\n                        <nz-input-group>\r\n                            <input class=\"phone\" formControlName=\"retail_phone\" type=\"tel\" nz-input\r\n                                placeholder=\"{{'Enter customer phone' | translate}}\" minlength=\"6\" required />\r\n                            <ng-template #combineTplPhone let-control>\r\n                                <ng-container *ngIf=\"control.hasError('minlength')\">{{'At least 6 characters' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                                <ng-container *ngIf=\"control.hasError('required')\">{{'Phone number is required' |\r\n                                    translate}}\r\n                                </ng-container>\r\n                            </ng-template>\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n            <div nz-col nzSpan=\"24\">\r\n                <div><b class='label'>{{'Address' | translate}}</b></div>\r\n                <nz-form-item>\r\n                    <nz-form-control>\r\n                        <nz-input-group>\r\n                            <input formControlName=\"retail_address\" nz-input\r\n                                placeholder=\"{{'Enter address' | translate}}\" />\r\n                        </nz-input-group>\r\n                    </nz-form-control>\r\n                </nz-form-item>\r\n            </div>\r\n        </form>\r\n    </ng-container>\r\n    <ng-template #footerAddRetail>\r\n        <div class=\"footerAddRetail\" style=\"float: right\">\r\n            <button nz-button style=\"margin-right: 8px;\" (click)=\"close()\">{{\"Cancel\" | translate}}</button>\r\n            <button [disabled]=\"addRetailForm.invalid\" [ngStyle]=\"{opacity: addRetailForm.invalid ? 0.5 : 1}\" nz-button\r\n                (click)=\"close(true)\">{{\"Add\" | translate}}</button>\r\n        </div>\r\n    </ng-template>\r\n</nz-drawer>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-staff-pos',\r\n  templateUrl: './staff-pos.component.html',\r\n  styleUrls: ['./staff-pos.component.scss']\r\n})\r\nexport class StaffPosComponent implements OnInit {\r\n\r\n  searchList: any = [\r\n    {\r\n      id: 1,\r\n      name: \"Nguyễn Hoàng Hải\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Nguyễn Hoàng Nam\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Nguyễn Hoàng Linh\",\r\n    },\r\n  ]\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<nz-select nzPlaceHolder=\"{{'Select employee' | translate}}\" [ngModel]=\"1\" \r\n    nzBorderless class=\"cus-select\" nzShowSearch>\r\n    <nz-option *ngFor=\"let item of searchList\" nzValue=\"{{item._id}}\" nzLabel=\"{{item.name}}\">\r\n    </nz-option>\r\n</nz-select>","import {\r\n  Component, ViewChild, OnInit, ComponentFactoryResolver,\r\n  ApplicationRef, Injector, OnDestroy\r\n} from '@angular/core';\r\nimport {\r\n  CdkPortal, DomPortalOutlet,\r\n} from '@angular/cdk/portal';\r\n\r\n@Component({\r\n  selector: 'app-sub-pos',\r\n  template: `<ng-container *cdkPortal>\r\n\r\n  <ng-content></ng-content>\r\n\r\n</ng-container>`,\r\n  styleUrls: ['./sub-pos.component.scss']\r\n})\r\nexport class SubPosComponent implements OnDestroy {\r\n\r\n  // STEP 1: get a reference to: the portal\r\n  @ViewChild(CdkPortal, { static: false }) portal: CdkPortal\r\n\r\n  // STEP 2: save a reference to the window so we can close it\r\n  private externalWindow: any = null;\r\n\r\n  // STEP 3: Inject all the required dependencies for a PortalHost\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private applicationRef: ApplicationRef,\r\n    private injector: Injector) { }\r\n\r\n\r\n    ngAfterViewInit() {\r\n    // STEP 4: create an external window\r\n    this.externalWindow = window.open('', '', 'width=800,height=600,left=200,top=200')\r\n\r\n    // STEP 5: create a PortalHost with the body of the new window document    \r\n    const host = new DomPortalOutlet(\r\n      this.externalWindow.document.body,\r\n      this.componentFactoryResolver,\r\n      this.applicationRef,\r\n      this.injector\r\n    );\r\n\r\n    // // STEP 6: Attach the portal\r\n    host.attach(this.portal);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    // STEP 7: close the window when this component destroyed\r\n    this.externalWindow.close()\r\n  }\r\n\r\n}\r\n","import { VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-template-sub-pos1',\r\n  templateUrl: './template-sub-pos1.component.html',\r\n  styleUrls: ['./template-sub-pos1.component.scss']\r\n})\r\nexport class TemplateSubPos1Component implements OnInit {\r\n  @Input() invoice:any;\r\n  @Input() invoice_detail:any;\r\n  @Input() subTotal:any;\r\n  constructor(\r\n    public vhAlgorithm:VhAlgorithm,\r\n    public vhAuth:VhAuth\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getNumbersProduct() {\r\n    return this.invoice_detail.reduce((sum: number, next) => sum + next.quantity, 0)\r\n  }\r\n}\r\n","<div *ngIf=\"invoice_detail.length > 0\"\r\n    style=\"width: 100%;height: 100%;align-items: center; justify-content: center; position: fixed; top: 0; right: 0; bottom: 0; left: 0;\">\r\n    <div style=\"height: 85%; overflow: auto; overflow-x: hidden; padding: 8px;\">\r\n        <div style=\"font-size: 1.2rem;\">\r\n            {{'Number of products being paid for:' | translate}} <span><b>{{getNumbersProduct() |\r\n                    number:'1.0-2'}}</b></span>\r\n        </div>\r\n        <table style=\"width: 100%; border-collapse: collapse;\">\r\n            <tr>\r\n                <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;width: 5%;font-size: 1.2rem\">{{'No.' |\r\n                    translate}}</th>\r\n                <th\r\n                    style=\"text-align: left;border-bottom: 1px solid lightgrey;padding: 8px;width: 45%;font-size: 1.2rem\">\r\n                    {{'Product name' |\r\n                    translate}}</th>\r\n                <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;width: 10%;font-size: 1.2rem\">{{'Unit' |\r\n                    translate}}</th>\r\n                <th style=\"border-bottom: 1px solid lightgrey;padding: 8px;width: 10%;font-size: 1.2rem\">{{'Qty' |\r\n                    translate}}</th>\r\n                <th\r\n                    style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey; width: 20%;font-size: 1.2rem\">\r\n                    {{'Unit price' |\r\n                    translate}}\r\n                </th>\r\n                <th\r\n                    style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey; width: 20%;font-size: 1.2rem\">\r\n                    {{'Total' | translate}}\r\n                </th>\r\n            </tr>\r\n            <tr *ngFor=\"let item of invoice_detail;let i = index\">\r\n                <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">{{i+1}}\r\n                </td>\r\n                <td style=\"padding: 8px;text-align: left;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">\r\n                    <div>\r\n                        <p style=\"word-break: break-word;font-size: 1.2rem\">{{item.name}}</p>\r\n                        <span *ngIf=\"item.ptype == 5\" style=\"font-weight: 500;font-size: 0.9rem;\"\r\n                            [innerHTML]=\"item.subComboName\"></span>\r\n                    </div>\r\n                </td>\r\n                <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">{{item.unit}}\r\n                </td>\r\n                <td style=\"padding: 8px;text-align: center;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">\r\n                    {{item.quantity | number:'1.0-2'}}</td>\r\n                <td style=\"padding: 8px;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">\r\n                    <div style=\"text-align: end;\">\r\n                        <span style=\"font-size: 1.2rem\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span><br>\r\n                        <del style=\"font-size: 0.9rem;\">\r\n                            {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                        </del>\r\n                    </div>\r\n                </td>\r\n                <td style=\"padding: 8px;text-align: end;border-bottom: 1px solid lightgrey;font-size: 1.2rem\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div style=\"width: 100%;height: 15%;background-color: #00a859;\">\r\n        <div style=\"display: flex;padding:1% 1%;height: 100%;\">\r\n            <div style=\"width: 25%;\">\r\n                <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_1')\">\r\n                    <div style=\"color: white; font-size: 1.6rem;\">{{'SubTotal' | translate}}</div>\r\n                    <div style=\"color: white; font-size: 1.6rem;\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style=\"width: 25%;\">\r\n                <div *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_1')\">\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: center;\">{{'Discount value' | translate}}</div>\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: center;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                </div>\r\n            </div>\r\n            <div style=\"width: 25%;\">\r\n                <div *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_1')\">\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: center;\">{{'Fee' | translate}}</div>\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: center;\">\r\n                        {{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                </div>\r\n            </div>\r\n            <div style=\"width: 25%;\">\r\n                <div *ngIf=\"vhAuth.localStorageGET('show_pay_sub_pos_1')\">\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: end;\">{{'Pay' | translate}}</div>\r\n                    <div style=\"color: white; font-size: 1.6rem;text-align: end;\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div *ngIf=\" !invoice_detail.length\">\r\n    <div style=\"width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;\">\r\n        <div>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"150.002\" height=\"154.908\" viewBox=\"0 0 150.002 154.908\">\r\n                <g id=\"Group_12794\" data-name=\"Group 12794\" transform=\"translate(-840 -412.152)\">\r\n                    <path id=\"Path_31159\" data-name=\"Path 31159\"\r\n                        d=\"M-727.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-727.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-713.374,1270.824Z\"\r\n                        transform=\"translate(1674.625 -723.764)\" fill=\"#c8c7cc\" />\r\n                    <path id=\"Path_31160\" data-name=\"Path 31160\"\r\n                        d=\"M-815.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-815.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-801.374,1270.824Z\"\r\n                        transform=\"translate(1707.624 -723.764)\" fill=\"#c8c7cc\" />\r\n                    <path id=\"Path_31161\" data-name=\"Path 31161\"\r\n                        d=\"M-746.574,1186.729l-5.445.038v-19.273a1.02,1.02,0,0,0-1.021-1.02H-758.5a1.02,1.02,0,0,0-1.02,1.02v19.325l-5.471.038a1.866,1.866,0,0,0-1.6,2.811l9.319,10.885a1.866,1.866,0,0,0,3.233-.023l9.1-11.013A1.866,1.866,0,0,0-746.574,1186.729Z\"\r\n                        transform=\"translate(1689.52 -754.322)\" fill=\"#c8c7cc\" />\r\n                    <path id=\"Path_31162\" data-name=\"Path 31162\"\r\n                        d=\"M-759.84,1103.762H-850.9a10.647,10.647,0,0,0-4.232.888l-3.733-37.327h-36.5a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h29.717l4.367,43.677h.015l6.168,61.673a10.718,10.718,0,0,0,10.664,9.651H-766.3a10.718,10.718,0,0,0,10.664-9.651l6.463-64.627A10.718,10.718,0,0,0-759.84,1103.762Zm-6.463,78.562h-78.139a3.208,3.208,0,0,1-3.2-2.9l-1.21-12.1h19.217a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-849.6l-.938-9.375h12.081a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-851.29l-2.815-28.148a3.187,3.187,0,0,1,.816-2.479,3.187,3.187,0,0,1,2.386-1.059h91.064a3.188,3.188,0,0,1,2.386,1.059,3.19,3.19,0,0,1,.816,2.479l-1.146,11.462h-22.992a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h22.242l-.961,9.612h-12.493a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h11.743l-2.855,28.552A3.208,3.208,0,0,1-766.3,1182.325Z\"\r\n                        transform=\"translate(1739.123 -650.266)\" fill=\"#c8c7cc\" />\r\n                </g>\r\n            </svg>\r\n            <p>\r\n                {{'Please select a product' | translate}}\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth } from 'ionic-vhframeworks';\r\n@Component({\r\n  selector: 'app-template-sub-pos2',\r\n  templateUrl: './template-sub-pos2.component.html',\r\n  styleUrls: ['./template-sub-pos2.component.scss']\r\n})\r\nexport class TemplateSubPos2Component implements OnInit {\r\n  @Input() invoice: any;\r\n  @Input() invoice_detail:any;\r\n  @Input() subTotal:any;\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n \r\n\r\n  getNumbersProduct() {\r\n    return this.invoice_detail.reduce((sum: number, next) => sum + next.quantity, 0)\r\n  }\r\n}\r\n","<div\r\n    style=\"display: flex;width: 100%;height: 100%;overflow: hidden; align-items: center; justify-content: center; position: fixed; top: 0; right: 0; bottom: 0; left: 0;\">\r\n    <div style=\"width: 50%;height: 100%;\">\r\n        <img width=\"100%\" height=\"100%\" [src]=\"vhAuth.localStorageGET('image_template_sub_pos2') ? vhAuth.localStorageGET('image_template_sub_pos2').url : 'https://sales.viethas.com/assets/icon/newbannervh.jpg'\" alt=\"Not load image\">\r\n    </div>\r\n    <div style=\"width: 50%;height: 100%;\">\r\n        <div style=\"height: 85%; overflow: auto; overflow-x: hidden; padding: 8px;\">\r\n            <div style=\"font-size: 1.2rem;\">\r\n                {{'Number of products being paid for:' | translate}} <span><b>{{getNumbersProduct() | number:'1.0-2'}}</b></span> \r\n            </div>\r\n            <table style=\"width: 100%;\">\r\n                <tr>\r\n                    <th style=\"padding: 6px;text-align: left;border-bottom: 1px solid rgb(161, 161, 161);  width: 40%;font-size: 1.2rem\">\r\n                        {{'Product name' |\r\n                        translate}}</th>\r\n                    <th style=\"padding: 6px;border-bottom: 1px solid rgb(161, 161, 161);  width: 10%;font-size: 1.2rem\">{{'Qty' |\r\n                        translate}}</th>\r\n                    <th style=\"padding: 6px;text-align: end;border-bottom: 1px solid rgb(161, 161, 161); width: 25%;font-size: 1.2rem\">\r\n                        {{'Unit price' |\r\n                        translate}}</th>\r\n                    <th style=\"padding: 6px;text-align: end;border-bottom: 1px solid rgb(161, 161, 161);  width: 25%;font-size: 1.2rem\">\r\n                        {{'Total' |\r\n                        translate}}</th>\r\n                </tr>\r\n                <tr *ngFor=\"let item of invoice_detail;let i = index\">\r\n                    <td style=\"padding: 6px;text-align: left;border-bottom: 1px solid rgb(161, 161, 161);font-size: 1.2rem\">\r\n                        <div>\r\n                            <p style=\"word-break: break-word;font-size: 1.2rem\">{{item.name}} ({{item.unit}})</p>\r\n                            <span *ngIf=\"item.ptype == 5\"\r\n                                style=\"font-weight: 500;font-size: 0.9rem;\" [innerHTML]=\"item.subComboName\"></span>\r\n                        </div>\r\n                    </td>\r\n                    <td style=\"padding: 6px;text-align: center;border-bottom: 1px solid rgb(161, 161, 161);font-size: 1.2rem\">\r\n                        {{item.quantity | number:'1.0-2'}}</td>\r\n                    <td style=\"padding: 6px;border-bottom: 1px solid rgb(161, 161, 161);font-size: 1.2rem\">\r\n                        <div style=\"text-align: end;\">\r\n                            <span style=\"font-size: 1.2rem\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span><br>\r\n                            <del style=\"font-size: 0.9rem;font-size: 1.2rem\">\r\n                                {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                            </del>\r\n                        </div>\r\n                    </td>\r\n                    <td style=\"padding: 6px;text-align: end;border-bottom: 1px solid rgb(161, 161, 161);font-size: 1.2rem\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div *ngIf=\" !invoice_detail.length\">\r\n                <div style=\"width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;\">\r\n                    <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"150.002\" height=\"154.908\"\r\n                            viewBox=\"0 0 150.002 154.908\">\r\n                            <g id=\"Group_12794\" data-name=\"Group 12794\" transform=\"translate(-840 -412.152)\">\r\n                                <path id=\"Path_31159\" data-name=\"Path 31159\"\r\n                                    d=\"M-727.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-727.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-713.374,1270.824Z\"\r\n                                    transform=\"translate(1674.625 -723.764)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31160\" data-name=\"Path 31160\"\r\n                                    d=\"M-815.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-815.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-801.374,1270.824Z\"\r\n                                    transform=\"translate(1707.624 -723.764)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31161\" data-name=\"Path 31161\"\r\n                                    d=\"M-746.574,1186.729l-5.445.038v-19.273a1.02,1.02,0,0,0-1.021-1.02H-758.5a1.02,1.02,0,0,0-1.02,1.02v19.325l-5.471.038a1.866,1.866,0,0,0-1.6,2.811l9.319,10.885a1.866,1.866,0,0,0,3.233-.023l9.1-11.013A1.866,1.866,0,0,0-746.574,1186.729Z\"\r\n                                    transform=\"translate(1689.52 -754.322)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31162\" data-name=\"Path 31162\"\r\n                                    d=\"M-759.84,1103.762H-850.9a10.647,10.647,0,0,0-4.232.888l-3.733-37.327h-36.5a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h29.717l4.367,43.677h.015l6.168,61.673a10.718,10.718,0,0,0,10.664,9.651H-766.3a10.718,10.718,0,0,0,10.664-9.651l6.463-64.627A10.718,10.718,0,0,0-759.84,1103.762Zm-6.463,78.562h-78.139a3.208,3.208,0,0,1-3.2-2.9l-1.21-12.1h19.217a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-849.6l-.938-9.375h12.081a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-851.29l-2.815-28.148a3.187,3.187,0,0,1,.816-2.479,3.187,3.187,0,0,1,2.386-1.059h91.064a3.188,3.188,0,0,1,2.386,1.059,3.19,3.19,0,0,1,.816,2.479l-1.146,11.462h-22.992a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h22.242l-.961,9.612h-12.493a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h11.743l-2.855,28.552A3.208,3.208,0,0,1-766.3,1182.325Z\"\r\n                                    transform=\"translate(1739.123 -650.266)\" fill=\"#c8c7cc\" />\r\n                            </g>\r\n                        </svg>\r\n                        <p>\r\n                            {{'Please select a product' | translate}}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div style=\"width: 100%;height: 15%;background-color: #00a859;\">\r\n            <div style=\"display: flex;align-items: center;padding:0 12px;height: 100%;\">\r\n                <div style=\"width: 25%;\">\r\n                    <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_2')\">\r\n                        <div style=\"color: white; font-size: 1.6rem;white-space: nowrap;\">{{'SubTotal' | translate}}</div>\r\n                        <div style=\"color: white; font-size: 1.6rem;white-space: nowrap;\">\r\n                            <b>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</b>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div  style=\"width: 25%;\">\r\n                    <div *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_2')\">\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: center;white-space: nowrap;\">{{'Discount value' | translate}}</div>\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: center;white-space: nowrap;\">\r\n                            {{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n                    </div>\r\n                </div>\r\n                <div style=\"width: 25%;\">\r\n                    <div *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_2')\">\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: center;\">{{'Fee' | translate}}</div>\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: center;white-space: nowrap;\">\r\n                            {{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n                    </div>\r\n                </div>\r\n                <div style=\"width: 25%;\">\r\n                    <div *ngIf=\"vhAuth.localStorageGET('show_pay_sub_pos_2')\">\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: end;white-space: nowrap;\">{{'Pay' | translate}}</div>\r\n                        <div style=\"color: white; font-size: 1.6rem;text-align: end;white-space: nowrap;\">\r\n                            <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhQuerySales } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-template-sub-pos3',\r\n  templateUrl: './template-sub-pos3.component.html',\r\n  styleUrls: ['./template-sub-pos3.component.scss']\r\n})\r\nexport class TemplateSubPos3Component implements OnInit {\r\n  @Input() invoice: any;\r\n  @Input() invoice_detail:any;\r\n  @Input() subTotal:any;\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhQuerySales: VhQuerySales,\r\n    public vhAuth: VhAuth,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  getNumbersProduct() {\r\n    return this.invoice_detail.reduce((sum: number, next) => sum + next.quantity, 0)\r\n  }\r\n\r\n}\r\n","<div\r\n    style=\"display: flex;width: 100%;height: 100%;align-items: center; justify-content: center; position: fixed; top: 0; right: 0; bottom: 0; left: 0;\">\r\n    <div\r\n        style=\"width: 55%;height: 100%;padding: 8px;box-shadow: 0px 2px 6px #00000014;overflow: auto; overflow-x: hidden;\">\r\n        <div style=\"width: 100%;\">\r\n            <div>\r\n                {{'Number of products being paid for:' | translate}} <span><b>{{getNumbersProduct() | number:'1.0-2'}}</b></span> \r\n            </div>\r\n            <table style=\"width: 100%; border-collapse: collapse;\">\r\n                <tr style=\"border-bottom: 1px solid lightgray;\">\r\n                    <!-- <th style=\"padding: 8px; width: 5%;\">{{'Serial number' | translate}}</th> -->\r\n                    <th style=\"padding: 8px;text-align: left;  width: 50%;font-size: 1.2rem\">\r\n                        {{'Product name' |\r\n                        translate}}</th>\r\n                    <th style=\"padding: 8px;  width: 10%;font-size: 1.2rem\">{{'Qty' | translate}}\r\n                    </th>\r\n                    <th style=\"padding: 8px;text-align: end; width: 20%;font-size: 1.2rem\">\r\n                        {{'Unit price' |\r\n                        translate}}</th>\r\n                    <th style=\"padding: 8px;text-align: end;  width: 20%;font-size: 1.2rem\">\r\n                        {{'Total' |\r\n                        translate}}</th>\r\n                </tr>\r\n                <tr *ngFor=\"let item of invoice_detail;let i = index\"\r\n                    style=\"border-bottom: 1px solid lightgray;\">\r\n                    <!-- <td style=\"padding: 8px;text-align: center;\">{{i+1}}</td> -->\r\n                    <td style=\"padding: 8px;text-align: left;\">\r\n                        <div>\r\n                            <p style=\"word-break: break-word; font-weight: bold;font-size: 1.2rem\">{{item.name}} ({{item.unit}})/p>\r\n                            <span *ngIf=\"item.ptype == 5\" style=\"font-weight: 500;font-size: 0.9rem;\"\r\n                                [innerHTML]=\"item.subComboName\"></span>\r\n                        </div>\r\n                    </td>\r\n                    <td style=\"padding: 8px;text-align: center;\">\r\n                        {{item.quantity | number:'1.0-2'}}</td>\r\n                    <td style=\"padding: 8px;\">\r\n                        <div style=\"text-align: end;\">\r\n                            <span style=\"font-size: 1.2rem\">{{vhAlgorithm.vhcurrencyunit(item.price)}}</span><br>\r\n                            <del style=\"font-size: 0.9rem;\">\r\n                                {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                            </del>\r\n                        </div>\r\n                    </td>\r\n                    <td style=\"padding: 8px;text-align: end;font-size: 1.2rem\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div *ngIf=\"!invoice_detail.length\">\r\n                <div style=\"width: 100%;height: 90%;display: flex;justify-content: center;align-items: center;\">\r\n                    <div>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"150.002\" height=\"154.908\"\r\n                            viewBox=\"0 0 150.002 154.908\">\r\n                            <g id=\"Group_12794\" data-name=\"Group 12794\" transform=\"translate(-840 -412.152)\">\r\n                                <path id=\"Path_31159\" data-name=\"Path 31159\"\r\n                                    d=\"M-727.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-727.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-713.374,1270.824Z\"\r\n                                    transform=\"translate(1674.625 -723.764)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31160\" data-name=\"Path 31160\"\r\n                                    d=\"M-815.123,1277.073a13.766,13.766,0,0,0,13.75,13.75,13.766,13.766,0,0,0,13.75-13.75,13.766,13.766,0,0,0-13.75-13.75A13.766,13.766,0,0,0-815.123,1277.073Zm13.749-6.249a6.25,6.25,0,0,1,6.25,6.25,6.25,6.25,0,0,1-6.25,6.25,6.25,6.25,0,0,1-6.25-6.25A6.25,6.25,0,0,1-801.374,1270.824Z\"\r\n                                    transform=\"translate(1707.624 -723.764)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31161\" data-name=\"Path 31161\"\r\n                                    d=\"M-746.574,1186.729l-5.445.038v-19.273a1.02,1.02,0,0,0-1.021-1.02H-758.5a1.02,1.02,0,0,0-1.02,1.02v19.325l-5.471.038a1.866,1.866,0,0,0-1.6,2.811l9.319,10.885a1.866,1.866,0,0,0,3.233-.023l9.1-11.013A1.866,1.866,0,0,0-746.574,1186.729Z\"\r\n                                    transform=\"translate(1689.52 -754.322)\" fill=\"#c8c7cc\" />\r\n                                <path id=\"Path_31162\" data-name=\"Path 31162\"\r\n                                    d=\"M-759.84,1103.762H-850.9a10.647,10.647,0,0,0-4.232.888l-3.733-37.327h-36.5a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h29.717l4.367,43.677h.015l6.168,61.673a10.718,10.718,0,0,0,10.664,9.651H-766.3a10.718,10.718,0,0,0,10.664-9.651l6.463-64.627A10.718,10.718,0,0,0-759.84,1103.762Zm-6.463,78.562h-78.139a3.208,3.208,0,0,1-3.2-2.9l-1.21-12.1h19.217a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-849.6l-.938-9.375h12.081a3.75,3.75,0,0,0,3.75-3.75,3.75,3.75,0,0,0-3.75-3.75H-851.29l-2.815-28.148a3.187,3.187,0,0,1,.816-2.479,3.187,3.187,0,0,1,2.386-1.059h91.064a3.188,3.188,0,0,1,2.386,1.059,3.19,3.19,0,0,1,.816,2.479l-1.146,11.462h-22.992a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h22.242l-.961,9.612h-12.493a3.75,3.75,0,0,0-3.75,3.75,3.75,3.75,0,0,0,3.75,3.75h11.743l-2.855,28.552A3.208,3.208,0,0,1-766.3,1182.325Z\"\r\n                                    transform=\"translate(1739.123 -650.266)\" fill=\"#c8c7cc\" />\r\n                            </g>\r\n                        </svg>\r\n                        <p>\r\n                            {{'Please select a product' | translate}}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style=\"width: 45%;height: 100%;box-shadow: 0px 2px 6px #00000014; border-left: 1px solid lightgray;\">\r\n        <!-- <div style=\"height: 40%; border-bottom: 1px solid lightgray;\">\r\n        </div> -->\r\n        <div style=\" height: 85%;overflow: auto; overflow-x: hidden; padding: 8px;\">\r\n            <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Invoice code' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\"><b>{{invoice.bill_code}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Employee' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">\r\n                    <b>{{vhAuth.getlocalEmployee(invoice.id_employee).name}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Date' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\"><b>{{invoice.getDate() | date: 'dd/MM/yyyy HH:mm'}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex;justify-content: space-between;\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Customer' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\"><b>{{invoice.getIdPartner() == 'id_retail' ? 'Khách lẻ' :\r\n                        vhQuerySales.getlocalCustomer(invoice.id_customer).name}}</b>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"vhAuth.localStorageGET('show_total_sub_pos_3')\"\r\n                style=\"display: flex; justify-content: space-between; border-top: 1px solid lightgrey; padding-top: 8px;\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'SubTotal' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between;\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_discount_sub_pos_3')\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Discount value' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;text-align: center;\">\r\n                    <b> {{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between;\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_fee_sub_pos_3')\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Fee' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;text-align: center;\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between;\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_tax_sub_pos_3')\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Tax' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;text-align: center;\">\r\n                    <b> {{vhAlgorithm.vhcurrencyunit(invoice.tax)}} %</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between;\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_cash_sub_pos_3')\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'cash' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;text-align: end;\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(invoice.cash)}}</b>\r\n                </div>\r\n            </div>\r\n            <div style=\"display: flex; justify-content: space-between;\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_cash_sub_pos_3')\">\r\n                <div style=\"font-size: 1.2rem;padding: 8px;\">{{'Change' | translate}}</div>\r\n                <div style=\"font-size: 1.2rem;padding: 8px;text-align: end;\">\r\n                    <b>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash - invoice.payment : 0)}}</b>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div\r\n            style=\"display: flex; justify-content: space-between; background-color: #00a859; height: 15%;; border-radius: 4px; align-items: center;\">\r\n            <div style=\"font-size: 1.8rem;padding: 8px; color: white;white-space: nowrap;\">{{'Pay' | translate}}</div>\r\n            <div style=\"font-size: 1.8rem;padding: 8px;text-align: end; color: white\">\r\n                <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { Subscription } from 'rxjs';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Component, OnInit, Input, Output, EventEmitter, SimpleChanges, ChangeDetectorRef, HostListener, ElementRef, ViewChild } from '@angular/core';\r\nimport { VhAlgorithm, VhAuth, VhDisplayLEDService, VhEinvoice, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { Router } from '@angular/router';\r\nimport { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesK80Col3Component } from 'src/app/sales/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK57Col3Component } from 'src/app/sales/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhSaleDesktopInvoiceDetailCombo, VhSaleInvoiceDetailAdd, VhSaleInvoiceDetailEdit, VhSaleInvoiceEdit } from 'src/app/sales/components/bill-type/bill-type-1/sales-desktop/sales-desktop-interface';\r\nimport { VhType } from '../../interface/vh-type';\r\nimport { ProductService } from '../../services/product.service';\r\nimport { NzCascaderOption } from 'ng-zorro-antd/cascader';\r\nimport { BillService } from '../../services/bill.service';\r\n\r\n@Component({\r\n  selector: 'app-create-order',\r\n  templateUrl: './create-order.component.html',\r\n  styleUrls: ['./create-order.component.scss']\r\n})\r\nexport class CreateOrderComponent implements OnInit {\r\n  @Input() data: VhSaleInvoiceEdit; // dữ liệu bill\r\n  @Input() searchProductList: boolean; // bien kiểm tra chọn sp\r\n  @Output() closeSearchProductListEmitter: EventEmitter<any> = new EventEmitter(); // bien lang nghe sự kiện đóng chọn sp\r\n  @Output() saveBill = new EventEmitter() // bien lang nghe sự kiện thanh toán bill\r\n  @Output() billError = new EventEmitter() // biến phản hồi khi bill bị lỗi\r\n  @Output() reloadAllBill = new EventEmitter() // biến phản hồi để load lại tất cả bill khi bill bị xóa hoặc thanh toán\r\n  // enable_quantity_export_exceed_quantity_stock: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').enable_quantity_export_exceed_quantity_stock\r\n  warning_lot_expried: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').warning_lot_expried\r\n  public showBestSelling: any = this.vhAuth.localStorageGET(\"show_best_selling\");\r\n  display_promotion_selling_price: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price;\r\n  listTax: any = this.vhQuerySales.getlocalTaxs().filter(item => item.status) // lưu danh sách thuế\r\n  visibleCustomer: boolean = false // biên kiểm tra show modal chọn customer\r\n  isLoadData = false; // bien kiem tra tắt loading khi load xong dữ liệu\r\n  showModalChangePriceType = false;\r\n  public invoiceInfo: any; // lưu danh sách bill detail\r\n  public invoice: VhSaleInvoiceEdit; // lưu thông tin bill\r\n  /** Danh sách invoice_details hóa đơn chi tiết */\r\n  invoice_detail: VhSaleInvoiceDetailEdit[] = [];\r\n  subTotal = 0;\r\n  taxValue = 0;\r\n  // cho phép nợ hay không\r\n  debt: boolean = false;\r\n  checkPrinter: boolean = false; //  bien kiem tra máy in\r\n  moneyEdit: any = {\r\n    discount: 0,\r\n    fee: 0,\r\n    payment: 0,\r\n    cash: 0\r\n  } // biến để lấy giá trị là tiền từ input\r\n  /**biến lưu thông tin bill - discount ,fee, payment, cash, note- dùng để gán giá trị khi dùng bàn phim ảo */\r\n  invoice_discount: string;\r\n  invoice_fee: string;\r\n  invoice_payment: string;\r\n  invoice_cash: string;\r\n  invoice_note: string;\r\n  invoice_date: any;\r\n  heightListInvoiceDetailScroll: any;\r\n  observablePrinter: Subscription;\r\n  default_price_type: number;\r\n  is_discount_bill: boolean = false;\r\n  discount_bill: any;\r\n  percent_discount_bill: number;\r\n  list_earning_point_bills: any = [];\r\n  list_earning_points_products: any = [];\r\n  customer_group: any = this.vhQuerySales.getlocalCustomerClasss();\r\n  showModalOtherDiscount: boolean = false;\r\n  show_discount_product = this.vhAuth.localStorageGET(\"show_discount_product\");\r\n  id_branch = this.vhQuerySales.getDefaultBranch()._id\r\n  @Input() showPortal = false;\r\n  style_template_sub_pos: any = this.vhAuth.localStorageGET(\"style_template_sub_pos\"); // loại giao diện hiển thị màn hình phụ\r\n  isPaying: boolean = false;\r\n  sales_enable_edit_create_date = true;\r\n  public VhType = VhType;\r\n  management_product_price2: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').management_product_price2;\r\n\r\n\r\n  constructor(\r\n    public vhAlgorithm: VhAlgorithm,\r\n    public vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    private router: Router,\r\n    public vhQuerySales: VhQuerySales,\r\n    private mess: NzMessageService,\r\n    private cdf: ChangeDetectorRef,\r\n    private fncService: FunctionService,\r\n    private nzModalService: NzModalService,\r\n    private plaform: Platform,\r\n    private vhQuery: VhQuery,\r\n    private vhDisplayLEDService: VhDisplayLEDService,\r\n    private vhEinvoice: VhEinvoice,\r\n    public productService: ProductService,\r\n    private billService: BillService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // check quyền chỉnh sửa ngày tạo đơn\r\n    this.sales_enable_edit_create_date = this.vhAuth.getUser().owner == 'boss' ? true : this.vhAuth.checkLocalMyPermissionName(\"sales_enable_edit_create_date\")\r\n\r\n    this.eventKeypress();\r\n    this.observablePrinter = this.vhQuerySales.getObservableLocalPrinters().subscribe((localPrinters: any) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer) this.checkPrinter = printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable;\r\n      else this.checkPrinter = false\r\n    })\r\n    // get các loại chương trình tích điểm\r\n    Promise.all([\r\n      this.vhQuerySales.getEarningPointsBills(),\r\n      this.vhQuerySales.getEarningPointsProducts(),\r\n\r\n    ])\r\n      .then(([earning_point_bills, earning_points_products,]: any) => {\r\n        this.list_earning_point_bills = earning_point_bills\r\n        this.list_earning_points_products = earning_points_products\r\n        this.customer_group = this.vhQuerySales.getlocalCustomerClasss()\r\n      })\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (this.style_template_sub_pos != this.vhAuth.localStorageGET(\"style_template_sub_pos\")) {\r\n      this.style_template_sub_pos = this.vhAuth.localStorageGET(\"style_template_sub_pos\");\r\n    }\r\n  }\r\n  /**\r\n   * bắt sự kiện nhấn f1-f2-f3-f4-f5\r\n   */\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 112 || keycode === 113 || keycode === 114) event.preventDefault();\r\n\r\n      if (this.invoice_detail.length > 0) {\r\n        switch (keycode) {\r\n\r\n          case 112:\r\n            this.openModalPaymentInfo(false);\r\n            break;\r\n          case 113: {\r\n            this.openModalPaymentInfo(true)\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n\r\n  event: any // biến lắng nghe\r\n  ngOnDestroy() {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    this.vhQuerySales.closeSyncOpeningBill()\r\n  }\r\n\r\n  /**\r\n   * sự kiện thay đổi id_bill từ component cha(sales-pos) truyền vào\r\n   * @param changes\r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.discount_bill = 0;\r\n    this.product_codes = []\r\n    if (changes.data) {\r\n      if (changes.data.previousValue) { // chuyển từ bill này sang bill khác thì closeSyncOpeningBill bill cũ đi\r\n        this.vhQuerySales.closeSyncOpeningBill()\r\n        if (this.invoice.payment_coupons) {\r\n          this.resetDiscountCoupon();\r\n          this.vhQuerySales.updateBill(this.invoice._id, { payment_coupons: 0, payment: this.invoice.payment, total: this.invoice.total })\r\n            .then(() => {\r\n              this.getDataInvoice();\r\n            })\r\n        }\r\n        else {\r\n          this.getDataInvoice();\r\n        }\r\n      }\r\n      else {\r\n        this.getDataInvoice();\r\n      }\r\n      this.isGotPromotion = false;\r\n\r\n      this.isLoadData = false;\r\n    }\r\n  }\r\n\r\n\r\n  ngAfterViewChecked(): void {\r\n    if (document.querySelector('.invoiceDetail-item'))\r\n      this.heightListInvoiceDetailScroll = document.querySelector('.invoiceDetail-item').clientHeight - 10 + 'px'\r\n    if (this.showBestSelling != this.vhAuth.localStorageGET(\"show_best_selling\")) this.showBestSelling = this.vhAuth.localStorageGET(\"show_best_selling\")\r\n\r\n    if (this.vhAuth.localStorageGET(\"show_fee\") && document.querySelector(\".invoice-fee\") && this.moneyEdit['fee'] == 0) this.moneyEdit['fee'] = this.vhAlgorithm.vhnumeral(\".invoice-fee\")\r\n    if (document.querySelector(\".payment-price\") && this.moneyEdit['payment'] == 0) this.moneyEdit['payment'] = this.vhAlgorithm.vhnumeral(\".payment-price\")\r\n    if (document.querySelector(\".customerPay\") && this.vhAuth.localStorageGET(\"show_cash\") && this.moneyEdit['cash'] == 0) this.moneyEdit['cash'] = this.vhAlgorithm.vhnumeral(\".customerPay\")\r\n    if (document.querySelector(\".discount-price\") && this.moneyEdit['discount'] == 0) this.moneyEdit['discount'] = this.vhAlgorithm.vhnumeral(\".discount-price\")\r\n    if (!document.querySelector(\".discount-price\")) this.moneyEdit['discount'] = 0;\r\n    if (!document.querySelector(\".invoice-fee\")) this.moneyEdit['fee'] = 0\r\n    if (!document.querySelector(\".payment-price\")) this.moneyEdit['payment'] = 0\r\n    if (!document.querySelector(\".customerPay\")) this.moneyEdit['cash'] = 0;\r\n    this.cdf.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * khỏi tạo giá trị cho bill - bill detail\r\n   * @param invoice\r\n   * @param invoiceDetail\r\n   */\r\n  init(invoice: VhSaleInvoiceEdit = null, invoiceDetail: VhSaleInvoiceDetailEdit[] = null) {\r\n    this.data = invoice\r\n    this.invoice = invoice;\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type),\r\n      }\r\n      this.debt = this.invoice.id_customer == 'id_retail' ? false : this.vhQuerySales.getlocalCustomer(this.invoice.id_customer).debt_enable;\r\n      if (this.invoice.id_delivery) this.invoiceInfo['delivery'] = (this.vhQuerySales.getlocalDelivery(this.invoice.id_delivery).name)\r\n\r\n\r\n\r\n\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.isLoadData = true;\r\n    this.default_price_type = this.invoice.price_type ? this.invoice.price_type : 1;\r\n    this.invoice_discount = this.invoice.discount.toString();\r\n    this.invoice_fee = this.invoice.fee.toString();\r\n    this.invoice_payment = this.invoice.payment.toString();\r\n    this.invoice_cash = this.invoice.cash.toString();\r\n    this.invoice_note = this.invoice.note;\r\n    this.invoice_date = new Date(this.invoice.date);\r\n\r\n    //tính tổng tiền\r\n    let subTotal = 0;\r\n    for (let i of this.invoice_detail) {\r\n      let total_product_gift = 0;\r\n      let total_products = 0;\r\n      if (i.products_gift) {\r\n        total_product_gift = i.products_gift.filter(item => item.choose).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n\r\n      }\r\n      else if (i.products) {\r\n\r\n        total_products = i.products.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n      }\r\n      subTotal += total_products + total_product_gift + (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100);\r\n    this.percent_discount_bill = this.subTotal ? (this.invoice.discount / this.subTotal) * 100 : 0\r\n    if (this.plaform && this.plaform.is('electron')) {\r\n      this.vhQuerySales.writeBill_BillDetails_toDisplayLEDScreens(\r\n        this.invoice, this.invoice_detail\r\n      )\r\n    }\r\n\r\n    if(invoiceDetail.length && this.productService.isContainServiceTime(invoiceDetail)) {\r\n      this.updateServiceTime();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get thông tin bill - bill detail\r\n   */\r\n  getDataInvoice() {\r\n    if (this.data) {\r\n      if (this.data._id)\r\n        Promise.all([\r\n          this.vhQuerySales.getBill(this.data._id),\r\n          this.vhQuerySales.getBill_details_byId_bill(this.data._id),\r\n        ]).then(([invoice, invoiceDetail]: any) => {\r\n          this.discount_coupon = 0;\r\n\r\n          if (invoice) {\r\n            // Xử lý Dịch vụ thời gian\r\n            if(invoiceDetail.length && this.productService.isContainServiceTime(invoiceDetail)) {\r\n              this.endTime = new Date();\r\n              // set lại price\r\n              invoiceDetail?.forEach((item, index) => {\r\n                if (item.ptype === VhType.SERVICETIME && !item.is_paused) {\r\n                  const newItem = { ...item, time_end_order: this.endTime };\r\n                  const serviceTimePrice: any = this.productService.calculateServiceTimePrice(newItem, this.endTime, this.default_price_type);\r\n                  newItem.price = serviceTimePrice.total_price;\r\n                  newItem.price_origin = serviceTimePrice.total_price;\r\n                  invoiceDetail[index] = {...newItem};\r\n                }\r\n              });\r\n            }\r\n\r\n            if (invoice.id_employee != this.vhAuth.getUser()._id) {\r\n              this.nzModalService.confirm({\r\n                nzTitle: this.languageService.translate(\"Hóa đơn này đã được đổi sang nhân viên\") + ' ' + this.vhAuth.getlocalEmployee(invoice.id_employee).name,\r\n                nzOkText: \"Ok\",\r\n                nzOnOk: () => {\r\n                  this.saveBill.emit(invoice._id)\r\n                },\r\n                nzCancelText: null,\r\n                nzCloseIcon: null,\r\n              })\r\n            }\r\n\r\n            if (!invoiceDetail.length && !this.vhAlgorithm.isToday(invoice.date)) invoice.date = new Date()\r\n\r\n            if (!invoiceDetail.length) {\r\n              this.init(invoice, [])\r\n              this.isLoadData = true;\r\n            }\r\n            else {\r\n              this.init(invoice, invoiceDetail.map(item => { return { ...item, unit: item.units ? this.vhQuerySales.getUnit_byRatio(item.units, item.ratio).unit : '' } }))\r\n            }\r\n            this.getClassAndProgramFirstLoad(invoice.id_customer)\r\n            setTimeout(() => {\r\n              if (this.data && this.data._id == invoice._id) this.observableCheckBill(invoice._id)\r\n            }, 100);\r\n          }\r\n        }, error => {\r\n          this.mess.error(\"Error\")\r\n          this.billError.emit(true)\r\n\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  // sự kiện subscribe bill dc mở ở thiết bị khác\r\n  observableCheckBill(id_bill) {\r\n\r\n    this.vhQuerySales.observableSyncOpeningBill(id_bill, 5).subscribe((rsp: any) => {\r\n      console.log(rsp);\r\n\r\n      this.vhQuerySales.closeSyncOpeningBill();\r\n      if (rsp.vcode === 0) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Hóa đơn này đang được cập nhật ở thiết bị khác. Vui lòng tải lại hóa đơn này!\"),\r\n          nzOkText: \"Ok\",\r\n          nzOnOk: () => {\r\n            // this.invoice = new VhSaleInvoices(this.invoice.getCreateUpdateInvoice(), [], this.vhQuerySales)\r\n            this.getDataInvoice()\r\n            // this.saveBill.emit(this.invoice._id)\r\n            // this.reloadAllBill.emit(true)\r\n          },\r\n          nzCancelText: null,\r\n          nzCloseIcon: null,\r\n        })\r\n      } else if (rsp.vcode === 1) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Hóa đơn này đã được thanh toán ở thiết bị khác. Vui lòng tải lại danh sách hóa đơn!\"),\r\n          nzOkText: \"Ok\",\r\n          nzOnOk: () => {\r\n            this.reloadAllBill.emit(true)\r\n          },\r\n          nzCancelText: null,\r\n          nzCloseIcon: null,\r\n\r\n        })\r\n      } else if (rsp.vcode === 2) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"Hóa đơn này đã bị xóa ở thiết bị khác. Vui lòng tải lại danh sách hóa đơn!\"),\r\n          nzOkText: \"Ok\",\r\n          nzOnOk: () => {\r\n            this.reloadAllBill.emit(true)\r\n          },\r\n          nzCancelText: null,\r\n          nzCloseIcon: null,\r\n\r\n        })\r\n      }\r\n    }, (error: any) => {\r\n\r\n    })\r\n  }\r\n  /**\r\n   * lấy tên sp\r\n   * @param id_prod\r\n   * @param id_subProd\r\n   * @returns\r\n   */\r\n  getNameProduct(id_prod: string, id_subProd: string) {\r\n    let product = this.vhQuerySales.getlocalProduct(id_prod)\r\n    let subFood: any\r\n    if (id_subProd) subFood = product.subs.find(item => item._id == id_subProd)\r\n    return { name: `${product ? product.name : ''} ${subFood ? '(' + subFood.name + ')' : ''}` }\r\n  }\r\n  /**Render các thành phần combo */\r\n  getSubCombo(arr: any[]) {\r\n    let subName: string = \"\"\r\n    arr.forEach(item => {\r\n      if (subName.length)\r\n        subName += `, ${item.quantity} ${item.name}`\r\n      else subName += `${item.quantity} ${item.name}`\r\n    })\r\n    return subName\r\n  }\r\n\r\n  /**\r\n   * lấy tên phương thức thanh toán theo loại thanh toán\r\n   */\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n\r\n  /**Cập nhật tiền khách trả */\r\n  updatePayment() {\r\n\r\n\r\n    if (this.debt) {\r\n      let payment: any = this.moneyEdit['payment'].getRawValue();\r\n      let value = payment ? parseFloat(payment) : 0;\r\n      this.invoice.payment = (value ? (value > this.getTotalATax() || value < 0 ? this.getTotalATax() : value) : 0);\r\n      document.getElementById(\"payment-price\")['value'] = this.invoice.payment\r\n      this.moneyEdit['payment'] = this.vhAlgorithm.vhnumeral(\".payment-price\")\r\n      this.updateBill();\r\n      this.invoice_cash = this.invoice.cash.toString();\r\n    }\r\n  }\r\n\r\n  // test(event){\r\n  //\r\n  //   // this.invoice_fee = this.fee\r\n  // }\r\n\r\n  updateCash() {\r\n    this.invoice.cash = (parseFloat(this.moneyEdit['cash'].getRawValue()))\r\n    this.updateBill()\r\n  }\r\n\r\n\r\n  /**\r\n   * bắt sk thay đổi date của hóa đơn , gán lại giá trị date mới cho đơn\r\n   * @example this.setDate('2023-06-12T08:02:27.697Z')\r\n   */\r\n  setDate(event) {\r\n    if (new Date(event).getTime() < new Date(this.vhAuth.getStore().registrationdate).getTime()) {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the registration date (\")} ${this.fncService.formatDate(this.vhAuth.getStore().registrationdate)} ${\")\"}`, 5000)\r\n      this.invoice_date = new Date(this.invoice.date)\r\n      this.invoice.date = (new Date(this.invoice_date));\r\n    }\r\n    else\r\n      this.vhQuerySales.getValidityDate(new Date(event)).then((validitydate: any) => {\r\n        if (validitydate == null) {\r\n          this.invoice.date = (event);\r\n          this.updateBill()\r\n        }\r\n        else {\r\n          this.invoice_date = new Date(this.invoice.date)\r\n          this.invoice.date = (this.invoice_date);\r\n          this.vhComponent.alertMessageDesktop(\"warning\", `${this.languageService.translate(\"You can only create or edit the invoice from the date\")} ${this.fncService.formatDate(validitydate)}`, 5000)\r\n        }\r\n      })\r\n  }\r\n\r\n  save_enable = true\r\n  /**\r\n   * update  bill  lên DB\r\n   * @param value object {fee:10000}\r\n   */\r\n  updateBill() {\r\n\r\n\r\n    if (this.save_enable) {\r\n      this.save_enable = false;\r\n      setTimeout(() => {\r\n        this.save_enable = true\r\n      }, 400);\r\n      if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n      return new Promise((resolve) => {\r\n        if (this.data) {\r\n          this.vhQuerySales.updateBill(this.invoice._id, this.getCreateUpdateInvoicePosInterface(5))\r\n            .then((bool) => {\r\n              if (!bool) { this.mess.create('error', this.languageService.translate(\"Error\")); this.billError.emit(true) }\r\n              this.save_enable = true\r\n              resolve(true)\r\n            }, error => {\r\n              this.mess.error(\"Error\")\r\n              this.billError.emit(true)\r\n            }).catch((err) => {\r\n              this.mess.error(\"Error\")\r\n              this.billError.emit(true)\r\n            })\r\n        }\r\n      })\r\n    }\r\n    else {\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Thao tác quá nhanh! Vui lòng xem lại dữ liệu hóa đơn\"))\r\n    }\r\n\r\n  }\r\n\r\n  /**  Cập nhật tax */\r\n  updateTax(event) {\r\n\r\n    this.invoice.tax = (event);\r\n    this.setTotal();\r\n    this.invoice_payment = this.invoice.payment.toString();\r\n    this.invoice_cash = this.invoice.cash.toString();\r\n  }\r\n\r\n  /** Cập nhật phí */\r\n  updateFee() {\r\n    let fee: any = this.moneyEdit['fee'].getRawValue()\r\n    this.invoice.fee = (fee ? parseFloat(fee) : 0);\r\n    this.setTotal()\r\n    this.invoice_payment = this.invoice.payment.toString();\r\n    this.invoice_cash = this.invoice.cash.toString();\r\n  }\r\n\r\n  /**Cập nhật giảm giá */\r\n  updateDiscount() {\r\n\r\n\r\n    let discount: any = this.moneyEdit['discount'].getRawValue();\r\n    this.invoice.discount = (discount > 0 && discount < this.subTotal ? parseFloat(discount) : 0);\r\n    this.setTotal()\r\n    this.invoice_payment = this.invoice.payment.toString();\r\n    this.invoice_cash = this.invoice.cash.toString();\r\n    // if (this.invoice.getDiscountInvoice() == null) this.invoice.setDiscountForCustomerNotDiscountInvoice(parseFloat(discount))\r\n    this.percent_discount_bill = this.subTotal ? (this.invoice.discount / this.subTotal) * 100 : 0\r\n\r\n  }\r\n\r\n\r\n  product_codes: any = [];\r\n  discount_coupon = 0;\r\n  /**\r\n   * kiểm tra mã coupon hợp lệ hay ko , tính số tiền thanh toán theo coupon tương ứng\r\n   * @param code\r\n   * @example getDiscountOfCoupon('KDJWOIHA')\r\n   */\r\n  getDiscountOfCoupon(code) {\r\n    if (code)\r\n      this.vhQuerySales.getCoupon_Code_Name_Release_byCode(code)\r\n        .then((product_codes: any) => {\r\n\r\n          if (product_codes && !this.product_codes.find(item => item.code == code)) {\r\n            switch (product_codes.status) {\r\n              case 1: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này chưa được quy đổi\"))\r\n                break;\r\n              }\r\n              case 3: {\r\n                if (new Date() < new Date(product_codes.date_expire)) {\r\n                  this.product_codes.push(product_codes)\r\n                  this.invoice.payment_coupons = (product_codes.value)\r\n                  this.discount_coupon += product_codes.value;\r\n                  this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Sử dụng coupon thành công\"))\r\n                }\r\n                else {\r\n                  this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này đã hết hạn sử dụng\"), 8000)\r\n                }\r\n                break;\r\n              }\r\n              case 4: {\r\n                this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Phiếu này đã được sử dụng\"), 8000)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (!product_codes) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Không tìm thấy phiếu này\"), 8000)\r\n          setTimeout(() => {\r\n            document.getElementById('coupon').getElementsByTagName(\"input\")[0].value = '';\r\n          }, 200);\r\n        })\r\n\r\n  }\r\n\r\n  /**\r\n   * xóa coupon đã thêm, tính lại tiền thanh toán bằng coupon\r\n   * @param item\r\n   * @example this.onCloseProductCode(coupon_selected)\r\n   */\r\n  onCloseProductCode(item) {\r\n    this.product_codes.splice(this.product_codes.findIndex(i => i._id == item._id), 1);\r\n    this.invoice.payment_coupons -= item.value\r\n  }\r\n\r\n  /**\r\n   * tính lại chiết khấu hóa đơn\r\n   * @example this.getDiscountBillOfCustomer()\r\n   */\r\n  getDiscountBillOfCustomer() {\r\n    this.discount_bill = this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer) ? this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer).discount : 0;\r\n    this.invoice.discount_bill = (this.discount_bill)\r\n    this.updateBill()\r\n\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi giảm giá bill theo %\r\n   * @param value % giảm\r\n   * @example this.editPercentDiscount(10)\r\n   */\r\n  editPercentDiscount(value) {\r\n    if (parseFloat(value) > 100)\r\n      document.getElementById(\"percent-discount-price\")['value'] = 0\r\n    else this.percent_discount_bill = value;\r\n    this.invoice.discount = this.subTotal * (this.percent_discount_bill / 100);\r\n    this.setTotal()\r\n  }\r\n  /**\r\n   * trả về tên unit theo ratio truyền vào\r\n   * @param units mảng units của sp\r\n   * @param ratio ratio được chọn\r\n   * @returns string\r\n   * @example let unit_name = this.getUnit([], 1)\r\n   */\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units, ratio).unit\r\n  }\r\n  /**\r\n   * kiểm tra tối đa 12 ky tự cuả discount\r\n   * @param value\r\n   */\r\n  checkMaxLengthDiscount(value: string) {\r\n    if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_discount = value }\r\n  }\r\n\r\n  /**\r\n   * kiểm tra tối đa 12 ky tự cuả fee\r\n   * @param value\r\n   */\r\n  checkMaxLengthFee(value: string) {\r\n    if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_fee = value }\r\n  }\r\n\r\n  /**\r\n   * kiểm tra tối đa 12 ky tự cuả payment\r\n   * @param value\r\n   */\r\n  checkMaxLengthPayment(value: string) {\r\n    if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_payment = value }\r\n  }\r\n\r\n  /**\r\n     * kiểm tra tối đa 12 ky tự cuả cash\r\n     * @param value\r\n     */\r\n  checkMaxLengthCash(value: string) {\r\n    if (parseFloat(value) > 999999999999) { value = value.slice(0, 12); this.invoice_cash = value }\r\n  }\r\n  /**\r\n   * sự kiện nhận ouput từ app-tax\r\n   */\r\n  closeAndGetValuePayment(event) {\r\n\r\n    if (event[0] == 1 || event[0] == 2) {\r\n      this.setPaymentType(event[0]);\r\n      this.invoice_payment = this.invoice.payment.toString();\r\n      this.invoice_cash = this.invoice.cash.toString();\r\n    }\r\n    else if (event[0] == 3) {\r\n      this.setPaymentType(event[0], event[1]);\r\n      this.invoice_payment = this.invoice.payment.toString();\r\n      this.invoice_cash = this.invoice.cash.toString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * cập nhật payment_type cho bill\r\n   * @param type\r\n   * @param id_wallet\r\n   * @example  this.setPaymentType(1)\r\n   */\r\n  setPaymentType(type: 1 | 2 | 3, id_wallet?) {\r\n    this.invoice.payment_type = (type)\r\n    switch (type) {\r\n      case 1: {\r\n        this.invoice.id_wallet = ('id_cash'); this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.getTotalATax());\r\n        this.updateBill()\r\n        break;\r\n      }\r\n      case 2: {\r\n        this.invoice.payment = (0); this.invoice.id_wallet = (null);\r\n        this.invoice.cash = (0);\r\n        this.updateBill()\r\n        break;\r\n      }\r\n      case 3: {\r\n        if (id_wallet) {\r\n          this.invoice.id_wallet = (id_wallet)\r\n          this.invoice.payment = (this.invoice.payment ? this.invoice.payment : this.getTotalATax());\r\n          this.updateBill();\r\n          break;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút thanh toán hóa đơn\r\n   * @param print in hay ko\r\n   */\r\n  payInvoice(print?) {\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_payment\")) {\r\n      if (this.getTotalEarningPoint() || this.invoice.use_points) {\r\n        let earned_points = this.getTotalEarningPoint() - this.value_discount_point\r\n        this.vhQuerySales.updateCustomer_byEarnedPoints(this.invoice.id_customer, earned_points)\r\n        this.invoice.earning_points_bill = (this.getTotalEarningPoint())\r\n      }\r\n      if (this.product_codes.length) {\r\n        let promise = new Array();\r\n        for (let i = 0; i < this.product_codes.length; i++) {\r\n          promise[i] = this.vhQuerySales.updateCouponCode(this.product_codes[i]._id, { status: 4, id_bill: this.invoice._id, date_used: new Date() })\r\n        }\r\n        this.vhQuery.asyncPromiseAll(promise)\r\n          .then((array) => {\r\n\r\n\r\n            this.payment(print);\r\n          }, error => { })\r\n      }\r\n      else\r\n        this.payment(print);\r\n    }\r\n    else\r\n      this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n\r\n  cqt_invoice_auto_sign: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').cqt_invoice_auto_sign\r\n  cqt_submit_invoice_immediately: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').cqt_submit_invoice_immediately\r\n\r\n  handleMinvoice(bill) {\r\n    console.log(bill);\r\n    bill = { ...this.getCreateUpdateInvoicePosInterface(1) }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      if (!this.cqt_submit_invoice_immediately) {\r\n        resolve(true)\r\n        return\r\n      }\r\n      // lấy ra chi nhánh hiện tại\r\n      let currentBranch = this.vhQuerySales.getlocalBranch(this.vhQuerySales.getDefaultBranch()._id);\r\n      if (!currentBranch.einvoices) {\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp chưa có tạo kết nối hóa đơn điện tử\r\n      if (!currentBranch.einvoices?.length) {\r\n        this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Please connect e-invoice for this branch\"))\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp đã gửi lên cqt rồi thì khỏi\r\n      if(bill.cqt_status == 2 || bill.cqt_status == 3){\r\n        resolve(true)\r\n        return\r\n      }\r\n      // trường hợp chỉ có 1 kết nối hóa đơn điện tử thì tạo thẳng luôn\r\n      if (currentBranch.einvoices.length && currentBranch.einvoices.length == 1) {\r\n        if (!currentBranch.einvoices[0].invoiceSeries.length) {\r\n          this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Please connect e-invoice for this branch\"))\r\n          resolve(true)\r\n          return\r\n        }\r\n        this.billService.changeBill_byLocal_toInvoice_byMinvoice(bill._id, currentBranch.einvoices[0].invoiceSeries[0])\r\n          .then((rsp) => {\r\n            console.log('changeBill_toInvoice_byMinvoice', rsp)\r\n            if (rsp.vcode == 0) {\r\n              if (this.cqt_invoice_auto_sign) {\r\n                this.vhEinvoice.saveInvoice_Sign_byMinvoice(currentBranch.taxcode, currentBranch.einvoices[0].token, 1, rsp.data)\r\n                  .then((res: any) => {\r\n                    console.log('saveInvoice_Sign_byMinvoice', res);\r\n                    if (res.code == '00') {\r\n                      bill.cqt_status = 3\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 3 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      }, error => {\r\n                        console.log('error', error);\r\n                      })\r\n                    }\r\n                    else if (res.code == '9999') {\r\n\r\n                      bill.cqt_status = 1\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vui lòng kiểm tra lại thông tin hóa đơn đẩy lên CQT chưa phù hợp\"))\r\n                    }\r\n                    else {\r\n\r\n                      bill.cqt_status = 1\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('An error occurred while sending the invoice to CQT'))\r\n                    }\r\n                  })\r\n              }\r\n              else {\r\n                this.vhEinvoice.saveInvoice_noSign_byMinvoice(currentBranch.taxcode, currentBranch.einvoices[0].token, 1, rsp.data)\r\n                  .then((res: any) => {\r\n                    console.log(res);\r\n                    if (res.code == '00') {\r\n                      bill.cqt_status = 2\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 2 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      }, error => {\r\n                        console.log('error', error);\r\n                      })\r\n                    }\r\n                    else if (res.code == '9999') {\r\n\r\n                      bill.cqt_status = 1\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vui lòng kiểm tra lại thông tin hóa đơn đẩy lên CQT chưa phù hợp\"))\r\n                    }\r\n                    else {\r\n\r\n                      bill.cqt_status = 1\r\n                      this.vhQuerySales.updateBill(bill._id, { cqt_status: 1 }).then((bool: any) => {\r\n                        console.log('updateBill', bool);\r\n                        resolve(true)\r\n                      })\r\n                      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate('An error occurred while sending the invoice to CQT'))\r\n                    }\r\n                  })\r\n              }\r\n            }\r\n          }, (error: any) => {\r\n            console.log('error', error)\r\n            resolve(true)\r\n          })\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * lưu thành bill_type 1\r\n   * @param print\r\n   */\r\n  payment(print?) {\r\n    this.isPaying = true;\r\n    this.productService.updateAllServiceTimeToPause(this.invoice_detail);\r\n    if (print) {\r\n      if (this.checkPrinter) {\r\n        if (this.vhAuth.localStorageGET(\"show_confirm_pay\"))\r\n          this.nzModalService.confirm({\r\n            nzTitle: (!print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`),\r\n            nzCancelText: this.languageService.translate(\"Cancel\"),\r\n            nzOkText: \"Ok\",\r\n            nzOnOk: () => {\r\n              if (!this.vhAlgorithm.isToday(this.invoice.date)) {\r\n                this.nzModalService.confirm({\r\n                  nzTitle: '<i>' + this.languageService.translate(\"Confirm\") + '</i>',\r\n                  nzContent: '<b>' + this.languageService.translate(\"This invoice was created on\") + ' ' + this.fncService.formatDate(this.invoice.date) + '. ' + this.languageService.translate(\"Payment confirmation\") + ' ?' + '</b>',\r\n                  nzCancelText: this.languageService.translate(\"Cancel\"),\r\n                  nzOkText: \"Ok\",\r\n                  nzOnOk: () => {\r\n                    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                      this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                        .then(async (bill) => {\r\n                          await this.handleMinvoice(bill)\r\n                          if (bill) {\r\n                            this.vhComponent.hideLoading(0);\r\n                            this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                          }\r\n                          this.handlePrint()\r\n                        })\r\n                    })\r\n                  },\r\n                  nzOnCancel: () => { this.isPaying = false; }\r\n                })\r\n              }\r\n              else\r\n                this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                  this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                    .then(async (bill) => {\r\n                      await this.handleMinvoice(bill)\r\n                      if (bill) {\r\n                        this.vhComponent.hideLoading(0);\r\n                        this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                      }\r\n                      this.handlePrint()\r\n                    })\r\n                })\r\n            },\r\n            nzOnCancel: () => { this.isPaying = false; }\r\n          })\r\n        else this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n          this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n            .then(async (bill) => {\r\n              await this.handleMinvoice(bill)\r\n              if (bill) {\r\n                this.vhComponent.hideLoading(0);\r\n                this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n              }\r\n              this.handlePrint()\r\n            })\r\n        })\r\n      }\r\n      else {\r\n        if (!this.vhAlgorithm.isToday(this.invoice.date)) {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Confirm\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"This invoice was created on\") + ' ' + this.fncService.formatDate(this.invoice.date) + '. ' + this.languageService.translate(\"Payment confirmation\") + ' ?' + '</b>',\r\n            nzCancelText: this.languageService.translate(\"Cancel\"),\r\n            nzOkText: \"Ok\",\r\n            nzOnOk: () => {\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                  .then(async (bill) => {\r\n                    await this.handleMinvoice(bill)\r\n                    if (bill) {\r\n                      this.vhComponent.hideLoading(0);\r\n                      this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                    }\r\n                    this.handlePrint()\r\n                  })\r\n              })\r\n            },\r\n            nzOnCancel: () => { this.isPaying = false; }\r\n          })\r\n        }\r\n        else\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n              .then(async (bill) => {\r\n                await this.handleMinvoice(bill)\r\n                if (bill) {\r\n                  this.vhComponent.hideLoading(0);\r\n                  this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                }\r\n                this.handlePrint()\r\n              })\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      if (this.vhAuth.localStorageGET(\"show_confirm_pay\"))\r\n        this.nzModalService.confirm({\r\n          nzTitle: (!print ? `${this.languageService.translate(\"Pay\")}?` : `${this.languageService.translate(\"Pay & Print\")}?`),\r\n          nzCancelText: this.languageService.translate(\"Cancel\"),\r\n          nzOkText: \"Ok\",\r\n          nzOnOk: () => {\r\n            if (!this.vhAlgorithm.isToday(this.invoice.date)) {\r\n              this.nzModalService.confirm({\r\n                nzTitle: '<i>' + this.languageService.translate(\"Confirm\") + '</i>',\r\n                nzContent: '<b>' + this.languageService.translate(\"This invoice was created on\") + ' ' + this.fncService.formatDate(this.invoice.date) + '. ' + this.languageService.translate(\"Payment confirmation\") + ' ?' + '</b>',\r\n                nzCancelText: this.languageService.translate(\"Cancel\"),\r\n                nzOkText: \"Ok\",\r\n                nzOnOk: () => {\r\n                  this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                    this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                      .then(async (bill) => {\r\n                        await this.handleMinvoice(bill)\r\n                        if (bill) {\r\n                          this.vhComponent.hideLoading(0);\r\n                          this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                        }\r\n                        this.handle()\r\n                      })\r\n                  })\r\n                },\r\n                nzOnCancel: () => { this.isPaying = false; }\r\n              })\r\n\r\n            }\r\n            else\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                  .then(async (bill) => {\r\n                    await this.handleMinvoice(bill)\r\n                    if (bill) {\r\n                      this.vhComponent.hideLoading(0);\r\n                      this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                    }\r\n                    this.handle()\r\n                  })\r\n              })\r\n          },\r\n          nzOnCancel: () => { this.isPaying = false; }\r\n        })\r\n      else {\r\n        if (!this.vhAlgorithm.isToday(this.invoice.date)) {\r\n          this.nzModalService.confirm({\r\n            nzTitle: '<i>' + this.languageService.translate(\"Confirm\") + '</i>',\r\n            nzContent: '<b>' + this.languageService.translate(\"This invoice was created on\") + ' ' + this.fncService.formatDate(this.invoice.date) + '. ' + this.languageService.translate(\"Payment confirmation\") + ' ?' + '</b>',\r\n            nzCancelText: this.languageService.translate(\"Cancel\"),\r\n            nzOkText: \"Ok\",\r\n            nzOnOk: () => {\r\n              this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n                this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n                  .then(async (bill) => {\r\n                    await this.handleMinvoice(bill)\r\n                    if (bill) {\r\n                      this.vhComponent.hideLoading(0);\r\n                      this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                    }\r\n                    this.handle()\r\n                  })\r\n              })\r\n            },\r\n            nzOnCancel: () => { this.isPaying = false; }\r\n          })\r\n\r\n        }\r\n        else\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.getCreateUpdateInvoicePosInterface(1), this.getCreateUpdateInvoiceDetail())\r\n              .then(async (bill) => {\r\n                await this.handleMinvoice(bill)\r\n                if (bill) {\r\n                  this.vhComponent.hideLoading(0);\r\n                  this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${bill.bill_code || this.invoice.bill_code} ${this.languageService.translate(\"has been created successfully\")}`)\r\n                }\r\n                this.handle()\r\n              })\r\n          })\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trờ về trang danh sách hóa đơn sau khi đã thanh toán xong\r\n   * @example this.handle(true)\r\n   */\r\n  handle() {\r\n    this.isShowModalPaymentInfo = false;\r\n    setTimeout(() => {\r\n      this.isPaying = false;\r\n    }, 2000);\r\n    this.saveBill.emit(this.invoice._id)\r\n  }\r\n  /**\r\n   * kiểm tra dữ liệu thông tin máy in và mở component in\r\n   * @example this.handlePrint()\r\n   */\r\n  handlePrint(temp?) {\r\n    this.invoice_detail.forEach(e => {\r\n      if (e.products_gift) e.products_gift = e.products_gift.filter(item => item.choose)\r\n    })\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer) {\r\n        this.updateServiceTime();\r\n        this.vhComponent.showModal(this.renderPrintPage(printer['_id']), { printer: { ...printer, name: \"Sales\" }, invoice: this.invoice, invoice_detail: this.invoice_detail }, false, false, `modal-print-${printer['_id']}`).then((modal) => {\r\n          modal.onWillDismiss().then(() => { if (!temp) this.handle() })\r\n        });\r\n      }\r\n    }, (err) => {\r\n      this.nzModalService.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => { if (!temp) this.handle() }\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n  * lấy thông tin dữ liệu trang in\r\n  * @returns Promise<any>\r\n  * @example this.checkPrint()\r\n  */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer && printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)].enable) resolve(printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)])\r\n      else rejects(false)\r\n\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n\r\n  myTrackByFunction(element: any, index: any) {\r\n    return element._id ? element._id : index\r\n  }\r\n\r\n  /**\r\n   * hiển thị modal chọn khách hàng\r\n   */\r\n  showCustomer() {\r\n    this.getTotalEarningPoint();\r\n    this.visibleCustomer = true;\r\n  }\r\n\r\n  customer: any;\r\n  /**\r\n   * nhận từ sk đóng modal chọn khách hàng\r\n   * @param e\r\n   */\r\n  cancelVisibleCustomer(e: any) {\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer)\r\n    this.visibleCustomer = e\r\n\r\n    this.getClassAndProgram(this.invoice.id_customer)\r\n  }\r\n\r\n  /**\r\n   * nhận từ sk thay đổi loại khách hàng từ modal chọn khách hàng\r\n   * @param e\r\n   */\r\n  eventChangeCustomerType(ev) {\r\n    this.getClassAndProgram(this.invoice.id_customer)\r\n  }\r\n  /**\r\n   * khi thay đổi khách hàng sẽ check xem khách đó được nợ hay ko, nhận output này tù modal chọn khách hàng\r\n   * @param bool\r\n   */\r\n  changeDebt(bool) {\r\n\r\n\r\n    this.debt = bool;\r\n    if (!bool) {\r\n      this.invoice.payment = (this.getTotalATax())\r\n      this.invoice_payment = this.getTotalATax().toString();\r\n    }\r\n  }\r\n\r\n\r\n  customer_class: any;\r\n  program_bill: any;\r\n  program_product: any;\r\n\r\n  /**\r\n   * hàm này để gán chương trình tich diem hóa đơn và sản phẩm của khách hàng\r\n   */\r\n  getClassAndProgramFirstLoad(id_customer) {\r\n    this.customer = this.vhQuerySales.getlocalCustomer(id_customer);\r\n    this.customer_class = this.customer_group.find(item => item._id == this.customer.id_customer_class);\r\n    if (this.customer_class && this.customer_class.id_earning_points_bill) {\r\n      this.program_bill = this.list_earning_point_bills.find(item => item._id == this.customer_class.id_earning_points_bill);\r\n    }\r\n    if (this.customer_class && this.customer_class.id_earning_points_product) {\r\n      this.program_product = this.list_earning_points_products.find(item => item._id == this.customer_class.id_earning_points_product);\r\n    }\r\n    if (!this.customer_class) {\r\n      this.program_bill = null;\r\n      this.program_product = null;\r\n    }\r\n    this.point_validity = this.vhQuerySales.getlocalCustomerPoints(id_customer)\r\n    let check = this.vhQuerySales.getlocalDiscount_bill(this.customer_class?.id_discount_bill)\r\n    if (check) {\r\n      this.is_discount_bill = true;\r\n      this.discount_bill = this.invoice.discount_bill;\r\n      this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"This customer applies the discount calculation formula \") + check.name, 5000)\r\n    }\r\n    else {\r\n      this.is_discount_bill = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * hàm này để gán chương trình tich diem hóa đơn và sản phẩm của khách hàng\r\n   */\r\n  getClassAndProgram(id_customer) {\r\n    this.customer = this.vhQuerySales.getlocalCustomer(this.invoice.id_customer);\r\n    this.customer_class = this.customer_group.find(item => item._id == this.vhQuerySales.getlocalCustomer(id_customer).id_customer_class);\r\n    if (this.customer_class && this.customer_class.id_earning_points_bill) {\r\n      this.program_bill = this.list_earning_point_bills.find(item => item._id == this.customer_class.id_earning_points_bill);\r\n    }\r\n    if (this.customer_class && this.customer_class.id_earning_points_product) {\r\n      this.program_product = this.list_earning_points_products.find(item => item._id == this.customer_class.id_earning_points_product);\r\n    }\r\n    if (!this.customer_class) {\r\n      this.program_bill = null;\r\n      this.program_product = null;\r\n    }\r\n    this.point_validity = this.vhQuerySales.getlocalCustomerPoints(this.invoice.id_customer)\r\n    this.checkDiscountBill()\r\n  }\r\n\r\n  /**\r\n   * kiểm tra hạng khách hàng của khách được chọn có công thức chiết khấu đơn hay ko\r\n   */\r\n  checkDiscountBill() {\r\n    let check = this.vhQuerySales.getlocalDiscount_bill(this.customer_class?.id_discount_bill)\r\n    if (check) {\r\n      this.is_discount_bill = true\r\n      this.getDiscountBillOfCustomer()\r\n      this.vhComponent.alertMessageDesktop('success', this.languageService.translate(\"This customer applies the discount calculation formula \") + check.name, 5000)\r\n    }\r\n    else {\r\n      this.is_discount_bill = false\r\n      this.invoice.discount_bill = (0)\r\n      this.discount_bill = this.invoice.discount_bill;\r\n      this.updateBill()\r\n    }\r\n  }\r\n\r\n  // -------------chooseBestSelling--------------\r\n  /**\r\n   * nhận từ output sk chọn sp từ component sản phẩm bán nhanh\r\n   * @param event dữ liệu sp đã chọn\r\n   */\r\n  chooseBestSelling(event) {\r\n    if (event) {\r\n      this.closeSearchProductList(event)\r\n    }\r\n  }\r\n  /**\r\n   * xử ly thêm sp\r\n   * @param data : product selected\r\n   */\r\n  closeSearchProductList(data) {\r\n    if (data) {\r\n      if (data.manylot && !data.id_lotproduct) this.openModalChooseLot(data)\r\n      else {\r\n        if (data.combos && data.combos.filter(e => e.lots && !e.id_lotproduct).length) {\r\n          this.tempDetail = data;\r\n          this.show_modal_select_lots_combo = true;\r\n        }\r\n        else {\r\n          let price = this.default_price_type == 1 ? data.price : data.price2 ? data.price2 : data.price // check 2 đk là kiểu giá bán và có giá bán sỉ hay ko\r\n          if (!this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').show_product_mutil_line_sales)\r\n            this.addInvoiceDetail(\r\n              {\r\n                ...data,\r\n                price: price,\r\n                earning_points_product: this.getTotalEarningPointProduct(data, null)\r\n              })\r\n          else {\r\n            this.addBill_Detail(\r\n              {\r\n                ...data,\r\n                price: price,\r\n                earning_points_product: this.getTotalEarningPointProduct(data, null)\r\n              })\r\n            // if (this.enable_quantity_export_exceed_quantity_stock && this.checkWarningStock(data)) {\r\n            //   this.nzModalService.confirm({\r\n            //     nzTitle: this.languageService.translate(\"Số lượng bán vượt quá số lượng tồn kho\"),\r\n            //   });\r\n            //   this.removeInvoiceDetail(data._id)\r\n            // }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // cmt ở đây để tránh updateBill bị đụng dẫn đến update sai khi gọi 2 lần ở getDiscountBillOfCustomer và addInvoiceDetail/addBill_Detail\r\n    // bên trong addInvoiceDetail/addBill_Detail đã có setSubTotal, trong setSubTotal đã bao gồm tính lại discount_bill và updateBill,\r\n    // nên tạm thời cmt ở đây lại\r\n    // if (this.is_discount_bill) {\r\n    //   setTimeout(() => {\r\n    //     this.getDiscountBillOfCustomer()\r\n    //   }, 200);\r\n    // }\r\n    // else {\r\n    //   this.invoice.discount_bill = (0);\r\n    //   this.discount_bill = 0;\r\n    // }\r\n\r\n    if (!data) {\r\n      this.searchProductList = false;\r\n      this.closeSearchProductListEmitter.emit(false)\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   *  sự kiện nhận thay đổi giá từ output component app-change-price-type\r\n   * @event : boolean | null\r\n   */\r\n  changePriceType(event) {\r\n    this.invoice.price_type = event\r\n    this.showModalChangePriceType = false;\r\n    this.isGotPromotion = false;\r\n    if (event != null) { // nếu có thay đổi kiểu giá bán thì cập nhật lại giá các sản phẩm thành giá bán sỉ\r\n      this.default_price_type = event;\r\n      this.deletePromotion()\r\n        .then(() => {\r\n          if (this.invoice_detail.length) { // nếu có  length mơi update\r\n            for (let i in this.invoice_detail) {\r\n              // Nếu là dịch vụ thời gian\r\n              if (this.invoice_detail[i].ptype === VhType.SERVICETIME) {\r\n                this.productService.updateServiceTimePrice(this.invoice_detail[i], event);\r\n                delete (this.invoice_detail[i] as any).serviceTimePrice;\r\n                // Cập nhật lại sản phẩm trong danh sách hóa đơn\r\n                this.invoice_detail[i] = { ...this.invoice_detail[i] };\r\n                continue;\r\n              }\r\n              let price_update = 0;\r\n              let product = this.vhQuerySales.getlocalDetailProduct(this.invoice_detail[i].id_subproduct ? this.invoice_detail[i].id_subproduct : this.invoice_detail[i].id_product);\r\n              product = { ...product, ...this.vhQuerySales.getUnit_byRatio(product.units, this.invoice_detail[i].ratio) }\r\n              if (event == 1) {\r\n                price_update = product.price\r\n              }\r\n              else {\r\n                price_update = product.price2 ? product.price2 : product.price\r\n              }\r\n              this.invoice_detail[i].price = price_update;\r\n              this.invoice_detail[i].price_origin = price_update;\r\n            }\r\n            setTimeout(() => {\r\n              if (this.is_discount_bill) {\r\n                this.getDiscountBillOfCustomer()\r\n              }\r\n              else {\r\n                this.setSubTotal();\r\n                this.invoice.discount_bill = (0);\r\n                this.discount_bill = 0;\r\n              }\r\n            }, 400);\r\n          }\r\n          this.invoice.price_type = (event)\r\n          // this.updateBill()\r\n          setTimeout(() => {\r\n            this.vhQuerySales.updateBill_Billdetail(this.invoice._id, this.invoice, this.invoice_detail).then((bool: any) => {\r\n              // console.log(bool);\r\n            }).catch((error) => {\r\n              console.log(error);\r\n            });\r\n          }, 500);\r\n        })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * kiểm tra sp đã chọn trùng hay ko\r\n   * @param id_product\r\n   * @returns object { result: true, id?: i._id (id bill detail), quantity?: i.quantity }\r\n   */\r\n  checkProduct(id_product, ratio, id_subproduct?) {\r\n    return new Promise((resolve) => {\r\n      // let check = 0;\r\n      // for (let i of this.invoice_detail) {\r\n      //   check++;\r\n      //   if (i.id_product == id_product) {\r\n      //     resolve({ result: true, id: i._id, quantity: i.quantity })\r\n      //   }\r\n      //   if (check == this.invoice_detail.length) resolve({ result: false })\r\n      // }\r\n      if (id_subproduct) {\r\n        let index = this.invoice_detail.findIndex(detail => detail['id_subproduct'] == id_subproduct && detail['ratio'] == ratio)\r\n        if (index == -1) {\r\n          resolve({ result: false })\r\n        } else {\r\n          // resolve({ result: true })\r\n          resolve({ result: true, id: this.invoice_detail[index]._id, quantity: this.invoice_detail[index].quantity })\r\n        }\r\n      }\r\n      else {\r\n        let index = this.invoice_detail.findIndex(detail => detail['id_product'] == id_product && detail['ratio'] == ratio)\r\n        if (index == -1) {\r\n          resolve({ result: false })\r\n        } else {\r\n          resolve({ result: true, id: this.invoice_detail[index]._id, quantity: this.invoice_detail[index].quantity })\r\n        }\r\n      }\r\n      if (!this.invoice_detail.length) resolve({ result: false })\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * hàm get điểm tích lũy theo hóa đơn\r\n   * 1. get hạng khách hàng\r\n   * 2. từ hạng khách hàng get tích điểm theo bill\r\n   * 3. check các điều kiện của chương trình\r\n   * a check sản phẩm khuyến mãi include_promotion_product\r\n   * b  check giảm giá/ chiết khấu include_discount\r\n   * c check thanh toán = điểm thưởng include_paid_points\r\n   * d check phí  include_fee\r\n   * e check thuế include_tax\r\n   * @returns 0 | number\r\n   */\r\n  getEarningBill() {\r\n    if (this.program_bill && this.subTotal > this.program_bill.bill_total_minimum) {\r\n      let subTotal = this.subTotal;\r\n      if (!this.program_bill.include_promotion_product) { // ko tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.getSubTotalNotPromotion()\r\n        if (this.program_bill.include_discount) subTotal = subTotal - this.invoice.discount - this.invoice.discount_bill\r\n\r\n        if (this.program_bill.include_paid_points && this.invoice.payment_points) subTotal = subTotal - this.invoice.payment_points\r\n        if (this.program_bill.include_fee) subTotal += this.invoice.fee;\r\n\r\n        if (this.program_bill.include_tax) subTotal += subTotal * (this.invoice.tax / 100)\r\n        return ((subTotal - subTotal % this.program_bill.exchange.money) / this.program_bill.exchange.money) * this.program_bill.exchange.points\r\n      }\r\n      else {\r\n        subTotal = this.subTotal;\r\n        if (this.program_bill.include_discount) subTotal = subTotal - this.invoice.discount - this.invoice.discount_bill\r\n\r\n        if (this.program_bill.include_paid_points && this.invoice.payment_points) subTotal = subTotal - this.invoice.payment_points\r\n        if (this.program_bill.include_fee) subTotal += this.invoice.fee;\r\n\r\n        if (this.program_bill.include_tax) subTotal += subTotal * (this.invoice.tax / 100)\r\n        return ((subTotal - subTotal % this.program_bill.exchange.money) / this.program_bill.exchange.money) * this.program_bill.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n  /**\r\n  * hàm này trả về tổng tiền của sản phẩm ko có chương trình khuyến mãi\r\n  * return : number\r\n  */\r\n  getSubTotalNotPromotion() {\r\n    return this.invoice_detail.filter(item => !item.id_promotion).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n  }\r\n\r\n  /**\r\n   * hàm này trả về tổng tiền của sản phẩm  ko có chương trình khuyến mãi thuộc chương trình tích điểm sản phẩm\r\n   * return : number\r\n   */\r\n  getSubTotalNotPromotionOFProduct(products_of_program_earnig_product) {\r\n    return this.invoice_detail\r\n      .filter(item => item.price_origin == item.price && products_of_program_earnig_product.find(i => i == item.id_product || i == item.id_subproduct))\r\n      .reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n  }\r\n\r\n\r\n  /**\r\n   * hàm này trả về tổng điểm được tích của tất cả sản phẩm\r\n   * @returns 0 | number\r\n   */\r\n  getEarningProduct() {\r\n    if (this.program_product) {\r\n      let subTotal = 0;\r\n      if (!this.program_product.include_promotion_product) { // tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.getSubTotalNotPromotionOFProduct(this.program_product.products)\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n      else {\r\n        subTotal = this.invoice_detail.filter(item => item.price_origin == item.price && this.program_product.products.find(i => i == item.id_product)).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n\r\n  /** Điểm tích lũy cộng thêm */\r\n  earning_point: number = 0;\r\n  /**\r\n   * hàm này trả về tổng điểm được tích của đơn và sản phẩm\r\n   * @returns 0 | number\r\n   */\r\n  getTotalEarningPoint() {\r\n    this.earning_point = this.getEarningProduct() + this.getEarningBill();\r\n    return this.earning_point ? this.earning_point : 0\r\n  }\r\n\r\n  /**\r\n   * hàm này trả về điểm được tích của sản phẩm được thêm\r\n   * @param product sản phẩm được thêm\r\n   * @returns 0 | number\r\n   */\r\n  getTotalEarningPointProduct(product, promotion) {\r\n    if (this.program_product) {\r\n      let subTotal = 0;\r\n      if (!this.program_product.include_promotion_product && promotion) { // tích điểm sp có km =>  tính lại subTotal\r\n        subTotal = this.program_product.products.find(i => i == product._id) ? product.price : 0\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n      else {\r\n        subTotal = this.program_product.products.find(i => i == product._id) ? product.price : 0\r\n        return ((subTotal - subTotal % this.program_product.exchange.money) / this.program_product.exchange.money) * this.program_product.exchange.points\r\n      }\r\n    }\r\n    else return 0\r\n  }\r\n\r\n\r\n  /**\r\n   * bắt sk thay đổi số lượng sp trong bill\r\n   * @param product\r\n   * @param event : giá trị thay đổi\r\n   * @example this.checkQuantityProduct(bill_detail_selected, 1)\r\n   */\r\n  checkQuantityProduct(product: VhSaleInvoiceDetailEdit, event) {\r\n    if (!event || event <= 0) { product.quantity = 1; event = 1 }\r\n    else { product.quantity = product.quantity ? parseFloat(parseFloat(event).toFixed(2)) : 1; }\r\n    // if (this.enable_quantity_export_exceed_quantity_stock && this.checkWarningStock(product)) {\r\n    //   this.nzModalService.confirm({\r\n    //     nzTitle: this.languageService.translate(\"Số lượng bán vượt quá số lượng tồn kho\"),\r\n    //     nzOnOk: () => {\r\n    //       product.quantity = 1\r\n    //       this.updateBill_Detail(product._id, this.getCleanBillDetail(product))\r\n    //       this.setSubTotal();\r\n    //       if (this.is_discount_bill) {\r\n    //         setTimeout(() => {\r\n    //           this.getDiscountBillOfCustomer()\r\n    //         }, 200);\r\n    //       }\r\n    //       else {\r\n    //         this.invoice.discount_bill = (0);\r\n    //         this.discount_bill = 0;\r\n    //       }\r\n    //       if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n    //     },\r\n    //     nzCancelText: null,\r\n    //     nzOnCancel: () => {\r\n    //       product.quantity = 1\r\n    //       this.updateBill_Detail(product._id, this.getCleanBillDetail(product))\r\n    //       this.setSubTotal();\r\n    //       if (this.is_discount_bill) {\r\n    //         setTimeout(() => {\r\n    //           this.getDiscountBillOfCustomer()\r\n    //         }, 200);\r\n    //       }\r\n    //       else {\r\n    //         this.invoice.discount_bill = (0);\r\n    //         this.discount_bill = 0;\r\n    //       }\r\n    //       if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n    //     }\r\n    //   });\r\n\r\n    // }\r\n    // else {\r\n    this.updateBill_Detail(product._id, this.getCleanBillDetail(product))\r\n    this.setSubTotal();\r\n    if (this.is_discount_bill) {\r\n      setTimeout(() => {\r\n        this.getDiscountBillOfCustomer()\r\n      }, 200);\r\n    }\r\n    else {\r\n      this.invoice.discount_bill = (0);\r\n      this.discount_bill = 0;\r\n    }\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n    // }\r\n  }\r\n\r\n\r\n  /**\r\n   * hàm này để check số lượng bán lớn hơn số lượng tồn kho thì hiển thị cảnh báo\r\n   * @example let bool =  this.checkWarningStock(product)\r\n   * @returns true nếu âm, false nếu chưa âm\r\n   */\r\n  // checkWarningStock(product_check) {\r\n  //   // lấy số lượng tồn kho của sản phẩm trong localDetailProduct\r\n  //   let id_sub_or_product = '';\r\n  //   if (product_check.id_subproduct) id_sub_or_product = product_check.id_subproduct\r\n  //   else {\r\n  //     if (product_check.id_product) id_sub_or_product = product_check.id_product\r\n  //     else id_sub_or_product = product_check._id\r\n  //   }\r\n  //   let quantity_stock = this.vhQuerySales.getlocalDetailProduct(id_sub_or_product)?.quantity_branch[this.id_branch]\r\n\r\n  //   // lấy số lượng trong toàn bill_detail trường hợp chọn sp nhiều dòng hoặc combo\r\n  //   let quantity_check = 0;\r\n  //   for (let item of this.invoice_detail) {\r\n  //     if (item.combos) {\r\n  //       for (let combo of item.combos) {\r\n  //         if (combo.id_subproduct && combo.id_subproduct == id_sub_or_product) quantity_check += combo.quantity\r\n  //         else if (combo.id_product == id_sub_or_product) quantity_check += combo.quantity\r\n  //       }\r\n  //     }\r\n  //     else {\r\n  //       if (item.id_subproduct && item.id_subproduct == id_sub_or_product) { quantity_check += item.quantity;\r\n\r\n  //       else if (item.id_product == id_sub_or_product) { quantity_check += item.quantity;\r\n  //     }\r\n  //   }\r\n  //   if (quantity_stock < quantity_check) return true\r\n  //   else return false\r\n\r\n  // }\r\n\r\n  /**\r\n   * mở modal thanh toán bằng điểm hoặc coupon\r\n   * @example openModalOtherDiscount()\r\n   */\r\n  openModalOtherDiscount() {\r\n    this.showModalOtherDiscount = true;\r\n\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn ok modal thanh toán bằng điểm hoặc coupon\r\n   * @example handleOkOtherDiscount()\r\n   */\r\n  handleOkOtherDiscount() {\r\n    if (this.invoice.payment < this.invoice.payment_points + this.invoice.payment_coupons) this.invoice.payment = (0);\r\n    this.showModalOtherDiscount = false;\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n    this.updateBill()\r\n  }\r\n  value_discount_point: number = 0;\r\n  point_validity: number = 0;\r\n  /**\r\n   * tính lại giá trị thanh toán bằng tiền với số điểm sử dụng tương úng trong chương trình tích điểm\r\n   * @param value điểm sử dụng\r\n   * @example this.calculatePoint2Money(10)\r\n   */\r\n  calculatePoint2Money(value) {\r\n    if (value <= this.point_validity) {\r\n      this.value_discount_point = value;\r\n      this.invoice.payment_points = ((value / this.customer_class.payment.points) * this.customer_class.payment.money)\r\n      this.invoice.use_points = (value)\r\n    }\r\n    else {\r\n      this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Vượt quá giới hạn điểm cho phép\"))\r\n    }\r\n  }\r\n\r\n\r\n  // -------modal edit unit price-------\r\n  isVisibleEditUnitPrice: boolean = false;\r\n  unit_price: any;\r\n  tempDetail: VhSaleInvoiceDetailEdit;\r\n  editQuantity: any;\r\n  showValueEditPrice: string;\r\n  symbol = JSON.parse(localStorage.getItem('vhsales_currencyFormat')).symbol.text;\r\n  default_discount_price_type = this.vhAuth.localStorageGET(\"default_discount_price_type\") ? this.vhAuth.localStorageGET(\"default_discount_price_type\").value : '%';;\r\n  discount_price_bill_detail = 0\r\n  unit_price_discount: any;\r\n  /**\r\n   * show modal cập nhật giá và sl\r\n   * @param detail sp đã chọn\r\n   */\r\n  openEditUnitPrice(detail: VhSaleInvoiceDetailEdit) {\r\n    this.tempDetail = detail;\r\n    this.isVisibleEditUnitPrice = true;\r\n    this.default_discount_price_type = this.vhAuth.localStorageGET(\"default_discount_price_type\") ? this.vhAuth.localStorageGET(\"default_discount_price_type\").value : '%';\r\n    this.vhAlgorithm.waitingStack().then(() => {\r\n      this.unit_price = this.vhAlgorithm.vhnumeral('.unit_price');\r\n      this.unit_price_discount = this.vhAlgorithm.vhnumeral('.unit_price_discount');\r\n      this.editQuantity = detail.quantity;\r\n      this.showValueEditPrice = detail.price.toString();\r\n      this.getValueDiscount(detail.price_origin)\r\n    });\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * tính lại % giảm của bill_detail để show ra giao diện\r\n   * @param price_origin\r\n   * @example  this.getValueDiscount(100000)\r\n   */\r\n  getValueDiscount(price_origin) {\r\n    let price = parseFloat(this.unit_price.getRawValue());\r\n    if (price < 0) this.discount_price_bill_detail = 0;\r\n    else {\r\n      if (this.default_discount_price_type == '%')\r\n        this.discount_price_bill_detail = price_origin - price > 0 ? parseFloat(parseFloat(((1 - (price / price_origin)) * 100).toString()).toFixed(2)) : 0\r\n      else this.discount_price_bill_detail = price_origin - price > 0 ? price_origin - price : 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi giảm giá theo % của bill_detail\r\n   * @param item\r\n   * @param event\r\n   * @example this.changePercentDiscountBillDetail(bill_detail_selected, 10)\r\n   */\r\n  changePercentDiscountBillDetail(item) {\r\n    item.price = item.price_origin * (1 - item.percent_discount_product / 100);\r\n    this.updateBill()\r\n  }\r\n  /**\r\n   * bắt sk thay đổi đơn vị của bill_detail\r\n   * @param ev  ratio được chọn\r\n   * @param item\r\n   * @example  this.changeUnit(24, bill_detail_selected)\r\n   */\r\n  changeUnit(ev, item) {\r\n    if (this.default_price_type == 1) {\r\n      let unit = this.vhQuerySales.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit\r\n        item.price = parseFloat(unit.price)\r\n        item.ratio = parseFloat(unit.ratio)\r\n        item.price_origin = parseFloat(unit.price)\r\n      }\r\n    }\r\n    else {\r\n      let unit = this.vhQuerySales.getUnit_byRatio(item.units, ev);\r\n      if (unit) {\r\n        item.unit = unit.unit\r\n        item.price = parseFloat(unit.price2)\r\n        item.ratio = parseFloat(unit.ratio)\r\n        item.price_origin = parseFloat(unit.price2)\r\n      }\r\n\r\n    }\r\n    this.setSubTotal()\r\n    this.updateBill_Detail(item._id, this.getCleanBillDetail(item))\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n  /**\r\n   * xử ly cập nhật lại giá và số lượng\r\n   */\r\n  handleEditUnit() {\r\n    if (this.unit_price.getRawValue() != '' && this.unit_price.getRawValue() >= 0) {\r\n      this.tempDetail.price = parseFloat(this.unit_price.getRawValue());\r\n      this.tempDetail.quantity = this.editQuantity ? parseFloat(parseFloat(this.editQuantity).toFixed(2)) : 1;\r\n      this.isVisibleEditUnitPrice = false;\r\n      this.setSubTotal()\r\n      this.updateBill_Detail(this.tempDetail._id, this.getCleanBillDetail(this.tempDetail))\r\n      if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n    } else {\r\n      this.mess.error(this.languageService.translate(\"Invalid data, please check again\"))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * cập nhật bill_detail lên DB\r\n   * @param id_bill_detail\r\n   * @param data\r\n   */\r\n  updateBill_Detail(id_bill_detail, data) {\r\n\r\n\r\n    this.vhQuerySales.updateBill_Detail(id_bill_detail, data)\r\n      .then((bool: any) => {\r\n\r\n      }, error => {\r\n\r\n      })\r\n  }\r\n\r\n  /**\r\n   * tắt modal thay đổi giá sp\r\n   * @example this.handleCancelEditUnit()\r\n   */\r\n  handleCancelEditUnit() { this.isVisibleEditUnitPrice = false }\r\n\r\n\r\n  /**\r\n   * tính lại giá bán của sp sau khi nhập giá trị giảm và loại giảm giá\r\n   * @example this.caculateDiscountPrice_billDetail()\r\n   */\r\n  caculateDiscountPrice_billDetail() {\r\n    switch (this.default_discount_price_type) {\r\n      case '%': {\r\n        if (this.unit_price_discount.getRawValue() > 100 || this.unit_price_discount.getRawValue() < 0) {\r\n          this.tempDetail.price = 0;\r\n          this.tempDetail.percent_discount_product = 100;\r\n        }\r\n        else {\r\n          this.tempDetail.price = this.tempDetail.price_origin * (1 - this.unit_price_discount.getRawValue() / 100)\r\n          this.tempDetail.percent_discount_product = this.unit_price_discount.getRawValue();\r\n        }\r\n        break;\r\n      }\r\n      case this.symbol: {\r\n        if (this.unit_price_discount.getRawValue() > this.tempDetail.price_origin || this.unit_price_discount.getRawValue() < 0) {\r\n          this.tempDetail.price = 0;\r\n          this.tempDetail.percent_discount_product = 100;\r\n        }\r\n        else {\r\n          this.tempDetail.price = this.tempDetail.price_origin - this.unit_price_discount.getRawValue();\r\n          this.tempDetail.percent_discount_product = parseFloat(parseFloat(((1 - (this.tempDetail.price / this.tempDetail.price_origin)) * 100).toString()).toFixed(2));\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi loại giảm giá bill_detail\r\n   * @param value % || vnd\r\n   * @example this.changeValueDiscount('%')\r\n   */\r\n  changeValueDiscount(value) {\r\n    this.default_discount_price_type = value;\r\n    this.tempDetail.price = this.tempDetail.price_origin;\r\n    this.discount_price_bill_detail = 0;\r\n  }\r\n\r\n\r\n\r\n  //Product- xoá bill_detail\r\n  deleteGoods(detail: VhSaleInvoiceDetailEdit, index?) {\r\n    // ptype combo thì gọi deleteBill_Detail_ptype_5, ngược lại thì gọi deleteBill_Detail\r\n    const deleteAction = this.vhQuerySales.deleteBill_Detail(detail._id)\r\n\r\n    deleteAction.then((bool) => {\r\n      console.log(bool);\r\n      // Xóa thành công\r\n      if (bool) {\r\n        this.invoice_detail.splice(index, 1);\r\n        this.setSubTotal()\r\n        if (this.is_discount_bill) {\r\n          setTimeout(() => {\r\n            this.getDiscountBillOfCustomer();\r\n          }, 200);\r\n        }\r\n        else {\r\n          this.invoice.discount_bill = (0);\r\n          this.discount_bill = 0;\r\n        }\r\n      }\r\n      // Xóa thất bại\r\n      else {\r\n        this.vhComponent.alertMessageDesktop('error', this.languageService.translate(\"An error occurred while deleting the product, please try again\"));\r\n      }\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n\r\n    if (!this.gotten_gift_type7) this.handlePromotionType7(this.bill_details_pmtype_7)\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * hủy lấy khuyến mãi, chạy khi có sự thay đổi trong bill hoặc muốn hủy\r\n   * @returns  Promise<unknown>\r\n   * @example this.deletePromotion().then(() =>{\r\n   *\r\n   * })\r\n   */\r\n  deletePromotion() {\r\n    return new Promise((resolve) => {\r\n      let bill_details = this.vhQuerySales.destroyBillDetails_withPromotions(this.invoice_detail)\r\n      this.invoice_detail = bill_details\r\n      this.setSubTotal();\r\n      this.product_gift_type7 = [];\r\n      this.bill_details_pmtype_7 = [];\r\n      resolve(true)\r\n      // this.updateBill().then(() => {\r\n      //   resolve(true)\r\n      // })\r\n    })\r\n  }\r\n  //router\r\n  gotoInvoices() {\r\n    this.router.navigate(['/sales/sales-pos/invoices-pos']);\r\n  }\r\n  //Stock\r\n  stock: boolean = false\r\n  showStock() {\r\n    this.stock = true\r\n  }\r\n\r\n  // Modal delivery\r\n  delivery: boolean = false;\r\n  showDeli() {\r\n    this.delivery = true\r\n  }\r\n\r\n  /**\r\n   * output từ component delivery-pos\r\n   * @param event\r\n   */\r\n  hideDelivery(event) {\r\n\r\n    this.delivery = event.hide\r\n    if (event.update) { this.updateBill(); this.invoice.id_delivery = (event.id_delivery) }\r\n  }\r\n\r\n\r\n  barcode: string = ''\r\n  barcode_array = [];\r\n  @HostListener(\"window: keypress\", [\"$event\"])\r\n  /**\r\n   * Sự kiện nhận barcode\r\n   */\r\n  getKeyUp(_event: KeyboardEvent) {\r\n    if (this.router.url === \"/sales/sales-pos\" && !this.showModalOtherDiscount && !this.isVisibleEditUnitPrice) {\r\n      // if (!this.showSearchBar && !this.showPayInfo) {\r\n      if (_event.key == \"Enter\") {\r\n        this.barcode_array.forEach((i, index) => {\r\n          if (i == \"Shift\") {\r\n            this.barcode_array[index + 1] = this.barcode_array[\r\n              index + 1\r\n            ].toUpperCase();\r\n            this.barcode_array.splice(index, 1);\r\n          }\r\n        });\r\n        // this.scanBarcode(this.barcode_array.join(\"\"));\r\n        this.barcode = this.barcode_array.join(\"\");\r\n        setTimeout(() => {\r\n\r\n\r\n          if (this.barcode) {\r\n            let detailproduct = this.vhQuerySales.getlocalDetailProduct_byBarcode(this.barcode);\r\n            if (detailproduct) {\r\n              this.closeSearchProductList({ ...detailproduct, ...this.vhQuerySales.getUnit_byRatio(detailproduct.units, detailproduct.ratio) });\r\n            }\r\n            else {\r\n              this.quantity?.nativeElement.blur();\r\n              if (this.barcode.length > 3) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"Not found\"))\r\n            }\r\n          } else\r\n            this.quantity?.nativeElement.blur();\r\n          this.barcode_array = [];\r\n        }, 100);\r\n\r\n      } else {\r\n        this.barcode_array.push(_event.key);\r\n      }\r\n      // }\r\n    }\r\n  }\r\n\r\n  isGotPromotion = false;\r\n  showProductGift = false;\r\n  product_gift_type7: any = [];\r\n  showProductGiftType7 = false;\r\n  gotten_gift_type7 = false;\r\n  bill_details_pmtype_7: any = [];\r\n  /**\r\n   * bắt sk nhấn nút ok chọn quà của promotion type = 7, gán các sp được chọn trong CTKM vào bill_detail\r\n   * @example this.handleAddGiftType7()\r\n   */\r\n  handleAddGiftType7() {\r\n    this.showProductGiftType7 = false;\r\n    if (!this.gotten_gift_type7)\r\n      for (let i in this.product_gift_type7) {\r\n        // this.product_gift_type7[i].products_gift = this.product_gift_type7[i].products_gift.filter(item => item.choose).map(e => { return { ...e } })\r\n        if (this.product_gift_type7[i].products_gift.length) this.invoice_detail.push(this.product_gift_type7[i])\r\n      }\r\n\r\n    this.gotten_gift_type7 = true;\r\n    this.setSubTotal();\r\n  }\r\n  /**\r\n   * hàm lấy quà\r\n   */\r\n  getPromotions() {\r\n    this.gotten_gift_type7 = false;\r\n    this.vhComponent.showLoading('')\r\n      .then(() => {\r\n        /** Chứa các bill_detail có ptype = 6 */\r\n        let bill_details_type_6;\r\n        /** Chứa các bill_detail có ptype != 6 */\r\n        let bill_details_others;\r\n        // Nếu có Dịch vụ thời gian thì tách bill_detail có ptype = 6 ra để xử lý riêng, sau khi get xong thì thêm vô lại\r\n        if(this.productService.isContainServiceTime(this.invoice_detail)) {\r\n          bill_details_type_6 = this.invoice_detail.filter((item) => item.ptype === VhType.SERVICETIME);\r\n          bill_details_others = this.invoice_detail.filter((item) => item.ptype !== VhType.SERVICETIME);\r\n          this.invoice_detail = bill_details_others;\r\n        }\r\n        this.vhQuerySales.changeBillDetails_withPromotions(this.invoice_detail, this.invoice.date).then((bill_details_display: any) => {\r\n          // Nếu có Dịch vụ thời gian thì thêm bill_detail có ptype = 6 vào lại\r\n          if(bill_details_type_6) {\r\n            bill_details_display.bill_details_pmtype_0to6 = [\r\n              ...bill_details_type_6,\r\n              ...bill_details_display.bill_details_pmtype_0to6,\r\n            ];\r\n          }\r\n          this.handleChooseLotForPromotion(bill_details_display.bill_details_pmtype_0to6)\r\n          this.handleChooseLotForPromotion(bill_details_display.bill_details_pmtype_7)\r\n\r\n          this.bill_details_pmtype_7 = this.vhAlgorithm.sortNumberbyASC([...bill_details_display.bill_details_pmtype_7], 'total_bill_value')\r\n          this.isGotPromotion = true;\r\n          this.vhComponent.hideLoading(0)\r\n          this.invoice_detail = [...bill_details_display.bill_details_pmtype_0to6,]\r\n          this.getEarningpointPromotion();\r\n\r\n          this.handlePromotionType7(this.bill_details_pmtype_7)\r\n\r\n        }, error => {\r\n          this.vhComponent.hideLoading(0).then(() => {\r\n            this.vhComponent.showToast(5000, error, \"alert-toast\")\r\n          })\r\n        })\r\n      })\r\n  }\r\n  /**\r\n   * xử lý chọn lô tự động cho sản phẩm chọn trong khuyến mãi\r\n   * @param promotion array product promotion\r\n   * @example this.handleChooseLotForPromotion([])\r\n   */\r\n  handleChooseLotForPromotion(promotion) {\r\n    for (let i of promotion) {\r\n      if (i.products_gift) {\r\n        for (let product of i.products_gift) {\r\n          if (product.lots && product.lots.length) {\r\n            let min_date_exp = this.vhAlgorithm.sortDatebyASC(product.lots, 'date_exp')\r\n            product['id_lotproduct'] = min_date_exp[0]._id;\r\n            product['lot_number'] = min_date_exp[0].lot_number;\r\n          }\r\n          if (product.combos) {\r\n            product.combos.forEach(element => {\r\n              if (element.lots && element.lots.length) {\r\n                let min_date_exp = this.vhAlgorithm.sortDatebyASC(element.lots, 'date_exp')\r\n                element['id_lotproduct'] = min_date_exp[0]._id;\r\n                element['lot_number'] = min_date_exp[0].lot_number;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * xử lý dữ liệu sản phẩm sau khi lấy quả của prmotion_type = 7\r\n   * @param bill_details_pmtype_7\r\n   */\r\n  handlePromotionType7(bill_details_pmtype_7) {\r\n    if (bill_details_pmtype_7.length && bill_details_pmtype_7.findLastIndex(e => e.total_bill_value <= this.getTotalATax()) != -1)\r\n      this.product_gift_type7 = [bill_details_pmtype_7[bill_details_pmtype_7.findLastIndex(e => e.total_bill_value <= this.getTotalATax())]]\r\n    else this.product_gift_type7 = []\r\n  }\r\n\r\n  /**\r\n   * hàm này để get SubTotal mới của mảng đã lấy quà\r\n   * đồng thời gán điểm tích lũy sản phẩm mới của các sản phẩm trong khuyến mãi nếu có\r\n   */\r\n  getEarningpointPromotion() {\r\n    for (let i of this.invoice_detail) {\r\n      if (i.products_gift) {\r\n        for (let product of i.products_gift) product.earning_points_product = this.getTotalEarningPointProduct(i, true)\r\n      }\r\n      if (i.products) {\r\n        for (let product of i.products) product.earning_points_product = this.getTotalEarningPointProduct(i, true)\r\n      }\r\n      if (!i.id_promotion) i.earning_points_product = this.getTotalEarningPointProduct(i, null)\r\n    }\r\n    this.setSubTotal()\r\n  }\r\n\r\n  /**\r\n   * hàm này để kiểm tra disable sản phẩm tặng hay ko\r\n   * @param data phần tử trong mảng đã lấy quà\r\n   * @returns\r\n   */\r\n  checkDisableChooseProductGift(data) {\r\n    if (data.products_gift.filter(item => item.choose).length == data.promotions_maximum) return true;\r\n    else return false\r\n  }\r\n\r\n\r\n  show_modal_select_lots = false;\r\n  list_search_lot = [];\r\n\r\n  /**\r\n   * trả về tên lô theo id_lot được chọn\r\n   * @param lots\r\n   * @param _id\r\n   * @returns string\r\n   * @example this.getLotNumber([], 'DJWOIDHIEUGHWDSJDNWIHD')\r\n   */\r\n  getLotNumber(lots, _id) {\r\n    let lot = lots.find(item => item._id == _id);\r\n    return lot.lot_number\r\n  }\r\n  /**\r\n   * lọc danh sách lô của sp theo số lô (lot_number)\r\n   * @param value\r\n   */\r\n  searchLot(value) {\r\n    this.tempDetail.lots = this.vhAlgorithm.searchList(this.vhAlgorithm.changeAlias(value), this.list_search_lot, ['lot_number'])\r\n  }\r\n  /**\r\n   * mở modal chọn lô cho sp\r\n   * @param data\r\n   * @example this.openModalChooseLot(bill_detail_selected)\r\n   */\r\n  openModalChooseLot(data) {\r\n    this.tempDetail = data\r\n    this.list_search_lot = this.tempDetail.lots\r\n    if (!this.list_search_lot.length) this.vhComponent.alertMessageDesktop(\"error\", this.languageService.translate(\"This product has no available lots for sale\"))\r\n    else this.show_modal_select_lots = true;\r\n  }\r\n\r\n  /**\r\n   * bắt sk thay đổi id_lotnumber của bill-detail\r\n   * @param e id_lotnumber thay đổi\r\n   * @example this.changeLot('DNIUHWIDCHBIQOHSDOIHW')\r\n   */\r\n  changeLot(e) {\r\n    this.tempDetail.lot_number = this.tempDetail.lots.find(item => item._id == e).lot_number\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút ok của modal chọn lô sp\r\n   * @example this.handleChooseLot()\r\n   */\r\n  handleChooseLot() {\r\n    if (this.warning_lot_expried) {\r\n      let lot_select = this.list_search_lot.find(e => e._id == this.tempDetail.id_lotproduct)\r\n      if (new Date().getTime() >= new Date(lot_select.date_exp).getTime()) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate(\"This lot has expired! Continue selling this product\"),\r\n          nzOnOk: () => {\r\n            this.show_modal_select_lots = false;\r\n            this.tempDetail.lots = this.list_search_lot;\r\n            if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n          },\r\n          nzOnCancel: () => {\r\n            // this.show_modal_select_lots = false;\r\n            // this.tempDetail.lots = this.list_search_lot;\r\n          }\r\n\r\n        })\r\n      }\r\n      else {\r\n        this.show_modal_select_lots = false;\r\n        this.tempDetail.lots = this.list_search_lot;\r\n        if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n      }\r\n    }\r\n    else {\r\n      this.show_modal_select_lots = false;\r\n      this.tempDetail.lots = this.list_search_lot;\r\n      if (!this.tempDetail.id_product) this.closeSearchProductList(this.tempDetail);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * bắt sk nhấn nút hủy modal chọn lô sp\r\n   * @example this.handleCancelChooseLot()\r\n   */\r\n  handleCancelChooseLot() {\r\n    this.show_modal_select_lots = false;\r\n    this.tempDetail.lots = this.list_search_lot\r\n  }\r\n\r\n  show_modal_select_lots_combo = false\r\n  /**\r\n   * bắt sk nhấn nút ok của modal chọn lô cho combo\r\n   * @example this.handleChooseLotCombo()\r\n   */\r\n  handleChooseLotCombo() {\r\n    if (this.tempDetail.combos.filter(item => item.lots && !item.id_lotproduct).length)\r\n      this.vhComponent.alertMessageDesktop(\"warning\", this.languageService.translate(\"Please select a lot for the products in this combo\"))\r\n    else {\r\n      this.show_modal_select_lots_combo = false;\r\n      this.closeSearchProductList(this.tempDetail)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * xóa các coupon đã get trong local và payment_coupons trong bill\r\n   */\r\n  resetDiscountCoupon() {\r\n    this.invoice.payment_coupons = 0\r\n    this.setTotal()\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về tổng tiền\r\n   * @returns number\r\n   * @example let total = this.getTotalATax()\r\n   */\r\n  getTotalATax(): number {\r\n    return this.invoice.total + this.taxValue\r\n  }\r\n\r\n  /**\r\n   * xóa 1 bill_detail trong local\r\n   * @param id id_bill_detail selected\r\n   * @param notSetSub\r\n   */\r\n  removeInvoiceDetail(id: string, notSetSub?: boolean) {\r\n    let index = this.invoice_detail.findIndex(detail => detail['id_product'] == id)\r\n    if (index != -1) {\r\n      this.invoice_detail.splice(index, 1);\r\n      if (!notSetSub) this.setSubTotal()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * tính lại cộng tiền của bill khi có sự thay đổi (thêm xóa sửa bill_detail, đổi giá bán, khuyến mãi, phí ,thuế ,...)\r\n   * @example this.setSubTotal()\r\n   */\r\n  setSubTotal() {\r\n    let subTotal = 0;\r\n    for (let i of this.invoice_detail) {\r\n      let total_product_gift = 0;\r\n      let total_products = 0;\r\n      if (i.products_gift) {\r\n        total_product_gift = i.products_gift.filter(item => item.choose).reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n\r\n      }\r\n      else if (i.products) {\r\n\r\n        total_products = i.products.reduce((prev: number, next) => prev + next.quantity * next.price, 0)\r\n      }\r\n      subTotal += total_products + total_product_gift + (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n    this.editPercentDiscount(this.percent_discount_bill)\r\n\r\n  }\r\n\r\n  /**\r\n   * tính lại tổng tiền của bill để lưu trường total\r\n   * @example this.setTotal();\r\n   */\r\n  setTotal() {\r\n    this.invoice.total = this.subTotal - this.invoice.discount - this.invoice.discount_bill - (this.invoice.payment_coupons + this.invoice.payment_points) + this.invoice.fee > 0 ? this.subTotal - this.invoice.discount - this.invoice.discount_bill - (this.invoice.payment_coupons + this.invoice.payment_points) + this.invoice.fee : 0\r\n    this.setTaxValue()\r\n    if (this.plaform && this.plaform.is('electron')) {\r\n      // this.vhDisplayLEDService.refreshLocalDisplayLEDs()\r\n      //     .then(() => {\r\n\r\n\r\n      this.vhQuerySales.writeBill_BillDetails_toDisplayLEDScreens(\r\n        this.invoice, this.invoice_detail\r\n      )\r\n      // })\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * tính giá trị thuế ra tiền\r\n   * @example this.setTaxValue()\r\n   */\r\n  setTaxValue() {\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100)\r\n    this.setPayment()\r\n  }\r\n  /**\r\n   * tính lại thanh toán để lưu trường payment của bill\r\n   * @param value : giá trị thanh toán tự nhập nếu có (trường hợp nợ lại 1 phần)\r\n   * @example this.setPayment()\r\n   */\r\n  setPayment(value?: number) {\r\n\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0\r\n    } else {\r\n      if (value != null)\r\n        this.invoice.payment = value\r\n      else\r\n        this.invoice.payment = this.invoice.total + this.taxValue\r\n    }\r\n    this.setCash(this.invoice.cash);\r\n  }\r\n\r\n  /**\r\n   * cập nhật lại tiền khách đưa để lưu trường cash trong bill\r\n   * @param value\r\n   * @example this.setCash(100000)\r\n   */\r\n  setCash(value) {\r\n    if (this.invoice.payment_type == 2) this.invoice.cash = 0\r\n    else {\r\n      if (value) this.invoice.cash = parseFloat(value);\r\n      else this.invoice.cash = 0\r\n    }\r\n    if (this.is_discount_bill) {\r\n      this.discount_bill = this.invoice.discount_bill = this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer) ? this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer).discount : 0;\r\n    } else {\r\n      this.discount_bill = this.invoice.discount_bill = 0;\r\n    }\r\n\r\n    this.updateBill()\r\n  }\r\n  /**\r\n   * clear dữ liệu bill để lưu BD\r\n   * @param bill_type\r\n   * @returns\r\n   */\r\n  getCreateUpdateInvoicePosInterface(bill_type: 1 | 4 | 5 | 36 | null = null) {\r\n    if (bill_type) this.invoice.bill_type = (bill_type)\r\n    return {\r\n      payment_type: this.invoice.payment_type,\r\n      date: this.invoice.date,\r\n      id_customer: this.invoice.id_customer,\r\n      tax_buyerDisplayName: this.invoice?.tax_buyerDisplayName || '',\r\n      tax_buyerLegalName: this.invoice?.tax_buyerLegalName || '',\r\n      tax_buyerTaxCode: this.invoice?.tax_buyerTaxCode || '',\r\n      tax_buyerAddressLine: this.invoice?.tax_buyerAddressLine || '',\r\n      tax_buyerEmail: this.invoice?.tax_buyerEmail || '',\r\n      id_delivery: this.invoice.id_delivery,\r\n      id_branch: this.invoice.id_branch,\r\n      id_employee: this.invoice.id_employee,\r\n      id_wallet: this.invoice.id_wallet,\r\n      total: this.invoice.total,\r\n      payment: this.invoice.payment,\r\n      tax: this.invoice.tax,\r\n      discount: this.invoice.discount,\r\n      fee: this.invoice.fee,\r\n      bill_type: this.invoice.bill_type,\r\n      note: this.invoice.note,\r\n      cash: this.invoice.cash,\r\n      price_type: this.invoice.price_type,\r\n      _id: this.invoice._id,\r\n      discount_bill: this.invoice.discount_bill,\r\n      payment_points: this.invoice.payment_points,\r\n      use_points: this.invoice.use_points,\r\n      payment_coupons: this.invoice.payment_coupons,\r\n      earning_points_bill: this.invoice.earning_points_bill,\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * trả về dữ liệu thông tin bill_detail clean để lưu DB\r\n   * @returns array[object]\r\n   *  @example let bill_details = this.getCreateUpdateInvoiceDetail()\r\n   */\r\n  getCreateUpdateInvoiceDetail(): VhSaleInvoiceDetailEdit[] {\r\n    return this.invoice_detail.map(item => {\r\n      if (!item.pmtype) {\r\n        let detail: VhSaleInvoiceDetailEdit = {\r\n          id_product: item.id_product,\r\n          ptype: item.ptype,\r\n          price: item.price,\r\n          price_origin: item.price_origin,\r\n          quantity: item.quantity,\r\n          earning_points_product: item.earning_points_product,\r\n          ratio: item.ratio,\r\n          note: item.note,\r\n          time_start_order: item.time_start_order,\r\n          time_end_order: item.time_end_order,\r\n          is_paused: item.is_paused,\r\n        }\r\n        if (item._id) detail['_id'] = item._id\r\n        if (item.id_lotproduct) detail['id_lotproduct'] = item.id_lotproduct\r\n        if (item.id_subproduct) detail['id_subproduct'] = item.id_subproduct\r\n\r\n        if (item.ptype == 5) {\r\n          detail['combos'] = item.combos.map(combo => {\r\n            let product: VhSaleDesktopInvoiceDetailCombo = {\r\n              id_product: combo.id_product,\r\n              price: combo.price,\r\n              quantity: combo.quantity,\r\n              ptype: combo.ptype,\r\n              ratio: combo.ratio ? combo.ratio : 1,\r\n            }\r\n            if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n            if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n            return product;\r\n          })\r\n        }\r\n        return detail\r\n      }\r\n      else {\r\n        let detail: any = {\r\n          id_promotion: item.id_promotion,\r\n          pmtype: item.pmtype,\r\n        }\r\n        if (item._id) detail['_id'] = item._id\r\n        if (item.products_gift) {\r\n          if (item.products_gift.filter(ele => ele.choose).length) {\r\n            detail['products_gift'] = item.products_gift.filter(ele => ele.choose).map(e => {\r\n              let prod = {\r\n                id_product: e.id_product,\r\n                price: e.price,\r\n                price_origin: e.price_origin,\r\n                quantity: e.quantity,\r\n                ptype: e.ptype,\r\n                earning_points_product: e.earning_points_product,\r\n                ratio: e.ratio\r\n              }\r\n              if (e.ptype == 5) {\r\n                prod['combos'] = e.combos.map(combo => {\r\n                  let product: VhSaleDesktopInvoiceDetailCombo = {\r\n                    id_product: combo.id_product,\r\n                    price: combo.price,\r\n                    quantity: combo.quantity,\r\n                    ptype: combo.ptype,\r\n                    ratio: combo.ratio ? combo.ratio : 1,\r\n                  }\r\n                  if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n                  if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n                  return product;\r\n                })\r\n              }\r\n              if (e.id_lotproduct) prod['id_lotproduct'] = e.id_lotproduct\r\n              if (e.id_subproduct) prod['id_subproduct'] = e.id_subproduct\r\n              return prod\r\n            })\r\n            return detail\r\n          }\r\n        }\r\n        else {\r\n          detail['products'] = item.products.map(e => {\r\n            let prod = {\r\n              id_product: e.id_product,\r\n              price: e.price,\r\n              price_origin: e.price_origin,\r\n              quantity: e.quantity,\r\n              ptype: e.ptype,\r\n              earning_points_product: e.earning_points_product,\r\n              ratio: e.ratio,\r\n              note: item.note,\r\n            }\r\n            if (e.ptype == 5) {\r\n              prod['combos'] = e.combos.map(combo => {\r\n                let product: VhSaleDesktopInvoiceDetailCombo = {\r\n                  id_product: combo.id_product,\r\n                  price: combo.price,\r\n                  quantity: combo.quantity,\r\n                  ptype: combo.ptype,\r\n                  ratio: combo.ratio ? combo.ratio : 1,\r\n                }\r\n                if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n                if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n                return product;\r\n              })\r\n            }\r\n            if (e.id_lotproduct) prod['id_lotproduct'] = e.id_lotproduct\r\n            if (e.id_subproduct) prod['id_subproduct'] = e.id_subproduct\r\n            return prod\r\n          })\r\n          return detail\r\n        }\r\n\r\n      }\r\n    }).filter(item => item)\r\n\r\n  }\r\n\r\n  /**\r\n   * thêm sản phẩm được chọn từ drawer search-product\r\n   * @param value\r\n   * @example this.addInvoiceDetail(product_selected)\r\n   */\r\n  addInvoiceDetail(value: any) {\r\n    // if (this.enable_quantity_export_exceed_quantity_stock && this.checkWarningStock(value)) {\r\n    //   this.nzModalService.confirm({\r\n    //     nzTitle: this.languageService.translate(\"Số lượng bán vượt quá số lượng tồn kho\"),\r\n    //   });\r\n    //   return\r\n    // }\r\n    if (value['id_subproduct']) {\r\n      if (value.lot_number) {\r\n        let index = this.invoice_detail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n        if (index != -1) {\r\n          if (this.invoice_detail[index]['quantity'] < 9999999999) this.invoice_detail[index]['quantity'] += 1\r\n          this.updateBill_Detail(this.invoice_detail[index]._id, this.getCleanBillDetail(this.invoice_detail[index]))\r\n          this.setSubTotal()\r\n        } else {\r\n          this.addBill_Detail(value)\r\n        }\r\n      }\r\n      else {\r\n        let index = this.invoice_detail.findIndex(detail => detail['id_subproduct'] == value['id_subproduct'] && detail['ratio'] == value['ratio'])\r\n        if (index != -1) {\r\n          if (this.invoice_detail[index]['quantity'] < 9999999999) this.invoice_detail[index]['quantity'] += 1\r\n          this.updateBill_Detail(this.invoice_detail[index]._id, this.getCleanBillDetail(this.invoice_detail[index]))\r\n          this.setSubTotal()\r\n        } else {\r\n          this.addBill_Detail(value)\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      if (value.lot_number) {\r\n        let index = this.invoice_detail.findIndex(detail => detail['lot_number'] == value['lot_number'] && detail['id_lotproduct'] == value['id_lotproduct'])\r\n        if (index != -1) {\r\n          if (this.invoice_detail[index]['quantity'] < 9999999999) this.invoice_detail[index]['quantity'] += 1\r\n          this.updateBill_Detail(this.invoice_detail[index]._id, this.getCleanBillDetail(this.invoice_detail[index]))\r\n          this.setSubTotal()\r\n        } else {\r\n          this.addBill_Detail(value)\r\n        }\r\n      }\r\n      else {\r\n        let index = this.invoice_detail.findIndex(detail => detail['id_product'] == value['_id'] && detail['ratio'] == value['ratio'])\r\n        if (index != -1 && value.type !== VhType.SERVICETIME) {\r\n          if (this.invoice_detail[index]['quantity'] < 9999999999) this.invoice_detail[index]['quantity'] += 1\r\n          this.updateBill_Detail(this.invoice_detail[index]._id, this.getCleanBillDetail(this.invoice_detail[index]))\r\n          this.setSubTotal()\r\n        } else {\r\n          this.addBill_Detail(value)\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * xử lý các trường của sp được chọn và thêm vào mảng local\r\n   * @param value\r\n   * @param new_price\r\n   * @example  this.addBill_Detail(product_selected)\r\n   */\r\n  addBill_Detail(value: any, new_price?: number) {\r\n    let detail: any = {\r\n      name: value.name,\r\n      id_product: value._id,\r\n      quantity: 1,\r\n      ptype: value.type,\r\n      unit: value.unit,\r\n      units: value.units ? value.units : [],\r\n      ratio: value.ratio ? value.ratio : 1,\r\n      price: new_price != null ? new_price : value.price,\r\n      price2: value.price2,\r\n      price_origin: value.price,\r\n      earning_points_product: value.earning_points_product ? value.earning_points_product : 0,\r\n      percent_discount_product: 0,\r\n      id_bill: this.invoice._id,\r\n      time_start_order: new Date().toISOString(),\r\n    }\r\n\r\n    if (value.type == 5) {\r\n      detail['cbtype'] = 5;\r\n      detail['combos'] = [...value.combos.map(item => {\r\n        let product: VhSaleDesktopInvoiceDetailCombo = {\r\n          id_product: item.id_product,\r\n          name: item.name,\r\n          ptype: item.type,\r\n          price: item.price,\r\n          quantity: item.quantity,\r\n          unit: item.unit,\r\n          units: item.units,\r\n          ratio: item.ratio ? item.ratio : 1,\r\n          lots: item.lots ? item.lots : [],\r\n          id_lotproduct: item.id_lotproduct,\r\n\r\n        }\r\n        if (item.lots) product['lots'] = item.lots;\r\n        if (item.id_lotproduct) product['id_lotproduct'] = item.id_lotproduct;\r\n        if (item.id_subproduct) product['id_subproduct'] = item.id_subproduct;\r\n        return product;\r\n      })]\r\n    }\r\n    if (value.lot_number) detail['lot_number'] = value.lot_number;\r\n    if (value.lots) detail['lots'] = value.lots;\r\n    if (value.id_lotproduct) detail['id_lotproduct'] = value.id_lotproduct;\r\n    if (value.id_subproduct) detail['id_subproduct'] = value.id_subproduct;\r\n\r\n    this.invoice_detail.unshift(detail)\r\n    this.vhQuerySales.createBill_Detail(detail)\r\n      .then((vhbill_detail) => {\r\n        this.invoice_detail[0]._id = vhbill_detail._id\r\n        this.setSubTotal()\r\n      }, error => {\r\n\r\n      }).catch(e => { }\r\n      )\r\n\r\n\r\n    if (this.auto_active_quantity_input) {\r\n      setTimeout(() => {\r\n        this.quantity?.nativeElement?.focus();\r\n        this.quantity?.nativeElement?.select();\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  auto_active_quantity_input: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').auto_active_quantity_input;\r\n  @ViewChild('quantity') quantity: ElementRef;\r\n  /**\r\n   * trả về dữ liệu chuẩn của bill_detail để lưu DB\r\n   * @param item\r\n   * @returns object\r\n   * @example let bill_detail = this.getCleanBillDetail({object product})\r\n   */\r\n  getCleanBillDetail(item) {\r\n    let detail: VhSaleInvoiceDetailAdd = {\r\n      id_product: item.id_product,\r\n      ptype: item.ptype,\r\n      price: item.price,\r\n      price_origin: item.price_origin,\r\n      quantity: item.quantity,\r\n      earning_points_product: item.earning_points_product,\r\n      ratio: item.ratio,\r\n    }\r\n    if (item.id_lotproduct) detail['id_lotproduct'] = item.id_lotproduct\r\n    if (item.id_subproduct) detail['id_subproduct'] = item.id_subproduct\r\n\r\n    if (item.ptype == 5) {\r\n      detail['combos'] = item.combos.map(combo => {\r\n        let product: VhSaleDesktopInvoiceDetailCombo = {\r\n          id_product: combo.id_product,\r\n          price: combo.price,\r\n          quantity: combo.quantity,\r\n          ptype: combo.ptype,\r\n          ratio: combo.ratio ? combo.ratio : 1,\r\n        }\r\n        if (combo.id_lotproduct) product['id_lotproduct'] = combo.id_lotproduct\r\n        if (combo.id_subproduct) product['id_subproduct'] = combo.id_subproduct\r\n        return product;\r\n      })\r\n    }\r\n    return detail\r\n  }\r\n  /**\r\n   * trả về tổng số lượng sp đang chọn bán\r\n   * @returns number\r\n   */\r\n  getNumbersProduct() {\r\n    return this.invoice_detail.reduce((sum: number, next) => sum + next.quantity, 0)\r\n  }\r\n\r\n\r\n\r\n  /** Cập nhật ghi chú sẢn phẩm\r\n   * @param item: thông tin bill detail cần cập nhật\r\n   */\r\n  updateNote(item) {\r\n    this.vhQuerySales.updateBill_Detail(item._id, { note: item.note });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  /* -------------------------------------------------------------------------------------------------------------------------------------- */\r\n  /*                                                            DỊCH VỤ THỜI GIAN                                                           */\r\n  /* -------------------------------------------------------------------------------------------------------------------------------------- */\r\n\r\n\r\n  /** Thời gian mở bill, dùng để tính thời gian cho Dịch vụ thời gian */\r\n  endTime: Date = new Date();\r\n  /** Biến tạm lưu dịch vụ thời gian đang được chọn */\r\n  selectedServiceTime: any;\r\n  /** Có hiện modal Chỉnh sửa Dịch vụ thời gian hay không */\r\n  isShowModalEditServiceTime: boolean = false;\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal chỉnh sửa Dịch vụ thời gian\r\n   */\r\n  editServiceTime(item) {\r\n    this.selectedServiceTime = item;\r\n    // Nếu là Dịch vụ thời gian\r\n    this.productService.updateServiceTimePrice(this.selectedServiceTime, this.default_price_type);\r\n    if(!this.selectedServiceTime.is_paused) {\r\n      this.updateBillCalculations();\r\n    }\r\n    this.isShowModalEditServiceTime = true;\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi đóng modal chỉnh sửa Dịch vụ thời gian\r\n   */\r\n  saveServiceTime() {\r\n    if(this.selectedServiceTime.ptype === VhType.SERVICETIME) {\r\n      if (!this.selectedServiceTime.is_paused) {\r\n        this.selectedServiceTime.time_end_order = new Date();\r\n      }\r\n      const serviceTimePrice: any = this.productService.calculateServiceTimePrice(this.selectedServiceTime, this.endTime, this.default_price_type);\r\n      this.selectedServiceTime.price = serviceTimePrice.total_price;\r\n      this.selectedServiceTime.price_origin = serviceTimePrice.total_price;\r\n      delete this.selectedServiceTime.serviceTimePrice;\r\n    }\r\n\r\n    this.selectedServiceTime.price = parseFloat(this.selectedServiceTime.price)\r\n    this.isShowModalEditServiceTime = false;\r\n\r\n    let index: number = this.invoice_detail.findIndex(item => item._id == this.selectedServiceTime._id);\r\n    this.invoice_detail[index] = { ...this.selectedServiceTime }\r\n    this.updateBillCalculations();\r\n    this.vhQuerySales.updateBill_Detail(this.selectedServiceTime._id, { quantity: this.selectedServiceTime.quantity, price: this.selectedServiceTime.price, ratio: this.selectedServiceTime.ratio }).then((res) => {\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * Tính lại tất cả thông số ở Bill.\r\n   *\r\n   * Tính lại subTotal, chiết khấu, discount, discount_bill, payment_points, payment_coupons, fee, tax, Điểm tích lũy cộng thêm\r\n   */\r\n  updateBillCalculations() {\r\n    // subTotal\r\n    let subTotal = 0;\r\n    for (let i of this.invoice_detail) {\r\n      let total_product_gift = 0;\r\n      let total_products = 0;\r\n      if (i.products_gift) {\r\n        total_product_gift = i.products_gift.filter(item => item.choose).reduce((prev: number, next) => prev + next.quantity * next.price, 0);\r\n      }\r\n      else if (i.products) {\r\n        total_products = i.products.reduce((prev: number, next) => prev + next.quantity * next.price, 0);\r\n      }\r\n      subTotal += total_products + total_product_gift + (i.price ? i.price * i.quantity : 0);\r\n    }\r\n    this.subTotal = subTotal;\r\n\r\n    // chiết khấu\r\n    if (this.is_discount_bill) {\r\n      this.discount_bill = this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer) ? this.vhQuerySales.getDiscount_bill_byCustomer(this.subTotal, this.invoice.id_customer).discount : 0;\r\n      this.invoice.discount_bill = this.discount_bill;\r\n    }\r\n    else {\r\n      this.invoice.discount_bill = 0;\r\n    }\r\n\r\n    // total\r\n    this.invoice.total = Math.max(0, this.subTotal - this.invoice.discount - this.invoice.discount_bill - (this.invoice.payment_coupons + this.invoice.payment_points) + this.invoice.fee);\r\n\r\n    // tax\r\n    this.taxValue = this.invoice.total * (this.invoice.tax / 100);\r\n\r\n    // payment\r\n    if (this.invoice.payment_type == 2) {\r\n      this.invoice.payment = 0;\r\n    }\r\n    else {\r\n      this.invoice.payment = this.invoice.total + this.taxValue;\r\n    }\r\n\r\n    // cash\r\n    if (this.invoice.payment_type == 2) this.invoice.cash = 0;\r\n    else this.invoice.cash = 0;\r\n\r\n    // earning_point\r\n    this.getTotalEarningPoint();\r\n\r\n    if (this.plaform && this.plaform.is('electron')) {\r\n      this.vhQuerySales.writeBill_BillDetails_toDisplayLEDScreens(this.invoice, this.invoice_detail);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Tính lại bill detail cho Dịch vụ thời gian và setSubTotal() cho invoices\r\n   */\r\n  updateServiceTime() {\r\n    if(!this.productService.isContainServiceTime(this.invoice_detail)) return;\r\n    this.productService.updateServiceTimePriceInvoiceDetail(this.invoice_detail, this.default_price_type);\r\n    this.updateBillCalculations();\r\n  }\r\n\r\n\r\n\r\n  /* -------------------------------------------------- MODAL CHỈNH SỬA THỜI GIAN SỬ DỤNG ------------------------------------------------- */\r\n\r\n  /** Có hiện modal Chỉnh sửa thời gian sử dụng hay không */\r\n  isShowModalEditUsedTime: boolean = false;\r\n  /** Biến tạm lưu thời gian bắt đầu (time_start_order) */\r\n  tempStartTime: any;\r\n  /** Biến tạm lưu thời gian kết thúc (time_end_order) */\r\n  tempEndTime: any;\r\n\r\n\r\n\r\n\r\n  /**\r\n   * Mở modal Chỉnh sửa thời gian sử dụng\r\n   */\r\n  handleOpenEditUsedTime() {\r\n    this.tempStartTime = this.selectedServiceTime.time_start_order;\r\n    if (!(this.tempStartTime instanceof Date)) {\r\n      this.tempStartTime = new Date(this.tempStartTime);\r\n    }\r\n    if(this.selectedServiceTime.is_paused) {\r\n      this.tempEndTime = this.selectedServiceTime.time_end_order;\r\n      if (!(this.tempEndTime instanceof Date)) {\r\n        this.tempEndTime = new Date(this.tempEndTime);\r\n      }\r\n    }\r\n    else {\r\n      this.tempEndTime = null;\r\n    }\r\n    this.isShowModalEditUsedTime = true;\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Khi nhấn ok trong modal Chỉnh sửa thời gian sử dụng\r\n   */\r\n  handleUpdateUsedTime() {\r\n    // validate start time<= now; end time > start time\r\n    if (this.tempStartTime > new Date()) {\r\n      this.vhComponent.alertMessageDesktop('error', this.languageService.translate('The start time must be less than or equal to the current time.'));\r\n      return;\r\n    }\r\n    if (this.tempEndTime && this.tempEndTime <= this.tempStartTime) {\r\n      this.vhComponent.alertMessageDesktop('error', this.languageService.translate('The end time must be greater than the start time.'));\r\n      return;\r\n    }\r\n\r\n    this.isShowModalEditUsedTime = false;\r\n\r\n    this.selectedServiceTime.time_start_order = this.tempStartTime;\r\n\r\n    const currentTime = new Date();\r\n    if(!this.tempEndTime) {\r\n      this.selectedServiceTime.is_paused = false;\r\n    }\r\n    else {\r\n      // mặt hàng tính giờ sẽ dừng tính giờ ngay tại thời điểm đó\r\n      this.selectedServiceTime.is_paused = true;\r\n    }\r\n\r\n    this.selectedServiceTime.time_end_order = this.tempEndTime ?? currentTime;\r\n\r\n    this.vhQuerySales.updateBill_Detail(this.selectedServiceTime._id, {\r\n      time_start_order: this.tempStartTime,\r\n      time_end_order: this.tempEndTime ? this.selectedServiceTime.time_end_order : null,\r\n      is_paused: this.selectedServiceTime.is_paused,\r\n    });\r\n\r\n    // Tính lại giá cho dịch vụ thời gian\r\n    const serviceTimePrice: any = this.productService.calculateServiceTimePrice(this.selectedServiceTime, this.endTime, this.default_price_type);\r\n    this.selectedServiceTime.serviceTimePrice = JSON.parse(JSON.stringify(serviceTimePrice));\r\n    this.selectedServiceTime.price = serviceTimePrice.total_price;\r\n    this.selectedServiceTime.price_origin = serviceTimePrice.total_price;\r\n    this.updateBillCalculations();\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * Tạm ngưng / Tiếp tục tính giờ\r\n   *\r\n   * @param isPause true: tạm ngưng; false: tiếp tục tính giờ\r\n   */\r\n  pauseTime(isPause: boolean) {\r\n    this.selectedServiceTime.time_end_order = new Date();\r\n    this.selectedServiceTime.is_paused = isPause;\r\n\r\n    const serviceTimePrice: any = this.productService.calculateServiceTimePrice(this.selectedServiceTime, this.endTime, this.default_price_type);\r\n    this.selectedServiceTime.serviceTimePrice = JSON.parse(JSON.stringify(serviceTimePrice));\r\n    this.selectedServiceTime.price = serviceTimePrice.total_price;\r\n    this.selectedServiceTime.price_origin = serviceTimePrice.total_price;\r\n    this.updateBillCalculations();\r\n\r\n    this.vhQuerySales.updateBill_Detail(this.selectedServiceTime._id, {\r\n      time_end_order: isPause ? this.selectedServiceTime.time_end_order : undefined,\r\n      is_paused: isPause ,\r\n      price: this.selectedServiceTime.price,\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /** Sẽ in hóa đơn ay không sau khi nhấn Thanh toán và hiện modal Thông tin thanh toán */\r\n  willPrintInvoice: boolean = false;\r\n  /** Hiển thị modal Thông tin thanh toán hay không */\r\n  isShowModalPaymentInfo: boolean = false;\r\n\r\n  /**\r\n   * Mở modal Thông tin thanh toán\r\n   */\r\n  openModalPaymentInfo(print: boolean = false) {\r\n    this.updateServiceTime();\r\n    this.willPrintInvoice = print;\r\n    this.isShowModalPaymentInfo = true;\r\n  }\r\n\r\n\r\n\r\n  nzOptions: NzCascaderOption[] = [\r\n    { value: 1, label: this.languageService.translate(\"Cash\"), isLeaf: true },\r\n    { value: 2, label: this.languageService.translate(\"Debit\"), disabled: true, isLeaf: true },\r\n    { value: 3, label: this.languageService.translate(\"Account\"), children: [] }\r\n  ];\r\n  /**\r\n   * Lấy label của phương thức thanh toán\r\n   * @param value value của phương thức thanh toán cần lấy label\r\n   * @returns label của phương thức thanh toán\r\n   */\r\n  getPaymentTypeLabel(value) {\r\n    if(value[1]) {\r\n      let wallet = this.vhQuerySales.getlocalWallets().find(item => item._id == value[1]);\r\n      if(wallet) return `${this.nzOptions.filter(item => item.value == value[0])?.[0]?.label} / ${wallet.name}`;\r\n    }\r\n    else {\r\n      return this.nzOptions.filter(item => item.value == value[0])?.[0]?.label;\r\n    }\r\n  }\r\n\r\n}\r\n","<nz-layout class=\"order\">\r\n\r\n    <div class=\"order-cart hideScrollbar\" [ngClass]=\"showBestSelling ? 'show-best-selling':'hide-best-selling'\">\r\n\r\n        <!-- Số lượng sản phẩm đang thanh toán -->\r\n        <div>\r\n            {{'Number of products being paid for:' | translate}} <span><b>{{getNumbersProduct() | number:'1.0-2'}}</b></span>\r\n        </div>\r\n\r\n        <!-- Khi không có bill details nào -->\r\n        <ng-container *ngIf=\"isLoadData && invoice_detail.length == 0\">\r\n            <div style=\"width: 100%;height: 100%;display: flex;justify-content: center; align-items: center;\">\r\n                <div>\r\n                    <ion-icon style=\"font-size: 130px;\" src=\"assets/icon/pos/cart (gray).svg\"></ion-icon>\r\n                    <p>\r\n                        {{'Please select a product' | translate}}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <!-- Danh sách bill details -->\r\n        <div class=\"invoiceDetail-item hideScrollbar\" *ngIf=\"isLoadData && invoice_detail.length > 0\">\r\n\r\n            <div class=\"hideScrollbar\" style=\"overflow: auto;\">\r\n                <div style=\"margin: 16px 0; \" *ngFor=\"let item of invoice_detail,index as i\">\r\n                    <div nz-row>\r\n                        <div nz-col nzSpan=\"24\">\r\n                            <!-- CÓ Chương trình khuyến mãi -->\r\n                            <ng-container *ngIf=\"item.id_promotion; else elseTemplate\">\r\n                                <div nz-row>\r\n                                    <div nz-col nzSpan=\"1\" class=\"center-col\">\r\n                                        <button nz-popconfirm nzPopconfirmTitle=\"{{'Cancel promotion?' | translate}}\"\r\n                                            (nzOnConfirm)=\"deletePromotion()\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                            nz-button class=\"popconfirm\">\r\n                                            <i nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer; color: var(--ion-color-vh-red)\"></i>\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    <div nz-col nzSpan=\"23\">\r\n                                        <p style=\"font-weight: bold; margin-bottom: 0;\">{{item.name}}\r\n                                            <i nz-icon nzType=\"gift\" nzTheme=\"outline\" style=\"cursor: pointer;\"\r\n                                                *ngIf=\"item.pmtype == 6\" (click)=\"showProductGift = true\"></i>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <ng-container *ngIf=\"item.pmtype != 6\">\r\n                                    <div nz-row *ngFor=\"let data of item.products\">\r\n                                        <div nz-col nzSpan=\"1\" class=\"center-col\">\r\n                                        </div>\r\n                                        <div style=\"align-self: center;\" nz-col nzSpan=\"8\" class=\"center-col\">\r\n                                            <p>{{data.name}}</p>\r\n                                            <ng-container *ngIf=\"data.id_lotproduct\">\r\n                                                <pre style=\"color:var(--ion-color-vh-green); cursor: pointer;\"\r\n                                                    (click)=\"openModalChooseLot(data)\">{{getLotNumber(data.lots, data.id_lotproduct)}}</pre>\r\n                                            </ng-container>\r\n                                            <p *ngIf=\"data.combos\">\r\n                                                <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' + combo.name +\r\n                                                    ' (' + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x '\r\n                                                    + combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                                                </span>\r\n                                            </p>\r\n                                            <!-- Ghi chú -->\r\n                                            <div *ngIf=\"vhAuth.localStorageGET('show_note_for_each_product')\">\r\n                                              <input nz-input nzBorderless class=\"bill-detail-note\"\r\n                                                [placeholder]=\"'Note' | translate\"\r\n                                                [(ngModel)]=\"data.note\"\r\n                                                (blur)=\"updateNote(data)\" />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div nz-col nzSpan=\"3\" style=\"align-self: center;\">\r\n                                            {{getUnit(data.units,data.ratio)}}\r\n                                        </div>\r\n                                        <div class=\"align-center text-align-center \" nz-col nzSpan=\"4\">\r\n                                            <div>x{{data.quantity}}</div>\r\n                                        </div>\r\n                                        <div class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\"\r\n                                            (click)=\"openEditUnitPrice(item)\">\r\n                                            <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                            <del style=\"margin-left:5px; font-size: 0.8rem;\"\r\n                                                *ngIf=\"display_promotion_selling_price\">\r\n                                                {{data.price_origin > data.price ?\r\n                                                vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                            </del>\r\n                                        </div>\r\n                                        <div nz-col nzSpan=\"4\" class=\"money-sub\">\r\n                                            <p class=\"max-width-two-line\">\r\n                                                <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                            </p>\r\n                                        </div>\r\n                                        <!-- <div nz-col nzSpan=\"2\" class=\"right-div\">\r\n\r\n                                        </div> -->\r\n                                    </div>\r\n                                </ng-container>\r\n                                <div nz-row *ngFor=\"let data of item.products_gift\">\r\n                                    <ng-container *ngIf=\"data.choose\">\r\n                                        <div nz-col nzSpan=\"1\" class=\"center-col\">\r\n                                        </div>\r\n                                        <div style=\"align-self: center;\" nz-col nzSpan=\"8\" class=\"center-col\">\r\n                                            <i>{{data.name}} ({{'Gift' | translate}})</i>\r\n                                            <ng-container *ngIf=\"data.id_lotproduct\">\r\n                                                <pre style=\"color:var(--ion-color-vh-green); cursor: pointer;\"\r\n                                                    (click)=\"openModalChooseLot(data)\">{{getLotNumber(data.lots, data.id_lotproduct)}}</pre>\r\n                                            </ng-container>\r\n                                            <p *ngIf=\"data.combos\">\r\n                                                <span *ngFor=\"let combo of data.combos;index as i\"\r\n                                                    style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                    {{ i == data.combos.length-1 ? combo.quantity + 'x ' + combo.name +\r\n                                                    ' (' + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x '\r\n                                                    + combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                                                </span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div nz-col nzSpan=\"3\" style=\"align-self: center;\">\r\n                                            {{getUnit(data.units,data.ratio)}}\r\n                                        </div>\r\n                                        <div class=\"align-center text-align-center \" nz-col nzSpan=\"4\">\r\n                                            <div>x{{data.quantity}}</div>\r\n                                        </div>\r\n                                        <div class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\"\r\n                                            (click)=\"openEditUnitPrice(item)\">\r\n                                            <span>{{vhAlgorithm.vhcurrencyunit(data.price)}}</span>\r\n                                            <del style=\"margin-left:5px; font-size: 0.8rem;\"\r\n                                                *ngIf=\"display_promotion_selling_price\">\r\n                                                {{data.price_origin > data.price ?\r\n                                                vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                                            </del>\r\n                                        </div>\r\n                                        <div nz-col nzSpan=\"4\" class=\"money-sub\">\r\n                                            <p class=\"max-width-two-line\">\r\n                                                <b>{{vhAlgorithm.vhcurrencyunit(data.price*data.quantity)}}</b>\r\n                                            </p>\r\n                                        </div>\r\n                                        <!-- <div nz-col nzSpan=\"2\" class=\"right-div\">\r\n\r\n                                        </div> -->\r\n                                    </ng-container>\r\n                                </div>\r\n                            </ng-container>\r\n\r\n                            <!-- KHÔNG CÓ Chương trình khuyến mãi -->\r\n                            <ng-template #elseTemplate>\r\n                                <div nz-row>\r\n                                    <!-- Nút xoá -->\r\n                                    <div nz-col nzSpan=\"1\" class=\"center-col\">\r\n                                        <button nz-popconfirm\r\n                                            nzPopconfirmTitle=\"{{'Are you sure to delete' | translate}} {{item.name}}\"\r\n                                            (nzOnConfirm)=\"deleteGoods(item,i)\" nzPopconfirmPlacement=\"bottomLeft\"\r\n                                            nz-button class=\"popconfirm\">\r\n                                            <i *ngIf=\"!item._id\" nz-icon nzType=\"loading\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer; color: var(--ion-color-vh-red)\"></i>\r\n                                            <i *ngIf=\"item._id\" nz-icon nzType=\"close\" nzTheme=\"outline\"\r\n                                                style=\"cursor: pointer; color: var(--ion-color-vh-red)\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div style=\"font-weight: bold; align-self: center;\" nz-col nzSpan=\"8\"\r\n                                        class=\"center-col\">\r\n                                        <!-- Tên -->\r\n                                        <p class=\"max-width-two-line\">{{item.name}}</p>\r\n                                        <!-- Lô -->\r\n                                        <ng-container *ngIf=\"item.id_lotproduct\">\r\n                                            <pre style=\"color:var(--ion-color-vh-green); cursor: pointer;\"\r\n                                                (click)=\"openModalChooseLot(item)\">{{getLotNumber(item.lots, item.id_lotproduct)}}</pre>\r\n                                        </ng-container>\r\n                                        <!-- Combo -->\r\n                                        <p *ngIf=\"item.combos\">\r\n                                            <span *ngFor=\"let combo of item.combos;index as i\"\r\n                                                style=\"font-size: 0.75rem; color: var(--ion-color-vh-black); font-weight: normal;\">\r\n                                                {{ i == item.combos.length-1 ? combo.quantity + 'x ' + combo.name + ' ('\r\n                                                + getUnit(combo.units,combo.ratio)+ ') ': combo.quantity + 'x ' +\r\n                                                combo.name + ' (' + getUnit(combo.units,combo.ratio)+ ') '+\" ,\"}}\r\n                                                <ng-container *ngIf=\"combo.id_lotproduct\">\r\n                                                    <pre style=\"color:var(--ion-color-vh-green); cursor: pointer;\"\r\n                                                        (click)=\"openModalChooseLot(combo)\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</pre>\r\n                                                </ng-container>\r\n                                            </span>\r\n                                        </p>\r\n                                        <!-- Dịch vụ thời gian -->\r\n                                        <div *ngIf=\"item.ptype === VhType.SERVICETIME\"\r\n                                            (click)=\"editServiceTime(item)\"\r\n                                            class=\"bill-detail-area-item-time\">\r\n                                          <p *ngIf=\"item.time_start_order\">{{'Started at' | translate}}: {{item.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}}</p>\r\n                                          <p *ngIf=\"item.time_end_order\"\r\n                                            [ngStyle]=\"{'color': item.is_paused ? 'var(--ion-color-vh-orange)' : ''}\">\r\n                                            {{'Estimated until' | translate}}: {{item.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}\r\n                                          </p>\r\n                                          <ng-container *ngIf=\"productService.generateTimeUseString(item.time_start_order, item.time_end_order) as usedTime\">\r\n                                            <p>{{ 'Used' | translate }}: {{ usedTime }}</p>\r\n                                          </ng-container>\r\n                                        </div>\r\n                                        <!-- Ghi chú -->\r\n                                        <div *ngIf=\"vhAuth.localStorageGET('show_note_for_each_product')\">\r\n                                          <input nz-input nzBorderless class=\"bill-detail-note\"\r\n                                            [placeholder]=\"'Note' | translate\"\r\n                                            [(ngModel)]=\"item.note\"\r\n                                            (blur)=\"updateNote(item)\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <!-- Đơn vị -->\r\n                                    <div nz-col nzSpan=\"3\" style=\"align-self: center;\">\r\n                                        <!-- Không phải dịch vụ thời gian thì mới hiện -->\r\n                                        <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                                            <nz-select style=\"width: 100%;\"\r\n                                                [(ngModel)]=\"item.ratio\"\r\n                                                (ngModelChange)=\"changeUnit($event,item)\">\r\n                                                <nz-option *ngFor=\"let i of item.units,index as idx\" [nzLabel]=\"i.unit\" [nzValue]=\"i.ratio\"></nz-option>\r\n                                            </nz-select>\r\n                                        </ng-container>\r\n                                    </div>\r\n                                    <!-- Số lượng -->\r\n                                    <div class=\"align-center text-align-center \" nz-col\r\n                                        [nzSpan]=\" show_discount_product ? '2' : '4'\">\r\n                                        <!-- Không phải dịch vụ thời gian thì mới hiện -->\r\n                                        <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                                            <div>\r\n                                                <input type=\"number\" id=\"quantity\" [min]=\"0\" [max]=\"9999999999\"\r\n                                                    #quantity\r\n                                                    [placeholder]=\"'Enter quantity' | translate\"\r\n                                                    [(ngModel)]=\"item.quantity\"\r\n                                                    (blur)=\"checkQuantityProduct(item, item.quantity)\" />\r\n                                            </div>\r\n                                        </ng-container>\r\n                                    </div>\r\n                                    <!-- Dịch vụ thời gian không hiện giá -->\r\n                                    <ng-container *ngIf=\"item.ptype === VhType.SERVICETIME\">\r\n                                        <div class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\" style=\"padding-top: 8px; border-bottom: 0;\"></div>\r\n                                        <div *ngIf=\"show_discount_product\" nz-col nzSpan=\"2\" style=\"text-align: center; align-self: center; padding-top:8px\"></div>\r\n                                    </ng-container>\r\n                                    <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                                        <!-- Giá -->\r\n                                        <div class=\"invoiceDetail-item-quantity text-end\" nz-col nzSpan=\"4\" style=\"padding-top: 8px;\"\r\n                                            (click)=\"openEditUnitPrice(item)\">\r\n                                            <span>{{vhAlgorithm.vhcurrencyunit(item.price)}}</span>\r\n                                            <del *ngIf=\"display_promotion_selling_price\" style=\"margin-left:5px; font-size: 0.8rem;\">\r\n                                                {{item.price_origin > item.price ?\r\n                                                vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                                            </del>\r\n                                        </div>\r\n                                        <!-- Giảm giá % sản phẩm -->\r\n                                        <div *ngIf=\"show_discount_product\" nz-col nzSpan=\"2\"\r\n                                            style=\"text-align: center; align-self: center; padding-top:8px\">\r\n                                            <span style=\"border-bottom: 1px var(--ion-color-vh-gray) solid;\">\r\n                                                <span nz-icon nzType=\"arrow-down\" nzTheme=\"outline\" style=\"font-size: 0.7rem;\"></span> {{\r\n                                                    (item.price_origin > item.price ? ((1 - item.price/item.price_origin)*100) : 0) | number:'1.0-2'\r\n                                                }}%</span>\r\n                                        </div>\r\n                                    </ng-container>\r\n                                    <!-- Thành tiền -->\r\n                                    <div nz-col nzSpan=\"4\"\r\n                                        style=\"border-bottom: 1px var(--ion-color-vh-gray) solid; text-align: end; align-self: center; padding-top:8px\">\r\n                                        <b>{{vhAlgorithm.vhcurrencyunit(item.price*item.quantity)}}</b>\r\n                                    </div>\r\n                                </div>\r\n                            </ng-template>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Khuyến mãi / In -->\r\n            <div nz-row>\r\n                <div>\r\n                    <button (click)=\"getPromotions()\" nz-button nzType=\"primary\">\r\n                        <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Promotions' | translate}}</button>\r\n                </div>\r\n                <div style=\"margin-left: 16px;\">\r\n                    <button class=\"btn-data nz-hover-border\" nz-button nzType=\"default\"\r\n                        [disabled]=\"!invoice_detail.length\"\r\n                        (click)=\"handlePrint(true)\">\r\n                        <i nz-icon nzType=\"save\" nzTheme=\"outline\"></i>\r\n                        {{'Print' | translate}}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Best selling -->\r\n        <div class=\"sales-best-selling\" *ngIf=\"showBestSelling && isLoadData\">\r\n            <app-best-selling (chooseBestSelling)=\"chooseBestSelling($event)\" [default_price_type]=\"default_price_type\">\r\n            </app-best-selling>\r\n        </div>\r\n        <i *ngIf=\"!isLoadData\" style=\"position: absolute; top: 45%; left: 35%; font-size: 2rem;\" nz-icon nzType=\"loading\" nzTheme=\"outline\"></i>\r\n    </div>\r\n\r\n    <div class=\"order-bill\" *ngIf=\"isLoadData\">\r\n        <div class=\"order-bill-contain\">\r\n            <div class=\"order-bill-contain-bill hideScrollbar\">\r\n                <div>\r\n                    <span>{{invoiceInfo.employee.name}}</span>\r\n                    <!-- <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n                     -->\r\n\r\n                    <nz-date-picker [nzDisabled]=\"!sales_enable_edit_create_date\" [(ngModel)]=\"invoice_date\"\r\n                        (ngModelChange)=\"setDate($event)\" nzBorderless nzShowTime style=\"text-align-last: right;\"\r\n                        nzFormat=\"dd/MM/yyyy HH:mm:ss\"></nz-date-picker>\r\n                </div>\r\n\r\n                <!-- Thêm thanh toán khác -->\r\n                <div nz-col nzSpan=\"24\" style=\"display: flex;justify-content: space-between;\">\r\n                    <b>{{'Payment information' | translate}}</b>\r\n                    <span (click)=\"openModalOtherDiscount()\" style=\"cursor: pointer; color: var(--ion-color-vh-green);\">\r\n                        <i nz-icon nzType=\"plus\" nzTheme=\"outline\"></i>\r\n                        {{'Add other payment' | translate}}\r\n                    </span>\r\n                </div>\r\n\r\n                <!-- Cộng tiền -->\r\n                <div nz-col nzSpan=\"24\">\r\n                    <div>{{'SubTotal' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n                </div>\r\n\r\n                <!-- Giảm giá -->\r\n                <ng-container *ngIf=\"vhAuth.localStorageGET('show_discount')\">\r\n                    <div style=\"display: flex;justify-content: space-between; align-items: center;\" nz-col nzSpan=\"24\">\r\n                        <div style=\"width: auto;\">{{'Discount value' | translate}}</div>\r\n                        <!-- % -->\r\n                        <div>\r\n                            <input id=\"percent-discount-price\" style=\"width: 50px; text-align: end; padding: 4px 0;\"\r\n                                #percentDiscount type=\"number\" max=\"100\" min=\"0\" step=\"1\"\r\n                                (blur)=\"updateServiceTime(); editPercentDiscount(percentDiscount.value)\"\r\n                                [ngModel]=\"percent_discount_bill | number:'1.0-2'\" class=\"border_bottom \" maxlength=\"3\"\r\n                                nz-input />%\r\n                        </div>\r\n                        <!-- Value -->\r\n                        <input style=\"text-align: end;width: 50%;\" (blur)=\"updateServiceTime(); updateDiscount()\"\r\n                            [value]=\"vhAlgorithm.vhcurrencyunit(invoice.discount)\" class=\" discount-price\" type=\"text\"\r\n                            maxlength=\"15\" id=\"discount-price\" nz-input />\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <!-- Chiết khấu -->\r\n                <div *ngIf=\"discount_bill\" style=\"display: flex;justify-content: space-between; align-items: center;\"\r\n                    nz-col nzSpan=\"24\">\r\n                    <div>{{'Discount' | translate}}\r\n                    </div>\r\n                    <span>{{vhAlgorithm.vhcurrencyunit(discount_bill)}} </span>\r\n                </div>\r\n\r\n                <!-- Thanh toán điểm -->\r\n                <div *ngIf=\"invoice.payment_points\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Point payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_points)}}</div>\r\n                </div>\r\n\r\n                <!-- Thanh toán phiếu -->\r\n                <div *ngIf=\"invoice.payment_coupons\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Coupon payment' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_coupons)}}</div>\r\n                </div>\r\n\r\n                <!-- Phí -->\r\n                <div nz-row *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                    <div nz-col nzSpan=\"12\">{{'Fee' | translate}}</div>\r\n                    <div nz-col nzSpan=\"12\" style=\"text-align: end;\">\r\n                        <input class=\"invoice-fee\" style=\"text-align: end;\" type=\"text\" maxlength=\"15\" id=\"invoice-fee\"\r\n                            nz-input #fee [value]=\"vhAlgorithm.vhcurrencyunit(invoice_fee)\" (blur)=\"updateServiceTime(); updateFee()\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Thuế -->\r\n                <div class=\"order-bill-contain-bill-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                    <div>{{'Tax' | translate}}</div>\r\n                    <div *ngIf=\"data\">\r\n                        <nz-select *ngIf=\"listTax.length\" nzBorderless style=\"min-width: 72px;\" [(ngModel)]=\"data.tax\"\r\n                            (ngModelChange)=\"updateServiceTime(); updateTax($event);\">\r\n                            <nz-option [nzValue]=\"item.value\" nzLabel=\"{{vhAlgorithm.vhpercent(item.value/100)}}\"\r\n                                *ngFor=\"let item of listTax; trackBy:myTrackByFunction\">\r\n                            </nz-option>\r\n                        </nz-select>\r\n                        <span class=\"not-found\" *ngIf=\"!listTax.length\">0.00%</span>\r\n                    </div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(taxValue)}}</div>\r\n                </div>\r\n\r\n                <!-- Tổng -->\r\n                <div class=\"order-bill-contain-bill-total\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Total' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(getTotalATax())}}</div>\r\n                </div>\r\n\r\n                <!-- Thanh toán -->\r\n                <div nz-row>\r\n                    <div nz-col nzSpan=\"12\">\r\n                        <b>{{'Pay' | translate}}</b>\r\n                        <ng-container *ngIf=\"product_gift_type7.length && !gotten_gift_type7\">\r\n                            <i style=\"font-size: 1rem;  margin-left: 8px; cursor: pointer; color: var(--ion-color-vh-green)\"\r\n                                nz-icon nzType=\"gift\" nzTheme=\"outline\" (click)=\"showProductGiftType7 = true\"></i>\r\n                        </ng-container>\r\n                    </div>\r\n                    <div nz-col nzSpan=\"12\" style=\"text-align: end;\">\r\n                        <input style=\"text-align: end; font-weight: bold;\" type=\"text\" maxlength=\"15\" nz-input\r\n                            [disabled]=\"invoice.payment_type == 2 || !debt\"\r\n                            [value]=\"vhAlgorithm.vhcurrencyunit(invoice.payment)\" (blur)=\"updateServiceTime(); updatePayment()\"\r\n                            class=\"payment-price\" id=\"payment-price\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Nợ lại -->\r\n                <div class=\"order-bill-contain-bill-rest\" nz-col nzSpan=\"24\"\r\n                    *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                    <div>{{'Rest' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit_symbol(getTotalATax() - invoice.payment)}}</div>\r\n                </div>\r\n\r\n                <!-- Phương thức thanh toán -->\r\n                <div nz-col nzSpan=\"24\">\r\n                    <!-- <div>{{'Payment method' | translate}}</div> -->\r\n                    <app-payment-type style=\"width: 100%;\" [payment_type]=\"invoice.payment_type\"\r\n                        [id_wallet]=\"invoice.id_wallet\" [id_customer]=\"invoice.id_customer\"\r\n                        (closeAndGetValuePayment)=\"updateServiceTime(); closeAndGetValuePayment($event)\">\r\n                    </app-payment-type>\r\n                </div>\r\n\r\n                <!-- Tiền khách đưa -->\r\n                <div nz-row style=\"margin-top: 10px;\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div nz-col nzSpan=\"12\">{{'cash' | translate}}</div>\r\n                    <div nz-col nzSpan=\"12\" style=\"text-align: end;\" id=\"cash\">\r\n                        <input style=\"text-align: end;\" type=\"text\" #cash maxlength=\"15\" nz-input\r\n                            [disabled]=\"invoice.payment_type == 2\" [value]=\"vhAlgorithm.vhcurrencyunit(invoice_cash)\"\r\n                            class=\"customerPay\" (blur)=\"updateServiceTime(); updateCash()\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Tiền thối lại -->\r\n                <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                    <div>{{'Change' | translate}}</div>\r\n                    <div>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash -\r\n                        invoice.payment : 0)}}</div>\r\n                </div>\r\n\r\n                <!-- Ghi chú -->\r\n                <div nz-col nzSpan=\"24\" id=\"note\" *ngIf=\"vhAuth.localStorageGET('show_note')\"\r\n                    style=\"padding-top: 16px;\">\r\n                    <textarea class=\"nz-hover-border\" nz-input placeholder=\"{{'Enter note...' | translate}}\"\r\n                        [nzAutosize]=\"{ minRows: 2, maxRows: 4 }\" id=\"note\" #note [value]=\"invoice_note\"\r\n                        (blur)=\"updateServiceTime(); invoice.note = note.value; updateBill();\"></textarea>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div nz-row class=\"order-bill-btn\">\r\n            <button [disabled]=\"!invoice_detail.length \" (click)=\"openModalPaymentInfo(true)\" nz-button class=\"order-and-print\">\r\n                {{'Pay & Print' | translate}} (F2)\r\n            </button>\r\n            <button [disabled]=\"!invoice_detail.length\" (click)=\"openModalPaymentInfo(false)\" nz-button class=\"order-btn\">\r\n                {{'Pay' | translate}} (F1)</button>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"order-footer\">\r\n        <div nz-row style=\"height: 100%;\">\r\n            <div nz-col nzSpan=\"24\" style=\"display: flex; align-items: center;justify-content: space-between;\">\r\n                <!-- <div class=\"btn-footer\" (click)=\"showStock()\">\r\n                    <span>{{'Stock' | translate}}</span>\r\n                </div> -->\r\n                <div class=\"btn-footer\" (click)=\"showCustomer();\">\r\n                    <span>{{'Customer' | translate}}</span>\r\n                </div>\r\n                <div class=\"btn-footer\" (click)=\"showDeli()\">\r\n                    <span>{{'Delivery' | translate}}</span>\r\n                </div>\r\n                <div class=\"btn-footer\" (click)=\"gotoInvoices()\">\r\n                    <span>{{'Invoices' | translate}}</span>\r\n                </div>\r\n                <div *ngIf=\"management_product_price2\" class=\"btn-footer\" (click)=\"showModalChangePriceType = true\">\r\n                    <span>{{'Choose selling price' | translate}}</span>\r\n                </div>\r\n            </div>\r\n            <!-- <div nz-col nzSpan=\"6\" style=\"padding: 0 4px;height: 100%;\">\r\n                <div class=\"btn-footer\" (click)=\"showStock()\">\r\n                    <span>{{'Stock' | translate}}</span>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 4px;height: 100%;\">\r\n                <div class=\"btn-footer\" (click)=\"showCustomer()\">\r\n                    <span>{{'Customer' | translate}}</span>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 4px;height: 100%;\">\r\n                <div class=\"btn-footer\" (click)=\"showDeli()\">\r\n                    <span>{{'Delivery' | translate}}</span>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" style=\"padding: 0 4px;height: 100%;\">\r\n                <div class=\"btn-footer\" (click)=\"gotoInvoices()\">\r\n                    <span>{{'Invoices' | translate}}</span>\r\n                </div>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n</nz-layout>\r\n<!-- Modal Customer -->\r\n<app-customer-pos *ngIf=\"visibleCustomer\" [invoices]=\"invoice\" [visibleCustomer]=\"visibleCustomer\"\r\n    (hideVisibleCustomer)=\"updateServiceTime(); cancelVisibleCustomer($event)\" (changeDebt)=\"changeDebt($event)\"\r\n    [earning_point]=\"earning_point\" [customerID]=\"invoice.id_customer\"\r\n    (eventChangeCustomerType)=\"eventChangeCustomerType($event)\" (eventChangeCustomer)=\"getClassAndProgramFirstLoad($event);getTotalEarningPoint()\">\r\n</app-customer-pos>\r\n<!-- Search product -->\r\n<app-search-product [searchProductList]=\"searchProductList\" (closeSearchProductList)=\"closeSearchProductList($event)\"\r\n    [default_price_type]=\"default_price_type\">\r\n</app-search-product>\r\n<!-- Stock -->\r\n<!-- <app-stock-pos [stock]=\"stock\" (closeStock)=\"stock = $event\"></app-stock-pos> -->\r\n<!-- Delivery -->\r\n<app-delivery-pos *ngIf=\"delivery\" [delivery]=\"delivery\" [id_customer]=\"invoice.id_customer\"\r\n    (hideDelivery)=\"hideDelivery($event)\" [id_delivery]=\"invoice.id_delivery\"></app-delivery-pos>\r\n<!-- đổi giá bán -->\r\n<app-change-price-type *ngIf=\"showModalChangePriceType\" [showModalChangePriceType]=\"showModalChangePriceType\"\r\n    (changePriceType)=\"changePriceType($event)\" [default_price_type]=\"default_price_type\"></app-change-price-type>\r\n<!--Modal edit unit price-->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice\" *ngIf=\"isVisibleEditUnitPrice\" [(nzVisible)]=\"isVisibleEditUnitPrice\"\r\n    nzTitle=\"{{'Edit unit price' | translate}}\" (nzOnCancel)=\"handleCancelEditUnit()\" (nzOnOk)=\"handleEditUnit()\">\r\n    <ng-container *nzModalContent>\r\n        <div id=\"modalEdit\">\r\n            <!-- <div nz-row>\r\n                <div nz-col nzSpan=\"8\" class=\"center-col\">{{'Quantity' | translate}}</div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <nz-input-number id=\"editQuantity\" style=\"width: 100%;\" [nzMax]=\"9999999999\" [nzMin]=\"0.1\"\r\n                        [nzStep]=\"1\" [(ngModel)]=\"editQuantity\" maxlength=\"10\" (keyup.enter)=\"handleEditUnit()\"\r\n                        (ngModelChange)=\"checkQuantityProduct(tempDetail,$event)\"></nz-input-number>\r\n                </div>\r\n            </div> -->\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"8\" style=\"align-self: center;\">{{'New unit price' | translate}}</div>\r\n                <div nz-col nzSpan=\"16\">\r\n                    <input class=\"unit_price\" type=\"text\" maxlength=\"15\"\r\n                        [value]=\"vhAlgorithm.vhcurrencyunit(tempDetail.price)\" nz-input\r\n                        placeholder=\"{{'Enter unit price' | translate}}\" (keyup.enter)=\"handleEditUnit()\"\r\n                        (blur)=\"getValueDiscount(tempDetail.price_origin);\" />\r\n                </div>\r\n            </div>\r\n            <div nz-row style=\"padding-top: 8px;\">\r\n                <div nz-col nzSpan=\"8\" style=\"align-self: center;\">{{'Discount value' | translate}}</div>\r\n                <div nz-col nzSpan=\"10\">\r\n                    <input class=\"unit_price_discount\" type=\"text\" maxlength=\"15\"\r\n                        [(ngModel)]=\"discount_price_bill_detail\" nz-input\r\n                        placeholder=\"{{'Enter unit price' | translate}}\" (blur)=\"caculateDiscountPrice_billDetail()\" />\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"center-all-content\">\r\n                    <button style=\"border-radius: 0px !important;width:44px;\" nz-button nzSize=\"small\"\r\n                        (click)=\"changeValueDiscount('%');\"\r\n                        [nzType]=\"default_discount_price_type == '%' ? 'primary' : 'default'\">%</button>\r\n                    <button style=\"border-radius: 0px !important;\" nz-button nzSize=\"small\"\r\n                        (click)=\"changeValueDiscount(symbol);\"\r\n                        [nzType]=\"default_discount_price_type == symbol ? 'primary' : 'default'\">{{symbol}}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelEditUnit()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleEditUnit()\">{{\"Save\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n<!-- MOdal giảm giá khác (coupon hoặc đổi điểm) -->\r\n<nz-modal [(nzVisible)]=\"showModalOtherDiscount\" nzTitle=\"{{'Other payment' | translate}}\" nzWidth=\"50vw\"\r\n    (nzOnCancel)=\"updateServiceTime(); showModalOtherDiscount = false\" (nzOnOk)=\"updateServiceTime(); handleOkOtherDiscount()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\">\r\n            <div nz-col nzSpan=\"6\">\r\n                {{\"Coupon\" | translate}}\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" id=\"coupon\" style=\"display: flex;\">\r\n                <input #coupon nz-input placeholder=\"{{'Enter or scan code' | translate}}\"\r\n                    (keyup.enter)=\"getDiscountOfCoupon(coupon.value)\" />\r\n                <button style=\"margin-left: 8px;\" nz-button nzType=\"primary\"\r\n                    (click)=\"getDiscountOfCoupon(coupon.value)\">{{'Apply'| translate}}</button>\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" class=\"text-end\">\r\n                {{vhAlgorithm.vhcurrencyunit(invoice.payment_coupons)}}\r\n            </div>\r\n        </div>\r\n        <div nz-row>\r\n            <div nz-col nzSpan=\"6\"></div>\r\n            <div nz-col nzSpan=\"18\">\r\n                <nz-tag *ngFor=\"let item of product_codes\" [nzColor]=\"'green'\" nzMode=\"closeable\"\r\n                    (nzOnClose)=\"onCloseProductCode(item)\">{{item.code}}</nz-tag>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"customer_class?.payment.enable\">\r\n            <div nz-row class=\"center-all-content mt-8\">\r\n                <div nz-col nzSpan=\"6\">\r\n                    {{\"Accumulated points\" | translate}}\r\n                </div>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <nz-input-number [(ngModel)]=\"value_discount_point\" style=\"width: 100%;\" #point\r\n                        nzPlaceHolder=\"{{'Enter points' | translate}}\" [nzMin]=\"0\" [nzMax]=\"point_validity\" [nzStep]=\"1\"\r\n                        (keyup)=\"calculatePoint2Money(point['value'])\"></nz-input-number>\r\n                </div>\r\n                <div nz-col nzSpan=\"6\" class=\"text-end\">\r\n                    {{vhAlgorithm.vhcurrencyunit(invoice.payment_points)}}\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"mt-8\">\r\n                <div nz-col nzSpan=\"14\">\r\n                    <label>{{\"Point conversion rate\" | translate}}:\r\n                        {{customer_class.payment.points}} Điểm =\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(customer_class.payment.money)}}</label>\r\n                </div>\r\n                <div nz-col nzSpan=\"10\" class=\"text-end\">\r\n                    {{'Current accumulated points' | translate}} : {{point_validity }}\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <div nz-row class=\"mt-8 beetween-all-content\">\r\n            <b>{{'Total discount' | translate}}</b>\r\n            <b>{{vhAlgorithm.vhcurrencyunit(invoice.payment_points + invoice.payment_coupons)}}</b>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<!-- modal chọn sản phẩm tặng -->\r\n<nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"showProductGift\" nzTitle=\"{{'Chọn quà tặng'}}\"\r\n    (nzOnCancel)=\"showProductGift = false\" (nzOnOk)=\"showProductGift = false;getEarningpointPromotion()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"invoice_detail\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <!-- <th>{{'Lot number' | translate}}</th> -->\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                    <th>{{'Functions' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let item of basicTable.data\">\r\n                    <ng-container *ngIf=\"item.pmtype == 6\">\r\n                        <tr>\r\n                            <td colspan=\"5\"><b>{{ item.name }}</b> ({{'_Selected gift quantity' | translate}}: {{\r\n                                item.promotions_maximum }})</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"5\">\r\n                                <b>{{ 'List of purchased products' | translate }} :</b> <br>\r\n                                <span *ngFor=\"let data of item.products\">\r\n                                    {{data.name}}({{data.unit}}) x{{data.quantity}} <br>\r\n                                </span>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan=\"5\">\r\n                                <b>{{ 'List of gifted products' | translate }} :</b>\r\n                            </td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let data of item.products_gift\">\r\n                            <tr>\r\n                                <td>\r\n                                    {{ data.name }}\r\n                                    <ng-container *ngIf=\"data.lots\">\r\n                                        <br> {{'Lot number' | translate}}:\r\n                                        <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                            [(ngModel)]=\"data.id_lotproduct\">\r\n                                            <nz-option *ngFor=\"let element of data.lots\"\r\n                                                nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                [nzValue]=\"element._id\"></nz-option>\r\n                                        </nz-select>\r\n                                    </ng-container>\r\n\r\n\r\n                                </td>\r\n\r\n                                <td>{{ getUnit(data.units, data.ratio) }}</td>\r\n                                <td>\r\n                                    <nz-input-number [(ngModel)]=\"data.quantity\" [nzMin]=\"0\" [nzMax]=\"data.quantity\">\r\n                                    </nz-input-number>\r\n                                </td>\r\n                                <td>\r\n                                    {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n                                    <del>{{vhAlgorithm.vhcurrencyunit(data.price_origin)}}</del>\r\n                                </td>\r\n                                <td>\r\n                                    <nz-switch [(ngModel)]=\"data.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !data.choose\"></nz-switch>\r\n                                </td>\r\n                            </tr>\r\n                            <ng-container *ngIf=\"data.ptype == 5\">\r\n                                <tr *ngFor=\"let combo of data.combos\">\r\n                                    <td>- {{ combo.name }}\r\n                                        <ng-container *ngIf=\"combo.lots\">\r\n                                            <br> {{'Lot number' | translate}}:\r\n                                            <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                                [(ngModel)]=\"combo.id_lotproduct\">\r\n                                                <nz-option *ngFor=\"let element of combo.lots\"\r\n                                                    nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                    [nzValue]=\"element._id\"></nz-option>\r\n                                            </nz-select>\r\n                                        </ng-container>\r\n                                    </td>\r\n\r\n                                    <td>{{ getUnit(combo.units, combo.ratio) }}</td>\r\n                                    <td>{{ combo.quantity }}</td>\r\n                                    <td>\r\n                                        {{vhAlgorithm.vhcurrencyunit(combo.price) }}\r\n                                        <!-- <del>{{vhAlgorithm.vhcurrencyunit(combo.price_origin)}}</del> -->\r\n                                    </td>\r\n                                    <td>\r\n                                        <!-- <nz-switch [(ngModel)]=\"combo.choose\"\r\n                                            [nzDisabled]=\"checkDisableChooseProductGift(item) && !combo.choose\"></nz-switch> -->\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n<!-- modal chọn sản phẩm tặng type 7 -->\r\n<nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"showProductGiftType7\" nzTitle=\"{{'Select gift' | translate}}\"\r\n    (nzOnCancel)=\"showProductGiftType7 = false\" (nzOnOk)=\"showProductGiftType7 = false;handleAddGiftType7();\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"product_gift_type7\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{\"Product name\" | translate}}</th>\r\n                    <!-- <th>{{'Lot number' | translate}}</th> -->\r\n                    <th>{{'Unit' | translate}}</th>\r\n                    <th>{{'Quantity' | translate}}</th>\r\n                    <th>{{'Unit price' | translate}}</th>\r\n                    <th>{{'Functions' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let item of basicTable.data\">\r\n                    <ng-container *ngIf=\"item.products_gift\">\r\n                        <tr>\r\n                            <td colspan=\"5\"><b>{{ item.name }}</b> ({{'_Selected gift quantity' | translate}}: {{\r\n                                item.promotions_maximum }})</td>\r\n                        </tr>\r\n                        <ng-container *ngFor=\"let data of item.products_gift\">\r\n                            <tr>\r\n                                <td>\r\n                                    {{ data.name }}\r\n                                    <ng-container *ngIf=\"data.lots\">\r\n                                        <br> {{'Lot number' | translate}}:\r\n                                        <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                            [(ngModel)]=\"data.id_lotproduct\">\r\n                                            <nz-option *ngFor=\"let element of data.lots\"\r\n                                                nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                [nzValue]=\"element._id\"></nz-option>\r\n                                        </nz-select>\r\n                                    </ng-container>\r\n                                </td>\r\n\r\n                                <td>{{ getUnit(data.units, data.ratio) }}</td>\r\n                                <td>\r\n                                    <nz-input-number [(ngModel)]=\"data.quantity\" [nzMin]=\"0\" [nzMax]=\"data.quantity\">\r\n                                    </nz-input-number>\r\n                                </td>\r\n                                <td>\r\n                                    {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n                                    <del>{{vhAlgorithm.vhcurrencyunit(data.price_origin)}}</del>\r\n                                </td>\r\n                                <td>\r\n                                    <nz-switch [(ngModel)]=\"data.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !data.choose\"></nz-switch>\r\n                                </td>\r\n                            </tr>\r\n                            <ng-container *ngIf=\"data.ptype == 5\">\r\n                                <tr *ngFor=\"let combo of data.combos\">\r\n                                    <td>- {{ combo.name }}\r\n                                        <ng-container *ngIf=\"combo.lots\">\r\n                                            <br> {{'Lot number' | translate}}:\r\n                                            <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                                [(ngModel)]=\"combo.id_lotproduct\">\r\n                                                <nz-option *ngFor=\"let element of combo.lots\"\r\n                                                    nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp |date : 'dd/MM/yyyy'}}\"\r\n                                                    [nzValue]=\"element._id\"></nz-option>\r\n                                            </nz-select>\r\n                                        </ng-container>\r\n                                    </td>\r\n\r\n                                    <td>{{ getUnit(combo.units, combo.ratio) }}</td>\r\n                                    <td>{{ combo.quantity }}</td>\r\n                                    <td>\r\n                                        {{vhAlgorithm.vhcurrencyunit(combo.price) }}\r\n                                        <!-- <del>{{vhAlgorithm.vhcurrencyunit(combo.price_origin)}}</del> -->\r\n                                    </td>\r\n                                    <td>\r\n                                        <!-- <nz-switch [(ngModel)]=\"combo.choose\"\r\n                                        [nzDisabled]=\"checkDisableChooseProductGift(item) && !combo.choose\"></nz-switch> -->\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n    </ng-container>\r\n</nz-modal>\r\n\r\n\r\n<!-- modal chọn lô/HSD -->\r\n<nz-modal [nzFooter]=\"modalFooterEditUnitPrice2\" [(nzVisible)]=\"show_modal_select_lots\"\r\n    nzTitle=\"{{'Select lot number' | translate}}\" (nzOnCancel)=\"handleCancelChooseLot()\" (nzOnOk)=\"handleChooseLot()\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row>\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                <input type=\"text\" nz-input placeholder=\"{{'Find lot number' | translate}}\" #searchValue\r\n                    (keyup)=\"searchLot(searchValue.value )\" />\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n        </div>\r\n        <nz-radio-group [(ngModel)]=\"tempDetail.id_lotproduct\" (ngModelChange)=\"changeLot($event)\"\r\n            style=\"width:100%; padding: 8px 0;\">\r\n            <ng-container *ngFor=\"let item of tempDetail.lots\">\r\n                <div nz-row *ngIf=\"!item.hidden\">\r\n                    <div nz-col nzSpan=\"24\">\r\n                        <label class=\"radio-purchase\" nz-radio [nzValue]=\"item._id\" style=\"width:100%;\">\r\n                            <div nz-row>\r\n                                <div nz-col nzSpan=\"6\">\r\n                                    {{item.lot_number}}\r\n                                </div>\r\n\r\n                                <div nz-col nzSpan=\"6\">\r\n                                    NSX: {{item.date_mfg | date : 'dd/MM/yyyy'}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"6\">\r\n                                    HSD: {{item.date_exp | date : 'dd/MM/yyyy'}}\r\n                                </div>\r\n                                <div nz-col nzSpan=\"6\" class=\"ion-text-end\">\r\n                                    {{'Stock' | translate}}:\r\n                                    <span\r\n                                        style=\" color: var(--ion-color-vh-orange)\">{{item.quantity_branch[id_branch]/tempDetail.ratio\r\n                                        | number : '1.0-2'}}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </label>\r\n                    </div>\r\n\r\n                </div>\r\n            </ng-container>\r\n        </nz-radio-group>\r\n        <div *ngIf=\"!tempDetail.lots.length\" style=\"text-align: center;\">{{'No data' | translate}}</div>\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice2>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"handleCancelChooseLot()\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\" [disabled]=\"!tempDetail.id_lotproduct\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLot()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n<!-- modal chọn lô/HSD cho combo-->\r\n<nz-modal nzWidth=\"70vw\" *ngIf=\"show_modal_select_lots_combo\" [nzFooter]=\"modalFooterEditUnitPrice3\"\r\n    [(nzVisible)]=\"show_modal_select_lots_combo\"\r\n    nzTitle=\"{{'Select lot number for products in combo' | translate}}: {{tempDetail.name}}\"\r\n    (nzOnCancel)=\"show_modal_select_lots_combo = false\" (nzOnOk)=\"handleChooseLotCombo()\">\r\n    <ng-container *nzModalContent>\r\n        <nz-table #basicTable [nzData]=\"tempDetail.combos\" [nzShowPagination]=\"false\" [nzScroll]=\"{ y: '400px' }\">\r\n            <thead>\r\n                <tr>\r\n                    <th nzWidth=\"30%\">{{\"Product name\" | translate}}</th>\r\n                    <th nzWidth=\"30%\">{{'Lot number' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Unit' | translate}}</th>\r\n                    <th nzWidth=\"10%\">{{'Quantity' | translate}}</th>\r\n                    <th nzWidth=\"20%\" nzAlign=\"right\">{{'Unit price' | translate}}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <ng-container *ngFor=\"let data of basicTable.data\">\r\n                    <ng-container *ngIf=\"data.lots\">\r\n\r\n                        <tr>\r\n                            <td>{{ data.name }}</td>\r\n                            <td>\r\n                                <nz-select nzShowSearch nzPlaceHolder=\"{{'Select product batch' | translate}}\"\r\n                                    [(ngModel)]=\"data.id_lotproduct\" style=\"width: 100%;\">\r\n                                    <nz-option *ngFor=\"let element of data.lots\"\r\n                                        nzLabel=\"{{element.lot_number}} - HSD: {{element.date_exp | date: 'dd/MM/yyyy'}}\"\r\n                                        [nzValue]=\"element._id\"></nz-option>\r\n                                </nz-select>\r\n                            </td>\r\n                            <td>{{getUnit(data.units, data.ratio)}}</td>\r\n                            <td>{{ data.quantity }}</td>\r\n                            <td nzAlign=\"right\">\r\n                                {{vhAlgorithm.vhcurrencyunit(data.price) }}\r\n\r\n                            </td>\r\n                        </tr>\r\n                    </ng-container>\r\n                </ng-container>\r\n            </tbody>\r\n        </nz-table>\r\n\r\n    </ng-container>\r\n    <ng-template #modalFooterEditUnitPrice3>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\" nzType=\"default\"\r\n            (click)=\"show_modal_select_lots_combo = false\">{{\"Cancel\"\r\n            |translate}}</button>\r\n        <button nz-button class=\"nz-hover-border\"\r\n            style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n            class=\"nz-hover-border-green\" (click)=\"handleChooseLotCombo()\">{{\"Ok\" | translate}}</button>\r\n    </ng-template>\r\n</nz-modal>\r\n\r\n\r\n<app-sub-pos *ngIf=\"showPortal\">\r\n    <app-template-sub-pos1 *ngIf=\"style_template_sub_pos == 1\" [invoice]=\"invoice\" [invoice_detail]=\"invoice_detail\"\r\n        [subTotal]=\"subTotal\"></app-template-sub-pos1>\r\n    <app-template-sub-pos2 *ngIf=\"style_template_sub_pos == 2\" [invoice]=\"invoice\" [invoice_detail]=\"invoice_detail\"\r\n        [subTotal]=\"subTotal\"></app-template-sub-pos2>\r\n    <app-template-sub-pos3 *ngIf=\"style_template_sub_pos == 3\" [invoice]=\"invoice\" [invoice_detail]=\"invoice_detail\"\r\n        [subTotal]=\"subTotal\"></app-template-sub-pos3>\r\n    <div *ngIf=\"isPaying\"\r\n        style=\"height: 100%; width: 100%; background-color: #333; position: fixed; top: 0; bottom: 0; right: 0; z-index: 9; opacity: 0.3;\">\r\n\r\n    </div>\r\n    <div *ngIf=\"isPaying\"\r\n        style=\"position: fixed;width: 60vw;height: 50vh;background-color: #FEF2F2; top: 50%; left: 50%; transform: translate(-50%,-50%);border-radius: 8px; padding: 16px; z-index: 99;\">\r\n        <div style=\"text-align: center; height: 10%;\"><b\r\n                style=\"color: #00a859;display: flex; align-items: center;justify-content: center; font-size: 32px;\"><i\r\n                    nz-icon nzType=\"shopping-cart\" nzTheme=\"outline\" style=\"margin-right: 8px;\"></i>{{'PAYMENT' |\r\n                translate}}</b>\r\n        </div>\r\n        <div [ngStyle]=\"{'height': invoice.cash == 0 ? '90%' : '40%'}\"\r\n            style=\"text-align: center; display: flex; align-items: center; justify-content: center;\">\r\n            <span\r\n                style=\"font-size: 2rem; font-weight: bold; color: black;\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</span>\r\n        </div>\r\n        <div *ngIf=\"invoice.cash != 0\"\r\n            style=\"width: 100%;height: 50%;display: flex; align-items: center;justify-content: center;\">\r\n            <div style=\"width: 100%;\">\r\n                <div style=\"display: flex;margin: 16px;\">\r\n                    <div\r\n                        style=\"width: 40%; text-align: end; color: black; font-size: 1.5rem;white-space: nowrap; display: flex; align-items: center;\">\r\n                        <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\" style=\"margin-right: 8px;\"> </i> {{'cash' |\r\n                        translate}}:\r\n                    </div>\r\n                    <div style=\"width: 60%; text-align: end; color: black; font-size: 1.5rem;white-space: nowrap;\">\r\n                        <b>{{vhAlgorithm.vhcurrencyunit(invoice_cash)}}</b>\r\n                    </div>\r\n                </div>\r\n                <div style=\"display: flex; margin: 16px;\">\r\n                    <div\r\n                        style=\"width: 40%; text-align: end; color: black; font-size: 1.5rem;white-space: nowrap;display: flex; align-items: center;\">\r\n                        <i nz-icon nzType=\"dollar\" nzTheme=\"outline\" style=\"margin-right: 8px;\"></i> {{'Change' |\r\n                        translate}}:\r\n                    </div>\r\n                    <div style=\"width: 60%; text-align: end; color: black; font-size: 1.5rem;white-space: nowrap;\">\r\n                        <div>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash -\r\n                            invoice.payment : 0)}}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</app-sub-pos>\r\n\r\n\r\n\r\n<!-- ------------------------------------------------ MODAL CHỈNH SỬA DỊCH VỤ THỜI GIAN ------------------------------------------------ -->\r\n<nz-modal\r\n  *ngIf=\"selectedServiceTime\"\r\n  (nzOnCancel)=\"saveServiceTime()\"\r\n  [(nzVisible)]=\"isShowModalEditServiceTime\"\r\n  [nzTitle]=\"selectedServiceTime.name\"\r\n  [nzFooter]=\"null\"\r\n  nzWidth=\"40vw\">\r\n  <ng-container *nzModalContent>\r\n    <div class=\"ant-table-body modal-edit\" style=\"max-height: 50vh; overflow-y: auto; overflow-x: hidden; padding: 0 8px\">\r\n        <!-- Tiêu đề -->\r\n        <div class=\"flex-between\" style=\"margin-bottom: 8px; font-size: 0.95rem;\">\r\n          <b>{{'Used time' | translate}}</b>\r\n          <b>{{'Drafted' | translate}}</b>\r\n        </div>\r\n\r\n        <div>\r\n          <!-- First time -->\r\n          <div *ngIf=\"selectedServiceTime.units[0].is_first_time\" class=\"flex-between\">\r\n            <div>\r\n              <span>{{'First time block' | translate}} - {{selectedServiceTime.units[0].first_time.time_block}} {{selectedServiceTime.units[0].first_time.unit | translate}} {{'first' | translate}}</span>\r\n              <small style=\"display: block;\">*{{'Time less than' | translate}} {{selectedServiceTime.units[0].first_time.time_block}} {{selectedServiceTime.units[0].first_time.unit | translate}} {{'will be rounded up to' | translate}} {{selectedServiceTime.units[0].first_time.time_block}} {{selectedServiceTime.units[0].first_time.unit | translate}}</small>\r\n              <p style=\"margin-top: 0.25rem;\">{{selectedServiceTime.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}} - {{selectedServiceTime?.serviceTimePrice?.first_time?.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}</p>\r\n            </div>\r\n            <div>\r\n              <p>{{vhAlgorithm.vhcurrencyunit(selectedServiceTime?.serviceTimePrice?.first_time?.price)}}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Special time -->\r\n          <div *ngIf=\"selectedServiceTime.units[0].is_special_times && selectedServiceTime?.serviceTimePrice?.special_times?.length\" style=\"margin-bottom: 1rem;\">\r\n            <span>{{'Special time' | translate}}</span>\r\n            <div *ngFor=\"let specialTime of selectedServiceTime?.serviceTimePrice?.special_times\" class=\"flex-between\">\r\n              <p style=\"margin-bottom: 0\">{{specialTime.from_time | date : 'HH:mm:ss'}} - {{specialTime.to_time | date : 'HH:mm dd/MM/yyyy'}} = {{productService.generateTimeFromValue(specialTime.duration, selectedServiceTime.units[0].unit)}} ({{vhAlgorithm.vhcurrencyunit_symbol(specialTime.price)}} / {{selectedServiceTime.units[0].time_block}} {{selectedServiceTime.units[0].unit | translate}})</p>\r\n              <p style=\"margin-bottom: 0\">{{vhAlgorithm.vhcurrencyunit(specialTime.total_price)}}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Merge block -->\r\n          <div *ngIf=\"selectedServiceTime.units[0].is_merge_block\" class=\"flex-between\">\r\n            <div>\r\n              <span>{{'Merge block' | translate}} - {{vhAlgorithm.vhcurrencyunit_symbol(selectedServiceTime?.serviceTimePrice?.merge_block?.price)}} / 1 block</span>\r\n              <p style=\"margin-top: 0.25rem;\">{{selectedServiceTime?.serviceTimePrice?.merge_block?.count}} block = {{selectedServiceTime?.serviceTimePrice?.merge_block?.duration}} {{selectedServiceTime.units[0].unit | translate}} (1 block = {{selectedServiceTime?.serviceTimePrice?.merge_block?.time_per_block}} {{selectedServiceTime.units[0].unit | translate}})</p>\r\n            </div>\r\n            <div>\r\n              <p>{{vhAlgorithm.vhcurrencyunit(selectedServiceTime?.serviceTimePrice?.merge_block?.total_price)}}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Normal time -->\r\n          <div *ngIf=\"selectedServiceTime?.serviceTimePrice?.time_used\" class=\"flex-between\">\r\n            <div>\r\n              <span>{{'Regular selling time' | translate}} - {{vhAlgorithm.vhcurrencyunit_symbol(selectedServiceTime.units[0].price)}} / {{selectedServiceTime.units[0].time_block}} {{selectedServiceTime.units[0].unit | translate}}</span>\r\n              <small style=\"display: block;\">*{{'Time less than' | translate}} {{selectedServiceTime.units[0].time_block}} {{selectedServiceTime.units[0].unit | translate}} {{'will be rounded up to' | translate}} {{selectedServiceTime.units[0].time_block}} {{selectedServiceTime.units[0].unit | translate}}</small>\r\n              <p style=\"margin-top: 0.25rem;\">{{productService.generateTimeFromValue(selectedServiceTime?.serviceTimePrice?.time_used, selectedServiceTime?.serviceTimePrice?.unit)}}</p>\r\n            </div>\r\n            <div>\r\n              <p>{{vhAlgorithm.vhcurrencyunit(selectedServiceTime?.serviceTimePrice?.price)}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Thành tiền -->\r\n        <div class=\"flex-between\">\r\n          <p>{{'From' | translate}} <b>{{selectedServiceTime.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}}</b> {{'to' | translate}} <b>{{selectedServiceTime?.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}</b> <br> <b>({{productService.generateTimeUseString(selectedServiceTime.time_start_order, selectedServiceTime?.time_end_order)}})</b></p>\r\n          <b style=\"font-size: 1rem;\">{{'Total' | translate}}: {{vhAlgorithm.vhcurrencyunit_symbol(selectedServiceTime?.serviceTimePrice?.total_price)}}</b>\r\n        </div>\r\n\r\n        <div class=\"flex-between\" style=\"margin: 16px 0;\">\r\n          <!-- Tạm ngưng / Tiếp tục tính giờ -->\r\n          <i (click)=\"pauseTime(!selectedServiceTime?.is_paused)\" style=\"text-align: right; color: var(--ion-color-vh-orange); cursor: pointer;\">{{(selectedServiceTime?.is_paused ? 'Continue timing' : 'Pause timing') | translate}}</i>\r\n          <hr style=\"background-color: #f0f0f0; flex: auto;\">\r\n          <!-- Chỉnh sửa thời gian sử dụng -->\r\n          <i (click)=\"handleOpenEditUsedTime()\" style=\"text-align: right; color: var(--ion-color-vh-green); cursor: pointer;\">{{'Edit usage time'| translate}}</i>\r\n        </div>\r\n\r\n        <!-- Ghi chú -->\r\n        <div class=\"order-div-note1\" nz-col nzSpan=\"24\">\r\n          <b>{{'Note' | translate}}</b>\r\n          <input class=\"order-note\" nz-input\r\n            [(ngModel)]=\"selectedServiceTime.note\"\r\n            [placeholder]=\"'Enter note' | translate\" />\r\n        </div>\r\n    </div>\r\n  </ng-container>\r\n</nz-modal>\r\n\r\n\r\n\r\n<!-- ------------------------------------------------ MODAL CHỈNH SỬA THỜI GIAN SỬ DỤNG ------------------------------------------------ -->\r\n<nz-modal\r\n  [(nzVisible)]=\"isShowModalEditUsedTime\"\r\n  (nzOnCancel)=\"isShowModalEditUsedTime = false\"\r\n  (nzOnOk)=\"handleUpdateUsedTime()\"\r\n  [nzTitle]=\"'Edit used time' | translate\"\r\n  [nzFooter]=\"modalFooterEditUsedTime\" >\r\n\r\n  <ng-container *nzModalContent>\r\n    <div nz-row [nzGutter]=\"16\">\r\n      <div nz-col nzSpan=\"12\">\r\n        <p style=\"margin-bottom: 4px\"><b>{{'_Started at' | translate}}</b></p>\r\n        <nz-date-picker [(ngModel)]=\"tempStartTime\"\r\n          nzFormat=\"dd/MM/yyyy HH:mm:ss\"\r\n          nzShowTime\r\n          [nzAllowClear]=\"false\"\r\n          style=\"width: 100%;\">\r\n        </nz-date-picker>\r\n      </div>\r\n      <div nz-col nzSpan=\"12\">\r\n        <p style=\"margin-bottom: 4px\"><b>{{'Ended at' | translate}}</b></p>\r\n        <nz-date-picker [(ngModel)]=\"tempEndTime\"\r\n          nzFormat=\"dd/MM/yyyy HH:mm:ss\"\r\n          nzShowTime\r\n          nzAllowClear\r\n          style=\"width: 100%;\">\r\n        </nz-date-picker>\r\n      </div>\r\n    </div>\r\n\r\n    <div style=\"margin-top: 32px\">\r\n      <p style=\"margin-bottom: 4px\"><b>*{{'_Note' | translate}}:</b></p>\r\n      <p style=\"margin-bottom: 0px\">{{'The start time must be less than or equal to the current time.' | translate}}</p>\r\n      <p style=\"margin-bottom: 0px\">{{'The end time must be greater than the start time.' | translate}}</p>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-template #modalFooterEditUsedTime>\r\n    <button (click)=\"isShowModalEditUsedTime = false\"\r\n      nz-button class=\"nz-hover-border\" nzType=\"default\"\r\n      style=\"background-color: var(--ion-color-vh-white); color: var(--ion-color-vh-black)\">{{'Cancel' |translate}}</button>\r\n    <button [disabled]=\"!tempStartTime\"\r\n      (click)=\"handleUpdateUsedTime()\"\r\n      nz-button class=\"nz-hover-border\" style=\"background-color: var(--ion-color-vh-green); color: var(--ion-color-vh-white)\"\r\n      class=\"nz-hover-border-green\">{{'Ok' | translate}}</button>\r\n  </ng-template>\r\n</nz-modal>\r\n\r\n\r\n\r\n<!-- ----------------------------------------------- MODAL HIỂN THỊ THÔNG TIN THANH TOÁN ----------------------------------------------- -->\r\n<nz-modal\r\n    [nzMaskClosable]=\"false\"\r\n    [nzFooter]=\"modalFooterPrintKitchen\"\r\n    [(nzVisible)]=\"isShowModalPaymentInfo\"\r\n    (nzOnCancel)=\"isShowModalPaymentInfo = false\"\r\n    (nzOnOk)=\"payInvoice(willPrintInvoice)\"\r\n    [nzTitle]=\"'Payment information' | translate\" >\r\n    <ng-container *nzModalContent>\r\n        <div class=\"order-bill-contain-bill\" style=\"overflow: auto; box-shadow: none;\">\r\n            <!-- Cộng tiền -->\r\n            <div nz-col nzSpan=\"24\">\r\n                <div>{{'SubTotal' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n            </div>\r\n\r\n            <!-- Giảm giá -->\r\n            <ng-container *ngIf=\"vhAuth.localStorageGET('show_discount')\">\r\n                <div style=\"display: flex;justify-content: space-between; align-items: center;\" nz-col nzSpan=\"24\">\r\n                    <div>{{'Discount value' | translate}}</div>\r\n                    <!-- % -->\r\n                    <span>{{percent_discount_bill | number:'1.0-2'}} %</span>\r\n                    <!-- Value -->\r\n                    <span class=\"text-end\">{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</span>\r\n                </div>\r\n            </ng-container>\r\n\r\n            <!-- Chiết khấu -->\r\n            <div *ngIf=\"discount_bill\" style=\"display: flex;justify-content: space-between; align-items: center;\"\r\n                nz-col nzSpan=\"24\">\r\n                <div>{{'Discount' | translate}}\r\n                </div>\r\n                <span>{{vhAlgorithm.vhcurrencyunit(discount_bill)}} </span>\r\n            </div>\r\n\r\n            <!-- Thanh toán điển -->\r\n            <div *ngIf=\"invoice.payment_points\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                <div>{{'Point payment' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_points)}}</div>\r\n            </div>\r\n\r\n            <!-- Thanh toán phiếu -->\r\n            <div *ngIf=\"invoice.payment_coupons\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n                <div>{{'Coupon payment' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_coupons)}}</div>\r\n            </div>\r\n\r\n            <!-- Phí -->\r\n            <div nz-row *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n                <div nz-col nzSpan=\"12\">{{'Fee' | translate}}</div>\r\n                <span nz-col nzSpan=\"12\" class=\"text-end\">{{vhAlgorithm.vhcurrencyunit(invoice_fee)}}</span>\r\n            </div>\r\n\r\n            <!-- Thuế -->\r\n            <div class=\"order-bill-contain-bill-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n                <div>{{'Tax' | translate}}</div>\r\n                <div *ngIf=\"data\">\r\n                    <span>{{data.tax}}%</span>\r\n                </div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(taxValue)}}</div>\r\n            </div>\r\n\r\n            <!-- Tổng -->\r\n            <div class=\"order-bill-contain-bill-total\" nz-col nzSpan=\"24\">\r\n                <div>{{'Total' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(getTotalATax())}}</div>\r\n            </div>\r\n\r\n            <!-- Thanh toán -->\r\n            <div nz-row>\r\n                <div nz-col nzSpan=\"12\">\r\n                    <b>{{'Pay' | translate}}</b>\r\n                </div>\r\n                <div nz-col nzSpan=\"12\" style=\"text-align: end;\">\r\n                    <b class=\"payment-price\">{{vhAlgorithm.vhcurrencyunit(invoice.payment)}}</b>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Nợ lại -->\r\n            <div class=\"order-bill-contain-bill-rest\" nz-col nzSpan=\"24\"\r\n                *ngIf=\"vhAuth.localStorageGET('show_rest')\">\r\n                <div>{{'Rest' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit_symbol(getTotalATax() - invoice.payment)}}</div>\r\n            </div>\r\n\r\n            <!-- Phương thức thanh toán -->\r\n            <div nz-col nzSpan=\"24\">\r\n                <div>{{'Payment method' | translate}}</div>\r\n                <span nz-col nzSpan=\"12\" class=\"text-end payment-price\">{{getPaymentTypeLabel(invoice.payment_type)}}</span>\r\n            </div>\r\n\r\n            <!-- Tiền khách đưa -->\r\n            <div nz-row style=\"margin-top: 10px;\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                <div nz-col nzSpan=\"12\">{{'cash' | translate}}</div>\r\n                <div nz-col nzSpan=\"12\" style=\"text-align: end;\" id=\"cash\">\r\n                    <span class=\"payment-price\">{{vhAlgorithm.vhcurrencyunit(invoice_cash)}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Tiền thối lại -->\r\n            <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_cash')\">\r\n                <div>{{'Change' | translate}}</div>\r\n                <div>{{vhAlgorithm.vhcurrencyunit(invoice.cash - invoice.payment > 0 ? this.invoice.cash - invoice.payment : 0)}}</div>\r\n            </div>\r\n\r\n            <!-- Ghi chú -->\r\n            <div nz-col nzSpan=\"24\" id=\"note\" *ngIf=\"vhAuth.localStorageGET('show_note')\"\r\n                style=\"padding-top: 16px;\">\r\n                <span class=\"payment-price\">{{invoice_note}}</span>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n    <ng-template #modalFooterPrintKitchen>\r\n        <div class=\"order-bill-btn\">\r\n            <button style=\"width: 100%;\"\r\n                [disabled]=\"!invoice_detail.length\"\r\n                (click)=\"payInvoice(willPrintInvoice)\" nz-button class=\"order-and-print\">\r\n                {{'Complete' | translate}}\r\n            </button>\r\n        </div>\r\n    </ng-template>\r\n</nz-modal>\r\n","import { BestSellingComponent } from './components/best-selling/best-selling.component';\r\nimport { PaymentTypeComponent } from './components/payment-type/payment_type.component';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\n\r\n\r\nimport { CustomerProfileComponent } from './components/customer-profile/customer-profile.component';\r\nimport { AddCustomerComponent } from './components/add-customer/add-customer.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CreateOrderComponent } from '../create-order/create-order.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { StaffPosComponent } from './components/staff-pos/staff-pos.component';\r\nimport { CustomerPosComponent } from './components/customer-pos/customer-pos.component';\r\nimport { StockPosModule } from '../components/stock-pos/stock-pos.module';\r\nimport { DeliveryPosComponent } from './components/delivery-pos/delivery-pos.component';\r\nimport { ChangePriceTypeComponent } from './components/change-price-type/change-price-type.component';\r\nimport { CheckFeesComponent } from './components/check-fees/check-fees.component';\r\nimport { RetailInfoComponent } from './components/retail-info/retail-info.component';\r\nimport { AddAddressDeliveryComponent } from './components/delivery-addresss-component/add-address-delivery/add-address-delivery.component';\r\nimport { ListAddressCustomerGhnComponent } from './components/delivery-addresss-component/list-address-customer-ghn/list-address-customer-ghn.component';\r\nimport { VnpostModule } from 'src/app/sales/menu/manage/delivery/carrier-partner/components/vnpost-component/vnpost.module';\r\nimport { ViettelModule } from 'src/app/sales/menu/manage/delivery/carrier-partner/components/viettel-component/viettel.module';\r\nimport { SearchModule } from 'src/app/sales/components/search/search.module';\r\nimport { SubPosComponent } from './components/sub-pos/sub-pos.component';\r\nimport { TemplateSubPos1Component } from './components/template-sub-pos1/template-sub-pos1.component';\r\nimport { TemplateSubPos2Component } from './components/template-sub-pos2/template-sub-pos2.component';\r\nimport { TemplateSubPos3Component } from './components/template-sub-pos3/template-sub-pos3.component';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CreateOrderComponent,\r\n    StaffPosComponent,\r\n    CustomerPosComponent,\r\n    AddCustomerComponent,\r\n    CustomerProfileComponent,\r\n    DeliveryPosComponent,\r\n    PaymentTypeComponent,\r\n    BestSellingComponent,\r\n    ChangePriceTypeComponent,\r\n    CheckFeesComponent,\r\n    RetailInfoComponent,\r\n    ListAddressCustomerGhnComponent,\r\n    AddAddressDeliveryComponent,\r\n    SubPosComponent,\r\n    TemplateSubPos1Component,\r\n    TemplateSubPos2Component,\r\n    TemplateSubPos3Component,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    StockPosModule,\r\n    ScrollingModule,\r\n    VnpostModule,\r\n    ViettelModule,\r\n    SearchModule,\r\n    PortalModule\r\n  ],\r\n  exports: [\r\n    CreateOrderComponent\r\n  ]\r\n})\r\nexport class CreateOrderModule { }\r\n","import { NzNotificationService } from 'ng-zorro-antd/notification';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { Component, OnInit, NgZone } from '@angular/core';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { VhAuth, VhQuery, VhQuerySales, VhAlgorithm, VhDisplayLEDService } from 'ionic-vhframeworks';\r\nimport { Router } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Platform } from '@ionic/angular';\r\nimport { VhSaleInvoiceEdit } from '../components/bill-type/bill-type-1/sales-desktop/sales-desktop-interface';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ThemeService } from '../services/theme.service';\r\n\r\n@Component({\r\n  selector: 'app-sales-pos',\r\n  templateUrl: './sales-pos.component.html',\r\n  styleUrls: ['./sales-pos.component.scss']\r\n})\r\nexport class SalesPosComponent implements OnInit {\r\n  useBranch: boolean = this.functionService.checkUsingBranch()\r\n  listInvoices: any[] = [];\r\n  selectedIndex: number = 0\r\n  startTime: Date = new Date()\r\n  endTime: Date = new Date();\r\n  isloaded = false;\r\n  isAdding = false // biến check sự kiện đang tạo đơn\r\n  public langList: any[] = [\r\n    { name: 'Vietnamese', value: 'vi', img: 'assets/icon/settings/language/vi.svg', country_code: 'VN' },\r\n    { name: 'English', value: 'en', img: 'assets/icon/settings/language/en.svg', country_code: 'US' }\r\n  ];\r\n  showModalSelectOrderInterface = false;\r\n  public lang: string = this.vhAuth.localStorageGET('language_code');\r\n  showConfig = false //  biến show modal cấu hình\r\n  showConfigPrint = false//  biến show modal cấu hình may in\r\n  showConfigSales = false//  biến show modal cấu hình trang bán hàng\r\n  size: any = [12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n  price_type: any;\r\n  show_modal_choose_interface: boolean = false;\r\n  showPortal = false;\r\n  templates: { name: string; url: string; giai_thich: string; }[] = [];\r\n  store_main_sector = '';\r\n  country_code = 'VN';\r\n  language = 'vi';\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    public vhQuerySales: VhQuerySales,\r\n    private router: Router,\r\n    private vhQuery: VhQuery,\r\n    private mess: NzMessageService,\r\n    private vhAlgorithm: VhAlgorithm,\r\n    private ngZone: NgZone,\r\n    private functionService: FunctionService,\r\n    private nzModalService: NzModalService,\r\n    private notification: NzNotificationService,\r\n    private plaform: Platform,\r\n    private http: HttpClient,\r\n    private vhDisplayLEDService: VhDisplayLEDService,\r\n    public themeService: ThemeService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.startTime.setHours(0, 0, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 59);\r\n    if (!this.vhAuth.localStorageGET(\"default_discount_price_type\")) {\r\n      this.vhAuth.localStorageSET(\"default_discount_price_type\", { value: '%' });\r\n    }\r\n    // if (this.syncStatus) {\r\n    this.useBranch = this.functionService.checkUsingBranch();\r\n    let splash = document.getElementById(\"lottie-sync\")\r\n    if (splash) splash.remove()\r\n    // this.removeSync();\r\n    this.getInvoiceToday();\r\n    this.checkBranches();\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id)\r\n    // check xem nv bán mặc định giá nào\r\n    if (this.vhAuth.checkMyPermission('default_price_type_1')) this.price_type = 1;\r\n    else if (this.vhAuth.checkMyPermission('default_price_type_2')) this.price_type = 2;\r\n\r\n    this.checkExpireAccount();\r\n    if (this.plaform.is('electron')) {\r\n      this.vhQuerySales.connectDisplayLEDScreens()\r\n    }\r\n\r\n    this.eventKeypress();\r\n\r\n    this.store_main_sector = this.vhAuth.getStore().main_sector; // Lấy main_sector của cửa hàng\r\n    this.http.get(`assets/documents/configuration/template/${this.country_code}/${this.store_main_sector}.json`).subscribe((templates) => {\r\n      this.templates = templates[this.language];\r\n    }); // Lấy giao diện theo main_sector của cửa hàng\r\n  }\r\n\r\n  /**\r\n   * hàm này để cập nhật trường default_selling_page dành cho tk cũ\r\n   * nếu  check permission.desktop_display_page && pos_display_page\r\n   * thì cập nhật trường default_selling_page = desktop_display_page và permission.selling_display_page = true\r\n   *@example this.updateDefaultSellingPage()\r\n   */\r\n  updateDefaultSellingPage() {\r\n    if (!this.vhAuth.getUser().default_selling_page) { // kiểm tra nếu chưa có trường này trong user thì mới tiếp tục check\r\n      if (this.vhAuth.getUser().owner == 'boss' && !this.vhAuth.getUser().default_selling_page) {\r\n        this.vhAuth.updateEmployee(this.vhAuth.getUser()._id, { default_selling_page: 'sales-desktop' })\r\n      }\r\n      else {\r\n        if (this.vhAuth.checkMyPermission('desktop_display_page') && this.vhAuth.checkMyPermission('pos_display_page'))\r\n          Promise.all([this.vhAuth.updatePermission(this.vhAuth.getUser()._id, { selling_display_page: true }),\r\n          this.vhAuth.updateEmployee(this.vhAuth.getUser()._id, { default_selling_page: 'sales-desktop' })])\r\n        else {\r\n          if (this.vhAuth.checkMyPermission('desktop_display_page')) Promise.all([this.vhAuth.updatePermission(this.vhAuth.getUser()._id, { selling_display_page: true }),\r\n          this.vhAuth.updateEmployee(this.vhAuth.getUser()._id, { default_selling_page: 'sales-desktop' })])\r\n          else if (this.vhAuth.checkMyPermission('pos_display_page')) Promise.all([this.vhAuth.updatePermission(this.vhAuth.getUser()._id, { selling_display_page: true }),\r\n          this.vhAuth.updateEmployee(this.vhAuth.getUser()._id, { default_selling_page: 'sales-pos' })])\r\n        }\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * kiểm tra tài khoản hết hạn chưa\r\n   *  @example this.checkExpireAccount()\r\n   */\r\n  checkExpireAccount() {\r\n    // this.vhQuerySales.refreshLocalRestrictionMainPackage().then(()=>{\r\n    let number = this.getNumberOfDay(new Date(), new Date(this.vhQuerySales.getLocalRestrictionMainPackage().expire_date))\r\n    if (number > 3) {// check sau 3 ngày hết hạn hiện thông báo\r\n      // check tiếp  còn trong hạn được phép sử dụng hay ko\r\n      if (number < this.vhQuerySales.getLocalRestrictionMainPackage().extra_usage_duration) {\r\n        this.nzModalService.confirm({\r\n          nzTitle: this.languageService.translate('Branch') + ': ' + this.vhQuerySales.getDefaultBranch().name + ' ' + this.languageService.translate('has expired') + '. ' + this.languageService.translate('Please renew to continue') + '!',\r\n          nzOkText: this.languageService.translate('Pay'),\r\n          nzCancelText: \"Tiếp tục\",\r\n          nzClosable: false,\r\n          nzCloseIcon: null,\r\n          nzOnOk: () => {\r\n            // go to thanh toán\r\n            this.vhQuerySales.getPayments(\r\n              { id_store: { $eq: this.vhAuth.getUser()._id }, payment_type: { $eq: 5 } },\r\n              {},\r\n              {},\r\n              0\r\n            ).then((payments: any) => {\r\n              if (payments) {\r\n                if (payments.length > 0) {\r\n                  this.router.navigate(['/sales/payment/detail'],\r\n                    {\r\n                      state: payments\r\n                    });\r\n                } else if (payments == 0) {\r\n                  this.router.navigate(['/sales/payment']);\r\n                }\r\n              }\r\n            })\r\n          },\r\n          nzOnCancel: () => {\r\n\r\n          }\r\n        })\r\n      }\r\n      else {\r\n        this.nzModalService.confirm({\r\n          nzTitle: \"Chi nhánh hiện tại của bạn đã tạm khóa. Vui lòng gia hạn để tiếp tục!\",\r\n          nzOkText: this.languageService.translate('Pay'),\r\n          nzCancelText: this.languageService.translate('Continue'),\r\n          nzCloseIcon: null,\r\n          nzClosable: false,\r\n          nzOnOk: () => {\r\n            // go to thanh toán\r\n            this.vhQuerySales.getPayments(\r\n              { id_store: { $eq: this.vhAuth.getUser()._id }, payment_type: { $eq: 5 } },\r\n              {},\r\n              {},\r\n              0\r\n            ).then((payments: any) => {\r\n              if (payments) {\r\n                if (payments.length > 0) {\r\n                  this.router.navigate(['/sales/payment/detail'],\r\n                    {\r\n                      state: payments\r\n                    });\r\n                } else if (payments == 0) {\r\n                  this.router.navigate(['/sales/payment']);\r\n                }\r\n              }\r\n            })\r\n          },\r\n          nzOnCancel: () => {\r\n            this.router.navigate([\"/login\"])\r\n          }\r\n\r\n        })\r\n      }\r\n    }\r\n    // if (number > -7 && number < 0) this.createBasicNotification(number)\r\n\r\n    // },\r\n    // err => {\r\n    //   this.router.navigate([\"/login\"])\r\n    // })\r\n  }\r\n  /**\r\n     * hiển thị thông báo sắp hết hạn\r\n     * @param number ngày còn hạn\r\n     * @example  this.createBasicNotification(3);\r\n     */\r\n  createBasicNotification(number): void {\r\n    this.notification.blank(\r\n      this.languageService.translate('Your account is about to expire'),\r\n      this.languageService.translate(\"Your account still has\") + \" \" + parseInt((number * -1).toString()) + \" \" + this.languageService.translate(\"days of usage left. Please update your service package to avoid interruptions.\"),\r\n      {\r\n        nzPlacement: \"topRight\",\r\n        nzDuration: 8000\r\n      }\r\n    );\r\n  }\r\n\r\n  event: any\r\n  /**\r\n   * bắt sự kiện nhấn f1-f2-f3-f4-f5\r\n   */\r\n  eventKeypress() {\r\n    this.event = (event: any) => {\r\n      const keycode = event.keyCode;\r\n      if (keycode === 115) this.searchProductList = !this.searchProductList;\r\n    }\r\n\r\n    document.addEventListener('keydown', this.event, false);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    document.removeEventListener('keydown', this.event, false);\r\n    if (this.plaform.is('electron')) this.vhQuerySales.disconnectDisplayLEDScreens()\r\n  }\r\n\r\n  /**\r\n   * thiết lập lại ngôn ngữ hiển thị trên app\r\n   * @param value biến giá trị language đã chọn\r\n   * @example this.selectLang('vi')\r\n   */\r\n  public selectLang(value: string) {\r\n    let lang = this.langList.find(item => item.value == value)\r\n    this.vhAuth.localStorageSET('language_code', value)\r\n    this.vhAuth.localStorageSET('country_code', lang.country_code)\r\n    localStorage.setItem(\"vh-sales-language\", value)\r\n    this.translateService.use(value)\r\n    this.languageService.switchLanguage(value)\r\n  }\r\n\r\n  /**\r\n   * get hóa đơn trong ngày và gán vào biến listInvoices\r\n   * @example this.getInvoiceToday()\r\n   */\r\n  getInvoiceToday() {\r\n    this.listInvoices = []\r\n    this.vhQuerySales.getBills_byFields({ bill_type: { $eq: 5 }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id }, id_employee: { $eq: this.vhAuth.getUser()._id }, id_shop: { $eq: 'local' } }, {})\r\n      .then((invoice: VhSaleInvoiceEdit[]) => {\r\n        this.listInvoices = invoice.map(item => {\r\n          return { ...item, partner_name: this.renderPartner(item.id_customer), payment_name: this.renderPayment(item.payment_type, item.id_wallet), employee_name: this.vhAuth.getlocalEmployee(item.id_employee).name, phone: this.vhAuth.getlocalEmployee(item.id_employee).phone }\r\n        })\r\n        this.isloaded = true;\r\n        if (!invoice.length) {\r\n          this.newOrder()\r\n        }\r\n\r\n      })\r\n  }\r\n  /**\r\n    * trả về tên của khách hàng\r\n    * @param id_partner : id_customer của bill\r\n    * @example this.renderPartner('JHIDUWHUYDWIUHUDY')\r\n    * @returns string : customer_name | \"Not found\"\r\n    */\r\n  renderPartner(id_partner: string) {\r\n    let customer: string = this.languageService.translate(this.vhQuerySales.getlocalCustomer(id_partner).name)\r\n\r\n    return customer ? customer : this.languageService.translate(\"Not found\")\r\n  }\r\n  /**\r\n    * trả về tên của phương thức thanh toán\r\n    * @param payment_type : payment_type của bill\r\n    * @example this.renderPayment(1)\r\n    * @returns string : customer_name | \"Not found\"\r\n    */\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.languageService.translate('Cash')\r\n      case 2: return this.languageService.translate('Debit')\r\n      case 3: return this.vhQuerySales.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * tạo bill mới, nhận từ sk nút tạo hóa đơn ở tab\r\n   * @example this.newOrder()\r\n   * @returns Promise<bool>\r\n   */\r\n  newOrder(): Promise<any> {\r\n    this.isAdding = true // biến cờ để check mỗi lần chỉ add 1 bill dù bấm tạo đơn nhiều lần cùng lúc\r\n    // thông tin bill default\r\n    return new Promise((resolve, rejects) => {\r\n      let bill = {\r\n        bill_type: 5,\r\n        payment_type: 1,\r\n        id_customer: 'id_retail',\r\n        tax_buyerDisplayName: 'Người mua không lấy hoá đơn',\r\n        tax_buyerLegalName: '',\r\n        tax_buyerTaxCode: '',\r\n        tax_buyerAddressLine: '',\r\n        tax_buyerEmail: '',\r\n        id_shop: 'local',\r\n        id_branch: this.vhQuerySales.getDefaultBranch()._id,\r\n        id_employee: this.vhAuth.getUser()._id,\r\n        id_wallet: 'id_cash',\r\n        date: new Date(),\r\n        cqt_status : 1,\r\n        total: 0,\r\n        payment: 0,\r\n        tax: 0,\r\n        discount: 0,\r\n        fee: 0,\r\n        note: '',\r\n        price_type: 1,\r\n        id_delivery: '',\r\n        payment_points: 0,\r\n        payment_coupons: 0,\r\n        discount_bill: 0,\r\n        earning_points_bill: 0,\r\n        use_points: 0,\r\n        cash: 0\r\n      }\r\n      let default_price_type = 1\r\n      if (this.vhAuth.checkMyPermission('default_price_type_1')) default_price_type = 1;\r\n      else if (this.vhAuth.checkMyPermission('default_price_type_2')) default_price_type = 2;\r\n      bill.price_type = default_price_type\r\n      if (!this.listInvoices.length) { // neu chưa có bill thì tạo rồi mới push\r\n        this.vhQuerySales.createBill_Billdetail(bill, [])\r\n          .then((bill: any) => {\r\n\r\n\r\n            this.isAdding = false\r\n            this.listInvoices.push(bill);\r\n            this.selectedIndex = this.listInvoices.length;\r\n            resolve(true)\r\n          }, (error: any) => {\r\n\r\n            rejects(error)\r\n          })\r\n      }\r\n      else {// neu đã có bill thì  push trước rồi tạo mới\r\n        this.listInvoices.push({ ...bill, bill_code: 'New bill', _id: '', id_shop: 'local' });\r\n        Promise.all([\r\n          this.vhQuerySales.createBill_Billdetail(bill, [])])\r\n          .then(([bill]) => {\r\n\r\n            this.isAdding = false\r\n            this.listInvoices[this.listInvoices.length - 1]._id = bill._id;\r\n            this.listInvoices[this.listInvoices.length - 1].bill_code = bill.bill_code;\r\n            this.selectedIndex = this.listInvoices.length;\r\n            resolve(true)\r\n          }, (error: any) => {\r\n\r\n            rejects(error)\r\n          })\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * xóa bill, nhận từ sk xóa tab\r\n   * @param index : vị trí bill trong mảng\r\n   * @example this.closeOrder(1)\r\n   */\r\n  closeOrder({ index }: { index: number }): void {\r\n    // if (this.vhAuth.checkMyPermission('sales_enable_create_bill'))\r\n    this.vhComponent.alertConfirm(`${this.languageService.translate(\"Confirm\")}`, \"\", `${this.languageService.translate(\"Are you sure to cancel the sales order\")}?`, \"OK\", this.languageService.translate('Cancel'))\r\n      .then(() => {\r\n        if (index == this.selectedIndex) this.vhQuerySales.closeSyncOpeningBill()\r\n        this.vhComponent.showLoading('').then(() => {\r\n          this.vhQuerySales.deleteBill_Billdetail(this.listInvoices[index]._id)\r\n            .then(() => {\r\n              this.vhComponent.alertMessageDesktop(\"success\", this.languageService.translate(\"Invoice deleted successfully\") + \"!\")\r\n              this.listInvoices.splice(index, 1);\r\n              if (!this.listInvoices.length) {\r\n                this.newOrder().then(() => {\r\n                  this.vhComponent.hideLoading(0)\r\n                })\r\n              }\r\n              else\r\n                this.vhComponent.hideLoading(0);\r\n            }, (error: any) => {\r\n              this.listInvoices.splice(index, 1);\r\n              if (!this.listInvoices.length) {\r\n                this.newOrder().then(() => {\r\n                  this.vhComponent.hideLoading(0)\r\n                })\r\n              }\r\n              else\r\n                this.vhComponent.hideLoading(0);\r\n              this.mess.create('error', this.languageService.translate(\"An error while deleting this invoice\"))\r\n            })\r\n        })\r\n      }, () => { })\r\n    // else this.mess.create('error', this.languageService.translate(\"You do not have this rights\"),{nzDuration:5000})\r\n  }\r\n\r\n  /**\r\n   * xóa bill trong local nhận từ output trả về bill bị error ko thể load\r\n   * @param index\r\n   * @example this.deleteBillError(1)\r\n   */\r\n  deleteBillError(index) {\r\n\r\n\r\n    this.listInvoices.splice(index, 1);\r\n    if (!this.listInvoices.length) {\r\n      this.newOrder()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * xử lý sự kiện thanh toan bill hoặc xóa bill\r\n   * @param id_bill\r\n   * @example this.handleSaveBill('GBDUWYGQLHODIUEWDWQF')\r\n   */\r\n  handleSaveBill(id_bill) {\r\n    this.listInvoices.splice(this.listInvoices.findIndex(item => item._id == id_bill), 1);\r\n    if (!this.listInvoices.length) {\r\n      this.newOrder().then(() => {\r\n      })\r\n    }\r\n    // this.selectedIndex = this.listInvoices.length >0 ? --this.selectedIndex : 0;\r\n  }\r\n\r\n  //Search product list\r\n  searchProductList: boolean = false\r\n\r\n\r\n  /**\r\n     * đăng xuất khỏi app\r\n     * @example this.logout()\r\n     */\r\n  logout() {\r\n    this.vhAuth.signOut().then(() => {\r\n      this.vhQuerySales.closeSyncCollections();\r\n      this.vhQuerySales.clearDefaultBranch() //xóa branchDefault trước khi thoát app\r\n      this.router.navigate([\"/login\"]);\r\n    }, error => {\r\n      console.error('error', error);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * chuyển qua trang quản trị và cập nhật lại default_display_page của user\r\n   * @param url\r\n   * @param permission\r\n   * @example this.updateInterface('dashbord', 'admin_display_page')\r\n   */\r\n  public updateInterface(type, permission) {\r\n    if (this.vhAuth.checkMyPermission(permission)) {\r\n      Promise.all([this.vhComponent.showLoading(this.languageService.translate(\"Changing interface...\"), \"current-loading\", null, null, false),\r\n      this.vhAuth.updateMyPermission({ default_display_page: permission }),\r\n      ])\r\n        .then(() => {\r\n          this.vhComponent.hideLoading(0)\r\n          setTimeout(() => {\r\n            this.router.navigate(['/sales/' + type], { state: { isSync: true } });\r\n          }, 200);\r\n\r\n        })\r\n    }\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_pos\", true)\r\n  }\r\n\r\n  default_selling_page = this.vhAuth.getLocalMyPermissionName('default_selling_page')\r\n  /**\r\n     * thiết lập giao diện trang bán hàng mặc định khi mở app : sale-pos | sale-desktop\r\n     * @example this.updateSalesInterface()\r\n     */\r\n  updateSalesInterface() {\r\n    this.vhComponent.showLoading('').then(() => {\r\n      this.vhAuth.updateMyPermission({ default_selling_page: this.default_selling_page, default_display_page: 'selling_display_page' })\r\n        .then((bool) => {\r\n          this.vhComponent.hideLoading(0)\r\n            .then(() => {\r\n              this.router.navigate(['/sales/' + this.default_selling_page], { state: { isSync: true } })\r\n            })\r\n        })\r\n    })\r\n  }\r\n\r\n\r\n  /////////////------------------------FONT_SIZE---------------------------//////////////\r\n  public fontSize: number = parseFloat(localStorage.getItem(\"vh-sales-system-fontsize\"));\r\n  public setFontSize(value) {\r\n    localStorage.setItem(\"vh-sales-system-fontsize\", JSON.stringify(value))\r\n    this.fontSize = value\r\n    document.documentElement.style.fontSize = value + 'px'\r\n  }\r\n  /////////////------------------------COLOR---------------------------//////////////\r\n  changeColor(theme, event) {\r\n    this.vhAuth.changeTheme(theme, event)\r\n  }\r\n\r\n  /**Xử lý branches */\r\n  branchList: Array<any> = [];\r\n  branchDefault: any = {}\r\n  /**\r\n   * get danh sách chi nhánh đăng nhập của user\r\n   */\r\n  checkBranches() {\r\n    // this.vhQuerySales.refreshLocalBranchs().then(() => {\r\n    let branches = [...this.vhQuerySales.getlocalBranchs()]\r\n    let employee = this.vhAuth.getUser()\r\n    // check branch latest\r\n    this.branchDefault = this.vhQuerySales.getDefaultBranch()\r\n    let thisBranch = this.vhQuerySales.getlocalBranch(this.vhQuerySales.getDefaultBranch()._id)\r\n    if (this.branchDefault.name != thisBranch.name) {\r\n      this.vhQuerySales.clearDefaultBranch()\r\n      this.vhQuerySales.setDefaultBranch(thisBranch._id)\r\n\r\n      this.branchDefault = this.vhQuerySales.getDefaultBranch()\r\n    }\r\n    if (employee['owner'] == 'boss') this.branchList = branches\r\n    else {\r\n      this.vhAuth.getPermission(employee['_id']).then(result => {\r\n        branches.forEach(item => {\r\n          if (result[`${item._id}_login_branch`]) this.branchList.push(item)\r\n        })\r\n      })\r\n    }\r\n    // })\r\n  }\r\n\r\n  /**\r\n   * nhận từ sk chọn thay đổi chi nhánh ở menu header, mở popup xác nhận và router qua trang login\r\n   * @example this.change_branch()\r\n   */\r\n  change_branch() {\r\n    this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", this.languageService.translate(\"Are you sure to change branch\") + \"?\", \"Ok\", this.languageService.translate(\"Cancel\"))\r\n      .then(() => {\r\n        this.vhQuerySales.clearDefaultBranch();\r\n        this.router.navigate(['/login'], { state: { change_branch: true } })\r\n      }).catch(() => { })\r\n  }\r\n  modalAccountInfo: boolean = false;//show/hide moal thông tin tài khoản\r\n  user: any = this.vhAuth.getUser() // thông tin tài khoản hiện tại\r\n  /**Đóng modal và get lại thông tin user */\r\n  closeAccountInfo(event) {\r\n    this.user = this.vhAuth.getlocalEmployee(this.vhAuth.getUser()._id)\r\n    this.modalAccountInfo = false;\r\n  }\r\n\r\n\r\n  /**\r\n   * trả về khoảng cách giữa 2 ngày\r\n   * vd : getNumberOfDay(15/02/2022, 10/02/2022) => return 5\r\n   * */\r\n  getNumberOfDay(date1, date2) {\r\n    return (date1.getTime() - date2.getTime()) / (24 * 3600 * 1000)\r\n  }\r\n\r\n  public gotoChangeVoucher() {\r\n    this.router.navigateByUrl('/sales/exchange-voucher')\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_pos\", true)\r\n  }\r\n\r\n  gotoPrepaidCard() {\r\n    this.router.navigateByUrl('/sales/prepaid-card', { state: { url: this.router.url } })\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_pos\", true)\r\n  }\r\n  gotoSalesVoucher() {\r\n    this.router.navigateByUrl('/sales/sales-voucher')\r\n  }\r\n\r\n  gotoSalesPrepaidCard() {\r\n    this.router.navigateByUrl('/sales/sales-payment-card')\r\n  }\r\n\r\n  gotoSalesOrder() {\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order')\r\n  }\r\n  gotoSalesOrderVoucher() {\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order-voucher')\r\n  }\r\n  gotoExchangeOrderVoucher() {\r\n    this.router.navigateByUrl('/sales/bill-web-app/exchange-order-voucher')\r\n  }\r\n  gotoSalesOrderPrepaidCard() {\r\n    this.router.navigateByUrl('/sales/bill-web-app/sales-order-payment-card')\r\n  }\r\n  gotoExchangeOrderCard() {\r\n    this.router.navigateByUrl('/sales/bill-web-app/exchange-order-payment-card')\r\n  }\r\n}\r\n","<nz-layout class=\"pos\">\r\n    <div class=\"pos-header\" >\r\n        <div nz-row style=\"height: 100%;\">\r\n            <div nz-col nzSpan=\"14\" style=\"padding-right: 8px;\">\r\n                <div class=\"pos-header-tabs\">\r\n                    <nz-tabset [(nzSelectedIndex)]=\"selectedIndex\" nzType=\"editable-card\" (nzAdd)=\"newOrder()\" (nzClose)=\"closeOrder($event)\" [nzHideAdd]=\"isAdding\">\r\n                        <nz-tab *ngFor=\"let tab of listInvoices; let i = index\" nzClosable [nzTitle]=\"tab.bill_code\" (click)=\"selectedIndex = i\"></nz-tab>\r\n                    </nz-tabset>\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"4\" class=\"center-div\">\r\n                <div class=\"pos-header-search\" *ngIf=\"listInvoices.length > 0\">\r\n                    <ng-template #suffixIconSearch>\r\n                        <i nz-icon nzType=\"search\"></i>\r\n                    </ng-template>\r\n                    <nz-input-group [nzSuffix]=\"suffixIconSearch\">\r\n                        <input [disabled]=\"true\" type=\"text\" nz-input placeholder=\"{{'Search (F4)' | translate}}\" />\r\n                    </nz-input-group>\r\n                    <div style=\"position: absolute;top: 0;width: 100%;height: 100%;background-color: transparent;\" (click)=\"searchProductList = true\">\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div nz-col nzSpan=\"6\" class=\"info\" [ngStyle]=\"{'justify-content': useBranch ? 'space-between' : 'flex-end'}\">\r\n                <div class=\"select-branch center-all-content\" *ngIf=\"useBranch\">\r\n                    <ion-icon src=\"assets/icon/global/location.svg\" style=\"margin-right: 8px;\"></ion-icon>\r\n                    <div style=\"font-size:0.9rem\" class=\"select-branch-name\">{{vhQuerySales.getDefaultBranch()?.name}}</div>\r\n                </div>\r\n                <!-- <div style=\"min-width: 80px;\">\r\n                    <nz-select style=\"width: 100%;\" class=\"select-lang\" [(ngModel)]=\"lang\" (ngModelChange)=\"selectLang($event)\" nzBorderless [nzCustomTemplate]=\"defaultTemplate\">\r\n                        <nz-option *ngFor=\"let item of langList\" nzLabel=\"{{item.name | translate}}\" nzCustomContent [nzValue]=\"item.value\">\r\n                            <img style=\"width: 24px;\" [src]=\"item.img\" /> {{item.name}}\r\n                        </nz-option>\r\n                    </nz-select>\r\n                    <ng-template #defaultTemplate let-selected>\r\n                        <img style=\"width: 24px;\" src=\"assets/icon/settings/language/{{selected.nzValue}}.svg\" /> {{selected.nzLabel}}\r\n                    </ng-template>\r\n                </div> -->\r\n                <div class=\"center-div\" style=\"cursor: pointer;height: 100%;\" nz-dropdown [nzDropdownMenu]=\"menu\" nzTrigger=\"click\">\r\n                    <div style=\"white-space: nowrap;font-size: 0.9rem; margin-right: 4px; text-transform: capitalize;\">\r\n                        {{user.name}}</div>\r\n                    <nz-avatar [nzSrc]=\"user.img ? user.img : 'https://raw.githubusercontent.com/Viethas-App/Sales365-Desktop-Electron/refs/heads/main/assets/template/avatar-shop.png'\"></nz-avatar>\r\n                </div>\r\n                <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n                    <ul nz-menu nzSelectable>\r\n                        <!-- <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                            <ng-template #titleTpl><i nz-icon nzType=\"swap\" nzTheme=\"outline\"></i><span style=\"margin-left: -1px;\"> {{'Sales' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"updateInterface('sales-pos','pos_display_page')\" [nzDisabled]=\"!vhAuth.checkMyPermission('pos_display_page')\" [ngClass]=\"{'selected': user.default_display_page == 'pos_display_page'}\">\r\n                                    <i nz-icon nzType=\"border-outer\" nzTheme=\"outline\"></i> {{'POS sales interface' | translate}}</li>\r\n                                <li nz-menu-item (click)=\"updateInterface('sales-desktop','desktop_display_page')\" [nzDisabled]=\"!vhAuth.checkMyPermission('desktop_display_page')\" [ngClass]=\"{'selected': user.default_display_page == 'desktop_display_page'}\">\r\n                                    <i nz-icon nzType=\"desktop\" nzTheme=\"outline\"></i> {{'Desktop sales interface' | translate}}\r\n                                </li>\r\n\r\n                            </ul>\r\n                        </li> -->\r\n                        <li nz-menu-item style=\"color: var(--ion-color-vh-green);\"><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i> {{'Sales' | translate}}</li>\r\n                        <li nz-menu-item (click)=\"updateInterface('dashboard','admin_display_page')\" [nzDisabled]=\"!vhAuth.checkMyPermission('admin_display_page')\"><i nz-icon nzType=\"home\" nzTheme=\"outline\"></i> <span style=\"margin-left: 3px;\">{{'Administrator'| translate}}</span></li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplSalesVoucher\">\r\n                            <ng-template #titleTplSalesVoucher><i nz-icon nzType=\"dollar\" nzTheme=\"outline\"></i><span style=\"margin-left: -1px;\"> {{'Sell voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Sell voucher' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Sell prepaid card' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTpl\">\r\n                            <ng-template #titleTpl><i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i><span style=\"margin-left: -1px;\"> {{'Exchange voucher/card' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoChangeVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Exchange voucher for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Exchange prepaid card for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n\r\n                        <li nz-submenu [nzTitle]=\"titleTplWebAPp\">\r\n                            <ng-template #titleTplWebAPp><span nz-icon nzType=\"global\" nzTheme=\"outline\"></span><span style=\"margin-left: 1px;\">{{'Order from web/app' | translate}}</span></ng-template>\r\n                            <ul>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrder()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Orders' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Voucher purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderVoucher()\">\r\n                                    <i nz-icon nzType=\"gift\" nzTheme=\"outline\"></i> {{'Voucher exchange order for goods' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoSalesOrderPrepaidCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card purchase order' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"gotoExchangeOrderCard()\">\r\n                                    <i nz-icon nzType=\"credit-card\" nzTheme=\"outline\"></i> {{'Prepaid card exchange order for goods' | translate}}\r\n                                </li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"modalAccountInfo =true\" nz-menu-item><i nz-icon nzType=\"user\" nzTheme=\"outline\"></i> {{'Account information' | translate}}\r\n                        </li>\r\n                        <li *ngIf=\"branchList.length > 1\" (click)=\"change_branch()\" nz-menu-item><i nz-icon nzType=\"branches\" nzTheme=\"outline\"></i> {{'Change branch' | translate}}\r\n                        </li>\r\n                        <li (click)=\"show_modal_choose_interface= true\" nz-menu-item><i nz-icon nzType=\"retweet\" nzTheme=\"outline\"></i> {{'Change sales interface' | translate}}\r\n                        </li>\r\n                        <li nz-submenu [nzTitle]=\"titleTplSetting\" >\r\n                            <ng-template #titleTplSetting><span nz-icon nzType=\"setting\" nzTheme=\"outline\"></span><span style=\"margin-left: -1px;\">{{'Sales page settings' | translate}}</span></ng-template>\r\n                            <ul style=\"min-width: 125px;\">\r\n                                <li nz-menu-item (click)=\"showConfigSales = true\">\r\n                                    <i nz-icon nzType=\"eye\" nzTheme=\"outline\"></i> {{'Display' | translate}}\r\n                                </li>\r\n                                <li nz-menu-item (click)=\"showConfigPrint = true\">\r\n                                    <i nz-icon nzType=\"printer\" nzTheme=\"outline\"></i> {{'Print page' | translate}}</li>\r\n                                <li nz-menu-item (click)=\"showConfig = true\">\r\n                                    <i nz-icon nzType=\"setting\" nzTheme=\"outline\"></i> {{'Others'| translate}}</li>\r\n                            </ul>\r\n                        </li>\r\n                        <li (click)=\"logout()\" nz-menu-item><i nz-icon nzType=\"logout\" nzTheme=\"outline\"></i> {{'Log out' | translate}}\r\n                        </li>\r\n                    </ul>\r\n                </nz-dropdown-menu>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <nz-layout class=\"pos-content\" *ngIf=\"isloaded\">\r\n        <app-create-order (billError)=\"deleteBillError(selectedIndex)\" [showPortal]=\"showPortal\" (reloadAllBill)=\"getInvoiceToday()\" [data]=\"listInvoices[selectedIndex]\" style=\"height: 100%;\" [searchProductList]=\"searchProductList\" (closeSearchProductListEmitter)=\"searchProductList = $event  \"\r\n            (saveBill)=\"handleSaveBill($event)\"></app-create-order>\r\n    </nz-layout>\r\n    <!-- <div style=\"width: 100%; height: 100%\" id=\"lottie-sync\">\r\n        <div class=\"splash\">\r\n            <ng-lottie [options]=\"options\" (animationCreated)=\"animationCreated($event)\"></ng-lottie>\r\n            <div style=\"font-size: 1rem; text-align: center;\">{{'Syncing data...' | translate}}</div>\r\n        </div>\r\n    </div> -->\r\n    <ng-container >\r\n        <i *ngIf=\"!isloaded\" style=\"font-size: 3rem;height: 100%;position: fixed;width: 100%;top: 45%;\" nz-icon nzType=\"loading\" nzTheme=\"outline\"></i>\r\n    </ng-container>\r\n\r\n</nz-layout>\r\n<!-- ---------------------modal chọn giao diện gọi món------------------- -->\r\n<!-- <nz-modal nzWidth=\"70vw\" [(nzVisible)]=\"showModalSelectOrderInterface\" (nzOnOk)=\"updateInterface(order.interface)\"\r\n    (nzOnCancel)=\"showModalSelectOrderInterface = false\" [nzTitle]=\"'Order interface' | translate\"\r\n    nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"row custom-scroll-bar\">\r\n            <div nz-col nzSpan=\"12\" class=\"bottom-right col\">\r\n                <div class=\"border-hover\" (click)=\"order.interface = 'sales-pos'\"\r\n                    [class.active]=\" order.interface == 'sales-pos'\">\r\n                    <img src=\"assets/img/sale-pos.jpg\" style=\"width: 100%;\" />\r\n                </div>\r\n            </div>\r\n            <div nz-col nzSpan=\"12\" class=\"bottom-left col\">\r\n                <div class=\"border-hover\" (click)=\"order.interface = 'sales-desktop'\"\r\n                    [class.active]=\" order.interface == 'sales-desktop'\">\r\n                    <img src=\"assets/img/sale-desktop.jpg\" style=\"width: 100%;\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal> -->\r\n<!-- modal thông tin tài khoản -->\r\n<app-account-information *ngIf=\"modalAccountInfo\" [modalAccountInfo]=\"modalAccountInfo\" (closeAccount)=\"closeAccountInfo($event)\"></app-account-information>\r\n<!-- ---------------------modal cấu hình------------------- -->\r\n<nz-modal nzCentered nzWidth=\"50vw\" [(nzVisible)]=\"showConfig\" (nzOnCancel)=\"showConfig = false\" [nzTitle]=\"'Other settings' | translate\">\r\n    <ng-container *nzModalContent>\r\n        <nz-list nzSize=\"default\">\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Language'| translate}}</span>\r\n                    <nz-select style=\"width: 100%;\" class=\"select-lang\" [(ngModel)]=\"lang\" (ngModelChange)=\"selectLang($event)\" [nzCustomTemplate]=\"defaultTemplate\">\r\n                        <nz-option *ngFor=\"let item of langList\" nzLabel=\"{{item.name | translate}}\" nzCustomContent [nzValue]=\"item.value\">\r\n                            <img style=\"width: 24px;\" [src]=\"item.img\" /> {{item.name}}\r\n                        </nz-option>\r\n                    </nz-select>\r\n                    <ng-template #defaultTemplate let-selected>\r\n                        <img style=\"width: 24px;\" src=\"assets/icon/settings/language/{{selected.nzValue}}.svg\" /> {{selected.nzLabel}}\r\n                    </ng-template>\r\n                </div>\r\n            </div>\r\n            <div nz-row class=\"row-interface-font\">\r\n                <div nz-col nzSpan=\"12\">\r\n                    <span class='sub-title'> {{'Font size'| translate}}</span>\r\n                    <nz-list-item class=\"no-border\">\r\n                        <nz-select [(ngModel)]=\"fontSize\" (ngModelChange)=\"setFontSize($event)\">\r\n                            <nz-option *ngFor=\"let item of size\" [nzValue]=\"item\" [nzLabel]=\"item\"></nz-option>\r\n                        </nz-select>\r\n                    </nz-list-item>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div nz-row class=\"row\">\r\n                <span class='sub-title'> {{'Color'| translate}}</span>\r\n                <nz-list-item class=\"no-border\">\r\n                    <div id='color-picker'>\r\n                        <div *ngFor=\"let color of themeService.themeList\"\r\n                            class=\"color\"\r\n                            [ngClass]=\"color.theme\"\r\n                            (click)=\"themeService.changeColor(color.theme, $event)\"\r\n                            [style.background-color]=\"color.color\">\r\n                        </div>\r\n                    </div>\r\n                </nz-list-item>\r\n            </div>\r\n        </nz-list>\r\n    </ng-container>\r\n    <ng-container *nzModalFooter>\r\n\r\n    </ng-container>\r\n\r\n</nz-modal>\r\n<!-- modal hiễn thị cấu hình in -->\r\n<app-config-print  [showConfigPrint]=\"showConfigPrint\" (hide)=\"showConfigPrint = false\">\r\n</app-config-print>\r\n<!-- modal hiễn thị cấu hình bán hàng -->\r\n<app-config-sales [showConfigSales]=\"showConfigSales\" (hide)=\"showConfigSales = false\" (openSubScreen)=\"showPortal = $event\"></app-config-sales>\r\n\r\n<!-- ---------------------modal chọn giao diện bán hàng ------------------- -->\r\n<nz-modal [nzStyle]=\"{ top: '45%', transform: 'translateY(-50%)' }\" [nzBodyStyle]=\"{'max-height': '70vh'}\" nzWidth=\"60vw\" [(nzVisible)]=\"show_modal_choose_interface\" (nzOnOk)=\"updateSalesInterface()\" [nzOkDisabled]=\"!default_selling_page\" (nzOnCancel)=\"show_modal_choose_interface = false\" [nzTitle]=\"'Sales interface' | translate\" nzCancelText=\"{{'Cancel' | translate}}\">\r\n    <ng-container *nzModalContent>\r\n        <div nz-row class=\"center-all-content\" style=\"justify-content: start !important;\">\r\n            <div *ngFor=\"let template of templates\" nz-col nzSpan=\"12\" class=\"bottom-right\">\r\n                <div class=\"thumbnail\" (click)=\"default_selling_page = template.url\" [class.active]=\" default_selling_page == template.url\">\r\n                    <img [src]=\"template.image\" style=\"width: 100%;\" />\r\n\r\n                </div>\r\n                <div style=\"text-align: center;\">\r\n                    {{template.name | translate}} <i *ngIf=\"default_selling_page == template.url\" style=\"color: var(--ion-color-vh-green);\" nz-icon nzType=\"check-circle\" nzTheme=\"fill\"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</nz-modal>\r\n<app-user-guide ></app-user-guide>\r\n","import { AccountInformationComponent } from './components/account-information/account-information.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SalesPosComponent } from '../sales-pos/sales-pos.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CreateOrderModule } from './create-order/create-order.module';\r\nimport { LottieModule } from 'ngx-lottie';\r\nimport { playerFactory } from 'src/app/app.module';\r\nimport { ConfigPrintComponent } from './components/config-print/config-print.component';\r\nimport { ConfigSalesComponent } from './components/config-sales/config-sales.component';\r\nimport { UserGuideComponent } from './user-guide/user-guide.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesPosComponent,\r\n  },\r\n  {\r\n    path: 'invoices-pos',\r\n    loadChildren: () => import('./components/invoices-pos/invoices-pos.module').then(m => m.InvoicesPosModule)\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SalesPosComponent,AccountInformationComponent, ConfigPrintComponent, ConfigSalesComponent,UserGuideComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    CreateOrderModule,\r\n    LottieModule.forRoot({ player: playerFactory }),\r\n    // NgxVirtualKeyboardModule\r\n  ]\r\n})\r\nexport class SalesPosModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { VhAuth } from 'ionic-vhframeworks';\r\n\r\n@Component({\r\n  selector: 'app-user-guide',\r\n  templateUrl: './user-guide.component.html',\r\n  styleUrls: ['./user-guide.component.scss']\r\n})\r\nexport class UserGuideComponent implements OnInit {\r\n  isFirstTime:any\r\n  constructor( public vhAuth: VhAuth) { }\r\n\r\n  ngOnInit(): void {\r\n    let isFirstTime = this.vhAuth.localStorageGET(\"isFirstTime_sales_pos\")\r\n    if(isFirstTime) this.isFirstTime = false\r\n    else this.isFirstTime = true\r\n  }\r\n\r\n  done(){\r\n    this.isFirstTime = false\r\n    this.vhAuth.localStorageSET(\"isFirstTime_sales_pos\", true)\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"isFirstTime\">\r\n    <div\r\n    style=\"position: fixed; z-index: 1; height: 100%; width: 100%; bottom: 0; right: 160px; background-color: black; opacity: 0.55;\">\r\n</div>\r\n<div\r\n    style=\"position: fixed; border-top: 2px solid gray; z-index: 1; height: 100%; width: 160px; top: 45px; right: 0; background-color: black; opacity: 0.55;\">\r\n\r\n</div>\r\n<ion-icon style=\"z-index: 3;right: 72px; top: 35px; position: fixed; font-size: 3rem;\"\r\n    src=\"assets/icon/arrow_intro.svg\">\r\n\r\n</ion-icon>\r\n<div\r\n    style=\"background-color: white;padding: 16px;height: 300px;z-index: 2;width: 300px;position: fixed;border-radius: 12px;right: 100px;display: flex;flex-direction: column;border: 1px solid #00a859;top: 55px\">\r\n    <div style=\"height:90%\">\r\n        <b style=\"text-transform: uppercase;\">Chuyển đổi giao diện, xem thông tin</b>\r\n        <p>\r\n            Click chuột để chuyển qua các giao diện\r\n        </p>\r\n        <p>\r\n            - Giao diện quản trị <br>\r\n            - Bán/Đổi Voucher <br>\r\n            - Bán/Đổi Thẻ trả trước <br>\r\n            - Xem video hướng dẫn <br>\r\n            - Xem thông tin <br>\r\n            - Thay đổi chi nhánh <br>\r\n            - Đổi giao diện bán hàng <br>\r\n            - Cài đặt trang bán hàng\r\n\r\n        </p>\r\n    </div>\r\n    <div style=\"text-align: end;\">\r\n        <button (click)=\"done()\" nz-button>Đã hiểu</button>\r\n    </div>\r\n</div>\r\n</div>"],"names":["EventEmitter","SalesA4Component","SalesA5Component","SalesK80Col4Component","SalesK80Col3Component","SalesK57Col3Component","VhType","i0","data_r37","item_r26","i_r125","_r29","ctx_r170","ctx_r172","ctx_r174","ctx_r183","ctx_r177","ctx_r187","ctx_r166","ctx_r190","ctx_r168","ctx_r196","ctx_r197","ctx_r4","ctx_r202","ctx_r206","ctx_r6","ctx_r7","ctx_r8","ctx_r9","ctx_r230","data_r248","ctx_r246","data_r277","ctx_r276","ctx_r16","ctx_r336","ctx_r337","ctx_r338","ctx_r18","CreateOrderComponent","constructor","vhAlgorithm","vhAuth","vhComponent","languageService","router","vhQuerySales","mess","cdf","fncService","nzModalService","plaform","vhQuery","vhDisplayLEDService","vhEinvoice","productService","billService","getLocalAppSettingNameBranch","warning_lot_expried","localStorageGET","display_promotion_selling_price","getlocalTaxs","filter","item","status","discount","fee","payment","cash","getlocalCustomerClasss","getDefaultBranch","_id","management_product_price2","cqt_invoice_auto_sign","cqt_submit_invoice_immediately","JSON","parse","localStorage","getItem","symbol","text","value","auto_active_quantity_input","Date","label","translate","isLeaf","disabled","children","ngOnInit","sales_enable_edit_create_date","getUser","owner","checkLocalMyPermissionName","eventKeypress","observablePrinter","getObservableLocalPrinters","subscribe","localPrinters","printer","getLocalPrintPage","checkPrinter","print_sizes","findIndex","e","print_size_default","enable","Promise","all","getEarningPointsBills","getEarningPointsProducts","then","earning_point_bills","earning_points_products","list_earning_point_bills","list_earning_points_products","customer_group","ngDoCheck","style_template_sub_pos","event","keycode","keyCode","preventDefault","invoice_detail","length","openModalPaymentInfo","document","addEventListener","ngOnDestroy","removeEventListener","closeSyncOpeningBill","ngOnChanges","changes","discount_bill","product_codes","data","previousValue","invoice","payment_coupons","resetDiscountCoupon","updateBill","total","getDataInvoice","isGotPromotion","isLoadData","ngAfterViewChecked","querySelector","heightListInvoiceDetailScroll","clientHeight","showBestSelling","moneyEdit","vhnumeral","detectChanges","init","invoiceDetail","invoiceInfo","employee","getlocalEmployee","id_employee","partner","getlocalCustomer","id_customer","paymentName","setPaymentName","payment_type","debt","debt_enable","id_delivery","getlocalDelivery","name","default_price_type","price_type","invoice_discount","toString","invoice_fee","invoice_payment","invoice_cash","invoice_note","note","invoice_date","date","subTotal","i","total_product_gift","total_products","products_gift","choose","reduce","prev","next","quantity","price","products","taxValue","tax","percent_discount_bill","is","writeBill_BillDetails_toDisplayLEDScreens","isContainServiceTime","updateServiceTime","getBill","getBill_details_byId_bill","discount_coupon","endTime","forEach","index","ptype","SERVICETIME","is_paused","newItem","time_end_order","serviceTimePrice","calculateServiceTimePrice","total_price","price_origin","Object","confirm","nzTitle","nzOkText","nzOnOk","saveBill","emit","nzCancelText","nzCloseIcon","isToday","map","unit","units","getUnit_byRatio","ratio","getClassAndProgramFirstLoad","setTimeout","observableCheckBill","error","billError","id_bill","observableSyncOpeningBill","rsp","console","log","vcode","reloadAllBill","getNameProduct","id_prod","id_subProd","product","getlocalProduct","subFood","subs","find","getSubCombo","arr","subName","type","getlocalWallet","id_wallet","updatePayment","getRawValue","parseFloat","getTotalATax","getElementById","updateCash","setDate","getTime","getStore","registrationdate","alertMessageDesktop","formatDate","getValidityDate","validitydate","save_enable","gotten_gift_type7","handlePromotionType7","bill_details_pmtype_7","resolve","getCreateUpdateInvoicePosInterface","bool","create","catch","err","updateTax","setTotal","updateFee","updateDiscount","getDiscountOfCoupon","code","getCoupon_Code_Name_Release_byCode","date_expire","push","getElementsByTagName","onCloseProductCode","splice","getDiscountBillOfCustomer","getDiscount_bill_byCustomer","editPercentDiscount","getUnit","checkMaxLengthDiscount","slice","checkMaxLengthFee","checkMaxLengthPayment","checkMaxLengthCash","closeAndGetValuePayment","setPaymentType","payInvoice","print","checkMyPermission","getTotalEarningPoint","use_points","earned_points","value_discount_point","updateCustomer_byEarnedPoints","earning_points_bill","promise","Array","updateCouponCode","date_used","asyncPromiseAll","array","handleMinvoice","bill","reject","currentBranch","getlocalBranch","einvoices","_a","cqt_status","invoiceSeries","changeBill_byLocal_toInvoice_byMinvoice","saveInvoice_Sign_byMinvoice","taxcode","token","res","saveInvoice_noSign_byMinvoice","isPaying","updateAllServiceTimeToPause","nzContent","showLoading","updateBill_Billdetail","getCreateUpdateInvoiceDetail","hideLoading","success","bill_code","handlePrint","nzOnCancel","handle","isShowModalPaymentInfo","temp","checkPrint","showModal","renderPrintPage","modal","onWillDismiss","nzIconType","rejects","myTrackByFunction","element","showCustomer","visibleCustomer","cancelVisibleCustomer","customer","getClassAndProgram","eventChangeCustomerType","ev","changeDebt","customer_class","id_customer_class","id_earning_points_bill","program_bill","id_earning_points_product","program_product","point_validity","getlocalCustomerPoints","check","getlocalDiscount_bill","id_discount_bill","is_discount_bill","checkDiscountBill","chooseBestSelling","closeSearchProductList","manylot","id_lotproduct","openModalChooseLot","combos","lots","tempDetail","show_modal_select_lots_combo","price2","show_product_mutil_line_sales","addInvoiceDetail","earning_points_product","getTotalEarningPointProduct","addBill_Detail","searchProductList","closeSearchProductListEmitter","changePriceType","showModalChangePriceType","deletePromotion","updateServiceTimePrice","price_update","getlocalDetailProduct","id_subproduct","id_product","setSubTotal","checkProduct","detail","result","id","getEarningBill","bill_total_minimum","include_promotion_product","getSubTotalNotPromotion","include_discount","include_paid_points","payment_points","include_fee","include_tax","exchange","money","points","id_promotion","getSubTotalNotPromotionOFProduct","products_of_program_earnig_product","getEarningProduct","earning_point","promotion","checkQuantityProduct","toFixed","updateBill_Detail","getCleanBillDetail","openModalOtherDiscount","showModalOtherDiscount","handleOkOtherDiscount","calculatePoint2Money","openEditUnitPrice","isVisibleEditUnitPrice","default_discount_price_type","waitingStack","unit_price","unit_price_discount","editQuantity","showValueEditPrice","getValueDiscount","discount_price_bill_detail","changePercentDiscountBillDetail","percent_discount_product","changeUnit","handleEditUnit","id_bill_detail","handleCancelEditUnit","caculateDiscountPrice_billDetail","changeValueDiscount","deleteGoods","deleteAction","deleteBill_Detail","bill_details","destroyBillDetails_withPromotions","product_gift_type7","gotoInvoices","navigate","showStock","stock","showDeli","delivery","hideDelivery","hide","update","getKeyUp","_event","url","key","barcode_array","toUpperCase","barcode","join","detailproduct","getlocalDetailProduct_byBarcode","nativeElement","blur","_b","handleAddGiftType7","showProductGiftType7","getPromotions","bill_details_type_6","bill_details_others","changeBillDetails_withPromotions","bill_details_display","bill_details_pmtype_0to6","handleChooseLotForPromotion","sortNumberbyASC","getEarningpointPromotion","showToast","min_date_exp","sortDatebyASC","lot_number","findLastIndex","total_bill_value","checkDisableChooseProductGift","promotions_maximum","getLotNumber","lot","searchLot","searchList","changeAlias","list_search_lot","show_modal_select_lots","changeLot","handleChooseLot","lot_select","date_exp","handleCancelChooseLot","handleChooseLotCombo","removeInvoiceDetail","notSetSub","setTaxValue","setPayment","setCash","bill_type","tax_buyerDisplayName","tax_buyerLegalName","tax_buyerTaxCode","_c","tax_buyerAddressLine","_d","tax_buyerEmail","_e","id_branch","pmtype","time_start_order","combo","ele","prod","new_price","toISOString","unshift","createBill_Detail","vhbill_detail","focus","select","getNumbersProduct","sum","updateNote","editServiceTime","selectedServiceTime","updateBillCalculations","isShowModalEditServiceTime","saveServiceTime","Math","max","updateServiceTimePriceInvoiceDetail","handleOpenEditUsedTime","tempStartTime","tempEndTime","isShowModalEditUsedTime","handleUpdateUsedTime","currentTime","stringify","pauseTime","isPause","undefined","willPrintInvoice","getPaymentTypeLabel","wallet","getlocalWallets","nzOptions","selectors","viewQuery","ctx","_r20","_r23"],"sourceRoot":"webpack:///"}