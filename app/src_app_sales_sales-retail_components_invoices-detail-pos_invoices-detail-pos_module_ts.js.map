{"version":3,"file":"src_app_sales_sales-retail_components_invoices-detail-pos_invoices-detail-pos_module_ts.js","mappings":"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","sources":["./src/app/sales/sales-retail/components/invoices-detail-pos/edit/edit.component.ts","./src/app/sales/sales-retail/components/invoices-detail-pos/edit/edit.component.html","./src/app/sales/sales-retail/components/invoices-detail-pos/invoices-detail-pos.component.ts","./src/app/sales/sales-retail/components/invoices-detail-pos/invoices-detail-pos.component.html","./src/app/sales/sales-retail/components/invoices-detail-pos/invoices-detail-pos.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-edit',\r\n  templateUrl: './edit.component.html',\r\n  styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<sales-desktop-bill-type1-edit  [url]=\"'/sales/sales-retail/invoices-pos'\"></sales-desktop-bill-type1-edit>\r\n","import { NzModalService } from 'ng-zorro-antd/modal';\r\nimport { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { SalesA4Component } from 'src/app/sales/components/print/sales/sales-a4/sales-a4.component';\r\nimport { SalesA5Component } from 'src/app/sales/components/print/sales/sales-a5/sales-a5.component';\r\nimport { SalesK80Col4Component } from 'src/app/sales/components/print/sales/sales-k80-col4/sales-k80-col4.component';\r\nimport { SalesK80Col3Component } from 'src/app/sales/components/print/sales/sales-k80-col3/sales-k80-col3.component';\r\nimport { SalesK57Col3Component } from 'src/app/sales/components/print/sales/sales-k57-col3/sales-k57-col3.component';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\nimport { FunctionService } from 'src/app/sales/services/function.service';\r\nimport { VhSaleInvoiceDetailEdit, VhSaleInvoiceEdit } from 'src/app/sales/components/bill-type/bill-type-1/sales-desktop/sales-desktop-interface';\r\nimport { ProductService } from 'src/app/sales/services/product.service';\r\nimport { VhType } from 'src/app/sales/interface/vh-type';\r\n\r\n@Component({\r\n  selector: 'app-invoices-detail-pos',\r\n  templateUrl: './invoices-detail-pos.component.html',\r\n  styleUrls: ['./invoices-detail-pos.component.scss']\r\n})\r\nexport class InvoicesDetailPosComponent {\r\n  display_promotion_selling_price: boolean = this.vhQuerySales.getLocalAppSettingNameBranch('permission_branch').display_promotion_selling_price\r\n  subTotal = 0;\r\n  taxValue = 0\r\n  tableHeight: string;\r\n  public invoiceInfo: any;\r\n  invoice_detail: VhSaleInvoiceDetailEdit[]\r\n  public invoice: VhSaleInvoiceEdit\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state.dataRestore;\r\n  show_discount_product = this.vhAuth.localStorageGET(\"show_discount_product\");\r\n  public VhType = VhType;\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    public vhQuerySales: VhQuerySales,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private vhComponent: VhComponent,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private cdRef: ChangeDetectorRef,\r\n    private mess: NzMessageService,\r\n    private modal: NzModalService,\r\n    private fncService: FunctionService,\r\n    public productService: ProductService,\r\n  ) {\r\n    this.getDataInvoice(this.router.getCurrentNavigation().extras.state.id)\r\n\r\n\r\n  }\r\n\r\n  init(invoice: VhSaleInvoiceEdit = null, invoiceDetail: VhSaleInvoiceDetailEdit[] = null) {\r\n    this.invoice = invoice\r\n    this.invoice_detail = invoiceDetail\r\n    if (invoice && invoiceDetail) {\r\n      this.invoiceInfo = {\r\n        employee: this.vhAuth.getlocalEmployee(this.invoice.id_employee),\r\n        partner: this.vhQuerySales.getlocalCustomer(this.invoice.id_customer),\r\n        paymentName: this.setPaymentName(this.invoice.payment_type)\r\n      }\r\n    } else this.invoiceInfo = { employee: {}, partner: {}, paymentName: '' }\r\n    this.setSubTotal()\r\n  }\r\n  setSubTotal() {\r\n    let subTotal = 0;\r\n    for (let i of this.invoice_detail) {\r\n      subTotal += (i.price ? i.price * i.quantity : 0)\r\n    }\r\n    this.subTotal = subTotal;\r\n  }\r\n\r\n  private getDataInvoice(id) {\r\n    this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n      Promise.all([\r\n        this.vhQuerySales.getBill(id),\r\n        this.vhQuerySales.getBill_details_byId_bill(id)\r\n      ]).then(([invoice, invoiceDetail]: any) => {\r\n\r\n        invoiceDetail = this.vhAlgorithm.sortVietnamesebyASC(invoiceDetail, 'name');\r\n        this.init(invoice, invoiceDetail)\r\n        this.vhComponent.hideLoading(0)\r\n      })\r\n    })\r\n  }\r\n\r\n  getUnit(units: any[], ratio) {\r\n    return this.vhQuerySales.getUnit_byRatio(units,ratio).unit\r\n  }\r\n\r\n  getLotNumber(lots, _id){\r\n    let lot = lots.find(item => item._id == _id)\r\n    return lot.lot_number + '\\n' + this.fncService.formatDate(lot.date_mfg) + ' - ' +  this.fncService.formatDate(lot.date_exp)\r\n  }\r\n  deleteInvoice() {\r\n    if (this.vhAuth.checkMyPermission(\"sell_enable_cancel_bill\")) {\r\n      this.vhComponent.alertConfirm(this.languageService.translate(\"Confirm\"), \"\", `${this.languageService.translate(\"Are you sure to cancel the sales invoice\")}?`, \"OK\", this.languageService.translate(\"Cancel\"))\r\n        .then(() => {\r\n          this.vhComponent.showLoading(\"\", \"transparent-loading\").then(() => {\r\n            this.vhQuerySales.deleteBill_Billdetail(this.invoice._id).then(() => {\r\n              if (this.invoice.earning_points_bill) this.vhQuerySales.updateCustomer_byEarnedPoints(this.invoice.id_customer,  this.invoice.earning_points_bill*(-1))\r\n              this.vhComponent.hideLoading(0).then(() => {\r\n                this.mess.success(`${this.languageService.translate(\"Sales invoice\")} ${this.invoice.bill_code} ${this.languageService.translate(\"has been cancelled successfully\")}`)\r\n\r\n                this.router.navigate(['/sales/sales-retail/invoices-pos'], { state: this.dataRestore })\r\n              })\r\n            })\r\n          })\r\n        }, () => { })\r\n    } else this.mess.error(this.languageService.translate('You do not have this rights'))\r\n  }\r\n  public setPaymentName(type: 1 | 2 | 3) {\r\n    switch (type) {\r\n      case 1: return this.languageService.translate(\"Cash\")\r\n      case 2: return this.languageService.translate(\"Debit\")\r\n      case 3: return this.vhQuerySales.getlocalWallet(this.invoice.id_wallet).name\r\n    }\r\n  }\r\n  public renderAddress(partner) {\r\n    return (partner.address ? partner.address : '') +\r\n      (partner.district ? ', ' + partner.district : '') +\r\n      (partner.province ? ', ' + partner.province : '') +\r\n      (partner.country ? ', ' + partner.country : '')\r\n  }\r\n  public goToCart() {\r\n    this.router.navigate(['/sales/sales-retail'], { state: { invoiceDetail: this.invoice_detail, invoice: this.invoice } })\r\n  }\r\n   /**\r\n   * lấy thông tin dữ liệu trang in\r\n   * @returns Promise<any>\r\n   * @example this.checkPrint()\r\n   */\r\n  checkPrint() {\r\n    return new Promise((resolve, rejects) => {\r\n      let printer = this.vhQuerySales.getLocalPrintPage('page_desktop_sales')\r\n      if (printer) resolve(printer)\r\n      else rejects(false)\r\n    })\r\n  }\r\n\r\n  printInvoice() {\r\n    this.checkPrint().then((printer: any) => {\r\n      if (printer)\r\n        this.vhComponent.showModal(this.renderPrintPage(printer.print_size_default), { printer: { ...printer.print_sizes[printer.print_sizes.findIndex(e => e._id == printer.print_size_default)], name: \"Sales\" }, invoice: this.invoice , invoice_detail : this.invoice_detail }, false, false, `modal-print-${printer.print_size_default}`)\r\n    }, (err) => {\r\n      this.modal.confirm({\r\n        nzTitle: '<i>' + this.languageService.translate(\"Function\") + '</i>',\r\n        nzContent: '<b>' + this.languageService.translate(\"Please open the function in\") + ' ' + '<i>' + '\"' + this.languageService.translate(\"Sales page settings\") + '\"' + '</i>' + ' ' + ' -> ' + '<i>' + '\"' + this.languageService.translate('Print page') + '\"' + '</i>' + '</b>',\r\n        nzIconType: \"info-circle\",\r\n        nzCancelText: null,\r\n        nzOnOk: () => {}\r\n      });\r\n    })\r\n  }\r\n\r\n  /**\r\n   * trả về component của trang in tương ứng\r\n   * @example this.renderPrintPage('print_size_a4')\r\n   * @returns component\r\n   */\r\n  private renderPrintPage(type: 'print_size_a4' | 'print_size_a5' | 'print_size_k80_4c' | 'print_size_k80_3c' | 'print_size_k57_3c') {\r\n    switch (type) {\r\n      case 'print_size_k57_3c': return SalesK57Col3Component\r\n      case 'print_size_k80_3c': return SalesK80Col3Component\r\n      case 'print_size_k80_4c': return SalesK80Col4Component\r\n      case 'print_size_a5': return SalesA5Component\r\n      case 'print_size_a4': return SalesA4Component\r\n      default: return SalesA4Component\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigate(['/sales/sales-retail/invoices-pos'], { state: this.dataRestore });\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.getElementById('pos-invoice-detail-today') && document.querySelector(\".ant-table-thead\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.getElementById('pos-invoice-detail-today').clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".ant-table-pagination\").clientHeight - 40 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n\r\n  editInvoice(){\r\n    this.router.navigate([\"/sales/sales-retail/invoices-pos/invoices-detail-pos/edit\"],{ state: { invoiceDetail: this.invoice_detail, invoice: this.invoice, dataRestore: this.dataRestore } })\r\n  }\r\n\r\n}\r\n","<div class=\"layout-grid\" *ngIf=\"invoice\">\r\n\r\n  <div class=\"sales-cart-header\" nz-row>\r\n    <div nz-col nzSpan=\"2\" class=\"row-back medium-size\" (click)=\"goBack()\">\r\n      <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n    </div>\r\n    <div nz-col nzSpan=\"6\" class=\"title\">\r\n      <b>{{'Sales order' | translate}}</b>\r\n    </div>\r\n    <div nz-col nzSpan=\"16\" class=\"right-all-content\">\r\n      <button (click)=\"printInvoice()\" class=\"btn-data nz-hover-border\" nz-button nzType=\"default\">\r\n        <ion-icon style=\"margin-right: 5px;\" src=\"assets/icon/management/printer.svg\"></ion-icon>\r\n        {{'Print' | translate}}\r\n      </button>\r\n      <button [disabled]=\"invoice.bill_type == 4\" (click)=\"editInvoice()\" class=\"btn-data nz-hover-border \" nz-button\r\n        nzType=\"default\">\r\n        <!-- <ion-icon style=\"margin-right: 5px;\" name=\"edit-outline\"></ion-icon> -->\r\n        <span  style=\"margin-right: 5px;\" nz-icon nzType=\"edit\" nzTheme=\"outline\"></span>\r\n        {{'Edit' | translate}}\r\n      </button>\r\n      <button [disabled]=\"invoice.bill_type == 4\" (click)=\"deleteInvoice()\" class=\"btn-data nz-hover-border \" nz-button\r\n        nzType=\"default\">\r\n        <ion-icon style=\"margin-right: 5px;\" name=\"trash-outline\"></ion-icon>\r\n        {{'Delete' | translate}}\r\n      </button>\r\n    </div>\r\n\r\n  </div>\r\n  <nz-layout id=\"pos-invoice-detail-today\">\r\n    <div class=\"sales\" nz-col nzSpan=\"20\">\r\n      <div class=\"sales-cart\">\r\n\r\n        <div class=\"hideScrollbar sales-cart-invoiceDetail\">\r\n          <div class=\"invoiceDetail-item\">\r\n            <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoice_detail\" #rowSelectionTable nzShowSizeChanger\r\n              nzNoResult=\"{{'No data' | translate}}\">\r\n              <thead>\r\n                <tr>\r\n                  <th nzWidth=\"35%\"><b>{{'Product name' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='center'><b>{{'Unit' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='center'><b>{{'Quantity' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" nzAlign='right'><b>{{'Unit price' | translate}}</b></th>\r\n                  <th nzWidth=\"15%\" *ngIf=\"show_discount_product\" nzAlign='right'><b>{{'Discount value' | translate}}</b></th>\r\n                  <th nzWidth=\"20%\" nzAlign='right'><b>{{'Total' | translate}}</b></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <ng-container *ngFor=\"let item of rowSelectionTable.data\">\r\n                  <ng-container *ngIf=\"item.id_promotion\">\r\n                    <tr style=\"cursor: pointer;\">\r\n                      <td colspan=\"5\"><b>{{item.name}}</b></td>\r\n                    </tr>\r\n                    <tr style=\"cursor: pointer;\" *ngFor=\"let data of item.products\">\r\n                      <td>\r\n                        <div>{{data.name}}</div> <br>\r\n                        <ng-container *ngIf=\"data.lots\">\r\n                          <pre>{{getLotNumber(data.lots, data.id_lotproduct)}}</pre> <br>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"data.combos\">\r\n                          <span class=\"sub-name\" *ngFor=\"let combo of data.combos\">\r\n                            {{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}})\r\n                            <ng-container *ngIf=\"combo.lots\">\r\n                              <pre\r\n                                style=\"font-size:0.7rem !important; \">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</pre>\r\n                            </ng-container>,\r\n                          </span>\r\n                        </ng-container>\r\n                      </td>\r\n                      <td nzAlign='center'>\r\n                        {{getUnit(data.units, data.ratio)}}\r\n                      </td>\r\n                      <td nzAlign='center'>{{data.quantity}}</td>\r\n                      <td nzAlign='right'>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                        <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                          {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                        </del>\r\n                      </td>\r\n                      <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                      <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                    </tr>\r\n                    <tr style=\"cursor: pointer;\" *ngFor=\"let data of item.products_gift\">\r\n                      <td>{{data.name}} <i>({{'Gift' | translate}})</i><br>\r\n                        <ng-container *ngIf=\"data.lots\">\r\n                          {{getLotNumber(data.lots, data.id_lotproduct)}} <br>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"data.combos\">\r\n                          <span class=\"sub-name\" *ngFor=\"let combo of data.combos\">{{combo.quantity}}x {{combo.name}}\r\n                            ({{getUnit(combo.units,combo.ratio)}})\r\n                            <ng-container *ngIf=\"combo.lots\">\r\n                              <pre\r\n                                style=\"font-size:0.7rem !important;\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</pre>\r\n                            </ng-container>, </span>\r\n                        </ng-container>\r\n                      </td>\r\n                      <td nzAlign='center'>\r\n                        {{getUnit(data.units, data.ratio)}}\r\n                      </td>\r\n                      <td nzAlign='center'>{{data.quantity}}</td>\r\n                      <td nzAlign='right'>\r\n                        {{vhAlgorithm.vhcurrencyunit(data.price)}}\r\n                        <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                          {{data.price_origin > data.price ? vhAlgorithm.vhcurrencyunit(data.price_origin) : ''}}\r\n                        </del>\r\n                      </td>\r\n                      <td nzAlign='center' *ngIf=\"show_discount_product\"></td>\r\n                      <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(data.quantity * data.price)}}</b></td>\r\n                    </tr>\r\n                  </ng-container>\r\n\r\n                  <tr style=\"cursor: pointer;\" *ngIf=\"!item.id_promotion\">\r\n                    <td>\r\n                      <div>{{item.name}}</div>\r\n                      <ng-container *ngIf=\"item.id_lotproduct\">\r\n                        <pre>{{getLotNumber(item.lots, item.id_lotproduct)}} </pre>\r\n                      </ng-container>\r\n\r\n                      <ng-container *ngIf=\"item.combos\">\r\n                        <span class=\"sub-name\" *ngFor=\"let combo of item.combos\">\r\n                          {{combo.quantity}}x {{combo.name}} ({{getUnit(combo.units,combo.ratio)}})\r\n                          <ng-container *ngIf=\"combo.lots\">\r\n                            <pre\r\n                              style=\"font-size:0.7rem !important;\">{{getLotNumber(combo.lots, combo.id_lotproduct)}}</pre>\r\n                          </ng-container>, </span>\r\n                      </ng-container>\r\n\r\n                      <!-- Hàng thời gian -->\r\n                      <div *ngIf=\"item.ptype === VhType.SERVICETIME\" class=\"bill-detail-area-item-time\">\r\n                          <div class=\"delete-btn\"></div>\r\n                          <p *ngIf=\"item.time_start_order\">{{'Started at' | translate}}: {{item.time_start_order | date : 'HH:mm:ss dd/MM/yyyy'}}</p>\r\n                          <p *ngIf=\"item.time_end_order\">\r\n                              {{'_Ended at' | translate}}: {{item.time_end_order | date : 'HH:mm:ss dd/MM/yyyy'}}\r\n                          </p>\r\n                          <ng-container *ngIf=\"productService.generateTimeUseString(item.time_start_order, item.time_end_order) as usedTime\">\r\n                              <p>{{ 'Used' | translate }}: {{ usedTime }}</p>\r\n                          </ng-container>\r\n                      </div>\r\n                    </td>\r\n                    <td nzAlign='center'>\r\n                      <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">{{getUnit(item.units, item.ratio)}}</ng-container>\r\n                    </td>\r\n                    <td nzAlign='center'><ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">{{item.quantity}}</ng-container></td>\r\n                    <td nzAlign='right'>\r\n                      <ng-container *ngIf=\"item.ptype !== VhType.SERVICETIME\">\r\n                        {{vhAlgorithm.vhcurrencyunit(item.price)}}\r\n                        <del style=\"font-size: 0.7rem;\" *ngIf=\"display_promotion_selling_price\">\r\n                          {{item.price_origin > item.price ? vhAlgorithm.vhcurrencyunit(item.price_origin) : ''}}\r\n                        </del>\r\n                      </ng-container>\r\n                    </td>\r\n                    <td nzAlign='center' *ngIf=\"show_discount_product\">{{(item.price_origin > item.price ? ((1 -\r\n                      item.price/item.price_origin)*100) : 0) | number:'1.0-2'}}%</td>\r\n                    <td nzAlign='right'><b>{{vhAlgorithm.vhcurrencyunit(item.quantity * item.price)}}</b></td>\r\n                  </tr>\r\n                </ng-container>\r\n\r\n\r\n              </tbody>\r\n            </nz-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"sales-bills\" [ngClass]=\"invoice.bill_type == 5 ? 'continue-sell' : 'not-continue-sell'\">\r\n        <div nz-row class=\"sales-bills-staff hideScrollbar\">\r\n          <div>\r\n            <b>{{'Invoice code' | translate}}</b>\r\n            <div> {{invoice.bill_code}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Salesman' | translate}}</b>\r\n            <div>{{invoiceInfo.employee.name}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Sales date' | translate}}</b>\r\n            <div>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</div>\r\n          </div>\r\n          <div>\r\n            <b>{{'Delivery' | translate}}</b>\r\n            <div>{{invoiceInfo['delivery'] ? invoiceInfo['delivery'] : \"None\" | translate}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"sales-bills-customer hideScrollbar\" nz-row>\r\n          <b>{{'Customer information' | translate}}</b>\r\n          <div *ngIf=\"invoiceInfo.partner._id == 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{invoiceInfo.partner.name | translate}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{invoiceInfo.partner.name | translate}} - {{invoiceInfo.partner.phone}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id != 'id_retail'\" nz-col nzSpan=\"24\">\r\n            {{renderAddress(invoiceInfo.partner)}}\r\n          </div>\r\n          <div *ngIf=\"invoiceInfo.partner._id == 'id_retail' && invoice.retail_name\" nz-col nzSpan=\"24\">\r\n            {{invoice.retail_name}} - {{invoice.retail_phone}} {{invoice.retail_address ? '-':\r\n            ''}} {{invoice.retail_address}}\r\n          </div>\r\n        </div>\r\n        <div class=\"sales-bills-content hideScrollbar\" nz-row>\r\n          <b>{{'Payment information' | translate}}</b>\r\n          <!-- <div nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_discount_invoice') && invoice.getDiscountInvoice() >= 0\">\r\n            <div>{{'Discount' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.getDiscountInvoice())}}</div>\r\n        </div> -->\r\n          <div nz-col nzSpan=\"24\">\r\n            <span>{{'SubTotal' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(subTotal)}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\" *ngIf=\"invoice.discount_bill\">\r\n            <span>{{'Discount' | translate}}\r\n            </span>\r\n\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount_bill)}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-discount\" nz-col nzSpan=\"24\">\r\n            <span>{{'Discount value' | translate}}\r\n            </span>\r\n            <span>{{(invoice.discount/subTotal)*100 || 0 | number :'1.0-2'}}%</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.discount)}}</div>\r\n          </div>\r\n\r\n          <div *ngIf=\"invoice.payment_points\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n            <div>{{'Point payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_points)}}</div>\r\n          </div>\r\n          <div *ngIf=\"invoice.payment_coupons\" class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n            <div>{{'Coupon payment' | translate}}</div>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.payment_coupons)}}</div>\r\n          </div>\r\n\r\n          <div class=\"sales-bills-content-fee\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_fee')\">\r\n            <span>{{'Fee' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.fee)}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-tax\" nz-col nzSpan=\"24\" *ngIf=\"vhAuth.localStorageGET('show_tax')\">\r\n            <span>{{'Tax' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhpercent(invoice.tax/100)}}</div>\r\n            <div>\r\n              {{vhAlgorithm.vhcurrencyunit(invoice.total * (invoice.tax / 100))}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-total\" nz-col nzSpan=\"24\">\r\n            <span>{{'Total' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit(invoice.total)}}</div>\r\n\r\n          </div>\r\n          <div class=\"sales-bills-content-pay\" nz-col nzSpan=\"24\">\r\n            <span>{{'Pay' | translate}}</span>\r\n            <div>{{vhAlgorithm.vhcurrencyunit_symbol(invoice.payment)}}</div>\r\n\r\n          </div>\r\n          <div class=\"sales-bills-content-rest\" nz-col nzSpan=\"24\">\r\n            <span>{{'Rest' | translate}}</span>\r\n            <div style=\"color: var(--ion-color-vh-red);\">{{vhAlgorithm.vhcurrencyunit_symbol(invoice.total *\r\n              (1+invoice.tax / 100) -\r\n              invoice.payment)}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-payment_type\" nz-col nzSpan=\"24\">\r\n            <span>{{'Payment method' | translate}}</span>\r\n            <div>{{setPaymentName(this.invoice.payment_type)}}</div>\r\n          </div>\r\n          <div class=\"sales-bills-content-note\" nz-col nzSpan=\"24\">\r\n            <span>{{'Note' | translate}}</span>\r\n            <div>{{invoice.note}}</div>\r\n          </div>\r\n        </div>\r\n        <div *ngIf=\"invoice.bill_type == 5\" nz-row class=\"sales-bills-button\">\r\n          <div nz-col nzSpan=\"24\">\r\n            <button nz-button class=\"button payment-print\" (click)=\"goToCart()\">{{'Continue to sell...'\r\n              |translate}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nz-layout>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InvoicesDetailPosComponent } from '../invoices-detail-pos/invoices-detail-pos.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { SalesDesktopBillType1Module } from 'src/app/sales/components/bill-type/bill-type-1/sales-desktop/sales-desktop-bill-type1.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InvoicesDetailPosComponent,\r\n  },\r\n  {\r\n    path: 'edit',\r\n    component: EditComponent,\r\n  }\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InvoicesDetailPosComponent,\r\n    EditComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    SalesDesktopBillType1Module\r\n  ]\r\n})\r\nexport class InvoicesDetailPosModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}