{"version":3,"file":"src_app_sales_sales-retail_components_invoices-pos_invoices-pos_module_ts.js","mappings":"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","sources":["./src/app/sales/sales-retail/components/invoices-pos/invoices-pos.component.ts","./src/app/sales/sales-retail/components/invoices-pos/invoices-pos.component.html","./src/app/sales/sales-retail/components/invoices-pos/invoices-pos.module.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { VhAlgorithm, VhAuth, VhQuery, VhQuerySales } from 'ionic-vhframeworks';\r\nimport { VhSaleInvoiceEdit } from 'src/app/sales/components/bill-type/bill-type-1/sales-desktop/sales-desktop-interface';\r\nimport { VhComponent } from 'src/app/sales/components/vh-component/vh-component';\r\nimport { LanguageService } from 'src/app/sales/services/language.service';\r\n\r\n@Component({\r\n  selector: 'app-invoices-pos',\r\n  templateUrl: './invoices-pos.component.html',\r\n  styleUrls: ['./invoices-pos.component.scss']\r\n})\r\nexport class InvoicesPosComponent implements OnInit {\r\n\r\n  public searchValue: string = ''\r\n  public invoiceShow: any[] = []\r\n  public invoiceToday: any[];\r\n  tableHeight: string;\r\n  startTime: Date = new Date()\r\n  endTime: Date = new Date()\r\n  dataRestore: any = this.router.getCurrentNavigation().extras.state\r\n  constructor(\r\n    private vhQuery: VhQuery,\r\n    private router: Router,\r\n    private vhQuerySales: VhQuerySales,\r\n    public vhAlgorithm: VhAlgorithm,\r\n    private vhComponent: VhComponent,\r\n    private languageService: LanguageService,\r\n    public vhAuth: VhAuth,\r\n    private cdRef: ChangeDetectorRef\r\n  ) {\r\n    this.startTime.setHours(0, 0, 0, 0);\r\n    this.endTime.setHours(23, 59, 59, 59);\r\n  }\r\n  listFilter: Array<any> = [{ value: 1, name: \"Latest\" }, { value: 2, name: \"Oldest\" }, { value: 3, name: \"Low to High value\" }, { value: 4, name: \"High to Low value\" }]\r\n  ngOnInit() {\r\n    if (this.dataRestore) {\r\n      this.searchValue = this.dataRestore.searchValue\r\n    }\r\n    if (!this.invoiceToday) this.vhComponent.showLoading(\"\", \"transparent-loading\", null, 0, false).then(() => this.getInvoiceToday())\r\n    else this.getInvoiceToday()\r\n  }\r\n\r\n  getInvoiceToday(filterType?) {\r\n    this.vhQuerySales.getBills_byFields( { date: { $gte: this.startTime, $lte: this.endTime }, bill_type: { $in: [1, 4] }, id_branch: { $eq: this.vhQuerySales.getDefaultBranch()._id }, id_shop: { $eq: 'local' } }, {})\r\n      .then((invoice: VhSaleInvoiceEdit[]) => {\r\n        if (!this.invoiceToday) this.vhComponent.hideLoading(0)\r\n\r\n        this.invoiceToday = invoice.map(item => {\r\n          return { ...item, partner_name: this.renderPartner(item.id_customer), payment_name: this.renderPayment(item.payment_type, item.id_wallet),\r\n            status: this.renderStatus(item.bill_type), employee_name: this.vhAuth.getlocalEmployee(item.id_employee).name, phone: this.vhAuth.getlocalEmployee(item.id_employee).phone ,\r\n            debt_value : this.getDebtValue(item.total, item.tax, item.payment), sum_price : item.total * (1+item.tax/100)}\r\n        })\r\n\r\n         this.searchBill(this.searchValue);\r\n      })\r\n  }\r\n  getDebtValue(total, tax, payment){\r\n    return (parseFloat(parseFloat((total*(1+tax/100)).toString()).toFixed(0))  - payment)\r\n  }\r\n\r\n  renderStatus(bill_type: 1 | 4 | 5|36) {\r\n    switch (bill_type) {\r\n      case 5: return this.languageService.translate('Temporary')\r\n      case 4: return this.languageService.translate('Cancelled')\r\n      default: return this.languageService.translate('Sold')\r\n    }\r\n  }\r\n  renderPartner(id_partner: string) {\r\n    let customer: string = this.languageService.translate(this.vhQuerySales.getlocalCustomer(id_partner).name)\r\n\r\n    return customer ? customer : this.languageService.translate(\"Not found\")\r\n  }\r\n  renderPayment(payment_type: 1 | 2 | 3, id_wallet: string = null) {\r\n    switch (payment_type) {\r\n      case 1: return this.languageService.translate('Cash')\r\n      case 2: return this.languageService.translate('Debit')\r\n      case 3: return this.vhQuerySales.getlocalWallet(id_wallet).name\r\n    }\r\n  }\r\n  searchBill(value: string) {\r\n    if (value.length) {\r\n      let val: string = this.vhAlgorithm.changeAlias(value.trim().toLowerCase())\r\n      this.invoiceShow = this.vhAlgorithm.searchList(val, this.invoiceToday, ['bill_code', 'partner_name', 'employee_name', 'payment_name', 'status', 'phone'])\r\n    } else this.invoiceShow = [...this.invoiceToday]\r\n  }\r\n  /* -----Pagination----- */\r\n  onCurrentPageDataChange(value) {\r\n  }\r\n\r\n  goToDetail(id) {\r\n    let dataRestore = { searchValue: this.searchValue  }\r\n    if (this.vhAuth.checkMyPermission(\"sales_enable_view_bill_today\")) this.router.navigate([\"/sales/sales-retail/invoices-pos/invoices-detail-pos\"], { state: { id: id, dataRestore } })\r\n    else this.vhComponent.showToast(1500, this.languageService.translate('You do not have this rights'), \"alert-toast\")\r\n  }\r\n  ngAfterViewChecked() {\r\n    if (document.querySelector(\"#pos-invoice-today\") && document.querySelector(\".ant-table-thead\") && document.querySelector(\".pos-invoice-today-header\") && document.querySelector(\".ant-table-pagination\")) {\r\n      this.tableHeight = document.querySelector(\"#pos-invoice-today\").clientHeight - document.querySelector(\".ant-table-thead\").clientHeight\r\n        - document.querySelector(\".pos-invoice-today-header\").clientHeight - document.querySelector(\".ant-table-pagination\").clientHeight - 80 + \"px\";\r\n    }\r\n    this.cdRef.detectChanges();\r\n  }\r\n  //back\r\n  goBack() {\r\n    this.router.navigate(['/sales/sales-retail'], { state: { isSync: true } });\r\n  }\r\n\r\n\r\n  /** hàm sort cho các cột */\r\n  dateCol = false;\r\n  bill_codeCol = false;\r\n  partner_nameCol = false;\r\n  payment_nameCol = false;\r\n  name_employeeCol = false;\r\n  sum_priceCol = false;\r\n  /** Hàm thực hiện sắp xếp theo collection\r\n   *\r\n   * @param colName       // tên cột muôn sắp xếp\r\n   */\r\n  sortTable(colName){\r\n    switch (colName) {\r\n      case 'date':\r\n        if(this.dateCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortDatebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'bill_code':\r\n        if(this.bill_codeCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'partner_name':\r\n        if(this.partner_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'payment_name':\r\n        if(this.payment_nameCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'name_employee':\r\n        if(this.name_employeeCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortVietnamesebyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n      case 'sum_price':\r\n        if(this.sum_priceCol){\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyASC([...this.invoiceShow], colName);\r\n        }else{\r\n          this.invoiceShow = this.vhAlgorithm.sortNumberbyDESC([...this.invoiceShow], colName);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","<nz-layout id=\"pos-invoice-today\">\r\n    <div class=\"pos-invoice-today-header\" nz-row>\r\n        <div nz-col nzSpan=\"2\" style=\"display: flex;align-items: center;cursor: pointer;\" (click)=\"goBack()\">\r\n            <i nz-icon nzType=\"left\" nzTheme=\"outline\"></i>{{\"Back\" | translate}}\r\n        </div>\r\n        <div nz-col nzSpan=\"5\" class=\"title left-all-content\">\r\n            <b>{{'Invoices' | translate}}</b>\r\n        </div>\r\n        <div nz-col nzSpan=\"17\" class=\"right-all-content\">\r\n            <nz-input-group [nzSuffix]=\"suffixIconSearch\" id=\"keySearch\">\r\n                <input #box [(ngModel)]=\"searchValue\" (ngModelChange)=\"searchBill($event)\" type=\"text\" nz-input\r\n                    placeholder=\"{{'Search for invoice code, customer name, payment, status,phone' | translate}}\"/>\r\n            </nz-input-group>\r\n            <ng-template #suffixIconSearch>\r\n                <i nz-icon nzType=\"search\"></i>\r\n            </ng-template>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n    <div nz-row *ngIf=\"!invoiceShow.length\" style=\"height: 100%;\">\r\n        <div nz-col nzSpan=\"24\" class=\"center-all-content\">\r\n            <p>{{'No invoice today' | translate}}</p>\r\n        </div>\r\n    </div>\r\n    <div *ngIf=\"invoiceShow.length\" style=\"margin-top: 16px;\">\r\n        <div class='total-item'>{{'Total' |translate}}<span style=\"color:var(--ion-color-vh-red)\">\r\n                {{invoiceShow.length}}\r\n            </span>{{'invoices today' | translate}}\r\n        </div>\r\n        <nz-table [nzScroll]=\"{ y: tableHeight }\" [nzData]=\"invoiceShow\" #tableSales nzShowPagination nzShowSizeChanger\r\n            nzNoResult=\"{{'No invoice today' | translate}}\" (nzCurrentPageDataChange)=\"onCurrentPageDataChange($event)\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"dateCol = !dateCol;sortTable('date')\">\r\n                        <b>{{'Date' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"dateCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"bill_codeCol = !bill_codeCol;sortTable('bill_code')\">\r\n                        <b>{{'Invoice code' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"bill_codeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"partner_nameCol = !partner_nameCol;sortTable('partner_name')\">\r\n                        <b>{{'Customer' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"partner_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"payment_nameCol = !payment_nameCol;sortTable('payment_name')\">\r\n                        <b>{{'Payment method' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"payment_nameCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"14%\" nzAlign='left' (click)=\"name_employeeCol = !name_employeeCol;sortTable('name_employee')\">\r\n                        <b>{{'Employee' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"name_employeeCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Note' | translate}}</b></th>\r\n                    <th nzWidth=\"15%\" nzAlign='left'><b>{{'Status' | translate}}</b></th>\r\n                    <th style=\"cursor: pointer;\" nzWidth=\"15%\" nzAlign='right' (click)=\"sum_priceCol = !sum_priceCol;sortTable('sum_price')\">\r\n                        <b>{{'Total' | translate}}</b>\r\n                        <i nz-icon [nzType]=\"sum_priceCol == true ? 'caret-down':'caret-up'\" nzTheme=\"outline\"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let invoice of tableSales.data\" style=\"cursor: pointer;\" (click)=\"goToDetail(invoice._id)\">\r\n                    <td nzAlign='left'>{{invoice.date | date: 'dd/MM/yyyy HH:mm'}}</td>\r\n                    <td nzAlign='left'>{{invoice.bill_code}}</td>\r\n                    <td nzAlign='left'>{{invoice.partner_name | translate}}\r\n                        <br>\r\n                                <span *ngIf=\"invoice.retail_name\">({{invoice.retail_name}} - {{invoice.retail_phone}} - {{invoice.retail_address}})</span>\r\n                    </td>\r\n                    <td nzAlign='left'>{{invoice.payment_name}} <span *ngIf=\"(invoice.total*(1+invoice.tax/100) - invoice.payment ) != 0 && invoice.payment_type !=2\"> -\r\n                        {{'Rest'|translate}} <b>{{vhAlgorithm.vhcurrencyunit(invoice.debt_value)}}</b>\r\n                    </span></td>\r\n                    <td nzAlign='left'>{{invoice.employee_name}}</td>\r\n                    <td nzAlign='left'>{{invoice.note}}</td>\r\n                    <td nzAlign='left'\r\n                        [ngStyle]=\"{'color': invoice.bill_type == 4 ? 'var(--ion-color-vh-red)': 'var(--ion-color-vh-black)'}\">\r\n                        {{invoice.status}}</td>\r\n                    <td class=\"money-right\">\r\n                        {{vhAlgorithm.vhcurrencyunit_symbol(invoice.total*(1+invoice.tax/100))}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </nz-table>\r\n    </div>\r\n</nz-layout>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InvoicesPosComponent } from '../invoices-pos/invoices-pos.component';\r\nimport { NgZorroAntModule } from 'src/app/ng-zorro-ant.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { KeyboardModule } from 'src/app/sales/keyboard/keyboard.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InvoicesPosComponent,\r\n  },\r\n  {\r\n    path: 'invoices-detail-pos',\r\n    loadChildren: () => import('../invoices-detail-pos/invoices-detail-pos.module').then(m => m.InvoicesDetailPosModule)\r\n  },\r\n]\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InvoicesPosComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    NgZorroAntModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    KeyboardModule\r\n\r\n  ]\r\n})\r\nexport class InvoicesPosModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}